
<html><head><title>Introduction to OCEAN XL Commands</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="shubh" />
<meta name="CreateDate" content="2020-09-15" />
<meta name="CreateTime" content="1600236517" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the OCEAN XL commands that can be used to create set up and run simulations for Analog Design Environment XL." />
<meta name="DocTitle" content="OCEAN XL Reference" />
<meta name="DocType" content="SKILL Reference" />
<meta name="FileTitle" content="Introduction to OCEAN XL Commands" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.2.1" />
<meta name="Keyword" content="ocnxl" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2020-09-15" />
<meta name="ModifiedTime" content="1600236517" />
<meta name="NextFile" content="ocnxlcommands.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="preface.html" />
<meta name="c_product" content="Virtuoso Analog Design Environment" />
<meta name="Product" content="Virtuoso Analog Design Environment" />
<meta name="ProductFamily" content="Virtuoso Analog Design Environment" />
<meta name="ProductVersion" content="ICADVM20.1" />
<meta name="RightsManagement" content="Copyright 2012-2020 Cadence Design Systems Inc." />
<meta name="Title" content="OCEAN XL Reference -- Introduction to OCEAN XL Commands" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="ICADVM20.1" />
<meta name="SpaceKey" content="ocnxlICADVM201" />
<meta name="webflare-version" content="2.0" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="ocnxlTOC.html">Contents</a></li><li><a class="prev" href="preface.html" title="Preface">Preface</a></li><li style="float: right;"><a class="viewPrint" href="ocnxl.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="ocnxlcommands.html" title="OCEAN Commands in XL Mode">OCEAN Commands in XL Mode</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>OCEAN XL Reference<br />Product Version ICADVM20.1, October 2020</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>1
<a id="pgfId-1008781"></a></h1>
<h1>
<a id="pgfId-1019902"></a><hr />
Introduction to OCEAN XL Commands<hr />
</h1>

<p>
<a id="pgfId-1026134"></a>OCEAN XL commands let you simulate and analyze your design in Virtuoso&#174; Analog Design Environment XL. In this chapter, you can find information about creating and running OCEAN XL scripts.</p>

<h2>
<a id="pgfId-1025565"></a>Creating and Running an OCEAN <a id="OCEANscript"></a>XL Script</h2>

<p>
<a id="pgfId-1025567"></a>You can create and run an <h-hot><a actuate="user" class="URL" href="../oceanref/chap2.html#firstpage" show="replace" xml:link="simple">OCEAN</a></h-hot> XL script to run one or more tests over zero or more corner conditions. When you save an OCEAN XL script, the program saves setup information for all your tests, sweeps, corner conditions and run options.</p>
<p>
<a id="pgfId-1025568"></a>For more details, refer to the following sections:</p>
<ul><li>
<a id="pgfId-1025572"></a><a href="chap1.html#17384">Creating an OCEAN XL Script</a></li><li>
<a id="pgfId-1025576"></a><a href="chap1.html#32085">Modifying an OCEAN XL Script</a></li><li>
<a id="pgfId-1025580"></a><a href="chap1.html#96603">Running an OCEAN Script</a></li><li>
<a id="pgfId-1025584"></a><a href="chap1.html#34682">Running Parallel OCEAN XL Simulation Runs for an ADE XL View</a></li><li>
<a id="pgfId-1025874"></a><a href="chap1.html#18545">Viewing Results of Simulations Run using OCEAN XL Scripts</a></li></ul>





<h3>
<a id="pgfId-1025876"></a><a id="17384"></a>Creating an OCEAN XL Script</h3>

<p>
<a id="pgfId-1025877"></a>You can create an OCEAN XL script in any of the following three ways:</p>
<ul><li>
<a id="pgfId-1025595"></a><a href="chap1.html#21196">Saving the ADE XL Setup to an OCEAN XL Script</a></li><li>
<a id="pgfId-1025599"></a><a href="chap1.html#22852">Scripting an OCEAN XL Script</a></li><li>
<a id="pgfId-1025603"></a><a href="chap1.html#32611">Creating OCEAN XL Scripts with Netlist Specified as a Design</a></li></ul>



<h4>
<a id="pgfId-1025605"></a><a id="21196"></a>Saving the ADE XL Setup to an OCEAN XL Script</h4>

<p>
<a id="pgfId-1025606"></a>You can create a simulation setup in ADE XL user interface and save it as an OCEAN XL script. For this, after the simulation setup is complete, do the following:</p>

<ol><li>
<a id="pgfId-1025607"></a>In the main session window, choose <em>File &#8211; Save Script</em>.<br />
<a id="pgfId-1025901"></a>The Save <a id="marker-1025900"></a>OCEAN Script form appears.<br />
<a id="pgfId-1025902"></a><div class="webflare-div-image">
<img width="454" height="125" src="images/chap1-2.gif" /></div></li><li>
<a id="pgfId-1025903"></a>In the <em>File Name</em> field, type a name and location for your OCEAN XL script file.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1025615"></a>The default name and location is <code>./oceanScript.ocn</code>.</div></li><li>
<a id="pgfId-1025616"></a>Click <em>OK</em>.<br />
<a id="pgfId-1025617"></a>The program saves simulation setup and conditions to the specified OCEAN XL script file.</li></ol>











<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1025618"></a>The setup information for non-ADE XL tests will not be saved in the OCEAN XL script.</div>
<h4>
<a id="pgfId-1025620"></a><a id="22852"></a>Scripting an OCEAN XL Script</h4>

<p>
<a id="pgfId-1025621"></a>You can use a text editor to create an OCEAN XL script by using OCEAN XL commands and save it in a <code>.ocn</code> file.</p>

<h4>
<a id="pgfId-1025624"></a><a id="32611"></a>Creating <a id="Netlist_based_ocean"></a>OCEAN XL Scripts with Netlist Specified as a Design</h4>

<p>
<a id="pgfId-1025625"></a>If you have an already generated netlist of a design, you can provide the path to that netlist file to the <a href="../oceanref/chap6.html#design">design</a> OCEAN XL command. By doing this, you can run a simulation without loading/ requiring the complete design hierarchy. Later, you can view the simulation results in ADE XL user interface. For more details, refer to <a href="chap1.html#18545">Viewing Results of Simulations Run using OCEAN XL Scripts</a>.</p>

<h3>
<a id="pgfId-1025631"></a><a id="32085"></a>Modifying an OCEAN XL Script</h3>

<p>
<a id="pgfId-1025633"></a>If you <h-hot><a href="chap1.html#run_ocean">run an OCEAN XL script</a></h-hot> from an ADE XL interface, if required, you can load its setup in ADE XL user interface and modify it after the run. To modify the OCEAN XL setup, do the following:</p>

<ol><li>
<a id="pgfId-1025636"></a>In the <a id="load_ocean"></a>History tab of the <a actuate="user" class="URL" href="../assembler/asmGettingStarted.html#assistantDataView" show="replace" xml:link="simple">Data View</a> assistant pane, right-click the history item for the OCEAN XL run and choose Load Setup to Active.<br /><div class="webflare-information-macro webflare-macro-warning">
<a id="pgfId-1025637"></a>
Load Setup to Active will overwrite the current setup with the setup in the history item for the OCEAN XL run.</div></li><li>
<a id="pgfId-1025638"></a>Modify the setup as required. <br />
<a id="pgfId-1025639"></a>You can modify the setup using the ADE XL user interface (such as adding or modifying global variables or corners using the Data View assistant pane), or use the OCEAN Test Editor form to modify the setup.<br />
<a id="pgfId-1025640"></a>To use the OCEAN Test Editor form, do the following:<ol><li>
<a id="pgfId-1025642"></a>Right-click the test name in the <em>Tests</em> tree in the Data tab of <a actuate="user" class="URL" href="../assembler/asmGettingStarted.html#assistantDataView" show="replace" xml:link="simple">Data View</a> assistant pane and choose <em>Open Test Editor</em>.<br />
<a id="pgfId-1025643"></a>The OCEAN Test Editor form appears in which the OCEAN commands saved in the script are displayed.<br /><ffi2-fig-frame-in-2 id="#id1025647">
<a id="pgfId-1025647"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="520" height="541" src="images/chap1-4.gif" /></div>
<a id="pgfId-1025648"></a>The OCEAN Test Editor form is a text editor specified by using the <code>editor</code> SKILL variable, or the <code>$VISUAL</code> or <code>$EDITOR</code> variables in the <code>.cshrc</code> file, in the given order of preference.</li><li>
<a id="pgfId-1025649"></a>Change the simulation setup by modifying the commands.</li><li>
<a id="pgfId-1025650"></a>Click <em>OK</em> to save the changes in the script.<br /><div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1025651"></a>
When you modify the setup in the history item for the OCEAN XL run in ADE XL, the original OCEAN XL script that you used to run the simulation from a UNIX shell will not be modified. Choose <em>File &#8211; Save Script</em> if you want to save the changes in the setup to a new OCEAN XL script file.</div></li></ol></li></ol>
















<h3>
<a id="pgfId-1025654"></a><a id="96603"></a>Runnin<a id="run_ocean"></a>g an OCEAN Script</h3>

<p>
<a id="pgfId-1025655"></a>To run simulations using OCEAN scripts, perform any one of the following steps:</p>
<ul><li>
<a id="pgfId-1025656"></a>In CIW, run the following command:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1025657">
<a id="pgfId-1025657"></a>load(&quot;&lt;name-of-OCEAN-script-file&gt;&quot;)</pre></li><li>
<a id="pgfId-1026054"></a>In ADE XL user interface, <a href="chap1.html#load_ocean">load the set up from history of a previous OCEAN run</a> and click <em>Run Simulation</em> <img width="30" height="25" src="images/chap1-6.gif" /><span> on the Run toolbar to start the simulation. </span></li><li>
<a id="pgfId-1026061"></a>In a UNIX shell, type the following commands:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1025667">
<a id="pgfId-1025667"></a>ocean</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1025668">
<a id="pgfId-1025668"></a>load(&quot;&lt;name-of-OCEAN-script-file&gt;&quot;)</pre>
<a id="pgfId-1025670"></a>For information about running an OCEAN script from a UNIX shell, see the <em><a actuate="user" class="URL" href="../oceanref/oceanrefTOC.html" show="replace" xml:link="simple">OCEAN Reference</a></em>.</li></ul>











<p>
<a id="pgfId-1025671"></a>When you run a simulation using an OCEAN script, a history item named <code>Ocean.</code><span class="webflare-courier-new" style="white-space:pre"><em>n</em></span> is created for the run. You can then start ADE XL, and use the ADE XL user interface to <h-hot><a href="chap1.html#view_ocean_results">view</a></h-hot> the results for the OCEAN run.</p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1025673"></a>
You must not load and run your OCEAN script in the Command Interpreter Window (CIW) while ADE XL is still running for the same cellview.</div>

<p>
<a id="pgfId-1025675"></a>When you <h-hot><a actuate="user" class="URL" href="../oceanref/chap2.html#firstpage" show="replace" xml:link="simple">run the script</a></h-hot>, the program reports the following information:</p>
<ul><li>
<a id="pgfId-1025676"></a>Sweep parameters and their values </li><li>
<a id="pgfId-1025677"></a>Number of tests, sweep points, and corners </li><li>
<a id="pgfId-1025678"></a>Points completed and job status information </li><li>
<a id="pgfId-1025679"></a>Results location to the output area of the CIW<br />
<a id="pgfId-1025680"></a>For example:<pre class="webflare-pre-block webflare-courier-new" id="#id1025681">
<a id="pgfId-1025681"></a>1/1 completed.
*Info*    The result of this OCEAN XL run are saved in &quot;Interactive.3&quot; in library &quot;rfExamples&quot;, cell &quot;ne600&quot;, view &quot;adexl&quot;.</pre>
<a id="pgfId-1025682"></a>The results location corresponds to the lib/cell/view specified in the <a href="ocnxlcommands.html#15344">ocnxlTargetCellView</a> call, such as<pre class="webflare-pre-block webflare-courier-new" id="#id1025684">
<a id="pgfId-1025684"></a>ocnxlTargetCellView( &quot;rfExamples&quot; &quot;ne600&quot; &quot;adexl&quot;)</pre><br /><div class="webflare-information-macro webflare-macro-tip">
<a id="pgfId-1025689"></a>
You can run an OCEAN script using LSF, for example, by <a actuate="user" class="URL" href="../assembler/asmSimulating.html#commandGuidelines" show="replace" xml:link="simple">submitting the job remotely</a> using the <code>bsub</code> command (for the LSF example) as follows:</div><pre class="webflare-pre-block webflare-courier-new" id="#id1025690">
<a id="pgfId-1025690"></a>bsub ocean -nograph <code><em>OCEANscriptFileName</em></code> </pre></li></ul>













<p>
<a id="pgfId-1025698"></a>Also see: <h-hot><a actuate="user" class="URL" href="../adexl/appEnvVars.html#includeSimLogInJobLog" show="replace" xml:link="simple">includeSimLogInJobLog</a></h-hot>, an environment that can be used to control the inclusion of the simulator output log in the OCEAN job log.</p>

<h3>
<a id="pgfId-1025701"></a><a id="34682"></a>Running P<a id="OCEAN_Parallel"></a>arallel OCEAN XL Simulation Runs for an ADE XL View</h3>

<p>
<a id="pgfId-1025702"></a>In OCEAN XL, you can simultaneously run multiple simulation runs for an ADE XL view. You can do this by executing multiple <a href="ocnxlcommands.html#21112">ocnxlRun</a> functions in parallel from the same OCEAN XL script. The results of all the runs are saved in the results database of that ADE XL view.</p>
<p>
<a id="pgfId-1025704"></a>This section describes how to prepare setup and run parallel simulation runs in OCEAN XL.</p>

<h4>
<a id="pgfId-1025705"></a>Preparing Setup for Parallel Simulation Runs</h4>

<p>
<a id="pgfId-1025706"></a>You can enable the parallel run option for your OCEAN XL scripts in any of the following ways:</p>
<ul><li>
<a id="pgfId-1025707"></a>To enable the parallel run, before saving an OCEAN XL script from an ADE XL view, select the <em>Parallel</em> option in the <strong><a actuate="user" class="URL" href="../assembler/asmSimulating.html#formRunOptions" show="replace" xml:link="simple">Run Options</a></strong> form.</li><li>
<a id="pgfId-1025840"></a>Use the <a href="ocnxlcommands.html#93015">ocnxlSetRunDistributeOptions</a> command in the OCEAN XL script to set the parallel run option.</li></ul>


<h4>
<a id="pgfId-1025720"></a>Running Parallel Simulation Runs</h4>

<p>
<a id="pgfId-1025722"></a>In your OCEAN script, ensure that the <span class="webflare-courier-new" style="white-space:pre"><em>waitUntilDone</em></span> argument of the <a href="ocnxlcommands.html#21112">ocnxlRun</a> function is set to <code>nil</code>. </p>
<p>
<a id="pgfId-1025723"></a>For example, if you have saved an ADE XL state, <code>Ac_State1</code>, and want to run a simulation for it parallel to other runs in your OCEAN XL script, use the following commands:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1025724"></a>ocnxlLoadSetupState( &quot;AC_State1&quot; &#39;retain ?tests t ?vars t ?parameters t ?currentMode t ?runOptions t ?specs t ?corners t ?extensions t 
&#160;&#160;&#160;&#160;?modelGroups nil ?relxanalysis nil )<br />
runid1 = ocnxlRun(?waitUntilDone nil)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1025725"></a>ocnxlLoadSetupState( &quot;Tran_State2&quot; &#39;retain ?tests t ?vars t ?parameters t ?currentMode t 
&#160;&#160;&#160;&#160;?runOptions t ?specs t ?corners t ?extensions t 
&#160;&#160;&#160;&#160;?modelGroups nil ?relxanalysis nil )<br />
runid2 = ocnxlRun(?waitUntilDone nil)</pre>

<p>
<a id="pgfId-1025726"></a>When the <span class="webflare-courier-new" style="white-space:pre"><em>waitUntilDone</em></span> argument is set to <code>nil</code>, OCEAN XL does not wait for the run to complete. Instead, while the run is in progress, it executes the next line in the script. In the example given above, OCEAN XL loads another state, <code>Tran_State2</code>, and starts a simulation for that without waiting for the first simulation run to finish.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1025727"></a>You need to set the <span class="webflare-courier-new" style="white-space:pre"><em>waitUntilDone</em></span> argument for each OCEAN XL run that you want to run in parallel. By default, this argument is set to <code>t</code>.</div>

<p>
<a id="pgfId-1025728"></a>When you set the <span class="webflare-courier-new" style="white-space:pre"><em>waitUntilDone</em></span> argument to <code>nil</code>, the ocnxlRun function also returns a run ID for each run. You can use this run ID later to either wait for that run to complete at a later stage or to access the history results of that run.</p>
<p>
<a id="pgfId-1025729"></a>For example, before printing results, if you want to wait for a particular OCEAN XL run to complete simulations, you can use the following statement in your script:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1025730"></a>(ocnxlWaitUntilDone rinid2)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1025731"></a>(ocnxlOutputSummary ?forRun runid1 ?detailed nil)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1025732"></a>; The previous command displays run summary for the simulation run with run ID as runid1</pre>

<p>
<a id="pgfId-1025733"></a>After a run is complete, you can get access to its results by using its run ID, as shown in the following statement:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1025734"></a>h1 = ocnxlGetHistory(runid1)</pre>

<p>
<a id="pgfId-1025735"></a>You can use this handle to get results for the given OCEAN XL run.</p>
<p>
<a id="pgfId-1025736"></a>For details on the related OCEAN XL functions and their examples, refer to the following sections in the OCEAN Reference Guide:</p>
<ul><li>
<a id="pgfId-1025738"></a><a href="ocnxlcommands.html#21112">ocnxlRun</a></li><li>
<a id="pgfId-1026309"></a><a href="ocnxlcommands.html#28250">ocnxlOutputSummary</a></li><li>
<a id="pgfId-1026332"></a><a href="ocnxlcommands.html#87703">ocnxlWaitUntilDone</a></li><li>
<a id="pgfId-1026334"></a><a href="ocnxlcommands.html#11522">ocnxlGetHistory</a></li><li>
<a id="pgfId-1026336"></a><a href="ocnxlcommands.html#93015">ocnxlSetRunDistributeOptions</a></li><li>
<a id="pgfId-1025748"></a><a href="ocnxlcommands.html#35426">ocnxlGetRunDistributeOptions</a></li></ul>






<h3>
<a id="pgfId-1025751"></a><a id="18545"></a>Viewing R<a id="view_ocean_results"></a>esults of Simulations Run using OCEAN XL Scripts</h3>

<p>
<a id="pgfId-1025752"></a>The results of simulations run from OCEAN XL scripts are saved in the results database of the ADE XL view. While the OCEAN XL simulations are in progress or after they are complete, you can view these results in the ADE XL user interface.</p>
<p>
<a id="pgfId-1025753"></a>To view the results for an OCEAN XL simulation run in the ADE XL user interface, do the following:</p>
<ul><li>
<a id="pgfId-1025755"></a>In the History tab of the Data View assistant pane, right-click the history item for the OCEAN run and choose <em>View Results</em>.</li></ul>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1025756"></a>While the simulations are in progress, you need to close and reopen the results to view the updated data.</div>
<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1027043"></a>
When you view the results of <a actuate="user" class="URL" href="../assembler/asmSimulating.html#Netlist_based_ocean" show="replace" xml:link="simple">simulations performed by specifying netlist as design</a>, you cannot use the schematic-based post processing options. For example, you cannot use the <code>VT</code> calculator function to select a net on schematic or you cannot use the <a actuate="user" class="URL" href="../assembler/asmViewingResults.html#directPlot" show="replace" xml:link="simple">direct plotting</a> feature. Therefore, when you right-click data in the <em>Results</em> tab, some of the commands that require use of the schematic view are not enabled.</div>

<p>
<a id="pgfId-1021871"></a></p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="preface.html" id="prev" title="Preface">Preface</a></em></b><b><em><a href="ocnxlcommands.html" id="nex" title="OCEAN Commands in XL Mode">OCEAN Commands in XL Mode</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2020, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>