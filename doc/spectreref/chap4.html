
<html><head><title>Other Simulation Topics</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="jommy" />
<meta name="CreateDate" content="2020-06-25" />
<meta name="CreateTime" content="1593080903" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Provides reference information on the Spectre circuit simulator." />
<meta name="DocTitle" content="Spectre Circuit Simulator Reference" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Other Simulation Topics" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.2.1" />
<meta name="Keyword" content="spectreref" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2020-06-25" />
<meta name="ModifiedTime" content="1593080903" />
<meta name="NextFile" content="chap5.html" />
<meta name="Order" content="2" />
<meta name="Group" content="Spectre Simulator" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="chap3.html" />
<meta name="c_product" content="Spectre" />
<meta name="Product" content="Spectre" />
<meta name="ProductFamily" content="Spectre" />
<meta name="ProductVersion" content="19.1" />
<meta name="RightsManagement" content="Copyright 2012-2020 Cadence Design Systems Inc." />
<meta name="Title" content="Spectre Circuit Simulator Reference -- Other Simulation Topics" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="Version" content="19.1" />
<meta name="SpaceKey" content="spectreref191" />
<meta name="webflare-version" content="2.0" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="spectrerefTOC.html">Contents</a></li><li><a class="prev" href="chap3.html" title="Analysis Statements">Analysis Statements</a></li><li style="float: right;"><a class="viewPrint" href="spectreref.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="chap5.html" title="Circuit Checks">Circuit Checks</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Spectre Circuit Simulator Reference<br />Product Version 19.1, June 2020</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>4
<a id="pgfId-1032955"></a></h1>
<h1>
<a id="pgfId-1035250"></a><hr />
<a id="44786"></a>Other Simulation Topics<hr />
</h1>

<p>
<a id="pgfId-1035671"></a>This chapter discusses the following topics:</p>
<ul><li>
<a id="pgfId-1035783"></a><a href="chap4.html#73173">AHDL Linter Usage (ahdllint)</a></li><li>
<a id="pgfId-1081870"></a><a href="chap4.html#14431">Using analogmodel for Model Passing (analogmodel)</a></li><li>
<a id="pgfId-1043394"></a><a href="chap4.html#12421">Behavioral Source Use Model (bsource)</a></li><li>
<a id="pgfId-1066198"></a><a href="chap4.html#74015">Checkpoint - Restart (checkpoint)</a></li><li>
<a id="pgfId-1067972"></a><a href="chap4.html#91978">Configuring CMI Shared Objects (cmiconfig)</a></li><li>
<a id="pgfId-1066221"></a><a href="chap4.html#68118">Built-in Mathematical and Physical Constants (constants)</a></li><li>
<a id="pgfId-1066244"></a><a href="chap4.html#58053">Convergence Difficulties (convergence)</a></li><li>
<a id="pgfId-1066267"></a><a href="chap4.html#86344">encryption (encryption)</a></li><li>
<a id="pgfId-1066290"></a><a href="chap4.html#75067">Expressions (expressions)</a></li><li>
<a id="pgfId-1068940"></a><a href="chap4.html#24205">The fastdc command line option (fastdc)</a></li><li>
<a id="pgfId-1066313"></a><a href="chap4.html#54619">User Defined Functions (functions)</a></li><li>
<a id="pgfId-1066336"></a><a href="chap4.html#68131">Global Nodes (global)</a></li><li>
<a id="pgfId-1066359"></a><a href="chap4.html#63359">IBIS Component Use Model (ibis)</a></li><li>
<a id="pgfId-1066382"></a><a href="chap4.html#83867">Initial Conditions (ic)</a></li><li>
<a id="pgfId-1066405"></a><a href="chap4.html#94036">The Structural if-statement (if)</a></li><li>
<a id="pgfId-1066428"></a><a href="chap4.html#26069">Include File (include)</a></li><li>
<a id="pgfId-1066451"></a><a href="chap4.html#52715">Spectre Netlist Keywords (keywords)</a></li><li>
<a id="pgfId-1066474"></a><a href="chap4.html#14688">Library - Sectional Include (library)</a></li><li>
<a id="pgfId-1066497"></a><a href="chap4.html#24626">Tips for Reducing Memory Usage (memory)</a></li><li>
<a id="pgfId-1066520"></a><a href="chap4.html#65868">Node Sets (nodeset)</a></li><li>
<a id="pgfId-1066543"></a><a href="chap4.html#92235">Parameter Soft Limits (param_limits)</a></li><li>
<a id="pgfId-1066566"></a><a href="chap4.html#68169">Netlist Parameters (parameters)</a></li><li>
<a id="pgfId-1066589"></a><a href="chap4.html#33396">Parameter Set - Block of Data (paramset)</a></li><li>
<a id="pgfId-1066612"></a><a href="chap4.html#57128">Tips for Reducing Memory Usage with SpectreRF (rfmemory)</a></li><li>
<a id="pgfId-1066635"></a><a href="chap4.html#49487">Output Selections (save)</a></li><li>
<a id="pgfId-1066658"></a><a href="chap4.html#21543">Savestate - Recover (savestate)</a></li><li>
<a id="pgfId-1066681"></a><a href="chap4.html#74443">Sensitivity Analyses (sens)</a></li><li>
<a id="pgfId-1066704"></a><a href="chap4.html#77976">SpectreRF Summary (spectrerf)</a></li><li>
<a id="pgfId-1066727"></a><a href="chap4.html#94713">Stitch Flow Use Model (stitch)</a></li><li>
<a id="pgfId-1066750"></a><a href="chap4.html#23450">Subcircuit Definitions (subckt)</a></li><li>
<a id="pgfId-1066773"></a><a href="chap4.html#33767">Vec/Vcd/Evcd Digital Stimulus (vector)</a></li><li>
<a id="pgfId-1066796"></a><a href="chap4.html#33532">Verilog-A Usage and Language Summary (veriloga)</a></li></ul>
































<h2>
<a id="pgfId-1047829"></a><a id="73173"></a>AHDL Linter Usage (ahdllint)</h2>
<h4>
<a id="pgfId-1080646"></a>Description</h4>

<p>
<a id="pgfId-1080665"></a>The AHDL Linter technology offers a powerful set of capabilities for upfront identification of issues that worry designers even well beyond the model creation stage. The AHDL Linter feature helps identify complex design modeling issues and can be used on block simulation or SOC verifications performed just before tape out. Early warnings enable designers to avoid expensive design iterations, and meeting quality and time-to-market goals.</p>
<p>
<a id="pgfId-1080666"></a>You can use the AHDL Linter feature to analyze Spectre APS, and Spectre XPS test cases containing Verilog-A models.</p>
<p>
<a id="pgfId-1080667"></a>AHDL Linter checks each Verilog-A behavioral model in the design and suggests which line should be improved to:</p>
<ul><li>
<a id="pgfId-1080668"></a>Avoid potential convergence or performance problems</li><li>
<a id="pgfId-1080669"></a>Improve model accuracy, reusability, and portability</li></ul>

<p>
<a id="pgfId-1080670"></a>AHDL linter consists of static and dynamic lint checks. Static lint checks are performed at compilation stage. Dynamic lint checks are performed during analysis for dynamic modeling issues that may cause convergence or performance problems during simulation.</p>

<h4><em>
<a id="pgfId-1080653"></a>Using the AHDL Linter Feature</em></h4>

<p>
<a id="pgfId-1080694"></a>The AHDL Linter feature is activated in Spectre APS, and Spectre XPS using the following command-line options:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1080695"></a>% spectre +aps -ahdllint netlist.scs</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1080696"></a>% spectre +xps +cktpreset=sram -ahdllint netlist.scs</pre>

<p>
<a id="pgfId-1080697"></a>where <code>netlist.scs</code> is written using Spectre, SPICE, or eSpice syntax and includes one or more Verilog-A models.</p>
<p>
<a id="pgfId-1080698"></a>You can perform static linter checks on a netlist file that includes one or more Verilog-A models, as follows:</p>
<p>
<a id="pgfId-1080699"></a>spectre +aps -ahdllint=static test.scs // test.scs includes the Verilog-A files</p>
<p>
<a id="pgfId-1080700"></a>Spectre, in this case, performs only linter checks on all Verilog-A files and does not run the simulation.</p>
<p>
<a id="pgfId-1080701"></a>You can also perform static lint checks on a Verilog-A file directly without specifying the top-level netlist file (<code>.scs</code>), as follows:</p>
<p>
<a id="pgfId-1080702"></a>spectre +aps -ahdllint=static test.va //perform static lint check on test.va</p>
<p>
<a id="pgfId-1082027"></a>The <code>-ahdllint</code> option accepts the following arguments:</p>
<table class="webflareTable" id="#id1082036">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082038"></a><code>no</code> </p>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082040"></a>Disables lint checks. There is no change in the existing compilation or simulation error messages.</p>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082042"></a><code>warn</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082044"></a>(default) Turns on the static lint and dynamic lint checks. Except the models with attribute (<code>*</code> <code>ahdllint = &quot;no&quot;</code> <code>*</code>), the static lint checks all models, continues the simulation, and then performs dynamic lint checks.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082046"></a><code>error</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082048"></a>Turns on the static lint check. Dynamic lint checks are performed only when static lint issues are not detected. Except the models with attribute (<code>*</code> <code>ahdllint = &quot;no&quot;</code> <code>*</code>), the static lint checks all models. The simulator generates an error and exits if there is any static lint warning reported after compiling all the models of the circuit. If there are no static lint warnings, the simulator continues the simulation and performs dynamic lint checks. However, in the case of dynamic lint issues, the simulator does not error out.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082050"></a><code>force</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082052"></a>Similar to <code>warn</code>, but this option overrides the model attribute (<code>*</code> <code>ahdllint = &quot;no&quot;</code> <code>*</code>), and forces to check all models, continue the simulation, and perform dynamic lint checks.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082058"></a><code>static</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082060"></a>Performs static lint checks on a Verilog-A file directly.</p>
</td>
</tr>
</tbody></table>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1082033"></a>The <code>-ahdllint</code> option can be used without any argument, which is equivalent to specifying <code>-ahdlint=warn</code>. You can also set the <code>-ahdllint</code> option as default by setting the <code>SPECTRE_DEFAULTS</code> environment variable, as follows:</div>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1080866"></a>setenv SPECTRE_DEFAULTS &quot;-ahdllint=warn&quot;</pre>

<p>
<a id="pgfId-1080867"></a>You can use the <code>-ahdllint_maxwarn =n</code> command-line option to control the maximum number of static and dynamic warnings. The default value is 5. </p>
<p>
<a id="pgfId-1080868"></a>You can also control the maximum number of warnings by using the environment variable <code>SPECTRE_DEFAULTS</code> or <code>ULSTRASIM_DEFAULTS</code>, as show below. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1080869"></a>setenv SPECTRE_DEFAULTS &quot;-ahdllint -ahllint_maxwarn=10&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1080900"></a>setenv ULSTRASIM_DEFAULTS &quot;-ahdllint -ahllint_maxwarn=10&quot;</pre>

<p>
<a id="pgfId-1080870"></a>You can use the <code>-ahdllint_warn_id=&lt;</code><span class="webflare-courier-new" style="white-space:pre"><em>ID</em></span><code>&gt;</code> option to control the warning messages for a specific message ID. <span class="webflare-courier-new" style="white-space:pre"><em>ID</em></span> should be a positive integer value between 5001 and 6000 or 8001 and 9999. In addition, the <code>-ahdllint_warn_id</code> option should always be used with the <code>-ahdllint_maxwarn</code> option and should be directly specified after it in the command line, otherwise, the option will be ignored. For example:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1080871"></a>spectre +aps -ahdllint -ahdllint_maxwarn=2 -ahdllint_warn_id=5001 input.scs</pre>

<p>
<a id="pgfId-1080872"></a>In the above example, Spectre will display only two warning messages related to the message ID 5001.</p>
<p>
<a id="pgfId-1080873"></a>You can specify the <code>-ahdllint_maxwarn</code> and <code>-ahdllint_warn_id</code> options multiple times at the command line. For example:</p>
<p>
<a id="pgfId-1080874"></a>spectre +aps -ahdllint -ahdllint_maxwarn=1 -ahdllint_warn_id=5001 -ahdllint_maxwarn=3 -ahdllint_warn_id=8001 input.scs</p>
<p>
<a id="pgfId-1080875"></a>In the above example, only one warning message related to the message ID 5001 will be displayed. In addition, three warning messages related to the message ID 8001 will be displayed.</p>
<p>
<a id="pgfId-1080876"></a>You can also specify multiple IDs with the <code>-ahdllint_warn_id</code> option. However, the IDs must be specified using double quotes with a space between them. For example:</p>
<p>
<a id="pgfId-1080877"></a>spectre +aps -ahdllint -ahdllint_maxwarn=2 -ahdllint_warn_id=&quot;5001 5003 5005&quot; input.scs</p>
<p>
<a id="pgfId-1080878"></a>Use the <code>-ahdllint_minstep=value</code> command-line option to set the minimal time step size boundary that will trigger an AHDL Linter warning, when the step size imposed by a Verilog-AMS filter or function, such as <code>transition</code>, <code>cross</code>, <code>above</code>, <code>$bound_step</code>, and <code>timer</code> is smaller than <code>value</code>. The default value is <code>1e-12</code>.</p>
<p>
<a id="pgfId-1088958"></a>You can use the <code>-ahdllint_summary_maxentries=&lt;</code><span class="webflare-courier-new" style="white-space:pre"><em>value</em></span><code>&gt;</code> command-line option to control the maximum number of messages to be displayed in dynamic lint summary. The default value is 25. For example:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1088971"></a>spectre -ahdllint_summary_maxentries=20 input.scs</pre>

<p>
<a id="pgfId-1080879"></a>By default, the static and dynamic lint warnings and the dynamic lint summary output are sent to the simulation log file. You can use the <code>-ahdllint_log=file</code> command-line option to output all the information to a specified file instead of the output log file.</p>

<h4><em>
<a id="pgfId-1080857"></a>Filtering AHDL Messages</em></h4>

<p>
<a id="pgfId-1080932"></a>You can filter the AHDL Linter messages using the <code>options</code> control statement, as follows:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1080933"></a><code><em>Name</em></code><code> options warning_limit=num warning_id=id</code></pre>

<p>
<a id="pgfId-1080934"></a>where:</p>
<p>
<a id="pgfId-1080935"></a><code>warning_limit</code> specifies the number of messages to be printed.</p>
<p>
<a id="pgfId-1080936"></a><code>warning_id</code> specifies the message id that needs to be printed.</p>
<p>
<a id="pgfId-1080937"></a><strong>Example1</strong></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1080938"></a>myoptions options warning_limit=0 warning_id=[AHDLLINT-8004 AHDLLINT-8005]</pre>

<p>
<a id="pgfId-1080939"></a>In the above example, Spectre APS/XPS will not print any message with the id <code>AHDLLINT-8004</code> and <code>AHDLLINT-8005</code>.</p>
<p>
<a id="pgfId-1080940"></a><strong>Example2</strong></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1080941"></a>myoptions2 options warning_limit=1 warning_id=[AHDLLINT-8005]</pre>

<p>
<a id="pgfId-1080942"></a>In the above example, Spectre APS/XPS will print only one message with the id <code>AHDLLINT-8005</code>.</p>
<p>
<a id="pgfId-1080945"></a>For more information about the <code>options</code> control statement, see <code>spectre -h options</code>.</p>

<h4><em>
<a id="pgfId-1080924"></a>Using the ahdlhelp Utility</em></h4>

<p>
<a id="pgfId-1080987"></a>You can use the <code>ahdlhelp</code> utility to view the extended help on various messages reported by AHDL Linter. To view the extended help, you need to provide the AHD Linter id number as an argument, as shown below.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1080988"></a>% ahdlhelp 8005</pre>

<p>
<a id="pgfId-1080989"></a>The following is an example of the <code>ahdlhelp</code> utility:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1080990"></a>% ahdlhelp 5012</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1080991"></a>AHDLLINT-5012: Detected $abstime in an equality expression inside a conditional.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1080992"></a>Analog simulations select timepoints using a variable timestep size algorithm based on accuracy considerations, so the value of &quot;time&quot; only changes between discrete real values.&#160;&#160;In order to perform an event at a particular time, the @(timer) construct must be used to tell the simulator to step to a particular timepoint and execute the desired code when that event actually occurs.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1080993"></a>example:</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1080994"></a>  if ($abstime==50n) xval=2;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1080995"></a>solution:</pre>

<p>
<a id="pgfId-1080972"></a>  @(timer(50n)) xval=2;</p>

<h2>
<a id="pgfId-1080635"></a><a id="14431"></a>Using analogmodel for Model Passing (analogmodel)<a id="marker-1047828"></a></h2>
<h4>
<a id="pgfId-1047831"></a>Description<a id="marker-1047830"></a></h4>

<p>
<a id="pgfId-1047832"></a><code>analogmodel</code> is a reserved word in Spectre that allows you to bind an instance to different masters based on the value of a special instance parameter called <code>modelname</code>. An instance of <code>analogmodel</code> must have a parameter named <code>modelname</code>, whose string value represents the name of the master this instance will be bound to. The value of <code>modelname</code> can be passed into subcircuits.</p>
<p>
<a id="pgfId-1047833"></a>The <code>analogmodel</code> keyword is used by the Cadence Analog Design Environment to enable model name passing through the schematic hierarchy.</p>

<h4>
<a id="pgfId-1047834"></a>Sample Instance Statement</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1047835"></a>name [(]node1 ... nodeN[)] analogmodel modelname=mastername [[param1=value1] ...[paramN=valueN]] </pre>
<table class="webflareTable" id="#id1082084">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082090"></a>name</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082092"></a>Name of the statement or instance label.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082274"></a><code>[(]node1...nodeN[)]</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082276"></a> Names of the nodes that connect to the component.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082094"></a><code>analogmodel</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082096"></a>Special device name to indicate that this instance will have its master name specified by the value of the <code>modelname</code> parameter on the instance.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082098"></a><code>modelname</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082100"></a>Parameter to specify the master of this instance indicated by <code>mastername</code>. The <code>mastername</code> must either be a valid string identifier or a netlist parameter that must resolve to a valid master name, a primitive, a model, a subckt, or an AHDL module.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082102"></a><code>param1 param2...</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082104"></a>Parameter values for the component. Depending on the master type, these can either be device parameters or netlist parameters. It is optional to specify these parameter values.</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1067049"></a><strong>Example</strong></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1047854"></a>//example spectre netlist to illustrate modelname parameter </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1047855"></a>simulator lang=spectre <br />parameters b=&quot;bottom&quot; <br />include &quot;VerilogAStuff.va&quot; </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1047858"></a>topInst1 (out in) top <br />topInst2 (out in) analogmodel modelname=&quot;VAMaster&quot; //VAMaster is defined in                                                      &quot;VerilogAStuff.va&quot; <br />topInst3 (out in) analogmodel modelname=&quot;resistor&quot; //topInst3 binds to a primitive <br />topInst4 (out 0) analogmodel modelname=&quot;myOwnRes&quot; //topInst4 binds to modelcard                                                     &quot;myOwnRes&quot; defined below<br />v1 in 0 vsource dc=1</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1047863"></a>model myOwnRes resistor r=100<br />subckt top out in <br />parameters a=&quot;mid&quot; <br />x1 (out in) analogmodel modelname=a //topInst1.x1 binds to &quot;mid&quot; </pre>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1050030"></a>ends top </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1047868"></a>subckt mid out in </pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1050048"></a>parameters c=&quot;low&quot; <br />x1 (out in) analogmodel modelname=b //topInst1.x1.x1 binds to &quot;bottom&quot; <br />x2 (out in) analogmodel modelname=c //topInst1.x1.x1.x2 binds to &quot;low&quot; </pre>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1047872"></a>ends mid </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1047873"></a>subckt low out in </pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1047874"></a>x1 (out in) analogmodel modelname=&quot;bottom&quot; //topInst1.x1.x1.x2.x1 binds to<br />                                             &quot;bottom&quot; </pre>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1047875"></a>ends low </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1047876"></a>subckt bottom out in </pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1047877"></a>x1 (out in) analogmodel modelname=&quot;resistor&quot; //x1 binds to primitive &quot;resistor&quot;</pre>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1047878"></a>ends bottom </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1047879"></a>dc1 dc </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1047880"></a>//&quot;VerilogAStuff.va&quot; <br /><code>&#8216;include &quot;constants.h&quot; <br />&#8216;include &quot;discipline.h&quot; <br /></code>module VAMaster(n1, n2); <br />inout n1, n2; <br />electrical n1, n2; <br />parameter r=1k; <br />analog begin <br />I(n1, n2) &lt;+ V(n1, n2)/r; <br />end <br />endmodule </pre>
<h2>
<a id="pgfId-1047892"></a><a id="12421"></a>Behavioral Source Use Model (bsource)<a id="marker-1047891"></a></h2>
<h4>
<a id="pgfId-1047894"></a>Description<a id="marker-1047893"></a></h4>

<p>
<a id="pgfId-1070486"></a>Behavioral source enables you to model a resistor, inductor, capacitor, voltage or current source as a behavioral component. Using bsource, you can express the value of a resistance, capacitance, voltage or current as a combination of node voltages, branch currents, time expression, and built-in Spectre expressions.</p>
<p>
<a id="pgfId-1070531"></a>The syntax for bsource is as follows:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1047900"></a>name (node1 node2) bsource behav_param param_list </pre>

<p>
<a id="pgfId-1047901"></a>where <code>behav_param</code> can be: </p>
<table class="webflareTable" id="#id1082118">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082124"></a><code>c=simple_expr</code>,</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082126"></a>capacitance between the nodes</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082310"></a><code>g=simple_expr</code>, </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082312"></a>conductance between the nodes </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082128"></a><code>i=generic_expr</code>, </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082130"></a>current through bsource </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082132"></a><code>l=simple_expr</code>, </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082134"></a>inductance between the nodes </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082136"></a><code>phi=simple_expr</code>, </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082138"></a>flux in the bsource device </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082140"></a><code>q=simple_expr</code>, </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082142"></a>charge in bsource device </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082144"></a><code>r=simple_expr</code>, </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082146"></a>resistance between the nodes </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082148"></a><code>v=generic_expr</code>, </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082150"></a>voltage across the nodes </p>
</td>
</tr>
</tbody></table>
<p>
<a id="pgfId-1047910"></a><code>simple_expr</code> is defined as an Spectre expression, which contains: </p>
<ul><li>
<a id="pgfId-1050351"></a>Netlist parameters.</li><li>
<a id="pgfId-1050352"></a>Current simulation time, <code>$time</code>.</li><li>
<a id="pgfId-1084779"></a>Current frequency, <code>$freq</code>.</li><li>
<a id="pgfId-1050353"></a>Node voltage, <code>v(a,b)</code>, where <code>a</code> and <code>b</code> are nodes in the Spectre netlist, or node voltage <code>v(a)</code>, which is the voltage between node <code>a</code> and ground.</li><li>
<a id="pgfId-1047916"></a>Branch currents, <code>i(&quot;inst_id:index&quot;)</code>, where <code>inst_id</code> is an instance name given in the netlist and index is the port index that starts from 1. The default value of index is 1.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1070328"></a>If the value of the port index is set to 0, simple_expr treats it as the default value 1.</div></li></ul>







<p>
<a id="pgfId-1047919"></a><code>generic_expr</code> is defined as a <code>simple_expr</code> or <code>ddt()</code> or <code>idt()</code> of <code>simple_expr</code>.</p>
<p>
<a id="pgfId-1047920"></a><code>param_list</code> is <code>param_name=value</code>.</p>
<p>
<a id="pgfId-1047921"></a><code>param_name</code> can have the multiplicity factor <code>m</code>. The value of <code>m</code> defaults to 1.</p>

<h4>
<a id="pgfId-1047925"></a>Temperature Parameters</h4>
<p>
<a id="pgfId-1084797"></a></p>
<table class="webflareTable" id="#id1082159">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082165"></a><code>tc1</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082378"></a>Linear temperature co-efficient. Valid for all behavioral elements. Default value is 0 1/C.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082350"></a><code>tc2</code>  </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082352"></a>Quadratic temperature co-efficient. Valid for all behavioral elements. Default value is 0 C^-2. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084830"></a><code>temp</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084832"></a>Parameter for ambient temperature. Valid for all behavioral elements. Default value is $temperature - 273.15.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082169"></a><code>tnom</code>  </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082171"></a>Parameters measurement temperature. Valid for all behavioral elements. Default value is 27.0.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082173"></a><code>trise</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082175"></a>Temperature rise for ambient. Valid for all behavioral elements. Default value is 0.0.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084860"></a><code>T</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084862"></a>Effective value of temperature. Valid for all behavioral elements. Default value is <code>temp+trise-tnom</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082177"></a><code>tc1c</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082179"></a>Linear temperature coefficient of capacitor. Valid for resistor type behavioral element. Default value is 0 1/C.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082181"></a><code>tc2c</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082183"></a>Quadratic temperature coefficient of capacitor. Valid for resistor type behavioral element. Default value is 0 C^-2.</p>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-1047938"></a>Clipping Parameters</h4>
<p>
<a id="pgfId-1084807"></a></p>
<table class="webflareTable" id="#id1082202">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082208"></a><code>max_val</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082422"></a>Maximum value of bsource expression. Valid for all behavioral elements, but used with i and v elements to clip the current or voltage between the specified values. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082394"></a><code>min_val</code>  </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082396"></a>Minimum value of bsource expression. Valid for all behavioral elements, but used with i and v elements to clip the current or voltage between the specified values. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084870"></a><code>bv_max</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084879"></a>Generate a warning when bsource voltage of two terminals exceeds the value specified by <code>bv_max</code>. Valid for resistor and capacitor.</p>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-1047945"></a>Noise Parameters</h4>
<p>
<a id="pgfId-1084818"></a></p>
<table class="webflareTable" id="#id1082219">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082225"></a><code>af</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082227"></a>Flicker noise exponent. Valid for r and g elements. Default value is 2.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082442"></a><code>fexp</code>  </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082444"></a>Flicker noise frequency exponent. Valid for r, g, v, and i elements. Default value is 1.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084897"></a><code>ef</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084899"></a>The alias parameter of <code>fexp</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084907"></a>ldexp</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084909"></a>Flicker (1/f) noise L exponent. Valid for r and g elements. Default value is 1.0.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084923"></a>lf</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084925"></a>The alias parameter of <code>ldexp</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084930"></a>wdexp</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084932"></a>Flicker (1/f) noise W exponent. Valid for r&#160;&#160;and g elements. Default value is 1.0.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084946"></a>wf</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084948"></a>The alias parameter of <code>wdexp</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082229"></a><code>isnoisy</code>  </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082231"></a>Specifies whether to generate noise. Valid for r, g, i, and v elements. Valid values are <code>yes</code> and <code>no</code>. Default value is <code>yes</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082233"></a><code>kf</code>     </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082235"></a>Flicker noise co-efficient. Valid for r and g elements. Default value is 0.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082237"></a><code>white_noise</code>    </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082239"></a>White noise expression. Valid for v and i elements.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082241"></a><code>flicker_noise</code>  </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082243"></a>Flicker noise expression. Valid for v and i elements. </p>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-1047955"></a>DC Mismatch Parameters</h4>
<p>
<a id="pgfId-1084977"></a></p>
<table class="webflareTable" id="#id1082252">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082258"></a><code>mr</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082260"></a>DC-Mismatch parameter. Valid only for r.</p>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-1050964"></a>Other Parameters</h4>
<p>
<a id="pgfId-1084996"></a></p>
<table class="webflareTable" id="#id1085004">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085006"></a><code>scale, scaleb, scaler, scalei, scalec</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085008"></a>Bsource scaling factor. Default value is 1.0.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085010"></a><code>ctype</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085012"></a>Different implementations of a capacitor. When the value is 1, bsource current is <code>ddt(cap*V(node1, node2))</code>, where <code>cap</code> is the bsource capacitor value with temp effect, mfactor effect, scale effect and so on. <code>V(node1, node2)</code> is the voltage between the bsource terminals. When the value is 2, the current is <code>ddt(cap)</code>. When the value is 0 or any other value, the current value is <code>cap*ddt(V(node1, node2))</code>. Default value is 0.</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1084986"></a>For the detailed algorithm, refer to &quot;<em>Affirma Spectre DC Device Matching Analysis Tutorial</em>.&quot;</p>
<p>
<a id="pgfId-1047958"></a>All the parameters in the <code>param_name</code> table are instance parameters. <code>white_noise</code> and <code>flicker_noise</code> may be assigned behavioral expressions; the other parameters must be assigned constant or parametric expressions. </p>

<h4>
<a id="pgfId-1047959"></a>Supported Instance Parameters</h4>

<p>
<a id="pgfId-1047960"></a><code>bsource</code> supports the following instance parameters for Spectre primitives:</p>
<table class="webflareTable" id="#id1082515">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082517"></a>Resistor&#160;&#160;  </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082519"></a><code>isnoisy</code>, <code>m</code>, <code>r</code>, <code>tc1</code>, <code>tc2</code>, <code>trise</code>, <code>kf</code>, <code>af</code>, <code>fexp</code>, <code>ldexp</code>, <code>wdexp</code>, <code>l</code>, <code>w</code>, <code>mr</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082521"></a>Capacitor&#160;&#160; </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082523"></a><code>c</code>, <code>m</code>, <code>tc1</code>, <code>tc2</code>, <code>trise</code>, <code>ic,</code> <code>ctype</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082525"></a>Inductor&#160;&#160;  </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082527"></a><code>l</code>, <code>m</code>, <code>tc1</code>, <code>tc2</code>, <code>trise</code> </p>
</td>
</tr>
</tbody></table>

<h4>
<a id="pgfId-1047965"></a>Mathematical Definitions </h4>

<ul><li>
<a id="pgfId-1047966"></a><code>i = ddt(q) = ddt(simple_expr) </code></li><li>
<a id="pgfId-1047967"></a><code>v = ddt(phi) = ddt(simple_expr) </code></li><li>
<a id="pgfId-1047968"></a><code>v = i * r = i* simple_expr </code></li><li>
<a id="pgfId-1047969"></a><code>i = g * v = simple_expr * v </code></li><li>
<a id="pgfId-1047970"></a><code>i = c * ddt(v) = simple_expr * ddt(v)</code></li><li>
<a id="pgfId-1047971"></a><code>v = l * ddt(i) = simple_expr * ddt(i)</code></li></ul>






<h4>
<a id="pgfId-1047972"></a>Operating Point Parameters </h4>
<h4><em>
<a id="pgfId-1051199"></a>Capacitor</em></h4>
<table class="webflareTable" id="#id1082536">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082538"></a><code>cap (F)</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082540"></a>Capacitance at operating point</p>
</td>
</tr>
</tbody></table>
<h4><em>
<a id="pgfId-1047975"></a>Conductor</em></h4>
<table class="webflareTable" id="#id1082549">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082551"></a><code>g (S)</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082553"></a>Conductance at operating point</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082555"></a><code>v (V)</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082557"></a>Voltage at operating point</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082559"></a><code>i (A)</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082561"></a>Current through the conductor</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082563"></a><code>pwr (W)</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082565"></a>Power dissipation.</p>
</td>
</tr>
</tbody></table>
<h4><em>
<a id="pgfId-1051330"></a>Current Source</em></h4>
<table class="webflareTable" id="#id1082570">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082572"></a><code>v (V)</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082574"></a>Voltage across the source</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082576"></a><code>i (A)</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082578"></a>Current through the source</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082580"></a><code>pwr (W)</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082582"></a>Power dissipation</p>
</td>
</tr>
</tbody></table>
<h4><em>
<a id="pgfId-1047984"></a>Inductor</em></h4>
<table class="webflareTable" id="#id1082587">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082589"></a><code>ind (H)</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082591"></a>Inductance at operating point</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082593"></a><code>i (A)</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082595"></a>Current at operating point</p>
</td>
</tr>
</tbody></table>
<h4><em>
<a id="pgfId-1047987"></a>Charge</em></h4>
<table class="webflareTable" id="#id1082600">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082602"></a><code>cap (F)</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082604"></a>Capacitance at operating point</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082606"></a><code>ddt_v (V/s)</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082608"></a>Voltage gradient at operating point</p>
</td>
</tr>
</tbody></table>
<h4><em>
<a id="pgfId-1047990"></a>Resistor</em></h4>
<table class="webflareTable" id="#id1082613">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082615"></a><code>v (V)</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082617"></a>Voltage at operating point</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082619"></a><code>i (A)</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082621"></a>Current through the resistor</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082623"></a><code>res (Ohm)</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082625"></a>Resistance at operating point</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082627"></a><code>pwr (W)</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082629"></a>Power dissipation</p>
</td>
</tr>
</tbody></table>
<h4><em>
<a id="pgfId-1047995"></a>Voltage Source</em></h4>
<table class="webflareTable" id="#id1082634">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082636"></a><code>v (V)</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082638"></a>Voltage across the source</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082640"></a><code>i (A)</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082642"></a>Current through the source</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082644"></a><code>pwr (W)</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082646"></a>Power dissipation</p>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-1048000"></a>Temperature Effects on bsource</h4>

<p>
<a id="pgfId-1048001"></a>The equation for computing temperature factor is as follows: </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048002"></a>tempFactor = [1 + tc1*(temp+trise-tnom)+tc2*(temp+trise-tnom)^2]</pre>
<h4>
<a id="pgfId-1081046"></a>Frequency Eff<a id="frequency_effects"></a>ects on bsource</h4>

<p>
<a id="pgfId-1081047"></a>The support for frequency-dependent bsource is available. You can use a frequency-dependent resistor, capacitor, inductor, or bsource component in ac/noise/xf/sp/hb/hbac/hbnoise analyses.</p>
<p>
<a id="pgfId-1081048"></a>The syntax is as follows:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081049"></a>name ( node1 node2 ) model_name behav_param=freq_expression</pre>

<p>
<a id="pgfId-1081050"></a>where:</p>
<ul><li>
<a id="pgfId-1081051"></a><code>name</code> is the name of the instance</li><li>
<a id="pgfId-1081052"></a><code>model_name</code> can be bsource, resistor, capacitor, and inductor</li><li>
<a id="pgfId-1081053"></a><code>behav_param</code> is the r, c or l parameter.</li><li>
<a id="pgfId-1081054"></a><code>freq_expression</code> can be specified by arbitrary expressions using the <code>$freq</code> keyword.</li></ul>



<p>
<a id="pgfId-1081055"></a>Following are some examples using <code>$freq</code>:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081057"></a>res (n1 n2) bsource r= 100 + sqrt($freq)/1e6</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081058"></a>res (n1 n2) resistor&#160;&#160;r= 100 + sqrt($freq)/1e6</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081059"></a>cap (n1 n2) bsource c=1e-12/(1+($freq)/1e9)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081060"></a>cap (n1 n2) capacitor c=1e-12/(1+($freq)/1e9)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081061"></a>ind (n1 n2) bsource l=1e-9+1e-9/(1+($freq)/1e9)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081033"></a>ind (n1 n2) inductor l=1e-9+1e-9/(1+($freq)/1e9)</pre>
<h4>
<a id="pgfId-1048003"></a>Examples of bsource Usage</h4>
<h4><em>
<a id="pgfId-1048004"></a><strong>Non-linear resistor/capacitor/inductor modeling</strong> </em></h4>

<p>
<a id="pgfId-1081190"></a><strong>Frequency-dependent resistor component</strong></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081282"></a>res1&#160;&#160;(n1 n2)&#160;&#160;bsource r=100*(1+(1/2)*v(n1,n2)) </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048006"></a>res2&#160;&#160;(n1 n2)&#160;&#160;resistor r=100*(1+(1/2)*v(n1,n2)) </pre>

<p>
<a id="pgfId-1081257"></a>In this example, the resistance of <code>res1</code> is frequency-dependent. Therefore, if you run hb and hbnoise analyses for different frequencies, the resistance varies accordingly.</p>
<p>
<a id="pgfId-1048007"></a><strong>Frequency-dependent capacitor component</strong></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081317"></a>C1&#160;&#160;(1&#160;&#160;0) capacitor c=1e-12/(1+($freq)/1e9)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081318"></a>V1 (1 0 ) vsource type=sine freq=1G&#160;&#160;fundname=&quot;freq&quot; </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081319"></a>ac ac start=1 stop=100M </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081320"></a>hb hb tstab=0n funds=[&quot;freq&quot;] maxharms=[5] errpreset=conservative </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048008"></a>hbac hbac start=1 stop=1G dec=3</pre>

<p>
<a id="pgfId-1081367"></a>In this example, the capacitance of <code>C1</code> is frequency-dependent. Therefore, if you run hb and hbnoise analyses for different frequencies, the capacitance varies accordingly.</p>
<p>
<a id="pgfId-1048009"></a><strong>Frequency-dependent inductor component</strong></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081408"></a>L1&#160;&#160;(1&#160;&#160;0) inductor l=1e-9+1e-9/(1+($freq)/1e9) </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081409"></a>V1 (1 0 ) vsource type=sine freq=1G&#160;&#160;fundname=&quot;freq&quot;&#160;&#160;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081410"></a>ac ac start=1 stop=100M </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081411"></a>hb hb tstab=0n funds=[&quot;freq&quot;] maxharms=[5] errpreset=conservative </pre>

<p>
<a id="pgfId-1048010"></a>In this example, the inductance of <code>L1</code> is frequency-dependent. Therefore, if you run hb analysis for different frequencies, the inductance varies accordingly. </p>
<p>
<a id="pgfId-1081499"></a><strong>Charge model for capacitor</strong> </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081500"></a>cap&#160;&#160;(n1 n2) bsource q=1.0e-6*v(n1,n2) </pre>

<p>
<a id="pgfId-1081501"></a><strong>Voltage and current (Sinewave) source</strong> </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081514"></a>vsrc (n1 n2) bsource v=10.0*sin(2*pi*freq*$time) </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081515"></a>isrc (n1 n2) bsource i=1.0e-3*sin(2*pi*freq*$time) </pre>

<p>
<a id="pgfId-1048016"></a><strong>Current-controlled current source </strong></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081538"></a>vsrc (n1 n2) vsource v=10 </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081539"></a>cccs1 (n3 n4) bsource i=gain*i(&quot;vsrc:1&quot;) </pre>

<p>
<a id="pgfId-1048019"></a><strong>Current-controlled voltage source </strong></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081562"></a>vsrc (n1 n2) vsource v=10</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081563"></a>ccvs1 (n3 n4) bsource v=100*i(&quot;vsrc:1&quot;) </pre>

<p>
<a id="pgfId-1048022"></a><strong>Voltage-controlled voltage source </strong></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081586"></a>vsrc (n1 n2) resistor r=100k </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081587"></a>vcvs1 (n3 n4) bsource v=gain*v(n1,n2)</pre>

<p>
<a id="pgfId-1048025"></a><strong>Voltage-controlled current source</strong> </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081610"></a>vsrc (n1 n2) resistor r=100k </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081633"></a>vccs1 (n3 n4) bsource i=v(n1,n2)/2000.0 </pre>

<p>
<a id="pgfId-1048028"></a><strong>Restricting voltage limit </strong></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081644"></a>res (n1 n2) bsource r=100*(1+(1/2)*v(n1,n2)) max_val=105 min_val=95 </pre>

<p>
<a id="pgfId-1048030"></a><strong>Using temperature coefficient for resistor </strong></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081659"></a>res (n1 n2) bsource r=100&#160;&#160;tc1=0.01 tc2=0.003 trise=10 tnom=30</pre>

<p>
<a id="pgfId-1048032"></a><strong>Using DC mismatch parameter for resistor </strong></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081675"></a>res (n1 n2) bsource r=100&#160;&#160;mr=0.3</pre>

<p>
<a id="pgfId-1048034"></a><strong>Using model card </strong></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081690"></a>model model_card_res resistor tc1=0.1 tc2=0.1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081713"></a>res (n1 n2) model_card_res r=100*(1+(1/2)*v(n1,n2))</pre>

<p>
<a id="pgfId-1048038"></a><strong>Sample netlist with bsource </strong></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081724"></a>vsrc1 (n1 n2) bsource v=10*sin(2*pi*freq1*$time)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081725"></a>vsrc2 (n3 n4) bsource v=10*cos(2*pi*freq2*$time)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081726"></a>cccs1 (n5 n6) bsource i=gain*i(&quot;vsrc1:1&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081727"></a>res&#160;&#160; (n5 n6) bsource r=100*(1+(1/2)*v(n5,n6))</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081728"></a>        </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081729"></a>tran1 tran stop=1u</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081730"></a>        </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081731"></a>altAnal altergroup {</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081732"></a> cccs1 (n5 n6) bsource i=gain*i(&quot;vsrc2:1&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081733"></a> res&#160;&#160; (n5 n6) bsource r=100*(1+(1/3)*pow(v(n5,n6),2))</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081734"></a>}</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081735"></a>tran2 tran stop=1u</pre>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1067278"></a>With standard (simple) syntax for resistor/capacitor/inductor, the <code>bsource</code> keyword is not required in the statement. However, if the keyword is specified, Spectre treats the resistor/capacitor/inductor as a behavioral source.</div>
<h4>
<a id="pgfId-1070758"></a><a id="48977"></a>bsource Compilation</h4>

<p>
<a id="pgfId-1072044"></a>Spectre automatically translates bsource components into verilogA models for simulation. As such, they are compiled prior to simulation just like any other verilogA model.</p>

<h2>
<a id="pgfId-1048069"></a><a id="74015"></a>Checkpoint - Restart (checkpoint)<a id="marker-1048068"></a></h2>
<h4>
<a id="pgfId-1052297"></a>Description</h4>

<p>
<a id="pgfId-1065408"></a>Spectre has the ability to save the checkpoint files generated during analyses, and to restart an analysis from its checkpoint file. Checkpoint files can be generated in the following ways:</p>
<ul><li>
<a id="pgfId-1052298"></a>Periodically, based on real time (wall clock time).</li><li>
<a id="pgfId-1052299"></a>Asynchronous UNIX signals.</li><li>
<a id="pgfId-1052300"></a>By other methods unique to the analyses.</li></ul>


<p>
<a id="pgfId-1052301"></a>To generate checkpoint files periodically based on real time, set the Spectre option <code>ckptclock</code> to the time interval, in seconds. This option is turned on by default with a value of 1800 seconds (30 minutes). Spectre deletes the checkpoint file if the simulation completes normally. If the simulation terminates abnormally, the checkpoint file is not deleted.</p>
<p>
<a id="pgfId-1048077"></a>If Spectre receives the UNIX signal <code>USR2</code>, Spectre immediately writes a checkpoint file. If Spectre receives interrupt signals, such as <code>QUIT</code>, <code>TERM</code>, <code>INT</code>, or <code>HUP</code>, Spectre attempts to write a checkpoint file and then exits. For other fatal signals, Spectre may not write a checkpoint file.</p>
<p>
<a id="pgfId-1048078"></a>The name of the checkpoint file is a combination of the circuit name and the analysis name with the extension<code>.ckpt</code>. For example, if the circuit is named <code>test1</code> and the transient analysis is named <code>timeSweep</code>, the checkpoint file is named <code>test1.timeSweep.tran.ckpt</code>.</p>
<p>
<a id="pgfId-1048079"></a>Spectre keeps only the latest checkpoint file. It creates a new checkpoint file with a temporary name. After the file is successfully written, Spectre deletes the previous checkpoint file created earlier and renames the new file.</p>
<p>
<a id="pgfId-1048080"></a>Currently, only transient analysis supports checkpoint files and restart.</p>

<h4>
<a id="pgfId-1048081"></a>Checkpoint</h4>

<p>
<a id="pgfId-1048082"></a>Transient analysis can generate checkpoint files periodically based on the transient simulation time. This is done by using a transient analysis parameter named <code>ckptperiod</code>, which is turned off by default. To enable the checkpoint feature, the argument <code>+checkpoint</code> must be added to the <code>spectre</code> command.</p>

<h4>
<a id="pgfId-1048083"></a>Restart</h4>

<p>
<a id="pgfId-1048084"></a>To restart an analysis from a checkpoint file, use the <code>+recover</code> option with the <code>spectre</code> command. Spectre searches the analyses log for the checkpoint file. If the checkpoint file for the analysis exists, Spectre skips over any previous analyses, and restarts the analysis by using the information from the file.</p>
<p>
<a id="pgfId-1085959"></a>For more information, see <em><a actuate="user" class="URL" href="../spectreuser/chap10.html#save-restart" show="replace" xml:link="simple">Recovering From Transient Analysis Terminations</a></em> section in the <em>Spectre Classic Simulator, Spectre APS, Spectre X, and Spectre XPS User Guide</em>.</p>

<h2>
<a id="pgfId-1048086"></a><a id="91978"></a>Configuring CMI Shared Objects (cmiconfig)<a id="marker-1048085"></a></h2>
<h4>
<a id="pgfId-1048088"></a>Description<a id="marker-1048087"></a></h4>

<p>
<a id="pgfId-1048089"></a>Spectre supports the ability to install devices dynamically from shared objects at run time. CMI Configuration files are used to determine and locate the set of shared objects to be installed as follows:</p>
<ol><li>
<a id="pgfId-1062871"></a>Spectre first reads the default CMI configuration file that specifies the default shared objects provided by Cadence. </li><li>
<a id="pgfId-1062882"></a>The configuration file specified by the value of the <code>CMI_CONFIG</code> environment variable is then read. </li><li>
<a id="pgfId-1062889"></a>The third configuration file that Spectre reads is <code>~/.cmiconfig</code>. </li><li>
<a id="pgfId-1062896"></a>Finally, the configuration file specified in the <code>-cmiconfig</code> command-line argument is read. </li></ol>



<p>
<a id="pgfId-1063343"></a>Each CMI configuration file modifies the existing configuration established by the configuration files read before.</p>
<p>
<a id="pgfId-1048090"></a>The following commands can be used in a CMI configuration file.</p>
<p>
<a id="pgfId-1048091"></a><code>setpath</code>: Specifies and resets the search path </p>

<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1052354"></a>setpath &lt;path&gt; or setpath ( &lt;path1&gt; &lt;path2&gt; ... &lt;pathN&gt; )</pre>

<p>
<a id="pgfId-1048093"></a><code>prepend</code>: Adds a path before the current search path</p>

<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1048094"></a>prepend &lt;path&gt; or prepend ( &lt;path1&gt; &lt;path2&gt; ... &lt;pathN&gt; )</pre>

<p>
<a id="pgfId-1048095"></a><code>append:</code> Adds a path after the current search path</p>

<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1048096"></a>append &lt;path&gt; or append ( &lt;path1&gt; &lt;path2&gt; ... &lt;pathN&gt; )</pre>

<p>
<a id="pgfId-1048097"></a><code>load:</code> Adds a shared object to the list of shared objects to load</p>

<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1048098"></a>loads [path/]&lt;shared_object_name&gt; </pre>

<p>
<a id="pgfId-1048099"></a><code>unload:</code> Removes a shared object from the list of shared objects to load</p>

<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1048100"></a>unload &lt;shared_object_name&gt;</pre>

<p>
<a id="pgfId-1070813"></a>For example, given the following CMI configuration file: </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070814"></a>append /hm/MMSIM_INSTALL/tools.lnx86/cmi/lib/cmi/5.0<br />load libbjtx+tfet.so<br />load libmosx.so</pre>

<p>
<a id="pgfId-1070901"></a>The shared objects <code>libbjtx+tfet.so</code> and <code>libmosx.so</code> are loaded from <code>/hm/MMSIM_INSTALL/tools.lnx86/cmi/lib/cmi/5.0</code>, in addition to the default shared objects provided by Cadence.</p>
<p>
<a id="pgfId-1085981"></a>For more information, refer to the<em><a actuate="user" class="URL" href="../spectreuser/appB.html#firstpage" show="replace" xml:link="simple"> Using Compiled-Model Interface</a></em> chapter in the <em>Spectre Classic Simulator, Spectre APS, Spectre X, and Spectre XPS User Guide</em>.</p>

<h2>
<a id="pgfId-1048108"></a><a id="68118"></a>Built-in Mathematical and Physical Constants (constants)<a id="marker-1048109"></a></h2>
<h4>
<a id="pgfId-1048111"></a>Description<a id="marker-1048110"></a></h4>

<p>
<a id="pgfId-1048112"></a>Spectre supports the following list of built-in mathematical and physical constants:</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1052547"></a><code>M_</code> is a mathematical constant</div>
<p>
<a id="pgfId-1052554"></a></p>
<table class="webflareTable" id="#id1052559">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1052561"></a><code>M_E</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1052563"></a><code>2.7182818284590452354</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1052565"></a><code>exp(1) = e</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1052567"></a><code>M_LOG2E</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1052569"></a><code>1.4426950408889634074</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1052571"></a><code>log2(e)</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1052573"></a><code>M_LOG10E</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1052575"></a><code>0.43429448190325182765</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1052577"></a><code>log10(e)</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1052784"></a><code>M_LN2</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1052786"></a><code>0.69314718055994530942 </code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1052788"></a><code>ln(2)</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1052790"></a><code>M_LN10</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1052792"></a><code>2.30258509299404568402</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1052794"></a><code>ln(10)</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1052796"></a><code>M_PI</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1052798"></a><code>3.14159265358979323846</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1052800"></a><code>pi</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1052987"></a><code>M_TWO_PI</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1052989"></a><code>6.28318530717958647652</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1052991"></a><code>2 * pi</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1052993"></a><code>M_PI_2</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1052995"></a><code>1.57079632679489661923</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1052997"></a><code>pi/2</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1052999"></a><code>M_PI_4</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1053001"></a><code>0.78539816339744830962</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1053003"></a><code>pi/4</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1053005"></a><code>M_1_PI</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1053007"></a><code>0.31830988618379067154</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1053009"></a><code>1/pi</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1053297"></a><code>M_2_PI</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1053299"></a><code>0.63661977236758134308</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1053301"></a><code>2/pi</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1053303"></a><code>M_2_SQRTPI</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1053305"></a><code>1.12837916709551257390</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1053307"></a><code>2/sqrt(pi)</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1053309"></a><code>M_SQRT2</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1053311"></a><code>1.41421356237309504880</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1053313"></a><code>sqrt(2)</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1053315"></a><code>M_SQRT1_2</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1053317"></a><code>0.70710678118654752440</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1053319"></a><code>sqrt(1/2)</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1053569"></a><code>M_DEGPERRAD</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1053571"></a><code>57.2957795130823208772</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1053573"></a>number of degrees per radian</p>
</td>
</tr>
</tbody></table>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1048129"></a><code>P_</code> is a physical constant</div>
<p>
<a id="pgfId-1053643"></a></p>
<table class="webflareTable" id="#id1053651">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1053653"></a><code>P_Q</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1053655"></a><code>1.6021918e-19</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1053657"></a>charge of electron in coulombs</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1053659"></a><code>P_C</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1053661"></a><code>2.997924562e8</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1053663"></a>speed of light in vacuum in meters/sec</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1053665"></a><code>P_K</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1053667"></a><code>1.3806226e-23</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1053669"></a>Boltzmann&#8217;s constant in joules/Kelvin</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1053910"></a><code>P_H</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1053912"></a><code>6.6260755e-34</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1053914"></a>Planck&#8217;s constant in joules*sec</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1053916"></a><code>P_EPS0</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1053918"></a><code>8.85418792394420013968e-12</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1053920"></a>permittivity of vacuum in farads/meter</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1053922"></a><code>P_U0</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1053924"></a><code>(4.0e-7 * M_PI)</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1053926"></a>permeability of vacuum in henrys/meter</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1053928"></a><code>P_CELSIUS0</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1053930"></a><code>273.15</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1053932"></a>zero Celsius in Kelvin</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1048137"></a>These constants can be used in expressions, or anywhere where a numeric value of the expression is expected.</p>

<h2>
<a id="pgfId-1048139"></a><a id="58053"></a>Convergence Difficulties (convergence)<a id="marker-1048138"></a></h2>
<h4>
<a id="pgfId-1048141"></a>Description<a id="marker-1048140"></a></h4>

<p>
<a id="pgfId-1048142"></a>If you are having convergence difficulties, try the following suggestions:</p>
<ol><li>
<a id="pgfId-1048144"></a>Evaluate and resolve any notice, warning, or error messages.</li><li>
<a id="pgfId-1048145"></a>Ensure that the topology checker is being used (set topcheck=full on options statement) and heed any warnings it generates.</li><li>
<a id="pgfId-1048146"></a>Perform sanity check on the parameter values by using the parameter range checker (use <code>+param param-limits-file</code> as a command line argument) and heed any warnings. Print the minimum and maximum parameter value by using <code>info</code> analysis. Ensure that the bounds given for instance, model, output, temperature-dependent, and operating-point (if possible) parameters are reasonable.</li><li>
<a id="pgfId-1048147"></a>Small floating resistors connected to high impedance nodes can cause convergence difficulties. Avoid small floating resistors, particularly small parasitic resistors in semiconductors. Instead, use voltage sources or iprobes to measure current.</li><li>
<a id="pgfId-1048148"></a>Use realistic device models. Check all component parameters, particularly nonlinear device model parameters, to ensure that they are reasonable.</li><li>
<a id="pgfId-1054249"></a>Increase the value of gmin (on options statement).</li><li>
<a id="pgfId-1054250"></a>Loosen tolerances, particularly absolute tolerances like <code>iabstol</code> (on options statement). If tolerances are set too tight, they might preclude convergence.</li><li>
<a id="pgfId-1054246"></a>Try to simplify the nonlinear component models to avoid regions that might contribute to convergence problems in the model.</li></ol>








<h4>
<a id="pgfId-1048153"></a>DC Convergence Suggestions</h4>

<p>
<a id="pgfId-1048154"></a>After you have a solution, write it to a nodeset file by using the <code>write</code> parameter, and read it back in on subsequent simulations by using the <code>readns</code> parameter.</p>
<ol><li>
<a id="pgfId-1048155"></a>If you have an estimate of what the solution should be, use <code>nodeset</code> statements or a nodeset file, and set as many nodes as possible.</li><li>
<a id="pgfId-1048156"></a>If convergence difficulties occur when using nodesets or initial conditions, try increasing <code>rforce</code> (on options statement).</li><li>
<a id="pgfId-1048157"></a>If this is not the first analysis and the solution from the previous analysis is far from the solution for this analysis, set <code>restart=yes</code>.</li><li>
<a id="pgfId-1048158"></a>If simulating a bipolar analog circuit, ensure that the region parameter on all transistors and diodes is set correctly.</li><li>
<a id="pgfId-1048159"></a>If the analysis fails at an extreme temperature, but succeeds at room temperature, try adding a DC analysis that sweeps temperature. Start at room temperature, sweep to the extreme temperature, and write the final solution to a <code>nodeset</code> file.</li><li>
<a id="pgfId-1048160"></a>Use numeric pivoting in the sparse matrix factorization by setting <code>pivotdc=yes</code> (on options statement). Sometimes, it is also necessary to increase the pivot threshold to a value in the range of 0.1 to 0.5 by using <code>pivrel</code> (on options statement).</li><li>
<a id="pgfId-1048161"></a>Divide the circuit into smaller pieces and simulate them individually. However, ensure that the results are close to what they would be if you had simulated the whole circuit. Use the results to generate nodesets for the whole circuit.</li><li>
<a id="pgfId-1078122"></a>Check the connections to ground. Convergence problems might result if there are no connections to ground. </li><li>
<a id="pgfId-1048162"></a>If all else fails, replace the DC analysis with a transient analysis and modify all the independent sources to start at zero and ramp to their DC values. Run transient analysis well beyond the time when all the sources have reached their final value (remember that transient analysis is cheap when none of the signals in the circuit are changing) and write the final point to a <code>nodeset</code> file. To make transient analysis more efficient, set the integration method to backward Euler (<code>method=euler</code>) and loosen the local truncation error criteria by increasing <code>lteratio</code>, say to 50. Occasionally, this approach fails, or is slow because the circuit contains an oscillator. Often, for finding the dc solution, the oscillation can be eliminated by setting the minimum capacitance from each node to ground (<code>cmin</code>) to a large value.</li></ol>









<h4>
<a id="pgfId-1048164"></a>Transient Convergence Suggestions</h4>

<ol><li>
<a id="pgfId-1048165"></a>Ensure that a complete set of parasitic capacitors is used on nonlinear devices to avoid jumps in the solution waveforms. On MOS models, specify nonzero source and drain areas.</li><li>
<a id="pgfId-1048166"></a>Use the <code>cmin</code> parameter to install a small capacitor from every node in the circuit to ground. This usually eliminates any jump in the solution.</li></ol>


<h2>
<a id="pgfId-1080088"></a>The dcopt command line option (dcopt)</h2>
<h4>
<a id="pgfId-1080118"></a>Description<a id="marker-1080117"></a></h4>

<p>
<a id="pgfId-1085940"></a>The <code>dcopt</code> option speeds up the DC simulation in Spectre and APS for post-layout circuits that consist of large number of parasitic resistors and capacitors, which require significant time in DC simulation. It can also be used to solve the non-convergence issues in DC simulations of any other circuit.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1080122"></a>In some cases, the DC solution obtained using the <code>dcopt</code> command-line option may not be as accurate as the true DC solution.</div>
<h4>
<a id="pgfId-1080130"></a>Definition<a id="marker-1080129"></a></h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1080131"></a>+dcopt in the command line</pre>
<h2>
<a id="pgfId-1048168"></a><a id="86344"></a>encryption (encryption)<a id="marker-1048167"></a></h2>
<h4>
<a id="pgfId-1048170"></a>Description<a id="marker-1048169"></a></h4>

<p>
<a id="pgfId-1062925"></a>Encryption enables you to protect your proprietary parameters, subcircuits, models, netlists, and release your libraries to your customers without revealing sensitive information.</p>
<ol><li>
<a id="pgfId-1048171"></a>Define Encryption blocks in the netlist <br />
<a id="pgfId-1071190"></a>Keywords (<code>protect</code>, <code>unprotect</code>) are used for defining an encryption <code>block.</code>The dot keywords are used in the context of the spice mode: <code>.protect</code>, <code>.unprotect</code>.<code>protect</code>, <code>unprotect</code> can be abbreviated to <code>prot</code>, <code>unprot</code>(or, .<code>prot</code>, <code>.unprot</code> in spice).<br />
<a id="pgfId-1068667"></a>If the whole file needs to be encrypted, one method is to put<code> protect</code> at the beginning of the file and <code>unprotect</code> at the end of the file. Alternatively,you can use the <code>-all</code> option of the spectre encrypt command.<br />
<a id="pgfId-1068655"></a>Examples of netlist with protected blocks:<br />
<a id="pgfId-1048175"></a><strong>Example: Protection of subckts</strong><pre class="webflare-pre-block webflare-courier-new" id="#id1048176">
<a id="pgfId-1048176"></a>protect</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1048177">
<a id="pgfId-1048177"></a>subckt sub1 ( ... ) </pre><pre class="webflare-pre-block webflare-courier-new" id="#id1048178">
<a id="pgfId-1048178"></a>....</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1048179">
<a id="pgfId-1048179"></a>ends sub1</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1048180">
<a id="pgfId-1048180"></a>subckt sub2 ( ... )</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1048181">
<a id="pgfId-1048181"></a>.....</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1048182">
<a id="pgfId-1048182"></a>ends sub2</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1048183">
<a id="pgfId-1048183"></a>unprotect</pre></li><li>
<a id="pgfId-1048184"></a><strong>Encrypt the netlist</strong><br />
<a id="pgfId-1048185"></a><code>spectre_encrypt</code> is a standalone encryptor, and is used as follows:<pre class="webflare-pre-block webflare-courier-new" id="#id1048186">
<a id="pgfId-1048186"></a>spectre_encrypt [-i input_file] [-o output_file] [-all] </pre>
<a id="pgfId-1062969"></a>where<br />
<a id="pgfId-1048187"></a><code>[-i Input_file]</code>: Netlist to be encrypted<br />
<a id="pgfId-1068637"></a><code>[-o output _file]</code>: Output file of the encrypted netlist<br />
<a id="pgfId-1068638"></a><code>[-all]</code>: The whole file will be encrypted in the input netlist<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1068639"></a>You can separately encrypt the include files or the library files in the netlist. Spectre encryptor does not encrypt the included files automatically.</div></li><li>
<a id="pgfId-1062990"></a>Simulate the encrypted netlist<strong> </strong><br />
<a id="pgfId-1048194"></a>There is no difference in how you run Spectre on an encrypted or unencrypted netlist. Spectre automatically decrypts an encrypted netlist.<br />
<a id="pgfId-1048195"></a>For encrypted netlists, Spectre turns on the protection for devices, models, signals, and parameters in the encrypted blocks. Any error or warning messages and the outputs from the protected information is suppressed or filtered out.<br />
<a id="pgfId-1048197"></a>The following list describes how protection is implemented:<ul><li>
<a id="pgfId-1048198"></a>Circuit inventory does not include encrypted parts.</li><li>
<a id="pgfId-1054367"></a>The <code>info</code> command suppresses all information on encrypted parts.</li><li>
<a id="pgfId-1054368"></a>Errors on encrypted parts are reported as:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1054369">
<a id="pgfId-1054369"></a>Error has occurred within the encrypted block (no details are given).</pre></li><li>
<a id="pgfId-1048202"></a>If a portion of the model is encrypted, the entire model is encrypted.</li><li>
<a id="pgfId-1048203"></a>Any command that references the protected elements results in an error message reporting that those elements do not exist.</li><li>
<a id="pgfId-1048205"></a>Protected device and model parameters cannot be altered directly through alter. However, if they depend on other alterable parameters, protected parameters are recalculated. Protected devices and models can be replaced in the altergroup.</li><li>
<a id="pgfId-1048209"></a>Protected nodes are output in an encrypted format when the <code>ic</code> file is requested (similarly, for nodes in checking point and restart).</li><li>
<a id="pgfId-1048211"></a>The encryption feature is not available in models using CMI 2.0.</li></ul></li><li>
<a id="pgfId-1048212"></a>Output operating points on protected devices<br />
<a id="pgfId-1048213"></a>By default, all information about the protected devices is suppressed and is not visible. However, IP providers have the control to expose the operating points of the protected devices to the end users for back annotation.<br />
<a id="pgfId-1048214"></a>Keywords (<code>visible</code>, <code>invisible</code>) or (<code>.visible</code>, <code>.invisible</code>) in the spice netlist content are defined to expose the operating points of encrypted devices.<br />
<a id="pgfId-1048215"></a>The operating point of the protected devices between visible and invisible is not suppressed by adding <code>what=oppoints</code> to the <code>visible</code> statement. <br />
<a id="pgfId-1048216"></a>For example:<pre class="webflare-pre-block webflare-courier-new" id="#id1048217">
<a id="pgfId-1048217"></a>prot</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1048218">
<a id="pgfId-1048218"></a>x1 n1 n2 n3 n4  nmos</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1048219">
<a id="pgfId-1048219"></a>visible what=oppoints </pre><pre class="webflare-pre-block webflare-courier-new" id="#id1048220">
<a id="pgfId-1048220"></a>x2  n5 n6 n7 n8  nmos</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1048221">
<a id="pgfId-1048221"></a>x3  n9 n10 n10 n8 pmos</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1048222">
<a id="pgfId-1048222"></a>invisible </pre><pre class="webflare-pre-block webflare-courier-new" id="#id1048223">
<a id="pgfId-1048223"></a>X4   n11 n12 n13 n13 pmos</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1069427">
<a id="pgfId-1069427"></a>unprot</pre></li></ol>


















































<p>
<a id="pgfId-1086020"></a>For more information, refer to the <em><a actuate="user" class="URL" href="../spectreuser/chap14.html#firstpage" show="replace" xml:link="simple">Encryption</a></em> chapter in <em>Spectre Classic Simulator, Spectre APS, Spectre X, and Spectre XPS User Guide</em>.</p>

<h2>
<a id="pgfId-1069431"></a><a id="75067"></a>Expressions (expressions)<a id="marker-1069430"></a></h2>
<h4>
<a id="pgfId-1048230"></a>Description<a id="marker-1048229"></a></h4>

<p>
<a id="pgfId-1048231"></a>An expression is a construct that combines operands with operators to produce a result that is a function of the values of the operands and the semantic meaning of the operators. Any legal operand is also an expression in itself. Legal operands include numeric constants and references to the top-level netlist parameters or subcircuit parameters. Calls to algebraic and trigonometric functions are also supported. The supported operators, algebraic, and trigonometric functions are listed after the examples. </p>
<p>
<a id="pgfId-1048232"></a><strong>Examples</strong>:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048233"></a>simulator lang=spectre</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048234"></a>parameters p1=1 p2=2&#160;&#160;          // declare some top-level parameters</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048235"></a>r1 (1 0) resistor r=p1&#160;&#160;        // the simplest type of expression</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048236"></a>r2 (1 0) resistor r=p1+p2&#160;&#160;     // a binary (+) expression </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048237"></a>r3 (1 0) resistor r=5+6/2&#160;&#160;     // expression of constants, = 8 </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048238"></a>x1 s1 p4=8&#160;&#160;    // instantiate a subcircuit, defined in the following lines</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048239"></a>subckt s1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048240"></a>parameters p1=4 p3=5 p4=6&#160;&#160;     // subcircuit parameters</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048241"></a>r1 (1 0) resistor r=p1&#160;&#160;            // another simple expression</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048242"></a>r2 (1 0) resistor r=p2*p2&#160;&#160;         // a binary multiply expression</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048243"></a>r3 (1 0) resistor r=(p1+p2)/p3&#160;&#160;    // a more complex expression</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048244"></a>r4 (1 0) resistor r=sqrt(p1+p2)&#160;&#160;   // an algebraic function call</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048245"></a>r5 (1 0) resistor r=3+atan(p1/p2)&#160;&#160; // a trigonometric function call</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048246"></a>r6 (1 0) RESMOD r=(p1 ? p4+1 : p3)&#160;&#160;// the ternary operator</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048247"></a>ends</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048248"></a>//&#160;&#160;a model card, containing expressions</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048249"></a>model RESMOD resistor tc1=p1+p2 tc2=sqrt(p1*p2)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048250"></a>//&#160;&#160;some expressions used with analysis parameters</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048251"></a>time_sweep tran start=0 stop=(p1+p2)*50e-6 // use 5*50e-6 = 150 us</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048252"></a>//&#160;&#160;a vector of expressions (see notes on vectors below)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048253"></a>dc_sweep dc param=p1 values=[0.5 1 +p2 (sqrt(p2*p2)) ]&#160;&#160;// sweep p1 </pre>

<p>
<a id="pgfId-1078361"></a>Using Expressions:</p>
<p>
<a id="pgfId-1048255"></a>The Spectre native netlist language allows expressions to be used where numeric values are expected on the right-hand side of an &quot;=&quot; sign, or within a vector, where the vector itself is on the right-hand side of an &quot;=&quot; sign. Expressions can be used when specifying device or analysis instance parameter values (for example, specifying the resistance of a resistor or the stop time of a transient analysis, as outlined in the preceding example), when specifying model parameter values in model cards (for example, specifying <code>bf=p1*0.8</code> for a bipolar model parameter, bf), or when specifying initial conditions and nodesets for individual circuit nodes. </p>

<h4>
<a id="pgfId-1048256"></a>Operators</h4>

<p>
<a id="pgfId-1048257"></a>The following operators are supported, listed in the order of decreasing precedence. Parentheses can be used to change the order of evaluation. For a binary expression, such as <code>a+b</code>, <code>a</code> is the first operand and <code>b</code> is the second operand. All operators are left associative, with the exceptions of the &quot;to the power of&quot; operator (**) and the ternary operator ( ? :&#160;&#160;), which are right associative. For logical operands, any nonzero value is considered true. The relational and equality operators return a value of 1 to indicate true, or 0 to indicate false. There is no short circuiting of logical expressions involving &amp;&amp; and ||.</p>

<p>
<a id="pgfId-1054511"></a></p>
<table class="webflareTable" id="#id1054516">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1054518">
<a id="pgfId-1054518"></a>Operator</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1054520">
<a id="pgfId-1054520"></a>Symbol(s)</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1054522">
<a id="pgfId-1054522"></a>Value</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1054524"></a>Unary +, Unary - </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1054526"></a><code>+, -</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1054528"></a>Value of operand, negative of operand.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1054530"></a>To the power of</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1054532"></a><code>**</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1054534"></a>First operand raised to the power of second operand</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1054536"></a>Multiply, Divide</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1054538"></a><code>*, /</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1054540"></a>Sum, Difference of operands</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1054708"></a>Binary Plus/Minus </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1054710"></a><code>+, - </code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1054712"></a>Sum, Difference of operands</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1054714"></a>Shift</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1054716"></a><code>&lt;&lt;, &gt;&gt;</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1054718"></a>First operand shifted left or right by the number of bits specified by the second operand</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1054720"></a>Relational</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1054722"></a><code>&lt;, &lt;=, &gt;, &gt;=</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1054724"></a>Less than, less than or equal, greater than, greater than or equal</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1054842"></a>Equality</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1054844"></a><code>==, !=</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1054846"></a>True if operands are equal, not equal</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1054848"></a>Bitwise AND</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1054850"></a><code>&amp;</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1054852"></a>Bitwise AND (of integer operands)</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1054854"></a>Bitwise Exclusive NOR</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1054856"></a><code>~^ (or ^~)</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1054858"></a>Bitwise Exclusive NOR (of integer operands)</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1054988"></a>Bitwise OR</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1054990"></a><code>|</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1054992"></a>Bitwise OR (of integer operands)</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1054994"></a>Logical AND</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1054996"></a><code>&amp;&amp;</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1054998"></a>True only if both operands are true.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1055000"></a>Logical OR</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1055002"></a><code>||</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1055004"></a>True if either operand is true</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1055006"></a>Ternary Operator</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1055008"></a><code>(cond) ? x : y</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1055010"></a>Returns x if <code>cond</code> is <code>true</code>, and y if <code>cond</code> is false, where x and y are expressions</p>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-1048278"></a>Algebraic and Trigonometric Functions</h4>

<p>
<a id="pgfId-1048279"></a>The trigonometric and hyperbolic functions expect their operands to be specified in radians. The atan2() and hypot() functions are useful for converting from Cartesian to polar form. </p>

<p>
<a id="pgfId-1090697"></a></p>
<table class="webflareTable" id="#id1090516">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090518">
<a id="pgfId-1090518"></a>Function
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090520">
<a id="pgfId-1090520"></a>Description
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090522">
<a id="pgfId-1090522"></a>Domain
</headingrunin></td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090524">
<a id="pgfId-1090524"></a>log(x)
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090526">
<a id="pgfId-1090526"></a>Natural logarithm
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090528">
<a id="pgfId-1090528"></a>x &gt; 0
</headingrunin></td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090530">
<a id="pgfId-1090530"></a>ln(x)
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090532">
<a id="pgfId-1090532"></a>Natural logarithm
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090534">
<a id="pgfId-1090534"></a>x &gt; 0
</headingrunin></td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090536">
<a id="pgfId-1090536"></a>log10(x)
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090538">
<a id="pgfId-1090538"></a>Decimal logarithm
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090540">
<a id="pgfId-1090540"></a>x &gt; 0
</headingrunin></td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090542">
<a id="pgfId-1090542"></a>exp(x) 
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090544">
<a id="pgfId-1090544"></a>Exponential
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090546">
<a id="pgfId-1090546"></a>x &lt; 80
</headingrunin></td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090548">
<a id="pgfId-1090548"></a>sqrt(x
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090550">
<a id="pgfId-1090550"></a>Square Root
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090552">
<a id="pgfId-1090552"></a>x &gt; 0
</headingrunin></td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090554">
<a id="pgfId-1090554"></a>min(x,y)
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090556">
<a id="pgfId-1090556"></a>Minimum value
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090558">
<a id="pgfId-1090558"></a> All x, all y
</headingrunin></td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090560">
<a id="pgfId-1090560"></a>max(x,y)
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090562">
<a id="pgfId-1090562"></a>Maximum value
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090564">
<a id="pgfId-1090564"></a>All x, all y
</headingrunin></td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090566">
<a id="pgfId-1090566"></a>abs(x)
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090568">
<a id="pgfId-1090568"></a>Absolute value
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090570">
<a id="pgfId-1090570"></a>All x
</headingrunin></td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090572">
<a id="pgfId-1090572"></a>pow(x,y
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090574">
<a id="pgfId-1090574"></a>x to the power of y
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090576">
<a id="pgfId-1090576"></a>All x, all y
</headingrunin></td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090578">
<a id="pgfId-1090578"></a>int(x) 
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090580">
<a id="pgfId-1090580"></a>integer value of x
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090582">
<a id="pgfId-1090582"></a>All x
</headingrunin></td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090584">
<a id="pgfId-1090584"></a>floor(x)
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090586">
<a id="pgfId-1090586"></a>largest integer &lt;= x
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090588">
<a id="pgfId-1090588"></a>All x
</headingrunin></td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090590">
<a id="pgfId-1090590"></a>ceil(x)
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090592">
<a id="pgfId-1090592"></a>smallest integer &gt;= x
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090594">
<a id="pgfId-1090594"></a>All x
</headingrunin></td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090596">
<a id="pgfId-1090596"></a>fmod(x,y)
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090598">
<a id="pgfId-1090598"></a>floating point modulus
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090600">
<a id="pgfId-1090600"></a>All x, all y, except y=0
</headingrunin></td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090602">
<a id="pgfId-1090602"></a>sgn(x)
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090604">
<a id="pgfId-1090604"></a>The sign of x
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090606">
<a id="pgfId-1090606"></a>All x
</headingrunin></td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090608">
<a id="pgfId-1090608"></a>sign(x,y)
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090610">
<a id="pgfId-1090610"></a>sgn(y)*fabs(x)
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090612">
<a id="pgfId-1090612"></a>All x, all y
</headingrunin></td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090614">
<a id="pgfId-1090614"></a>sin(x)
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090616">
<a id="pgfId-1090616"></a>Sine
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090618">
<a id="pgfId-1090618"></a>All x
</headingrunin></td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090620">
<a id="pgfId-1090620"></a>cos(x)
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090622">
<a id="pgfId-1090622"></a>Cosine
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090624">
<a id="pgfId-1090624"></a>All x
</headingrunin></td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090626">
<a id="pgfId-1090626"></a>tan(x)
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090628">
<a id="pgfId-1090628"></a>Tangent
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090630">
<a id="pgfId-1090630"></a>All x, except x = n*(pi/2), where n odd
</headingrunin></td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090632">
<a id="pgfId-1090632"></a>asin(x)
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090634">
<a id="pgfId-1090634"></a>Arc-sine
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090636">
<a id="pgfId-1090636"></a>-1 &lt;= x &lt;= 1
</headingrunin></td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090638">
<a id="pgfId-1090638"></a>acos(x)
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090640">
<a id="pgfId-1090640"></a>Arc-cosine
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090642">
<a id="pgfId-1090642"></a>-1 &lt;= x &lt;= 1
</headingrunin></td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090644">
<a id="pgfId-1090644"></a>atan(x)
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090646">
<a id="pgfId-1090646"></a>Arc-tangent 
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090648">
<a id="pgfId-1090648"></a>All x
</headingrunin></td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090650">
<a id="pgfId-1090650"></a>atan2(x,y)
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090652">
<a id="pgfId-1090652"></a>Arc-tangent of x/y
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090654">
<a id="pgfId-1090654"></a>All x, all y
</headingrunin></td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090656">
<a id="pgfId-1090656"></a>hypot(x,y)
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090658">
<a id="pgfId-1090658"></a>sqrt(x*x + y*y)
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090660">
<a id="pgfId-1090660"></a>All x, all y
</headingrunin></td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090662">
<a id="pgfId-1090662"></a>sinh(x)
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090664">
<a id="pgfId-1090664"></a>Hyperbolic sine
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090666">
<a id="pgfId-1090666"></a>All x
</headingrunin></td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090668">
<a id="pgfId-1090668"></a>cosh(x)
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090670">
<a id="pgfId-1090670"></a>Hyperbolic cosine
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090672">
<a id="pgfId-1090672"></a>All x
</headingrunin></td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090674">
<a id="pgfId-1090674"></a>tanh(x)
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090676">
<a id="pgfId-1090676"></a>Hyperbolic tangent
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090678">
<a id="pgfId-1090678"></a>All x
</headingrunin></td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090680">
<a id="pgfId-1090680"></a>asinh(x)
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090682">
<a id="pgfId-1090682"></a>Arc-hyberbolic sine
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090684">
<a id="pgfId-1090684"></a>All x
</headingrunin></td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090686">
<a id="pgfId-1090686"></a>acosh(x)
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090688">
<a id="pgfId-1090688"></a>Arc-hyperbolic cosine
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090690">
<a id="pgfId-1090690"></a>x &gt;= 1
</headingrunin></td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090692">
<a id="pgfId-1090692"></a>atanh(x)
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090694">
<a id="pgfId-1090694"></a>Arc-hyperbolic tangent
</headingrunin></td>
<td class="webflareTd" colspan="1" rowspan="1">
<headingrunin id="#id1090696">
<a id="pgfId-1090696"></a>-1 &lt;= x &lt;= 1
</headingrunin></td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1048310"></a>User-defined functions are also supported. See <code>spectre -h functions</code> for a description of user-defined functions.</p>
<p>
<a id="pgfId-1048311"></a>A large number of built-in mathematical and physical constants are available for use in expressions. See <code>spectre -h constants</code> for a list of these constants.</p>

<h4>
<a id="pgfId-1048312"></a>Using Expressions in Vectors</h4>

<p>
<a id="pgfId-1048313"></a>Expressions can be used as vector elements, as in the following example:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048314"></a>dc_sweep dc param=p1 values=[0.5 1 +p2 (sqrt(p2*p2)) ]&#160;&#160;// sweep p1 </pre>

<p>
<a id="pgfId-1068875"></a>When expressions are used within vectors, anything other than constants, parameters, or unary expressions (unary +, unary -) must be surrounded by parentheses. Vector elements should be space separated for clarity, though this is not mandatory. The preceding &quot;dc_sweep&quot; example shows a vector of four elements, namely 0.5, 1, +p2, and sqrt(p2*p2). </p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1089587"></a>The square root expression is surrounded by parentheses. </div>
<h2>
<a id="pgfId-1068886"></a><a id="24205"></a>The fastdc command line option (fastdc)<a id="marker-1068885"></a></h2>
<h4>
<a id="pgfId-1079910"></a>Description<a id="marker-1079909"></a></h4>

<p>
<a id="pgfId-1079921"></a>The <code>fastdc</code> option speeds up the DC simulation in Spectre and APS for large-scale circuits and for cases where DC convergence is slow or there is difficulty in DC convergence.</p>
<p>
<a id="pgfId-1079922"></a>The <code>fastdc</code> option provides a way to quickly obtain the approximate DC solution to start transient analysis.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1079923"></a>The DC solution obtained using the <code>fastdc</code> command-line option may not be as accurate as the true DC solution. The solution accuracy depends on the value specified for <code>fastdc</code>. The available values are 0, 1, 2, 3, and 4 (default).</div>

<p>
<a id="pgfId-1079925"></a>0 - The most accurate DC result and closest to true DC solutions with the slowest performance. It should be used for the circuits that require accurate DC solution, such as analog circuits.</p>
<p>
<a id="pgfId-1079927"></a>1 - The conservative DC result with slow performance. It should be used for the circuits that are sensitive to DC solution, such as analog dominated circuits.</p>
<p>
<a id="pgfId-1079929"></a>2 - The reasonable DC result with moderate performance. It should be used for the circuits that are lightly sensitive to DC solution, such as mixed-signal circuits.</p>
<p>
<a id="pgfId-1079931"></a>3 - The liberate DC results with fast performance. It should be used for the circuits that are less sensitive to DC solution, such as digital dominated circuits.</p>
<p>
<a id="pgfId-1079933"></a>4 - The least accurate DC result with the fastest performance. It should be used for the circuits that are not sensitive to DC solution, such as digital and memory circuits.</p>

<h4>
<a id="pgfId-1079936"></a>Definition<a id="marker-1079935"></a></h4>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1079913"></a> +fastdc (equal to +fastdc=4) or +fastdc=x (0, 1, 2, 3, 4) in the command line</div>
<h2>
<a id="pgfId-1089381"></a>Fault List for Transient Fault Analysis (faults)</h2>
<h4>
<a id="pgfId-1089411"></a>Description<a id="marker-1089410"></a></h4>

<p>
<a id="pgfId-1089412"></a>The faults block is used to specify the faults to be simulated during Transient Fault Analysis. It can contain the following types of faults: bridges (or equivalently shorts), opens, custom, and parametric.</p>
<p>
<a id="pgfId-1089517"></a>The bridge (short) block specifies the resistance value between any two nodes of the circuit. </p>
<p>
<a id="pgfId-1092565"></a>The node names are specified hierarchically. Local node names can be used when the <code>sub</code> or <code>dev</code> parameter is specified in faults block.</p>
<p>
<a id="pgfId-1092561"></a>Optional <code>dev</code> parameter is used to specify device instance associated with the bridge.</p>
<p>
<a id="pgfId-1089537"></a>The open block specifies the nodes that will be split into two. </p>
<p>
<a id="pgfId-1089417"></a>Parameter <code>r</code> specifies resistance between the new fault node and the original node. </p>
<p>
<a id="pgfId-1090285"></a>Optional parameter <code>c</code> specifies capacitance between the new fault node and the original node. </p>
<p>
<a id="pgfId-1089418"></a>The last block describes topology change: how the instances connected to the original node will be connected to the new fault node. All terminals of the instances specified in the open statement will be connected to the new node. All terminals that are not specified will remain connected to the original node. </p>
<p>
<a id="pgfId-1089421"></a>If no instance list is specified, a warning is issued and the fault is ignored. The terminals are specified by name or numerically starting from 1. If the specified terminal number 1 is the first terminal of the instance. If the specified terminal number of an instance in the instance list is not connected to the original node, an error is generated. If no terminal list is specified for an instance, all the terminals connected to the original node will remain connected to the original node. The node and instance names can be specified hierarchically.</p>
<p>
<a id="pgfId-1092600"></a>The parametric block specifies alter statements for a single parameter. Device, subcircuit, model, or global parameters can be used in alter statement.</p>
<p>
<a id="pgfId-1089428"></a>Within the faults block, the bridge, short, open, parametric, and custom blocks are optional. If none are specified, a warning is issued and the faults block is ignored. If more than one bridge, short, open, parametric, or custom block is specified within a faults block, they are concatenated and treated as one block. Every fault name in a faults block must be unique. Duplicate names result in an error.</p>
<p>
<a id="pgfId-1089432"></a>More than one faults block may be specified in the netlist and each faults block must have a unique name and a set of parameters associated with it.</p>
<p>
<a id="pgfId-1092680"></a>Fault grading can be performed by specifying <code>weight_factor</code> for each fault block, and <code>weight_expr</code> to apply weighting function for each fault in the block. </p>
<p>
<a id="pgfId-1092676"></a>Optional weight parameter can be used to assign weight value for each fault.</p>

<h4>
<a id="pgfId-1089435"></a>Definition<a id="marker-1089434"></a></h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1089436"></a></pre>
<h4>
<a id="pgfId-1089437"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1089438"></a>parameters resBridge=10 resOpen=1e9</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1091284"></a>faultlist1 faults { </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1089439"></a>    bridge { </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1089440"></a>        bridge_1 (g 0) r=resBridge </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1089441"></a>        bridge_2 (d s) r=10 </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1089442"></a>    } </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1089443"></a>    open {</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1089444"></a>        open_1 (a) r=resOpen { M2:d M1:g } </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1089445"></a>    } </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1089406"></a>}</pre>
<h2>
<a id="pgfId-1068879"></a><a id="54619"></a>User Defined Functions (functions)<a id="marker-1089508"></a></h2>
<h4>
<a id="pgfId-1048319"></a>Description<a id="marker-1048318"></a></h4>

<p>
<a id="pgfId-1048320"></a>Spectre&#8217;s user-defined function capability allows you to build upon the provided set of built-in mathematical and trigonometric functions. You can write your own functions, and call these functions from within any expression. The syntax for calling a user-defined function is the same as the syntax for calling a built-in algebraic or trigonometric function. The user-defined functions must be defined before they are referenced (called). Arguments to user-defined functions are taken as real values, and the functions return real values. A user-defined function may contain only a single statement in braces, and this statement must return an expression (which is typically an expression involving the function arguments). The return expression may reference the built-in parameters <code>temp</code> and <code>tnom</code>. User-defined functions must be declared only at the top level, and must not be declared within subcircuits. User-defined functions may be called from anywhere an expression can be currently used in Spectre. User-defined functions may call other functions (both user-defined and built-in), however, any user-defined function needs to be declared before it can be called. User-defined functions can override built-in mathematical and trigonometric functions. </p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1048321"></a>Only real values for arguments and return values are supported in this release.</div>

<p>
<a id="pgfId-1048322"></a>See <code>spectre -h expressions</code> for a list of built-in algebraic and trigonometric functions.</p>

<h4>
<a id="pgfId-1068631"></a>Definition<a id="marker-1068630"></a></h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1068632"></a> real myfunc( [real arg1, ...real argn] ) {<br /></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1068977"></a>}</pre>

<p>
<a id="pgfId-1068634"></a><strong>Examples</strong> </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048327"></a>real myfunc( real a, real b ) {</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1048328"></a>return a+b*2+sqrt(a*sin(b));</pre>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048329"></a>}</pre>

<p>
<a id="pgfId-1048330"></a>An example of a function calling a previously defined function is as follows: </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048331"></a>real yourfunc( real a, real b ) {</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1048332"></a>return a+b*myfunc(a,b);&#160;&#160;   // call &quot;myfunc&quot;</pre>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048333"></a>}</pre>

<p>
<a id="pgfId-1048334"></a>The final example shows how a user-defined function may be called from an expression in the Spectre netlist: </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048335"></a>r1 (1 0) resistor r=myfunc(2.0, 4.5)</pre>
<h2>
<a id="pgfId-1048337"></a><a id="68131"></a>Global Nodes (global)<a id="marker-1048336"></a></h2>
<h4>
<a id="pgfId-1048339"></a>Description<a id="marker-1048338"></a></h4>

<p>
<a id="pgfId-1048340"></a>The global statement allows a set of nodes to be designated as common to the main circuit and all subcircuits. Thus, components inside subcircuits can be attached to global nodes, even though the subcircuit terminals are not attached to these nodes. </p>
<p>
<a id="pgfId-1048341"></a>Any number of global nodes may be specified using the global statement. To do this, follow the keyword global with a list of the node names that you wish to declare as global. The first node name that appears in this list is taken to be the name of the ground node. Ground is also known as the datum or reference node. If a global statement is not used, 0 is taken to be the name of the ground node.</p>
<p>
<a id="pgfId-1048342"></a>Ground is always treated as global even if a global statement is not used. Multiple global statements are supported.</p>

<h4>
<a id="pgfId-1068622"></a>Definition<a id="marker-1068621"></a></h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1068623"></a>global &lt;ground&gt; &lt;node&gt; ...</pre>
<h2>
<a id="pgfId-1068627"></a><a id="63359"></a>IBIS Component Use Model (ibis)<a id="marker-1068626"></a></h2>
<h4>
<a id="pgfId-1048349"></a>Description<a id="marker-1048348"></a></h4>

<p>
<a id="pgfId-1048350"></a>IBIS (I/O Buffer Information Specification) is a standard for electronic behavioral specification of integrated circuit (IC) input/output analog characteristics. It allows you to define a model for the IC component package, and a buffer model for each pin. IBIS standard also allows you to describe a board-level component containing several components on a common substrate or printed circuit board (PCB). For example, a <code>SIMM</code> module is a board-level component that is used to attach several DRAM components on the PCB to a motherboard through edge connector pins. Board pins, components on the board, and connections between them are defined in an Electrical Board Description file with extension<code>.ebd</code>. Component pins, buffers, and package descriptions are in a separate IBIS file with extension<code>.ibs</code>. An Additional Package file with extension<code>.pkg</code> can be used to describe advanced package models. </p>
<p>
<a id="pgfId-1048351"></a>Spectre supports IBIS 6.0 and previous versions. Some keywords are not supported.</p>
<p>
<a id="pgfId-1048352"></a>IBIS files can be referenced in Spectre netlist by using the <code>ibis_include</code> statement: </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048353"></a>ibis_include &quot;DRAM.ibs&quot; [options] </pre>

<p>
<a id="pgfId-1048354"></a>IBIS file &quot;DRAM.ibs&quot; is translated into Spectre netlist format by using <code>ibis2subckt</code> utility. The output file, &quot;DRAM.scs&quot;, containing subcircuit definitions for each IBIS component, board, and package found in the input IBIS file, is included in the netlist. The list of options may consist of: <code>corner={typ|min|max|slow|fast}</code>, <code>swsel=&lt;int&gt;</code> and <code>mdsel=&lt;int&gt;</code>. These options are transferred to <code>ibis2subckt</code>. They are used to select IBIS buffer model corner, change position of series-switch models, and choose the required models from model selector list. </p>
<p>
<a id="pgfId-1048355"></a>IBIS component and board subcircuits can be instantiated in a Spectre netlist along with regular Spectre primitives. Subcircuit name is the same as the component name, but is appended with the suffix<code>_ibis</code>. Subcircuit terminals are component pins, arranged in the order they are listed in the IBIS file. Each pin terminal is followed by a number of signal terminals, depending on the type of the pin buffer model. For example, if m1 is defined in IBIS file as an input buffer model, and m2 - as I/O type, the following IBIS component: </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048356"></a>[Component] IC </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048357"></a>[Pin]&#160;&#160;signal_name&#160;&#160; model_name&#160;&#160; R_pin&#160;&#160;   L_pin     C_pin </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048358"></a>p1&#160;&#160;    s1            GND </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048359"></a>p3&#160;&#160;    s3            m1 </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048360"></a>p4&#160;&#160;    s4            NC </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048361"></a>p5&#160;&#160;    s5            m2 </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048362"></a>p2&#160;&#160;    s2            POWER </pre>

<p>
<a id="pgfId-1048363"></a>can be instantiated in the netlist as: </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048364"></a>x_ic ( p1 p3 s3_in p4 p5 s5_in s5_out s5_en p2 ) IC_ibis </pre>

<p>
<a id="pgfId-1048365"></a><code>ibis2subckt</code> can also be used as a stand-alone utility with the following command-line arguments:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048366"></a>ibis2subckt&#160;&#160;-in &lt;IBIS files&gt; -out &lt;subckt file&gt; -corner {typ|min|max|slow|fast} -swsel &lt;int&gt; -mdsel &lt;int&gt; </pre>

<p>
<a id="pgfId-1048367"></a>Default values are: </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048368"></a>corner&#160;&#160;typ </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048369"></a>mdsel&#160;&#160; -1 </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048370"></a>swsel&#160;&#160; -1 </pre>

<p>
<a id="pgfId-1048371"></a><strong>SPICE NETLIST SUPPORT</strong> </p>
<p>
<a id="pgfId-1048372"></a>For the IBIS component, Spectre also supports the <code>SPICE .IBIS</code> and <code>.EBD</code> statements.</p>
<p>
<a id="pgfId-1048373"></a>The supported parameters of<code>.IBIS</code> syntax are <code>file</code>, <code>component</code>, <code>mod_sel</code>, <code>package</code>, and <code>typ</code>.</p>

<h4>
<a id="pgfId-1082693"></a><strong>.IBIS Parameters</strong> </h4>
<table class="webflareTable" id="#id1082702">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082704"></a><code>file = &lt;string&gt;</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082706"></a>Specifies the IBIS file name with suffix <code>.ibs.</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082712"></a><code>component = &lt;string&gt;</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082714"></a>Specifies the used component name in the <code>.ibs</code> file.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082748"></a><code>mod_sel = &lt;string1=string2&gt;</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082750"></a>Maps the model selector name (string1) to the actual model name (string2), given as [Model selector] in the <code>.ibis</code> file. Multiple selectors are supported.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082778"></a><code>package = &lt;3|0|1|2&gt;</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082780"></a>Specifies the type of package. Default value is 3 (use the best available package model). <code>package=0</code> means no package is used. <code>package=1</code> means that an RLC package is used with the same values for all pins provided in the <code>[Package]</code> section. <code>package=2</code> means that an RLC package is used with individual RLC values for each pin provided in the <code>[Pin]</code> section. package=3 means that an advanced package model is used in the <code>[Package Model]</code> section.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1082816"></a><code>typ = &lt;typ|min|max|fast|slow&gt;</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082832"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082834"></a>Specifies the corner of the IBIS buffer. Default value is <code>typ</code> (typical).</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1082699"></a>The supported parameters of the <code>.EBD</code> syntax are <code>file</code>, <code>model</code>, and <code>component</code>. </p>
<p>
<a id="pgfId-1048388"></a><strong>.EBD Parameters</strong> </p>
<table class="webflareTable" id="#id1082851">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082853"></a><code>file = &lt;string&gt;</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082855"></a>Specifies the EBD file name with the suffix <code>.ebd</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082857"></a><code>model = &lt;string&gt;</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082859"></a>Specifies name of the board-level model provided in <code>.ebd</code> file</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082869"></a><code>component = &lt;string&gt;</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082871"></a>Specifies the component name of the ibis buffer. Multiple components are supported.</p>
</td>
</tr>
</tbody></table>
<p>
<a id="pgfId-1048393"></a><strong>Examples</strong></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048394"></a>.ibis I1 </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048395"></a>+ file = file.ibs </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048396"></a>+ component = Component </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048397"></a>+ mod_sel = DQ=DQ1,CQ=CQ1 </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1068616"></a>+ package=0 </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1068617"></a>+ typ=slow <br /></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1068618"></a>.ebd pkg </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048401"></a>+ file = file.ebd</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048402"></a>+ model = XXXX </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048403"></a>+ component = Component1 </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048404"></a>+ component = Component2</pre>

<p>
<a id="pgfId-1086415"></a><strong>Supported IBIS Keywords in Spectre</strong></p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1088130"></a>The supported keywords list below is based on IBIS version 6.0.</div>

<p>
<a id="pgfId-1086946"></a>The following shows the sections and keywords in the IBIS file that are supported in Spectre:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1086947"></a>.ibis FILE</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1086948"></a> FILE Header Section</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087148"></a>  [IBIS Ver]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087860"></a>  [Comment Char] </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087867"></a>  [File Name] </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087874"></a>  [File Rev] </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087881"></a>  [Date]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087888"></a>  [Source]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087895"></a>  [Notes]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087902"></a>  [Disclaimer]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087909"></a>  [Copyright]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087149"></a> [Component]&#160;&#160;               Si Location, Timing_location</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087157"></a>  [Manufacturer] </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087164"></a>  [Package]&#160;&#160;             R_pkg, L_pkg, C_pkg</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087171"></a>  [Pin]&#160;&#160;                 signal_name, model_name, R_pin, L_pin, C_pin</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087178"></a>  [Package Model]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087185"></a>  [Pin Mapping]&#160;&#160;         pulldown_ref, pullup_ref, gnd_clamp_ref,                                 power_clamp_ref, ext_ref</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087204"></a>  [Diff Pin]&#160;&#160;            inv_pin, vdiff, tdelay_typ, tdelay_min, tdelay_max</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087223"></a>  [Series Pin Mapping]&#160;&#160;  pin_2, model_name, function_table_group</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087242"></a>  [Series Switch Groups]&#160;&#160;On (m), Off (m)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087249"></a> [Model Selector]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087256"></a>  [Model]&#160;&#160;               Model_type, Polarity, Enable, Vinl, Vinh, C_comp,                                 C_comp_pullup, C_comp_pulldown,                                  C_comp_power_clamp, C_comp_gnd_clamp, Vmeas,                                 Cref, Rref, Vref</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087275"></a>   [Model Spec]&#160;&#160;      Vinh, Vin1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087282"></a>   [Add Submodel]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087289"></a>   [Driver Schedule]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087296"></a>   [Temperature Range]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087303"></a>   [Voltage Range]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087313"></a>   [Pullup Reference]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087320"></a>   [Pulldown Reference]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087327"></a>   [Power Clamp Reference]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087334"></a>   [GND Clamp Reference]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1088374"></a>   [C Comp Corner]             C_comp, C_comp_pullup, C_comp_pulldown,<br />                                        C_comp_power_clamp, C_comp_gnd_clamp</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1088375"></a>   [Pulldown]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087348"></a>   [Pullup]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087355"></a>   [GND Clamp]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087362"></a>   [POWER Clamp]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087369"></a>   [ISSO PU]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087376"></a>   [ISSO PD]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087383"></a>   [Rgnd]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087390"></a>   [Rpower]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087397"></a>   [Rac]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087404"></a>   [Cac]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087411"></a>   [On]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087418"></a>   [Off]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087425"></a>   [R Series]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087432"></a>   [L Series]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087439"></a>   [R1 Series]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087453"></a>   [C Series]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087460"></a>   [LC Series]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087467"></a>   [RC Series]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087474"></a>   [Series Current]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087481"></a>   [Series MOSFET]&#160;&#160;        Vds</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087488"></a>   [Ramp]&#160;&#160;                 dV/dt_r, dV/dt_f, R_load</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087507"></a>   [Rising Waveform]&#160;&#160;      R_fixture, V_fixture, V_fixture_min,                                      V_fixture_max, C_fixture, L_fixture,</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087526"></a>    [Composite Current]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087533"></a>   [Falling Waveform]&#160;&#160;     _fixture, V_fixture, V_fixture_min,                                      V_fixture_max, C_fixture, L_fixture,</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087552"></a>    [Composite Current]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087566"></a>   [External Model]&#160;&#160;       Language, Corner, Parameters, Ports, D_to_A,                                      A_to_D</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087589"></a>    [End External Model]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087596"></a>  [Sub Model]&#160;&#160;                Sub model type</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087603"></a>   [Sub Model Spec]&#160;&#160;       V_trigger_r, V_trigger_f</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087618"></a>   [POWER Pulse Table] </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087619"></a>   [GND Pulse Table] </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087620"></a>   [Pulldown] </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087621"></a>   [Pullup] </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087622"></a>   [GND Clamp] </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087623"></a>   [POWER Clamp] </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087610"></a>   [Ramp]&#160;&#160;                  dV/dt_r, dV/dt_f, R_load</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087636"></a>   [Rising Waveform]&#160;&#160;      R_fixture, V_fixture, V_fixture_min,                                      V_fixture_max, C_fixture, L_fixture,</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087651"></a>   [Falling Waveform]&#160;&#160;      R_fixture, V_fixture, V_fixture_min,                                      V_fixture_max, C_fixture, L_fixture,</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087672"></a>  [Define Package Model]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087681"></a>   [Manufacturer]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087688"></a>   [OEM]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087695"></a>   [Description]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087702"></a>   [Number of Sections]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087709"></a>   [Number of Pins]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087716"></a>   [Pin Numbers]&#160;&#160;           Len, L, R, C, Fork, Endfork</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087735"></a>   [Model Data]&#160;&#160;             </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087742"></a>    [Resistance Matrix]&#160;&#160; Banded_matrix, Sparse_matrix, Full_matrix</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087749"></a>     [Bandwidth]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087756"></a>     [Row]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087763"></a>    [Inductance Matrix]&#160;&#160; Banded_matrix, Sparse_matrix, Full_matrix</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087790"></a>     [Bandwidth]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087782"></a>     [Row]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087803"></a>    [Capacitance Matrix]&#160;&#160; Banded_matrix, Sparse_matrix, Full_matrix</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087804"></a>     [Bandwidth]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087446"></a>     [Row]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087818"></a>    [End Model Data]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087825"></a>   [End Package Model&#8217;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087832"></a>  [END]</pre>

<p>
<a id="pgfId-1087847"></a>The following shows the sections and keywords in the package file that are supported in Spectre:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087924"></a>.pkg FILE</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087925"></a> FILE Header Section</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087926"></a>  [IBIS Ver]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087927"></a>  [Comment Char] </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087928"></a>  [File Name] </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087929"></a>  [File Rev] </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087930"></a>  [Date]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087931"></a>  [Source]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087932"></a>  [Notes]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087933"></a>  [Disclaimer]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087934"></a>  [Copyright]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087948"></a> [Define Package Model]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087949"></a>  [Manufacturer]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087950"></a>  [OEM]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087951"></a>  [Description]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087952"></a>  [Number of Sections]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087953"></a>   Number of Pins]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087954"></a>  [Pin Numbers]&#160;&#160;           Len, L, R, C, Fork, Endfork</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087955"></a>  [Model Data]&#160;&#160;             </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087956"></a>   [Resistance Matrix]&#160;&#160; Banded_matrix, Sparse_matrix, Full_matrix</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087957"></a>    [Bandwidth]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087958"></a>    [Row]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087959"></a>   [Inductance Matrix]&#160;&#160; Banded_matrix, Sparse_matrix, Full_matrix</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087960"></a>    [Bandwidth]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087961"></a>    [Row]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087962"></a>   [Capacitance Matrix]&#160;&#160; Banded_matrix, Sparse_matrix, Full_matrix</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087963"></a>    [Bandwidth]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087964"></a>    [Row]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087965"></a>   [End Model Data]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087966"></a>  [End Package Model&#8217;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087916"></a>  [END]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087985"></a>The following shows the sections and keywords in the EBD file that are supported in Spectre:</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1088018"></a>.pkg FILE</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1088019"></a> FILE Header Section</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1088020"></a>  [IBIS Ver]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1088021"></a>  [Comment Char] </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1088022"></a>  [File Name] </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1088023"></a>  [File Rev] </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1088024"></a>  [Date]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1088025"></a>  [Source]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1088026"></a>  [Notes]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1088027"></a>  [Disclaimer]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1088028"></a>  [Copyright]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1088067"></a> [Begin Board Description]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1088074"></a>  [Manufacturer]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1088081"></a>  [Number of Pins]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1088088"></a>  [Pin List]&#160;&#160;               signal_name</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1088095"></a>  [Path Description]&#160;&#160;       Len, L, R, C, Fork, Endfork, Pin, Node</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1088102"></a>  [Reference Designator Map]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1088109"></a>  [End Board Description]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1088116"></a> [END]</pre>
<h2>
<a id="pgfId-1087152"></a><a id="83867"></a>Initial Conditions (ic)<a id="marker-1087151"></a></h2>
<h4>
<a id="pgfId-1048408"></a>Description<a id="marker-1048407"></a></h4>

<p>
<a id="pgfId-1048409"></a>The <code>ic</code> statement is used to provide initial conditions for nodes in transient analysis. It can occur multiple times in the input, and the information provided in all the occurrences is collected. Initial conditions are accepted only for inductor currents and node voltages where the nodes have a path of capacitors to ground. For more information, read the description of transient analysis. </p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1089605"></a>Specifying <code>cmin</code> for a transient analysis, does not satisfy the condition that a node has a capacitive path to ground.</div>
<h4>
<a id="pgfId-1068610"></a>Definition<a id="marker-1068609"></a></h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1068611"></a>ic &lt;X[:param]=value&gt; ...</pre>

<p>
<a id="pgfId-1068613"></a>This statement takes a list of signals with the state information to the DC and transient analyses. <code>X</code> can be a node, a component, or a subcircuit and <code>param</code> can either be a component output parameter or a terminal index. To specify a class of signals, use the pattern matching characters <code>*</code> for any string and <code>?</code> for any character. </p>
<p>
<a id="pgfId-1068606"></a>The concept of nodes for the statement has been generalized to signals where a signal is a value associated with a topological node of the circuit or some other unknown that is solved by the simulator, such as the current through an inductor or the voltage of the internal node in a diode. Topological nodes can either be at the top-level or in a subcircuit.</p>
<p>
<a id="pgfId-1048416"></a>For example:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048417"></a>ic 7=0 out=1 OpAmp1.comp=5 L1:1=1.0u</pre>

<p>
<a id="pgfId-1048418"></a>where, <code>7=0</code> implies that node <code>7</code> should start at 0V, node <code>out</code> should start at 1V, node <code>comp</code> in subcircuit <code>OpAmp1</code> should start at 5V, and the current through the first terminal of <code>L1</code> should start at 1uA.</p>
<p>
<a id="pgfId-1086057"></a>For more information, refer to <em><a actuate="user" class="URL" href="../spectreuser/chap8.html#ic_nodeset" show="replace" xml:link="simple">The ic and nodeset Statements</a></em> in the <em>Spectre Classic Simulator, Spectre APS, Spectre X, and Spectre XPS User Guide.</em></p>

<h2>
<a id="pgfId-1048420"></a><a id="94036"></a>The Structural if-statement (if)<a id="marker-1048419"></a></h2>
<h4>
<a id="pgfId-1048422"></a>Description<a id="marker-1048421"></a></h4>

<p>
<a id="pgfId-1048423"></a>The structural if-statement can be used to conditionally instantiate other instance statements.</p>

<h4>
<a id="pgfId-1068600"></a>Definition<a id="marker-1068599"></a></h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1068601"></a>if &lt;condition&gt; &lt;statement1&gt; [ else &lt;statement2&gt; ]</pre>

<p>
<a id="pgfId-1068603"></a>The condition is a Boolean expression based on the comparisons of various arithmetic expressions that are evaluated during circuit hierarchy flattening. The statement1 and statement2 fields can be ordinary instance statements, if-statements, or a list of these within braces ({}). The ordinary instance statements need a newline to terminate them. The <code>else</code> part is optional. When if-statements are nested without braces, an <code>else</code> matches the closest previous unmatched <code>if</code> at the same level.</p>
<p>
<a id="pgfId-1048428"></a>It is possible to have duplicate instance names within the if statement under strict topological conditions. These conditions are as follows:</p>
<ul><li>
<a id="pgfId-1048429"></a>References to an instance with duplicate names is possible only within a structural if statement that has both an &quot;if&quot; part and an &quot;else&quot; part. </li><li>
<a id="pgfId-1048431"></a>Both the &quot;if&quot; part and the &quot;else&quot; part must be a simple one-statement block, or another structural if statement to which these same rules apply.</li><li>
<a id="pgfId-1048434"></a>The duplicate instances must have the same number of terminals and be bound to the same list of nodes.</li><li>
<a id="pgfId-1048436"></a>The duplicate instances must refer to the same primitive or model.</li><li>
<a id="pgfId-1048437"></a>Where duplicate instances refer to a model, the underlying primitive must be the same.</li></ul>




<p>
<a id="pgfId-1048439"></a>This feature allows automatic model selection based on any netlist or subcircuit parameter. As an example, consider using Spectre&#8217;s inline subcircuits and structural if statement to implement automatic model selection based on bipolar device area. Here, the duplicate instances are the inline components.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048440"></a>model npn_default bjt is=3.2e-16 va=59.8</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048441"></a>model npn10x10 bjt is=3.5e-16 va=61.5</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048442"></a>model npn20x20 bjt is=3.77e-16 va=60.5</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048443"></a>// npn_mod chooses scaled models binned on area!</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048444"></a>// if ( area &lt; 100e-12 ) use model npn10x10</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048445"></a>// else if ( area &lt;&#160;&#160;400e-12 ) use model npn20x20</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048446"></a>// else use model npn_default</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048447"></a>inline subckt npn_mod (c b e s) </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048448"></a>  parameters area=5e-12</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048449"></a>  if ( area &lt; 100e-12 ) {</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048450"></a>      npn_mod (c b e s) npn10x10  // 10u * 10u, inline device</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048451"></a>  } else if ( area &lt; 400e-12 ) {</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048452"></a>      npn_mod (c b e s) npn20x20  // 20u * 20u, inline device</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048453"></a>  } else {</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048454"></a>      npn_mod (c b e s) npn_default       // 5u * 5u, inline device</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048455"></a>  }</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048456"></a>ends npn_mod</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048457"></a>q1 (1 2 0 0) npn_mod area=350e-12&#160;&#160;       // gets 20x20 model </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048458"></a>q2 (1 3 0 0) npn_mod area=25e-12&#160;&#160;        // gets 10x10 model </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048459"></a>q3 (1 3 0 0) npn_mod area=1000e-12&#160;&#160;      // gets default model </pre>

<p>
<a id="pgfId-1086091"></a>For additional information, refer to the <em><a actuate="user" class="URL" href="../spectreuser/chap5.html#con_inst" show="replace" xml:link="simple">Conditional Instances</a></em> section in the <em>Spectre Classic Simulator, Spectre APS, Spectre X, and Spectre XPS User Guide</em>.</p>

<h2>
<a id="pgfId-1048461"></a><a id="26069"></a>Include File (include)<a id="marker-1048460"></a></h2>
<h4>
<a id="pgfId-1048463"></a>Description<a id="marker-1048462"></a></h4>

<p>
<a id="pgfId-1048464"></a>File inclusion allows the circuit description to be spread over several files. The include statement itself is replaced by the contents of the file named. An included file may also contain include statements. If the name given is not an absolute path specification, the path is taken relative to the directory of the file currently being read.</p>
<p>
<a id="pgfId-1048465"></a>To read existing SPICE library and model files, Spectre automatically switches to SPICE input mode when it opens an include file. Thus, all files that use the Spectre native language must begin with a <code>simulator lang=spectre</code> statement. The one exception is files that end with a &quot;<code>.scs</code>&quot; file extension, which are treated specially and are read in Spectre input mode. This language mode treatment applies to files included by both the Spectre <code>include</code> statement, and the CPP <code>#include</code> statement. </p>
<p>
<a id="pgfId-1048466"></a>After reading the include file, Spectre restores the language processing mode to what it was before the file was included, and continues reading the original file starting at the line after the include statement. Lines cannot be continued across file boundaries.</p>
<p>
<a id="pgfId-1048467"></a>The CPP <code>#include</code> statement differs from Spectre <code>include</code> statement in that the CPP macro processing is not performed on files included by Spectre, but is performed on files included by CPP. If your netlist contains a <code>#include</code> statement, you must run CPP to perform this inclusion; otherwise, an error occurs.</p>
<p>
<a id="pgfId-1068595"></a>If the file to be included cannot be found in the same directory as the including file, both the Spectre <code>include</code> and CPP <code>#include</code> search for the file to be included along the search path specified by the <code>-I</code> command-line arguments. </p>
<p>
<a id="pgfId-1068596"></a>The Spectre <code>include</code> statement allows you to include a library section. The following is the syntax for specifying a library reference:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048470"></a>include &quot;file&quot; section=sectionName</pre>

<p>
<a id="pgfId-1048471"></a>where, <code>file</code> is the name of the library file to be included, and <code>sectionName</code> matches the name of the section defined in the library. The library reference statement looks like an <code>include</code> statement, except for the specification of the library section. When the file is being inserted, only the named section is actually included. </p>
<p>
<a id="pgfId-1048472"></a>The Spectre <code>include</code> statement allows you to embed special characters in the name of the file to be included. The Spectre <code>include</code> statement automatically expands the <code>~</code> character to the user&#8217;s home directory,will expand the environment variables and % codes, such as</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048473"></a>include &quot;~/models/${SIMULATOR}_pd/npn.scs&quot; </pre>

<p>
<a id="pgfId-1048474"></a>which looks in the directory given by the environment variable <code>SIMULATOR</code>, followed by <code>_pd</code>, which is under the <code>models</code> directory in the user&#8217;s home directory. </p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1063910"></a>These special character features are not available with the CPP <code>#include</code> statement.</div>

<p>
<a id="pgfId-1086131"></a>For additional information, see <em><a actuate="user" class="URL" href="../spectreuser/chap4.html#multfiles" show="replace" xml:link="simple">Input Data from Multiple Files</a></em> in the <em>Spectre Classic Simulator, Spectre APS, Spectre X, and Spectre XPS User Guide</em>.</p>

<h4>
<a id="pgfId-1048476"></a>Definition<a id="marker-1048475"></a></h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048477"></a>include &quot;filename&quot;</pre>
<h2>
<a id="pgfId-1048479"></a><a id="52715"></a>Spectre Netlist Keywords (keywords)<a id="marker-1048478"></a></h2>
<h4>
<a id="pgfId-1048481"></a>Description<a id="marker-1048480"></a></h4>

<p>
<a id="pgfId-1048482"></a>The following are Spectre keywords, including netlist keywords and built-in mathematical and physical constants. Spectre has special use for these keywords, and they are reserved in certain contexts. You should follow the rules given below when using them to prevent errors.</p>
<ul><li>
<a id="pgfId-1048483"></a>Netlists keywords cannot be used as instance names, subckt names, model names, or function names.</li><li>
<a id="pgfId-1048484"></a>Built-in mathematical and physical constants cannot be used as node names, instance names, subckt names, model names, function names, or parameter names. <br /><table class="webflareTable" id="#id1082905">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082907"></a><strong>Keyword</strong> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082909"></a><strong>Keyword Type</strong> </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082911"></a><code>M_1_PI</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082913"></a>Mathematical Constant&#160;&#160; </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082915"></a><code>M_2_PI</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082917"></a>Mathematical Constant&#160;&#160; </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082919"></a><code>M_2_SQRTPI</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082921"></a>Mathematical Constant&#160;&#160; </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082923"></a><code>M_DEGPERRAD</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082925"></a>Mathematical Constant&#160;&#160; </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082927"></a><code>M_E</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082929"></a>Mathematical Constant&#160;&#160; </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082931"></a><code>M_LN10</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082933"></a>Mathematical Constant&#160;&#160; </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082935"></a><code>M_LN2</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082937"></a>Mathematical Constant&#160;&#160; </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082939"></a><code>M_LOG10E</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082941"></a>Mathematical Constant&#160;&#160; </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082943"></a><code>M_LOG2E</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082945"></a>Mathematical Constant&#160;&#160; </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082947"></a><code>M_PI</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082949"></a>Mathematical Constant&#160;&#160; </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082951"></a><code>M_PI_2</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082953"></a>Mathematical Constant&#160;&#160; </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082955"></a><code>M_PI_4</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082957"></a>Mathematical Constant&#160;&#160; </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082959"></a><code>M_SQRT1_2</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082961"></a>Mathematical Constant&#160;&#160; </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082963"></a><code>M_SQRT2</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082965"></a>Mathematical Constant&#160;&#160; </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082967"></a><code>M_TWO_PI</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082969"></a>Mathematical Constant&#160;&#160; </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082971"></a><code>P_C</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082973"></a>Mathematical Constant&#160;&#160; </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082975"></a><code>P_CELSIUS0</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082977"></a>Mathematical Constant&#160;&#160; </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082979"></a><code>P_EPS0</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082981"></a>Mathematical Constant&#160;&#160; </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082983"></a><code>P_H</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082985"></a>Mathematical Constant&#160;&#160; </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082987"></a><code>P_K</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082989"></a>Mathematical Constant&#160;&#160; </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082991"></a><code>P_Q</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082993"></a>Mathematical Constant&#160;&#160; </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082995"></a><code>P_U0</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082997"></a>Mathematical Constant&#160;&#160; </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082999"></a><code>altergroup</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083001"></a>Netlist Keyword&#160;&#160;       </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083003"></a><code>correlate</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083005"></a>Netlist Keyword&#160;&#160;       </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083007"></a><code>else</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083009"></a>Netlist Keyword&#160;&#160;       </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083011"></a><code>end</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083013"></a>Netlist Keyword&#160;&#160;       </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083015"></a><code>ends</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083017"></a>Netlist Keyword&#160;&#160;       </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083019"></a><code>export</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083021"></a>Netlist Keyword&#160;&#160;       </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083023"></a><code>for</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083025"></a>Netlist Keyword&#160;&#160;       </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1089943"></a><code>freq</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1089945"></a>Netlist Reserved Word</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083027"></a><code>function</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083029"></a>Netlist Keyword&#160;&#160;       </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083031"></a><code>global</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083033"></a>Netlist Keyword&#160;&#160;       </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083035"></a><code>ic</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083037"></a>Netlist Keyword&#160;&#160;       </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083039"></a><code>if</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083041"></a>Netlist Keyword&#160;&#160;       </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1090201"></a><code>in</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1090203"></a>Netlist Keyword</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083043"></a><code>inline</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083045"></a>Netlist Keyword&#160;&#160;       </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1089967"></a><code>input</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1089981"></a>Netlist Keyword </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083047"></a><code>invisible</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083049"></a>Netlist Keyword&#160;&#160;       </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083051"></a><code>library</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083053"></a>Netlist Keyword&#160;&#160;       </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083055"></a><code>local</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083057"></a>Netlist Keyword&#160;&#160;       </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083059"></a><code>march</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083061"></a>Netlist Keyword&#160;&#160;       </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083063"></a><code>model</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083065"></a>Netlist Keyword&#160;&#160;       </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083067"></a><code>nodeset</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083069"></a>Netlist Keyword&#160;&#160;       </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1090005"></a><code>out</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1090018"></a>Netlist Keyword&#160;&#160;       </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1090001"></a><code>output</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1090020"></a>Netlist Keyword&#160;&#160;       </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083071"></a><code>parameters</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083073"></a>Netlist Keyword&#160;&#160;       </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083075"></a><code>paramset</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083077"></a>Netlist Keyword&#160;&#160;       </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083079"></a><code>plot</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083081"></a>Netlist Keyword&#160;&#160;       </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083083"></a><code>print</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083085"></a>Netlist Keyword&#160;&#160;       </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083087"></a><code>protect</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083089"></a>Netlist Keyword (The first four letters of the keyword (in lowercase or uppercase) can be used as an abbreviation. For example, prot and PROT are valid keywords). </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083091"></a><code>pwr</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083093"></a>Netlist Keyword&#160;&#160;       </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083095"></a><code>real</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083097"></a>Netlist Keyword&#160;&#160;       </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083099"></a><code>return</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083101"></a>Netlist Keyword&#160;&#160;       </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083103"></a><code>save</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083105"></a>Netlist Keyword&#160;&#160;       </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1090022"></a><code>scalem</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1090024"></a>Netlist Reserved Word</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083107"></a><code>sens</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083109"></a>Netlist Keyword&#160;&#160;       </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083111"></a><code>statistics</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083113"></a>Netlist Keyword&#160;&#160;       </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083115"></a><code>subckt</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083117"></a>Netlist Keyword&#160;&#160;       </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1090063"></a><code>temp</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1090065"></a>Netlist Reserved Word</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091309"></a><code>temper</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091311"></a>Netlist Reserved word</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1090059"></a><code>time</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1090061"></a>Netlist Reserved Word</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1090055"></a><code>tnom</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1090057"></a>Netlist Reserved Word</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083119"></a><code>to</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083121"></a>Netlist Keyword&#160;&#160;       </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083123"></a><code>truncate</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083125"></a>Netlist Keyword&#160;&#160;       </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083127"></a><code>unprotect</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083129"></a>Netlist Keyword. (The first six letters of the keyword (in lowercase or uppercase) can be used as an abbreviation. For example, unprot and UNPROT are valid keywords). </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083131"></a><code>vary</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083133"></a>Netlist Keyword&#160;&#160;       </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083135"></a><code>visible</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083137"></a>Netlist Keyword&#160;&#160;       </p>
</td>
</tr>
</tbody></table></li></ul>



<h2>
<a id="pgfId-1066931"></a><a id="14688"></a>Library - Sectional Include (library)<a id="marker-1066930"></a></h2>
<h4>
<a id="pgfId-1048548"></a>Description<a id="marker-1048547"></a></h4>

<p>
<a id="pgfId-1048549"></a>Library inclusion allows the circuit description to be spread over several files. The library statement itself is replaced by the contents of the specified section of the library file. A library section may also contain library reference statements. If the file name given is not an absolute path specification, the path is taken relative to the directory of the file currently being read.</p>
<p>
<a id="pgfId-1048550"></a>There are two types of library statements. One that references a library section, and another that defines a library section. The definition of a library section is prohibited in the netlist.</p>
<p>
<a id="pgfId-1048551"></a>In order to read existing SPICE library and model files, Spectre automatically switches to SPICE input mode when it opens a library file. Thus, all files that use the Spectre native language must contain a <code>simulator lang=spectre</code> statement within each section of the library or the file can have a .<code>scs</code> filename extension. After reading the library section, Spectre restores the language processing mode and continues reading the original file starting at the line after the library statement. Lines cannot be continued across file boundaries.</p>
<p>
<a id="pgfId-1048552"></a>Spectre allows only one library per file, but a library may contain multiple sections (typically, one section per process corner).</p>

<h4>
<a id="pgfId-1048554"></a>Definition<a id="marker-1048553"></a></h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1063080"></a>Inside netlist (reference library section)</pre>

<p>
<a id="pgfId-1048557"></a><strong>Sample Library</strong></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048558"></a>library corner_lib</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048559"></a>section tt</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048560"></a>   model nch bsim3v3 type=n mobmod=1 capmod=2 version=3.1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048561"></a>   + xj=1.7e-7 vsat=7.99e4 at=3.6e4 a0=0.799 ags=0.4</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048562"></a>   + a1=0 a2=1 keta=-0.05 nch=2.8e17 ngate=1.31e20 k1=0.74</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048563"></a>   model pch bsim3v3 type=p mobmod=1 capmod=2 version=3.1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048564"></a>   + xj=1.7e-7 vsat=1.38e5 at=1e5 a0=1.3 ags=0.3</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048565"></a>   + a1=1.1e-4 a2=1 keta=0 nch=4.1e17 ngate=7.6e19 k1=0.88</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048566"></a>   model knpn bjt is=10e-13 bf=170 va=58.7 ik=5.63e-3 rb=rbn rbm=86</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048567"></a>   + re=3.2 cje=0.25e-12 pe=0.76 me=0.34 tf=249e-12 cjc=0.34e-12 pc=0.55</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048568"></a>   + mc=0.35 ccs=2.4e-12 ms=0.35 ps=0.53 rc=169</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048569"></a>   model kpnp bjt type=pnp is=10e-13 bf=60 va=43.1 ik=0.206e-3 rb=rbp rbm=64.3</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048570"></a>   + re=33.8 cje=0.16e-12 pe=0.5 me=0.26 tf=36e-9 cjc=0.72e-12 pc=0.58</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048571"></a>   + mc=0.34 ccs=2.5e-12 ps=0.53 ms=0.35 rc=276</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048572"></a>endsection</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048573"></a>section ss</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048574"></a>   model nch bsim3v3 type=n mobmod=1 capmod=2 version=3.1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048575"></a>   + xj=1.7e-7 vsat=7.99e4 at=3.6e4 a0=0.799 ags=0.4</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048576"></a>   + a1=0 a2=1 keta=-0.05 nch=2.8e17 ngate=1.31e20 k1=0.74</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048577"></a>   model pch bsim3v3 type=p mobmod=1 capmod=2 version=3.1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048578"></a>   + xj=1.7e-7 vsat=1.38e5 at=1e5 a0=1.3 ags=0.3</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048579"></a>   + a1=1.1e-4 a2=1 keta=0 nch=4.1e17 ngate=7.6e19 k1=0.88</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048580"></a>   model knpn bjt is=10e-13 bf=70 va=58.7 ik=5.63e-3 rb=rbn rbm=86</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048581"></a>   + re=3.2 cje=0.25e-12 pe=0.76 me=0.34 tf=249e-12 cjc=0.34e-12 pc=0.55</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048582"></a>   + mc=0.35 ccs=2.4e-12 ms=0.35 ps=0.53 rc=169</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048583"></a>   model kpnp bjt type=pnp is=10e-13 bf=30 va=43.1 ik=0.206e-3 rb=rbp rbm=64.3</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048584"></a>   + re=33.8 cje=0.16e-12 pe=0.5 me=0.26 tf=36e-9 cjc=0.72e-12 pc=0.58</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048585"></a>   + mc=0.34 ccs=2.5e-12 ps=0.53 ms=0.35 rc=276</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048586"></a>endsection</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048587"></a>section ff</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048588"></a>   model nch bsim3v3 type=n mobmod=1 capmod=2 version=3.1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048589"></a>   + xj=1.7e-7 vsat=7.99e4 at=3.6e4 a0=0.799 ags=0.4</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048590"></a>   + a1=0 a2=1 keta=-0.05 nch=2.8e17 ngate=1.31e20 k1=0.74</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048591"></a>   model pch bsim3v3 type=p mobmod=1 capmod=2 version=3.1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048592"></a>   + xj=1.7e-7 vsat=1.38e5 at=1e5 a0=1.3 ags=0.3</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048593"></a>   + a1=1.1e-4 a2=1 keta=0 nch=4.1e17 ngate=7.6e19 k1=0.88</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048594"></a>   model knpn bjt is=10e-13 bf=220 va=58.7 ik=5.63e-3 rb=rbn rbm=86</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048595"></a>   + re=3.2 cje=0.25e-12 pe=0.76 me=0.34 tf=249e-12 cjc=0.34e-12 pc=0.55</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048596"></a>   + mc=0.35 ccs=2.4e-12 ms=0.35 ps=0.53 rc=169</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048597"></a>   model kpnp bjt type=pnp is=10e-13 bf=90 va=43.1 ik=0.206e-3 rb=rbp rbm=64.3</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048598"></a>   + re=33.8 cje=0.16e-12 pe=0.5 me=0.26 tf=36e-9 cjc=0.72e-12 pc=0.58</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048599"></a>   + mc=0.34 ccs=2.5e-12 ps=0.53 ms=0.35 rc=276</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048600"></a>endsection</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048601"></a>endlibrary</pre>
<h2>
<a id="pgfId-1048603"></a><a id="24626"></a>Tips for Reducing Memory Usage (memory)<a id="marker-1048602"></a></h2>
<h4>
<a id="pgfId-1048605"></a>Description<a id="marker-1048604"></a></h4>

<p>
<a id="pgfId-1048606"></a>If you are facing an insufficient memory problem, try the following suggestions:</p>
<p>
<a id="pgfId-1048608"></a>1. Try using a 64-bit executable if you are using the 32-bit one.</p>
<p>
<a id="pgfId-1048609"></a>2. Try <code>ulimit</code>/<code>unlimit</code> command to adjust memory limitations.</p>
<p>
<a id="pgfId-1048610"></a>3. Try another machine that has more memory, if hardware limit is the cause</p>
<p>
<a id="pgfId-1048611"></a>4. Refer to <code>spectre -h rfmemory</code>, if you faced the problem during RF analyses.</p>

<h2>
<a id="pgfId-1085656"></a>Multi-Technology Simulation Mode (mts)<a id="marker-1085655"></a></h2>
<h4>
<a id="pgfId-1085702"></a>Description<a id="marker-1085701"></a></h4>

<p>
<a id="pgfId-1085703"></a>Multi-Technology Simulation (MTS) mode enables the simulation of a system consisting of blocks designed with different processes. Under this mode, models and modelgroups referenced using include or<code> ahdl_include</code> statements in a subcircuit are locally scoped to that subcircuit only. In addition, process options parameters (<code>temp</code>, <code>tnom</code>, <code>scale</code>, and <code>scalem</code>), when specified in a subcircuit, are locally scoped to that subcircuit only.</p>
<p>
<a id="pgfId-1085786"></a>MTS mode is enabled by default across all Spectre simulators. To turn the MTS mode off, use the <code>-mts</code> command-line option.</p>
<p>
<a id="pgfId-1085787"></a>Here is an example of a system consisting of blocks designed with different processes:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1085788"></a>subckt chip1 ( in out )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1085783"></a> scopedOptions options tnom=27 scale=0.1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1085762"></a> .......</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1085667"></a>ends chip1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1085668"></a>subckt chip2 ( in out )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1085669"></a> scopedOptions options tnom=25 scale=0.2</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1085670"></a> ......</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1085671"></a>ends chip2</pre>

<p>
<a id="pgfId-1085672"></a>In the log file, you will see the following user options:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1085673"></a>Scoped user options:</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1085674"></a> tnom = 27&#160;&#160;  subckt=chip1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1085675"></a> scale = 0.1&#160;&#160; subckt=chip1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1085676"></a> tnom = 25&#160;&#160; subckt=chip2</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1085633"></a> scale = 0.2&#160;&#160; subckt=chip2</pre>
<h2>
<a id="pgfId-1048613"></a><a id="65868"></a>Node Sets (nodeset)<a id="marker-1048612"></a></h2>
<h4>
<a id="pgfId-1048615"></a>Description<a id="marker-1048614"></a></h4>

<p>
<a id="pgfId-1048616"></a>The <code>nodeset</code> statement is used to provide an initial guess for nodes in DC analysis or to provide the initial condition calculation for transient analysis. The <code>nodeset</code> statement can occur multiple times in the input and the information provided in all the occurrences is collected. For more information, read the description of DC analysis.</p>

<h4>
<a id="pgfId-1067499"></a>Definition<a id="marker-1067498"></a></h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1067500"></a>nodeset &lt;<code><em>X</em></code>&gt;[:param]=value</pre>

<p>
<a id="pgfId-1067501"></a>This statement takes a list of signals with the state information to the DC and transient analyses. <code>X</code> can be a node, a component, or a subcircuit, and <code>param</code> can be either a component output parameter or a terminal index. To specify a class of signals, use the pattern matching character <code>*</code> for any string and <code>?</code> for any character. </p>
<p>
<a id="pgfId-1066941"></a>The concept of nodes for the statement has been generalized to signals, where a signal is a value associated with a topological node of the circuit or some other unknown that is solved by the simulator, such as the current through an inductor or the voltage of the internal node in a diode. Topological nodes can be either at the top-level or in a subcircuit.</p>
<p>
<a id="pgfId-1048623"></a>For example:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048624"></a>nodeset 7=0 out=1 OpAmp1.comp=5 L1:1=1.0u</pre>

<p>
<a id="pgfId-1048625"></a>where, 7=0 implies that node <code>7</code> should be about 0V, node <code>out</code> should be about 1V, node <code>comp</code> in subcircuit <code>OpAmp1</code> should be about 5V, and the current through the first terminal of <code>L1</code> should be about 1uA.</p>
<p>
<a id="pgfId-1086166"></a>For more information, refer to <em><a actuate="user" class="URL" href="../spectreuser/chap8.html#ic_nodeset" show="replace" xml:link="simple">The ic and nodeset Statements</a></em> in the <em>Spectre Classic Simulator, Spectre APS, Spectre X, and Spectre XPS User Guide</em>.</p>

<h2>
<a id="pgfId-1048627"></a><a id="92235"></a>Parameter Soft Limits (param_limits)<a id="marker-1048626"></a></h2>
<h4>
<a id="pgfId-1048629"></a>Description<a id="marker-1048628"></a></h4>

<p>
<a id="pgfId-1048630"></a>The parameter values passed to Spectre components and analysis are subject to both hard and soft limits. If you set a parameter to a value that violates a hard limit, such as giving z0=0 to a transmission line, Spectre issues an error message and quits. If the given parameter value violates a soft limit, a warning is issued, but Spectre uses the value of the component as given. Hard limits are used to prevent you from using values that would cause Spectre to fail or put a model in an invalid region. Soft limits are used to call attention to unusual parameter values that might have been given mistakenly. If a parameter value violates a soft limit, a message similar to one of the following sample messages is printed:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048631"></a>Parameter <code>rb</code> has the unusually small value of 1uOhms.</pre>

<p>
<a id="pgfId-1048632"></a>or</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048633"></a>Parameter <code>rb</code> has the unusually large value of 1MOhms.</pre>

<p>
<a id="pgfId-1048634"></a>Spectre has built-in soft limits on a few parameter values. However, it is possible for you to override these limits or to provide limits on parameters that do not have built-in limits. To do so, create a parameter range limits file and run Spectre by providing the name of the file after the <code>+param</code> command-line option. For example:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048635"></a>spectre +param limits-file input-file</pre>

<p>
<a id="pgfId-1048636"></a>Limits are specified using the following syntax:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048637"></a>[PrimitiveName] [model] [LowerLimit &lt;[=]] [|]Param[|] [&lt;[=] UpperLimit]</pre>

<p>
<a id="pgfId-1048638"></a>The limits can be given as strict (using &lt;=) or nonstrict (using &lt;). If the limits are strict, there can be no space between &lt; and =. The limits for one parameter are given on one line. There is no way of continuing the specification of the limits for a parameter over more than one line. If a parameter is specified more than once, the limits specified at last override the earlier limits. The primitive name must be a Spectre primitive name, and not a name used for SPICE compatibility. For example, <code>mos3</code> must be used instead of <code>mos</code>. Parameter limits can be written using Spectre native mode metric scale factors. Therefore, a limit of <code>f &lt;= 1.0e6</code> can also be written as <code>f &lt;= 1M</code>.</p>
<p>
<a id="pgfId-1048640"></a>Examples</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048641"></a>mos3&#160;&#160;     0.5u &lt;= l &lt;= 100u</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1048642"></a>0.5u &lt;= w</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1048643"></a>0 &lt; as &lt;= 1e-8</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1048644"></a>0 &lt; ad &lt;= 1e-8</pre>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048645"></a>model |vto| &lt;= 3</pre>

<p>
<a id="pgfId-1048646"></a>It is not necessary to specify the primitive name each time. If the primitive name is not specified, it is assumed to be the same as the previous parameter. Upper and lower limits may be specified, but if these are not specified, there is no limit on the parameter value. Therefore, in the example, if w is less than 0.5um, a warning is issued, but there is no limit on how large <code>w</code> can be. If a parameter is mentioned, but no limits are given, all limits are disabled for that parameter. Limits are placed on model parameters by giving the model keyword. If the model keyword is not given, the limits are applied to instance parameters. Notice that you can also place upper or lower limits on the absolute value of a parameter. For example:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048647"></a>resistor 0.1 &lt; |r| &lt; 1M</pre>

<p>
<a id="pgfId-1048648"></a>indicates that the absolute value of r should be greater than 0.1 Ohm and less than 1 MOhm. There can be no spaces between the absolute value symbols and the parameter name.</p>
<p>
<a id="pgfId-1048650"></a>Examples</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1058358"></a>1 &lt;= x &lt; 0.5</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1058359"></a>1 &lt;= y &lt;= 1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1058360"></a>1 &lt; z &lt; 1</pre>

<p>
<a id="pgfId-1048654"></a>In the first case, the lower bound is larger than the upper bound, which indicates that the range of x is all real numbers, except those from 0.5 to 1, including 0.5. The limits are applied separately, therefore, x must be both greater than or equal to 1 (1 &lt;= x) and less than 0.5 (x &lt; 0.5). The second case specifies that y should be 1, and the third case specifies that z should not be 1.</p>
<p>
<a id="pgfId-1048655"></a>It is possible to specify limits for any scalar parameter that takes a real number, an integer, or an enumeration. To specify the limits of a parameter that takes enumerations, use the indexes associated with the enumerations. For example, consider the region parameter of the bjt. There are four possible regions: <code>off</code>, <code>fwd</code>, <code>rev</code>, and <code>sat</code> (see <code>spectre -help bjt</code>). Each enumeration is assigned a number starting at 0 and counting up. Therefore, <code>off=0</code>, <code>fwd=1</code>, <code>rev=2</code>, and <code>sat=3</code>. The specification <code>bjt 3 &lt;= region &lt;= 1</code> indicates that a warning should be printed if region=rev because the conditions (<code>3 &lt;= region</code>) and (<code>region &lt;= 1</code>) exclude only (<code>region=2</code>) and region 2 is rev.</p>
<p>
<a id="pgfId-1048659"></a>It is possible to read a parameter limits file from within another file. To do so, use an include statement. For example,</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048660"></a>include &quot;filename&quot;</pre>

<p>
<a id="pgfId-1048661"></a>temporarily suspends the reading of the current file until the contents of <code>filename</code> have been read. Include statements may be nested arbitrarily deep with the condition that the operating system may limit the number of files that Spectre may have open at once. Paths in file names are taken to be relative to the directory that contains the current file, and not from the directory from which Spectre was run.</p>
<p>
<a id="pgfId-1048662"></a>Spectre can be instructed to always read a parameter limits file by using the SPECTRE_DEFAULTS environment variable. For example, if you put the following in you shell initialization file (<code>.profile</code> for sh, <code>.cshrc</code> for csh)</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1071384"></a>setenv SPECTRE_DEFAULTS &quot;+param /cds/etc/spectre/param.lmts&quot;</pre>

<p>
<a id="pgfId-1071386"></a>Spectre always reads the specified limits file.</p>
<p>
<a id="pgfId-1086190"></a>For more information, see <em><a actuate="user" class="URL" href="../spectreuser/chap17.html#spectre_limits" show="replace" xml:link="simple">Selecting Limits for Parameter Value Warning Messages</a></em> in the <em>Spectre Classic Simulator, Spectre APS, Spectre X, and Spectre XPS User Guide.</em></p>

<h2>
<a id="pgfId-1048666"></a><a id="68169"></a>Netlist Parameters (parameters)<a id="marker-1048665"></a></h2>
<h4>
<a id="pgfId-1048668"></a>Description<a id="marker-1048667"></a></h4>

<p>
<a id="pgfId-1048669"></a>The Spectre native netlist language allows parameters to be specified and referenced in the netlist, both at the top-level scope and within subcircuit declarations (run <code>spectre -h subckt</code> for more details on parameters within subcircuits). </p>

<h4>
<a id="pgfId-1048671"></a>Definition<a id="marker-1048670"></a></h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048672"></a>parameters &lt;param=value&gt; [param=value]...</pre>

<p>
<a id="pgfId-1048673"></a>Examples:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048674"></a>simulator lang=spectre</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048675"></a>parameters p1=1 p2=2&#160;&#160;          // declare some parameters</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048676"></a>r1 (1 0) resistor r=p1&#160;&#160;        // use a parameter, value=1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048677"></a>r2 (1 0) resistor r=p1+p2&#160;&#160;     // use parameters in an expression, value=3</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048678"></a>x1 s1 p4=8&#160;&#160;    // &quot;s1&quot; is defined below, pass in value 8 for &quot;p4&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048679"></a>subckt s1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048680"></a>parameters p1=4 p3=5 p4=6&#160;&#160;     // note: no &quot;p2&quot; here, p1 &quot;redefined&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048681"></a>r1 (1 0) resistor r=p1&#160;&#160;        // local definition used: value=4</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048682"></a>r2 (1 0) resistor r=p2&#160;&#160;        // inherit from parent(top-level) value=2</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048683"></a>r3 (1 0) resistor r=p3&#160;&#160;        // use local definition, value=5</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048684"></a>r4 (1 0) resistor r=p4&#160;&#160;        // use passed-in value, value=8</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048685"></a>r5 (1 0) resistor r=p1+p2/p3&#160;&#160;  // use local+inherited/local = (4+2/5) = 4.4</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048686"></a>ends</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048687"></a>time_sweep tran start=0 stop=(p1+p2)*50e-6 // use 5*50e-6 = 150 us</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048688"></a>dc_sweep dc param=p1 values=[0.5 1 +p2 (sqrt(p2*p2)) ]&#160;&#160;// sweep p1 </pre>
<h4>
<a id="pgfId-1048689"></a>Parameter Declaration</h4>

<p>
<a id="pgfId-1048690"></a>Parameters can be declared anywhere in the top-level circuit description or on the first line of a subcircuit definition.&#160;&#160;Multiple parameters can be declared on a single line. When parameters are declared in the top-level, their values must be specified. When parameters are declared within subcircuits, their default values are optionally specified. </p>

<h4>
<a id="pgfId-1048691"></a>Parameter Inheritance</h4>

<p>
<a id="pgfId-1048692"></a>Subcircuit definitions inherit parameters from their parent (enclosing subcircuit definition or top-level definition). This inheritance continues across all levels of nesting of subcircuit definitions, that is, if a subcircuit s1 is defined, which itself contains a nested subcircuit definition s2, then any parameters accessible within the scope of s1 are also accessible from within s2. In addition, any parameters declared within the top-level circuit description are also accessible within both s1 and s2. However, any subcircuit definition can redefine a parameter that it has inherited. In this case, if no value is specified for the redefined parameter when the subcircuit is instantiated, the redefined parameter uses the locally defined default value, rather than inheriting the actual parameter value from the parent. </p>

<h4>
<a id="pgfId-1058467"></a>Parameter Referencing</h4>

<p>
<a id="pgfId-1058468"></a>Spectre netlist parameters can be referenced anywhere. A numeric value is normally specified on the right-hand side of an &quot;=&quot; sign or within a vector, where the vector itself is on the right-hand side of an &quot;=&quot; sign. This includes referencing of parameters in expressions (run <code>spectre -h expressions</code> for more details on netlist expression handling), as indicated in the preceding examples. You can use expressions containing parameter references when specifying device or analysis instance parameter values (for example, specifying the resistance of a resistor or the stop time of a transient analysis, as outlined in the preceding example), when specifying model parameter values in model cards (for example, specifying <code>bf=p1*0.8</code> for a bipolar model parameter <code>bf</code>), or when specifying initial conditions and nodesets for individual circuit nodes. </p>

<h4>
<a id="pgfId-1048698"></a>Altering/Sweeping Parameters</h4>

<p>
<a id="pgfId-1048699"></a>Just as certain Spectre analyses (for example, <code>sweep</code>, <code>alter</code>, <code>ac</code>, <code>dc</code>, <code>noise</code>, <code>sp</code>, <code>xf</code>) can sweep device instance or model parameters, they can also sweep netlist parameters. Run <code>spectre -h &lt;analysis&gt;</code> to view the details for any of these analyses, where <code>&lt;analysis&gt;</code> is the analysis of interest. </p>

<h4>
<a id="pgfId-1048701"></a>Temperature as a Parameter</h4>

<p>
<a id="pgfId-1048702"></a>You can use the reserved parameters <code>temp</code> and <code>tnom</code> anywhere an expression can be used, including within expressions and user-defined functions. The <code>temp</code> parameter always represents the simulator (circuit) temperature, and <code>tnom</code> always represents the measurement temperature. All expressions involving <code>temp</code> or <code>tnom</code> are re-evaluated everytime the circuit temperature or measurement temperature changes.</p>
<p>
<a id="pgfId-1048703"></a>You can also alter or sweep the <code>temp</code> and <code>tnom</code> parameters by using any of the techniques available for altering or sweeping the netlist or subcircuit parameters (with the exception of s). </p>
<p>
<a id="pgfId-1048704"></a>This capability allows you to write temperature dependent models, for example, by using <code>temp</code> in an equation for a model or an instance parameter. For example:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048705"></a>r1 1 0 res r=(temp-tnom)*15+10k // temp is temperature</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048706"></a>o1 options temp=55&#160;&#160;    // causes a change in above resistor r1</pre>
<h4>
<a id="pgfId-1048707"></a>Reserved Parameters</h4>

<p>
<a id="pgfId-1048708"></a>The following parameters are reserved and must not be declared as either top-level parameters or subcircuit parameters: <code>temp</code>, <code>tnom</code>, <code>scale</code>, <code>scalem</code>, <code>freq</code>, <code>time</code>.</p>
<p>
<a id="pgfId-1086226"></a>For additional information, refer to the <em><a actuate="user" class="URL" href="../spectreuser/chap5.html#param_statement" show="replace" xml:link="simple">Parameters Statement</a></em> section in the <em>Spectre Classic Simulator, Spectre APS, Spectre X, and Spectre XPS User Guide</em>.</p>

<h2>
<a id="pgfId-1048710"></a><a id="33396"></a>Parameter Set - Block of Data (paramset)<a id="marker-1048709"></a></h2>
<h4>
<a id="pgfId-1048712"></a>Description<a id="marker-1048711"></a></h4>

<p>
<a id="pgfId-1048713"></a>A parameter set is a block of data, which can be referenced by a sweep analysis. Within a paramset, the first row contains an array of top-level netlist parameters. All other rows contain numbers that are used to alter the value of the parameters during the sweep. Each row represents an iteration of the sweep. This data should be bound within braces. The opening brace is required at the end of the line defining the paramset. The paramset cannot be defined within subcircuits or cannot be nested. </p>

<h4>
<a id="pgfId-1068573"></a>Definition<a id="marker-1068572"></a></h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1068574"></a>&lt;Name&gt; paramset {<br />}</pre>

<p>
<a id="pgfId-1068576"></a><strong>Example: </strong></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048718"></a>data paramset {</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048719"></a>   p1  p2  p3  </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048720"></a>   1.1 2.2 3.3 </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048721"></a>   4.4 5.5 6.6 </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070171"></a>} </pre>
<h2>
<a id="pgfId-1088247"></a>The postlayout command line option (postlayout)<a id="marker-1088246"></a></h2>
<h4>
<a id="pgfId-1088249"></a>Description<a id="marker-1088248"></a></h4>

<p>
<a id="pgfId-1088250"></a>This option enables various technologies to speed up post-layout simulation including RC reduction, efficient coupling capacitor handling, advanced DC algorithms optimized for large post-layout circuits, along with other advanced numerical techniques. </p>
<p>
<a id="pgfId-1088391"></a>The <code>+postlayout</code> option delivers best simulation performance, with acceptable accuracy, for custom digital designs, memory designs, and analog/mixed-signal designs where high simulation precision is not required. </p>
<p>
<a id="pgfId-1088443"></a><code>+postlayout=hpa</code> provides higher simulation precision for analog /mixed-signal designs.</p>
<p>
<a id="pgfId-1088444"></a><code>+postlayout=upa</code> delivers the ultimate post-layout simulation accuracy, similar to <code>+postlayout=hpa</code>, but with RC reduction completely disabled.</p>
<p>
<a id="pgfId-1088469"></a>Even though not recommended, <code>+rcnet_fmax=N</code> command-line option can be used to adjust the simulation accuracy associated with <code>+postlayout</code>. The unit for <code>N</code> is in GHz and the default value is <code>125</code>. <code>N=25</code> is considered aggressive, whereas<code> N=250</code> is considered conservative. The <code>+rcnet_fmax</code> option not only controls RC reduction accuracy with any local RC net, but also defines the accuracy/performance trade-off of other non-reduction based techniques. <code>rcnet_fmax</code> is available as a Spectre command-line argument or option.</p>
<p>
<a id="pgfId-1088518"></a><code>+postlayout=legacy/legacy_rf</code> options provide backward compatibility with the <code>+parasitics/+parasitics=rf</code> options respectively. Accuracy of the <code>+postlayout=legacy</code> option can also be adjusted using the <code>rcr_fmax</code> option.</p>

<h4>
<a id="pgfId-1088446"></a>Definition<a id="marker-1088445"></a></h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1088258"></a> +postlayout in the command line</pre>
<h2>
<a id="pgfId-1070184"></a>Pspice_include <a id="pspice_include"></a>File (pspice_include)</h2>
<h4>
<a id="pgfId-1070185"></a>Description</h4>

<p>
<a id="pgfId-1070186"></a>Spectre supports PSPICE netlist format targeting to include PCB components that are modeled in PSPICE format. This solution does not support PSPICE designs. A top-level netlist and control statement needs to be defined in Spectre or SPICE format. The recommended approach is to define a subckt in PSPICE netlist format and to instantiate the subckt in a Spectre netlist. </p>
<p>
<a id="pgfId-1070187"></a>A PSPICE netlist can be included in Spectre by using the following include statements. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070188"></a>pspice_include &lt;file&gt; (Spectre format) </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070189"></a>.pspice_include &lt;file&gt; (SPICE format)&#160;&#160;</pre>

<p>
<a id="pgfId-1070190"></a>PSPICE file inclusion allows the circuit description to be spread over several files. The include statement itself is replaced by the contents of the file named. If the name given is not an absolute path specification, it is taken relative to the directory of the file currently being read. </p>
<p>
<a id="pgfId-1070191"></a>The PSPICE file defined in the pspice_include statement is required to contain only PSPICE netlist format. A PSPICE file may also contain include statements such as .inc or .lib to include other PSPICE files. The pspice_include statement cannot be used in a PSPICE netlist. </p>
<p>
<a id="pgfId-1070192"></a>When Spectre-simulator opens a pspice_include file then it automatically switches to PSPICE mode. When in PSPICE mode, all elements and device models used in the PSPICE netlist are simulated using PSPICE default values and equations. Switching from PSPICE mode to Spectre mode inside a PSPICE file is not supported. After reading the <code>include</code> file, Spectre restores the language processing mode to what it was before the file was included, and continues reading the original file starting at the line after the include statement. Lines cannot be continued across file boundaries. </p>

<h4>
<a id="pgfId-1070195"></a>Definition</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1070196"></a> Pspice_include &quot;filename&quot;</pre>
<h2>
<a id="pgfId-1070174"></a><a id="57128"></a>Tips for Reducing Memory Usage with SpectreRF (rfmemory)<a id="marker-1070175"></a></h2>
<h4>
<a id="pgfId-1085101"></a>Description<a id="marker-1085100"></a></h4>

<p>
<a id="pgfId-1085102"></a><strong>Problem</strong>: How can you reduce memory usage when running SpectreRF simulations? What are the things that you need to be aware of? </p>
<p>
<a id="pgfId-1058553"></a><strong>Solution</strong>: The amount of swap/memory that Spectre/SpectreRF requires depends on the following:</p>
<ul><li>
<a id="pgfId-1058554"></a>The analysis type you are running (PSS, QPSS, transient, dc, and so on). PSS and QPSS can take up a lot of memory. </li><li>
<a id="pgfId-1085107"></a>PSS and QPSS shooting can take up a lot of memory. If a reasonably small number of harmonics is needed for your circuit, then harmonic balance will require less memory than the shooting method, especially for systems with multiple input frequencies. More details are provided below.</li><li>
<a id="pgfId-1085130"></a>The amount of memory required is roughly proportional to the number of nodes in the circuit. Remember that most device models have multiple nodes inside the model.</li><li>
<a id="pgfId-1085149"></a>The number of nodes/nets you save has only a small effect on memory use and runtime. The number of nodes/nets you save does change the amount of disk space required to save the simulation result. </li></ul>



<p>
<a id="pgfId-1068568"></a>This help is broken into four sections; Shooting, Harmonic Balance, Small-Signal Analyses, and Envelope.</p>

<h4><em>
<a id="pgfId-1085190"></a>PSS analysis</em></h4>

<p>
<a id="pgfId-1085208"></a>The amount of memory required depends on the number of time points in the PSS solution. The number of time points in the solution depends on several factors.</p>
<ul><li>
<a id="pgfId-1085209"></a>If you increase the number of harmonics above 10, the minimum number of time points is 20*number of harmonics. Closely spaced input frequencies require a large number of harmonics to be calculated, and thus require large amount of memory.<br />
<a id="pgfId-1085210"></a>For example, consider a system with 2.4GHz and 2.4GHz minus 1MHz, or 2.399GHz. To get to the second harmonic of 2.4 GHz requires 4,800 harmonics, which in turn requires 96,000 timepoints. This large number of timepoints would require a large amount of memory. For such systems, use harmonic balance (hb) instead.</li><li>
<a id="pgfId-1085211"></a>Increasing the accuracy by selecting conservative or by reducing the value of reltol and/or vabstol has the effect of producing more timepoints. A rough estimate is that for every power of 10 smaller you set reltol, five times as many timepoints will be produced.</li><li>
<a id="pgfId-1085212"></a>Setting a small maxstep compared to the PSS period or setting maxacfreq above 40*PSS beat frequency will produce more timepoints. Unless you see warning messages in the small-signal analyses that instruct you to set maxacfreq, it is better to leave maxstep and maxacfreq unspecified and set conservative and/or a smaller values for reltol and vabstol. This will have the effect of taking more timesteps only in areas of transition, and longer timesteps where the waveform is static.</li><li>
<a id="pgfId-1085213"></a>The waveforms produced by the circuit can also affect the number of timepoints. If there are fast transitions in your circuit, the timestep will be reduced in the areas of the transitions to preserve high accuracy of the simulation.</li></ul>





<h4><em>
<a id="pgfId-1085197"></a>QPSS analysis</em></h4>

<ul><li>
<a id="pgfId-1085265"></a>QPSS Analysis should be used only for nonlinear circuits like sampling circuits or switched-capacitor circuits. For other circuits, use hb instead.</li><li>
<a id="pgfId-1085257"></a>QPSS analysis runs a series of PSS analyses that depend on the number of moderate tones and the number of harmonics set in each moderate tone. Each PSS analysis is one cycle of the signal designated as Large in the QPSS Choosing Analyses Form with all of the input signals applied. The number of harmonics for the large tone and the accuracy settings mentioned above set the number of timepoints for each PSS analysis. The number of PSS analyses (called transient integrations in the Spectre output window) is (2*number of harmonics on moderate tone 1)+1 * (2*number of harmonics on moderate tone 2)+1 and continuing for more input tones. Assuming three harmonics on two moderate tones the number of PSS analyses is (2*3)+1  *  (2*3)+1, or 49 total PSS analyses.</li></ul>


<h4><em>
<a id="pgfId-1068569"></a> Harmonic Balance analysis</em></h4>

<ul><li>
<a id="pgfId-1085302"></a>The amount of memory required depends primarily on the number of harmonics in the solution. Setting accuracy options will have only a small effect on the memory size.</li><li>
<a id="pgfId-1085303"></a>The number of harmonics in the solution depends on the number of input frequencies, the number of harmonics to be calculated for each frequency, and whether frequency cuts are used. The default number of harmonics is calculated as follows: (2*number of harmonics on tone 1)+1 * (2*number of harmonics on tone 2)+1  *  (2*number of harmonics on tone 3)+1 and increasing if more inputs are present.</li><li>
<a id="pgfId-1085304"></a>For a single input and 7 harmonics, (2*7)+1 or 15 harmonics are needed. If there are two inputs with 7 and 3 harmonics set, then 15*7 or 105 harmonics are needed by default.</li><li>
<a id="pgfId-1085305"></a>Frequency cuts can reduce the number of harmonics that needs to be calculated. For more information on frequency cuts, see the SpectreRF User Guide, Chapter 3. If you want to use frequency cuts, the safest general recommendation is to use the funnel cut with maximum order set between 5 and 9. Use the smallest value of maximum order that produces accurate results.</li></ul>




<h4><em>
<a id="pgfId-1085294"></a>Small-Signal analysis</em></h4>

<p>
<a id="pgfId-1085330"></a>Once the PSS, QPSS or HB analysis runs, additional memory is required to run the small-signal analyses. The amount of memory is difficult to predict because different analyses require different amounts of memory. As a rough estimate, the amount of memory might double or triple shortly after the small-signal analysis starts. For shooting method, setting maximum sidebands above about 50 will require more memory. For harmonic balance, the memory depends on the number of harmonics present in the harmonic balance large-signal analysis.</p>

<h4><em>
<a id="pgfId-1085322"></a>Envelope method</em></h4>

<ul><li>
<a id="pgfId-1085352"></a>Envelope method has two engines; shooting and harmonic balance. Harmonic balance is recommended because it always requires less memory and time to run, and it has a fast envelope level 1 analysis available.</li><li>
<a id="pgfId-1085353"></a>Transistor-level and Level 1 harmonic balance envelope is harmonic balance with a transient engine. The memory required is only slightly more than a single-tone hb analysis with the same number of harmonics that are used in envelope.</li><li>
<a id="pgfId-1085354"></a>For transistor-level envelope, a harmonic balance simulation is done at each time in the envelope analysis. For fast envelope, a series of harmonic balance analyses are run at the start to characterize the circuit, and then a behavioral simulation runs after that.</li></ul>


<p>
<a id="pgfId-1085344"></a>You can consider using the following strategies: </p>
<ol><li>
<a id="pgfId-1068565"></a>Never set <code>useprobes=yes</code> for SpectreRF simulations. It can cause large errors in the small signal Pxx analyses. Use <code>useprobes</code> for linear AC analysis only.</li><li>
<a id="pgfId-1085432"></a>Check to see how much swap and memory you have on your computer. Greater than 2GB RAM and 5GB swap is recommended. <br />
<a id="pgfId-1064360"></a>A 64-bit Spectre executable is available with MMSIM releases. This means that there is no 4GB process size limit, which was the case with the 32-bit Spectre executable. This allows much larger circuits to be simulated. If the memory required for simulation is larger than the amount of RAM installed on the machine, the machine will start swapping which dramatically slows the simulation and may cause the simulation to almost completely stop because the disk is so active. The best solution is more RAM on the system. A partial solution for shooting only is to use the swap file option described below. At least one large machine should be available for post-parasitic simulations to complete successfully without swapping.</li><li>
<a id="pgfId-1085475"></a>If you are using shooting and your machine starts to swap, consider setting the swapfile option. This option writes much of the data from pss and qpss shooting large-signal analyses to disk files on your system. Large files will be produced. If the disk is local to the machine that is running the simulation, this will speed things up slightly compared to swapping in the operating system because Spectre manages the disk operations to put the data in concentric cylinders on the machine, but it is still fundamentally much slower than running on a machine that has more RAM. If the disk is a networked drive, the network latency may actually slow the simulation down. Only setting the option will allow runtime comparisons. Harmonic balance does not have this option.</li><li>
<a id="pgfId-1070466"></a>For post-layout simulations, consider using RC reduction to reduce the number of nodes in the circuit.</li><li>
<a id="pgfId-1085514"></a>Choose the largest possible <code>PSSfund</code> frequency. A higher fundamental frequency (<code>PSSfund</code>) yields a shorter simulation time.</li><li>
<a id="pgfId-1085569"></a>If you have two or more closely spaced frequencies, use harmonic balance instead of PSS.</li><li>
<a id="pgfId-1085578"></a>When shooting is used, try to use 10 harmonics or less and don&#39;t set the macacfreq or maxstep options unless you get errors from the small-signal analyses. Don&#39;t over-tighten the accuracy options.</li><li>
<a id="pgfId-1085587"></a>In harmonic balance, use the smallest number of harmonics you can that produce accurate results, and consider using frequency cuts for circuits with multiple input frequencies.</li><li>
<a id="pgfId-1085598"></a>If you are using names in harmonic balance or if you are using qpss, make sure that all the sources at the same frequency have the same Frequency Name 1 property. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1089639"></a>This is NOT the Instance Name property which all must be unique. </div>
<a id="pgfId-1089633"></a>Setting the Frequency Name 1 property to the same name signifies to Spectre to treat those sources as a single frequency. For example, imagine you have differential RF inputs at 2.4GHz and I and Q differential LOs at 2.41GHz. There are two RF sources and four LO sources. Both RF sources have the same frequency and all four LO sources have the same frequency. As an example, you might set the RF sources to have the frequency name 1 property &quot;RF&quot; and all the LO sources &quot;LO.&quot; In this case, Spectre will solve for two different frequencies as it should. If you named the sources RF1, RF2, LO1, LO2, LO3, and LO4, Spectre will consider these as all separate input frequencies. This becomes a six-tone simulation instead of a two-tone simulation and will take much longer to run and require hugely more memory.</li><li>
<a id="pgfId-1085607"></a>In shooting small-signal analyses try to keep the number of sidebands to about 50 or less. More than 50 sidebands will require more memory. Full spectrum pnoise requires less memory than traditional pnoise. In hb small-signal analyses, leave the number of sidebands field unspecified and use the smallest number of harmonics in the harmonic balance analysis that you can that also produce accurate results.</li><li>
<a id="pgfId-1085616"></a>In envelope analysis, use the smallest number of harmonics you can to get an accurate result.</li><li>
<a id="pgfId-1085625"></a>Run Spectre when no other users are using the same machine so all the RAM is available for your use.</li><li>
<a id="pgfId-1085923"></a>In harmonic balance, run the memory estimator on the circuit to have an understanding of the rough memory consumption.</li></ol>


















<h2>
<a id="pgfId-1070469"></a><a id="49487"></a>Output Selections (save)<a id="marker-1070468"></a></h2>
<h4>
<a id="pgfId-1070471"></a>Description<a id="marker-1070470"></a></h4>

<p>
<a id="pgfId-1048851"></a>The <code>save</code> statement indicates that the values of specific nodes or signals must be saved in the output file. It works in conjunction with the <code>save</code> parameter for most analyses. The output file is written in Cadence Parameter Storage Format (PSF), or in Nutmeg/SPICE3 format, which is controlled by a command-line argument or a global option (see the options statement). See options help for the complete list of supported formats. An appropriate postprocessor should be used to view the output, generate plots, or do any further processing.</p>

<h4>
<a id="pgfId-1048853"></a>Definition<a id="marker-1048852"></a></h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048854"></a>save X[:param] ... [depth=num] [sigtype=node|dev|subckt|all] [devtype=component_type] [subckt=subckt_master] [exclude=[wildcard_patterns_list]] [compression=no|yes] [ports=yes|no] [filter=none|rc] [probelvl=num] time_window=[t1 t2 t3 t4 ...]</pre>

<p>
<a id="pgfId-1048855"></a>The <code>save</code> statement takes a list of signals followed by some optional parameters as an argument. <code>X</code> can be a node, a component, or a subcircuit and <code>param</code> can be a component output parameter or a terminal index. To specify a class of signals, use the pattern matching character <code>*</code> for any string and <code>?</code> for any character. The parameters control pattern matching. <code>depth</code> controls the depth of pattern matching and, by default, matches signals at all hierarchical levels. <code>sigtype</code> with the default value <code>node</code> defines the type of <code>X</code>. If <code>sigtype=all</code>, <code>X</code> can be a node, a component, or a subcircuit. <code>devtype</code> defines the component type and has no default value. <code>subckt</code> is used to save signals that are contained only in instances of a given subcircuit master. The signals matching a pattern from the list specified with <code>exclude</code> are not saved. When <code>subckt</code> is given, the wildcard patterns in the save statement and the depth of pattern matching must be relative to the subcircuit master. </p>
<p>
<a id="pgfId-1048856"></a>The concept of nodes for the <code>save</code> statement is generalized to signals where a signal is a value associated with a topological node of the circuit or some other unknown that is solved by the simulator, such as the current through an inductor or the voltage of the internal node in a diode. Topological nodes can be at the top level or in the subcircuit.</p>
<p>
<a id="pgfId-1048857"></a>By default, the waveforms defined in the <code>save</code> statement are not compressed. Compression can be enabled globally for selected hierarchy levels in the transient statement (<code>compression</code>, <code>complvl</code>). Compression can also be enabled or disabled individually for each save statement. The compression settings in the save statement overwrite the compression settings in the transient statement.</p>
<p>
<a id="pgfId-1089195"></a><code>time_window</code> is used to specify the output time interval for transient analysis.Signals in <code>[t1 t2]</code> and <code>[t3 t4]...</code> are outputted.</p>
<p>
<a id="pgfId-1069088"></a>The ports parameter saves the subckt ports names as well if <code>yes</code> is specified. The default value is <code>no</code>. The filter parameter works with wildcarding to filter out the nodes that connect only to parasitics, if <code>rc</code> is specified. The default value is <code>none</code>.</p>
<p>
<a id="pgfId-1080296"></a>To probe terminal currents hierarchically at a specified depth, specify the depth using the <code>probelvl</code> option to obtain the terminal current for all terminals connected within that depth.</p>
<p>
<a id="pgfId-1048858"></a>For example:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048859"></a>save 7 out OpAmp1.comp M1:currents D3:oppoint L1:1 R4:pwr</pre>

<p>
<a id="pgfId-1048860"></a>specifies that node <code>7</code>, node <code>out</code>, node <code>comp</code> in subcircuit <code>OpAmp1</code>, the currents through the terminals of <code>M1</code>, the oppoint information for diode D3, the current through the first terminal of <code>L1</code>, and the instantaneous power dissipated by R4 should be saved. These outputs are saved in addition to any outputs specified by the <code>save</code> parameter for the analysis.</p>
<p>
<a id="pgfId-1048861"></a>To specify a component terminal current, specify the name of the component and the name or the index of the terminal separated by a colon. If <code>currents</code> is specified after the component and the colon, all the terminal currents for the component are saved unless the component has only two terminals, in which case only the current through the first terminal is saved. Current is positive if it enters the terminal flowing into the component.</p>
<p>
<a id="pgfId-1048862"></a>If a component name is followed by a colon and <code>oppoint</code>, then the operating point information associated with the component is computed and saved. If the colon is followed by an operating point parameter name (see each component for list of operating point parameters), then the value of that parameter is output.</p>
<p>
<a id="pgfId-1048863"></a>If only a component name is given, all available information about the component, including the terminal currents and the operating point parameter values, is saved.</p>
<p>
<a id="pgfId-1048865"></a><strong>Examples of pattern matching</strong></p>
<ul><li>
<a id="pgfId-1048866"></a><code>save x*.*1 depth=3</code><br />
<a id="pgfId-1048867"></a>Saves the voltages of all nodes from level 2 to level 3 whose name starts with <code>x</code> and ends in <code>1</code>. For example, <code>x1.n1</code>, <code>x1.x2.x3</code> but not <code>x1.x2.x3.x4</code>.</li><li>
<a id="pgfId-1048868"></a><code>save x*.*1 sigtype=subckt</code><br />
<a id="pgfId-1048869"></a>Saves all terminal currents of subcircuits from level 2 and above whose name starts with <code>x</code> and ends in <code>1</code>. For example,<code> x1.x21:2, x1.x2.x31:3</code>. </li><li>
<a id="pgfId-1048870"></a><code>save *:c devtype=bjt</code> <br />
<a id="pgfId-1048871"></a>Saves all collector currents</li><li>
<a id="pgfId-1048872"></a><code>save * subckt=inv</code><br />
<a id="pgfId-1048873"></a>Saves the voltages of all nodes in the instances of the subcircuit <code>inv</code>. For example, <code>X1.n1</code> for an instance <code>X1</code> of <code>inv</code> but not <code>net091</code> at the top-level</li><li>
<a id="pgfId-1048874"></a><code>save * exclude=[X1* X2*]</code><br />
<a id="pgfId-1048875"></a>Saves the voltages of all nodes excluding the ones whose names start with <code>X1</code> or <code>X2</code>. For example, <code>net091</code>, <code>X0.res3.n2</code> but not <code>X21.res3.n2</code>.</li><li>
<a id="pgfId-1080320"></a><code>save X1:A probelvl=3</code><br />
<a id="pgfId-1080321"></a>Saves all terminal currents that are connected to terminal <code>A</code> of subcircuit <code>X1</code>, till the third-level depth.</li><li>
<a id="pgfId-1080322"></a>s<code>ave nA:currents probelvl=2</code><br />
<a id="pgfId-1080323"></a>Saves the currents of all terminals that are connected to node <code>nA</code>, till the second-level depth.</li><li>
<a id="pgfId-1089237"></a><code>save N1 time_window=[1m 2m 3m 4m]</code><br />
<a id="pgfId-1089261"></a>Save node N1 from 1ms to 2ms and 3ms to 4ms.</li><li>
<a id="pgfId-1089279"></a><code>save N1 time_window=[1m 2m]</code><br />
<a id="pgfId-1089297"></a><code>save N1 time_window=[0.5m 2.5m 3m 4m]</code><br />
<a id="pgfId-1089316"></a>Save node <code>N1</code> from 0.5ms to 2.5ms and 3ms to 4ms</li><li>
<a id="pgfId-1089337"></a><code>save N1 time_window = [ 1m 2m]</code><br />
<a id="pgfId-1089355"></a>Saves all waveforms starting with N for entire simulation time, except N1 which is only saved from 1ms to 2ms.</li></ul>




















<p>
<a id="pgfId-1086277"></a>For more information, see <em><a actuate="user" class="URL" href="../spectreuser/chap8.html#savingfornodes" show="replace" xml:link="simple">The Save Statement</a></em> in the <em>Spectre Classic Simulator, Spectre APS, Spectre X, and Spectre XPS User Guide</em>.</p>

<h2>
<a id="pgfId-1048877"></a><a id="21543"></a>Savestate - Recover (savestate)<a id="marker-1048876"></a></h2>
<h4>
<a id="pgfId-1048879"></a>Description<a id="marker-1048878"></a></h4>

<p>
<a id="pgfId-1048880"></a>Savestate-Recover is a transient analysis feature. It is a replacement for Checkpoint-Restart capability. </p>
<p>
<a id="pgfId-1048881"></a>The Checkpoint-Restart capability saves only the circuit solution for the timepoint at which the simulation is interrupted. Because there is no history information saved for the circuit, glitches, convergence issues, and inaccuracies can result when the simulation is resumed. The Savestate-Recover feature saves the complete state of the circuit, avoiding these issues.</p>
<p>
<a id="pgfId-1048882"></a>Savestate-Recover provides the following functions: </p>
<ul><li>
<a id="pgfId-1048883"></a>You have the option to save circuit information at set intervals or at multiple points during transient analysis. If the simulation halts unexpectedly, you can restart transient analysis from any saved timepoint. </li><li>
<a id="pgfId-1048884"></a>You can experiment with different accuracy settings over different transient time periods to obtain the optimal speed/accuracy trade-off. </li></ul>


<h4>
<a id="pgfId-1059366"></a>Requirements for Savestate-Recover</h4>

<p>
<a id="pgfId-1059397"></a>When the simulation is restarted: </p>
<ul><li>
<a id="pgfId-1059398"></a>Netlist topology must not be changed. Topology changes or the removal/addition of nodes in the restore file causes a fatal error.</li><li>
<a id="pgfId-1059393"></a>You may edit any netlist parameter as long as the circuit topology remains the same.</li><li>
<a id="pgfId-1059394"></a>The stop time of Transient analysis must be larger than the timepoint corresponding to the savestate file.</li><li>
<a id="pgfId-1059376"></a>Saved state file is binary and platform dependent.</li><li>
<a id="pgfId-1059377"></a>Savestate-Recover works only for transient analysis and the transient analysis must not be within a Sweep or Monte Carlo analysis.</li></ul>





<h4>
<a id="pgfId-1048892"></a>Use Model</h4>

<ul><li>
<a id="pgfId-1048893"></a>Savestate<br />
<a id="pgfId-1048894"></a>Savestate is enabled/disabled by using the <code>spectre</code> command, as follows.<pre class="webflare-pre-block webflare-courier-new" id="#id1048895">
<a id="pgfId-1048895"></a>spectre [+savestate ] [-savestate ] ...</pre>
<a id="pgfId-1048896"></a>where: <ul><li>
<a id="pgfId-1048897"></a><code>+savestate</code> - Enables Savestate. You may use <code>+ss</code> as an abbreviation for <code>+savestate</code>.</li><li>
<a id="pgfId-1048899"></a><code>-savestate</code> - Disables Savestate. You may use <code>-ss</code> as an abbreviation for -<code>savestate</code>.</li></ul><br />
<a id="pgfId-1048901"></a>By default, savestate is on, and checkpoint is off. </li><li>
<a id="pgfId-1048902"></a>Define saved time points and state file in the <code>tran</code> statement. For example: <br /><pre class="webflare-pre-block webflare-courier-new" id="#id1048904">
<a id="pgfId-1048904"></a>DoTran tran stop=stoptime [ [saveperiod=time] | [saveclock=clock_time] | [savetime=[time1 time2...]]   [savefile=file.srf]</pre>
<a id="pgfId-1048905"></a>where:<ul><li>
<a id="pgfId-1048906"></a><code>saveperiod</code>, <code>saveclock</code>, and <code>savetime</code> define the time points to save the states.<ul><li>
<a id="pgfId-1059604"></a>If <code>saveperiod</code> is given, Spectre generates a saved state file periodically based on the transient simulation time. Only the last saved state file is kept.</li><li>
<a id="pgfId-1059605"></a>If <code>saveclock</code> is given, Spectre generates a saved state file periodically based on real time (wall clock time). Its default value is 1800 seconds (30 minutes).  </li><li>
<a id="pgfId-1059606"></a>If <code>savetime</code> is given, Spectre generates a saved state file on each specified time point.</li></ul></li><li>
<a id="pgfId-1048908"></a><code>savefile</code> defines where the saved states are written.<ul><li>
<a id="pgfId-1048918"></a>If <code>savefile</code> is not defined, the default file name is <code>%C.%A.srf</code>.<br />
<a id="pgfId-1059569"></a>Where <code>%C</code> is the input circuit file name, and <code>%A</code> is the analysis name.</li></ul></li></ul><br />
<a id="pgfId-1048920"></a>If multiple save time points are given, That is, <pre class="webflare-pre-block webflare-courier-new" id="#id1048921">
<a id="pgfId-1048921"></a>analysisName tran stop=stoptime savetime=[time1 time2 ...] savefile=filename </pre>
<a id="pgfId-1048922"></a>the saved state file is <code>filename_at_time1</code>, <code>filename_at_time2</code>, and so on. <br />
<a id="pgfId-1064838"></a>Besides saving the state based on saveperiod or saveclock or savetime, if savestate is enabled, Spectre automatically saves the states to a file when an interrupt signal like <code>QUIT</code>, <code>TERM</code>, <code>INT</code>, or <code>HUP</code> is received for the first time. If interrupt signals are received more than once, Spectre quits immediately.<br />
<a id="pgfId-1064839"></a>The <code>saveclock</code>, <code>saveperiod</code>, and <code>savetime</code> parameters should not be specified at the same time.<br />
<a id="pgfId-1048928"></a>If more than one parameter is specified, Spectre reads them in the following order:<pre class="webflare-pre-block webflare-courier-new" id="#id1048930">
<a id="pgfId-1048930"></a>saveperiod </pre><pre class="webflare-pre-block webflare-courier-new" id="#id1048931">
<a id="pgfId-1048931"></a>savetime </pre><pre class="webflare-pre-block webflare-courier-new" id="#id1048932">
<a id="pgfId-1048932"></a>saveclock </pre></li><li>
<a id="pgfId-1048933"></a>Recover <br />
<a id="pgfId-1048934"></a>There are two ways to recover the simulation from the saved state file. The first is to define the recover file using the <code>spectre</code> command. The second is to define the recover file in a <code>tran</code> statement.<br />
<a id="pgfId-1048937"></a>Defining the recover file in the <code>tran</code> statement is strongly recommended, especially if there are multiple analyses statements in the netlist. </li><li>
<a id="pgfId-1048939"></a>Recover from command line <br /><pre class="webflare-pre-block webflare-courier-new" id="#id1048940">
<a id="pgfId-1048940"></a>spectre [+recover[=filename]]  [-recover] ... </pre>
<a id="pgfId-1048941"></a>where: <ul><li>
<a id="pgfId-1048942"></a><code>+recover</code> - Enables recover. You may use <code>+rec</code> as an abbreviation for <code>+recover</code>. </li><li>
<a id="pgfId-1048944"></a><code>-recover</code> - Disables recover. You may use <code>-rec</code> as an abbreviation for <code>-recover</code>.</li></ul></li><li>
<a id="pgfId-1048946"></a>Recover from the <code>tran</code> statement <br /><pre class="webflare-pre-block webflare-courier-new" id="#id1048947">
<a id="pgfId-1048947"></a>analysisName tran  recover=filename ... </pre>
<a id="pgfId-1048948"></a>By default, recover is disabled.</li><li>
<a id="pgfId-1048949"></a>Output Directory on Recovering<br />
<a id="pgfId-1048950"></a>When recovering from a saved state in a Spectre run by using <code>+recover=state_file</code> in a command-line option, a new raw directory is created to avoid overwriting the previous simulation results. However, if <code>recover=state_file</code> is given in a <code>tran</code> statement, the default raw directory is used.<br />
<a id="pgfId-1048955"></a>When defining <code>recover=state_file</code> in a <code>tran</code> statement, use a different tran name to avoid previous simulation results to be overwritten by the recovered results.<br />
<a id="pgfId-1048958"></a>When a new raw directory is created, the raw directory name is the same as the default raw directory, except that an index (starting from 0) is suffixed to raw, such as <code>*.raw#</code>, where <code>#</code> is 0, 1, 2, and so on.<br />
<a id="pgfId-1048961"></a>For example, in the first run, enter:<pre class="webflare-pre-block webflare-courier-new" id="#id1048962">
<a id="pgfId-1048962"></a>spectre input.scs </pre>
<a id="pgfId-1048963"></a>Spectre saves the simulation state in a file on a time point. By default, <code>input.raw</code> directory is created.<br />
<a id="pgfId-1048965"></a>When Spectre runs in recover mode:<pre class="webflare-pre-block webflare-courier-new" id="#id1048966">
<a id="pgfId-1048966"></a>spectre +recover=saved_state_file input.scs</pre>
<a id="pgfId-1048967"></a>a new raw directory named <code>input.raw0</code> is created. The index of the raw directory is increased by one at each successive recover run. Another use model is that you define multiple transient-analysis runs in a netlist. In the first transient-analysis run, Spectre saves the simulation state on a time point. <br />
<a id="pgfId-1048971"></a>In the next transient analysis run, simulation is continued from the saved time point. For example: <pre class="webflare-pre-block webflare-courier-new" id="#id1048973">
<a id="pgfId-1048973"></a>tran1 tran step=1ps stop=200ns savetime=[50ns] savefile=tran1_save</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1048974">
<a id="pgfId-1048974"></a>tran2 tran step=1p stop=400ns  recover=tran1_save_at_50.00ns</pre>
<a id="pgfId-1048975"></a>In this case, the default raw directory is used.</li></ul>




















































<p>
<a id="pgfId-1086315"></a>For more information, see <em><a actuate="user" class="URL" href="../spectreuser/chap10.html#save-restart" show="replace" xml:link="simple">Recovering From Transient Analysis Terminations</a></em> section in the <em>Spectre Classic Simulator, Spectre APS, Spectre X, and Spectre XPS User Guide</em>.</p>

<h2>
<a id="pgfId-1048977"></a><a id="74443"></a>Sensitivity An<a id="sens"></a>alyses (sens)<a id="marker-1048976"></a></h2>
<h4>
<a id="pgfId-1048979"></a>Description<a id="marker-1048978"></a></h4>

<p>
<a id="pgfId-1048980"></a>Use the <code>sens</code> control statement to find partial or normalized sensitivities of the output variables with respect to component and instance parameters for the list of the analyses performed. Currently, DC and AC sensitivity analyses are supported. The results of the sensitivity analyses are stored in the output files written in Cadence Parameter Storage Format (PSF). The global option parameter <code>senstype</code> (see the options statement) is used to control the type of sensitivity being calculated. In addition, you can use <code>+sensdata filename</code> command-line argument or a global option (see the options statement) to direct sensitivity analyses results into a specified ASCII file. </p>

<h4>
<a id="pgfId-1048982"></a>Definition<a id="marker-1048981"></a></h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1048983"></a>sens (output_variables_list) to (design_parameters_list) for (analyses_list)</pre>

<p>
<a id="pgfId-1048984"></a>where: </p>
<ul><li>
<a id="pgfId-1048985"></a><code>output_variables_list</code> = <code>ovar1</code> <code>ovar2</code>, and so on.</li><li>
<a id="pgfId-1048986"></a><code>design_parameters_list</code> = <code>dpar1</code>, <code>dpar2</code>, and so on.</li><li>
<a id="pgfId-1048987"></a><code>analyses_list</code> = <code>anal1</code> <code>anal2</code> , and so on.</li></ul>


<p>
<a id="pgfId-1048988"></a>The list of design parameters may include valid instance and model parameters. You can also specify device instances or device models without a modifier. In this case, Spectre attempts to compute sensitivities with respect to all corresponding instance or model parameters. Caution should be exercised in using this option as warnings or errors may be generated if many instance and model parameters cannot be modified. If no design parameters are specified, then all the instance and model parameters are added. The list of the output variables for both AC and DC analyses may include node voltages and branch currents. For DC analyses, it may also include device instance operating point parameters. </p>
<p>
<a id="pgfId-1048990"></a><strong>Examples</strong> </p>
<ul><li>
<a id="pgfId-1048991"></a><code>sens (q1:betadc 2 Out) to (vcc:dc nbjt1:rb) for (analDC)</code> <br />
<a id="pgfId-1048992"></a>For this statement, DC sensitivities of <code>betadc</code> operating point parameter of transistor <code>q1</code> and of nodes <code>2</code> and <code>Out</code> are computed with respect to <code>dc</code> voltage level of voltage source <code>vcc</code> and model parameter <code>rb</code> for the DC analysis <code>analDC</code>. The results are stored in the raw directory with the name in the format <code>analysisname.sens.analysistype</code>, that is, <code>dc.sens.analDC</code>.</li><li>
<a id="pgfId-1048993"></a><code>sens (1 n2 7) to (q1:area nbjt1:rb) for (analAC)</code> <br />
<a id="pgfId-1048994"></a>For this statement, AC sensitivities of nodes 1, n2, and 7 are computed with respect to the area parameter of transistor <code>q1</code> and the model parameter <code>rb</code> for each frequency of the AC analysis analAC. The results are stored in the output file <code>analAC.sens.ac</code>. </li><li>
<a id="pgfId-1048995"></a><code>sens (1 n2 7) for (analAC)</code> <br />
<a id="pgfId-1048996"></a>For this statement, AC sensitivities of nodes 1, n2, and 7 are computed with respect to all instance and model parameters of all devices in the design for each frequency of the AC analysis analAC. The results are stored in the file in the format <code>ac.sens.analAC</code>. </li><li>
<a id="pgfId-1048997"></a><code>sens (vbb:p q1:int_c q1:gm 7) to (q1:area nbjt1:rb) for (analDC1)</code> <br />
<a id="pgfId-1048998"></a>For this statement, DC sensitivities of branch current <code>vbb:p</code>, the operating point parameter <code>gm</code> of the transistor <code>q1</code>, the internal collector voltage <code>q1:int_c</code> and the node <code>7</code> voltage are computed with respect to instance parameter <code>area</code> for instance <code>q1</code> and model parameter <code>rb</code> for model <code>nbjt1</code>. </li></ul>







<p>
<a id="pgfId-1086328"></a>For additional information, see <em><a actuate="user" class="URL" href="../spectreuser/chap7.html#sens" show="replace" xml:link="simple">Sensitivity Analysis</a></em> in the <em>Spectre Classic Simulator, Spectre APS, Spectre X, and Spectre XPS User Guide</em>.</p>

<h2>
<a id="pgfId-1049000"></a><a id="77976"></a>SpectreRF Summary (spectrerf)<a id="marker-1048999"></a></h2>
<h4>
<a id="pgfId-1049002"></a>Description<a id="marker-1049001"></a></h4>

<p>
<a id="pgfId-1049003"></a>SpectreRF is an optional collection of analyses that are useful for circuits that are driven with a large periodic signal. Examples include mixers, oscillators, switched-capacitor filters, sample-and-holds, chopper stabilized amplifiers, frequency multipliers, frequency dividers, and samplers. They efficiently and directly compute the periodic and quasiperiodic steady-state solution of such circuits and are capable of computing large-and-small-signal behavior, including noise behavior. Therefore, SpectreRF is capable of computing the noise figure or intermodulation distortion of a mixer, the phase noise and harmonic distortion of an oscillator, and the frequency-response and noise behavior of a switched-capacitor filter. For more information about the SpectreRF analyses, run <code>spectre -help analysisName</code> where <code>analysisName</code> is <code>pss</code>, <code>pac</code>, <code>pxf</code>, <code>pnoise</code>, <code>psp</code>, <code>pstb</code>, <code>qpss</code>, <code>qpac</code>, <code>qpxf</code>, <code>qpnoise</code>, <code>qpsp</code>, <code>envlp</code>, <code>hb</code>, <code>hbac</code>, <code>hbsp</code>, or <code>hbnoise</code>.</p>

<h2>
<a id="pgfId-1049005"></a><a id="94713"></a>Stitch Flow Use Model (stitch)<a id="marker-1049004"></a></h2>
<h4>
<a id="pgfId-1049007"></a>Description<a id="marker-1049006"></a></h4>

<p>
<a id="pgfId-1049008"></a>Stitching enables Spectre APS to plug in the parasitic elements while simulation is running. Compared to the flat RC netlist and the hierarchical RC netlist approaches, the Stitching flow has the following advantages:</p>
<ul><li>
<a id="pgfId-1049009"></a>Reuse of the pre-layout simulation test-bench. There is no need to change the probe and the measure statements.</li><li>
<a id="pgfId-1049010"></a>What-if analysis powered by selective stitching.</li></ul>

<p>
<a id="pgfId-1049011"></a>Spectre APS stitching is enabled by options.</p>

<h4>
<a id="pgfId-1049013"></a>Parasitic File Loading Parameters</h4>

<ul><li>
<a id="pgfId-1049014"></a><code>spf</code><br />
<a id="pgfId-1049015"></a>This option specifies the to-be-stitched DSPF file and its stitching scope. The syntax is <code>spf=&quot;scope filename&quot;</code>. The scope can be a subcircuit or an instance. When a subcircuit is specified as the scope, the DSPF file is stitched to all the instances of that subcircuit. When an instance is specified as the scope, the DSPF file is stitched to that instance only. Multiple DSPF files can be specified for stitching by using the option multiple times.<br />
<a id="pgfId-1049016"></a>Example:<pre class="webflare-pre-block webflare-courier-new" id="#id1049017">
<a id="pgfId-1049017"></a>spf=&quot;mem mem.dspf&quot;</pre></li><li>
<a id="pgfId-1049018"></a><code>dpf</code><br />
<a id="pgfId-1049019"></a>This option specifies the to-be-stitched DPF file and its stitching scope. The syntax is <code>dpf=&quot;scope filename&quot;</code>. The scope can be a subcircuit or an instance. When a subcircuit is specified as the scope, the DPF file is stitched to all the instances of that subcircuit. When an instance is specified as the scope, the DPF file is stitched to that instance only. Multiple DPF files can be specified for stitching by using the option multiple times.<br />
<a id="pgfId-1049020"></a>Example:<pre class="webflare-pre-block webflare-courier-new" id="#id1049021">
<a id="pgfId-1049021"></a>dpf=&quot;X1.XPLL PLL.dpf&quot; dpf=&quot;X1.XMEM mem.dpf&quot;</pre>
<a id="pgfId-1049022"></a>This means that the <code>PLL.dpf</code> file needs to be stitched to the <code>X1.XPLL</code> instance and the <code>mem.dpf</code> file needs to be stitched to the<code> X1.XMEM</code> instance.</li><li>
<a id="pgfId-1049023"></a><code>spef</code><br />
<a id="pgfId-1049024"></a>This option specifies the to-be-stitched SPEF file and its stitching scope. The syntax is <code>spef=&quot;scope filename&quot;</code>. The scope can be a subcircuit or an instance. When a subcircuit is specified as the scope, the SPEF file is stitched to all the instances of that subcircuit. When an instance is specified as the scope, the SPEF file is stitched to that instance only. Multiple SPEF files can be specified for stitching by using the option multiple times.<br />
<a id="pgfId-1049025"></a>Example:<pre class="webflare-pre-block webflare-courier-new" id="#id1049026">
<a id="pgfId-1049026"></a>spef=&quot;adc a.spef&quot;</pre></li></ul>













<h4>
<a id="pgfId-1049027"></a>Stitching Parsing Options</h4>

<ul><li>
<a id="pgfId-1067008"></a><code>spfscale</code><br />
<a id="pgfId-1067009"></a>This option specifies the scaling factor of all the elements in the parasitic files (DSPF/SPEF/DPF). For example, consider that the width of a device in the DSPF file is w=2. If spfscale=1.0e-6 is used, the actual width will be w=2.0e-6.</li><li>
<a id="pgfId-1080370"></a><code>spfscalec</code><br />
<a id="pgfId-1080392"></a>This option specifies the scaling factor of all the capacitors in the parasitic files (DSPF/SPEF/DPF). Example, suppose a capacitor&#39;s value in the DSPF file is 2. If <code>spfscalec=1.0e-15</code> is used, the actual capacitor value will be 2.0e-15.</li><li>
<a id="pgfId-1080426"></a><code>spfscaler</code><br />
<a id="pgfId-1080427"></a>This option specifies the scaling factor of all the resistors in the parasitic files (DSPF/SPEF/DPF). Example, suppose a resistor&#8217;s value in the DSPF file is 2. If <code>spfscaler=1.0e-3</code> is used, the actual capacitor value will be <code>w=2.0e-3</code>.</li><li>
<a id="pgfId-1060136"></a><code>spfswapterm</code><br />
<a id="pgfId-1060137"></a>This option specifies the swappable terminals of a subcircuit macro-model. The syntax is <code>spfswapterm=&quot;terminal1 terminal2 subcktname&quot;</code>.<br />
<a id="pgfId-1049030"></a>Example:<pre class="webflare-pre-block webflare-courier-new" id="#id1049031">
<a id="pgfId-1049031"></a>spfswapterm=&quot;n1 n2 nch_mac&quot;</pre>
<a id="pgfId-1049032"></a>This indicates that terminals <code>n1</code> and <code>n2</code> of <code>subckt nch_mac</code> are swappable. In general, this is applicable to devices that are modeled by subcircuits. Multiple <code>spfswapterm</code> statements are supported.</li><li>
<a id="pgfId-1049033"></a><code>spfxtorprefix</code><br />
<a id="pgfId-1049034"></a>This option specifies the prefix in the names (devices and nets) in the DSPF/SPEF/DPF file. The device names in the prelayout netlist and the DSPF/SPEF file often do not match. The <code>spfxtorprefix</code> option can be used to help match the device names. The syntax is <code>spfxtorprefix=&quot;&lt;substring&gt; [&lt;replace_substring&gt;]&quot;</code>.<br />
<a id="pgfId-1049035"></a>Example:<pre class="webflare-pre-block webflare-courier-new" id="#id1049036">
<a id="pgfId-1049036"></a>spfxtorprefix=&quot;XM X&quot;</pre>
<a id="pgfId-1049037"></a><code>XX1</code>/<code>XM1</code> exists in the prelayout netlist but the corresponding device name in the DSPF file is <code>XMX1</code>/<code>XM1</code>. This option will change <code>XM</code> to <code>X</code>.</li><li>
<a id="pgfId-1049038"></a><code>spfaliasterm</code><br />
<a id="pgfId-1049039"></a>Sometimes the terminal names of devices in DSPF/SPEF/DPF files are different from those in the simulation model library. This happens often in the technology nodes that uses subcircuits to model devices. The syntax is <code>spfaliasterm=&quot;&lt;model|subckt&gt;</code> <code>&lt;prelayout_term1&gt;=&lt;spf_alias1&gt; &lt;prelayout_term2&gt;=&lt;spf_alias2&gt;</code>... <code>&lt;prelayout_termN&gt;=&lt;spf_aliasN&gt;&quot;</code>. Multiple statements are supported.<br />
<a id="pgfId-1049040"></a>Example:<pre class="webflare-pre-block webflare-courier-new" id="#id1049041">
<a id="pgfId-1049041"></a>spfaliasterm=&quot;nfet_mac n1=D n2=G n3=S n4=B&quot;</pre>
<a id="pgfId-1049042"></a>This means that in subckt <code>nfet_mac</code>, terminal <code>n1</code> corresponds to terminal <code>D</code> in the DSPF file, <code>n1</code> corresponds to terminal <code>G</code>, <code>n3</code> corresponds to terminal <code>S</code> and <code>n4</code> corresponds to terminal <code>B</code>.</li><li>
<a id="pgfId-1049043"></a><code>speftriplet</code><br />
<a id="pgfId-1049044"></a>This option specifies the value that should be used for stitching in the SPEF file. This is effective only when the values in the SPEF file are represented by triplets (for instance, <code>0.325:0.41:0.495</code>). Default value is 2. Possible values are 1, 2 and 3.</li><li>
<a id="pgfId-1080471"></a><code>spfinstancesection</code><br />
<a id="pgfId-1080472"></a>This option controls the backannotation of device parameters in the instance section of the DSPF file. If <code>spfinstancesection</code> is turned off, the instance section is ignored (that is, the device parameters are not changed during stitching). Default is on.</li><li>
<a id="pgfId-1080473"></a><code>spfbusdelim = busdelim_schematic [busdelim_parasitic]</code><br />
<a id="pgfId-1080474"></a>This option maps the bus delimiter between schematic netlist and parasitic file (i.e. DSPF, SPEF, or DPF). The option defines the bus delimiter in the schematic netlist, and optionally the bus delimiter in the parasitic file. By default, the bus delimiter of the parasitic file is taken from the parasitic file header (i.e. <code>*|BUSBIT []</code>, <code>*|BUS_BIT []</code>, or <code>*|BUS_DELIMITER []</code>). If the bus delimiter is not defined in the parasitic file header, you need to specify it by using the <code>spfbusdelim</code> option in schematic netlist.<br />
<a id="pgfId-1080475"></a>Example:<ul><li>
<a id="pgfId-1080476"></a><code>spfbusdelim=&lt;&gt;</code> - <code>A&lt;1&gt;</code> in the schematic netlist is mapped to <code>A_1</code> in the DSPF file, if the bus delimiter header in the DSPF file is &quot;<code>_</code>&quot;.</li><li>
<a id="pgfId-1080477"></a>s<code>pfbusdelim=@ []</code> - <code>A@1</code> in the schematic netlist is mapped to to <code>A[1]</code> in the DSPF file (the bus delimiter in DSPF header will be ignored).</li></ul></li><li>
<a id="pgfId-1080478"></a><code>spfinstarraydelim</code><br />
<a id="pgfId-1080479"></a>This option specifies the supplemental bus delimiter, if more than one bus delimiter is used in the pre-layout netlist (usually for instance array indexing). This option is similar to <code>spfbusdelim</code>.</li></ul>
































<h4>
<a id="pgfId-1049045"></a>Selective Stitching Options</h4>

<ul><li>
<a id="pgfId-1049046"></a><code>spfcnet</code><br />
<a id="pgfId-1049047"></a>This option specifies the net that has its total capacitance stitched. All other parasitic components, say parasitic resistors, associated with this net are ignored. The full hierarchical names are required. Multiple statements are supported. Wildcards are supported.<br />
<a id="pgfId-1049048"></a>Example:<pre class="webflare-pre-block webflare-courier-new" id="#id1049049">
<a id="pgfId-1049049"></a>spfcnet=X1.netA</pre></li><li>
<a id="pgfId-1049050"></a><code>spfcnetfile</code><br />
<a id="pgfId-1049051"></a>This option has the same functionality as <code>spfcent</code>.However, it accepts a text file in which all the C-only stitched nets are listed. Only one file can be specified. The syntax is <code>spfcnetfile=&quot;filename&quot;</code>. The format in the file is one line per net.<br />
<a id="pgfId-1049052"></a>Example:<pre class="webflare-pre-block webflare-courier-new" id="#id1049053">
<a id="pgfId-1049053"></a>spfcnetfile=&quot;nets.tex&quot;</pre>
<a id="pgfId-1049054"></a>The format in the nets.tex is:<pre class="webflare-pre-block webflare-courier-new" id="#id1049055">
<a id="pgfId-1049055"></a>netA</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1049056">
<a id="pgfId-1049056"></a>netB</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1049057">
<a id="pgfId-1049057"></a>netC</pre></li><li>
<a id="pgfId-1049058"></a><code>spfrcnet</code><br />
<a id="pgfId-1049059"></a>This option specifies the name of the net to be stitched with parasitic resistors and capacitors. The other nets are stitched with lumped total capacitances. Multiple statements are supported. Wildcards are supported and you can specify multiple nets. Full hierarchical names are required.<br />
<a id="pgfId-1049060"></a>Example:<pre class="webflare-pre-block webflare-courier-new" id="#id1049061">
<a id="pgfId-1049061"></a>spfrcnet=netA</pre></li><li>
<a id="pgfId-1049062"></a><code>spfrcnetfile</code><br />
<a id="pgfId-1049063"></a>This option has the same functionality as <code>spfrcnet</code>. However, it accepts a text file in which all the RC stitched nets are specified. Only one file can be specified. The syntax is <code>spfrcnetfile=&quot;filename&quot;</code>. The format in the file is one line per net.<br />
<a id="pgfId-1060397"></a>Example:<pre class="webflare-pre-block webflare-courier-new" id="#id1060398">
<a id="pgfId-1060398"></a>spfrcnetfile=&quot;nets.tex&quot;</pre>
<a id="pgfId-1060399"></a>The format in the nets.tex is:<pre class="webflare-pre-block webflare-courier-new" id="#id1060400">
<a id="pgfId-1060400"></a>netA</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1049068">
<a id="pgfId-1049068"></a>netB</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1049069">
<a id="pgfId-1049069"></a>netC</pre></li><li>
<a id="pgfId-1049070"></a><code>spfnetcmin</code><br />
<a id="pgfId-1049071"></a>This option allows you to select the net for stitching by the value of its total node capacitance. If a net&#8217;s total node capacitance exceeds <code>spfnetcmin</code>, all parasitics associated with the net are stitched correctly; otherwise, only the total capacitance is added to the net node.<br />
<a id="pgfId-1049072"></a>Example:<pre class="webflare-pre-block webflare-courier-new" id="#id1049073">
<a id="pgfId-1049073"></a>spfnetcmin=1.0e-6</pre></li><li>
<a id="pgfId-1049074"></a><code>spfskipnet</code><br />
<a id="pgfId-1049075"></a>This option specifies the net to be skipped for stitching, that is, all parasitic components of the net are not stitched. Wildcards and multiple statements are supported.<br />
<a id="pgfId-1049076"></a>Example:<pre class="webflare-pre-block webflare-courier-new" id="#id1049077">
<a id="pgfId-1049077"></a>spfskipnet=X1.nodeA</pre></li><li>
<a id="pgfId-1049078"></a><code>spfskipnetfile</code><br />
<a id="pgfId-1049079"></a>This option allows you to specify the nets to be skipped as a list in the text file called <code>file_name</code>. The syntax is <code>spfskipnetfile=&quot;filename&quot;</code>. Only one file can be specified. The format in the file is one line per net.<br />
<a id="pgfId-1049080"></a>Example:<pre class="webflare-pre-block webflare-courier-new" id="#id1049081">
<a id="pgfId-1049081"></a>spfskipnetfile=&quot;nets.tex&quot;</pre>
<a id="pgfId-1049082"></a><code>nets.tex</code> file format is:<pre class="webflare-pre-block webflare-courier-new" id="#id1049083">
<a id="pgfId-1049083"></a>netA</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1049084">
<a id="pgfId-1049084"></a>netB</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1049085">
<a id="pgfId-1049085"></a>netC</pre></li></ul>








































<h4>
<a id="pgfId-1049086"></a>Stitching Message Control Option</h4>

<ul><li>
<a id="pgfId-1049087"></a><code>spfmsglimit</code><br />
<a id="pgfId-1049088"></a>This option specifies the maximum number of messages to be printed in the <code>spfrpt</code> file. The messages in the <code>spfrpt</code> file are categorized by their ID number (STITCH-ID). This option specifies the maximum number of messages for a particular type of messages by using their STITCH-ID. The syntax is <code>spfmsglimit=&quot;number STITCH-ID_1 STITCH-ID_2&quot;</code>. When STITCH-ID is not specified, the tool assigns the maximum message number limit to all messages categories (STITCH-IDs).<br />
<a id="pgfId-1049089"></a>Example:<pre class="webflare-pre-block webflare-courier-new" id="#id1049090">
<a id="pgfId-1049090"></a>spfmsglimit=&quot;10 STITCH-0010&quot;</pre>
<a id="pgfId-1049091"></a>This tells the tool to print not more than 10 messages for the STITCH-0010 message category, in the meantime, for the other message categories, the default maximum limit of 50 messages will apply.</li></ul>




<p>
<a id="pgfId-1086353"></a>For additional information, see <em><a actuate="user" class="URL" href="../spectreuser/chap13.html#stitching_support" show="replace" xml:link="simple">Parasitic Backannotation of DPSF/SPEF/DPF Files</a></em> in the <em>Spectre Classic Simulator, Spectre APS, Spectre X, and Spectre XPS User Guide</em>.</p>

<h2>
<a id="pgfId-1049093"></a><a id="23450"></a>Subcircuit<a id="subckt"></a> Definitions (subckt)<a id="marker-1049092"></a></h2>
<h4>
<a id="pgfId-1049095"></a>Description<a id="marker-1049094"></a></h4>
<h4><em>
<a id="pgfId-1049096"></a>Hierarchical Circuit </em></h4>

<p>
<a id="pgfId-1049097"></a>The <code>subckt</code> statement is used to define a subcircuit. Subcircuit definitions are circuit macros that can be expanded anywhere in the circuit any number of times. When an instance in your input file refers to a subcircuit definition, the instances specified within the subcircuit are inserted into the circuit. Subcircuits may be nested. Therefore, a subcircuit definition may contain instances of other subcircuits. Subcircuits may also contain component, analysis, or model statements. Subcircuit definitions can also be nested, in which case the innermost subcircuit definition can only be referenced from within the subcircuit in which it is defined, and cannot be referenced from elsewhere. </p>
<p>
<a id="pgfId-1049098"></a>Instances that instantiate a subcircuit definition are referred to as subcircuit calls. The node names (or numbers) specified in the subcircuit call are substituted, in order, for the node names given in the subcircuit definition. All instances that refer to a subcircuit definition must have the same number of nodes as are specified in the subcircuit definition and in the same order. Node names inside the subcircuit definition are strictly local unless declared otherwise in the input file with a global statement.</p>

<h4><em>
<a id="pgfId-1049099"></a>Subcircuit Parameters</em></h4>

<p>
<a id="pgfId-1049100"></a>Parameter specification in subcircuit definitions is optional. In the case of nested subcircuit definitions, parameters that have been declared for the outer subcircuit definition are also available within the inner subcircuit definition. Parameters that are specified are referred to by name, optionally followed by an <code>=</code> sign and a default value. If, when making a subcircuit call, you do not specify a particular parameter, this default value is used in the macro expansion. Subcircuit parameters can be used in expressions within the subcircuit consisting of subcircuit parameters, constants, and various mathematical operators. Run <code>spectre -h expressions</code> for details about Spectre expression handling capability. Run <code>spectre -h parameters</code> for details about how Spectre handles netlist parameters, including subcircuit parameters, and how they inherit within nested subcircuit definitions.</p>
<p>
<a id="pgfId-1049102"></a>Subcircuits always have an implicitly defined parameter <code>m</code>. This parameter is passed to all components in the subcircuit, and each component is expected to multiply it by its own multiplicity factor. In this way, it is possible to efficiently model several copies of the subcircuit in parallel. Any attempt to explicitly define <code>m</code> on a <code>parameters</code> line results in an error. In addition, because <code>m</code> is only implicitly defined, it is not available for use in expressions in the subcircuit.</p>

<h4><em>
<a id="pgfId-1049104"></a>Inline Subcircuits</em></h4>

<p>
<a id="pgfId-1049105"></a>An inline subckt is a special case of a subckt where one of the devices or models instantiated within this subckt does not get its full hierarchical name. It instead inherits the subckt call name. An inline subckt is syntactically denoted by the presence of the keyword <code>inline</code> before the <code>subckt</code>. It is called in the same manner as a regular subcircuit. The body of the inline subcircuit can typically contain one of the following, based on different use models:</p>
<ul><li>
<a id="pgfId-1049106"></a>Multiple device instances, one of which is the <code>inline</code> component </li><li>
<a id="pgfId-1049107"></a>Multiple device instances, one of which is <code>inline</code> and one or more parameterized models </li><li>
<a id="pgfId-1049109"></a>A single <code>inline</code> device instance and a parameterized model to which the device instance refers </li></ul>


<p>
<a id="pgfId-1049111"></a>The <code>inline</code> component is denoted by giving it the same name as the inline subcircuit. When the subcircuit is flattened, the <code>inline</code> component does not take on a hierarchical name such as <code>X1.M1</code>, it instead takes on the name of the subckt call, such as <code>X1</code>. Any non-inline components in the subckt take on the regular hierarchical name, as if the subcircuit were a regular subckt (that is, not an <code>inline</code> subckt).</p>

<h4><em>
<a id="pgfId-1049112"></a>Probing the inline device</em></h4>

<p>
<a id="pgfId-1049113"></a>Spectre allows the following list of items to be saved or probed for primitive devices. These would also apply to devices modeled as the inline components of inline subcircuits:</p>
<ul><li>
<a id="pgfId-1049114"></a>All terminal currents. For example, <code>save q1:currents</code></li><li>
<a id="pgfId-1049115"></a>Specific (index) terminal current. For example, <code>save q1:1 (#1=collector)</code></li><li>
<a id="pgfId-1049116"></a>Specific (named) terminal current. For example, <code>save q1:b (&quot;b&quot;=base)</code></li><li>
<a id="pgfId-1049117"></a>Save all operating point info. For example, <code>save q1:oppoint</code></li><li>
<a id="pgfId-1049118"></a>Save specific operating point info. For example, <code>save q1:vbe</code></li><li>
<a id="pgfId-1049119"></a>Save all currents and oppoint info. For example, <code>save q1</code></li></ul>






<h4><em>
<a id="pgfId-1049120"></a>Parameterized Models and Inline Subckts</em></h4>

<p>
<a id="pgfId-1049121"></a>Inline subckts can be used in the same way as regular subcircuits to implement parameterized models, however, inline subckts provide some powerful new options. When an inline subcircuit contains both a parameterized model and an inline device that references that model, you can create instances of the device, and each device automatically gets an appropriately scaled model assigned to it. For example, the instance parameters to an inline subckt could represent something like emitter width and length of a BJT device, and within the subckt, a model card that is parameterized for emitter width and length and scales can be created accordingly. When you instantiate the macro, supply the values for the emitter width and length, and a device is instantiated with an appropriate geometrically scaled model. Again, the inline device does not get a hierarchical name and can be probed in the same manner as the inline device in the previous section on modeling parasitics, that is, the inline device can be probed just as if it were a simple device, and not actually embedded in a subckt</p>

<h4><em>
<a id="pgfId-1049122"></a>Automatic Model Selection using Inline Subckts</em></h4>

<p>
<a id="pgfId-1049123"></a>See <code>spectre -h if</code> for a description on how to combine Spectres <code>structural if</code> statement with inline subckts to perform automatic model selection based on <code>any</code> netlist/subckt parameter.</p>
<p>
<a id="pgfId-1086378"></a>For additional information on subcircuits, see <em><a actuate="user" class="URL" href="../spectreuser/chap5.html#definesub" show="replace" xml:link="simple">Subcircuits</a></em> in the <em>Spectre Classic Simulator, Spectre APS, Spectre X, and Spectre XPS User Guide</em>.</p>

<h4>
<a id="pgfId-1068553"></a>Definition<a id="marker-1068552"></a></h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1068554"></a>[inline] subckt &lt;Name&gt; (&lt;node1&gt; ... &lt;nodeN&gt;)</pre>

<p>
<a id="pgfId-1068556"></a><strong>Example 1: </strong>subckt </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049128"></a>subckt coax (i1 o1 i2 o2)</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1049129"></a>parameters zin=50 zout=50 vin=1 vout=1 len=0</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1049130"></a>inner i1 o1 i2 o2&#160;&#160;tline z0=zin vel=vin len=len</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1049131"></a>outer o1 0&#160;&#160;o2 0&#160;&#160; tline z0=zout vel=vout len=len</pre>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049132"></a>ends coax</pre>

<p>
<a id="pgfId-1049133"></a>Defines a parameterized coaxial transmission line macro from two ideal transmission lines. To instantiate this subcircuit, one could use an instance statement such as:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049134"></a>Coax1 pin nin out gnd coax zin=75 zout=150 len=35m</pre>

<p>
<a id="pgfId-1049135"></a><strong>Example 2: inline subckt - parasitics</strong> </p>
<p>
<a id="pgfId-1049136"></a>Consider the following example of an inline subcircuit, which contains a mosfet instance, and two parasitic capacitances: </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049137"></a>inline subckt s1 (a b)&#160;&#160;              // &quot;s1&quot; is name of subckt </pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1049138"></a>parameters p1=1u p2=2u</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1049139"></a>s1 (a b 0 0) mos_mod l=p1 w=p2&#160;&#160;     // &quot;s1&quot; is &quot;inline&quot; component</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1049140"></a>cap1 (a 0) capacitor c=1n</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1049141"></a>cap2 (b 0) capacitor c=1n</pre>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049142"></a>ends s1</pre>

<p>
<a id="pgfId-1049143"></a>The following circuit creates a simple mos device instance <code>M1</code>, and calls the inline subcircuit <code>s1</code> twice (<code>M2</code> and <code>M3</code>) </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049144"></a>M1 (2 1 0 0) mos_mod</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049145"></a>M2 (5 6) s1 p1=6u p2=7u</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049146"></a>M3 (6 7) s1</pre>

<p>
<a id="pgfId-1049147"></a>This expands/flattens to:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049148"></a>M1 (2 1 0 0) mos_mod</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049149"></a>M2 (5 6 0 0) mos_mod l=6u w=7u&#160;&#160;// the &quot;inline&quot; component, inherits call name</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049150"></a>M2.cap1 (5 0) capacitor c=1n&#160;&#160;  // a regular hierarchical name</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049151"></a>M2.cap2 (6 0) capacitor c=1n</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049152"></a>M3 (6 7 0 0) mos_mod l=1u w=2u&#160;&#160;// the &quot;inline&quot; component, inherits call name</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049153"></a>M3.cap1 (6 0) capacitor c=1n</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049154"></a>M3.cap2 (7 0) capacitor c=1n</pre>

<p>
<a id="pgfId-1049155"></a>Here, the final flattened names of the three mosfets (one for each instance) are <code>M1</code>, <code>M2</code>, and <code>M3</code>, rather than <code>M1</code>, <code>M2.s1</code>, and <code>M3.s1</code> as they would be if <code>s1</code> was a regular subcircuit. However, the parasitic capacitors (which you may not interested in, or perhaps, even aware of, if the inline subckt definition was written by a different modeling engineer) have full hierarchical names.</p>
<p>
<a id="pgfId-1049156"></a><strong>Example 3: inline subckt - scaled models</strong></p>
<p>
<a id="pgfId-1060914"></a>Consider the following example, in which a parameterized model is declared within an inline subcircuit for a bipolar transistor. The model parameters are emitter width, length, and area, and also the temperature delta (<code>trise</code>) of the device above nominal. Ninety-nine instances of a 4*4 transistor are then placed and one instance of a transistor with area=50 is placed. Each transistor gets an appropriately scaled model.</p>
<p>
<a id="pgfId-1060915"></a>Declare a subckt, which instantiates a transistor with a parameterized model. The parameters are emitter width and length.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049161"></a>inline subckt bjtmod (c b e s)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049162"></a>parameters le=1u we=2u area=le*we trise=0</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049163"></a>model mod1 bjt type=npn bf=100+(le+we)/2*(area/1e-12) </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049164"></a>+&#160;&#160;     is=1e-12*(le/we)*(area/1e-12) </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049165"></a>bjtmod (c b e s) mod1 trise=trise&#160;&#160;     // &quot;inline&quot; component</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049166"></a>ends bjtmod</pre>

<p>
<a id="pgfId-1049167"></a>some instances of this subckt</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049168"></a>q1 (2 3 1 0) bjtmod le=4u we=4u&#160;&#160;       // trise defaults to zero</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049169"></a>q2 (2 3 2 0) bjtmod le=4u we=4u trise=2</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049170"></a>q3 (2 3 3 0) bjtmod le=4u we=4u</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049171"></a>.....</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049172"></a>.....</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049173"></a>q99 (2 3 99 0) bjtmod le=4u we=4u</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049174"></a>q100 (2 3 100 0) bjtmod le=1u area=50e-12 </pre>
<h2>
<a id="pgfId-1049176"></a><a id="33767"></a>Vec/Vcd/Evcd Digital Stimulus (vector)<a id="marker-1049175"></a></h2>
<h4>
<a id="pgfId-1049178"></a>Description<a id="marker-1049177"></a></h4>

<p>
<a id="pgfId-1049179"></a>Spectre supports Digital Vector (VEC), Verilog-Value Change Dump (VCD), and Extended Verilog-Value Change Dump (EVCD).</p>

<h4>
<a id="pgfId-1062628"></a>VEC </h4>

<p>
<a id="pgfId-1049182"></a>To process digital vector files, the following command card needs to be specified in the netlist.</p>
<p>
<a id="pgfId-1049184"></a>In Spice netlist:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049185"></a>.vec &quot;vector_filename&quot; [HLCheck = 0|1]</pre>

<p>
<a id="pgfId-1049186"></a> or </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049187"></a>.vec vector_filename [HLCheck = 0|1]</pre>

<p>
<a id="pgfId-1049188"></a>Quotation marks can be double or single in Spice Netlist.</p>
<p>
<a id="pgfId-1049189"></a>In Spectre netlist,</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1062674"></a>vec_include &quot;vector_filename&quot; [HLCheck = 0|1]</pre>

<p>
<a id="pgfId-1049191"></a>where,</p>
<p>
<a id="pgfId-1065232"></a><code>vector_filename</code> is the filename of the digital vector file.</p>
<p>
<a id="pgfId-1049192"></a><code>HLCheck = 0 | 1</code> is a special flag (default = off) to create the vector output check for the H and L states of input signals. Bidirectional and output signals always check H and L states and are unaffected by the HLCheck flag.</p>
<p>
<a id="pgfId-1049195"></a>Normally, you do not need to use the HLCheck flag.</p>
<p>
<a id="pgfId-1049196"></a>Each command card specifies only one VEC file. If a netlist needs to include multiple VEC files, <code>multiple.vec</code>/<code>vec_include</code> cards must be used. For example, if a netlist contains three VEC files, it needs three .vec cards, as given below:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049199"></a>.vec &quot;file1.vec&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049200"></a>.vec &quot;file2.vec&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049201"></a>.vec &quot;file3.vec&quot;</pre>
<h4>
<a id="pgfId-1049202"></a>VCD/EVCD </h4>

<p>
<a id="pgfId-1049203"></a>VCD and EVCD formats are widely used in digital circuit design and contain different kinds of information for transistor-level simulation. You need to provide signal information, such as timing characteristics, voltage threshold, and driving ability of input signals, for each VCD or EVCD file.</p>
<p>
<a id="pgfId-1049207"></a>Because VCD and EVCD formats are compatible, the same signal information file can be shared between them.</p>
<p>
<a id="pgfId-1049209"></a>The VCD file (ASCII format) contains information about value changes for selected variables in the circuit design. Spectre simulator supports two types of VCD files:</p>
<p>
<a id="pgfId-1049211"></a><code>Four states</code> - represents variable changes in 0, 1, x (unknown or not needed), and z (tri-state) without providing strength information and port direction.</p>
<p>
<a id="pgfId-1049213"></a><code>Extended</code> - represents variable changes in all states and provides strength information and port direction.</p>
<p>
<a id="pgfId-1049215"></a>To process the VCD/EVCD file in Spectre, the following command card needs to be specified in the netlist.</p>
<p>
<a id="pgfId-1049217"></a>In Spice netlist:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049218"></a>.vcd &quot;vcd_filename&quot; &quot;signal_info_filename&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049219"></a>.evcd &quot;evcd_filename&quot; &quot;signal_info_filename&quot;</pre>

<p>
<a id="pgfId-1049220"></a>In Spectre netlist:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049221"></a>vcd_include&#160;&#160;&quot;vcd_filename&quot; &quot;signal_info_filename&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049222"></a>evcd_include &quot;evcd_filename&quot; &quot;signal_info_filename&quot;</pre>

<p>
<a id="pgfId-1049223"></a>Each command card specifies only one VCD file. If a netlist needs to include multiple VCD files, <code>multiple.vcd</code>/<code>vcd_include</code> cards must be used. For example, if a netlist contains three VCD files, it needs three<code>.vcd</code> cards, as given below:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049226"></a>.vcd &quot;file1.vcd&quot; &quot;file1.signal&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049227"></a>.vcd &quot;file2.vcd&quot; &quot;file2.signal&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049228"></a>.vcd &quot;file3.vcd&quot; &quot;file3.signal&quot;</pre>
<h4>
<a id="pgfId-1049229"></a>Output Check</h4>

<p>
<a id="pgfId-1049230"></a>For VEC, VCD, and EVCD output check, the results are written in two files under the raw directory, one a check error report file <code>%A.vecerr</code> and the other a check summary report file <code>%A.veclog </code>where, <code>%A</code> is the analysis name.</p>
<p>
<a id="pgfId-1049236"></a>To find VEC VCD and EVCD file, <code>signal_info</code> file format description and examples, refer to the<em><a actuate="user" class="URL" href="../spectreuser/appD.html#firstpage" show="replace" xml:link="simple"> Digital Vector File Format</a></em> chapter in the <em>Spectre Classic Simulator, Spectre APS, Spectre X, and Spectre XPS User Guide</em> for details.</p>

<h2>
<a id="pgfId-1049239"></a><a id="33532"></a>Verilog-A Usage and Language Summary (veriloga)<a id="marker-1049238"></a></h2>
<h4>
<a id="pgfId-1049241"></a>Description<a id="marker-1049240"></a></h4>

<p>
<a id="pgfId-1049242"></a>Verilog-A is an analog hardware description language standard from Open Verilog International. It enables analog circuit behavior to be described at a high level of abstraction. Behavioral descriptions of modules and components may be instantiated in a Spectre netlist along with regular Spectre primitives. </p>
<p>
<a id="pgfId-1049243"></a>Verilog-A descriptions are written in files different from the Spectre netlist file. These descriptions are written in modules (see the module <code>alpha</code> below). To include a module in the Spectre netlist, first add the line <code>ahdl_include &quot;VerilogAfile.va</code> to the Spectre netlist file (where, <code>VerilogAfile.va</code> is the name of the file in which the required module is defined). The module is instantiated in the Spectre netlist in the same manner as Spectre primitives, for example: </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049246"></a>name (node1 node2) alpha arg1=4.0 arg2=2</pre>

<p>
<a id="pgfId-1069559"></a>This instantiates an element <code>alpha</code>, which has two nodes and two parameters.</p>
<p>
<a id="pgfId-1069560"></a>AHDL Linter can be used to improve Verilog-A model quality. It can help to avoid potential convergence or performance problems, and to improve model accuracy, reusability and portability. Refer to the <em>Verilog-A Language Reference manual </em>for more information.</p>
<p>
<a id="pgfId-1049249"></a>Verilog-A simulation performance has been improved by compiling the Verilog-A modules. This is explained in more detail in the Verilog-A compilation section below. </p>

<h4>
<a id="pgfId-1049251"></a>Module Template</h4>

<p>
<a id="pgfId-1049253"></a>The following is a Verilog-A module template</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049254"></a><code>include &quot;discipline.h&quot;</code></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049255"></a><code>include &quot;constants.h&quot;</code></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049256"></a>module alpha( n1, n2 );</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049257"></a>electrical n1, n2;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049258"></a>parameter real arg1 = 2.0;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049259"></a>parameter integer arg2 = 0;</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1049260"></a>real local;</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1049261"></a>// this is a comment</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1049262"></a>analog begin </pre>

<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1049263"></a>@ ( initial_step ) begin </pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1049264"></a>// performed at the first timestep of an analysis </pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1049265"></a>end</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1049266"></a>// module behavioral description </pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1049267"></a>V(n1, n2) &lt;+ I(n1, n2) * arg1;</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1049268"></a>@ ( final_step ) begin</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1049269"></a>// performed at the last time step of an analysis</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1049270"></a>end</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1049271"></a>end </pre>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049272"></a>endmodule</pre>
<h4>
<a id="pgfId-1049275"></a>Verilog-A Compilation</h4>

<p>
<a id="pgfId-1049277"></a>The first time a verilogA file is used in simulation, Spectre performs a one-time compilation step. Following the initial compilation, recompilation is performed only if the Verilog-A source is changed. </p>
<p>
<a id="pgfId-1049285"></a>The compiled C code flow stores the compiled shared objects in a database on the disk for the simulation to use. The shared objects are stored in a directory named <code>ahdlSimDB</code>. By default, this database is created in the current working directory and given a name created by appending <code>.ahdlSimDB</code> to the circuit name. You can specify an alternative location for ahdlSimDB by setting the <code>CDS_AHDLCMI_SIMDB_DIR</code> environment variable to the path of a directory, as follows:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049286"></a>setenv CDS_AHDLCMI_SIMDB_DIR /projects/ahdlcmiSimDirs&#160;&#160;</pre>

<p>
<a id="pgfId-1049287"></a>If the path is writable, <code>adhlSimDB</code> is created there. If the path is not writable or does not exist, an error is reported.</p>
<p>
<a id="pgfId-1049288"></a>To store compiled objects, use a second type of database, named <code>ahdlShipDBs</code>. To create such databases, set the <code>CDS_AHDLCMI_SHIPDB_COPY</code> to <code>YES</code>, as follows:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1049289"></a>setenv CDS_AHDLCMI_SHIPDB_COPY YES </pre>

<p>
<a id="pgfId-1049290"></a>In this case, an <code>ahdlShipDB</code> is created for each Verilog-A file in the directory that contains the Verilog-A files, if the directory is writable. If the directory is not writable, no <code>ahdlShipDBs</code> are created for the modules in the Verilog-A file that is being processed.</p>
<p>
<a id="pgfId-1049291"></a>If the <code>CDS_AHDLCMI_SHIPDB_DIR</code> environment variable (or the equivalent, but obsolete, <code>CDS_AHDLCMI_DIR</code> variable) is also set to a writable path, the <code>ahdlShipDB</code> database is created there and shared by all the Verilog-A files used for simulations that are run while this environmental variable is set. If the <code>CDS_AHDLCMI_SHIPDB_DIR</code> is not set to a writable path or the path does not exist, a warning is reported and ahdlShipDBs are not created.</p>
<p>
<a id="pgfId-1090745"></a>The reuse of Verilog-A compiled library can also be achieved by command-line options, refer to the usage of the Spectre command-line options: -ahdlshipdbdir and -ahdlshipdbmode.</p>

<h4>
<a id="pgfId-1049293"></a>Language Summary</h4>

<p>
<a id="pgfId-1049295"></a>The following provides a summary of the Verilog-A analog hardware description language. For more information refer to <em>Verilog-A Reference Manual</em>.</p>

<h4><em>
<a id="pgfId-1049300"></a>Analog Operators/Waveform Filters</em></h4>
<table class="webflareTable" id="#id1083148">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083150"></a><code>ddt(x &lt;,abstol&gt; )</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083152"></a>Differentiate x with respect to time.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1083158"></a><code>idt(x, ic &lt;, assert &lt;, abstol&gt; &gt; )</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083162"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083164"></a>Integrate x with respect to time. Output = ic during dc analysis and when assert is 1.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1083166"></a><code>idtmod(x &lt;, &lt;ic &lt;, modulus &lt;, offset &lt;, abstol&gt; &gt; &gt; &gt; )</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083170"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083172"></a>Circular Integration of x with respect to time. Output = ic during DC analysis. Integration is performed with given offset and modulus, if specified.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1083203"></a><code>transition(x &lt;, delay &lt;, trise &lt;, tfall &lt;, timetol&gt; &gt; &gt; &gt;)</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083207"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083209"></a>Specify details of signal transitions. For efficient simulation, it is recommended that x not be a continuous signal, that is, a function of a probe. See the Verilog-A manual for further explanation of this issue.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1083211"></a><code>slew(x &lt;, SRpos &lt;, SRneg&gt;&gt;)</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083215"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083217"></a>Model slew rate behavior.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1083219"></a><code>delay(x, time_delay, max_delay)</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083312"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083314"></a>Response(t) = x(t - time_delay).</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1083316"></a><code>zi_nd(x, numer,</code> <code>denom, period,</code> <code>&lt; ttransition &lt;,sample</code> <code>offset</code> <code>time &gt;</code> <code>)</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083320"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083322"></a>z-domain filter function, numerator-denominator form.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1083324"></a><code>zi_zd(x,</code> <code>zeros,</code> <code>denom, period,</code> <code>&lt; ttransition</code> <code>&lt;,sample offset time &gt;</code> <code>)</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083403"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083405"></a>z-domain filter function, zero-denominator form.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1083407"></a><code>zi_np(x, numer,</code> <code>poles,</code> <code>period, &lt; ttransition &lt;,sample</code> <code>offset</code> <code>time &gt;</code> <code>)</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083463"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083465"></a>z-domain filter function, numerator-pole form.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1083467"></a><code>zi_zp(x, zeros,</code> <code>poles,</code> <code>period,</code> <code>&lt; ttransition &lt;,sample offset time</code> <code>&gt;</code> <code>)</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083471"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083473"></a>z-domain filter function, zero-pole form.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1083475"></a><code>laplace_nd(x, numer, denom, &lt;, abstol &gt; )</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083566"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083568"></a>s-domain filter function, numerator-denominator form.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1083570"></a><code>laplace_zd(x, zeros, denom, &lt;, abstol &gt; )</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083574"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083576"></a>s-domain filter function, zero-denominator form.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1083638"></a><code>laplace_np(x, numer, poles, &lt;, abstol &gt; )</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083642"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083644"></a>s-domain filter function, numerator-pole form.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1083646"></a><code>laplace_zp(x, zeros, poles, &lt;, abstol &gt; )</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083650"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083652"></a>s-domain filter function, zero-pole form.</p>
</td>
</tr>
</tbody></table>
<h4><em>
<a id="pgfId-1049331"></a>Built-In Mathematical Functions</em></h4>
<table class="webflareTable" id="#id1083713">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083715"></a><code>abs(x)</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083717"></a> Absolute value</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083719"></a><code>exp(x)</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083721"></a> Exponential if x &lt; 80</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083723"></a><code>ln(x)</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083725"></a> Natural logarithm</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083727"></a><code>log(x)</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083729"></a>Log base 10</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083731"></a><code>sqrt(x)</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083733"></a>Square root</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083735"></a><code>min(x,y)</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083737"></a>Minimum</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083739"></a><code>max(x,y)</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083741"></a>Maximum</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083743"></a><code>pow(x,y)</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083745"></a>x to the power of y</p>
</td>
</tr>
</tbody></table>
<h4><em>
<a id="pgfId-1049344"></a>Noise Functions</em></h4>
<table class="webflareTable" id="#id1083767">
<tbody><tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1083769"></a><code>white_noise( power &lt;, tag &gt; )</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091378"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091388"></a>Generates white noise with given power. Noise contributions with the same tag are combined for a module.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1083773"></a><code>flicker_noise( power, exp &lt;, tag &gt; )</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091415"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091425"></a>Generates pink noise with given power at 1 Hz that varies in proportion to 1/f^exp. Noise contributions with the same tag are combined for a module.</p>
<p>
<a id="pgfId-1091417"></a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1083846"></a><code>noise_table( vector &lt;, tag &gt; )</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091445"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091455"></a>Generates noise where power is determined by linear interpolation from the given vector of frequency-power pairs. Noise contributions with the same tag are combined for a module.</p>
</td>
</tr>
</tbody></table>
<h4><em>
<a id="pgfId-1049355"></a>AC Analysis Stimuli</em></h4>
<table class="webflareTable" id="#id1083897">
<tbody><tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1083899"></a><code>ac_stim( &lt;analysis_name &lt;, mag &lt;, phase &gt; &gt; &gt; )</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091199"></a><code></code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091215"></a>Small signal source of specified magnitude and phase in radians, active for given analysis.</p>
</td>
</tr>
</tbody></table>
<h4><em>
<a id="pgfId-1049362"></a>Analog Events</em></h4>

<p>
<a id="pgfId-1083997"></a>Analog events must be contained in an analog event detection statement; @(analog_event) statement.</p>
<p>
<a id="pgfId-1084003"></a></p>
<table class="webflareTable" id="#id1083998">
<tbody><tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1084000"></a><code>cross(x, direction &lt;, timetol &lt;, abstol &lt;, enable &gt;&gt;&gt;)</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084008"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084010"></a>Generates an event when x crosses zero.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1084012"></a><code>above(x &lt;, timetol &lt;, abstol &lt;, enable &gt;&gt;&gt;)</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084016"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084018"></a>Generates an event when x becomes greater than or equal to zero. An above event can be generated and detected during initialization. By contrast, a cross event can be generated and detected only after at least one transient time step is complete.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1084020"></a><code>timer(start_time &lt;, period &lt;, timetol &lt;, enable &gt;&gt;&gt; )</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091101"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091111"></a>Set (optionally periodic) breakpoint event at time = start_time.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1084024"></a><code>initial_step&lt; ( arg1 &lt;, arg2 &lt;, etc... &gt; &gt; )</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084028"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084030"></a>Generate an event at the initial step of an analysis. arg1, arg2, and so on. Examples of analyses strings are &quot;dc&quot;, &quot;tran&quot;, &quot;ac&quot;, &quot;pss&quot;, &quot;noise&quot;, &quot;pdisto&quot;, &quot;qpss&quot;, &quot;pac&quot;, &quot;pnoise&quot;, &quot;pxf&quot;, &quot;sp&quot;, &quot;tdr&quot;, &quot;xf&quot;, &quot;envlp&quot;, &quot;psp&quot;, &quot;qpsp&quot;, &quot;qpac&quot;, &quot;qpnoise&quot;, &quot;qpxf&quot;, &quot;static&quot;, &quot;ic&quot;, and so on.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1084032"></a><code>final_step&lt; ( arg1 &lt;, arg2 &lt;, etc... &gt; &gt; )</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084036"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084038"></a>Generate an event at the final step of an analysis. arg1, arg2, and so on. Examples of analyses strings are &quot;dc&quot;, &quot;tran&quot;, &quot;ac&quot;, &quot;pss&quot;, &quot;noise&quot;, &quot;pdisto&quot;, &quot;qpss&quot;, &quot;pac&quot;, &quot;pnoise&quot;, &quot;pxf&quot;, &quot;sp&quot;, &quot;tdr&quot;, &quot;xf&quot;, &quot;envlp&quot;, &quot;psp&quot;, &quot;qpsp&quot;, &quot;qpac&quot;, &quot;qpnoise&quot;, &quot;qpxf&quot;, &quot;static&quot;, &quot;ic&quot;, and so on.</p>
</td>
</tr>
</tbody></table>

<h4><em>
<a id="pgfId-1049378"></a>Timestep Control</em></h4>
<table class="webflareTable" id="#id1084365">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084367"></a><code>bound_step(max_step)</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084369"></a> Limit timestep, (timestep &lt;= max_step).</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084371"></a><code>last_crossing(x, direction)</code>  </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084373"></a>Return time when expression last crossed zero in a given direction.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084375"></a><code>discontinuity(n)</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084377"></a>Hint to simulator that discontinuity is present in nth derivative.</p>
</td>
</tr>
</tbody></table>
<h4><em>
<a id="pgfId-1049386"></a>Simulator IO Functions</em></h4>
<table class="webflareTable" id="#id1084417">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084419"></a><code>$display(argument_list)</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084421"></a>Print data to stdout. Formatting strings may be interspersed between arguments/data.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084427"></a><code>$fdisplay(fptr, argument_list)</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084429"></a>Print data to a file. Formatting strings may be interspersed between arguments/data.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084459"></a><code>$strobe(argument_list)</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084461"></a>Print data to stdout. Formatting strings may be interspersed between arguments/data.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084463"></a><code>$fstrobe(fptr, argument_list)</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084465"></a>Print data to a file. Formatting strings may be interspersed between arguments/data.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1084545"></a><code>$fscanf(fptr, &quot;format string&quot; &lt;, arguments&gt;)</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084549"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084551"></a>Read data from a file</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084579"></a><code>$fopen(&quot;filename&quot;, mode)</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084581"></a>Open a file for reading/writing</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084583"></a><code>$fclose(fptr)</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084585"></a>Close a file</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084589"></a><code>$finish&lt;(n)&gt;</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084591"></a>Finish the simulation</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084593"></a><code>$stop&lt;(n)&gt;</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084595"></a>Stop the simulation</p>
</td>
</tr>
</tbody></table>
<h4><em>
<a id="pgfId-1049403"></a>Simulator Environment Functions</em></h4>
<table class="webflareTable" id="#id1084714">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084716"></a><code>$realtime</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084718"></a>Returns current simulation time</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084720"></a><code>$temperature</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084722"></a>Returns ambient simulation temperature (K)</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084724"></a><code>$vt</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084726"></a>Returns thermal voltage</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084728"></a><code>$vt(temp)</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084730"></a>Returns thermal voltage at given temp</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1084740"></a><code>$analysis(analysis_string1&lt;, analysis_string2 &lt;, ...&gt;&gt;)</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084744"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084746"></a>Returns true(1) if the current analysis phase matches one of the given analyses strings. The following are the examples of analyses strings: &quot;dc&quot;, &quot;tran&quot;, &quot;ac&quot;, &quot;pss&quot;, &quot;noise&quot;, &quot;pdisto&quot;, &quot;qpss&quot;, &quot;pac&quot;, &quot;pnoise&quot;, &quot;pxf&quot;, &quot;sp&quot;, &quot;tdr&quot;, &quot;xf&quot;, &quot;envlp&quot;, &quot;psp&quot;, &quot;qpsp&quot;, &quot;qpac&quot;, &quot;qpnoise&quot;, &quot;qpxf&quot;, &quot;static&quot;, &quot;ic&quot;, and so on.</p>
</td>
</tr>
</tbody></table>
<h4><em>
<a id="pgfId-1049414"></a>Parameter Functions</em></h4>
<table class="webflareTable" id="#id1084257">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084259"></a><code>$pwr( x )</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084261"></a>Assignment of model power consumption. Adds the expression x to the pwr parameter of a module.</p>
</td>
</tr>
</tbody></table>
<h4><em>
<a id="pgfId-1049420"></a>Data Types</em></h4>
<table class="webflareTable" id="#id1084244">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084246"></a><code>integer</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084248"></a>Discrete numerical type.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084250"></a><code>real</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084252"></a>Continuous numerical type.</p>
</td>
</tr>
</tbody></table>
<h4><em>
<a id="pgfId-1049427"></a>Data Qualifiers</em></h4>
<table class="webflareTable" id="#id1084266">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084268"></a><code>parameter</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084270"></a>Indicates that a variable is a parameter and so may be given a different value when the module is instantiated, and that it may not be assigned a different value inside the module.</p>
</td>
</tr>
</tbody></table>
<h4><em>
<a id="pgfId-1049433"></a>Structural Statements</em></h4>

<p>
<a id="pgfId-1049435"></a>Structural statements are used inside the module block but outside the analog block.</p>
<table class="webflareTable" id="#id1084285">
<tbody><tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1084287"></a><code>module_or_primitive #(&lt;.param1(expr1)&lt;,...&gt;&gt;) inst_name (&lt;node1 &lt;, ..&gt;&gt; )</code>;</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084300"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084302"></a>Creates a new instance of module_or_primitive named <code>inst_name</code>.</p>
</td>
</tr>
</tbody></table>

<h4><em>
<a id="pgfId-1049436"></a>Environment Variables</em></h4>
<table class="webflareTable" id="#id1088697">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1088763"></a><code>CDS_AHDLCMI_SHIPDB_COPY</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1088765"></a>Set this environment variable to <code>YES</code> to use AHDL ship databases (ahdlShipDBs). When the environment variable is to <code>YES</code>, the software creates an ahdlShipDB for each Verilog-A file in the directory that contains the Verilog-A file, if the directory is writable. If the directory is not writable, the software does not create any ahdlShipDBs for the modules in the Verilog-A file (see <code>CDS_AHDLCMI_SHIPDB_DIR</code>).</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1088767"></a><code>CDS_AHDLCMI_SHIPDB_DIR</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1088769"></a>Specifies the path to a directory for ahdlShipDB. All Verilog-A files share this path. If the path specified by this variable is not writable, or the path does not exist, the software does not create any ahdlShipDB and generates a warning. For example, <code>setenv CDS_AHDLCMI_SHIPDB_DIR /export/shared/objects</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1088771"></a><code>CDS_AHDL_COMPILEC_MAX_LOAD</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1088773"></a>Set this environment variable to change the <code>max_load</code> value for parallel compilation of AHDL generated C code. When the system load average is above <code>max_load</code>, parallel compilation is turned off. For example, <code>setenv CDS_AHDL_COMPILEC_MAX_LOAD 4.0</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1088775"></a><code>CDS_AHDL_DDT_SCALE</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1088777"></a>Set this environment variable to scale the value of ddt to the specified range for better convergence. The default value is 1e-17.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1088779"></a><code>CDS_AHDL_FINISH_MODE</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1088781"></a>Set this environment variable to <code>1</code> to cause the <code>$finish</code> function to stop the current analysis instead of stopping the whole simulation. The default value is <code>0</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1088783"></a><code>CDS_AHDL_IDT_SCALE</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1088785"></a>Set this environment variable to scale the value of <code>idt</code> to the specified range for better convergence. The default value is <code>1</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1088787"></a><code>CDS_AHDL_IGNORE_HIDDEN_STATE</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1088789"></a> Set this environment variable to <code>YES</code> to process all hidden state variables as non-hidden state variables for all Verilog-A modules.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1088791"></a><code>CDS_AHDL_IGNORE_OPPOINT</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1088793"></a>Set this environment variable to <code>YES</code> to ignore all operating point calculations. Set the environment variable to <code>NO</code> to disable optimization. The default value is <code>YES</code> for compact models and <code>NO</code> for normal models.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1088795"></a><code>CDS_AHDL_REUSE_LIB</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1088797"></a>In +aps, ++aps, +xps and +ms modes, the software automatically searches the pre-run shared library and reuses it. Set this environment variable to <code>NO</code> to disable the automatic search and reuse of pre-run shared library.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1088799"></a><code>CDS_CMI_COMPLEVEL</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1088801"></a>Set this environment variable to control GCC optimization level when compiling AHDL-generated C code flow. The environment value is from 0 to 3, which implies that GCC will use level O0 ~ O3 to compile AHDL C code. O3 is the default compilation level and gives better optimization.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1088803"></a><code>CDS_VLOGA_INCLUDE</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1088805"></a>Set this environment variable to specify the directory that contains the file with the &quot;include&quot; directive. You can specify more than one directory by using comma(,), colon(:), or semicolon(;) as delimiters to separate the directories. For example, <code>setenv CDS_VLOGA_INCLUDE &quot;dir1;dir2&quot;</code> or <code>setenv CDS_VLOGA_INCLUDE dir1:dir2</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1088807"></a><code>CDS_AHDL_LRM_COMPATIBILITY</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1088809"></a>Set this environment variable to specify the version of LRM. The default value is <code>2.3</code>. For example, setenv <code>CDS_AHDL_LRM_COMPATIBILITY 2.4</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1088811"></a><code>CDS_AHDL_AUTOGDEV_SUPPORT</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1088813"></a>Set this environment variable to <code>NO</code> to prevent a Verilog-A model from automatically adding the simulation parameter <code>gdev</code> at a non-linear branch when the kernel uses the <code>gdev</code> method. The default value is <code>YES</code>, which means that the Verilog-A model adds the simulation parameter <code>gdev</code> by default.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1088815"></a><code>CDS_AHDL_AUTOGMIN_INSERT</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1088817"></a>Set this environment variable to <code>YES</code> to enable a Verilog-A model to add the simulation parameter gmin at a non-linear branch. The default value is <code>NO</code>.</p>
</td>
</tr>
</tbody></table>
<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="chap3.html" id="prev" title="Analysis Statements">Analysis Statements</a></em></b><b><em><a href="chap5.html" id="nex" title="Circuit Checks">Circuit Checks</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2020, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>