
<html><head><title>Schematic-Driven Mixed Signal Design Flow</title>
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="leenap" />
<meta name="CreateDate" content="2020-02-20" />
<meta name="CreateTime" content="1582191949" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="" />
<meta name="DocTitle" content="Mixed Signal (MS) Interoperability Guide" />
<meta name="DocType" content="Methodology" />
<meta name="FileTitle" content="Schematic-Driven Mixed Signal Design Flow" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="FileType" content="Chapter" />
<meta name="Keyword" content="dmsflow" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2020-02-20" />
<meta name="ModifiedTime" content="1582191949" />
<meta name="NextFile" content="Virtuoso_Digital_Implementation.html" />
<meta name="Group" content="" />
<meta name="Platform" content="" />
<meta name="PrevFile" content="Design_Data_Preparation.html" />
<meta name="Product" content="Virtuoso Layout Suite,Innovus," />
<meta name="ProductFamily" content="Custom IC Design,Digital IC Design," />
<meta name="ProductVersion" content="20.10" />
<meta name="RightsManagement" content="Copyright 2012-2020 Cadence Design Systems Inc." />
<meta name="Title" content="Mixed Signal (MS) Interoperability Guide -- Schematic-Driven Mixed Signal Design Flow" />
<meta name="Version" content="20.10" />
<meta name="Renderer" content="WIKI" />
<meta name="SpaceKey" content="dmsflow201" />
<meta name="confluence-version" content="6.13.3" />
<meta name="ecms-plugin-version" content="03.30.005" />

        
        <link href="styles/site.css" rel="stylesheet" type="text/css" />
        <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
    

    </head><body style="background-color: #FFFFFF;"><!-- Begin Buttons --><header xmlns:html="http://www.w3.org/1999/xhtml"><div class="docHeadr">Product Documentation<img src="images/Cadence-Logo.jpg" /></div>
<nav class="blueHead"><ul><li><a class="content" href="dmsflowTOC.html">Contents</a></li><li><a class="prev" href="Design_Data_Preparation.html" title="Design_Data_Preparation">Design_Data_Preparation</a></li><li style="float: right;"><a class="viewPrint" href="dmsflow.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="Virtuoso_Digital_Implementation.html" title="Virtuoso_Digital_Implementation">Virtuoso_Digital_Implementatio ...</a></li></ul></nav></header><!-- End Buttons --><div xmlns:html="http://www.w3.org/1999/xhtml" style="font-size:14px;line-height:1.42857142857;margin:20px 0 0 0;font-weight:bold;"><center>Mixed Signal (MS) Interoperability Guide<br />Product Version 20.10, March 2020</center></div>
<div xmlns:html="http://www.w3.org/1999/xhtml" style="margin-left:5%;">
<p></p>

<p></p>
<div id="main-header">
                    
                    
                                                <div style="width: 100%; font-size: 32px; text-align: left;               font-weight: bold;">5</div>
<h1 style="margin: 4px 0 4px;"><span>Schematic-Driven Mixed Signal Design Flow</span></h1>

                    
                </div>
<div class="wiki-content group" id="main-content">
                    
<p></p>
<div class="toc-macro rbtoc1582191929135">
<ul class="toc-indentation">
<li><a href="#Schematic-DrivenMixedSignalDesignFlow-Schematic-DrivenMixedSignalFlow">Schematic-Driven Mixed Signal Flow</a>
<ul class="toc-indentation">
<li><a href="#Schematic-DrivenMixedSignalDesignFlow-Overview">Overview</a></li>
<li><a href="#Schematic-DrivenMixedSignalDesignFlow-Top-LevelEarlyFloorplanning">Top-Level Early Floorplanning&#160;</a></li>
<li><a href="#Schematic-DrivenMixedSignalDesignFlow-TheAnalogBlockImplementationSub-Flow">The Analog Block Implementation Sub-Flow</a></li>
<li><a href="#Schematic-DrivenMixedSignalDesignFlow-CustomDigitalImplementationFlow">Custom Digital Implementation Flow</a></li>
<li><a href="#Schematic-DrivenMixedSignalDesignFlow-DigitalBlockImplementationFlow">Digital Block Implementation Flow</a></li>
<li><a href="#Schematic-DrivenMixedSignalDesignFlow-OpenAccessBasedInteroperableFlowbetweenInnovusandVirtuoso">OpenAccess Based Interoperable Flow between Innovus and Virtuoso</a></li>
<li><a href="#Schematic-DrivenMixedSignalDesignFlow-Top-LevelBlock/ChipAssemblyflow">Top-Level Block/Chip Assembly flow</a></li>
<li><a href="#Schematic-DrivenMixedSignalDesignFlow-VirtuosoTop-LevelAssembly">Virtuoso Top-Level Assembly</a></li>
<li><a href="#Schematic-DrivenMixedSignalDesignFlow-VirtuosoChip-LevelLayoutAssembly">Virtuoso Chip-Level Layout Assembly</a></li>
</ul>
</li>
<li><a href="#Schematic-DrivenMixedSignalDesignFlow-FlowExample:PowerPushDownFlowforDigitalBlocksinAoTDesigns">Flow Example:&#160;Power&#160;PushDown Flow for Digital Blocks in AoT Designs</a>
<ul class="toc-indentation">
<li><a href="#Schematic-DrivenMixedSignalDesignFlow-PerformingTop-LevelFloorplanninginVirtuosoFPinVirtuoso">Performing Top-Level Floorplanning in Virtuoso</a></li>
<li><a href="#Schematic-DrivenMixedSignalDesignFlow-PushingPowerShapesintotheDigitalBlockPushPower">Pushing Power Shapes into the Digital Block</a></li>
<li><a href="#Schematic-DrivenMixedSignalDesignFlow-ImplementingtheDigitalBlockinInnovusImplementinEDI">Implementing the Digital Block in Innovus</a></li>
<li><a href="#Schematic-DrivenMixedSignalDesignFlow-BringingBacktheDigitalBlockintoVirtuosoforDesignAssemblyAssembleinVirtuoso">Bringing Back the Digital Block into Virtuoso for Design Assembly</a></li>
</ul>
</li>
</ul>
</div>
<h2 id="Schematic-DrivenMixedSignalDesignFlow-Schematic-DrivenMixedSignalFlow">Schematic-Driven Mixed Signal Flow</h2>
<h3 id="Schematic-DrivenMixedSignalDesignFlow-Overview">Overview</h3>

<p>In this chapter, we will begin by discussing a high level overview of the schematic-on-top flow. In addition to covering the core flow, we will include some of the peripheral tasks both at the beginning and at the end of the flow in order to provide some needed perspective.</p>

<p>The terms top-down versus bottom-up design methodologies refer to the order in which a hierarchical design is implemented. Ideally, the design should be done top-down, but in reality it is more common to construct the design simultaneously using a combination of top-down and bottom-up methodology.</p>

<p>Ideally, the schematic capture will begin in a top-down fashion with a top-level schematic. It is this top level connectivity source that makes it possible to do early floorplanning within the Virtuoso layout environment, and differentiates this schematic-on-top implementation from the netlist-driven or netlist-driven mixed signal approach. Schematic-on-top does not mean that the schematic must exist for all the blocks in the design throughout the entire hierarchy. It only refers to the top-level. In addition, the schematics will be used to drive the implementation of any analog portions of the design. However, netlists will and should be used for most of the digital-design content.</p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303237978/303238009.png" data-linked-resource-container-id="303237978" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="schematic1.png" data-linked-resource-id="303238009" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303237978/303238009.png" /></span></p>
<h4 id="Schematic-DrivenMixedSignalDesignFlow-Top-LevelSchematicCapture">Top-Level Schematic Capture</h4>

<p>At the initial stages of the design, only functional and performance specifications are available. The designer has the task of deciding the optimal-design partitioning with the major sub-systems identified as sub-blocks. Normally, the design partitioning is determined by the major functional blocks, performance, and design disciplines required for the overall implementation. As a result, the design is decomposed into analog and digital functional blocks.</p>
<h4 id="Schematic-DrivenMixedSignalDesignFlow-FunctionalVerification">Functional Verification</h4>

<p>It is important to note that both the verification and implementation flows are driven from the same schematic database, thereby ensuring consistency between the two sub flows.</p>
<h4 id="Schematic-DrivenMixedSignalDesignFlow-Floorplanning">Floorplanning</h4>

<p>In the schematic-driven mixed signal flow, most of the floorplanning, in particular the top-level floorplanning is done in the Virtuoso environment, using the top down floorplanning methodology. In this flow, some or all of the sub-blocks will be created as soft blocks, as they have not been fully implemented yet.</p>
<h4 id="Schematic-DrivenMixedSignalDesignFlow-BlockImplementationSubFlows">Block Implementation Sub Flows</h4>

<p>When it comes to physically implementing the blocks, different sub flows will be used depending on the type of block being implemented. Designs are typically partitioned into analog and digital functions. For a digital design, the block Verilog netlist, physical abstracts of standard cells and other associated files such as timing constraints are passed to Innovus. After the digital block has been implemented in Innovus, the layout view of the block is brought back into Virtuoso to replace the autoAbstract which was earlier created for the block. It is important to note that a schematic is not required for the digital blocks in the design.</p>
<h4 id="Schematic-DrivenMixedSignalDesignFlow-Top-LevelImplementation">Top-Level Implementation</h4>

<p>This task involves making any final adjustments to the floorplan (in Virtuoso) now that blocks are fully implemented, routing the design and verifying all aspects of the design, which may include timing. An important note is that power connections in the design are managed using the inherited connections in Virtuoso, or using explicit power terminals across the hierarchy.</p>
<h3 id="Schematic-DrivenMixedSignalDesignFlow-Top-LevelEarlyFloorplanning">Top-Level Early Floorplanning&#160;</h3>

<p>The common floorplanning tasks are:</p>
<ul><li>Configuring the physical hierarchy: This step creates what is called the physical configuration view (or&#160;<code>physConfig</code>). This identifies the mapping between schematic components and layout components. It is possible for the layout views to be located in other libraries. For blocks for which user does not have a layout view, the&#160;<code>prBoundary</code>&#160;can be entered using an estimate for the layout area and the pin information could be entered using the information found on the schematic symbol.</li></ul><ul><li>Placing and arranging all the blocks - adjusting their location and shape. Adjust pin locations and sizes - taking advantage of the various pin alignment and optimization features available in the Virtuoso Floorplanner. You can also edit the block shape by using level-1 editing commands, which allow you to modify the block prBoundary from the top level.</li></ul><ul><li>Iterative floorplan refinement - Using the automated routing tools, perform trial top-level routing to identify congestion and other routing challenges.</li></ul>
<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303237978/303238012.png" data-linked-resource-container-id="303237978" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="schematic2.png" data-linked-resource-id="303238012" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303237978/303238012.png" width="640" /></span></p>
<h4 id="Schematic-DrivenMixedSignalDesignFlow-ConfigurePhysicalHierarchy(CPH)">Configure Physical Hierarchy (CPH)&#160;</h4>

<p>The CPH is used to create mapping between the schematic and the layout instances. You can create softBlocks for cells that do not have an existing layout or schematic. You can drive the pin and cell boundary snapping to grids by setting the blockType as&#160;<code>digital</code>&#160;or&#160;<code>custom</code>.</p>

<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303237978/303238011.png" data-linked-resource-container-id="303237978" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="schematic3.png" data-linked-resource-id="303238011" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303237978/303238011.png" width="640" /></span></p>

<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303237978/303238030.png" data-linked-resource-container-id="303237978" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="virtuoso_schematic_editor.png" data-linked-resource-id="303238030" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303237978/303238030.png" width="640" /></span></p>

<p>The above figures show how CPH works after launching Virtuoso Layout Editor-XL for a top-level schematic for the first time. CPH gives you control over the automated schematic-to-layout generation process without requiring the layout designer to modify the schematic.</p>
<h4 id="Schematic-DrivenMixedSignalDesignFlow-GeneratePhysicalHierarchy(GPH)">Generate Physical Hierarchy (GPH)</h4>

<p>This step in the flow is used to perform bottom-up hierarchical generation of layout in order to have an accurate estimation of area. The following figure illustrates the use of CPH to drive the generation of layout using GPH. GPH generates the layout for the soft blocks and instantiates the hard blocks in the design based on the bindings specified in CPH UI. This enables more accurate estimation of the area at the top level. You can access GPH using the Floorplan menu in Virtuoso Layout Editor -GXL.</p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303237978/303238032.png" data-linked-resource-container-id="303237978" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="gph.png" data-linked-resource-id="303238032" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303237978/303238032.png" /></span></p>
<h4 id="Schematic-DrivenMixedSignalDesignFlow-Level-1EditingandPinOptimization">Level-1&#160;Editing and Pin Optimization</h4>

<p>The floorplan for the top level can be adjusted to meet the aspect ratio and the utilization factor using a host of commands from the Virtuoso Floorplanner suite.&#160;</p>

<p>The user can adjust and even create rectilinear boundaries for the unimplemented soft blocks by editing the prBoundary for the blocks from the top level to obtain a better packing for the floorplan. The boundaries can be stretched and chopped to achieve the desired area.</p>

<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303237978/303238031.png" data-linked-resource-container-id="303237978" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="level1bndry.png" data-linked-resource-id="303238031" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303237978/303238031.png" width="640" /></span></p>

<p>You can use the pin optimizer and the pin alignment commands to increase the routability of the design by adjusting the pin locations for these soft blocks and the top-level design. This helps in minimizing the net length.</p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303237978/303238006.png" data-linked-resource-container-id="303237978" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="optimizeblockpins.png" data-linked-resource-id="303238006" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303237978/303238006.png" /></span></p>
<h3 id="Schematic-DrivenMixedSignalDesignFlow-TheAnalogBlockImplementationSub-Flow">The Analog Block Implementation Sub-Flow</h3>

<p>The analog block implementation flow is the traditional flow that most Virtuoso designers use. This section provides an overview of the steps involved in this sub-flow. For more detailed description of each flow step, refer to the&#160;<em>Virtuoso</em><sup><em>&#174;</em></sup><em>&#160;Analog Placer User Guide</em>.</p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303237978/303238034.png" data-linked-resource-container-id="303237978" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="legends.png" data-linked-resource-id="303238034" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303237978/303238034.png" /></span></p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303237978/303238035.png" data-linked-resource-container-id="303237978" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="analog_block_subflow.png" data-linked-resource-id="303238035" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303237978/303238035.png" /></span></p>
<h4 id="Schematic-DrivenMixedSignalDesignFlow-InitialTop-LevelFloorplan">Initial Top-Level Floorplan</h4>

<p>The assumption in this step of the flow is that the block being floorplanned is the top-level design for this sub-flow. The information derived from the top-level floorplanning (initial area estimate, width, height and the I/O pin locations) step is used in this step of the design. Although this data is just an estimate, it serves as a good start point for the flow. The real data is only known after circuit design is completed.</p>
<h4 id="Schematic-DrivenMixedSignalDesignFlow-SchematicCapture">Schematic Capture</h4>

<p>At this step in the flow, the circuit design is done based on the block-level specification. This is the task of capturing the schematic and making sure it is optimized to meet the specification. During this process, you can add some electrical constraints that would later get used for circuit optimization, such as matching parameter constraints, and so on. Before the design is handed off to the layout design team, layout constraints, such as placement and routing constraints, can also be added to the design.</p>
<h4 id="Schematic-DrivenMixedSignalDesignFlow-AnalogFloorplan(AlsoReferredtoastheCellPlan)">Analog Floorplan (Also Referred to as the Cell Plan)</h4>

<p>In this step, the initial floorplan is used to begin the layout implementation flow. Generate From Source (GFS) is run and the&#160;<code>prBoundary</code>&#160;and pin locations are loaded from the floorplan. After running GFS, the number and the size of the components to be placed are known, and floorplan refinement can also be done.</p>
<h4 id="Schematic-DrivenMixedSignalDesignFlow-AnalogPlacement">Analog Placement</h4>

<p>This is the process of placing components in a design so they respect previously specified constraints. If the constraint-aware editing mode is enabled (default) during component placement, whether the devices are placed interactively or semi-manually, the placement constraints such as modgens, symmetry, alignments and orientation are enforced. For instance, if you place one component from a symmetrical pair, the other will be placed at the same time and the same distance from the shared axis of symmetry.</p>

<p>The Virtuoso Analog Placer (VAP - part of VLS-GXL) can be used to fully automate the component placement using the constraints previously specified by the user. For best results using VAP, there needs to be a sufficient number of constraints in a design.</p>
<h4 id="Schematic-DrivenMixedSignalDesignFlow-Device-LevelRouting">Device-Level Routing</h4>

<p>The Virtuoso Space-Based Router (VSR - part of VLS-GXL) can be used for automatic routing of the design. Alternatively, the Wire Editor (available in VLS-XL) which uses the same routing technology as VSR can be used to perform constraint-aware interactive routing.</p>
<h4 id="Schematic-DrivenMixedSignalDesignFlow-Block-LevelSign-Off">Block-Level Sign-Off</h4>

<p>Block-level sign-off is an entire sub flow within itself and consists of the steps necessary to make sure the design is logically correct, can be manufactured, and still meets its performance requirements. This flow is fairly standard and highly dependent both on the design-specific challenges and the foundry requirements. Refer to the Virtuoso documentation for more details on this sub-flow.</p>
<h4 id="Schematic-DrivenMixedSignalDesignFlow-AbstractGeneration">Abstract Generation</h4>

<p>Abstract generation is required for the design assembly part of the flow, which can be considered as the layout finishing step of the flow. The Virtuoso integration of the abstract generator could be used to accomplish it. For more information, refer to the&#160;<em>Virtuoso</em><sup><em>&#174;</em></sup><em>Abstract Generator User Guide</em>.</p>
<h4 id="Schematic-DrivenMixedSignalDesignFlow-ConstraintVerification">Constraint Verification</h4>

<p>Finally, constraint compliance can be verified using the constraint checking features of the Virtuoso Constraints Manager.</p>

<p>The combination of the automated/assisted and constraint-driven layout features forms what is often referred to as the Rapid Analog Prototyping (RAP) flow. This flow makes it possible to quickly transform a schematic into a layout for the purpose of providing more accurate information for the floorplanning step of the flow and layout parasitics for design optimization/refinement.</p>
<h3 id="Schematic-DrivenMixedSignalDesignFlow-CustomDigitalImplementationFlow">Custom Digital Implementation Flow</h3>

<p>This flow is very similar to the analog block implementation flow described previously. This flow assumes that the design contains some small, non-timing constrained digital blocks (typically a few hundreds of standard cells) that need to be added to the design. Although the overall function of a particular block may be analog, there is often a need to provide some type of digital interface for control related functions, such as the calibration function, so on.</p>

<p>Either a schematic or netlist-driven flow could be used for the implementation of the custom digital function. For the schematic driven approach, user can create a schematic manually. However, if a gate-level netlist is available, the netlist can be synthesized using the digital block implementation flow.</p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303237978/303238025.png" data-linked-resource-container-id="303237978" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="custom_ic_flow.png" data-linked-resource-id="303238025" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303237978/303238025.png" /></span></p>

<p>The tasks and tools of this flow are the same as the analog flow except that a different placer, the Virtuoso Custom Placer (VCP - part of VLS-GXL), is used to automate the placement of the digital cells. Automatic VSR routing is done after the completion of placement. This highly automated flow, is similar to the standard digital flow. One of the main differences between this flow and the standard digital implementation flow in Innovus is the lack of a timing-driven implementation approach. This flow demonstrate that it is possible to implement a non-timing constrained digital block in a few minutes without leaving Virtuoso.</p>
<h3 id="Schematic-DrivenMixedSignalDesignFlow-DigitalBlockImplementationFlow">Digital Block Implementation Flow</h3>

<p>This part of the flow takes advantage of the enhanced interoperability between the Virtuoso and Innovus platforms, and is made possible through the use of the OpenAccess database. Most of these tasks are typically executed by the digital designer. However, the goal is to ensure that the analog (Virtuoso) and digital (Innovus) designers are working from the same database at all times in order to maximize collaboration and reduce the chances of miscommunication. This flow has other advantages such as cross-platform ECOs, design-constraint interoperability, and a host of other advantages for the design teams.</p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303237978/303238024.png" data-linked-resource-container-id="303237978" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="digital_ic_flow.png" data-linked-resource-id="303238024" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303237978/303238024.png" /></span></p>
<h4 id="Schematic-DrivenMixedSignalDesignFlow-LogicSynthesisandDesignInitialization">Logic Synthesis&#160;and Design Initialization</h4>

<p>The digital designer will synthesize the gate-level netlist and load the final verilog netlist into the Innovus platform along with the reference OA libraries for the cells. The design will be initialized with a default boundary and core rows.</p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303237978/303238001.png" data-linked-resource-container-id="303237978" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="floorplanbyinit_design.png" data-linked-resource-id="303238001" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303237978/303238001.png" /></span></p>
<h4 id="Schematic-DrivenMixedSignalDesignFlow-DigitalPrototypingandPowerPlanning">Digital Prototyping&#160;and Power Planning</h4>

<p>While traditionally not considered part of the implementation flow, this portion of the flow allows you to perform incremental floorplanning for the digital portion of the design.</p>

<p>You have a choice to entirely implement the design in Innovus, or import the floorplan for the block (prBoundary and pin assignment) from the work that was earlier done in Virtuoso. Once the floorplan is imported from Virtuoso, it can be further modified in Innovus. For instance, the creation of power structures may require alteration of IO to core spacing. You can also alter the default row style created by the init_design command.</p>

<p>It is strongly recommended that you create the rows in Innovus if you are going to use the standard cell placer in Innovus for placing the cells in the design.</p>

<p>The following flow diagram shows the steps to prepare the OA cell for place and route in Innovus.</p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303237978/303238000.png" data-linked-resource-container-id="303237978" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="flowchart.png" data-linked-resource-id="303238000" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303237978/303238000.png" /></span></p>
<h5 id="Schematic-DrivenMixedSignalDesignFlow-ControllingFloorplanningInformationReadInfromtheOpenAccessCellview">Controlling Floorplanning Information Read In from the OpenAccess Cellview</h5>
<p>When reading in floorplanning information from the OpenAccess cellview to Innovus, you need not read in the entire cellview. You can use any of the following mechanisms to control the floorplanning information read in from the cellview:</p>

<p></p>
<ul><li><code><span class="fontredcadence">oaIn</span>&#160;</code>command&#160;in Innovus (without&#160;<code>-filter</code>): Use the&#160;<code><span class="fontredcadence">oaIn</span></code>&#160;command without&#160;<code>-filter</code>&#160;if you want to read updated placement and routing information with no changes to the netlist. For example, you can use this method if&#160;you want to send a placed database to another tool to perform routing and then read back the result.&#160;Error checking is performed to make sure that the you are reading from the correct database.</li><li><code><span class="fontredcadence">oaIn</span></code>&#160;command with the&#160;<code>-filter</code>&#160;option:&#160;Use&#160;<code><span class="fontredcadence">oaIn</span> -filter</code>&#160;if you want to read floorplanning information from a cellview whose connectivity does not match the current Innovus in-memory connectivity. The&#160;<code>-filter</code>&#160;option allows you to load some data selectively, while not loading others. When&#160;<code>-filter</code>&#160;is used, error checking for database consistency (nets, instances, terminals, etc.) is disabled. While similar to Virtuoso Load Physical View (LPV), the&#160;<code>-filter</code>&#160;option is only a subset and not intended to be a complete replacement.&#160;<br />From the Innovus 15.1 release,&#160;<code><span class="fontredcadence">oaIn</span> -filter</code>&#160;has been extended to support additional floorplanning objects. The&#160;<code>-filter</code>&#160;option now accepts the following values:<ul><li><code>block_insts</code>&#160;- Indicates that any CLASS PAD instances should be updated. Physical-only block instances may be added to the database if the placement status is&#160;<code>fixed</code>&#160;or&#160;<code>cover</code>.</li><li><code>blockages</code>&#160;- Indicates that blockages should be processed. If a blockage is attached to an instance that does not exist in the in-memory database, then it is ignored.</li><li><code>boundary</code>&#160;- Indicates that the design boundary information, including rows and tracks, should be updated.</li><li><code>fixed_core_insts</code>&#160;- Indicates that any CLASS CORE instances that have placement status&#160;<code>fixed</code>&#160;or&#160;<code>cover</code>&#160;should be updated. Physical-only core instances may be added to the database if the placement status is&#160;<code>fixed</code>&#160;or&#160;<code>cover</code>.</li><li><code>floorplan</code>&#160;- Is equivalent to specifying &quot;<code>block_insts&#160;blockages&#160;boundary fixed_core_insts pad_insts pin_shapes regions special_routing</code>&quot;</li><li><code>pad_insts</code>&#160;- Indicates that any CLASS PAD instances should be updated. Physical-only pad instances may be added to the database if the placement status is&#160;<code>fixed</code>&#160;or&#160;<code>cover</code>.</li><li><code>pin_shapes</code>&#160;- Indicates that pin shapes should be read.</li><li><code>regions</code>&#160;- Indicates regions should be updated.</li><li><code>regular_routing</code>&#160;- Indicates that nets should be processed and regular routing (and associated shield net wiring) and net constraints updated.</li><li><code>special_routing</code>&#160;- Indicates that nets should be processed and special routing (except shield nets wiring) should be read.&#160;</li></ul>
<p>When&#160;<code>-filter</code>&#160;is not specified, all information is read from the OpenAccess cellview.&#160;When&#160;<code>-filter</code>&#160;is specified, only the object types that are chosen is read from the OpenAccess cellview. Additionally, when reading pin_shapes or instances, information in the cellview that refers to terminals or instances that do not exist in memory is ignored.</p>
</li></ul><ul><li><code><span class="fontredcadence">ecoOaDesign</span></code>:&#160;Use&#160;<code><span class="fontredcadence">ecoOaDesign</span></code>&#160;if you want to&#160;read a new netlist and as much of the original cellview&#39;s information as possible. This method applies to a timing eco or post-mask eco flow. In these cases, the amount of change to the netlist is typically small and the goal is to disturb as little of the original information as possible for timing closure or &quot;frozen-metal&quot; eco purposes.</li></ul><h5 id="Schematic-DrivenMixedSignalDesignFlow-IncrementalFloorplanning">Incremental Floorplanning</h5>
<p>As the prBoundary brought over from Virtuoso includes the IO to core spacing, you will need to update the IO to core spacing so that structures such as core rings can be created. This is shown in later steps in this document.</p>

<p><strong>Note:&#160;</strong>Do not use the&#160;<em>Specify Floorplan</em>&#160;command because it is not an incremental command and will reset the boundary shape to rectangular in case the prBoundary is rectilinear. It will also reinitialize the pin and pad placements. Instead, use the following command to update the IO to core spacing:</p>

<p><code><span class="fontredcadence">changeFloorplan</span>&#160;</code><br /><code>[-<span class="fontredcadence">noSnapToGrid</span>]&#160;</code><br /><code>[[-<span class="fontredcadence">coreToLeft</span> <em>value</em>][-<span class="fontredcadence">coreToBottom</span> <em>value</em>][-<span class="fontredcadence">coreToRight</span> <em>value</em>][-<span class="fontredcadence">coreToTop</span> <em>value</em>] | [-<span class="fontredcadence">coreToEdge</span> {left bottom right top}]]</code></p>

<p>This will preserve the pin and pad placements done on the rectilinear edges of the boundary while keeping the prBoundary structure intact.</p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303237978/303237999.png" data-linked-resource-container-id="303237978" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="boundary-core.png" data-linked-resource-id="303237999" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303237978/303237999.png" /></span></p>

<p>To change the row style and size, you can use the commands&#160;<code><span class="fontredcadence">cutRow</span></code>&#160;and&#160;<code><span class="fontredcadence">createRow</span></code>.</p>

<p>The&#160;<code><span class="fontredcadence">cutRow</span></code>&#160;command allows you to delete the site rows that intersect with the specified area.</p>

<p><code><span class="fontredcadence">cutRow</span>&#160;</code><br /><code>[-area <em>box</em> |<span class="fontredcadence"> -object</span> <em>string</em> | -selected]</code><br /><code>[-halo <em>float </em>| {-<span class="fontredcadence">leftGap</span> <em>float </em>| -<span class="fontredcadence">rightGap</span> <em>float </em>| -<span class="fontredcadence">topGap</span> <em>float </em>| -<span class="fontredcadence">bottomGap</span> <em>float</em>}]</code><br /><code>[-site <em>siteName</em>]&#160;</code><br /><code>[-<span class="fontredcadence">keepCell</span>]</code></p>

<p>The&#160;<code><span class="fontredcadence">createRow</span></code>&#160;command then allows you to specify the core rows as per your requirement.</p>

<p><code><span class="fontredcadence">createRow</span>&#160;</code><br /><code>-site <em>siteName</em>&#160;</code><br /><code>[-area {<em>x1 y1 x2 y2</em>}]&#160;</code><br /><code>[-spacing <em>distance</em>]</code><br /><code>[-<span class="fontredcadence">noAbut</span> | -<span class="fontredcadence"><span class="fontredcadence">noAbut</span>1st</span>]</code><br /><code>[-<span class="fontredcadence">flip1st</span>]</code><br /><code>[-<span class="fontredcadence">noFlip</span>]</code></p>
<div class="pbi_avoid">
<p><strong><code>   <span class="fontredcadence">cutRow</span></code> to remove unwanted rows</strong></p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303237978/303238023.png" data-linked-resource-container-id="303237978" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="CuttingNCreatingRows.png" data-linked-resource-id="303238023" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303237978/303238023.png" /></span></p>

<p><strong> New rows created by <code><span class="fontredcadence">createRow</span></code></strong></p>
</div>
<h5 id="Schematic-DrivenMixedSignalDesignFlow-PowerRouting">Power Routing</h5>
<p>After the floorplan for the block has been fixed, the power routing for the block can be performed. The space between the IO and the core region created can be used to create a&#160;power ring structure or you might choose to create stripes or custom power topology as per the design specifications.</p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303237978/303238033.png" data-linked-resource-container-id="303237978" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="ringpowerstructure.png" data-linked-resource-id="303238033" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303237978/303238033.png" /></span></p>
<h4 id="Schematic-DrivenMixedSignalDesignFlow-DigitalFoundationFlowforBlockImplementation">Digital Foundation Flow for Block Implementation</h4>

<p>The digital foundation flows are a collection of scripted flows are delivered as a part of Innovus. There are different flows to address different types of design challenges such as hierarchical design, low power and so on. There is also a basic full flat implementation flow.</p>

<p>This Innovus based flow consists of all of the tasks listed below:</p>

<p>Clock tree synthesis, timing-driven logic optimization, timing-driven placement and routing, signal integrity analysis and fixing (crosstalk), sign-off extraction and timing analysis, logic equivalency checks using Conformal, and saving the design into OpenAccess. Timing analysis refers to the process of running Static Timing Analysis (STA) to validate the overall timing of the design, based on the timing constraints created for the digital blocks. For instance, STA checks that signals are available at the input to flops for a pre-defined amount of time before the clock arrives (setup check) or that signals are available long enough at the input to be properly captured (hold check).</p>

<p>The OpenAccess design saved in Innovus can then be opened in Virtuoso.</p>
<h4 id="Schematic-DrivenMixedSignalDesignFlow-LayoutRemaster">Layout Remaster</h4>

<p>The remastering for the digital instance at the top level involves replacing the unimplemented digital block view with the fully implemented view saved in Innovus. However, when the implemented block layout is opened in Virtuoso, you will see only the abstract views instead of seeing the layout masters for each of the standard cell instance. Therefore, you must perform another step in the flow to replace the abstract references with their corresponding layout references (remastering) before the design can be verified in Virtuoso. A menu pick is provided in Virtuoso to make this step quick and simple. It can be accessed in the layout window under&#160;<em>Tools -&gt; Remaster Instances</em>.&#160;</p>
<h4 id="Schematic-DrivenMixedSignalDesignFlow-Sign-OffFlow">Sign-Off Flow</h4>

<p>This step in the flow is simpler than for the other sub-block flows because the post-layout electrical verification has already been done in Innovus.</p>
<h4 id="Schematic-DrivenMixedSignalDesignFlow-Top-LevelFloorplan">Top-Level Floorplan</h4>

<p>We now have the final top-level floorplan with the digital block fully implemented.</p>
<h3 id="Schematic-DrivenMixedSignalDesignFlow-OpenAccessBasedInteroperableFlowbetweenInnovusandVirtuoso">OpenAccess Based Interoperable Flow between Innovus and Virtuoso</h3>

<p>The figure below illustrates the interaction between Virtuoso and Innovus for fully implementing the contents of digital block in a design.</p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303237978/303238002.png" data-linked-resource-container-id="303237978" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="Encounter_Virtuoso_interop.png" data-linked-resource-id="303238002" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303237978/303238002.png" /></span></p>

<p>As can be seen from the illustration above, the chip finishing and the final assembly of the design will be done in the Virtuoso cockpit. This step in the flow is another differentiating factor between the schematic-driven mixed signal and netlist-driven mixed signal flows.</p>
<h3 id="Schematic-DrivenMixedSignalDesignFlow-Top-LevelBlock/ChipAssemblyflow">Top-Level Block/Chip Assembly flow</h3>

<p>The top-level mixed signal block/chip assembly flow is a continuation of the bottom-up implementation flow. Planning for the top-level assembly typically starts at the beginning of the overall flow, before any of the sub-blocks have been implemented. You might have already performed some trial top-level routing in order to determine routing feasibility and any performance impact to critical signals.</p>

<p>At this stage of the flow, we assume that all of the sub-blocks are in their final form as implemented by their various sub-flows described previously in this document. In other words, the OpenAccess database contains the complete layout and abstracts, any constraints relevant to the top-level assembly, and so on.</p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303237978/303238028.png" data-linked-resource-container-id="303237978" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="top_level_flow.png" data-linked-resource-id="303238028" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303237978/303238028.png" /></span></p>
<h4 id="Schematic-DrivenMixedSignalDesignFlow-Top-LevelFinalFloorplanning">Top-Level Final Floorplanning</h4>

<p>At this stage, any final adjustments can be made to the top-level floorplan to account for any changes to final block sizes and IOs. This will result in the final design placement.</p>
<h4 id="Schematic-DrivenMixedSignalDesignFlow-AddTop-LevelConstraints">Add Top-Level Constraints</h4>

<p>The top-level layout may contain additional constraints. These are typically various routing type constraints. These constraints may be driven from the schematic, added directly to the top-level layout, or automatically or manually propagated upward from lower level blocks using the new hierarchical constraint management features available from the&#160;Virtuoso IC 6.1.5 release.</p>
<h4 id="Schematic-DrivenMixedSignalDesignFlow-VSRRouting">VSR Routing</h4>

<p>The Virtuoso Space-Based Router (VSR) supports a wide variety of routing constraints and is typically used in a more automated flow when routing the top-level design. However, the interactive constraint-aware wire-editing features in Virtuoso can be used for selective nets.</p>
<h4 id="Schematic-DrivenMixedSignalDesignFlow-Top-LevelSTATask(Optional)">Top-Level STA Task (Optional)</h4>

<p>Performing top-level STA requires the existence of a Verilog netlist at the top level which represents the interconnection between the various blocks at the top level. If a Verilog netlist is available, or one can be created by the design team, it is possible to perform STA at the top level assuming that certain blocks have their timing characterized in the&#160;<code>.lib</code>&#160;format used by the STA tool.</p>
<h4 id="Schematic-DrivenMixedSignalDesignFlow-Top-LevelSign-off">Top-Level Sign-off</h4>

<p>This is a complex and multistep flow that varies depending on the design-specific challenges, target foundry requirements, and so on. It involves a combination of physical verification tasks (DRC, LVS) and electrical verification tasks (MSPS, EM/IR, functional verification). A typical list of tasks are given below. All of these tasks can be driven directly from the Virtuoso environment. The AMS-D simulator is typically used here just as it was used earlier in the design flow. However, the simulations will now be based on extracted layout netlists with parasitics. This simulation can make use of the advanced features of ADE, such Virtuoso Parasitics Aware design (VPAD) to rapidly switch between pre-layout schematic and post-layout extracted representations of the design and debug parasitic-related problems.</p>
<h3 id="Schematic-DrivenMixedSignalDesignFlow-VirtuosoTop-LevelAssembly">Virtuoso Top-Level Assembly</h3>

<p>This figure below illustrates how connectivity and constraint information captured in the schematics representing the top-level of the design is used to create an initial layout using the placement information provided by the floorplan view. At this step, the floorplan is loaded using the Load Physical View (LPV - part of VLS -XL) utility in the Virtuoso layout environment, which will place all of the sub-blocks according to the floorplan. Note that as an intermediate step, you should have configured the physical hierarchy (CPH) to use the abstract masters.</p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303237978/303238029.png" data-linked-resource-container-id="303237978" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="virtuoso_top_level.png" data-linked-resource-id="303238029" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303237978/303238029.png" /></span></p>
<h3 id="Schematic-DrivenMixedSignalDesignFlow-VirtuosoChip-LevelLayoutAssembly">Virtuoso Chip-Level Layout Assembly</h3>

<p>The figure below shows a more detailed description of the VSR-based top-level block assembly flow. The routing on the top-level layout is being performed by the VSR engine, using abstracts for each of the sub-blocks, and using the supplied constraints. You can choose to perform VSR routing interactively or by using a more automated approach.</p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303237978/303238022.png" data-linked-resource-container-id="303237978" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="virtuoso_chip_level.png" data-linked-resource-id="303238022" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303237978/303238022.png" /></span></p>
<h2 id="Schematic-DrivenMixedSignalDesignFlow-FlowExample:PowerPushDownFlowforDigitalBlocksinAoTDesigns">Flow Example:&#160;Power&#160;PushDown Flow for Digital Blocks in AoT Designs</h2>

<p>In the schematic-driven mixed signal flow or the Analog-on-Top (AoT) methodology, the top-level floorplanning is done in the Virtuoso environment. Digital sub-blocks are created as soft blocks because they have not been fully implemented yet. The power shapes created during top-level floorplanning in Virtuoso are pushed down into the digital blocks. The Verilog netlist, physical abstract, and other associated files, such as timing constraints, are then passed to Innovus™ Implementation System&#160;for complete physical implementation of the digital blocks. After a digital block has been fully implemented in Innovus, the layout view of the block is brought back into Virtuoso for design assembly. The fully implemented block now replaces the abstract that was earlier created for the block in Virtuoso.</p>

<p>This chapter covers the procedure for&#160;implementing a digital block in Innovus with power shapes created during floorplanning in Virtuoso. In the example used in this chapter, the block&#160;<code>pll_dig</code>&#160;is implemented as a digital block. The&#160;example illustrates the typical steps for running this flow. You can modify the floorplanning and implementation steps according to your needs.</p>

<p>To implement a digital block in Innovus using the power shapes created during top-level floorplanning in Virtuoso, you need to perform the following basic steps:</p>
<ol><li><a href="#Schematic-DrivenMixedSignalDesignFlow-FPinVirtuoso">Perform top-level floorplanning in Virtuoso</a>.</li><li><a href="#Schematic-DrivenMixedSignalDesignFlow-PushPower">Push power shapes into the digital block</a>.</li><li><a href="#Schematic-DrivenMixedSignalDesignFlow-ImplementinEDI">Implement the digital block in Innovus</a>.</li><li><a href="#Schematic-DrivenMixedSignalDesignFlow-AssembleinVirtuoso">Bring back the digital block into Virtuoso for design assembly</a>.</li></ol>
<p><strong>Note&#160;</strong>-&#160;The snapshots used in this example are from IC 6.1.6 ISR3 and Innovus 15.10.</p>
<h3 id="Schematic-DrivenMixedSignalDesignFlow-PerformingTop-LevelFloorplanninginVirtuosoFPinVirtuoso">Performing Top-Level Floorplanning in Virtuoso<span class="confluence-anchor-link" id="Schematic-DrivenMixedSignalDesignFlow-FPinVirtuoso"></span></h3>

<p>To perform top-level floorplanning in Virtuoso, perform the following steps:</p>
<ol><li>Open the top-level schematic of the design in Virtuoso.<ol><li>In CIW, select&#160;<em>Tools - Library Manager.</em><em><br /></em></li><li>In the Library Manager form, select the required library, cell, and view (<code>schematic</code>) to open the top-level schematic.&#160;<br />&#160;<span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303237978/303238013.png" data-linked-resource-container-id="303237978" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="AoT1.png" data-linked-resource-id="303238013" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303237978/303238013.png" width="600" /></span>&#160;<br />The top-level schematic contains a symbol for the block that&#160;needs to be implemented as digital block&#160;. The block does not have any power or ground pins as shown below. It&#160;needs to be supplied power by the top-level digital power and ground nets. The sample top-level schematic below contains a symbol for the&#160;<code>pll_dig</code>&#160;block.<br /><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303237978/303237986.png" data-linked-resource-container-id="303237978" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="AoT2.png" data-linked-resource-id="303237986" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303237978/303237986.png" /></span></li></ol></li><li>View the block-level Common Power Format (CPF) file to get the power and ground names for the digital block.<ol><li>Open the block-level CPF file in any editor.</li><li>Note the power supply net name specified in the file for the digital block.&#160;This helps you determine the block&#39;s power pin that will be connected to the top-level digital power net.</li><li>Note the ground net name specified in the block CPF file. This specifies the ground pin that will be connected to the top-level ground net.</li></ol></li><li>Launch VXL to start&#160;the creation of the top-level floorplan.<ol><li>In Virtuoso Schematic Editor, select&#160;<em>Launch - Layout XL</em>&#160;from the menu bar.<br /><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303237978/303238008.png" data-linked-resource-container-id="303237978" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="AoT3.png" data-linked-resource-id="303238008" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303237978/303238008.png" /></span><br />The Startup Options form is displayed.</li><li>
<p>In the Startup Options form, select the options for creating new layout and configuration views and click&#160;<em>OK</em>.<br /><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303237978/303238016.png" data-linked-resource-container-id="303237978" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="AoT4.png" data-linked-resource-id="303238016" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303237978/303238016.png" /></span></p>
</li><li>In the New File form that is displayed, specify a new name for the layout view, such as&#160;<code>layout_WS</code>, in the&#160;<em>View</em>&#160;text box and click&#160;<em>OK</em>.<br /><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303237978/303238021.png" data-linked-resource-container-id="303237978" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="AoT5.png" data-linked-resource-id="303238021" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303237978/303238021.png" /></span></li><li>In the Create Physical Configuration View form that is displayed next, specify a name for the configuration view in the&#160;<em>View Name</em>&#160;text box and select the&#160;<em>Open CPH</em>&#160;check box&#160;to open the Configure Physical Hierarchy form in which you will configure the top-level floorplan.&#160;Click&#160;<em>OK</em>&#160;when done.<br /><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303237978/303237979.png" data-linked-resource-container-id="303237978" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="AoT6.png" data-linked-resource-id="303237979" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303237978/303237979.png" /></span></li></ol></li><li>Create a top-level floorplan using the Configure Physical Hierarchy (CPH) form.&#160;CPH is used to specify the hierarchical bindings between schematic and physical views. It also serves to specify soft block parameters to be generated by Generate Physical Hierarchy (GPH). As the new layout&#160;view you specified in the New File form does not exist yet, it will be generated later by GPH.<br />As you have only the pin information for the digital block from the symbol at this stage&#160;and do not have a schematic available for any hierarchy details, you can only create a blockBlackBox for the digital block. After creating the blockBlackBox for the digital block, you can add&#160;power and ground pins as per the net names specified in the CPF file for the digital block.<br /><ol><li>To create a&#160;blockBlackBox for the digital block with an estimated boundary, perform the following steps:<br /><ol><li>In the default&#160;<em>Hierarchy Configuration</em>&#160;mode, enter the library, cell, and, view name for the digital block in the&#160;<em>Physical Library, Physical Cell,&#160;</em>and&#160;<em>Physical View</em>&#160;columns, respectively. The view name should be the new layout view name you specified in the New File form in the previous step.&#160;<br /><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303237978/303238014.png" data-linked-resource-container-id="303237978" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="AoT7.png" data-linked-resource-id="303238014" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303237978/303238014.png" /></span></li><li>Switch to the&#160;<em>Soft Block&#160;</em>mode in the CPH form. The&#160;<em>Soft Block</em>&#160;mode lets you define the soft blocks that will be created by the&#160;<em>Floorplan &#8211; <em>Generate Physical Hierarchy</em>&#160;command.<br /></em><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303237978/303238020.png" data-linked-resource-container-id="303237978" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="AoT8.png" data-linked-resource-id="303238020" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303237978/303238020.png" /></span></li><li>In the&#160;<em>Soft Block</em>&#160;mode, expand the&#160;<em>No Physical</em>&#160;list and select the digital block. Next, right-click the block and select&#160;<em>Edit Soft Block Parameters</em>&#160;from the context menu.<br /><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303237978/303238018.png" data-linked-resource-container-id="303237978" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="AoT9.png" data-linked-resource-id="303238018" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303237978/303238018.png" /></span>&#160;<br />This makes the&#160;<em>Attributes</em>&#160;section editable for the selected block.</li><li>In the&#160;<em>Attributes</em>&#160;section of the CPH form, you can set up the block&#39;s boundary as per your&#160;estimate. Specify the block&#39;s width and height in the&#160;<em>Width</em>&#160;and&#160;<em>Height</em>&#160;text boxes, respectively, on the&#160;<em>Boundary</em>&#160;tab.<br /><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303237978/303238010.png" data-linked-resource-container-id="303237978" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="AoT10.png" data-linked-resource-id="303238010" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303237978/303238010.png" /></span></li></ol></li><li>To add&#160;power and ground pins to the digital block, perform the following steps:<ol><li>On the&#160;<em>I/O Pins</em>&#160;tab in the&#160;<em>Attributes</em>&#160;section of the CPH form,&#160;add two pins with the following specifications:<ul><li><em>Net Name:</em>&#160;<em>power_net_name&#160;Term Name</em>:<code>&#160;<em>power_net_name</em></code>&#160;<em>Term Type:&#160;</em><code>inputOutput</code>&#160;<em>Sig Type</em>:&#160;<code>supply</code></li><li><em>Net Name:</em>&#160;<em><code>ground_net_name</code></em>&#160;&#160;<em>Term Name</em>:&#160;<em><code>ground_net_name</code></em>&#160;<em>Term Type:&#160;</em><code>inputOutput</code>&#160;<em>Sig Type</em>:&#160;<code>ground</code><br />Here,&#160;<code><em>power_net_name</em></code>&#160;and&#160;<em><code>ground_net_name</code>&#160;</em>refer to the power and ground net names identified from the block CPF file in Step 2. In the sample screenshot below,&#160;<code><em>power_net_name</em></code>&#160;is&#160;<code>VDD</code>&#160;and&#160;<em><code>ground_net_name</code>&#160;</em>is&#160;<code>VSS</code>.</li></ul><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303237978/303238007.png" data-linked-resource-container-id="303237978" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="AoT11.png" data-linked-resource-id="303238007" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303237978/303238007.png" /></span><br />After adding the pin details, click the&#160;<em>Save Soft Block</em>&#160;button.</li><li>In the&#160;<em>No Physical</em>&#160;list, change the&#160;<em>Block Type</em>&#160;from&#160;<code>Custom</code>&#160;to&#160;<code>Digital</code>. This changes the snap grid for the pins and boundary to the place &amp; route grid instead of the&#160;manufacturing grid. In addition, set&#160;<em>Type</em>&#160;as&#160;<code>Abstract</code>.&#160;<br /><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303237978/303237981.png" data-linked-resource-container-id="303237978" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="AoT12.png" data-linked-resource-id="303237981" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303237978/303237981.png" /></span></li><li>Right-click the top-level cell and select&#160;<em>Define Top Level Parameters</em>&#160;from the context menu.<br /><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303237978/303237985.png" data-linked-resource-container-id="303237978" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="AoT13.png" data-linked-resource-id="303237985" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303237978/303237985.png" /></span></li><li>Save the top level parameters as is with no change.</li></ol></li></ol>
<p>Note:&#160;As is the case with the Innovus timing analysis flow for mixed signal designs, the top level&#160; is flattened using the&#160;<code><span class="fontredcadence">assembleDesign</span></code>&#160;command in Innovus and then the flattened view is saved using the&#160;<code><span class="fontredcadence">saveDesign</span></code>&#160;command. Ensure that the top-level power and ground nets are marked as global in Virtuoso. If not, it can lead to problems while saving the flattened view with&#160;<code><span class="fontredcadence">saveDesign</span></code>&#160;in Innovus.&#160;Innovus will report the following error:</p>

<p><code>**ERROR: (IMPOAX-1085): Cannot override the connection of instance terminal &#39;SN&#39; of instance &#39;I0/preset_int_reg\[5\]&#39; connected to net &#39;tie1&#39; to global net &#39;VDD_1P2&#39; as A physical-only instTerm cannot connect to a net located in a different occurrence. Check if the terminal is connected to a supply or tieHi/Lo net in the Verilog.</code></p>

<p>The reason for this error is that the block-level power and ground pins are not in the original block symbol (verilog netlist) and are added manually, which causes them to be considered as physical-only pins. The top-level power and ground pins, however, are part of the original logical netlist (schematic) and are hence not marked as physical-only pins. Therefore, after&#160;<code><span class="fontredcadence">assembleDesign</span></code>&#160;and the subsequent&#160;<code><span class="fontredcadence">saveDesign</span></code>, Innovus tries to connect a physical-only instance terminal with a net that exists in the logical domain, and reports the above error.</p>
</li><li>Generate the full physical hierarchy.&#160;<ol><li>From the layout, select&#160;<em>Floorplan - Generate Physical Hierarchy</em>.<br /><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303237978/303238015.png" data-linked-resource-container-id="303237978" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="AoT14.png" data-linked-resource-id="303238015" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303237978/303238015.png" /></span></li><li>
<p>In the Generate Physical Hierarchy form, click&#160;<em>OK</em>.<br /><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303237978/303238019.png" data-linked-resource-container-id="303237978" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="AoT15.png" data-linked-resource-id="303238019" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303237978/303238019.png" /></span></p>

<p>The following layout is created initially and you can see the digital block created:<br /><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303237978/303237988.png" data-linked-resource-container-id="303237978" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="AoT16.png" data-linked-resource-id="303237988" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303237978/303237988.png" /></span></p>
</li></ol></li><li>Load the placement floorplan.&#160;To get the boundary size and the instance and pin locations for the top-level, use an existing view:<ol><li>From the layout window menu bar, choose&#160;<em>File - Load Physical View</em>.</li><li>In the Load Physical View form, specify details of an existing cell view that you want to open.&#160;</li><li>The&#160;<em>Select All</em>&#160;check box is selected by default. First, select the&#160;<em>None</em>&#160;check box to deselect all instances. Then, select the instance check boxes&#160;<em>(Standard, Custom Cells,</em>&#160;Macros, &#160;and&#160;<em>IO Pads</em>),&#160;<em>Pins,</em>&#160;and&#160;<em>PR Boundary</em>&#160;check boxes as shown below:<br /><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303237978/303237989.png" data-linked-resource-container-id="303237978" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="AoT17.png" data-linked-resource-id="303237989" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303237978/303237989.png" /></span></li><li>Click&#160;<em>OK</em>.</li></ol></li><li>Specify top nets as power and ground:<ol><li>Invoke the Navigator window by selecting&#160;<em>Window - Assistants - Navigator</em>.</li><li>Invoke Properties Editor by selecting&#160;<em>Window - Assistants - Property Editor</em>.</li><li>
<p>In the Navigator window, search for the top-level net that is to be specified as a power net and change S<em>ignal Type</em>&#160;to&#160;<code>power</code>&#160;for that net in Property Editor. In the example below, top net&#160;<code>dvdd</code>&#160;is specified as a power net.<br /><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303237978/303238017.png" data-linked-resource-container-id="303237978" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="AoT18.png" data-linked-resource-id="303238017" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303237978/303238017.png" /></span></p>
</li><li>
<p>In the Navigator window, search for the top-level net that is to be specified as a&#160;ground net and change S<em>ignal Type</em>&#160;to&#160;<code>ground</code>&#160;for that net in Property Editor.&#160;In the example below, top net&#160;<code>dgnd</code>&#160;is specified as a ground net.<br /><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303237978/303237980.png" data-linked-resource-container-id="303237978" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="AoT19.png" data-linked-resource-id="303237980" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303237978/303237980.png" /></span></p>
</li></ol></li><li>Propagate the power and ground nets on the digital cell instTerms as per the top-level nets. The top-level net is connected with the instTerms so that the push command can identify which net to create at the lower level for the top-level power or ground nets.<br /><ol><li>Select the digital block that you will be implementing later in Innovus.</li><li>Select&#160;<em>Connectivity - Nets - &#160;Propagate&#160;</em>and scroll to the end of the Propagate Nets form.</li><li>Assign the block power terminal to the top-level power net. In the sample screenshot below, the block terminal&#160;<code>VDD</code>&#160;is assigned to top power net,&#160;<code>dvdd</code>.</li><li>Assign the block ground terminal to the top-level ground net.&#160;In the sample screenshot below, the block terminal&#160;<code>VSS</code>&#160;is assigned to top ground net,&#160;<code>dgnd</code>.<br /><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303237978/303238003.png" data-linked-resource-container-id="303237978" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="AoT20.png" data-linked-resource-id="303238003" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303237978/303238003.png" /></span></li><li>Click&#160;<em>OK</em>.</li></ol></li><li>Place and optimize the pins for the digital blockBlackBox as per the top-level floorplan:<ol><li>Select the digital block.</li><li>Select&#160;<em>Floorplan - Pin Optimization</em>.<br /><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303237978/303238004.png" data-linked-resource-container-id="303237978" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="AoT21.png" data-linked-resource-id="303238004" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303237978/303238004.png" /></span><br />This displays the Pin Assistant form.</li><li>On the&#160;Pin Placement tab of the Pin Assistant form, and select&#160;<em>Level -1 Pins</em>.&#160;</li><li>Notice that the digital block is highlighted.&#160;Select all the pins for the block in the list box on the&#160;<em>Pin Placement</em>&#160;tab&#160;and view the flightlines in the main window.<br /><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303237978/303238026.png" data-linked-resource-container-id="303237978" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="AoT22.png" data-linked-resource-id="303238026" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303237978/303238026.png" /></span></li><li>Click the&#160;<em>Pin Optimization</em>&#160;tab.&#160;</li><li>Click the&#160;<em>Selected</em>&#160;mode and specify&#160;<em>line-via</em>&#160;as&#160;<em>Spacing Type</em>.<br /><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303237978/303238027.png" data-linked-resource-container-id="303237978" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="AoT23.png" data-linked-resource-id="303238027" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303237978/303238027.png" /></span></li><li>
<p>Click the&#160;<em>Optimize</em>&#160;button.</p>
</li><li>
<p>After pin optimization of the block, the flightlines look as follows:<br /><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303237978/303237987.png" data-linked-resource-container-id="303237978" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="AoT24.png" data-linked-resource-id="303237987" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303237978/303237987.png" /></span></p>
</li></ol>Next, you need to create the power plan at the top level and then push the power shapes into the digital block.</li></ol><h3 id="Schematic-DrivenMixedSignalDesignFlow-PushingPowerShapesintotheDigitalBlockPushPower">Pushing Power Shapes into the Digital Block<span class="confluence-anchor-link" id="Schematic-DrivenMixedSignalDesignFlow-PushPower"></span></h3>

<p>Before you push power shapes into the the digital block, you need to create the power plan at the top level and ensure that&#160;the topology is set correctly on the power shapes to be pushed down. To do so:</p>
<ol><li>Create the power plan at the top level. To load the power stripes:<ol><li>Select&#160;<em>File - Load Physical View</em>.&#160;</li><li>Specify the required library, cell, and view name. &#160;</li><li>Select only the&#160;<em>Wires</em>&#160;option and click&#160;<em>OK.</em><br /><em><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303237978/303238005.png" data-linked-resource-container-id="303237978" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="AoT25.png" data-linked-resource-id="303238005" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303237978/303238005.png" /></span><br /></em><br />The canvas appears as follows after the power routes have been loaded:<br /><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303237978/303237997.png" data-linked-resource-container-id="303237978" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="AoT26.png" data-linked-resource-id="303237997" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303237978/303237997.png" /></span><br /><strong>Note</strong>: Use Virtuoso Space-based Router (VSR) power planner for&#160;power planning so that the correct topology (for example, stripes in this case) is set on the power shapes to be pushed down. The&#160;<em>Power</em>&#160;menu is available in IC 6.1.6. For IC 6.1.5, &#160;you need to launch RIDE from the layout canvas for power planning.&#160;<br /><br />You can select the power stripes on top of the digital block and set it in the CIW as follows:<br /><code>geGetSelSet()~&gt; topology = &#8220;stripe&#8221;</code><br />This needs to be done only if you are not using IC 6.1.6.</li></ol></li><li>Push down power shapes:<br /><ol><li>Select the digital block into which you want to push power shapes.&#160;</li><li>
<p>From the layout window menu bar, select&#160;<em>Floorplan - Soft Block Update - Push Pre Routes</em>.<br /><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303237978/303237983.png" data-linked-resource-container-id="303237978" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="AoT27.png" data-linked-resource-id="303237983" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303237978/303237983.png" /></span><br />This opens the Push Into Blocks form.</p>
</li><li>The library and cell view details are filled by default in the Push Into Blocks form based on the selected block. Click&#160;<em>OK</em>&#160;to push the power shapes into the new&#160;<code>layout_pushed</code>&#160;view that is created by default.<br /><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303237978/303237994.png" data-linked-resource-container-id="303237978" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="AoT28.png" data-linked-resource-id="303237994" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303237978/303237994.png" /></span><br />The top-level power net&#160;<code>(dvdd)</code>&#160;shapes are pushed as block power terminal&#160;<code>(VDD)</code>shapes and the top-level ground net&#160;<code>(dgnd)</code>&#160;shapes are pushed as block ground terminal&#160;<code>(VSS)</code>&#160;shapes into the digital block.&#160;If the top-level nets had not been marked as power and ground earlier, the top-level shapes would have been pushed as blockages as only the&#160;<em>Power - Ground Net(s)&#160;</em>check box is selected in the Push Into Blocks form.<br /><br />The power shapes are pushed down in the new view&#160;<code>layout_pushed</code>&#160;and removed from the top level.&#160;The new view is replaced at the top level and is used in Innovus to implement the block.<br /><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303237978/303237993.png" data-linked-resource-container-id="303237978" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="AoT29.png" data-linked-resource-id="303237993" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303237978/303237993.png" /></span></li></ol></li><li>Review the block power structures:<ol><li>
<p>Open the newly created view by selecting&#160;<em>File - Open</em>&#160;and specifying the required cell view details.&#160;</p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303237978/303237998.png" data-linked-resource-container-id="303237978" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="AoT30.png" data-linked-resource-id="303237998" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303237978/303237998.png" /></span></p>
</li><li>Click&#160;<em>OK</em>.<br /><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303237978/303237990.png" data-linked-resource-container-id="303237978" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="AoT31.png" data-linked-resource-id="303237990" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303237978/303237990.png" width="600" /></span><br />Select the power and ground stripes and check that the net name is now&#160;<code>VDD</code>&#160;and&#160;<code>VSS</code>&#160;for the pushed shapes. You can also view the pins&#160;<code>VDD</code>&#160;and&#160;<code>VSS</code>&#160;created at both the ends for the stripes that have been pushed down.<br /><strong>Note</strong>:&#160;If you are not using IC 6.1.6, you need to re-establish the topology for the power stripes using the following steps. Otherwise, this is automatically handled in the 6.1.6 release:<ol><li>Select both the power routes and check that the topology is set to none by using the following skill command:&#160;<br /><code>geGetSelSet() ~&gt; topology</code><br />This will return &quot;<code>none</code>&quot;.</li><li>Set the topology back to stripe by selecting the shapes and typing the following skill command:<br /><code>geGetSelSet() ~&gt; topology&#160; = &#8220;stripe&#8221;</code><br />Setting the correct topology is important to fully utilize the capabilities of the Special Router in Innovus.<br /><br /></li></ol></li></ol></li><li>Save the pushed down view as an OpenAccess cell and exit Virtuoso:<ol><li>Save all the cell views.<br /><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303237978/303237982.png" data-linked-resource-container-id="303237978" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="AoT32.png" data-linked-resource-id="303237982" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303237978/303237982.png" /></span></li><li>Exit Virtuoso.</li></ol></li></ol><h3 id="Schematic-DrivenMixedSignalDesignFlow-ImplementingtheDigitalBlockinInnovusImplementinEDI">Implementing the Digital Block in Innovus<span class="confluence-anchor-link" id="Schematic-DrivenMixedSignalDesignFlow-ImplementinEDI"></span></h3>

<p>To implement the block in Innovus and save the resulting view in OpenAccess, perform the following steps:</p>

<p><span class="fontredcadence"><ol><li>Launch Innovus.</li><li>Load and initialize the design by typing the following set of commands on the Innovus shell:<ol><li>Start the design implementation in Innovus with the Verilog file for the digital block while using the OpenAccess reference libraries for the blocks.&#160;<br /><code>set init_verilog pll_dig.vg</code><br /><code>set init_top_cell pll_dig</code><br /><code>set init_oa_ref_lib {gsclib045 gpdk045 giolib045}</code><code><br /></code>
<p><strong>From where is the tech information read?</strong></p>

<p>If an OpenAccess design is read, the tech graph is analyzed from the design_lib that contains the cellview.</p>

<p>If a Verilog netlist is read with OpenAccess reference libraries, then the first library in the OpenAccess ref lib list is used for the tech. This means that the order of the ref libs is important when a Verilog netlist is used.</p>

<p><strong>Note:</strong>&#160;Additionally, sites and vias can be read from other libraries even though they are mostly considered to be tech information.</p>
</li><li>Specify the power net and the ground net.&#160;<br /><code>set init_pwr_net {VDD}</code><br /><code>set init_gnd_net {VSS}</code></li><li>Initialize the design.<br /><code>init_design</code></li><li>Launch the GUI.<br /><code>win </code><br />The design appears as follows after initialization.&#160;<br /><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303237978/303237991.png" data-linked-resource-container-id="303237978" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="AoT46.png" data-linked-resource-id="303237991" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303237978/303237991.png" /></span></li></ol></li><li>Load OpenAcess data, modify floorplan, and load the block CPF file:&#160;<ol><li>Load the OpenAccess data for the block to get the boundary, pin locations and the power shapes from the OpenAccess cellview.&#160;<br /><code>oaIn zambezi45 pll_dig layout_pushed</code><code><br /></code></li><li>As the prBoundary height and width has the space for both the core and IO area, you need to modify the floorplan so that the core area rows are not extended to the boundary.<br /><code>changeFloorplan -coreToEdge {8 2 8 2}</code><code><br /></code></li><li>Load the block CPF file to create the global net connections for the block in Innovus.<br /><code>read_power_intent -cpf pll_dig.cpf</code><br /><code>commit_power_intent</code><em><br /></em></li><li>
<p>Select&#160;<em>Power - Connect Global Nets</em>&#160;from the Innovus menu bar to open the Global Net Connections form where you can check the power and ground connections for the block.<br /><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303237978/303237992.png" data-linked-resource-container-id="303237978" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="AoT47.png" data-linked-resource-id="303237992" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303237978/303237992.png" /></span></p>

<p>The design appears as follows after OpenAccess load.<br /><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303237978/303237996.png" data-linked-resource-container-id="303237978" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="AoT48.png" data-linked-resource-id="303237996" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303237978/303237996.png" /></span></p>
</li></ol></li><li>Place and route the design to complete the block implementation:<ol><li>
<p>Type the following command at the Innovus shell to start placement:<br /><code>place_design</code></p>
</li><li>Type the following set of commands to start routing:<br /><code>dbDeleteTrialRoute</code><br /><code>sroute -connect { corePin } -nets { VDD VSS }</code><br /><code>generateVias</code><br /><code>routeDesign</code><code><br /></code></li><li>Verify connections after routing is complete by typing the following command:<br /><code>verifyConnectivity -noAntenna</code><code><br /></code>There&#160;should be no errors after&#160;<code>verifyConnectivity</code>.&#160;The&#160;<code>-noAntenna</code>&#160;option allows for the dangling wires at the end of the rows.</li></ol>
<p>The design appears as follows after placement and routing.<br /><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303237978/303237984.png" data-linked-resource-container-id="303237978" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="AoT49.png" data-linked-resource-id="303237984" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303237978/303237984.png" /></span></p>
</li><li>Save the design using the&#160;<code>saveDesign</code>&#160;command. Specify a new view name, such as&#160;<code>pnr</code>, &#160;while saving the design<br /><code>saveDesign -cellview {zambezi45 pll_dig pnr}</code><em><br /></em></li><li>Exit Innovus.</li></ol></span></p>
<h3 id="Schematic-DrivenMixedSignalDesignFlow-BringingBacktheDigitalBlockintoVirtuosoforDesignAssemblyAssembleinVirtuoso">Bringing Back the Digital Block into Virtuoso for Design Assembly<span class="confluence-anchor-link" id="Schematic-DrivenMixedSignalDesignFlow-AssembleinVirtuoso"></span></h3>

<p>Remaster the digital block at the top level in Virtuoso to use the implemented view. To do so:</p>
<ol><li>Invoke Virtuoso and open the required cell.&#160;</li><li>Select the digital block and invoke the property editor.</li><li>Change the view name for the digital block from&#160;<code>layout_pushed</code>&#160;to the new view name you specified while saving the design in Innovus. In the example below, the new view name is&#160;<code>pnr</code>.<br /><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303237978/303237995.png" data-linked-resource-container-id="303237978" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="AoT50.png" data-linked-resource-id="303237995" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303237978/303237995.png" /></span></li></ol>
                    </div>
<br /><br /></div>
<footer xmlns:html="http://www.w3.org/1999/xhtml"><nav class="navigation"><b><em><a href="Design_Data_Preparation.html" id="prev" title="Design_Data_Preparation">Design_Data_Preparation</a></em></b><b><em><a href="Virtuoso_Digital_Implementation.html" id="nex" title="Virtuoso_Digital_Implementation">Virtuoso_Digital_Implementatio ...</a></em></b></nav><div>
          For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2020, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved.
        </div>
</footer><br xmlns:html="http://www.w3.org/1999/xhtml" /></body></html>