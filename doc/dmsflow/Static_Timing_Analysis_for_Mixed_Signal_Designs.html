
<html><head><title>Static Timing Analysis for Mixed Signal Designs</title>
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="leenap" />
<meta name="CreateDate" content="2020-02-20" />
<meta name="CreateTime" content="1582191959" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="" />
<meta name="DocTitle" content="Mixed Signal (MS) Interoperability Guide" />
<meta name="DocType" content="Methodology" />
<meta name="FileTitle" content="Static Timing Analysis for Mixed Signal Designs" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="FileType" content="Chapter" />
<meta name="Keyword" content="dmsflow" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2020-02-20" />
<meta name="ModifiedTime" content="1582191959" />
<meta name="NextFile" content="Chip_Finishing_and_ECO_Flows.html" />
<meta name="Group" content="" />
<meta name="Platform" content="" />
<meta name="PrevFile" content="Using_NanoRoute_To_Route_a_Design_from_Virtuoso.html" />
<meta name="Product" content="Virtuoso Layout Suite,Innovus," />
<meta name="ProductFamily" content="Custom IC Design,Digital IC Design," />
<meta name="ProductVersion" content="20.10" />
<meta name="RightsManagement" content="Copyright 2012-2020 Cadence Design Systems Inc." />
<meta name="Title" content="Mixed Signal (MS) Interoperability Guide -- Static Timing Analysis for Mixed Signal Designs" />
<meta name="Version" content="20.10" />
<meta name="Renderer" content="WIKI" />
<meta name="SpaceKey" content="dmsflow201" />
<meta name="confluence-version" content="6.13.3" />
<meta name="ecms-plugin-version" content="03.30.005" />

        
        <link href="styles/site.css" rel="stylesheet" type="text/css" />
        <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
    

    </head><body style="background-color: #FFFFFF;"><!-- Begin Buttons --><header xmlns:html="http://www.w3.org/1999/xhtml"><div class="docHeadr">Product Documentation<img src="images/Cadence-Logo.jpg" /></div>
<nav class="blueHead"><ul><li><a class="content" href="dmsflowTOC.html">Contents</a></li><li><a class="prev" href="Using_NanoRoute_To_Route_a_Design_from_Virtuoso.html" title="Using_NanoRoute_To_Route_a_Design_from_Virtuoso">Using_NanoRoute_To_Route_a_Des ...</a></li><li style="float: right;"><a class="viewPrint" href="dmsflow.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="Chip_Finishing_and_ECO_Flows.html" title="Chip_Finishing_and_ECO_Flows">Chip_Finishing_and_ECO_Flows</a></li></ul></nav></header><!-- End Buttons --><div xmlns:html="http://www.w3.org/1999/xhtml" style="font-size:14px;line-height:1.42857142857;margin:20px 0 0 0;font-weight:bold;"><center>Mixed Signal (MS) Interoperability Guide<br />Product Version 20.10, March 2020</center></div>
<div xmlns:html="http://www.w3.org/1999/xhtml" style="margin-left:5%;">
<p></p>

<p></p>
<div id="main-header">
                    
                    
                                                <div style="width: 100%; font-size: 32px; text-align: left;               font-weight: bold;">13</div>
<h1 style="margin: 4px 0 4px;"><span>Static Timing Analysis for Mixed Signal Designs</span></h1>

                    
                </div>
<div class="wiki-content group" id="main-content">
                    <div><div class="toc-macro rbtoc1582191932432">
<ul class="toc-indentation">
<li><a href="#StaticTimingAnalysisforMixedSignalDesigns-Overview">Overview</a></li>
<li><a href="#StaticTimingAnalysisforMixedSignalDesigns-OpenAccessCompatibilityforMixed-SignalSTAFlow">OpenAccess Compatibility for Mixed-Signal STA Flow</a>
<ul class="toc-indentation">
<li><a href="#StaticTimingAnalysisforMixedSignalDesigns-BasicDesignRequirements">Basic Design Requirements</a></li>
<li><a href="#StaticTimingAnalysisforMixedSignalDesigns-RequirementsforCorrectConnectivityPropagationCorrectConnectivity">Requirements for Correct Connectivity Propagation</a></li>
<li><a href="#StaticTimingAnalysisforMixedSignalDesigns-RequirementsforOpenAccessCompatibility">Requirements for OpenAccess Compatibility</a></li>
<li><a href="#StaticTimingAnalysisforMixedSignalDesigns-UsefulUtilitiesandInformation">Useful Utilities and Information</a></li>
</ul>
</li>
<li><a href="#StaticTimingAnalysisforMixedSignalDesigns-HandlingSchematic-DrivenDesignsImplementedUsingaNon-InteroperablePDK">Handling Schematic-Driven Designs Implemented Using a Non-Interoperable PDK</a>
<ul class="toc-indentation">
<li><a href="#StaticTimingAnalysisforMixedSignalDesigns-CheckingtheTechnologyDatabaseGraphofaSpecificDesignLibraryChekTek">Checking the Technology Database Graph of a Specific Design Library</a></li>
<li><a href="#StaticTimingAnalysisforMixedSignalDesigns-OpeningaDesignAttachedtoaNon-InteroperablePDKinInnovus">Opening a Design Attached to a Non-Interoperable PDK in Innovus</a></li>
<li><a href="#StaticTimingAnalysisforMixedSignalDesigns-WaysToSwitchaDesignLibraryfromaNon-InteroperabletoanInteroperablePDK">Ways To Switch a Design Library from a Non-Interoperable to an Interoperable PDK</a></li>
</ul>
</li>
<li><a href="#StaticTimingAnalysisforMixedSignalDesigns-RunningSTAbyFlatteningtheDesign">Running STA by Flattening the Design</a>
<ul class="toc-indentation">
<li><a href="#StaticTimingAnalysisforMixedSignalDesigns-StepsforRunningSTAUsingtheFlattenApproach">Steps for Running STA Using the Flatten Approach</a></li>
</ul>
</li>
<li><a href="#StaticTimingAnalysisforMixedSignalDesigns-RunningSTAbyUsingtheFTM">Running STA by Using the FTM</a>
<ul class="toc-indentation">
<li><a href="#StaticTimingAnalysisforMixedSignalDesigns-GeneratingtheFTMforEachBlockgenFTM">Generating the FTM for Each Block</a></li>
<li><a href="#StaticTimingAnalysisforMixedSignalDesigns-RunningSTAonTop-levelDesignwithFTMofBlocks">Running STA on Top-level Design with FTM of Blocks</a></li>
</ul>
</li>
<li><a href="#StaticTimingAnalysisforMixedSignalDesigns-DifferencebetweenFlatandFTMApproaches">Difference between Flat and FTM Approaches</a></li>
<li><a href="#StaticTimingAnalysisforMixedSignalDesigns-GuidelinesforRunningSTAFlowonMixed-SignalDesign">Guidelines for Running STA Flow on Mixed-Signal Design</a></li>
<li><a href="#StaticTimingAnalysisforMixedSignalDesigns-CreatingaQuickTimingModelforAnalogIPsinInnovus">Creating a Quick Timing Model for Analog IPs in Innovus</a></li>
<li><a href="#StaticTimingAnalysisforMixedSignalDesigns-DifferentWaysofRunningassembleDesign">Different Ways of Running assembleDesign</a>
<ul class="toc-indentation">
<li><a href="#StaticTimingAnalysisforMixedSignalDesigns-RunningassembleDesignintheBatchMode">Running assembleDesign in the Batch Mode</a></li>
<li><a href="#StaticTimingAnalysisforMixedSignalDesigns-RunningassembleDesignintheIncrementalMode">Running assembleDesign in the Incremental Mode</a></li>
<li><a href="#StaticTimingAnalysisforMixedSignalDesigns-DifferencesbetweentheBatchandIncrementalModesofassembleDesign">Differences between the Batch and Incremental Modes of assembleDesign</a></li>
<li><a href="#StaticTimingAnalysisforMixedSignalDesigns-RunningassembleDesignwiththe-allTimingBlocksOption">Running assembleDesign with the -allTimingBlocks Option</a></li>
<li><a href="#StaticTimingAnalysisforMixedSignalDesigns-TipsonRunningassembleDesign-allTimingBlocks">Tips on Running assembleDesign -allTimingBlocks</a></li>
<li><a href="#StaticTimingAnalysisforMixedSignalDesigns-CaveatsforandLimitationsofassembleDesign-allTimingBlocks">Caveats for and Limitations of assembleDesign -allTimingBlocks</a></li>
<li><a href="#StaticTimingAnalysisforMixedSignalDesigns-RunningIncrementalassembleDesignwithBlocksthathaveLogicalandPhysicalPowerorGroundPorts">Running Incremental assembleDesign with Blocks that have Logical and Physical Power or Ground Ports</a></li>
<li><a href="#StaticTimingAnalysisforMixedSignalDesigns-PreservingthePowerandGroundPinShapeofBlocksCreatedbyVirtuosoasWiresafterassembleDesign">Preserving the Power and Ground Pin Shape of Blocks Created by Virtuoso as Wires after assembleDesign</a></li>
<li><a href="#StaticTimingAnalysisforMixedSignalDesigns-RunningassembleDesignintheBatchModeandSubsequentlyintheIncrementalMode">Running assembleDesign in the Batch Mode and Subsequently in the Incremental Mode</a></li>
</ul>
</li>
<li><a href="#StaticTimingAnalysisforMixedSignalDesigns-ParasiticRCExtractionforRunningMS-STA">Parasitic RC Extraction for Running MS-STA</a>
<ul class="toc-indentation">
<li><a href="#StaticTimingAnalysisforMixedSignalDesigns-RunningQuantusExtractionwithpostRouteEngineforaRoutedDesign">Running Quantus Extraction with postRoute Engine for a Routed Design</a></li>
<li><a href="#StaticTimingAnalysisforMixedSignalDesigns-RunningQuantusExtractionwithSignoffEffortLevel">Running Quantus Extraction with Signoff Effort Level</a></li>
<li><a href="#StaticTimingAnalysisforMixedSignalDesigns-UsingtheQuantusLayerMapFile">Using the Quantus Layer Map File</a></li>
<li><a href="#StaticTimingAnalysisforMixedSignalDesigns-Auto-creationoftheQuantusLayerMapFilefromInnovus">Auto-creation of the Quantus Layer Map File from Innovus</a></li>
<li><a href="#StaticTimingAnalysisforMixedSignalDesigns-RunningSignoffQuantusExtractionintheOpenAccessMode">Running Signoff Quantus Extraction in the OpenAccess Mode</a></li>
<li><a href="#StaticTimingAnalysisforMixedSignalDesigns-Auto-creationofInputFilesfromInnovusToRunStandaloneQuantusQRC">Auto-creation of Input Files from Innovus To Run Standalone Quantus QRC</a></li>
<li><a href="#StaticTimingAnalysisforMixedSignalDesigns-RunningStandaloneQuantusQRCandLoadingtheResultingSPEFFilesBacktoInnovus">Running Standalone Quantus QRC and Loading the Resulting SPEF Files Back to Innovus</a></li>
</ul>
</li>
<li><a href="#StaticTimingAnalysisforMixedSignalDesigns-TipsforDebuggingtheNoConstrainedTimingPathIssueGeneratedbyreport_timing">Tips for Debugging the No Constrained Timing Path Issue Generated by report_timing</a>
<ul class="toc-indentation">
<li><a href="#StaticTimingAnalysisforMixedSignalDesigns-CaseStudies">Case Studies</a></li>
<li><a href="#StaticTimingAnalysisforMixedSignalDesigns-BasicConditionsforReportingtheTimingonaPath">Basic Conditions for Reporting the Timing on a Path</a></li>
<li><a href="#StaticTimingAnalysisforMixedSignalDesigns-CommonNoConstraintSituations">Common No Constraint Situations</a></li>
<li><a href="#StaticTimingAnalysisforMixedSignalDesigns-CheckingtheValidityofaTimingConstraint">Checking the Validity of a Timing Constraint</a></li>
<li><a href="#StaticTimingAnalysisforMixedSignalDesigns-CheckingtheExistenceofaDesignObjectintheLayout">Checking the Existence of a Design Object in the Layout</a></li>
<li><a href="#StaticTimingAnalysisforMixedSignalDesigns-CommonInvalidTimingPathSituations">Common Invalid Timing Path Situations</a></li>
</ul>
</li>
</ul>
</div>
 </div>
<h2 id="StaticTimingAnalysisforMixedSignalDesigns-Overview"><span style="color: rgb(0,0,0);">Overview</span></h2>

<p>In analog mixed-signal designs, the digital logic is placed inside the analog mixed signal hierarchy and there is a need to accurately analyze the entire digital logic path during full-chip Static Timing Analysis (STA).</p>

<p>Generating dotlib Liberty models of the complete analog mixed-signal (AMS) block is a challenge because the dotlib information needs to be manually generated from extraction and Spice simulation results.</p>

<p>Ignoring the digital paths or stopping the timing analysis at the boundary of an AMS block and leaving large design margins has a direct impact on design performance. A solution is required to make it easy for mixed-signal design teams to execute comprehensive top-level STA that includes the entire digital logic in the chip.</p>

<p>Another challenge is that design methodologies of AMS blocks follow full-custom design flows using the Virtuoso platform, which poses a challenge in extracting a hierarchical netlist as well as parasitic information of all the nets. Therefore, it becomes difficult to analyze the embedded digital logic within the analog design hierarchy.</p>

<p>To address the above challenges, Cadence offers two ways of running STA on Innovus, through the interoperable Open Access database. The first way is to flatten the design to a certain physical level so that the timing paths to be analyzed are visible and extractable by Innovus. Another way is to generate full timing models (FTM) for mixed-signal blocks that contain the timing paths to be analyzed. The FTM contains full logical netlist information and RC parasitic information of the blocks that enables STA to be done in Innovus without providing the physical layout of the blocks. Both ways can be used either in a schematic-driven mixed signal flow or netlist-driven mixed signal flow. There is no need to generate dotlib Liberty models for the entire AMS block.&#160;</p>
<h2 id="StaticTimingAnalysisforMixedSignalDesigns-OpenAccessCompatibilityforMixed-SignalSTAFlow">OpenAccess Compatibility for Mixed-Signal STA Flow</h2>

<p>In many mixed-signal designs, the digital logic exists at various levels of the physical hierarchy. To perform an accurate analysis of such timing paths, the timer requires the digital logic in the lower levels of the hierarchy to be exposed for creation of the complete timing path. The digital tool should be able to trace the logical and the physical connectivity for the entire timing path.&#160;</p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238223.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="MS-STA1.png" data-linked-resource-id="303238223" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238223.png" /></span></p>

<p>To meet this requirement, mixed-signal designs must be created using OpenAccess, which is the underlying database for both Virtuoso and Innovus.</p>

<p>This section focuses on the requirements for interoperability of OpenAccess design objects between Virtuoso and Innovus for mixed-signal Static Timing Analysis (STA).&#160;</p>
<h3 id="StaticTimingAnalysisforMixedSignalDesigns-BasicDesignRequirements">Basic Design Requirements</h3>

<p>The basic guidelines for implementing mixed-signal blocks that will be involved in the STA flow&#160;are:</p>
<h4 id="StaticTimingAnalysisforMixedSignalDesigns-DesignshouldbeVirtuoso-XLcompliant">Design should be Virtuoso-XL compliant&#160;</h4>

<p>The mixed-signal design should be Virtuoso-XL (VXL) compliant to the level in the physical hierarchy that fully contains the timing path in the design.&#160;For example, if there are eight levels of physical hierarchy in the design, but the timing path is from a register at the top level of the design to another register located at the third level of physical hierarchy, VXL compatibility is required only to the third level of the physical hierarchy.&#160;</p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238222.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="OA-MS-STA2.png" data-linked-resource-id="303238222" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238222.png" /></span></p>

<p><strong>Note</strong>: The focus here is only on the hierarchy from the top to the digital block. The hierarchy within the Analog Blocks is not important from the mixed-signal STA flow perspective.</p>

<p>The recommended method would be to create these mixed-signal blocks using Virtuoso-XL.</p>

<p>Use&#160;<em>Connectivity -&gt; Check -&gt; XL Compliance</em>&#160;in VXL to check for mismatches between instances, terminals, and nets. This check reports&#160;the following:</p>
<ul><li>Bound, unbound and un-generated instances</li><li>Connectivity differences in the schematic and layout</li><li>Parameter differences for instances</li><li>Any unbound schematic terminal name which matches a label/text display in the layout to indicate missing layout terminals</li><li>Mosaics in the layout</li><li>Complex bindings for instances</li></ul>
<p>The results for a VXL-compliant design should have everything bound properly:</p>

<p><code>INFO (LX-1501): Check finished:</code> <br /> <code>&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;bound</code> <br /> <code>&#160; terminals &#160; &#160; &#160; &#160; &#160; &#160; 14</code> <br /> <code>&#160; nets &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;66</code> <br /> <code>&#160; instances &#160; &#160; &#160; &#160; &#160; &#160; 46</code></p>
<h4 id="StaticTimingAnalysisforMixedSignalDesigns-Designshouldhavelogicalandphysicalconnectivity">Design should have logical and physical connectivity</h4>

<p>As Innovus is a connectivity-driven tool, it is essential to have logical and &#160;physical connectivity in the Virtuoso layout design that is being loaded in Innovus for analysis. Innovus cannot load the designs that are placed and routed by hand in Virtuoso and have no logical or physical connectivity. In addition,&#160;<code><span class="fontredcadence">assembleDesign</span></code>, which is required in mixed-signal STA flow, generates the following error:</p>

<p><code>% <span class="fontredcadence">assembleDesign</span> -<span class="fontredcadence">block</span> {designLib manualCell layout}</code></p>

<p><code>Reading EMH from OA ...</code></p>

<p><code>**ERROR:
 (IMPOAX-170): Top Module not found for specified design in OA. EMH data
 can not be read from the OA design. Rerun command after correcting the 
OA database.</code></p>

<p><code>**ERROR: (IMPOAX-1149): Error in reading
 netlist from OA block Lib: designLib, Cell: manualCell, View: layout. 
Refer to the errors above.</code></p>

<p><code>**ERROR: (IMPSYT-35001): Error in importing block netlist</code></p>

<p>For the mixed-signal STA flow, we therefore recommend that you create the mixed-signal blocks/IPs using VXL so that they are correct by construction.</p>

<p>If a design has not been implemented in VXL but is LVS clean, you can perform the following for restoring connectivity:</p>
<ul><li>
<p>Use&#160;<em>Connectivity -&gt; Update -&gt; Binding</em>&#160;in VXL to create the binding between the layout and the schematic instances.&#160;It is good to keep the layout and schematic hierarchy in sync.&#160;</p>
</li><li>
<p>Use&#160;<em>Connectivity</em> <em>&#160;-&gt; Define Device Correspondence</em>&#160;to create the mapping manually between the schematic and the layout instances.</p>
</li><li>Use the&#160;<em>Connectivity -&gt; Update -&gt; Extract Layout</em>&#160;option to create the list of nets from scratch. With this option, all islands are extracted in complete mode and opens are computed for all nets.&#160;Nets are created on the top-level instance terminals based on the schematic connections or actual physical shapes overlap in the layout.&#160;It also creates nets on all physically connected top-level routing shapes, vias, and pin figures.</li></ul>
<p>For the mixed-signal STA flow, VXL should not report any opens or shorts for top-level nets when the extraction level is set to 0.&#160;If there are opens, the correct connectivity propagation and RC extraction will not happen in Innovus.&#160;The only exception is for the non-pin shapes on interconnect layers in the layout view that are a part of the pin shapes in the abstract view for the cell.&#160;In this case, even though the VXL extractor shows opens, but since in Innovus, the cell will be bound to the abstract, these will not be actual opens.&#160;For this case, set the extraction level to 1 and turn on the option to allow extraction to unassigned shapes in the Extract Layout options.&#160;</p>

<p><em>Window -&gt; Assistants -&gt; Annotation&#160;Browser</em>&#160;should not show any Opens/Shorts:<br /> <code>INFO (LCE-1009): The cell verifier found no violations</code></p>

<p>In addition, the routing shapes for top-level nets should terminate on top of an instance pin figure for the entire net to be extracted properly.</p>
<h4 id="StaticTimingAnalysisforMixedSignalDesigns-Routingshapesforanetshouldbeatthesamelevel">Routing shapes for a net should be at the same level</h4>

<p>The routing shapes for a net should not be spread across the design hierarchy.&#160;If a net is routed in such a manner that the shapes/vias are at different levels, it will be difficult to figure out the levels to assemble in Innovus to expose the entire path at the top. In addition, it might not be possible to create the correct connectivity.</p>
<div class="pbi_avoid">
<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238185.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="no-opens-at-L1.png" data-linked-resource-id="303238185" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238185.png" width="640" /></span></p>
<p style="margin-left: 120.0px;"><strong>No opens with VXL Extract till level 1</strong></p>
</div>

<p>In this design, the routing shapes at level 1 in Virtuoso-XL are fine and no opens are detected when extraction is run for level 1 in Virtuoso. However, Innovus cannot see the lower level shapes, as shown below, and reports opens.</p>
<div class="pbi_avoid">
<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238214.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="routing-shapes-missing.png" data-linked-resource-id="303238214" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238214.png" width="640" /></span></p>
<p style="margin-left: 210.0px;"><strong>Routing shapes missing in Innovus</strong></p>
</div>
<h4 id="StaticTimingAnalysisforMixedSignalDesigns-Objectnamesshouldmatchnamesinsdcfile">Object names should match names in sdc file</h4>

<p>The names of Layout objects should match with the names in the sdc file.&#160;If the sdc file is generated using the schematic as a reference, make sure that the layout and the schematic names also match.&#160;The layout should be created using the Generate From Source (GFS), Configure Physical Hierarchy (CPH) and the Generate Physical Hierarchy (GPH) commands. Keep the following points in mind to avoid naming mismatches:</p>
<ul><li>Avoid using the create instance and copy commands for adding instances because these are not schematic connectivity aware.&#160;</li><li>Avoid Many-to-Many instance mappings or manually created instance name mappings because these can cause a mismatch in the names.&#160;</li><li>The leading pipe (|) in instance names generated by Virtuoso-XL can cause issues of name mismatch when reading the sdc files.&#160;Specify the following variable in the Virtuoso-XL setup to create instances without the leading pipe (|) character:&#160;<br /> <code>envSetVal(&quot;layoutXL&quot; &quot;prefixLayoutInstNamesWithPipe&quot; &#39;boolean nil)</code></li></ul><h3 id="StaticTimingAnalysisforMixedSignalDesigns-RequirementsforCorrectConnectivityPropagationCorrectConnectivity">Requirements for Correct Connectivity Propagation<span class="confluence-anchor-link" id="StaticTimingAnalysisforMixedSignalDesigns-CorrectConnectivity"></span></h3>

<p>For correct connectivity propagation&#160;in mixed-signal designs, ensure the following:</p>

<p></p>
<h4 id="StaticTimingAnalysisforMixedSignalDesigns-Logicalconnectivity">Logical connectivity</h4>

<p>The nets on the instance terminals should be properly connected for logical connectivity to be propagated.&#160;Mosaics should be avoided in the design because although Innovus creates the instance from the mosaic, <code><span class="fontredcadence">assembleDesign</span></code> does not map the top-level nets to the lower-level mosaic instances.</p>
<h4 id="StaticTimingAnalysisforMixedSignalDesigns-Pinshapecreation">Pin shape creation</h4>

<p>All cells should have shape pins on interconnect layers placed on the cell boundary.</p>

<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238215.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="pinshapecreation.png" data-linked-resource-id="303238215" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238215.png" width="640" /></span></p>

<p>The dot pins used in the design are not understood by Innovus and&#160; <code><span class="fontredcadence">verifyConnectivity</span></code> &#160;reports opens:</p>

<p><code>**ERROR: (IMPOAX-641): Found pin shape of type &#39;Dot&#39; for terminal &#39;clkin&#39;. Only shapes of type RECT or POLYGON or LINE and vias are supported as pin shapes. This shape will be ignored.</code></p>
<h4 id="StaticTimingAnalysisforMixedSignalDesigns-Viaobjectcreation">Via object creation</h4>

<p>OpenAccess via objects should be used and not instances of cells from the library. The create via command should be used to create an OpenAccess via object with a valid viaDef from the technology.&#160;Do not use the create instance command or any cell from the library that acts as a via. If you do so,&#160;VXL and Innovus would not be able to trace through these instances.</p>
<div class="pbi_avoid">
<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238212.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="viaobjectcreation.png" data-linked-resource-id="303238212" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238212.png" /></span></p>
<p style="margin-left: 120.0px;"><strong>Do not use instances instead of via objects</strong></p>
</div>
<h4 id="StaticTimingAnalysisforMixedSignalDesigns-Symbolictyperouting">Symbolic type routing</h4>

<p>Routing should preferably be of type symbolic.&#160;If all the routing is of type geometric,&#160;<code><span class="fontredcadence">extractRC</span></code>&#160;fails and the following error is reported:</p>

<p><code>% <span class="fontredcadence">extractRC</span>: Design must be routed before running <span class="fontredcadence">extractRC</span></code></p>

<p>To prevent such errors, avoid creating paths/rectangles manually. Instead, use the&#160;<em>Create -&gt; Wiring -&gt; Wire/Bus</em>&#160;or the Auto Routing and point-to-point routing&#160;capabilities in Virtuoso to create paths.&#160;</p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238221.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="OA-MS-STA9.png" data-linked-resource-id="303238221" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238221.png" /></span></p>

<p>Note that if you choose&#160;<em>truncate</em>&#160;or&#160;<em>extend</em>&#160;as&#160;begin and end styles, the nets will be&#160;read in as regular nets in Innovus. If you choose&#160;<em>variable</em>&#160;or&#160;<em>custom</em>&#160;as begin and end styles, the nets will be read in as special nets in Innovus.</p>
<h4 id="StaticTimingAnalysisforMixedSignalDesigns-NoMultiPartPathsforbusroutingandshieldingnets">No MultiPart Paths for bus routing and shielding nets</h4>

<p>Avoid the use of MultiPart Paths (MPPs) for bus routing and shielding nets.&#160;Use the&#160;<em>Create -&gt; Wiring -&gt; Bu</em>s feature in Virtuoso for bus routing.&#160;Use the Auto Router for shielding the nets.&#160;If MPPs are used as buses or to shield nets, make sure that the correct net is set on each of the subpart. Note that&#160;MPPs can be used as guard rings because guard rings are not used for timing analysis.</p>

<p><span class="confluence-anchor-link" id="StaticTimingAnalysisforMixedSignalDesigns-ReqOAComp"></span></p>
<h3 id="StaticTimingAnalysisforMixedSignalDesigns-RequirementsforOpenAccessCompatibility">Requirements for OpenAccess Compatibility</h3>

<p>For OpenAccess compatibility, the following requirements must be met.</p>
<h4 id="StaticTimingAnalysisforMixedSignalDesigns-InteroperablePDK">Interoperable PDK</h4>

<p>A basic requirement for OpenAccess compatibility is an interoperable PDK created by the PDK factory team. To set up an interoperable PDK:</p>
<ol><li>Import LEF rules into OA database</li><li>Review/compare LEF and OA technology files</li><li>Merge LEF rules with Virtuoso technology data. The&#160;additional layer definitions come from LEF import, whereas&#160;Virtuoso technology has super set rules.</li><li>Create incremental technology database to include additional data from LEF</li></ol>
<p>For more information on setting up an interoperable PDK, refer to the&#160;<a href="Technology_Data_Preparation.html">Technology Data Preparation</a>&#160;chapter.</p>
<h4 id="StaticTimingAnalysisforMixedSignalDesigns-OpenAccessReferenceLibrariesandCellSetup">OpenAccess Reference Libraries and Cell Setup</h4>

<p>For the implementation of a top-level design, OpenAccess libraries must be available for all the standard cells and macros with an abstract view must be available for each cell. If the abstract is not available while&#160;reading an OpenAccess design, an abstract is created on the fly from the layout (provided it has the prBoundary object and the pins).&#160;The abstract created on the fly contains bare minimum data and allows the flow to continue. However, as such an abstract is not production quality, it should not to be used for production flow.&#160;</p>

<p>For the&#160; <code><span class="fontredcadence">assembleDesign</span></code> &#160;command in Innovus for STA, make sure that the pin count in the layout matches the pin count in the abstracts. In addition, make sure that the pin models are set up properly for the Macros:&#160;</p>
<ul><li>Strongly connected shapes (multiple shapes of one PORT in LEF) indicate that a signal router is allowed to connect to one shape of the PORT, and continue routing from another shape of the same PORT.</li><li>Weakly connected shapes (separate PORTs of the same PIN in LEF) are assumed to be connected through resistive paths inside the MACRO that should not be used by routers. The signal router should connect to one or the other PORT, but not both.</li><li>Mustjoin pins indicate that these are to be connected together by the router outside of the cellview</li></ul><h4 id="StaticTimingAnalysisforMixedSignalDesigns-OpenAccessObjectsinsteadofLPPs">OpenAccess Objects instead of LPPs</h4>

<p>OpenAccess interoperability works on database objects and not layer/purpose pairs (LPPs).&#160;</p>
<ul><li>Blockages should be created as an OpenAccess blockage object and not a shape on a layer/purpose pair:&#160;<ul><li>Use&#160;<em>Create -&gt; P&amp;R Objects -&gt; Blockage</em>&#160;in Virtuoso to create an OpenAccess blockage object.</li></ul></li><li>The cell Boundary should be a prBoundary type object and is needed by Innovus for all cells:<br /><ul><li>Use&#160;<em>Create -&gt; P&amp;R Objects -&gt; P&amp;R Boundary</em>&#160;in Virtuoso to create a prBoundary type object. Otherwise, you will get the following error:<br /> <code>**ERROR: (IMPOAX-815): PRBoundary is not present in OA design. Cannot restore the design from given OA database. Correct the data and retry.</code></li></ul></li><li>Pins must be created as Pin Objects with shapes on interconnect layers and not as shapes with text on top:&#160;<ul><li>Use&#160;<em>Create -&gt; Pin</em>&#160;in Virtuoso and select metal layer as per LDRS to create Pin Objects.&#160;</li></ul></li><li>All metal shapes on any purpose are treated as routing shapes and shorted.</li></ul><h4 id="StaticTimingAnalysisforMixedSignalDesigns-CorrectsigTypeforPinsandNets">Correct sigType for Pins and Nets</h4>

<p>Set the correct sigType for the Power and Ground pins and nets. If not, the following warning is generated:</p>

<p><code>**WARN: (IMPDB-1256): &#160; Power pin VDD of instance DFF7 is connected to non-p/g net vdd_1p2v. &#160;Mark the net as power net and create associated snet</code></p>

<p>The top-level power/ground net should be marked global in Virtuoso in case the assembled block has physical-only power/ground pins. Otherwise, the following error is generated:</p>

<p><code>**ERROR: (IMPOAX-1087): Cannot create instance terminal &#39;VDD&#39; of instance &#8216;DFF7&#39; connecting to net &#8216;vdd_1P2&#39; : A physical-only instTerm cannot connect to a net located in a different occurrence</code></p>

<p>To set the sigType, select the pins in Virtuoso, and then use the Navigator and the property editor widgets.&#160;The proper sigType is needed for marking nets as Analog as well. Nets marked as Analog are ignored by NanoRoute in Innovus.</p>
<h4 id="StaticTimingAnalysisforMixedSignalDesigns-pCellCacheGeneration">pCell Cache Generation</h4>

<p>Generate the pCell cache from Virtuoso before loading the OpenAccess DB into Innovus:</p>
<ol><li>From the Layout in Virtuoso Window, invoke&#160;<em>Tools -&gt; Express Pcell Manager</em>.</li><li>Fill in the directory name to save the pcell cache.</li><li>Select the&#160;<em>Enable Express Pcells</em>&#160;check box.</li><li>Select the&#160;<em>Auto Save</em>&#160;check box.</li><li>Click&#160;<em>Ok</em>.</li></ol>
<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238213.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="OA-MS-STA10.png" data-linked-resource-id="303238213" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238213.png" /></span></p>

<p>This is equivalent to:</p>

<p><code>setenv CDS_ENABLE_EXP_PCELL true</code></p>

<p><code>setenv CDS_EXP_PCELL_DIR ./.expressPcells</code></p>
<h4 id="StaticTimingAnalysisforMixedSignalDesigns-BusOrderingandContinuity">Bus Ordering and Continuity</h4>

<p>Run Verilog Annotate on the cells to set the bus bit information on the cells pins before the data is loaded in Innovus.&#160;This is needed to set the bus terminal information and order on each cell that has bus pins so that the bus connections can be established properly by Innovus. If this not done, the following warning is generated:</p>

<p><code> **WARN: (IMPOAX-252): Found BusBit terminals of bus &#39;i_cnt[1]&#39; of cell &#8216;Design_Top&#39; without bus ordering information in OA library &#8216;designLib&#39;. This may lead to problems during <span class="fontredcadence">saveDesign</span>. It is recommended to run verilogAnnotate on the library for annotating bus ordering information to such terminals.<br /></code></p>

<p>You also need to make sure that the bus indices are continuous. Otherwise, the following warning is generated:</p>

<p><code>**WARN: (IMPDB-2080):&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Non-continuous bus index in cell TESTLV_HIGH_TOP.&#160; Missing pin info between A[31] and A[64]</code></p>

<p><code>**WARN: (IMPDB-2080):&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Non-continuous bus index in cell TESTLV_LOW_TOP.&#160; Missing pin info between A[63] and A[96]</code></p>
<h4 id="StaticTimingAnalysisforMixedSignalDesigns-BusAnnotationSetbyDefault">Bus Annotation Set by Default</h4>

<p>To make sure that the bus annotation is set up by default, enable the option to create implicit inherited terminals while creating the layout in VXL using Generate From Source and Generate Physical Hierarchy (preferred way to design).&#160;verilogAnnotate is not needed for blocks created with Virtuoso-XL and abstract Generator post the 615 ISR16 release because this option has been turned on by default from this release.&#160;For older cells/IPs, you can export a verilog stub from the symbol view of the cell and run the following command for setting the bus terms and bus order correctly:</p>

<p><code>verilogAnnotate -verilog block.v &#8211;refLibs cellsLib -libDefFile cds.lib -refViews &quot;layout abstract&#8220;</code></p>
<h4 id="StaticTimingAnalysisforMixedSignalDesigns-FixedorPlacedPlacementStatus">Fixed or Placed Placement Status</h4>

<p>The placement status for instances and pins should be set as placed or fixed.&#160;</p>

<p>Sample skill to check/set the status:</p>
<ul><li><code>% cv~&gt; instances~&gt; status</code>&#160;- Returns nil for all instances</li><li><code>% cv ~&gt; instances~&gt; status = &#8220;placed&#8221;</code>&#160;- Sets as placed for all instances</li><li><code>% cv ~&gt; terminals~&gt; pins~&gt; status</code>&#160;- Returns nil for all terminals</li><li><code>% cv ~&gt; terminals~&gt; pins~&gt; status = &#8220;placed&#8221;</code>&#160;- Sets placed for all terminals</li></ul>
<p>You can even check or set the status via the property editor.</p>

<p>Innovus&#160;has the following option (on by default) to counter this issue:</p>

<p><code><span class="fontredcadence">setOaxMode</span><span class="fontredcadence"> -instPlacedIfUnknown</span> true</code> &#160;- Sets the status for instances from none/unplaced to <code>placed</code></p>

<p></p>
<h3 id="StaticTimingAnalysisforMixedSignalDesigns-UsefulUtilitiesandInformation">Useful Utilities and Information</h3>
<h4 id="StaticTimingAnalysisforMixedSignalDesigns-UsingOpenAccessMapperforMigration">Using OpenAccess Mapper for Migration</h4>

<p>The OpenAccess Mapper assists to convert the LPP-based shapes to OpenAccess objects and change the layerName for the pins to use the interconnect layers. The OpenAccess Mapper&#160;is available at the following path in your installation:</p>

<p><code> <em>your_Virtuoso_installation</em>/tools/dfII/bin/mapper</code></p>

<p>The syntax for the mapper is as follows:</p>

<p><code>mapper -objectmap&#160;<em>mapFileName</em>&#160;| -map&#160;<em>mapFileName</em>&#160;-lib&#160;<em>libName</em>&#160;[-cells&#160;<em>cellName</em>] [-views&#160;<em>viewName</em>] [-reportallerrors] [-namemap] [-copy]</code></p>

<p>To move the pins to interconnect layers, use LPP-to-LPP mapping (<code>-map</code>&#160;parameter). The sample layer map file syntax is as follows:</p>
<p style="margin-left: 30.0px;"><code>MET1PN drawing MET1 drawing</code></p>

<p>To migrate the boundary/blockage LPP shapes to OpenAccess objects, use object mapping (<code>-objectmap</code>&#160;parameter). The sample object map file syntax is as follows:</p>
<p style="margin-left: 30.0px;"><code>BOUNDARY drawing boundary pr</code></p>
<p style="margin-left: 30.0px;"><code>MET1 obs blockage route</code></p>
<p style="margin-left: 30.0px;"><code>MET1 dbk blockage fill</code>&#160;</p>

<p>For more information about the OpenAccess Mapper utility, refer to the chapter &quot;<em>Post-Processing of the Translated Data</em>&quot; of the cdboa.pdf document at&#160;<code>
 <em>your_Virtuoso_installation</em>/doc/cdboa/cdboa.pdf</code>.&#160;</p>
<h4 id="StaticTimingAnalysisforMixedSignalDesigns-UsingGDSflowforSettingUpLayer/ObjectMapFiles">Using GDS flow for Setting Up Layer/Object Map Files</h4>

<p>The following are samples of the Virtuoso stream out layer and object map files which can be useful in the OpenAccess flow:</p>
<ul><li>Layer mapping for pin shapes: Assume there are pin shapes and some regular shapes on the same LPP (M4 drawing):<ul><li>If the layer map is &quot;<code>M4 drawing 8 1</code>&quot;:<br />All shapes on&#160;<code>M4 drawing</code>&#160;data will go on the stream layer purpose &lt;<code>8:1</code>&gt;.&#160;</li><li>If the layer map is &quot;<code>M4 drawing 7 1 pin</code>&quot;:<br />All pin shapes on&#160;<code>M4 drawing</code>&#160;will go on the stream layer purpose &lt;<code>7:1</code>&gt;.</li></ul></li><li>Object mapping for blockages or boundary: A sample object map file for stream out is as follows:<br /> <code>Boundary PR&#160; 1 1</code> <br /> <code>layerBlockage routing MET1 2 2 (for &#8220;MET obs&#8221; lpp)</code> <br /> <code>layerBlockage fill MET1 3 3 (for &#8220;MET dbk&#8221; lpp)</code></li></ul>
<p>For more information, refer to the Virtuoso <code>streamOut</code> document available at&#160;<code>$CDSHOME/ doc/transrefOA/transrefOA.pdf</code>.</p>
<h4 id="StaticTimingAnalysisforMixedSignalDesigns-UsingOpenAccessDatabaseCheckerforVerification">Using OpenAccess Database Checker for Verification</h4>

<p>The OpenAccess Database Checker (OA DB Checker) allows you make various checks for the technology and design setup to achieve OpenAccess interoperability between Virtuoso and Innovus.&#160;It is a SKILL file located in the Innovus hierarchy. To<span>&#160;use this checker, load the SKILL file in Virtuoso and then Invoke&#160;</span> <em>CIW -&gt; Tools -&gt; OA DB Checker</em><span>.</span></p>

<p>Broadly, the OA DB Checker allows you to check for the following:</p>
<ul><li>Technology setup, such as constraint groups and so on</li><li>Design objects and OpenAccess compliance, such as prBoundary</li><li>Setup required for interoperability like pcell cache and bus annotation</li><li>Design constraints</li></ul>
<p>For more information about this utility, refer to the&#160;<a href="OpenAccess_Database_Interoperability_Checker.html">OpenAccess Database Interoperability Checker</a>&#160;chapter.</p>

<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238206.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="static1.png" data-linked-resource-id="303238206" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238206.png" width="400" /></span></p>

<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238203.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="static2.png" data-linked-resource-id="303238203" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238203.png" width="450" /></span></p>

<p>In the above example, the top-level design is implemented in Virtuoso using a schematic for top level. It can be brought over to Innovus through the OpenAccess database to run timing analysis between digital logic of AMS block and digital P&amp;R block.&#160;</p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238245.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="static3.png" data-linked-resource-id="303238245" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238245.png" /></span></p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238204.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="static4.png" data-linked-resource-id="303238204" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238204.png" /></span></p>

<p>The above example shows the case where the top level is implemented in Innovus through a Verilog netlist. After the physical layout is implemented, it is possible to perform timing analysis on the timing paths between the digital logic at the top physical level and the digital logic at the lower physical level of the AMS block.</p>
<h2 id="StaticTimingAnalysisforMixedSignalDesigns-HandlingSchematic-DrivenDesignsImplementedUsingaNon-InteroperablePDK">Handling Schematic-Driven Designs Implemented Using a Non-Interoperable PDK</h2>

<p>As mentioned earlier in the <a href="#StaticTimingAnalysisforMixedSignalDesigns-ReqOAComp">Requirements for OpenAccess Compatibility</a> section, an Interoperable PDK is required to provide an interoperable technology library for the design. For schematic-driven designs, it is possible that the designs were already implemented based on a non-interoperable (or a non-MSOA) PDK long before the interoperable PDK was available. This section discusses what can be done to run static timing analysis in such a situation without making significant changes. Note that the interoperable PDK is still needed but some steps are needed to re-reference the top-level design, or a copy of the top-level design, to the interoperable PDK.</p>
<h3 id="StaticTimingAnalysisforMixedSignalDesigns-CheckingtheTechnologyDatabaseGraphofaSpecificDesignLibraryChekTek">Checking the Technology Database Graph of a Specific Design Library <span class="confluence-anchor-link" id="StaticTimingAnalysisforMixedSignalDesigns-ChekTek"></span></h3>

<p>To check the technology library to which the design is referenced or attached, you can run either Virtuoso or Innovus:</p>
<h4 id="StaticTimingAnalysisforMixedSignalDesigns-CheckinginVirtuoso">Checking in Virtuoso</h4>

<p>For Virtuoso, use the Technology Tool Box that can be invoked from the Command Interface Window (CIW). To check the technology library of a specific design library, perform the following steps:</p>
<ol><li>
<p>In the CIW, select <em>Tools -&gt; Technology File Manager</em> to invoke the Technology Tool Box.<br /> <br /> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238243.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="tech_menu.png" data-linked-resource-id="303238243" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238243.png" /></span></p>
</li><li>In the Technology Tool Box, click the <em>Graph</em> button to invoke the Technology Database Graph form.<br /> <br /> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238242.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="tech_form.png" data-linked-resource-id="303238242" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238242.png" /></span></li><li>In the Technology Database Graph form, click the <em>Library</em> drop-down list to select the design library to be verified.<br /> <br /> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238241.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="tech_graph.png" data-linked-resource-id="303238241" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238241.png" /></span> <br /> <br /> In this example, <code>zambezi45</code> is selected. The Technology Database graph form shows that the design library, <code>zambezi45</code> is attached to the &#160; <code>gpdk045_nonmsoa</code> technology library. Note that the <code>gpdk045_nonmsoa</code> technology library is not interoperable (that is,it is non-MSOA).</li></ol><h4 id="StaticTimingAnalysisforMixedSignalDesigns-CheckinginInnovus">Checking in Innovus</h4>

<p>Alternatively, you can determine the tehcnology library in Innovus by using the <code>report_oa_lib</code> command with the <code>-filter tech_graph</code> option.</p>

<p>For the same example as above, the command will be&quot;</p>

<p><code>&gt; report_oa_lib zambezi45 -filter tech_graph</code></p>

<p>Innouvs will report the following in the log file:</p>

<p><code>Technology Graph:</code></p>

<p><code>&#160;&#160;&#160;&#160;&#160;&#160;&#160; Zambezi45</code></p>

<p><code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; gpdk045_nonmsoa (attached)</code></p>
<h3 id="StaticTimingAnalysisforMixedSignalDesigns-OpeningaDesignAttachedtoaNon-InteroperablePDKinInnovus">Opening a Design Attached to a Non-Interoperable PDK in Innovus</h3>

<p>When a non-interoperable PDK-based design is loaded in Innovus, the tool may issue some error messages.</p>

<p>For example, assume that the top-level design is the layout view of cell <code>LP_pll</code> from the <code>zambezi45</code> library, and a script containing the following commands is run to load the design cellview into Innovus:</p>

<p><span class="fontredcadence">
<p><code>set init_design_netlisttype {OA}</code></p>

<p><code>set init_oa_design_lib {zambezi45}</code></p>

<p><code>set init_oa_design_cell {LP_pll}</code></p>

<p><code>set init_oa_design_view {layout}</code></p>

<p><code>set init_oa_ref_lib {gsclib045}</code></p>

<p><code>set init_mmmc_file {scripts/LP_pll.viewDefinition.tcl}</code></p>

<p><code>init_design</code></p>

<p>Here, assume that <code>gsclib045</code> is the MSOA technology library that is based on an interoperable PDK ITDB. Now, although <code>gsclib045</code> is specified with <code>init_oa_ref_lib</code>, but as the <code>zambezi45 </code>design is based on <code>gpdk045_nonmsoa</code> library, Innovus will still read the technology information from <code>gpdk045_nonmsoa</code>.</p>
</span></p>

<p>Innovus may issue error messages, such as the following:</p>

<p><code>Reading tech data from OA library &#39;zambezi45&#39; ...</code></p>

<p><span>...</span></p>

<p><code>**ERROR: (IMPOAX-1304): Base constraint group name &#39;LEFDefaultRouteSpec&#39; for reading all the rules is not found. Provide one or change the base constraint group using &#39;set init_oa_default_rule &lt;name&gt;&#39; and read the OA database again.</code></p>

<p><code>**ERROR: (IMPSYT-6692): Invalid return code while executing &#39;run.tcl&#39; was returned and script processing was stopped. Review the following error in &#39;f1.tcl&#39; then restart.</code></p>

<p><code>**ERROR: (IMPSYT-6693): Error message: run.tcl: **ERROR: (IMPSYT-16006): Fail to read LEF information from OA reference libraries. Check the OA database provided and your inputs</code>.</p>
<h3 id="StaticTimingAnalysisforMixedSignalDesigns-WaysToSwitchaDesignLibraryfromaNon-InteroperabletoanInteroperablePDK">Ways To Switch a Design Library from a Non-Interoperable to an Interoperable PDK</h3>

<p>The loading of the design requires the technology library to be based on an interoperable PDK. You can resolve the above issue, without having to re-implement the design, by following either of the two approaches described below:</p>
<h4 id="StaticTimingAnalysisforMixedSignalDesigns-Re-ReferencingtheDesignLibrarytoanInteroperablePDK">Re-Referencing the Design Library to an Interoperable PDK</h4>

<p>Assume that the interoperable PDK is an ITDB with the following hierarchy:</p>

<p><code>gsclib045</code> (second level) =&gt; <code>gpdk045_msoa</code> (base level)</p>

<p>If the original design is attached to a non-MSOA PDK, the <code>update_oa_lib</code> command in Innovus can be used to switch the kind of relationship from &#8220;Attach&#8221; to &#8220;Reference&#8221;:</p>

<p>For example, to switch the <code>zambezi45 </code>design library to reference to the <code>gsclib045</code> library, perform the following steps:</p>
<ol><li>
<p>Run the following command in Innovus:<br /> <code>update_oa_lib -tech_attach_to_reference zambezi45</code> <br />Upon completion, Innovus issues a message similar to the following: <br /> <code>Successfully converted the library &#39;zambezi45&#39; to use a tech reference from the attached tech.</code></p>
</li><li>
<p>In Virtuoso, in the CIW, select <em>Tools -&gt; Technology File Manager</em> to invoke the Technology Tool Box.<br /> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238243.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="tech_menu.png" data-linked-resource-id="303238243" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238243.png" /></span></p>
</li><li>
<p>In the Technology Tool Box, click the <em>Set Reference</em> button to open the Referencing Existing Technology Libraries form.</p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238242.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="tech_form.png" data-linked-resource-id="303238242" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238242.png" /></span></p>
</li><li>From the <em>Library</em> drop-down list in the Referencing Existing Technology Libraries form, select the zambezi45 library:<br /> <span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238240.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="ref1.png" data-linked-resource-id="303238240" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238240.png" width="400" /></span></li><li>
<p>Select <code>gpdk045_nonmsoa</code> in the <em>Reference Technology Libraries</em> list and click the <strong>&lt;-</strong> button so that it is no longer the reference library. Then, select <code>gsclib045</code> in the <em>Technology Libraries</em> list and click the<strong> -&gt;</strong> button so that it appears under the <em>Reference Technology Libraries</em> list as shown below:<br /> <br /> <span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238239.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="ref2.png" data-linked-resource-id="303238239" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238239.png" width="400" /></span></p>
</li><li>Click the <em>OK</em> button to commit the changes.</li><li>
<p>Now, verify the technology graph of the design library by performing the steps described in the <a href="#StaticTimingAnalysisforMixedSignalDesigns-ChekTek">Checking the Technology Database Graph of a Specific Design Library</a> section.<br /> <br /> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238238.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="ref3.png" data-linked-resource-id="303238238" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238238.png" /></span> <br />Note that the <code>zambezi45 </code> design library now references the <code>gsclib045</code> library.</p>
</li></ol><h4 id="StaticTimingAnalysisforMixedSignalDesigns-CopyingtheTop-LevelCellviewtoaNew,InteroperablePDK-BasedDesignLibrary">Copying the Top-Level Cellview to a New, Interoperable PDK-Based Design Library</h4>

<p>The second approach is to create a new design library that is based on the interoperable PDK and copy the top-level cellview to this new design library. Note that only the top-level cellview is to be copied; copying of the cellviews of lower levels are not required. Then, load the top-level cell view from the new design library into Innovus for timing analysis:</p>
<ol><li>In the Library Manager, select <em>File -&gt; New -&gt; Library</em> to open the New Library form. Then, specify a new design library name, such as <code>zambezi45_msoa</code> and click the <em>OK</em> button.<br /> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238237.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="newdesignlib1.png" data-linked-resource-id="303238237" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238237.png" /></span></li><li>In the Technology File for New Library form, select the <em>Reference existing technology libraries</em> option and click the <em>OK</em> button.<br /> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238236.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="newdesignlib2.PNG" data-linked-resource-id="303238236" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238236.png" /></span></li><li>In the Reference Existing Technology Librariesform, scroll to the desired MSOA library (for e.g. <code>gsclib045</code>), select it and click the <strong>-&gt;</strong> button to move it to the <em>Reference Technology Libraries</em> list.<br /> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238235.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="newdesignlib3.png" data-linked-resource-id="303238235" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238235.png" /></span></li><li>Click the <em>OK</em> button to commit the change.<br /> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238234.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="newdesignlib4.PNG" data-linked-resource-id="303238234" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238234.png" /></span></li><li>In the Library Manager, select the top-level cellview of the original design library and choose <em>Copy.</em> <br /> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238233.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="copy1.png" data-linked-resource-id="303238233" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238233.png" /></span></li><li>
<p>In the Copy View form, select <em>Zambezi45_msoa</em> from the <em>Library</em> drop-down list in the <em>To</em> section. Keep the <em>Cell</em> and <em>View</em> names in the <em>To</em> section the same as that in the From section. Click <em>OK</em> to commit the copy.<br /> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238232.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="copy2.PNG" data-linked-resource-id="303238232" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238232.png" /></span></p>
</li><li>
<p>Load this cellview <code>zambezi45_msoa LP_pll layout</code> into Innovus to run the static timing analysis flow:</p>

<p><span class="fontredcadence">
<p><code>set init_design_netlisttype {OA}</code> <br /><code>set init_oa_design_lib {zambezi45_msoa}</code> <br /><code>set init_oa_design_cell {LP_pll}</code> <br /><code>set init_oa_design_view {layout}</code> <br /><code>set init_oa_ref_lib {gsclib045}</code> <br /><code>set init_mmmc_file {scripts/LP_pll.viewDefinition.tcl}</code> <br /><code>init_design</code></p>
</span></p>

<p></p>
</li></ol><h2 id="StaticTimingAnalysisforMixedSignalDesigns-RunningSTAbyFlatteningtheDesign">Running STA by Flattening the Design</h2>

<p>In this method, the Innovus command <code><span class="fontredcadence">assembleDesign</span></code> is used to flatten the physical hierarchy to bring the instances and wires at the lower physical level to the top for parasitic extraction and timing analysis.</p>

<p>Note that the physical hierarchy of the design is flattened only to enable static timing analysis. It does not alter the physical structure of the design in any way.</p>
<p align="left"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238230.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="static5.png" data-linked-resource-id="303238230" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238230.png" /></span></p>

<p>To time a path between registers inside a digital P&amp;R block and an AMS block, the following shows the flow diagram of running STA using the flatten approach on a top-level, schematic-driven design.&#160;</p>

<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238231.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="static6.png" data-linked-resource-id="303238231" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238231.png" width="500" /></span> </p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238216.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="static7.png" data-linked-resource-id="303238216" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238216.png" /></span></p>

<p>For a netlist-driven, top-level design, the following shows the flow diagram of running STA on the timing paths between the register at the top and the register inside the AMS block using the flatten approach.&#160;</p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238200.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="static8.png" data-linked-resource-id="303238200" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238200.png" /></span> </p>
<h3 id="StaticTimingAnalysisforMixedSignalDesigns-StepsforRunningSTAUsingtheFlattenApproach">Steps for Running STA Using the Flatten Approach</h3>

<p>You can run STA on your design using the following steps:</p>
<ol><li>Load the top-level design</li><li>Flatten the blocks</li><li>Load and commit power intent, if necessary</li><li>Specify Parasitic Extraction options</li><li>Run static timing analysis</li></ol><h4 id="StaticTimingAnalysisforMixedSignalDesigns-Loadthetop-leveldesign">Load the top-level design</h4>

<p>If the top-level design is originally a schematic-driven design implemented by Virtuoso, the <code>init_design</code>&#160;command should be used to load the OpenAccess design:</p>

<p><span class="fontredcadence">
<p><code>set init_design_netlisttype {OA}</code> <br /><code>set init_oa_design_lib {mylib}</code> <br /><code>set init_oa_design_cell {top}</code> <br /><code>set init_oa_design_view {layout}</code> <br /><code>set init_oa_ref_lib {gsclib045}</code> <br /><code>set init_pwr_net {VDD AVDD}</code> <br /><code>set init_gnd_net {GND AGND}</code> <br /><code>set init_mmmc_file {viewDefinition.tcl}</code> <br /><code>init_design</code></p>

<p>For a top-level design that is netlist-driven, <code>init_design</code> can be used to start the place and route flow. The&#160;following example shows how to specify the init global variables.</p>

<p><code>set init_design_netlisttype {Verilog}</code> <br /><code>set init_verilog {top.v}</code> <br /><code>set init_oa_ref_lib {gsclib045}</code> <br /><code>set init_pwr_net {VDD AVDD}</code> <br /><code>set init_gnd_net {GND AGND}</code> <br /><code>set init_mmmc_file {viewDefinition.tcl}</code> <br /><code>init_design</code></p>

<p>If the design is saved by Innovus into a cellview,&#160;<code>restoreDesign</code> can be used to retrieve the OpenAccess database.</p>

<p><strong>Note</strong>:<strong>&#160;</strong>Innovus uses the following order of precedence to determine which technology library to use:</p>
<ol><li><em> <code>lib</code>&#160;</em> from <code>restoreDesign -cellview &quot;<em>lib cell view</em>&quot;</code></li><li>Library specified with <code>init_oa_design_lib</code></li><li>The first library specified in the <code>init_oa_ref_lib</code> list</li></ol>
<p>Therefore, when using an OpenAccess cellview as the design, the tech lib always comes from the&#160;design library that contains the cellview. In this case, the <code>init_oa_ref_lib</code> list is used only&#160;for loading cells and not for technology information. The first lib in the <code>init_oa_ref_lib</code> list&#160;is used for technology information only when the design is read from a Verilog netlist.</p>
</span></p>
<h4 id="StaticTimingAnalysisforMixedSignalDesigns-Flattentheblocks">Flatten&#160;the&#160;blocks</h4>

<p>For the top-level, schematic-driven design shown below, the two blocks can be flattened by running the&#160;following commands:</p>

<p><code><span class="fontredcadence">assembleDesign</span> <span class="fontredcadence">-block</span> {mylib B layout} <span class="fontredcadence">-block</span> {mylib C layout}</code></p>

<p><code><span class="fontredcadence">assembleDesign</span> <span class="fontredcadence">-block</span> {mylib D layout}</code></p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238208.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="static9.png" data-linked-resource-id="303238208" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238208.png" /></span></p>

<p>Similarly, to flatten an AMS block that has digital logic one level below the top, the following Tcl command can be run:</p>

<p><code><span class="fontredcadence">assembleDesign</span> <span class="fontredcadence">-block</span> {mylib B layout}</code></p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238216.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="static7.png" data-linked-resource-id="303238216" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238216.png" /></span></p>

<p><strong>Note</strong>: In the above example, <code><span class="fontredcadence">assembleDesign</span></code> is run in the incremental mode. You can also run <code><span class="fontredcadence">assembleDesign</span></code> in the batch mode. Refer to the section &quot;<em>Different Ways of Running assembleDesig</em>n&quot; for details.</p>
<h4 id="StaticTimingAnalysisforMixedSignalDesigns-Loadandcommitpowerintentifnecessary">Load and commit power intent if necessary</h4>

<p>This step is required only when the digital logic to be timed belongs to more than one power domain. In such a situation, you have to load and commit the Common Power Format (CPF) file because the CPF file provides information about the instance&#39;s power domain. It is possible that two instances placed in different power domains are of the same cell type (same physical design). However, when the instances are placed in different power domains with connections to different power signals (for example, one is dvdd and the other is VDDsw), a CPF file is necessary to let&#160;Innovus know which timing library set should be used for these two instances.</p>

<p>An example of the Tcl script for this step is:</p>

<p><code> read_power_intent -cpf&#160;<em>top_design_flat.cpf</em>
</code></p>

<p><code> commit_power_intent&#160;-<span class="fontredcadence">keepRows</span></code></p>

<p>The main purpose of specifying <code>-<span class="fontredcadence">keepRows</span></code> is to instruct Innovus to keep the rows of the digital P&amp;R block (if present). It is recommended to use this option for <code>commit_power_intent</code> in hierarchical flow (after <code><span class="fontredcadence">assembleDesign</span></code>&#160;is used). If the <code>-<span class="fontredcadence">keepRows</span></code> option is not specified, <code>commit_power_intent</code>&#160;removes the existing rows by default and recreates them. If the rows of the assembled block are not aligned with the rows at the top, the newly created rows will be misaligned with the instances that are brought to the top from the P&amp;R block.</p>
<h4 id="StaticTimingAnalysisforMixedSignalDesigns-Specifyparasiticextractionoptions">Specify parasitic extraction options</h4>

<p>Typically, when the design is already routed, the extraction engine should be set to the <code><span class="fontredcadence">postRoute</span></code>&#160;mode to enable detailed extraction of the wires and to report coupling.</p>

<p><code><span class="fontredcadence">setExtractRCMode</span><span class="fontredcadence"> -engine</span> <span class="fontredcadence">postRoute</span></code></p>

<p>For accuracy, you can use the correct extraction engine setting to use standalone Quantus or Integrated Quantus (IQuantus) from Innovus.&#160;To invoke the IQuantus&#160;extraction engine,</p>

<p><code><span class="fontredcadence">setExtractRCMode</span><span class="fontredcadence"> -effortLevel</span> high</code></p>

<p>To invoke the standalone Quantus extraction engine, use the signoff option and provide a layer-mapping file between the Quantus technology file and the technology library used in Innovus.</p>

<p><code><span class="fontredcadence">setExtractRCMode</span><span class="fontredcadence"> -effortLevel</span> signoff</code></p>

<p><code><span class="fontredcadence">setExtractRCMode</span><span class="fontredcadence"> -lefTechFileMap</span>&#160;Quantus_LEF.layermap_10lm.oxide</code></p>
<h4 id="StaticTimingAnalysisforMixedSignalDesigns-Runtiminganalysis">Run timing analysis</h4>

<p>To run timing analysis, use:</p>

<p><code>report_timing</code></p>

<p>or</p>

<p><code><span class="fontredcadence">timeDesign</span> -<span class="fontredcadence">postRoute</span></code></p>

<p>The above commands will automatically run parasitic extraction before analyzing the timing path, if the tool has not performed parasitic extraction earlier.</p>

<p></p>

<p> <span class="confluence-anchor-link" id="StaticTimingAnalysisforMixedSignalDesigns-STAwithFTM"></span></p>
<h2 id="StaticTimingAnalysisforMixedSignalDesigns-RunningSTAbyUsingtheFTM">Running STA by Using the FTM</h2>

<p>The process of running STA by using the FTM can be divided into two main tasks:</p>
<ul><li><a href="#StaticTimingAnalysisforMixedSignalDesigns-genFTM">Generating the FTM for each block</a></li><li><a href="#StaticTimingAnalysisforMixedSignalDesigns-runSTAwithFTM">Running STA on your top-level design with the FTM of blocks</a></li></ul>
<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238209.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="static10.png" data-linked-resource-id="303238209" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238209.png" /></span></p>

<p>The following shows the flow diagram of running STA using the FTM approach on a top-level schematic-driven design.&#160;</p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238201.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="static11.png" data-linked-resource-id="303238201" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238201.png" /></span></p>

<p></p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238219.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="static12.png" data-linked-resource-id="303238219" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238219.png" /></span></p>

<p>The following diagram depicts the flow for running STA using the FTM approach on a top-level netlist-driven design.&#160;</p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238202.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="static13.png" data-linked-resource-id="303238202" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238202.png" /></span> </p>
<h3 id="StaticTimingAnalysisforMixedSignalDesigns-GeneratingtheFTMforEachBlockgenFTM">Generating the FTM for Each Block<span class="confluence-anchor-link" id="StaticTimingAnalysisforMixedSignalDesigns-genFTM"></span></h3>

<p>You can generate the FTM for your blocks using the following steps:</p>
<ol><li>Load the block design.</li><li>Flatten sub-blocks, if necessary.</li><li>Load and commit power intent, if necessary.</li><li>Specify the parasitic extraction options.</li><li>Create and save the FTM.</li></ol><h4 id="StaticTimingAnalysisforMixedSignalDesigns-Loadtheblockdesign">Load the block design</h4>

<p>If the block design is implemented using Innovus, <code><span class="fontredcadence">restoreDesign</span></code> can be used to load the design. If the block design is originally a schematic-driven design implemented by Virtuoso, the <code> init_design</code> command should be used to load the OpenAccess design. For example, to create the FTM block for block B below, run <code>init_design</code> with the following:</p>

<p><span class="fontredcadence">
<p><code>set init_design_netlisttype {OA}</code></p>

<p><code>set init_oa_design_lib {mylib}</code></p>

<p><code>set init_oa_design_cell {B}</code></p>

<p><code>set init_oa_design_view {layout}</code></p>

<p><code>set init_oa_ref_lib {gsclib045}</code></p>

<p><code>set init_pwr_net {VDD AVDD}</code></p>

<p><code>set init_gnd_net {GND AGND}</code></p>

<p><code>set init_mmmc_file {viewDefinition.tcl}</code></p>

<p><code>init_design</code></p>
</span></p>

<p><br /> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238246.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="static14.png" data-linked-resource-id="303238246" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238246.png" /></span></p>
<h4 id="StaticTimingAnalysisforMixedSignalDesigns-Flattensub-blocksifnecessary">Flatten sub-blocks if necessary</h4>

<p>For the example shown above, because the logic instances to be timed are at a lower level (in the sub-block C), it is necessary to flatten the sub-block using <code><span class="fontredcadence">assembleDesign</span></code>.</p>

<p><code><span class="fontredcadence">assembleDesign</span><span class="fontredcadence"> -block</span> {<em>mylib</em> C <em>layout</em>}</code></p>
<h4 id="StaticTimingAnalysisforMixedSignalDesigns-Loadandcommitpowerintentifnecessary.1">Load and commit power intent if necessary</h4>

<p>If the block is a low power design, load and commit the CPF file. For example: &#160;</p>

<p><code><span>read_power_intent -cpf</span>&#160;block_flat.cpf</code></p>

<p><code>commit_power_intent&#160;-<span class="fontredcadence">keepRows</span></code></p>
<h4 id="StaticTimingAnalysisforMixedSignalDesigns-Specifytheparasiticextractionoptions">Specify the parasitic extraction options</h4>

<p>Typically, when the design is already routed, the extraction engine should be set to the <span class="fontredcadence">postRoute</span> mode to enable detailed extraction of the wires and report coupling.</p>

<p><code><span class="fontredcadence">setExtractRCMode</span><span class="fontredcadence"> -engine</span> <span class="fontredcadence">postRoute</span></code></p>

<p>For accuracy, you can use the correct extraction engine setting to use standalone Quantus or IQuantus from Innovus.</p>

<p>To invoke the IQuantus extraction engine, use the following command:</p>

<p><code><span class="fontredcadence">setExtractRCMode</span><span class="fontredcadence"> -effortLevel</span> high</code></p>

<p></p>
<h4 id="StaticTimingAnalysisforMixedSignalDesigns-CreateandsavetheFTM">Create and save the FTM</h4>

<p>To create the FTM, use the <code><span class="fontredcadence">createInterfaceLogic</span></code> command with the <code><span class="fontredcadence">-keepAll</span></code><span> option </span>to keep the full Verilog netlist. This will ensure that there is no trimming of any logic. This command will run RC extraction and save the RC parasitic information and netlist along with the cell view location specified by the <code><span class="fontredcadence">-cellview</span></code> option.</p>

<p><code><span class="fontredcadence">createInterfaceLogic</span> <span class="fontredcadence">-cellview</span> {mylib B layout} <span class="fontredcadence">-keepAll</span></code></p>

<p><strong>Note</strong>: The saved FTM data will be used in top-level analysis and the library, cell, and view name will be used to help the tool determine the location of the FTM data.</p>

<p></p>

<p><span class="confluence-anchor-link" id="StaticTimingAnalysisforMixedSignalDesigns-runSTAwithFTM"></span></p>
<h3 id="StaticTimingAnalysisforMixedSignalDesigns-RunningSTAonTop-levelDesignwithFTMofBlocks">Running STA on Top-level Design with FTM of Blocks</h3>

<p>You can run STA on your design with the FTM of blocks using the following steps:</p>
<ol><li>Load the top-level design</li><li>Specify FTM blocks</li><li>Switch to the ILM view</li><li>Load and commit power intent, if necessary</li><li>Specify parasitic extraction options</li><li>Run timing analysis</li></ol><h4 id="StaticTimingAnalysisforMixedSignalDesigns-Loadthetop-leveldesign.1">Load the top-level design</h4>

<p>If the top-level design is originally a schematic-driven design implemented by Virtuoso, the<code> init_design</code> command should be used to load the OpenAccess design:</p>

<p><span class="fontredcadence">
<p><code>set init_design_netlisttype {OA}</code></p>

<p><code>set init_oa_design_lib {mylib}</code></p>

<p><code>set init_oa_design_cell {top}</code></p>

<p><code>set init_oa_design_view {layout}</code></p>

<p><code>set init_oa_ref_lib {gsclib045}</code></p>

<p><code>set init_pwr_net {VDD AVDD}</code></p>

<p><code>set init_gnd_net {GND AGND}</code></p>

<p><code>set init_mmmc_file {viewDefinition.tcl}</code></p>

<p><code>init_design</code></p>

<p>For a top-level design that is netlist-driven, <code>init_design</code> can be used to start the place and route flow. The following example shows how to specify the global <code>init</code> variables.</p>

<p><code>set init_design_netlisttype {verilog}</code></p>

<p><code>set init_design_netlisttype {top.v}</code></p>

<p><code>set init_oa_ref_lib {gsclib045}</code></p>

<p><code>set init_pwr_net {VDD AVDD}</code></p>

<p><code>set init_gnd_net {GND AGND}</code></p>

<p><code>set init_mmmc_file {viewDefinition.tcl}</code></p>

<p><code>init_design</code></p>

<p>If the design is saved by Innovus into a cellview, <code>restoreDesign</code> can be used to retrieve the OpenAccess database.</p>
</span></p>

<p><strong>Notes</strong>:</p>
<ol><li>The timing constraint file(s) used for FTM analysis should be a &quot;flat&quot; type constraint file that contains the constraints for the top design and instances inside the block. The top-design-only timing constraint file that constrains till to the boundary of the block should not be used for FTM analysis.</li><li>For timing analysis done with FTM blocks, the timing constraint file must be specified using the&#160;<code>-ilm_sdc_files</code> option, whether it is for the&#160;<code>create_constraint_mode</code> statement in <code>viewDefinition.tcl,</code> or for the&#160;<code>update_constraint_mode,</code> which is an interactive command.</li></ol>
<p>For example, in the <code>viewDefinition.tcl</code> loaded into the top-level global file, the timing constraint file to be used for FTM analysis, <code>top_flat.sdc</code> is specified as follows:</p>

<p><code>create_constraint_mode -name mode1\</code></p>

<p><code>&#160;-sdc_files&#160;[list ../DATA/top.sdc]&#160;-ilm_sdc_files {../DATA/top_flat.sdc}</code></p>

<p>If the <code>-ilm_sdc_files</code> option of <code>create_constraint_mode</code> in the<code> viewDefinition.tcl</code> is not specified, you can run <code>update_constraint_mode</code> after <code>init_design</code> as follows:</p>

<p><code>update_constraint_mode -name mode1 -ilm_sdc_files {../DATA/top_flat.sdc}</code></p>
<h4 id="StaticTimingAnalysisforMixedSignalDesigns-SpecifyFTMblocks">Specify FTM blocks</h4>

<p>This step is to specify the FTM location for each block to be read as FTM.</p>

<p><code><span class="fontredcadence">specifyIlm</span> <span class="fontredcadence">-cellview</span> {myLib A layout}</code></p>

<p><code><span class="fontredcadence">specifyIlm</span> <span class="fontredcadence">-cellview</span> {myLib B layout}</code></p>

<p>By using the <code><span class="fontredcadence">-cellview</span></code> option of <code><span class="fontredcadence">specifyIlm</span></code>, the tool is able to find the OpenAccess path based on the cds.lib in the current working directory.</p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238207.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="static15.png" data-linked-resource-id="303238207" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238207.png" /></span></p>

<p><strong>Note</strong>: If the FTM approach is used for the above example, only one&#160;<code><span class="fontredcadence">assembleDesign</span></code>&#160;is done to flatten sub-block C when generating the FTM for block B. In the flat approach, after the top-level design is loaded into Innovus, block A and block B have to be flattened using&#160;<code><span class="fontredcadence">assembleDesign</span>,</code>&#160;while in the FTM approach, they are only specified as FTM blocks (no flattening is done.)</p>
<h4 id="StaticTimingAnalysisforMixedSignalDesigns-SwitchtotheILMview">Switch to the ILM view</h4>

<p>Switch to the ILM view by running the following command:</p>

<p><code><span class="fontredcadence">flattenIlm</span></code></p>

<p>While this command is being run, Innovus reads in the logical netlist and parasitic information of each FTM block. After the command completes running, the tool issues the following statement:</p>

<p><code>*** Switch to ILM view done</code></p>

<p>In the default mode (blackbox view), all FTMs blocks are perceived as blackboxes. The tool sees the connectivity only down to the boundary level (ports) of FTM. Switching to the ILM view enables the tool to see the instances and nets inside the FTM block(s). The physical boundary of the FTM block will be transparent to the tool in this ILM view. The tool now has the logical connectivity information for the instances inside the FTM block(s) to run timing analysis. For example, it is able to report timing on a path that starts from an instance outside the FTM block and ends at an instance inside the FTM block.</p>

<p><strong>Note</strong>: Some commands that perform physical-only functions, such as <code><span class="fontredcadence">verifyConnectivity</span></code>, are not supported in this mode. Therefore, some of the top menus, such as <em>Floorplan</em> and <em><span class="fontredcadence">Verify</span></em>, appear grayed out in the main window in this mode. To run these commands, return to the default mode (blackbox view) by specifying the following command:</p>

<p><code>un<span class="fontredcadence">flattenIlm</span></code></p>
<h4 id="StaticTimingAnalysisforMixedSignalDesigns-Loadandcommitpowerintentifnecessary.2">Load and commit power intent if necessary&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</h4>

<p>Similar to the step done in flatten approach (see Steps to Run Static Timing Analysis using the flatten approach), this step is only required when the digital logic to be timed belongs to more than one power domain. An example of the TCL script for this step is as follows:</p>

<p><code>read_power_intent -cpf&#160;<em>top_design_flat.cpf<br /> </em>commit_power_intent -<span class="fontredcadence">keepRows</span></code></p>

<p><strong>Note</strong>: The above two commands have to be specified after <code><span class="fontredcadence">flattenIlm</span></code>. The CPF file specified has to be a flat CPF (i.e. not a hierarchical CPF) that contains detailed specification for instances inside the FTM block(s). The macro model, which contains power domain information at the boundary port level, is not detailed enough for the FTM block(s). It is okay to use the macro model to represent non-FTM blocks.</p>
<h4 id="StaticTimingAnalysisforMixedSignalDesigns-Specifyparasiticextractionoptions.1">Specify parasitic extraction options</h4>

<p>Typically, when the design is already routed, the extraction engine should be set to <span class="fontredcadence">postRoute</span> mode to enable the detailed extraction of the wires and to report coupling.</p>

<p><code><span class="fontredcadence">setExtractRCMode</span><span class="fontredcadence"> -engine</span> <span class="fontredcadence">postRoute</span></code></p>

<p>To invoke the IQuantus extraction engine, use the following command:</p>

<p><code><span class="fontredcadence">setExtractRCMode</span><span class="fontredcadence"> -effortLevel</span> high&#160;</code></p>
<h4 id="StaticTimingAnalysisforMixedSignalDesigns-Runtiminganalysis.1">Run timing analysis</h4>

<p>To generate full and detailed timing reports, specify:</p>

<p><code><span class="fontredcadence">timeDesign</span> -<span class="fontredcadence">postRoute</span></code></p>

<p>The above command automatically runs parasitic extraction before analyzing the timing path if the tool has not performed parasitic extraction earlier.</p>

<p>Alternatively, you can run the following command to report information about the various paths in the design:</p>

<p><code>report_timing</code></p>

<p><strong>Note</strong>: The&#160;<code>report_timing</code>&#160;command must be specified after <code><span class="fontredcadence">flattenIlm</span></code>.</p>

<p><strong>Note</strong>: Make sure the timing constraint file is specified using <code>-ilm_sdc_files</code> (Refer to <strong>Note</strong> in &quot;Load the top-level design&quot; step.)</p>

<p>If the timing constraint files for FTM analysis are not specified using either&#160;<code>create_constraint_mode &#8211;ilm_sdc_files</code>&#160;or <code>update_constraint_mode &#8211;ilm_sdc_files</code>, Innovus issues the following message:</p>

<p><code>No constrained timing paths found.</code></p>

<p><code>Paths may be unconstrained (try &#39;-unconstrained&#39; option)</code></p>
<h2 id="StaticTimingAnalysisforMixedSignalDesigns-DifferencebetweenFlatandFTMApproaches">Difference between Flat and FTM Approaches</h2>

<p>The following table compares the FTM and flat approaches.</p>
<div class="table-wrap"><table class="wrapped confluenceTable"><tbody><tr><th class="confluenceTh"><br /></th><th class="confluenceTh">FTM</th><th class="confluenceTh">Flat</th></tr>
<tr><td class="confluenceTd">Dealing with Physical hierarchy</td>
<td class="confluenceTd">
<p>No <code><span class="fontredcadence">assembleDesign</span></code> run at the top level</p>
</td>
<td class="confluenceTd">Runs one or more <code><span class="fontredcadence">assembleDesign</span></code> till instances are seen on top level</td>
</tr>
<tr><td class="confluenceTd">
<p>Representation of the block</p>
</td>
<td class="confluenceTd">The block is represented by a Verilog netlist and SPEF file(s) for the RC parasitic which make it portable.</td>
<td class="confluenceTd">Does not require writing out the logical connectivity in the Verilog netlist and RC parasitic in the form of SPEF for the block. Innovus extracts the logical connectivity and RC parasitic from the flattened block.&#160;</td>
</tr>
<tr><td class="confluenceTd">
<p>Usability and Debugging</p>
</td>
<td class="confluenceTd"><ul><li>Useful when only the Verilog netlist and the SPEF file of a block (IP) is available (no layout view is given).</li><li>Instances and timing path inside the FTM block are not visible in the layout window</li><li><code><span class="fontredcadence">specifyIlm</span></code> and <code><span class="fontredcadence">flattenIlm</span></code> commands are to be run prior to running <code>report_timing</code>.</li></ul></td>
<td class="confluenceTd"><ul><li>Require the layout view of the block.</li><li>Instances on the layout window are visible.</li><li>Does not require creation of the FTM block and&#160;understanding the ILM commands.</li></ul></td>
</tr>
</tbody></table></div>
<h2 id="StaticTimingAnalysisforMixedSignalDesigns-GuidelinesforRunningSTAFlowonMixed-SignalDesign">Guidelines for Running STA Flow on Mixed-Signal Design</h2>

<p>Consider the following guidelines before running the design data flow:</p>
<ul><li>The mixed-signal block physical implementation must be done using the VLS-XL connectivity-driven physical implementation methodology using Configure Physical Hierarchy (CPH) and Generate Physical Hierarchy (GPH) methodology. Multiple logical hierarchies in the design netlist are fully supported.&#160;</li><li>While in the Virtuoso platform, do not copy a library or cell or view and save it by changing the cell name. This will cause problems while reading the changed cell name view in Innovus.</li><li>The physical database created in Innovus after running &#160;assembleDesign on AMS block should not be used for any physical implementation steps or while exporting GDS. The physical database is only for analysis.</li><li>Names of objects (for example, instances) in timing constraint must match the layout design loaded into Innovus. This implies that:<ul><li>If the instance in the layout has a pipeline character (i.e. &quot;|&quot;), the corresponding statement in the timing constraint that has constraint over this instance must contain the pipeline character as well.</li><li>The hierarchy of the instances must match between the layout and timing constraint.</li></ul></li></ul><h2 id="StaticTimingAnalysisforMixedSignalDesigns-CreatingaQuickTimingModelforAnalogIPsinInnovus">Creating a Quick Timing Model for Analog IPs in Innovus</h2>

<p>In the netlist-on-top flow, the design could contain one or more analog blocks/IPs. The what-if timing analysis capability in Innovus allows for the creation of a quick timing model for such blocks, so that timing analysis can be performed at the top level. For more information on what-if timing model creation capability, refer to the &quot;What-If Timing Analysis&quot; chapter of the <em>Innovus User Guide</em>.</p>

<p>For the what-if timing model creation to work in Innovus, you need to set the blocks as blockBlackBox while using Virtuoso.</p>

<p>Following is the description of how a block is converted to a black box in Virtuoso.</p>

<p></p>
<ul><li>Set the cellType to blockBlackBox. <br /> <span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238190.gif" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/gif" data-linked-resource-default-alias="editCellViewProp.GIF" data-linked-resource-id="303238190" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238190.gif" width="600" /></span></li></ul><ul><li>Now when you run <code><span class="fontredcadence">restoreDesign</span> <span class="fontredcadence">-cellview</span></code>, you see the cloned instances as black boxes. This was done with a quick abstract, but can also be done with an abstract cellview. <br /> <span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238187.gif" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/gif" data-linked-resource-default-alias="editCellViewProp1.GIF" data-linked-resource-id="303238187" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238187.gif" width="600" /></span></li></ul><ul><li>The black box can now be modified for What-If Timing analysis. <br /> <span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238205.gif" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/gif" data-linked-resource-default-alias="what-if.GIF" data-linked-resource-id="303238205" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238205.gif" width="600" /></span></li></ul>
<p></p>

<p></p>
<h2 id="StaticTimingAnalysisforMixedSignalDesigns-DifferentWaysofRunningassembleDesign">Different Ways of Running <span class="fontredcadence">assembleDesign</span></h2>

<p>The <code><span class="fontredcadence">assembleDesign</span></code>&#160;command supports different types of data. It can read an FE database, such as a DEF file and a Verilog netlist file, as well as an OpenAccess (OA) database. For the mixed-signal flow, the OA-based database should be used for interoperability. You can use the <code><span class="fontredcadence">-topDesign</span></code>&#160;and <code><span class="fontredcadence">-block</span></code>&#160;options of <code><span class="fontredcadence">assembleDesign</span></code>&#160;to specify the library, cell, and view information for the top-level design and the blocks, respectively. Options such as <code><span class="fontredcadence">-topDir</span></code>, <code><span class="fontredcadence">-blockData</span></code>&#160;and <code><span class="fontredcadence">-blockDir</span></code>&#160;are meant for non-OA type data and will not be discussed here.&#160;</p>

<p>You can run the&#160;<code><span class="fontredcadence">assembleDesign</span></code> command in two modes, batch and incremental. It is also possible to start an Innovus session by running <code><span class="fontredcadence">assembleDesign</span></code> in the batch mode followed by running incremental <code><span class="fontredcadence">assembleDesign</span></code> for blocks that are at the next lower hierarchy.&#160;</p>

<p>When running in the incremental mode, you can also use the <code><span class="fontredcadence">-allTimingBlocks</span></code>&#160;option, without the need to specify the library, cell and view information, which allows the tool to perform automatic detection and assembly of blocks that has digital content. The <code><span class="fontredcadence">-allTimingBlocks</span></code>&#160;option can be used with the <code><span class="fontredcadence">-blockCell</span></code>&#160;option to force certain blocks to be assembled manually, the <code><span class="fontredcadence">-exceptBlocks</span></code>&#160;option to override the default list and exclude certain blocks from being assembled, or both.</p>
<h3 id="StaticTimingAnalysisforMixedSignalDesigns-RunningassembleDesignintheBatchMode">Running <span class="fontredcadence">assembleDesign</span> in the Batch Mode</h3>

<p>When running <code><span class="fontredcadence">assembleDesign</span></code> in the batch mode, a new Innovus session is initiated. &#160;After loading the top-level design and block(s), <code><span class="fontredcadence">assembleDesign</span></code> performs physical flattening and assembles the top-level design and block(s) together. In this mode, the library, cell, and view names of the top-level design and the block(s) are specified together. The following command shows how to run <code><span class="fontredcadence">assembleDesign</span></code> in batch mode to flatten two blocks, <em>blockA</em> and <em>blockB,</em> which are one physical level below the top-level design, <em>top</em>:</p>

<p><code><span class="fontredcadence">assembleDesign</span> <span class="fontredcadence">-topDesign</span> <em>myLib top layout_for_asm</em> -block {<em>myLib blockA layout</em>} <span class="fontredcadence">-block</span> {<em>myLib blockB layout</em>} <span class="fontredcadence">-mmmcFile</span> <em>flat.viewDefinition.tcl</em>
            <br />
          </code></p>

<p><em> </em> <span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238191.jpg" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/jpeg" data-linked-resource-default-alias="sta5.jpg" data-linked-resource-id="303238191" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238191.jpg" width="600" /></span></p>
<h4 id="StaticTimingAnalysisforMixedSignalDesigns-LoadingaDesignthatIsNotSavedinInnovus">Loading a Design that Is Not Saved in Innovus</h4>

<p>To run <code><span class="fontredcadence">assembleDesign</span></code> in batch mode, the top-level design must be such that it can be restored in Innovus.</p>

<p><span class="fontredcadence">
<p>For Innovus to read or restore an OA-based database, it requires the presence of a <code>.global</code> file, which contains the specification of various variables. The variables that have <code>init</code> as prefix are used by Innovus to initialize the design. If the top-level design has not been saved in Innovus, for example, if it is implemented through Virtuoso, use the <code>init_design</code> command to load it, and then use the <code>saveDesign</code> command to migrate it to an Innovus-restorable design. After saving it into a new design, the new database will contain the <code>.global</code> file with no change to the original physical layout database.</p>

<p>Here is a sample script to load the top-level design and migrate it to an Innovus-restorable design:</p>

<p><code>set init_design_netlisttype {OA}</code></p>

<p><code>set init_oa_design_lib {mylib}</code></p>

<p><code>set init_oa_design_cell {top}</code></p>

<p><code>set init_oa_design_view {layout}</code></p>

<p><code>set init_oa_ref_lib {gsclib045}</code></p>

<p><code>init_design</code></p>

<p><code>saveDesign -cellview {myLib top layout_for_asm}</code></p>

<p><code>exit</code></p>
</span></p>

<p>Alternatively, you can do the above through an interactive session using GUI as follows:</p>
<ol><li>Invoke Innovus to start a new session.</li><li>From&#160;Innovus menu bar, select <em>File</em> &gt;<em> Import Design</em>.</li><li>Fill in the variables and click <em>OK</em>&#160;when done.</li><li>After the design is loaded, select <em>File</em> &gt; <em>Save Design</em> from the menu bar.</li><li>Specify the library name and a new view name. Click <em>OK</em> when done.</li><li>Exit Innovus.</li></ol><h4 id="StaticTimingAnalysisforMixedSignalDesigns-MMMCConfigurationFileandTerminology">MMMC Configuration File and Terminology</h4>

<p>To run STA, Innovus requires the Multi-Mode Multi-Corner (MMMC) settings to be specified. This configuration file is typically named as <code>viewDefinition.tcl</code>. In this file, timing-related information, such as timing libraries, PVT (process, variation and temperature) operating conditions for the cells in the design, and the timing constraint file are specified. The MMMC configuration file also contains the information needed to run parasitic extraction for wire resistance and capacitance, such as technology file details.</p>

<p><strong>Note</strong>:&#160;Though named MMMC, the configuration file supports single mode and single corner as well. The single mode and single corner settings are similar but simpler as compared to MMMC settings.</p>

<p>The term <em>top-level</em> timing constraint file is ambiguous in hierarchical flow and STA flow for mixed-signal design. To avoid confusion:</p>
<ul><li>The timing constraint file that contains constraints for only the top-level module&#160;(without covering the blocks) is called the top-level only timing constraint file</li></ul><ul><li>The timing constraint file that contains constraints for the full chip (top module + block) is called the flat, full chip timing constraint file. To run STA in a flattened design or when FTM is used, the flat, full chip timing constraint file should be used.</li></ul><h4 id="StaticTimingAnalysisforMixedSignalDesigns-LoadingtheMMMCConfigurationFileintheBatchMode">Loading the MMMC Configuration File in the Batch Mode</h4>

<p>In the batch mode, use the <code><span class="fontredcadence">-mmmcFile</span></code> option of <code><span class="fontredcadence">assembleDesign</span></code> to load an MMMC configuration file that contains the flat, full chip timing constraint and settings for the flattened design. The MMMC configuration file that might be available in the top-level design will be ignored by <code><span class="fontredcadence">assembleDesign</span></code> after the assembly. &#160;</p>

<p>Alternatively, the <code><span class="fontredcadence">-cpfFile</span></code> option of <code><span class="fontredcadence">assembleDesign</span></code> can be used instead of <code><span class="fontredcadence">-mmmcFile</span></code> if the CPF file has the MMMC settings.</p>

<p><strong>Note:</strong> The <code><span class="fontredcadence">-cpfFile</span></code>&#160;option&#160;instructs <code><span class="fontredcadence">assembleDesign</span></code> to load the timing-related settings specified in the CPF file to initialize the MMMC settings for running STA. It does not load all the power intent related specification contained in the CPF file. After <code><span class="fontredcadence">assembleDesign</span></code>, the <code>read_power_intent -cpf</code>&#160;and <code>commit_power_intent</code> commands are still needed to be loaded to commit all the power intent specification contained in the CPF file.</p>
<h3 id="StaticTimingAnalysisforMixedSignalDesigns-RunningassembleDesignintheIncrementalMode">Running <span class="fontredcadence">assembleDesign</span> in the Incremental Mode</h3>

<p>To run <code><span class="fontredcadence">assembleDesign</span></code> in incremental mode, the top-level design must be already loaded. In the example shown below, the top-level design is not saved in Innovus. The <code>init_design</code> command initializes and loads the design with the <code>init</code> variables provided. After the top-level design is loaded, the specified block is then flattened using the <code><span class="fontredcadence">assembleDesign</span></code> command. An example is shown below:</p>

<p><span class="fontredcadence">
<p><code>set init_oa_design_lib {myLib}</code> <br /><code>set init_oa_design_cell {top} </code> <br /><code>set init_oa_design_view {layout} </code> <br /><code>set init_design_netlisttype {OA}</code> <br /><code>set init_mmmc_file {top.viewDefinition.tcl}</code></p>
</span></p>

<p><code>init_design</code> <br /> <code><span class="fontredcadence">assembleDesign</span><span class="fontredcadence"> -block</span> {myLib blockA layout}<span class="fontredcadence"> -block</span> {myLib blockB layout}</code></p>

<p>If the top-level design is previously saved in Innovus, the <code><span class="fontredcadence">restoreDesign</span></code> command can be used to load the design. Then, run <code><span class="fontredcadence">assembleDesign</span></code> with the specified blocks to perform incremental assembly.</p>

<p><code><span class="fontredcadence">restoreDesign</span><span class="fontredcadence"> -cellview</span> {mylib top layout}</code></p>

<p><code><span class="fontredcadence">assembleDesign</span><span class="fontredcadence"> -block</span> {myLib blockA layout}<span class="fontredcadence"> -block</span> {myLib blockB layout}</code></p>

<p>The incremental mode allows the&#160;<code><span class="fontredcadence">assembleDesign</span></code> command to be run multiple times in sequence to flatten blocks of multiple levels of physical hierarchy (for example, blocks within blocks).&#160;For example, assume there are two blocks, <code>blockA</code> and <code>blockB</code>, in the top-level design to be flattened. <code>blockA</code> has a sub-block, <code>blockAa</code>, while <code>blockB</code> has <code>blockBb</code> as its sub-block. Both <code>blockAa</code> and <code>blockBb</code> are to be flattened.</p>

<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238226.jpg" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/jpeg" data-linked-resource-default-alias="sta6.jpg" data-linked-resource-id="303238226" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238226.jpg" width="600" /></span></p>

<p>The following script can be used to assemble them incrementally. Each <code><span class="fontredcadence">assembleDesign</span></code> command flattens the design for one level of physical hierarchy.</p>

<p><code><span class="fontredcadence">assembleDesign</span><span class="fontredcadence"> -block</span> {myLib blockA layout}<span class="fontredcadence"> -block</span> {myLib blockB layout}</code></p>

<p><code><span class="fontredcadence">assembleDesign</span><span class="fontredcadence"> -block</span> {myLib blockAa layout}<span class="fontredcadence"> -block</span> {myLib blockBb layout}</code></p>

<p>Thus, the incremental capability of <code><span class="fontredcadence">assembleDesign</span></code> enables the physical flattening of a design with multiple levels of physical hierarchy through a single Innovus session.</p>
<h4 id="StaticTimingAnalysisforMixedSignalDesigns-LoadingtheMMMCConfigurationFileintheIncrementalMode">Loading the MMMC Configuration File in the Incremental Mode</h4>

<p>The top-level design must be loaded before <code><span class="fontredcadence">assembleDesign</span></code> is run in incremental mode. In addition, the top-level design must contain an MMMC configuration file. If not, Innovus will go into the physical-only mode. Typically, this MMMC configuration file contains the top-level only timing constraints. To reload a new flat, full chip timing constraint file, you must source it&#160;after <code><span class="fontredcadence">assembleDesign</span></code> as follows:</p>

<p><span class="fontredcadence">
<p><code>set init_oa_design_lib {myLib}</code> <br /><code>set init_oa_design_cell {top}</code> <br /><code>set init_oa_design_view {layout}</code> <br /><code>set init_design_netlisttype {OA}<br />set init_mmmc_file {top.viewDefinition.tcl}<br />init_design</code> <br /><code>assembleDesign<em> </em>-block {myLib blockA layout} -block {myLib blockA layout}</code> <br /><code>source flat.viewDefinition.tcl          </code></p>

<p>You can specify an MMMC configuration file that has the flat, full chip timing constraint file when the design is loaded using <code>init_design</code> as follows. &#160;</p>

<p><code>set init_mmmc_file {flat.viewDefinition.tcl}</code></p>
</span></p>

<p>In this case, you need not reload the MMMC configuration file after <code><span class="fontredcadence">assembleDesign</span></code>. The only drawback for this flow is that Innovus may issue warning and error messages while reading the MMMC configuration file during <code>init_design</code>. When the flat, full chip timing constraint file contains constraint statements on objects, such as instances, or paths that are inside the blocks to be assembled, Innovus issues messages that the specified path or objects could not be found. This is because those paths or objects will exist only after <code><span class="fontredcadence">assembleDesign</span></code>. Therefore, at this point in time,&#160;certain constraint statements in the timing constraint will be deemed to be invalid&#160;before <code><span class="fontredcadence">assembleDesign</span></code>.&#160;</p>

<p><strong>Notes</strong></p>
<ul><li>The <code><span class="fontredcadence">-mmmcFile</span></code> option of the&#160;<code><span class="fontredcadence">assembleDesign</span></code> command is meant only for batch mode.</li><li>The incremental capability of the&#160;<code><span class="fontredcadence">assembleDesign</span></code> command does not currently support a design that has a physical netlist. For example, the netlist has <code>VDD</code> and <code>VSS</code> as input ports in the module. Run the command <code><span class="fontredcadence">saveNetlist</span> design.v</code> to check whether the netlist has power and ground ports. Run batch mode <code><span class="fontredcadence">assembleDesign</span></code> to handle this type of design. One way of running batch mode&#160;<code><span class="fontredcadence">assembleDesign</span></code>&#160;to handle such a design with multiple levels of physical hierarchy can be as follows:</li></ul><p style="margin-left: 60.0px;"><code>#First Innovus session</code></p>
<p style="margin-left: 60.0px;"><code><span class="fontredcadence">assembleDesign</span> <span class="fontredcadence">-topDesign</span> {<em>myLib top layout_for_asm</em>}<span class="fontredcadence"> -block</span> {<em>myLib blockA layout</em>}<span class="fontredcadence"> -block</span> {<em>myLib blockB layout</em>} </code></p>
<p style="margin-left: 60.0px;"><code><span class="fontredcadence">saveDesign</span><em><span class="fontredcadence"> -cellview</span> </em>{<em>myLib top layout_stage1</em>}</code></p>
<p style="margin-left: 60.0px;"><code>exit</code></p>
<p style="margin-left: 60.0px;"><code>#Second Innovus session</code></p>
<p style="margin-left: 60.0px;"><code><span class="fontredcadence">assembleDesign</span> <span class="fontredcadence">-topDesign</span> {<em>myLib top layout_stage1</em>}<span class="fontredcadence"> -block</span> {<em>myLib blockAa layout</em>}<span class="fontredcadence"> -block</span> {<em>myLib blockBb layout</em>} <span class="fontredcadence">-mmmcFile</span> <em>flat.viewDefinition.tcl</em>
            <br />
          </code></p>
<h3 id="StaticTimingAnalysisforMixedSignalDesigns-DifferencesbetweentheBatchandIncrementalModesofassembleDesign">Differences between the Batch and Incremental Modes of <span class="fontredcadence">assembleDesign</span></h3>
<div class="table-wrap"><table class="wrapped confluenceTable"><tbody><tr><th class="confluenceTh"><br /></th><th class="confluenceTh">Batch Mode</th><th class="confluenceTh">Incremental Mode</th></tr>
<tr><td class="confluenceTd">Loading the top-level design</td>
<td class="confluenceTd">The top-level design and block(s) are loaded using <code><span class="fontredcadence">-topDesign</span></code> and<code><span class="fontredcadence"> -block</span></code>, respectively. The <code><span class="fontredcadence">-topDesign</span></code> option is used only in the batch mode.</td>
<td class="confluenceTd">The top-level design must be loaded first using <code>init_design</code> or <code><span class="fontredcadence">restoreDesign</span></code>. The top-level design is never specified using <code><span class="fontredcadence">assembleDesign</span></code>.</td>
</tr>
<tr><td class="confluenceTd">
<p>Use of command/<br />Specification of the block(s)</p>
</td>
<td class="confluenceTd">
<p>Use only once. The top-level design and the block(s) must be specified together.</p>
</td>
<td class="confluenceTd">Can be used multiple times to specify different blocks or blocks at different levels of physical hierarchy.</td>
</tr>
<tr><td class="confluenceTd">Need to save the top-level design in Innovus</td>
<td class="confluenceTd">The top-level design must be saved by Innovus before. (<code><span class="fontredcadence">assembleDesign</span></code> uses similar function as <code><span class="fontredcadence">restoreDesign</span></code> to load the top-level design). For a design from Virtuoso, use <code>init_design</code> to load and save the design with a new view name. Then specify the new view name using the <code><span class="fontredcadence">-topDesign</span></code> option of <code><span class="fontredcadence">assembleDesign</span></code>.</td>
<td class="confluenceTd">The top-level design does not need to be saved by Innovus before. This means you can use <code>init_design</code> to load a design implemented using Virtuoso.</td>
</tr>
<tr><td class="confluenceTd" colspan="1">Loading <code>viewDefinition.tcl</code></td>
<td class="confluenceTd" colspan="1">Use the <code><span class="fontredcadence">-mmmcFile</span></code> or the <code><span class="fontredcadence">-cpfFile</span></code> option of <code><span class="fontredcadence">assembleDesign</span></code> to load <code>viewDefinition.tcl</code>. These two options are meant for the batch mode only.</td>
<td class="confluenceTd" colspan="1"><code>viewDefinition.tcl</code> is loaded with <code>init_design</code> or <code><span class="fontredcadence">restoreDesign</span></code>.</td>
</tr>
</tbody></table></div>
<h3 id="StaticTimingAnalysisforMixedSignalDesigns-RunningassembleDesignwiththe-allTimingBlocksOption">Running <span class="fontredcadence">assembleDesign</span> with the <span class="fontredcadence">-allTimingBlocks</span> Option</h3>

<p>When the <code><span class="fontredcadence">-allTimingBlocks</span></code>&#160;option is specified, the <code><span class="fontredcadence">assembleDesign</span></code>&#160;command uses the following criterion to determine if a cell is to be assembled:</p>
<ol><li>A standard cell (with CORE celltype) exists in the cellview.</li><li>The cellview has a cell that is bound with the timing library, thus requiring the <code>viewDefinition.tcl</code>&#160;and the timing library files to be loaded in the beginning of the flow.</li><li>Any of the cellview below the current level of the cell has met either of the above two conditions.</li></ol>
<p>Note: If a cellview itself is bound with timing library, it will not get flattened.</p>
<p style="margin-left: 60.0px;"><code>
        <br />
      </code></p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238224.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="assembleDesign-allTimingBlocks.png" data-linked-resource-id="303238224" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238224.png" /></span></p>

<p>For example, consider a design that has the physical hierarchy shown above. The cellviews at its lower hierarchy bear the following conditions:</p>
<ul><li>A3a has a standard cell.&#160;</li><li>A3b has a cell bound with the timing library.&#160;</li><li>None of the B* cells have standard cells or cells bound with the timing library.</li><li>C2 itself is bound with the timing library.</li></ul>
<p>The cellview will be assembled as follows due to the reasons stated below:</p>
<ul><li>A3a will be flattened because there is standard cell in it.&#160;</li><li>A2 and A1 (the cellviews above A3a) will be flattened because A3a has to be flattened.</li><li>A3b will be flattened because there is cell in this cellview bound with the timing library.&#160;</li><li>A2 and A1 (the cellviews above A3b) will be flattened because A3b has to be flattened.<br /> <strong>Note</strong>: As long as either A3a or A3b is to be flattened, the A2 and A1 cellviews will be flattened as well.</li><li>None of the B* cells are flattened because no digital content is found at any level.</li><li>C1 will be flattened because C2 (i.e. a cell in C1) is bound to the timing library&#160;</li><li>C2 and C3 will not be flattened because C2 has to be a leaf cell, which has timing library bound.</li></ul>
<p></p>
<h3 id="StaticTimingAnalysisforMixedSignalDesigns-TipsonRunningassembleDesign-allTimingBlocks">Tips on Running <span class="fontredcadence">assembleDesign</span> <span class="fontredcadence">-allTimingBlocks</span></h3>
<ol><li>View the log file to see which blocks are flattened.<br />One example is shown below:<br /> <br /> <code>&lt;CMD&gt; <span class="fontredcadence">assembleDesign</span> <span class="fontredcadence">-allTimingBlocks</span> <span class="fontredcadence">-exceptBlocks</span> {pll_lf pll_lpf pll_vcodiv pll_cp pll_pfd} <span class="fontredcadence">-blockCell</span> {LP_pll_dig_wSPI}</code> <br /> <code>This command &quot;<span class="fontredcadence">assembleDesign</span> <span class="fontredcadence">-allTimingBlocks</span> <span class="fontredcadence">-exceptBlocks</span> {pll_lpf ...&quot; required an extra checkout of license invs_ms.</code> <br /> <code>Additional license(s) checked out: 1 &#39;Innovus_MS_Opt&#39; license(s)</code> <br /> <code>Following 4 blocks (lib cell view) would be assembled:</code> <br /> <code>block 1: zambezi45 LP_pll_dig_combo layout</code> <br /> <code>block 2: zambezi45 LP_pll_dig_wSPI layout</code> <br /> <code>block 3: zambezi45 pll_fbdiv layout</code> <br /> <code>block 4: zambezi45 pll_ls_dvdd2avdd layout</code></li><li>
<p>View the verbose log file to see the reason why a block is flattened or not flattened.</p>

<p>Some sample statements are shown below.</p>

<p><code>[07/09 14:38:44 13s] Block zambezi45/pll_lf/layout would NOT be assembled as it is excluded by user.</code> <br /> <code>[07/09 14:38:44 13s] Block zambezi45/pll_bypclf/layout would NOT be assembled as it does not have any instance of leaf cell or timing library cell inside.</code> <br /> <code>[07/09 14:38:44 13s] Block zambezi45/pll_pfd/layout would be assembled as it has instance of standard cell.</code> <br /> <code>[07/09 14:38:44 13s] Block zambezi45/LP_vco/layout would be assembled as it has sub block (zambezi45/pll_vco_calsw/layout) which is detected to be assembled.</code> <br /> <code>[07/09 14:38:44 13s] Block zambezi45/pll_ls_dvdd2avdd/layout would be assembled as it has instance of timing library cell.</code> <br /> <code>[07/09 14:38:44 13s] Block zambezi45/LP_pll_dig_combo/layout would be assembled as it has instance of block zambezi45/LP_pll_dig_wSPI/layout which is specified by user to assemble.</code> <br /> <code>[07/09 14:38:44 13s] Block zambezi45/LP_pll_dig_wSPI/layout would be assembled as it is specified by user to assemble.</code></p>
</li></ol><h3 id="StaticTimingAnalysisforMixedSignalDesigns-CaveatsforandLimitationsofassembleDesign-allTimingBlocks">Caveats for and Limitations of <span class="fontredcadence">assembleDesign</span> <span class="fontredcadence">-allTimingBlocks</span></h3>
<ol><li>If <code><span class="fontredcadence">assembleDesign</span> <span class="fontredcadence">-allTimingBlocks</span></code>&#160;is used to explore and run on design that is not entirely XL compliant (i.e. some blocks are XL compliant while some are not), it may error out and exit if it attempts to flatten any of the blocks that are not XL compliant.<br />Use <code><span class="fontredcadence">-exceptBlocks</span></code>&#160;to exclude those cellviews or blocks that are not XL compliant.<br />Alternatively, run <code><span class="fontredcadence">assembleDesign</span></code>&#160;with the&#160;<code><span class="fontredcadence">-block</span></code>&#160;option.</li><li>The <code><span class="fontredcadence">-allTimingBlocks</span></code>&#160;option works for the incremental mode only.&#160;For example, it works in the following flow:<br /> <code>source scripts/<span class="fontredcadence">LP_pll.globals</span></code> <br /> <code>init_design</code> <br /> <code><span class="fontredcadence">assembleDesign</span> <span class="fontredcadence">-allTimingBlocks</span></code> <br /> <br /> It is not supported in the batch mode. If <code><span class="fontredcadence">assembleDesign</span> <span class="fontredcadence">-allTimingBlocks</span></code>&#160;is run along with <code><span class="fontredcadence">-topDesign</span></code>, an error message will be shown.<br /> <code><span class="fontredcadence">assembleDesign</span> <span class="fontredcadence">-topDesign</span> {zambezi45 LP_pll layout_init} <span class="fontredcadence">-allTimingBlocks</span></code> <br /> <code>**ERROR: (ENCSYT-35004): Cannot run <span class="fontredcadence">assembleDesign</span> with <span class="fontredcadence">-allTimingBlocks</span> option because design is not loaded. <span class="fontredcadence">-allTimingBlocks</span> option is supported in incremental <span class="fontredcadence">assembleDesign</span> only. Load the design and then run <span class="fontredcadence">assembleDesign</span>.</code></li></ol><h3 id="StaticTimingAnalysisforMixedSignalDesigns-RunningIncrementalassembleDesignwithBlocksthathaveLogicalandPhysicalPowerorGroundPorts">Running Incremental <span class="fontredcadence">assembleDesign</span> with Blocks that have Logical and Physical Power or Ground Ports</h3>

<p>If a block to be flattened using <code><span class="fontredcadence">assembleDesign</span></code> has power or ground port as both logical and physical ports, the following option should be set to <code>true</code> before <code>init_design</code>:</p>

<p><code>source <span class="fontredcadence">top.globals</span>          </code></p>

<p><code><span class="fontredcadence">setOaxMode</span> <span class="fontredcadence">-allowAnalysisOnly</span> true&#160;</code></p>

<p><code>init_design</code></p>

<p>Typically, blocks that are implemented in Virtuoso have power and ground ports (terminals) as both logical and physical ports. The&#160;<code><span class="fontredcadence">setOaxMode</span> <span class="fontredcadence">-allowAnalysisOnly</span></code> option is set to <code>true</code> to enable <code><span class="fontredcadence">assembleDesign</span></code> to handle blocks of this type. Place and route blocks implemented by Innovus usually have power and ground ports as physical-only ports.&#160;</p>

<p><strong>Note</strong>:&#160;This option applies to running of only&#160;<code><span class="fontredcadence">assembleDesign</span></code> in the incremental mode. You do not need this option if <code><span class="fontredcadence">assembleDesign</span></code> is run in the batch mode.</p>
<h3 id="StaticTimingAnalysisforMixedSignalDesigns-PreservingthePowerandGroundPinShapeofBlocksCreatedbyVirtuosoasWiresafterassembleDesign">Preserving the Power and Ground Pin Shape of Blocks Created by Virtuoso as Wires after <span class="fontredcadence">assembleDesign</span></h3>

<p>For custom digital blocks that are placed and routed by Virtuoso, any power rail that is created as a pin instead of a special route will be lost after running <code><span class="fontredcadence">assembleDesign</span></code>. A similar situation occurs if the power or ground pin to wire connection inside a block looks like the following:</p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238189.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="keeppgpin1.PNG" data-linked-resource-id="303238189" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238189.png" /></span></p>

<p>After the block is flattened using <code><span class="fontredcadence">assembleDesign</span></code>, there will be a physical open on the power or ground net.</p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238192.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="keeppgpin2.PNG" data-linked-resource-id="303238192" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238192.png" /></span></p>

<p>To preserve the power and ground pins as special route after <code><span class="fontredcadence">assembleDesign</span></code>, use the <code><span class="fontredcadence">-keepPGPinGeometry</span></code>&#160;parameter as follows:</p>

<p><strong>Example 1 (Incremental <code><span class="fontredcadence">assembleDesign</span></code>)</strong></p>

<p><code>source <span class="fontredcadence">top.globals</span></code></p>

<p><code>init_design</code></p>

<p><code><span class="fontredcadence">assembleDesign</span> <span class="fontredcadence">-block</span> {myLib custom_digital_block layout} <span class="fontredcadence">-keepPGPinGeometry</span></code></p>

<p><strong>Example 2 (Batch mode<code> <span class="fontredcadence">assembleDesign</span></code>)</strong></p>

<p><code><span class="fontredcadence">assembleDesign</span> <span class="fontredcadence">-topDesign</span> (myLib top layout} <span class="fontredcadence">-block</span> {myLib custom_digital_block layout} <span class="fontredcadence">-keepPGPinGeometry</span> <span class="fontredcadence">-mmmcFile</span> top.viewDefinition.tcl</code></p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238184.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="keeppgpin3.PNG" data-linked-resource-id="303238184" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238184.png" /></span></p>
<h3 id="StaticTimingAnalysisforMixedSignalDesigns-RunningassembleDesignintheBatchModeandSubsequentlyintheIncrementalMode">Running <span class="fontredcadence">assembleDesign</span> in the Batch Mode and Subsequently in the Incremental Mode</h3>

<p>It is possible to start an Innovus session by running <code><span class="fontredcadence">assembleDesign</span></code> in the batch mode, follows by running&#160;incremental <code><span class="fontredcadence">assembleDesign</span></code> for blocks that are at the next lower hierarchy.&#160;</p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238225.jpg" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/jpeg" data-linked-resource-default-alias="sta7.jpg" data-linked-resource-id="303238225" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238225.jpg" /></span></p>

<p>For the same example as described in the Running <code><span class="fontredcadence">assembleDesign</span></code> in Incremental Mode section, the following script should show similar results:</p>

<p><code><span class="fontredcadence">assembleDesign</span> <span class="fontredcadence">-topDesign</span> {<em>myLib top layout</em>} <span class="fontredcadence">-block</span> {<em>myLib blockA layout</em>} <span class="fontredcadence">-block</span> {<em>myLib blockB layout</em>}</code></p>

<p><code><span class="fontredcadence">assembleDesign</span> <span class="fontredcadence">-block</span> {<em>myLib blockAa layout</em>} <span class="fontredcadence">-block</span> {<em>myLib blockBb layout</em>}</code></p>
<h2 id="StaticTimingAnalysisforMixedSignalDesigns-ParasiticRCExtractionforRunningMS-STA">Parasitic RC Extraction for Running MS-STA</h2>

<p>Parasitic RC (resistance and capacitance) extraction of wiring interconnects is an important step in STA. In physical implementation, the logic instances are connected by the metal interconnects. The parasitic RC of the interconnect impacts the signal path delay. In a typical nanometer design, the parasitic RC of interconnect can account for the majority of the delay in the design.</p>

<p></p>
<h3 id="StaticTimingAnalysisforMixedSignalDesigns-RunningQuantusExtractionwithpostRouteEngineforaRoutedDesign">Running Quantus Extraction with <span class="fontredcadence">postRoute</span> Engine for a Routed Design</h3>

<p>Typically, for a design that is fully routed, the mode of extraction should be set to <code><span class="fontredcadence">postRoute</span></code> by specifying the following command statement:</p>

<p><code><span class="fontredcadence">setExtractRCMode</span> <span class="fontredcadence">-engine</span> <span class="fontredcadence">postRoute</span></code></p>

<p>You can use <code><span class="fontredcadence">setExtractRCMode</span></code> <code><span class="fontredcadence">-effortLevel</span></code>&#160;to&#160;further specify which extraction engine is to be used.&#160;</p>

<p>In the <code><span class="fontredcadence">postRoute</span></code>&#160;mode, <code><span class="fontredcadence">-effortLevel</span></code>&#160;can be specified as one of the following:</p>
<ul><li><code><span class="fontredcadence">-effortLevel</span> medium</code>&#160;to invoke the TQuantus extraction engine</li><li><code><span class="fontredcadence">-effortLevel</span> high</code>&#160;to invoke the IQuantus extraction engine</li><li><code><span class="fontredcadence">-effortLevel</span> signoff</code>&#160;to invoke the standalone Quantus extraction engine.</li></ul>
<p>The TQuantus and IQuantus extraction engines are native to Innovus. To run the standalone Quantus extraction engine, the path for the Quantus binary has to be specified before invoking Innovus. All these engines require the Quantus techfile to be specified in the <code>viewDefinition.tcl</code> file.</p>
<h3 id="StaticTimingAnalysisforMixedSignalDesigns-RunningQuantusExtractionwithSignoffEffortLevel">Running Quantus Extraction with Signoff Effort Level</h3>

<p>If the timing analysis is for signing off purpose, the <code><span class="fontredcadence">-effortLevel</span></code>&#160;option should be set to <code>signoff</code> to invoke the standalone Quantus extraction engine. The <code>signoff</code> effort level offers the highest level of accuracy. This is also the recommended option to handle a design that contains complex wire shapes.&#160;</p>

<p>The IQuantus extraction engine in Innovus is typically used for handling normal wires created by the router in the place and route environment and not for complex wires shapes that are created in Virtuoso. The following is a sample message if the design contains complex wire shapes and the effort level is not set to signoff.&#160;</p>

<p><code>**WARN: (IMPEXT-1452): Internal representation of wires of net &#39;por_h&#39; at (231600 800740 3) is complex and may have overlapping geometries. So, IQuantus extraction is not possible for this net. RC estimation will be used but any SPEF that is generated subsequently will not include any RC&#39;s for this net. If this net falls in the critical path, use the signoff extractor by setting the <span class="fontredcadence">setExtractRCMode</span> <span class="fontredcadence">-effortLevel</span> to signoff for better accuracy.</code></p>

<p>Please note that if the design being analyzed contains macros that are represented as GDS because an accurate abstract is not available, the GDS representations of such macros would need to be passed to Quantus when using the Quantus integration in Innovus to perform extraction. This is done using the following settings in Innovus:</p>

<p><code><span class="fontredcadence">setExtractRCMode</span> <span class="fontredcadence">-effortLevel</span> signoff <br /><span><span class="fontredcadence">setExtractRCMode</span> </span><span class="fontredcadence">-coupled</span> true <br /><span><span class="fontredcadence">setExtractRCMode</span> </span><span class="fontredcadence">-engine</span> <span class="fontredcadence">postRoute</span> <br /><span><span class="fontredcadence">setExtractRCMode</span> </span><span class="fontredcadence">-qrcCmdType</span> partial <br /><span><span class="fontredcadence">setExtractRCMode</span> </span><span class="fontredcadence">-qrcCmdFile</span> macrogds.cmd</code></p>

<p>In the above example the <code><span class="fontredcadence">-qrcCmdType</span> partial</code> indicates that the <code>macrogds.cmd</code> file needs to be merged with the regular Quantus command file. The user also needs to indicate the layermap file to be used by Quantus.</p>
<h3 id="StaticTimingAnalysisforMixedSignalDesigns-UsingtheQuantusLayerMapFile">Using the Quantus Layer Map File</h3>

<p>This layer map is required when running the RC extraction with the signoff effort level. The layer names in the Quantus technology file may be different from the layer names used by Innovus (e.g. the layer names used in the technology file). The Quantus layer map file provides layer mapping between the technology file of Innovus and the Quantus technology file.</p>

<p>The following shows an example of the layer map file:</p>

<p><code>extraction_setup \</code></p>
<p style="margin-left: 30.0px;"><code>-technology_layer_map \</code></p>
<p style="margin-left: 60.0px;"><code>Metal1 &#160; &#160; &#160; &#160; &#160; &#160; METAL_1 \</code> <br /> <code> Via1 &#160; &#160; &#160; &#160; &#160; &#160;VIA_1 \</code> <br /> <code> Metal2 &#160; &#160; &#160; &#160; &#160; &#160; METAL_2 \</code> <br /> <code> Via2 &#160; &#160; &#160; &#160; &#160; &#160;VIA_2 \</code> <br /> <code> Metal3 &#160; &#160; &#160; &#160; &#160; &#160; METAL_3 \</code> <br /> <code> Via3 &#160; &#160; &#160; &#160; &#160; &#160;VIA_3 \</code> <br /> <code> Metal4 &#160; &#160; &#160; &#160; &#160; &#160; METAL_4 \</code> <br /> <code> Via4 &#160; &#160; &#160; &#160; &#160; &#160;VIA_4 \</code> <br /> <code> Metal5 &#160; &#160; &#160; &#160; &#160; &#160; METAL_5 \</code> <br /> <code> Via5 &#160; &#160; &#160; &#160; &#160; &#160;VIA_5 \</code> <br /> <code> Metal6 &#160; &#160; &#160; &#160; &#160; &#160; METAL_6 \</code> <br /> <code> Via6 &#160; &#160; &#160; &#160; &#160; &#160;VIA_6 \</code> <br /> <code> Metal7 &#160; &#160; &#160; &#160; &#160; &#160; METAL_7 \</code> <br /> <code> Via7 &#160; &#160; &#160; &#160; &#160; &#160;VIA_7 \</code> <br /> <code> Metal8 &#160; &#160; &#160; &#160; &#160; &#160; METAL_8 \</code> <br /> <code> Via8 &#160; &#160; &#160; &#160; &#160; &#160;VIA_8 \</code> <br /> <code> Metal9 &#160; &#160; &#160; &#160; &#160; &#160; METAL_9 \</code> <br /> <code> Via9 &#160; &#160; &#160; &#160; &#160; &#160;VIA_9 \</code> <br /> <code> Metal10 &#160; &#160; &#160; &#160; &#160; &#160;METAL_10 \</code> <br /> <code> Via10 &#160; &#160; &#160; &#160; &#160; VIA_10 \</code> <br /> <code> Metal11 &#160; &#160; &#160; &#160; &#160; &#160;METAL_11</code></p>

<p><strong>Note</strong>: When the IQuantus extraction engine is selected, you do not need to specify the Quantus layer map file because Innovus will auto-create it in this mode. However, in some complex cases that have non-metal routing layer, the automatically created map file may not be correct. In such a situation, you have to specify a layer map for it.</p>
<h3 id="StaticTimingAnalysisforMixedSignalDesigns-Auto-creationoftheQuantusLayerMapFilefromInnovus">Auto-creation of the Quantus Layer Map File from Innovus</h3>

<p>To get Innovus to create a Quantus layer map file to be used or edited for other purposes (e.g. for the signoff mode), select IQuantus as the extraction engine and set the effort level to high. Then, run RC extraction.</p>

<p><code><span class="fontredcadence">setExtractRCMode</span> <span class="fontredcadence">-engine</span> <span class="fontredcadence">postRoute</span> <span class="fontredcadence">-effortLevel</span> high</code></p>

<p><code><span class="fontredcadence">extractRC</span></code></p>

<p>After RC extraction is complete, look for a directory named <code>extLogDir</code> in the current working directory. Then look for the latest sub-directory inside the <code>extLogDir</code> directory (if there are multiple sub-directories). The name of the sub-directory should start with IQuantus followed by the running date, time, and so on (e.g. IQuantus_06-Jul-2017_15:16:51_18410_Q6Gdq9).</p>

<p>In that sub-directory, look for a file named <code>extr.LP_pll.layermap.log</code>.&#160;This will contain the content of the layer map that was used for running IQuantus.</p>
<h3 id="StaticTimingAnalysisforMixedSignalDesigns-RunningSignoffQuantusExtractionintheOpenAccessMode">Running Signoff Quantus Extraction in the OpenAccess Mode</h3>

<p>By default, the signoff Quantus extraction is based on a LEF/DEF flow. To run signoff Quantus extraction in the OpenAccess mode, specify:</p>

<p><code><span class="fontredcadence">setExtractRCMode</span> <span class="fontredcadence">-useQrcOAInterface</span> true</code></p>
<h3 id="StaticTimingAnalysisforMixedSignalDesigns-Auto-creationofInputFilesfromInnovusToRunStandaloneQuantusQRC">Auto-creation of Input Files from Innovus To Run Standalone Quantus QRC</h3>

<p>During the signoff mode, Innovus generates the design input, library inputs, technology inputs and the command file to Quantus. Then it will run RC extraction in the background and read back the resulting SPEF file into Innovus. By default, the above files are stored in a temporary directory and the directory will be deleted upon completion of the whole RC extraction process.</p>

<p>You can use the command, <code>write_extraction_spec</code> to generate the command file and a directory that stores other inputs files. Use the <code>-out_dir</code>&#160;option to specify the directory name that stores the input files.&#160;</p>

<p>For example, assume the following is specified:</p>

<p><code><span class="fontredcadence">setExtractRCMode</span> <span class="fontredcadence">-engine</span> <span class="fontredcadence">postRoute</span> </code></p>

<p><code><span class="fontredcadence">setExtractRCMode</span> <span class="fontredcadence">-effortLevel</span> signoff </code></p>

<p><code><span class="fontredcadence">setExtractRCMode</span> <span class="fontredcadence">-useQrcOAInterface</span> true </code></p>

<p><code><span class="fontredcadence">setExtractRCMode</span> <span class="fontredcadence">-lefTechFileMap</span> QRC.layermap</code></p>

<p><code>write_extraction_spec -out_dir standalone_qrc_dir</code></p>

<p>In this case, the Quantus command file (also called the CCL file), <code>qrc.cmd</code>, should be generated in the working directory. In the directory named <code>standalone_qrc_dir</code>, you should find the input files (for example, the tech file) for Quantus QRC.</p>
<h3 id="StaticTimingAnalysisforMixedSignalDesigns-RunningStandaloneQuantusQRCandLoadingtheResultingSPEFFilesBacktoInnovus">Running Standalone Quantus QRC and Loading the Resulting SPEF Files Back to Innovus</h3>

<p>To run Quantus QRC in the LEF/DEF mode with <code>qrc.def</code>&#160;as the design input, use:&#160;</p>

<p><code>qrc -cmd qrc.cmd qrc.def</code></p>

<p>To run Quantus QRC in the OpenAccess mode, run:</p>

<p><code>qrc -qrc.cmd</code></p>

<p>The OpenAccess-mode Quantus QRC run does not require an additional design input file because the specification of the library, cell, and view names of the cellview is present in the command file, <code>qrc.cmd</code>.</p>

<p><strong>Note</strong>: If the OpenAccess design contains PCELL, Quantus requires the PCELL cache, generated using Virtuoso&#8217;s Express Pcell Manager, to read in the PCELLs. The <code>CDS_ENABLE_EXP_PCELL</code> and <code>CDS_EXP_PCELL_DIR</code> environment variables are also consumed by Quantus for locating the PCELL cache directory. For example, the following statements specify that the PCELL cache is stored in the <code>./.expressPcells</code> directory.</p>

<p><code>setenv CDS_ENABLE_EXP_PCELL true</code></p>

<p><code>setenv CDS_EXP_PCELL_DIR ./.expressPcells</code></p>

<p>To load the resulting SPEF back into Innovus (assuming two SPEF files are created for two RC corners), the commands are:&#160;</p>

<p><code><span class="fontredcadence">spefIn</span> -rc_corner rc_worst LP_pll_rc_worst.spef</code></p>

<p><code><span class="fontredcadence">spefIn</span> -rc_corner rc_best LP_pll_rc_best.spef</code></p>

<p>For more information on Quantus QRC extraction, refer to the &quot;RC Extraction&quot; chapter of the <em>Innovus User Guide.</em></p>

<p><strong>Note</strong>: In certain cases, the designs coming from Virtuoso could contain macros for which a GDS file exists, but an accurate LEF abstract is not available. If you wish to do only timing analysis at the top level, you do not need to create a detailed abstract for the macros in the design that only have GDS information. To run standalone Quantus extraction and pass the GDS representation of the macros in the design to Quantus, the following syntax needs to be used in the Quantus command file.</p>

<p><code>input_db -type oa \</code></p>
<pre> -design_cell_name &lt;cellname&gt; &lt;viewname&gt; &lt;Design library name&gt; \
 -library_cell_name * abstract &lt;reference library name&gt; \
 -gds_file_list &lt;files containing GDS description of Macro&#39;s&gt;\
 -library_definitions_file &lt;the name of the cds.lib ile where libraries are defined&gt;
</pre>
<p>Note that if <code>-library_cell_name * abstract &lt;reference library name&gt; \</code> is not defined and <code>-gds_file_list</code> has been specified, Quantus will automatically use the layout view of the leaf-level cells, if available. In this case, if the layout views of the leaf-level cells have issues with pin, etc, Quantus may run into a problem and not extract certain nets.</p>
<h2 id="StaticTimingAnalysisforMixedSignalDesigns-TipsforDebuggingtheNoConstrainedTimingPathIssueGeneratedbyreport_timing">Tips for Debugging the No Constrained Timing Path Issue Generated by report_timing</h2>

<p>When you run <code>report_timing</code>, the timer may sometimes issue the following message instead of generating a timing report:</p>

<p><code>&gt; report_timing -from wdac/a_reg/D</code></p>

<p><span class="fontredcadence">
<p><code>No constrained timing paths found.</code>&#160;<br /> <code>Design may not be unconstrained or library is missing timing information.</code></p>
</span></p>

<p>This section will help you understand what this message means, the reasons why the timer issues such a message, and the ways to debug and fix the issue. However, before you do so, it is important to&#160;review the basic conditions that must be met for the timer to generate a timing report on a path. The following case study will help you understand these conditions.</p>
<h3 id="StaticTimingAnalysisforMixedSignalDesigns-CaseStudies">Case Studies</h3>

<p>The goal is to time a path between two registers (<code>dig/launch_reg</code> to <code>dig/cap_reg</code>) inside a digital block (<code>DIG</code>).&#160;</p>
<div class="pbi_avoid">
<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238194.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="STApic1.png" data-linked-resource-id="303238194" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238194.png" width="640" /></span></p>
</div>

<p>A timing constraint is specified at the primary input port (<code>clk</code>) of the top level design:</p>

<p><code>create_clock -name clk -period 10 [get_ports clk]</code></p>

<p>The clock signal has to propagate through a <code>CLKGEN</code> block before reaching the <code>DIG</code>&#160;block. Internally, the clock signal goes through some buffers and clock gating cells. As&#160;this is a hierarchical design, assuming the top-level design is already loaded, you need to run the <code><span class="fontredcadence">assembleDesign</span></code>&#160;command to flatten the <code>CLKGEN</code>&#160;and <code>DIG</code>&#160;blocks.</p>

<p><code><span class="fontredcadence">assembleDesign</span> <span class="fontredcadence">-block</span> {designLib CLKGEN layout} <span class="fontredcadence">-block</span> {designLib DIG layout}</code></p>

<p>Assume that the two blocks are XL-compliant so that when they are flattened, there is logical connectivity for all instances on the clock and data paths of the two registers. With the timing library for all the standard cells loaded into the tool, the timer should see a valid path from the primary input port (<code>clk</code>) to both registers (<code>dig/launch_reg</code> to <code>dig/cap_reg</code>).</p>

<p>When the following command is run, a timing report such as the one given below is displayed:</p>

<p><code>&gt; report_timing -from dig/launch_reg/Q -to dig/cap_reg/D</code></p>

<p><span class="fontredcadence">
<p><span>Path 1: MET Setup Check with Pin dig/cap_reg/CK</span></p>
<code>Endpoint:&#160;&#160; dig/cap_reg/D&#160;&#160;&#160; (v) checked with&#160; leading edge of &#39;clk&#39;</code> <br /> <code>Beginpoint: dig/launch_reg/Q (^) triggered by&#160; leading edge of &#39;clk&#39;</code> <br /> <code>Path Groups: {clk}</code> <br /> <code>Analysis View: max</code> <br /> <code>Other End Arrival Time&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 0.437<br />- Setup&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 0.048<br />+ Phase Shift&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 10.000<br />= Required Time&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 10.389<br />- Arrival Time&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 0.818<br />= Slack Time&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 9.571<br />&#160; &#160; &#160;Clock Rise Edge&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 0.000<br />&#160; &#160; &#160;+ Clock Network Latency (Prop)&#160; 0.437<br />&#160; &#160; &#160;= Beginpoint Arrival Time&#160;&#160;&#160;&#160;&#160;&#160; 0.437<br />&#160; &#160; &#160;+---------------------------------------------------------------------+<br />&#160; &#160; &#160;|&#160;&#160;&#160; Instance&#160;&#160;&#160; |&#160;&#160;&#160;&#160; Arc&#160;&#160;&#160;&#160; |&#160; Cell&#160;&#160; | Delay | Arrival | Required |<br />&#160; &#160; &#160;|&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; |&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; |&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; |&#160;&#160;&#160;&#160;&#160;&#160; |&#160; Time&#160;&#160; |&#160;&#160; Time&#160;&#160; |<br />&#160; &#160; &#160;|----------------+-------------+---------+-------+---------+----------|<br />&#160; &#160; &#160;| dig/launch_reg | CK ^&#160;&#160;&#160;&#160;&#160;&#160;&#160; |&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; |&#160;&#160;&#160;&#160;&#160;&#160; |&#160;&#160; 0.437 |&#160;&#160; 10.008 |<br />&#160; &#160; &#160;| dig/launch_reg | CK ^ -&gt; Q ^ | DFFRX1&#160; | 0.315 |&#160;&#160; 0.752 |&#160;&#160; 10.322 |<br />&#160; &#160; &#160;| dig/g100&#160;&#160;&#160;&#160;&#160;&#160; | A ^ -&gt; Y v&#160; | NAND2X1 | 0.067 |&#160;&#160; 0.819 |&#160;&#160; 10.389 |<br />&#160; &#160; &#160;| dig/cap_reg&#160;&#160;&#160; | D v&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; | DFFRX1&#160; | 0.000 |&#160;&#160; 0.818 |&#160;&#160; 10.389 |<br />&#160; &#160; &#160;+---------------------------------------------------------------------+&#160;</code></span></p>
<h4 id="StaticTimingAnalysisforMixedSignalDesigns-Case1-thecreate_clockconstraintisspecifiedatthewrongpoint">Case 1 - the create_clock constraint is specified at the wrong point</h4>

<p>What would be the result if the <code>create_clock</code>&#160;statement is specified at the pin level instead of&#160;the primary port level of the <code>DIG</code>&#160;block? For example:</p>

<p><code>create_clock -name clk -period 10 [get_pins dig/clk1]</code></p>
<div class="pbi_avoid">
<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238195.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="STApic2.png" data-linked-resource-id="303238195" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238195.png" width="640" /></span></p>
</div>

<p>When the same path is now timed, the timer reports no constrained timing path:</p>

<p><code>&gt; report_timing -from dig/launch_reg/Q -to dig/cap_reg/D</code></p>

<p><span class="fontredcadence">
<p><code>No constrained timing paths found.</code> &#160; <br /> <code>Design may not be unconstrained or library is missing timing information.</code></p>
</span></p>

<p>To debug the issue, run the command again with the additional option <code>-unconstrained</code>&#160;to check if the timer reports more information:</p>

<p><code>&gt; report_timing -from dig/launch_reg/Q -to dig/cap_reg/D -unconstrained</code></p>

<p><span class="fontredcadence">
<p><code>Path 1:Endpoint: dig/cap_reg/D (v) (unconstrained output)</code> &#160; <br /> &#160; <code>Beginpoint: dig/launch_reg/Q (^) triggered by leading edge of &#39;clk&#39;</code> &#160; <br /> &#160; <code>Arrival Time &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;0.450</code> &#160; <br /> &#160; <code>Analysis View: max</code> &#160; <br /> &#160; <code>&#160; &#160; &#160;+ Clock Network Latency (Prop) 0.068</code> &#160; <br /> &#160; <code> &#160; &#160; &#160;= Beginpoint Arrival Time &#160; &#160; &#160;0.068</code> &#160; <br /> &#160; <code> &#160; &#160; &#160;+----------------------------------------------------------+ </code> &#160; <br /> &#160; <code> &#160; &#160; &#160;| &#160; &#160;Instance &#160; &#160;| &#160; &#160; Arc &#160; &#160; | &#160; Cell &#160;| Delay | Arrival | </code> &#160; <br /> &#160; <code> &#160; &#160; &#160;| &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;| &#160; &#160; &#160; &#160; &#160; &#160; | &#160; &#160; &#160; &#160; | &#160; &#160; &#160; | &#160; Time &#160;| </code> &#160; <br /> &#160; <code> &#160; &#160; &#160;|----------------+-------------+---------+-------+---------| </code> &#160; <br /> &#160; <code> &#160; &#160; &#160;| dig/launch_reg | CK ^ &#160; &#160; &#160; &#160;| &#160; &#160; &#160; &#160; | &#160; &#160; &#160; | &#160; 0.068 | </code> &#160; <br /> &#160; <code> &#160; &#160; &#160;| dig/launch_reg | CK ^ -&gt; Q ^ | DFFRX1 &#160;| 0.315 | &#160; 0.383 | </code> &#160; <br /> &#160; <code> &#160; &#160; &#160;| dig/g100 &#160; &#160; &#160; | A ^ -&gt; Y v &#160;| NAND2X1 | 0.067 | &#160; 0.450 | </code> &#160; <br /> &#160; <code> &#160; &#160; &#160;| dig/cap_reg &#160; &#160;| D v &#160; &#160; &#160; &#160; | DFFRX1 &#160;| 0.000 | &#160; 0.450 | </code> &#160; <br /> &#160; <code> &#160; &#160; &#160;+----------------------------------------------------------+</code></p>

<p>The <em>unconstrained output</em> shown in the report indicates that something is not right at the capturing end (or the capturing clock).</p>
</span></p>

<p>In fact, its clock path is not constrained. The capturing register is not receiving a clock signal.</p>

<p>Now, what if the <code>create_clock</code>&#160;statement is specified at the other clock input of the <code>DIG</code>&#160;block?</p>

<p><code>create_clock -name clk -period 10 [get_pins dig/clk2]</code></p>
<div class="pbi_avoid">
<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238196.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="STApic3.png" data-linked-resource-id="303238196" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238196.png" width="640" /></span></p>
</div>

<p>The timer reports no constrained timing path in this case as well.</p>

<p><code>&gt; report_timing -from dig/launch_reg/Q -to dig/cap_reg/D</code></p>

<p><span class="fontredcadence">
<p><code>No constrained timing paths found.</code>&#160;<br /> <code>Design may not be unconstrained or library is missing timing information.</code></p>
</span></p>

<p>To debug, run the command again with the <code>-unconstrained</code>&#160;option:</p>

<p><code>&gt; report_timing -from dig/launch_reg/Q -to dig/cap_reg/D -unconstrained</code></p>

<p><span class="fontredcadence">This time, the timer reports that the beginning point is not constrained.</span></p>

<p><span class="fontredcadence">
<p><code>Path 1:Endpoint: &#160;dig/cap_reg/D (v)</code> &#160; <br /> &#160; <code>Beginpoint: dig/launch_reg/Q (^) (unconstrained input)</code> &#160; <br /> &#160; <code>Arrival Time &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;0.382</code> &#160; <br /> &#160; <code>Analysis View: max</code> &#160; <br /> &#160; <code>&#160; &#160; &#160;+ Clock Network Latency (Ideal) 0.000</code> &#160; <br /> &#160; <code> &#160; &#160; &#160;= Beginpoint Arrival Time 0.000</code> &#160; <br /> &#160; <code> &#160; &#160; &#160;+----------------------------------------------------------+ </code> &#160; <br /> &#160; <code> &#160; &#160; &#160;| &#160; &#160; Instance &#160; | &#160; &#160; Arc &#160; &#160; | &#160; Cell &#160;| Delay | Arrival | </code> &#160; <br /> &#160; <code> &#160; &#160; &#160;| &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;| &#160; &#160; &#160; &#160; &#160; &#160; | &#160; &#160; &#160; &#160; | &#160; &#160; &#160; | &#160; Time &#160;| </code> &#160; <br /> &#160; <code> &#160; &#160; &#160;|----------------+-------------+---------+-------+---------| </code> &#160; <br /> &#160; <code> &#160; &#160; &#160;| dig/launch_reg | CK ^ &#160; &#160; &#160; &#160;| &#160; &#160; &#160; &#160; | &#160; &#160; &#160; | &#160; 0.000 | </code> &#160; <br /> &#160; <code> &#160; &#160; &#160;| dig/launch_reg | CK ^ -&gt; Q ^ | DFFRX1 &#160;| 0.315 | &#160; 0.315 | </code> &#160; <br /> &#160; <code> &#160; &#160; &#160;| dig/g100 &#160; &#160; &#160; | A ^ -&gt; Y v &#160;| NAND2X1 | 0.067 | &#160; 0.382 | </code> &#160; <br /> &#160; <code> &#160; &#160; &#160;| dig/cap_reg &#160; &#160;| D v &#160; &#160; &#160; &#160; | DFFRX1 &#160;| 0.000 | &#160; 0.382 | </code> &#160; <br /> &#160; <code> &#160; &#160; &#160;+----------------------------------------------------------+</code></p>
</span></p>

<p>Both these examples highlight the case where the timing path is not fully constrained.</p>
<h4 id="StaticTimingAnalysisforMixedSignalDesigns-Case2-theCLKGENblockisnotflattened">Case 2 - the CLKGEN block is not flattened</h4>

<p>Consider another situation in which the <code><span class="fontredcadence">assembleDesign</span></code> &#160;command is run only on the <code>DIG</code> &#160;block.</p>

<p><code>&gt; <span class="fontredcadence">assembleDesign</span> <span class="fontredcadence">-block</span> {designLib DIG layout}</code></p>

<p>In this case, the <code>CLKGEN</code>&#160;block is not flattened. As a result, the actual path becomes the following:</p>
<div class="pbi_avoid">
<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238197.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="STApic4.png" data-linked-resource-id="303238197" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238197.png" width="640" /></span></p>
</div>

<p>No constrained timing path will be reported if the same path is to be timed.</p>

<p><code>&gt; report_timing -from dig/launch_reg/Q -to dig/cap_reg/D</code></p>

<p><span class="fontredcadence">
<p><code>No constrained timing paths found.</code>&#160;<br /> <code>Design may not be unconstrained or library is missing timing information.</code></p>
</span></p>

<p>Run <code>report_timing</code>&#160;with the <code>-unconstrained</code>&#160;option:</p>

<p><code>report_timing -from dig/launch_reg/Q -to dig/cap_reg/D -unconstrained</code></p>

<p><span class="fontredcadence">
<p>It reports that the beginning point is not constrained properly.</p>

<p><code>Path 1:Endpoint: dig/cap_reg/D (v)</code> <br /> <code>Beginpoint: dig/launch_reg/Q (^) (unconstrained input)</code> <br /> <code>Arrival Time 0.381</code> <br /> <code>Analysis View: max</code> <br /> <code>&#160; &#160; &#160;+ Clock Network Latency (Ideal) 0.000</code> <br /> <code>&#160; &#160; &#160;= Beginpoint Arrival Time &#160; &#160; &#160;&#160;0.000</code> <br /> <code>&#160; &#160; &#160;+----------------------------------------------------------+ </code> <br /> <code>&#160; &#160;  &#160;| &#160; &#160;Instance &#160; &#160;| &#160; &#160;Arc &#160; &#160; &#160;| &#160;Cell &#160; | Delay | Arrival | </code> <br /> <code> &#160; &#160; &#160;| &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;| &#160; &#160; &#160; &#160; &#160; &#160; | &#160; &#160; &#160; &#160; | &#160; &#160; &#160; | &#160;Time &#160; | </code> <br /> <code> &#160; &#160; &#160;|----------------+-------------+---------+-------+---------| </code> <br /> <code> &#160; &#160; &#160;| dig/launch_reg | CK ^ &#160; &#160; &#160; &#160;| &#160; &#160; &#160; &#160; | &#160; &#160; &#160; | &#160; 0.000 | </code> <br /> <code> &#160; &#160; &#160;| dig/launch_reg | CK ^ -&gt; Q ^ | DFFRX1 &#160;| 0.313 | &#160; 0.313 | </code> <br /> <code> &#160; &#160; &#160;| dig/g100 &#160; &#160; &#160; | A ^ -&gt; Y v &#160;| NAND2X1 | 0.068 | &#160; 0.381 | </code> <br /> <code> &#160; &#160; &#160;| dig/cap_reg &#160; &#160;| D v &#160; &#160; &#160; &#160; | DFFRX1 &#160;| 0.000 | &#160; 0.381 | </code> <br /> <code> &#160; &#160; &#160;+----------------------------------------------------------+</code></p>
</span></p>

<p>To further investigate whether the issue falls on the clock path, run the following command:</p>

<p><span class="fontredcadence">
<p><code>
            report_timing -unconstrained -clock_from clk
          </code><br /> <br /> <br /> <code>Path 1:Endpoint: clkgen/clk (v) (unconstrained output)</code> &#160; <br /> &#160; <code>Beginpoint: clk &#160; &#160; (v) triggered by trailing edge of &#39;clk&#39;</code> &#160; <br /> &#160; <code>Arrival Time &#160; &#160; &#160; &#160; &#160; &#160; &#160; 0.000</code> &#160; <br /> &#160; <code>Analysis View: max</code> &#160; <br /> &#160; <code>&#160; &#160; &#160;= Beginpoint Arrival Time 0.000</code> &#160; <br /> &#160; <code> &#160; &#160; &#160;+---------------------------------------------+ </code> &#160; <br /> &#160; <code> &#160; &#160; &#160;| Instance | &#160;Arc &#160;| &#160;Cell &#160;| Delay | Arrival | </code> &#160; <br /> &#160; <code> &#160; &#160; &#160;| &#160; &#160; &#160; &#160; &#160;| &#160; &#160; &#160; | &#160; &#160; &#160; &#160;| &#160; &#160; &#160; | &#160;Time &#160; | </code> &#160; <br /> &#160; <code> &#160; &#160; &#160;|----------+-------+--------+-------+---------| </code> &#160; <br /> &#160; <code> &#160; &#160; &#160;| &#160; &#160; &#160; &#160; &#160;| clk v | &#160; &#160; &#160; &#160;| &#160; &#160; &#160; | &#160; 0.000 | </code> &#160; <br /> &#160; <code> &#160; &#160; &#160;| clkgen &#160; | clk v | CLKGEN | 0.000 | &#160; 0.000 | </code> &#160; <br /> &#160; <code> &#160; &#160; &#160;+---------------------------------------------+</code></p>
</span></p>

<p>The result shows that the clock propagation stops at the input of <code>CLKGEN</code>&#160;and is not able to reach the clock input of <code>launch_reg</code>&#160;and <code>cap_reg</code>&#160;of <code>DIG</code>&#160;block.&#160;In this case, the timing constraint is valid. However, the clock is not able to propagate through the <code>CLKGEN</code>&#160;block unless a timing library for the <code>CLKGEN</code> block is provided. If the <code>CLKGEN</code>&#160;block is flattened so that those standard cells (which have timing library loaded to the tool) on the clock path are brought to the top for timing analysis, then the path will become valid.</p>

<p>Use the <code>report_instance_library</code> command to check if an instance is bound with timing library.</p>

<p><code>&gt; report_instance_library -instance clkgen</code></p>

<p><code>Instance &#160; &#160; &#160;: clkgen</code> <br /> <code>Analysis View : max</code> <br /> <code>Power Domain &#160;: -</code> <br /> <code>Op Cond &#160; &#160; &#160; : P-&gt;1.000000, V-&gt;0.900000, T-&gt;125.000000 (slow_oc)</code></p>

<p>The output shows that the <code>clkgen</code>&#160;instance is not bound with any timing library.</p>

<p>If a cell is bound with timing library, the name of the library file that is bound to it is displayed in the output. For example, if you run the same command for <code>dig/launch_reg</code>, the output is as follows:</p>

<p><code>&gt; report_instance_library -instance dig/launch_reg</code></p>

<p><code>Instance &#160; &#160; &#160; &#160; &#160; &#160; &#160;: dig/launch_reg</code> <br /> <code>Analysis View &#160; &#160; &#160; &#160; : max</code> <br /> <code>Power Domain &#160; &#160; &#160; &#160; &#160;: -</code> <br /> <code>Library/Libset(early) : slow/slow_libset</code> <br /> <code>Library File (early) &#160;: gsclib045/timing/slow_vdd1v0.lib</code> <br /> <code>Library/Libset(late) &#160;: slow/slow_libset</code> <br /> <code>Library File (late) &#160; : gsclib045/timing/slow_vdd1v0.lib</code> <br /> <code>Op Cond &#160; &#160; &#160; &#160; &#160; &#160; &#160; : P-&gt;1.000000, V-&gt;0.900000, T-&gt;125.000000 (slow_oc)</code> <br /> <code>Cell Type &#160; &#160; &#160; &#160; &#160; &#160; : gateCell</code></p>

<p>Without the timing library, the timer is not able to understand the timing relationship between the input and output pins of the <code>CLKGEN</code>&#160;block. This example highlights one common reason why a path is viewed as an invalid or broken timing path by the timer. As a result, the timer is unable to time it.</p>
<h3 id="StaticTimingAnalysisforMixedSignalDesigns-BasicConditionsforReportingtheTimingonaPath">Basic Conditions for Reporting the Timing on a Path</h3>

<p>As seen in the case study, the timer can report the timing on a path only if the path is constrained with timing constraint. In other words, the following basic conditions must be met for the timer to report the timing on a path:</p>
<ol><li>The timing constraint for the path to be timed exists and is valid.</li><li>The path covered by the constraint exists and is not broken.</li></ol>
<p>So, what does the following message actually mean?</p>

<p><span class="fontredcadence">
<p><code>No constrained timing paths found.</code>&#160;<br /> <code>Design may not be unconstrained or library is missing timing information.</code></p>
</span></p>

<p>&#39;No constrained timing paths&#39; can be interpreted as either &#39;No constraint&#39; or &#39;No timing paths&#39;.</p>
<ul><li>&#39;No constraint&#39; means that there is no valid timing constraint for the paths of concern.</li><li>&#39;No timing paths&#39; means that the paths are broken or invalid.</li></ul><h3 id="StaticTimingAnalysisforMixedSignalDesigns-CommonNoConstraintSituations">Common No Constraint Situations</h3>

<p>Here are some common situations where the timer either cannot find a timing constraint or the timing constraint found is not valid.</p>
<h4 id="StaticTimingAnalysisforMixedSignalDesigns-Notimingconstraintloaded">No timing constraint loaded</h4>

<p>In the <code><span class="fontredcadence">assembleDesign</span></code> &#160;flow, make sure that the timing constraint file is specified using <code>create_constraint_mode</code> &#160;in <code>viewDefinition.tcl</code> .&#160;The example below shows how a timing constraint file, <code>func.sdc</code> , is specified.</p>

<p><code>create_constraint_mode -name func -sdc_files [list func.sdc]</code></p>

<p>In the FTM flow, make sure that the timing constraint file is specified using the <code>-ilm_sdc_files</code>&#160;option, whether it is for the <code>create_constraint_mode</code>&#160;statement specified in <code>viewDefinition.tcl</code>, or for <code>update_constraint_mode</code>, which is a TCL command run after <code>init_design</code>.&#160;For example, if the timing constraint file name is <code>func_flat.sdc</code>, the statement or command should be:</p>

<p><code>create_constraint_mode -name func -sdc_files [list func_top.sdc] -ilm_sdc_files {func_flat.sdc}</code></p>

<p><code>update_constraint_mode -name func -ilm_sdc_files {func_flat.sdc}</code></p>

<p>Refer to the &quot;Load the top-level design&quot; of the <a href="#StaticTimingAnalysisforMixedSignalDesigns-STAwithFTM">Running STA by Using the FTM</a>&#160;section for more details on the difference between top-design-only timing constraint (i.e. <code>func_top.sdc</code>) and flat timing constraint (i.e. <code>func_flat.sdc</code>). The flat type (here, <code>func_flat.sdc</code>) should be used for the FTM flow.</p>

<p>In both flows, the specified constraint mode should be tied to an analysis view and the analysis view should be specified using the <code>set_analysis_view</code>&#160;command. Basically, each analysis view contains a constraint mode and a delay corner.&#160;For example, to include the <code>func</code>&#160;constraint mode in analysis views and specify the associated analysis views for both setup and hold analysis, use the following commands:</p>

<p><code>create_analysis_view -name func_worst -constraint_mode func &#8211;delay_corner dc_worst</code></p>

<p><code>create_analysis_view -name func_best -constraint_mode func &#8211;delay_corner dc_best</code></p>

<p><code>set_analysis_view -setup [list func_worst] -hold [func_worst func_best]</code></p>
<h4 id="StaticTimingAnalysisforMixedSignalDesigns-Noappropriatetimingconstraintforeachtypeofpath">No&#160;appropriate timing constraint for each type of path</h4>

<p>Depending on the type of the path to be timed, appropriate timing constraint statement has to be specified in the timing constraint file.&#160;</p>
<h5 id="StaticTimingAnalysisforMixedSignalDesigns-Register-to-registerpath">Register-to-register path&#160;</h5>
<p>At least one <code>create_clock</code> constraint is needed to time a register-to-register path. Typically, when the clock path involves a clock divider or clock multiplier, the <code>create_generated_clock</code> constraint is required.<br /> <span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238198.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="STApic5.png" data-linked-resource-id="303238198" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238198.png" width="620" /></span>&#160;</p>

<p>For the above diagram, the clocks can be specified as follows:</p>

<p><code>create_clock -name clk -period 10 [get_ports clk]</code></p>

<p><code>create_generated_clock -name clk_div -source [get_ports clk] -divide_by 2 [get_pins clkgen/clk_div_reg/Q]</code></p>

<p>Without the <code>create_generated_clock</code>&#160;constraint, the clock propagation stops at the <code>CK</code>&#160;pin of <code>clk_div_reg</code>&#160;and will not propagate through the <code>Q</code>&#160;pin of <code>clk_div_reg</code>.</p>
<h5 id="StaticTimingAnalysisforMixedSignalDesigns-Input-to-registerpath">Input-to-register path</h5>
<p>The data arrival times should be specified at the specified input ports, relative to the clock specified by the <code>-clock</code>&#160;option using the <code>set_input_delay</code>&#160;constraint.&#160;</p>

<p>For example:</p>

<p><code>create_clock -name clk -period 10 [get_ports clk]</code></p>

<p><code>set_input_delay 2.43 -clock [get_clocks clk] [get_ports data_in]<br />
    <span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238199.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="STApic6_7.png" data-linked-resource-id="303238199" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238199.png" width="620" /></span>
      </code></p>

<p><br /></p>

<p><span class="fontredcadence">
<p>Note that, if <code>set_input_delay</code> &#160;is not specified, the tool is still able to report the timing, with an exception that the beginning point is not triggered by a clock (therefore, it shows @). One example is shown below:</p>

<p><code>&gt; report_timing -to dig/launch_reg/D -from data_in
          </code></p>

<p><code>Path 1: MET Setup Check with Pin dig/launch_reg/CK&#160; </code></p>

<p><code> Endpoint: dig/launch_reg/D &#160; (^) checked with leading edge of &#39;clk&#39; </code> <br /> <code> Beginpoint: data_in &#160; &#160; &#160; &#160; &#160;(^) triggered by leading edge of &#39;@&#39; </code> <br /> <code> Path Groups: {clk} </code> <br /> <code> Analysis View: max </code> <br /> <code> Other End Arrival Time &#160; &#160; &#160; &#160; &#160;0.437 </code> <br /> <code> - Setup &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 0.100 </code> <br /> <code> + Phase Shift &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;10.000 </code> <br /> <code> = Required Time &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;10.337 </code> <br /> <code> - Arrival Time &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;0.000 </code> <br /> <code> = Slack Time &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; 10.337 </code> <br /> <code> &#160; &#160; &#160;Clock Rise Edge 0.000 
    &#160; &#160; &#160;+ Input Delay 0.000 
    &#160; &#160; &#160;= Beginpoint Arrival Time 0.000</code></p>
<p style="margin-left: 60.0px;"><code>&#160;+------------------------------------------------------------------+</code> <br /> <code> | Instance &#160; &#160; &#160; | Arc &#160; &#160; &#160; | Cell &#160;&#160;| Delay | Arrival | Required |</code> <br /> <code> | &#160; &#160; &#160; &#160;&#160;&#160; &#160; &#160; &#160;| &#160; &#160; &#160; &#160;&#160;&#160;&#160;| &#160; &#160; &#160; &#160;| &#160; &#160; &#160; | Time &#160; &#160;| Time &#160;&#160;&#160;&#160;|</code> <br /> <code> |----------------+-----------+--------+-------+---------+----------|</code> <br /> <code> | &#160; &#160; &#160; &#160;&#160;&#160; &#160; &#160; &#160;| data_in ^ | &#160; &#160; &#160; &#160;| &#160; &#160; &#160; | 0.000 &#160;&#160;| 10.337 &#160;&#160;|</code> <br /> <code> | dig/launch_reg | D ^ &#160; &#160; &#160; | DFFRX1 | 0.000 | 0.000 &#160;&#160;| 10.337 &#160;&#160;|</code> <br /> <code> +------------------------------------------------------------------+</code></p>
</span></p>

<p><br /></p>
<h5 id="StaticTimingAnalysisforMixedSignalDesigns-Register-to-outputpath">Register-to-output path</h5>
<p>The data required times should be&#160;specified at the specified&#160;output ports, relative to the clock specified by the <code>-clock</code>&#160;option using the&#160;<code>set_output_delay</code>&#160;constraint.&#160;For example:</p>

<p><code>create_clock -name clk -period 10 [get_ports clk]</code></p>

<p><code>set_output_delay 1.23 &#8211;clock [get_clocks clk] [get_ports data_out]</code></p>

<p>If <code>set_output_delay</code>&#160;is not specified, the timer reports no constrained timing paths found. An example is shown below:<br /> <span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238199.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="STApic6_7.png" data-linked-resource-id="303238199" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238199.png" width="620" /></span>&#160;</p>

<p><code>
&gt; report_timing -from dig/cap_reg/CK -to data_out
      </code></p>

<p><span class="fontredcadence">
<p><code>No constrained timing paths found.</code>&#160;<br /> <code>Design may not be unconstrained or library is missing timing information.</code></p>
</span></p>

<p>To debug the issue, specify the <code>-unconstrained</code>&#160;option and run the command again.</p>

<p><code>&gt; report_timing -from dig/cap_reg/CK -to data_out -unconstrained</code></p>

<p><span class="fontredcadence">
<p><code>Path 1:Endpoint: data_out &#160; (^) (unconstrained output)  </code> <br /> <code> Beginpoint: dig/cap_reg/Q &#160; (^) triggered by leading edge of &#39;clk&#39;  </code> <br /> <code> Arrival Time &#160;&#160; &#160; &#160; &#160; &#160;    &#160;&#160; &#160; &#160; &#160; &#160;0.744  </code> <br /> <code> Analysis View: max</code> <code>    &#160;&#160; &#160; </code></p>
<p style="margin-left: 60.0px;"><code>+ Clock Network Latency (Prop) 0.437</code></p>
<p style="margin-left: 60.0px;"><code>= Beginpoint Arrival Time 0.437</code> <br /> <code>+-------------------------------------------------------+ </code> <br /> <code>| Instance &#160;  | Arc &#160; &#160; &#160;  &#160;| Cell  &#160; &#160;| Delay | Arrival |</code> <br /> <code>|  &#160; &#160; &#160;  &#160; &#160; |  &#160; &#160; &#160;  &#160; &#160;&#160;|  &#160; &#160; &#160;  &#160;|  &#160; &#160; &#160;| Time  &#160; |</code> <br /> <code>|-------------+-------------+----------+-------+---------|</code> <br /> <code>| dig/cap_reg | CK ^  &#160; &#160; &#160;&#160;|  &#160; &#160; &#160;  &#160;| &#160; &#160; &#160; | 0.437  &#160;|</code> <br /> <code>| dig/cap_reg | CK ^ -&gt; Q ^ | DFFRX1 &#160;&#160;| 0.307 | 0.744 &#160;&#160;|</code> <br /> <code>|  &#160; &#160; &#160;  &#160; &#160; | data_out ^ | &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;| 0.000 | 0.744&#160;&#160; |</code> <br /> <code>+--------------------------------------------------------+</code></p>
</span></p>
<h5 id="StaticTimingAnalysisforMixedSignalDesigns-Combinationpath">Combination path</h5>
<p>A combination path involves no actual clock path. One common example of timing a combination path is to time a path from an input port to an output port that has no register in between.</p>

<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238211.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="STApic8.png" data-linked-resource-id="303238211" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238211.png" width="400" /></span> <br />For this type of path, you can specify the <code>set_input_delay</code>&#160;and <code>set_output_delay</code>&#160;constraints with a virtual clock. A virtual clock is a clock that is not associated with any part of the design.</p>

<p><code>create_clock -name v_clk -period 10</code> <br /> <code>set_input_delay 4 -clock [get_clocks v_clk] [get_ports comb_in]</code> <br /> <code>set_output_delay 4 -clock [get_clocks v_clk] [get_ports comb_out]</code></p>

<p>Alternatively, you may choose to specify <code>set_max_delay</code>&#160;to constrain such a type of path for setup time analysis and <code>set_min_delay</code>&#160;for hold time analysis.&#160;</p>

<p><code>set_max_delay 2 -from [get_ports comb_in] -to [get_ports comb_out]</code> <br /> <code>set_min_delay 1 -from [get_ports comb_in] -to [get_ports comb_out]</code></p>
<h4 id="StaticTimingAnalysisforMixedSignalDesigns-Designobjectspecifiedintimingconstraintdoesnotmatchwiththeactuallayout">Design object specified in timing constraint does not match with the actual layout</h4>

<p>A few examples of design objects are instances, primary ports, or pins of an instance. If the timer is not able to recognize a design object referenced in a timing constraint statement, that constraint statement is rejected. Some common situations are explained here:</p>
<h5 id="StaticTimingAnalysisforMixedSignalDesigns-PipelinecharacterininstancenameofAOTdesign">Pipeline character in instance name of AOT design</h5>
<p>If the top-level design is implemented in Virtuoso, the pipeline (|) character may be part of the instance name for blocks instantiated in the top-level design. In the mixed-signal OpenAccess (MSOA) flow, Innovus reads the design object from the physical layout cellview and not from the schematic cellview. If the timing constraint file is originally created based on the schematic, it may have to be modified to add | characters to the instance name to match with the corresponding name in the physical layout.</p>

<p>In the example below, the <code>DIG</code>&#160;block has been implemented in Innovus while the <code>AMS</code> block is a custom digital bock implemented by Virtuoso. Both blocks are integrated in Virtuoso, making it a schematic-on-top or Analog-on-Top (AOT) design.</p>

<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238188.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="STApic9.png" data-linked-resource-id="303238188" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238188.png" width="620" /></span></p>

<p>Assume the original timing constraints that are based on the schematic diagram are as follows:</p>

<p><code>create_clock -name clk -period 10 [get_pins dig/clk_div_reg/CK]</code> <br /> <code>create_generated_clock -name clk_div -source [get_pins dig/clk_div_reg/CK] -divide_by 2 [get_pins dig/clk_div_reg/Q]</code></p>

<p>However, to time this OpenAccess design in Innovus (or Tempus), the timing constraint should be as follows:</p>

<p><code>create_clock -name clk -period 10 [get_pins |dig/clk_div_reg/CK]</code> <br /> <code>create_generated_clock -name clk_div -source [get_pins |dig/clk_div_reg/CK] -divide_by 2 [get_pins |dig/clk_div_reg/Q]</code></p>
<h5 id="StaticTimingAnalysisforMixedSignalDesigns-Timingconstraintatthewrongdesignlevel">Timing constraint at the wrong design level</h5>
<p>Another reason why the design object does not match could be that the timing constraint is meant for a different design level.&#160;</p>

<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238183.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="STApic10.png" data-linked-resource-id="303238183" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238183.png" width="620" /></span></p>

<p>For example, for this schematic diagram, assume a timing constraint file with the following content is received from a designer:</p>

<p><code>create_clock -name clk -period 10 [get_pins clk_div_reg/CK]</code> <br /> <code>create_generated_clock -name clk_div -source [get_pins clk_div_reg/CK] -divide_by 2 [get_pins clk_div_reg/Q]</code></p>

<p>By examining the content, one can easily see that the constraint is specified at the <code>DIG (dig)</code> level and not at the top level. Probably, the designer is the designer of the DIG block.</p>

<p>Whether <code><span class="fontredcadence">assembleDesign</span></code> &#160;is run on the <code>DIG</code> &#160;block ( <code><span class="fontredcadence">assembleDesign</span> <span class="fontredcadence">-block</span> {designLib DIG layout}</code> ) or the FTM for the&#160; <code>DIG</code> &#160;block is created and specified ( <code><span class="fontredcadence">specifyIlm</span> -cell DIG <span class="fontredcadence">-dir</span> dig_FTM</code> ),&#160;the required timing constraints should have an additional hierarchy ( <code>dig</code> ) for the specified instance name.</p>

<p><code>create_clock &#8211;name clk -period 10 [get_pins dig/clk_div_reg/CK]</code></p>

<p><code>create_generated_clock -name clk_div -source [get_pins dig/clk_div-reg/CK] -divide_by 2 [get_pins dig/clk_div_reg/Q]</code></p>
<h5 id="StaticTimingAnalysisforMixedSignalDesigns-BlocknotflattenedorFTMnotspecified">Block not flattened or FTM not specified</h5>
<p>Consider the case below:</p>

<p><code>create_clock -name clk -period 10 [get_pins clkgen/clk_div_reg/CK]</code></p>

<p><code>create_generated_clock -name clk_div -source [get_pins clkgen/clk_div_reg/CK] -divide_by 2 [get_pins clkgen/clk_div_reg/Q]</code></p>

<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238179.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="STApic11_13_14_15.png" data-linked-resource-id="303238179" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238179.png" width="620" /></span></p>

<p>Here, the timing constraints are correct.&#160;However, if the <code>CLKGEN</code> &#160;block is not flattened using <code><span class="fontredcadence">assembleDesign</span></code> &#160;or an FTM is not created and specified for it, the diagram look likes the following and the timer does not accept these timing constraint statements. This is because the timer cannot find any instance in the physical layout cellview with name equal to <code>clkgen/clk_div_reg</code> .</p>

<p><br /> <span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238178.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="STApic12.png" data-linked-resource-id="303238178" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238178.png" width="620" /></span></p>

<p>The workaround is to either get a timing library for the <code>CLKGEN</code>&#160;block (which takes more effort and time) or modify the timing constraint as follows:</p>

<p><code>create_clock -name clk -period 20 [get_pins clkgen/clkout]</code></p>
<h3 id="StaticTimingAnalysisforMixedSignalDesigns-CheckingtheValidityofaTimingConstraint">Checking the Validity of a Timing Constraint</h3>

<p>How can you check whether a timing constraint is valid or, in other words, acceptable to the timer?</p>

<p>You can look at the log file and search for the timing constraint file name. When the timer parses a timing constraint file and detects something wrong with the constraints, it will issue warnings or errors in the log file.</p>

<p>Let us use the previous case again to illustrate how you can check the validity of the timing constraints.</p>

<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238179.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="STApic11_13_14_15.png" data-linked-resource-id="303238179" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238179.png" width="640" /></span></p>

<p>The timing constraints are:</p>

<p><code>create_clock -name clk -period 10 [get_ports clk]</code></p>

<p><code>create_generated_clock -name clk_div -source [get_ports clk] -divide_by 2 [get_pins clkgen/clk_div_reg/Q]</code></p>

<p>Assume these constraints are specified in a file called <code>simple.sdc</code>, and this timing constraint file is specified in <code>viewDefinition.tcl</code>.</p>

<p></p>
<h4 id="StaticTimingAnalysisforMixedSignalDesigns-SuccessfulcasefortheassembleDesignflow">Successful case for the <span class="fontredcadence">assembleDesign</span> flow</h4>

<p>Assume the <code><span class="fontredcadence">assembleDesign</span></code>&#160;flow is run for the above case and the script is as follows:</p>

<p><span class="fontredcadence">
<p><code>set_db init_design_netlisttype {OA}</code></p>

<p><code>set_db init_oa_design_lib {designLib}</code></p>

<p><code>set_db init_oa_design_cell {top}</code></p>

<p><code>set_db init_oa_design_view {layout}</code></p>

<p><code>set_db init_oa_ref_lib {gsclib045}</code></p>

<p><code>set_db init_mmmc_file {viewDefinition.tcl}</code></p>
</span></p>

<p><code>init_design</code></p>

<p><code><span class="fontredcadence">setExtractRCMode</span> <span class="fontredcadence">-engine</span> <span class="fontredcadence">postRoute</span></code></p>

<p><code><span class="fontredcadence">setExtractRCMode</span> </code> <code><span class="fontredcadence">-effortLevel</span> high</code></p>

<p><code><span class="fontredcadence">assembleDesign</span> <span class="fontredcadence">-block</span> {designLib DIG layout} <span class="fontredcadence">-block</span> {designLib CLKGEN layout} </code></p>

<p><code>source viewDefinition.tcl</code></p>

<p>Now, when you search for <code>simple.sdc</code>&#160;in the log file, you should see something like the following:</p>

<p><code>CTE reading timing constraint file &#39;simple.sdc&#39; ...</code></p>

<p><strong>Note</strong> - Ignore the message that is issued during <code>init_design</code>. At this point in time, errors related to timing constraints are expected because the <code>CLKGEN</code>&#160;block is not yet flattened. Therefore, the tool cannot find objects such as <code>clkgen/clk_div_reg/Q</code> in the layout.</p>

<p>To check whether the timing constraints are accepted by the timer, you can run <code>source viewDefinition.tcl</code> after <code><span class="fontredcadence">assembleDesign</span></code>&#160;is done.</p>

<p>If the constraints are read successfully, it should show something like the following:</p>

<p><code>CTE reading timing constraint file &#39;simple.sdc&#39; ...</code> <br /> <code>Current (total cpu=0:00:19.5, real=0:01:16, peak res=325.1M, current mem=660.9M)</code> <br /> <code>INFO (CTE): Constraints read successfully.</code></p>
<h4 id="StaticTimingAnalysisforMixedSignalDesigns-UnsuccessfulcasefortheassembleDesignflow">Unsuccessful case for the <span class="fontredcadence">assembleDesign</span> flow</h4>

<p>Now, suppose the <code><span class="fontredcadence">assembleDesign</span></code>&#160;command is run as follows:</p>

<p><code><span class="fontredcadence">assembleDesign</span> <span class="fontredcadence">-block</span> {designLib DIG layout} </code> <br /> <code>source viewDefinition.tcl</code></p>

<p>As the CLKGEN block is not flattened, the timer reports errors on the timing constraints when the <code>viewDefinition.tcl</code>&#160;is sourced again after <code><span class="fontredcadence">assembleDesign</span></code>.</p>

<p><code>CTE reading timing constraint file &#39;simple.sdc&#39; ...</code> <br /> <code>Current (total cpu=0:00:08.5, real=0:00:15.0, peak res=201.2M, current mem=544.5M)</code> <br /> <code>**WARN: (TCLCMD-513): The software could not find a matching object of the specified type for the pattern &#39;clkgen/clk_div_reg/Q&#39; (File simple.sdc, Line 2).</code> <br /> <code>**ERROR: (TCLCMD-917): Cannot find &#39;pins&#39; that match &#39;clkgen/clk_div_reg/Q&#39; (File simple.sdc, Line 2).</code> <br /> <code>**ERROR: (TCLCMD-917): Cannot find &#39;ports or pins&#39; that match &#39;&#39; (File simple.sdc, Line 2).</code> <br /> <code>INFO (CTE): read_dc_script finished with 1 WARNING and 2 ERROR.</code></p>
<h4 id="StaticTimingAnalysisforMixedSignalDesigns-SuccessfulcasefortheFTMflow">Successful case for the FTM flow</h4>

<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238179.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="STApic11_13_14_15.png" data-linked-resource-id="303238179" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238179.png" width="640" /></span></p>

<p>Assume the FTM flow is run for the same case and the script is as follows:</p>

<p><span class="fontredcadence">
<p><code>set_db init_design_netlisttype {OA}</code></p>

<p><code>set_db init_oa_design_lib {designLib} </code></p>

<p><code>set_db init_oa_design_cell {top} </code></p>

<p><code>set_db init_oa_design_view {layout} </code></p>

<p><code>set_db init_oa_ref_lib {gsclib045} </code></p>

<p><code>set_db init_mmmc_file {viewDefinition.tcl}</code></p>
</span></p>

<p><code>init_design </code></p>

<p><code><span class="fontredcadence">setExtractRCMode</span> <span class="fontredcadence">-engine</span> <span class="fontredcadence">postRoute</span> </code></p>

<p><code><span class="fontredcadence">setExtractRCMode</span> <span class="fontredcadence">-effortLevel</span> high</code></p>

<p><code><span class="fontredcadence">specifyIlm</span> -cell DIG <span class="fontredcadence">-dir</span> dig_FTM </code></p>

<p><code><span class="fontredcadence">specifyIlm</span> -cell CLKGEN <span class="fontredcadence">-dir</span> clkgen_FTM </code></p>

<p><code><span class="fontredcadence">flattenIlm</span> </code></p>

<p><code>update_constraint_mode -name func -ilm_sdc_files {simple.sdc}</code></p>

<p>Assume the timing constraint mode specified in <code>viewDefinition.tcl</code>&#160;is created as follows:</p>

<p><code>create_constraint_mode -name func -sdc_files [list simple.sdc]</code></p>

<p>When looking at the log file,ignore the errors and warning reported by the timer during <code>init_design</code>. At this point of time, the tool is not able to see any internal content inside the <code>CLKGEN</code>&#160;block and, therefore, is expected to report errors. Look at the lines after <code>create_constraint_mode</code>&#160;and the constraints should have been read successfully.</p>

<p><code>&lt;CMD&gt; update_constraint_mode -name func -ilm_sdc_files {simple.sdc}</code> <br /> <code>CTE reading timing constraint file &#39;simple.sdc&#39; ...</code> <br /> <code>Current (total cpu=0:00:13.2, real=0:00:17.0, peak res=316.0M, current mem=636.9M)</code> <br /> <code>INFO (CTE): Constraints read successfully.</code></p>

<p>Note that the command <code>update_constraint_mode</code>&#160;is not necessary if the <code>-ilm_sdc_files</code>&#160;option is already specified in the timing constraint mode in <code>viewDefinition.tcl</code>&#160;as follows:</p>

<p><code>create_constraint_mode -name func -sdc_files [list simple.sdc]</code> <code>-ilm_sdc_files {simple.sdc}</code></p>

<p>Then, check whether constraints are read successfully during the command <code><span class="fontredcadence">flattenIlm</span></code>.</p>

<p><code>&lt;CMD&gt; <span class="fontredcadence">flattenIlm</span></code> <br /> <code>Reading one ILM netlist ...</code> <br />... <br /> <code>CTE reading timing constraint file &#39;simple.sdc&#39; ...</code> <br /> <code>Current (total cpu=0:00:11.9, real=0:00:17.0, peak res=305.0M, current mem=632.3M)</code> <br /> <code>INFO (CTE): Constraints read successfully.</code></p>
<h4 id="StaticTimingAnalysisforMixedSignalDesigns-UnsuccessfulcaseforFTMflow">Unsuccessful case for FTM flow</h4>

<p>If you have specified the FTM only for the <code>DIG</code>&#160;block, the timer will report errors on the timing constraint when the&#160;<code><span class="fontredcadence">flattenIlm</span></code>&#160;or <code>update_constraint_mode</code>&#160;commands are run.</p>

<p><code><span class="fontredcadence">specifyIlm</span> -cell DIG <span class="fontredcadence">-dir</span> dig_FTM</code> <br /> <code>#specifyILM -cell CLKGEN <span class="fontredcadence">-dir</span> clkgen_FTM</code> <br /> <code><span class="fontredcadence">flattenIlm</span></code></p>

<p><code>CTE reading timing constraint file &#39;simple.sdc&#39; ...</code> <br /> <code>Current (total cpu=0:00:08.5, real=0:00:15.0, peak res=201.2M, current mem=544.5M)</code> <br /> <code>**WARN: (TCLCMD-513): The software could not find a matching object of the specified type for the pattern &#39;clkgen/clk_div_reg/Q&#39; (File simple.sdc, Line 2).</code> <br /> <code>**ERROR: (TCLCMD-917): Cannot find &#39;pins&#39; that match &#39;clkgen/clk_div_reg/Q&#39; (File simple.sdc, Line 2).</code> <br /> <code>**ERROR: (TCLCMD-917): Cannot find &#39;ports or pins&#39; that match &#39;&#39; (File simple.sdc, Line 2).</code> <br /> <code>INFO (CTE): read_dc_script finished with 1 WARNING and 2 ERROR.</code></p>
<h3 id="StaticTimingAnalysisforMixedSignalDesigns-CheckingtheExistenceofaDesignObjectintheLayout">Checking the Existence of a Design Object in the Layout</h3>

<p>When a timing constraint is not accepted by the timer because a design object is not found, how can you verify that the specified design object exists in the design layout? Or if there is a typo in the object name specified, how can you find the right name of the object?</p>

<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238179.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="STApic11_13_14_15.png" data-linked-resource-id="303238179" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238179.png" width="640" /></span></p>

<p>In the above example, the tool returns the following message when reading the timing constraint:</p>

<p><code>**WARN: (TCLCMD-513): The software could not find a matching object of the specified type for the pattern &#39;clkgen/clk_div_reg/Q&#39; (File simple.sdc, Line 2).</code></p>

<p>To check if the object <code>clkgen/clk_div_reg</code> exists in the design, open the Design Browser from the <em>Tools</em>&#160;menu in Innovus. You can use the <code>*</code> character as a wild card.&#160;</p>

<p><strong>Note</strong>&#160;- The Design Browser verification has to be done after the blocks are flattened. A block that has not been flattened is viewed as a blackbox logically by the tool.</p>

<p>In the following screenshot, <code>*clkgen/*reg*</code> is entered in the Design Browser and it shows up all instances that match with the input.</p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238175.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="NoConTimPath18.png" data-linked-resource-id="303238175" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238175.png" /></span></p>

<p>After checking the Design Browser and examining the <code>simple.sdc</code> file, you can see that the design object is not specified correctly in the following constraint:</p>

<p><code>create_generated_clock -name clk_div -source [get_ports clk] -divide_by 2 [get_pins clkgen/clk_div_reg/Q]</code></p>

<p>It should be:</p>

<p><code>create_generated_clock -name clk_div -source [get_ports clk] -divide_by 2 [get_pins |clkgen/clk_div_reg/Q]</code></p>
<h3 id="StaticTimingAnalysisforMixedSignalDesigns-CommonInvalidTimingPathSituations">Common Invalid Timing Path Situations</h3>

<p>Here are some common situations&#160;that could cause the timing path to be invalid. In each case, either the timing library is not present or the signal propagation is blocked.</p>
<h4 id="StaticTimingAnalysisforMixedSignalDesigns-BlocknotflattenedorFTMnotread">Block not flattened or FTM not read</h4>

<p>The diagram below shows a case where the data path is broken.&#160;The timing constraint is:</p>

<p><code>create_clock -name clk -period 10 [get_ports clk]</code></p>

<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238177.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="STApic16.png" data-linked-resource-id="303238177" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238177.png" width="640" /></span></p>

<p>Assume the timing library for all the above standard cells is available and loaded. In the above case, either <code><span class="fontredcadence">assembleDesign</span></code> &#160;has to be run or FTM has to be specified for the <code>DIG</code> , <code>CLKGEN</code> , <code>ISO</code> &#160;and <code>AMS</code> blocks to report the timing between the two registers.</p>

<p>However, if the <code>ISO</code>&#160;block that contains the isolation cells (assuming this is a low power design) is not flattened or its FTM is not specified, the path is viewed by the timer as follows:</p>

<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238180.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="STApic17.png" data-linked-resource-id="303238180" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238180.png" width="640" /></span></p>

<p>As a result, the timer will report an unconstrained timing path if you run <code>report_timing</code>&#160;on the path:</p>

<p><code>&gt; report_timing -from dig/launch_reg/Q -to dig/cap_reg/D</code></p>

<p><span class="fontredcadence">
<p><code>No constrained timing paths found.</code>&#160;<br /> <code>Design may not be unconstrained or library is missing timing information.</code></p>
</span></p>

<p>To further investigate whether the propagation of the data signal stops at ISO cell, you can run the following:</p>

<p><span class="fontredcadence">
<p><code>&gt; report_timing -from dig/launch_reg/Q -to dig/iso/I -unconstrained</code></p>

<p><code> Path&#160;1:Endpoint:&#160;dig/cap_reg/D&#160;(v)&#160;(unconstrained&#160;output)</code> <br /> <code> Beginpoint:&#160;dig/launch_reg/Q&#160;(^)&#160;triggered&#160;by&#160;leading&#160;edge&#160;of&#160;&#39;clk&#39;&#160;</code> <br /> <code> Arrival&#160;Time&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;0.383&#160;</code> <br /> <code> Analysis&#160;View:&#160;max</code> <br /> <code> &#160;&#160;&#160;&#160;&#160;+&#160;Clock&#160;Network&#160;Latency&#160;(Prop)&#160;&#160;&#160;0.068</code> <br /> <code> &#160;&#160;&#160;&#160;&#160;=&#160;Beginpoint&#160;Arrival&#160;Time&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;0.068&#160;&#160;&#160;</code> <br /> <code> &#160;&#160;&#160;+----------------------------------------------------------+</code> <br /> <code> &#160;&#160;&#160;|&#160;&#160;&#160;&#160;Instance&#160;&#160;&#160;&#160;|&#160;&#160;&#160;&#160;&#160;&#160;Arc&#160;&#160;&#160;&#160;|&#160;&#160;Cell&#160;&#160;&#160;|&#160;Delay&#160;|&#160;Arrival&#160;|&#160;&#160;</code> <br /> <code> &#160;&#160;&#160;|&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;|&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;|&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;|&#160;&#160;&#160;&#160;&#160;&#160;&#160;|&#160;&#160;Time&#160;&#160;&#160;|&#160;&#160;&#160;&#160;&#160;</code> <br /> <code> &#160;&#160;&#160;|----------------+-------------+---------+-------+---------|&#160;&#160;&#160;&#160;&#160;</code> <br /> <code> &#160;&#160;&#160;|&#160;dig/launch_reg&#160;|&#160;CK&#160;^&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;|&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;|&#160;&#160;&#160;&#160;&#160;&#160;&#160;|&#160;&#160;&#160;0.068&#160;|</code> <br /> <code> &#160;&#160;&#160;|&#160;dig/launch_reg&#160;|&#160;CK&#160;^&#160;-&gt;&#160;Q&#160;^&#160;|&#160;DFFRX1&#160;&#160;|&#160;0.315&#160;|&#160;&#160;&#160;0.383&#160;|</code> <br /> <code> &#160;&#160;&#160;|&#160;dig/iso&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;|&#160;I&#160;^&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;|&#160;ISO&#160;1&#160;&#160;&#160;|&#160;0.000&#160;|&#160;&#160;&#160;0.383&#160;|</code> <br /> <code> &#160;&#160;&#160;+----------------------------------------------------------+</code></p>
</span></p>

<p>The above report shows that the propagation of the data path stops at the input of the <code>ISO</code>&#160;cell, resulting in a&#160;broken path.</p>
<h4 id="StaticTimingAnalysisforMixedSignalDesigns-Cellnotboundwithtiminglibrary">Cell not bound with timing library</h4>

<p>When timing a path, the timer needs to understand the function and delay attributes of all leaf cells along the timing path. Therefore, all these leaf cells must have timing library representation. Typically, the issue of cell not bound with timing library occurs when the library set is not specified with a complete set of library files in the <code>viewDefinition.tcl</code>&#160;file.</p>

<p>For example, for designs with multiple timing library files, especially ones with multiple power domains (e.g. with different sets of supply voltages, or threshold voltages, for specific low power cells), a certain amount of effort and time is required to find out all the necessary timing library files to be loaded into the tool. Therefore, it is possible that in the first few runs of timing analysis, some of the timing library files are left out and not specified in the <code>viewDefinition.tcl</code>&#160;file.</p>

<p>To debug if a cell is bound with the timing library, run <code>report_instance_library</code>&#160;with the instance name specified.&#160;</p>

<p>The example below shows that the instance <code>dig/ram4k</code>&#160;is not bound with the timing library.</p>

<p><code>report_instance_library -instance dig/ram4k</code></p>

<p><code>Instance &#160; &#160; &#160;: dig/ram4k </code> <br /> <code>Analysis View : max </code> <br /> <code>Power Domain &#160;: - </code> <br /> <code>Op Cond &#160; &#160; &#160; : P-&gt;1.000000, V-&gt;0.900000, T-&gt;125.000000 (slow_oc)</code></p>

<p>The example below shows that the instance <code>dig/ram4k</code> is bound with two timing library files, <code>custom_best.lib</code>&#160;and <code>custom_worst.lib</code>.</p>

<p><code>report_instance_library -instance dig/ram4k</code></p>

<p><code>Instance &#160; &#160; &#160; &#160; &#160; &#160; &#160;: dig/ram4k </code> <br /> <code>Analysis View &#160; &#160; &#160; &#160; : max </code> <br /> <code>Power Domain &#160; &#160; &#160; &#160; &#160;: - </code> <br /> <code>Library/Libset(early) : custom/1v32_min</code> <br /> <code>Library File (early) &#160;: /lib/custom_best.lib</code> <br /> <code>Library/Libset(late) &#160;: custom/1v08_max</code> <br /> <code>Library File (late) &#160; : /lib/custom_worst.lib</code> <br /> <code>Op Cond &#160; &#160; &#160; &#160; &#160; &#160; &#160; : P-&gt;1.000000, V-&gt;0.900000, T-&gt;125.000000 (slow_oc)</code></p>

<p>The following options suggest how the library set should be specified in the <code>viewDefinition.tcl</code> file for two specific situations:</p>
<h5 id="StaticTimingAnalysisforMixedSignalDesigns-Cellexistsonlyinsideaflattenedblock">Cell exists only inside a flattened block</h5>
<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238176.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="cellnotbound1.png" data-linked-resource-id="303238176" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238176.png" /></span></p>

<p>In the above case, suppose you want to time the path from<code> dig/ram4k/DO</code> to <code>dig/cap_reg/D</code>. Assume the library information is as follows:</p>
<ul><li>The timing library model for the SRAM cell is contained in a file called <code>sram.lib</code>.</li><li>The timing library model for all other standard cells is <code>slow.lib</code>.</li><li>The physical library that stores the abstract cellview for the standard cells is <code>gsclib045</code>.</li></ul>
<p>Specify all the timing library files, including the ones that have cells appearing only in the blocks to be flattened (e.g. SRAM), in the <code>viewDefinition.tcl</code> file:&#160;</p>

<p><code>create_library_set -name lib_worst -timing [list lib/slow.lib lib/sram.lib]</code></p>

<p>The following is a sample script to run the flattened flow.</p>

<p><span class="fontredcadence">
<p><code>set_db init_design_netlisttype {OA}</code></p>

<p><code>set_db init_oa_design_lib {designLib}</code></p>

<p><code>set_db init_oa_design_cell {top}</code></p>

<p><code>set_db init_oa_design_view {layout}</code></p>

<p><code>set_db init_oa_ref_lib {gsclib045}</code></p>

<p><code>set_db init_mmmc_file {viewDefinition.tcl}</code></p>
</span></p>

<p><code>init_design&#160;</code></p>

<p><code><span class="fontredcadence">setExtractRCMode</span> <span class="fontredcadence">-engine</span> <span class="fontredcadence">postRoute</span> </code></p>

<p><code><span class="fontredcadence">setExtractRCMode</span> <span class="fontredcadence">-effortLevel</span> high</code></p>

<p><code><span class="fontredcadence">assembleDesign</span> <span class="fontredcadence">-block</span> {designLib DIG layout} <span class="fontredcadence">-block</span> {designLib CLKGEN layout} </code></p>

<p><code>report_timing -from dig/ram4k/DO -to dig/cap_reg/D</code></p>
<h5 id="StaticTimingAnalysisforMixedSignalDesigns-CellexistsonlyinsideanFTMblock">Cell exists only inside an FTM block</h5>
<p>Similarly, in the FTM flow,&#160;specify all the timing library files in&#160;the <code>viewDefinition.tcl</code>&#160;upfront. An example is shown below:</p>

<p><code>create_library_set -name lib_worst -timing [list lib/slow.lib lib/sram.lib]</code></p>

<p>A sample script for the FTM flow is shown below:</p>

<p><span class="fontredcadence">
<p><code>set_db init_design_netlisttype {OA}</code></p>

<p><code>set_db init_oa_design_lib {designLib}</code></p>

<p><code>set_db init_oa_design_cell {top}</code></p>

<p><code>set_db init_oa_design_view {layout}</code></p>

<p><code>set_db init_oa_ref_lib {gsclib045}</code></p>

<p><code>set_db init_mmmc_file {viewDefinition.tcl}</code></p>
</span></p>

<p><code>init_design</code></p>

<p><code>specifyILM -cell DIG <span class="fontredcadence">-dir</span> dig_FTM</code></p>

<p><code><span class="fontredcadence">setExtractRCMode</span> <span class="fontredcadence">-engine</span> <span class="fontredcadence">postRoute</span> <span class="fontredcadence">-effortLevel</span> high</code></p>

<p><code>flattenILM</code></p>

<p><code>update_constraint_mode -name func -ilm_sdc_files {simple.sdc}</code></p>

<p><code>report_timing -from dig/ram4k/DO -to dig/cap_reg/D</code></p>
<h4 id="StaticTimingAnalysisforMixedSignalDesigns-Badtiminglibrary">Bad timing library</h4>

<p>The cell is bound with the timing library but the timing description in the timing library is incomplete. For example, the following cell appears to be a buffer or inverter but the pin&#39;s specification has no timing arc description:&#160;</p>
<p style="margin-left: 30.0px;"><code>pin(A) {</code> <br /> <code>&#160; &#160; direction : input;</code> <br /> <code>&#160; &#160; capacitance : 0.008908;</code> <br /> <code>}</code></p>
<p style="margin-left: 30.0px;"><code>pin(Y) {</code> <br /> <code>&#160; &#160; direction : output;</code> <br /> <code>&#160; &#160; capacitance : 0.0;</code> <br /> <code>}</code></p>

<p>A proper specification for pin Y should describe its function and relationship to a particular input pin and should contain timing sense description that talks about unateness and timing look up tables for cell rise delay, rise transition, cell fall delay, and fall transition. &#160;A simple example is shown below.</p>
<p style="margin-left: 30.0px;"><code>pin(Y) &#160;{</code> <br /> <code>&#160; &#160; direction : output;</code> <br /> <code>&#160; &#160; output_signal_level : RAIL_VDD;</code> <br /> <code>&#160; &#160; capacitance : 0;</code> <br /> <code>&#160; &#160; max_capacitance : 0.507904;</code> <br /> <code>&#160; &#160; function : &quot;A&quot;;</code> <br /> <code>&#160; &#160; timing() {</code> <br /> <code>&#160; &#160; &#160; related_pin : &quot;A&quot;;</code> <br /> <code>&#160; &#160; &#160; timing_sense : positive_unate;</code> <br /> <code>&#160; &#160; &#160; cell_rise(delay_template_2x2) {</code> <br /> <code>&#160; &#160; &#160; &#160; index_1 (&quot;0.008, 0.28&quot;);</code> <br /> <code>&#160; &#160; &#160; &#160; index_2 (&quot;0.01, 0.45&quot;);</code> <br /> <code>&#160; &#160; &#160; &#160; values ( \</code> <br /> <code>&#160; &#160; &#160; &#160; &#160; &quot;0.079673, 0.877286&quot;, \</code> <br /> <code>&#160; &#160; &#160; &#160; &#160; &quot;0.178436, 0.976339&quot;);</code> <br /> <code>&#160; &#160; &#160; }</code> <br /> <code>&#160; &#160; &#160; rise_transition(delay_template_2x2) {</code> <br /> <code>&#160; &#160; &#160; &#160; index_1 (&quot;0.008, 0.28&quot;);</code> <br /> <code>&#160; &#160; &#160; &#160; index_2 (&quot;0.01, 0.45&quot;);</code> <br /> <code>&#160; &#160; &#160; &#160; values ( \</code> <br /> <code>&#160; &#160; &#160; &#160; &#160; &quot;0.056876, 1.66719&quot;, \</code> <br /> <code>&#160; &#160; &#160; &#160; &#160; &quot;0.060035, 1.66718&quot;);</code> <br /> <code>&#160; &#160; &#160; }</code></p>
<p style="margin-left: 30.0px;"><code>&#160; &#160; &#160; cell_fall(delay_template_2x2) {</code> <br /> <code>&#160; &#160; &#160; &#160; index_1 (&quot;0.008, 0.28&quot;);</code> <br /> <code>&#160; &#160; &#160; &#160; index_2 (&quot;0.01, 0.45&quot;);</code> <br /> <code>&#160; &#160; &#160; &#160; values ( \</code> <br /> <code>&#160; &#160; &#160; &#160; &#160; &quot;0.079517, 0.996017&quot;, \</code> <br /> <code>&#160; &#160; &#160; &#160; &#160; &quot;0.174628, 1.09146&quot;);</code> <br /> <code>&#160; &#160; &#160; }</code></p>
<p style="margin-left: 30.0px;"><code>&#160; &#160; &#160; fall_transition(delay_template_7x7) {</code> <br /> <code>&#160; &#160; &#160; &#160; index_1 (&quot;0.008, 0.28&quot;);</code> <br /> <code>&#160; &#160; &#160; &#160; index_2 (&quot;0.01, 0.45&quot;);</code> <br /> <code>&#160; &#160; &#160; &#160; values ( \</code> <br /> <code>&#160; &#160; &#160; &#160; &#160; &quot;0.060737, 1.87573&quot;, \</code> <br /> <code>&#160; &#160; &#160; &#160; &#160; &quot;0.063819, 1.8791&quot;);</code> <br /> <code>&#160; &#160; &#160; }</code> <br /> <code>&#160; &#160; }</code> <br /> <code>&#160;}</code></p>
<h4 id="StaticTimingAnalysisforMixedSignalDesigns-Logicalconnectivityissueinthepath">Logical connectivity issue in the path</h4>

<p>Typically, a logical connectivity issue occurs when the design or the block to be timed is not Virtuoso XL-compliant. Refer to the&#160;<a href="#StaticTimingAnalysisforMixedSignalDesigns-CorrectConnectivity">Requirements for Correct Connectivity Propagation</a>&#160;section for details on connectivity propagation. Note that the logical connectivity issue is different from the physical connectivity issue. A physical connectivity issue can be as simple as a net not routed or the wire not touching the pin shape of a cell, causing it to be an open violation. However, a logical connectivity issue refers to, for example, the tool not being able to see any logical connection between two blocks. This could be because one of the blocks has no terminals or has terminals that have been left dangling logically, even though wires are physically connecting the two blocks.</p>

<p><strong>Note</strong>: To avoid misunderstanding, this section uses the word &quot;terminal&quot; to refer to the input or output of a cell. In static timing analysis, the input or output of a cell is often referred as a &quot;pin&quot; or &quot;port&quot;. In Virtuoso, the &quot;pin&quot; usually refers to the physical pin shape while &quot;terminal&quot; refers to the corresponding logical port.</p>

<p>To check for logical connectivity issue, you can:</p>

<p></p>
<ol><li>Open Design Browser from the <em>Tools</em>&#160;menu in Innovus to check if the input or output of an instance is connected as expected.</li><li>Dump out a verilog netlist in Innovus using the <code><span class="fontredcadence">saveNetlist</span></code>&#160;command and view the content of the Verilog file to check the connection of the instances,</li><li>Load the top-level design in Virtuoso, select the instance, and select <em>Connectivity</em> -&gt; <em>Nets</em> -&gt; <em>Propagate&#8230;</em> from the top pull-down menu to view the logical connectivity of the terminals.</li></ol>
<p>The following situations could lead to a logical connectivity issue in the path:</p>
<h5 id="StaticTimingAnalysisforMixedSignalDesigns-Terminalnotconnectedorshapehavingnoconnectivity">Terminal not connected or shape having no connectivity</h5>
<p>Typically, this issue occurs because the physical wire does not have an associated net name. In Virtuoso, it is usually referred as shape having no connectivity.</p>

<p>In the following case, a logical connectivity issue exists at the top-level net, <code>clk_out1</code>, which is viewed as a floating net in Innovus.</p>

<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238182.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="STApic19.png" data-linked-resource-id="303238182" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238182.png" width="620" /></span></p>

<p>When you select the floating net in Innovus (left-click the wire) and view its attributes (press q), it is displayed as <code>FLOATING_NET_RESERVED</code>.</p>

<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238228.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="NoConTimPath23.png" data-linked-resource-id="303238228" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238228.png" width="620" /></span></p>

<p>When you view the netlist or check in Design Browser, the output of the <code>clkgen/en_reg1</code> instance appears to be dangling.</p>

<p><code>module top</code> <br /> <code> ...</code> <br /> <code>CLKGEN clkgen (.clk_out2(clk_out2),</code> <br /> <code>.clk(clk));</code> <br /> <code> ...</code> <br /> <code>endmodule</code></p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238217.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="NoConTimPath24.png" data-linked-resource-id="303238217" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238217.png" /></span></p>

<p>However, as can be seen in the following screenshot, the output of the <code>clkgen/en_reg2</code> is connected to the top level net, <code>clk_out2</code>.</p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238218.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="NoConTimPath25.png" data-linked-resource-id="303238218" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238218.png" /></span></p>

<p>If you open the top-level design in Virtuoso and select the <code>CLKGEN</code>&#160;block, and then select <em>Connectivity</em>&#160;-&gt;&#160;<em>Nets</em>&#160;-&gt;&#160;<em>Propagate&#8230;</em>&#160;from the&#160;top pull-down menu, the following information can be seen:</p>

<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238220.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="NoConTimPath26.png" data-linked-resource-id="303238220" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238220.png" width="620" /></span></p>

<p>In some cases, it could be that none of the terminals are connected, and the netlist displays as follows:</p>

<p><code>module top</code> <br /> <code>CLKGEN clkgen ();</code> <br /> <code>...</code> <br /> <code>endmodule</code></p>

<p>In this case, when you open the top-level design in Virtuoso and select the&#160;<code>CLKGEN</code>&#160;block, and then select&#160;<em>Connectivity</em>&#160;-&gt;&#160;<em>Nets</em>&#160;-&gt;&#160;<em>Propagate&#8230;</em>&#160;from the&#160;top pull-down menu, the following information can be seen:</p>

<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238210.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="NoConTimPath27.png" data-linked-resource-id="303238210" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238210.png" width="620" /></span></p>

<p>Such a situation could happen if the block is imported to Virtuoso from a GDSII file (which has no connectivity information). Typically, for a block imported through GDSII, the content of the Verilog netlist generated from the block has the following characteristics:</p>
<ul><li>The instance name starts with <code>I__<em>xxxx</em>
        </code>,<code> </code>where <em> <code>xxxx</code> </em> are numbers.</li><li>No logical connection exists between instances.</li></ul>
<p>An example is shown below:</p>

<p><code>SDFFSHQX2 I__1729 ();</code> <br /> <code>TLATNX1 I__1730 ();</code> <br /> <code>TLATNX1 I__1731 ();</code> <br /> <code>AOI222X1 I__1732 ();</code> <br /> <code>...</code></p>
<h5 id="StaticTimingAnalysisforMixedSignalDesigns-Missingterminal">Missing terminal</h5>
<p>In the previous case, the block has terminals but the terminals are dangling. In this case, the block to be assembled has no terminals at all. This is another example of non-compliance of Virtuoso XL. To check if a cell has a terminal in Innovus, select the instance in the Innovus main window and open Design Browser from the&#160;<em>Tools</em>&#160;menu. Alternatively, just open the Design Browser and enter the cell name.</p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238227.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="NoConTimPath28.png" data-linked-resource-id="303238227" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238227.png" /></span></p>

<p>Here, the cell <code>pll_fbdiv</code> has no terminals. In contrast, the cell <code>pll_reg</code>&#160;in the screenshot below has several terminals.</p>

<p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238229.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="NoConTimPath29.png" data-linked-resource-id="303238229" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238229.png" /></span></p>

<p>Remember to click the + symbol to the left of Instance to check if terminals exist for the cell. The&#160;+ symbol becomes - when expanded.</p>
<h4 id="StaticTimingAnalysisforMixedSignalDesigns-Pathnottobetimed">Path not to be timed</h4>

<p>In this case, the path is intended to be unconstrained, either by definition in the timing library or in the timing constraint file. Some situations where an unconstrained path may be used are listed below:</p>
<h5 id="StaticTimingAnalysisforMixedSignalDesigns-Falsepath">False path&#160;</h5>
<p>A false path is a timing path that is not required to meet its timing constraints for the design to function properly. One typical example is an asynchronous path between multiple clocks.</p>

<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238174.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="STApic20.png" data-linked-resource-id="303238174" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238174.png" width="350" /></span></p>

<p>In the timing constraint file, the constraints are as follows:</p>

<p><code>create_clock -name clk1 -period 10 [get_pins dig/clk1]</code> <br /> <code>create_clock -name clk2 -period 10 [get_pins dig/clk2]</code> <br /> <code>set_false_path -from [get_clocks clk1] -to [get_clocks clk2]</code></p>

<p><code>&gt; report_timing -from dig/launch_reg/Q -to dig/cap_reg/D</code></p>

<p><code>No constrained timing paths with given description found.</code> <br /> <code>Paths may be unconstrained (try &#39;-unconstrained&#39; option) or may not exist.</code></p>

<p>To look for these kind of false paths, you can run <code>report_path_exceptions</code>:</p>

<p><code>&gt; report_path_exceptions</code></p>

<p><span class="fontredcadence">
<p><code>
            &#160;
            &#160;+---------------------------------+ &#160;</code> <br /> <code>&#160; | From &#160; | &#160; To &#160; | &#160;Late | &#160;View | &#160;</code> <br /> <code>&#160; | &#160; &#160; &#160; &#160;| &#160; &#160; &#160; &#160;| &#160; &#160; &#160; | &#160;Name | &#160;</code> <br /> <code>&#160; |--------+--------+-------+-------| &#160;</code> <br /> <code>&#160; | &quot;clk1&quot; | &quot;clk2&quot; | false | max &#160; | &#160;</code> <br /> <code>&#160; +---------------------------------+</code></p>
</span></p>
<h5 id="StaticTimingAnalysisforMixedSignalDesigns-Disabledtimingarcs">Disabled timing arcs</h5>
<p>Static timing analysis uses timing arcs to describe the cell delay from each input to each output, and the constraints between input pins. Disable a timing arc breaks a specific timing path. When a pin on a cell get disabled, all timing arcs from or to that pin is disabled. The timing arc or pin on a cell can be disabled by timing constraint, constant propagation during timing analysis, or by the timing library.</p>

<p>Examples of timing constraints that disable timing arcs are <code>set_disable_timing</code>, <code>set_case_analysis</code>, and <code>set_disable_clock_gating_check</code>.&#160;</p>

<p>Innovus provides TCL commands, such as <code>
        report_inactive_arcs
      </code> &#160;and <code>
        report_case_analysis
      </code> , to help you analyze such kinds of timing exceptions.</p>

<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238247.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="STApic22_CUI.png" data-linked-resource-id="303238247" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238247.png" width="640" /></span></p>

<p>For the above example, assume the following constraints are specified in the timing constraint file:</p>

<p><code>create_clock -name clk -period 10 [get_ports clk]</code></p>

<p><code>set_case_analysis 0 [get_pins dig/g100/B]</code></p>

<p><code>&gt; report_timing -from dig/launch_reg/Q -to dig/cap_reg/D</code></p>

<p><code>No constrained timing paths with given description found.</code> <br /> <code>Paths may be unconstrained (try &#39;-unconstrained&#39; option) or may not exist.</code></p>

<p>When you run <code>report_inactive_arcs</code>&#160;and <code>report_case_analysis</code>, the following reports are generated:</p>

<p><code>&gt; report_inactive_arcs -type const</code></p>

<p><span class="fontredcadence">
<p>&#160;<code>+----------------------------------------------------------------------------------+</code> &#160; <br /> &#160; <code>| From &#160; &#160; &#160; | To &#160; &#160; &#160; &#160; | ArcType &#160; &#160; &#160; | Sense &#160; &#160; &#160; &#160; &#160;| Reason &#160; &#160; &#160; &#160; | View | &#160;</code> &#160; <br /> &#160; <code>|------------+------------+---------------+----------------+----------------+------|&#160; </code> &#160; <br /> &#160; <code>| dig/g100/A | dig/g100/Y | combinational | negative_unate | dig/g100/Y = 1 | max &#160;| &#160;</code> &#160; <br /> &#160; <code>| dig/g100/B | dig/g100/Y | combinational | negative_unate | dig/g100/B = 0 | max &#160;|&#160; </code> &#160; <br /> &#160; <code>+----------------------------------------------------------------------------------+</code></p>
</span></p>

<p><code>&gt; report_case_analysis</code></p>

<p><span class="fontredcadence"><code>
            <code>
              &#160;+-------------------------------+&#160;</code>
            &#160;
            <br />
            &#160;
            <code>| &#160;Pin name &#160;| &#160; User &#160; | View &#160;|&#160; </code>
            &#160;
            <br />
            &#160;
            <code>|&#160; &#160; &#160; &#160; &#160; &#160;&#160;| &#160; case &#160; | Name &#160;|&#160; </code>
            &#160;
            <br />
            &#160;
            <code>|&#160;&#160; &#160; &#160; &#160; &#160; &#160;| analysis | &#160; &#160; &#160; |&#160; </code>
            &#160;
            <br />
            &#160;
            <code>| &#160; &#160; &#160; &#160; &#160; &#160;| &#160; value &#160;| &#160; &#160; &#160; |&#160; </code>
            &#160;
            <br />
            &#160;
            <code>|------------+----------+-------|&#160; </code>
            &#160;
            <br />
            &#160;
            <code>| dig/g100/B | 0 &#160; &#160; &#160; &#160;| max &#160; |&#160; </code>
            &#160;
            <br />
            &#160;
            <code>+-------------------------------+</code>
          </code></span></p>

<p>For the following example which is due to constant propagation, use <code>report_inactive_arcs</code>&#160;because <code>report_case_analysis</code>&#160;reports disabled arcs only for case analysis.</p>

<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/303238172/303238173.png" data-linked-resource-container-id="303238172" data-linked-resource-container-version="6" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="STApic21.png" data-linked-resource-id="303238173" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/303238172/303238173.png" width="620" /></span></p>

<p>The timing constraint is:&#160;</p>

<p><code>create_clock -name clk -period 10 [get_ports clk]</code></p>

<p><code>&gt; report_timing -from dig/launch_reg/Q -to dig/cap_reg/D</code></p>

<p><code>No constrained timing paths with given description found.</code> <br /> <code>Paths may be unconstrained (try &#39;-unconstrained&#39; option) or may not exist.</code></p>

<p>When you run <code>report_inactive_arcs</code>, the following reports are generated.&#160;</p>

<p><code>&gt; report_inactive_arcs -type const</code></p>

<p><span class="fontredcadence">
<p>&#160;<code>+----------------------------------------------------------------------------------+</code> &#160; <br /> &#160; <code>| From &#160; &#160; &#160; | To &#160; &#160; &#160; &#160; | ArcType &#160; &#160; &#160; | Sense &#160; &#160; &#160; &#160; &#160;| Reason &#160; &#160; &#160; &#160; | View | &#160;</code> &#160; <br /> &#160; <code>|------------+------------+---------------+----------------+----------------+------|&#160; </code> &#160; <br /> &#160; <code>| dig/g100/A | dig/g100/Y | combinational | negative_unate | dig/g100/Y = 1 | max &#160;| &#160;</code> &#160; <br /> &#160; <code>| dig/g100/B | dig/g100/Y | combinational | negative_unate | dig/g100/B = 0 | max &#160;|&#160; </code> &#160; <br /> &#160; <code>+----------------------------------------------------------------------------------+</code></p>
</span></p>

<p><code>&gt; report_case_analysis</code></p>

<p><code>report_case_analysis</code>&#160;does not report anything because there is no <code>set_case_analysis</code>&#160;statement in the timing constraint.</p>

                    </div>
<br /><br /></div>
<footer xmlns:html="http://www.w3.org/1999/xhtml"><nav class="navigation"><b><em><a href="Using_NanoRoute_To_Route_a_Design_from_Virtuoso.html" id="prev" title="Using_NanoRoute_To_Route_a_Design_from_Virtuoso">Using_NanoRoute_To_Route_a_Des ...</a></em></b><b><em><a href="Chip_Finishing_and_ECO_Flows.html" id="nex" title="Chip_Finishing_and_ECO_Flows">Chip_Finishing_and_ECO_Flows</a></em></b></nav><div>
          For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2020, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved.
        </div>
</footer><br xmlns:html="http://www.w3.org/1999/xhtml" /></body></html>