
<html><head><title>Introduction to OCEAN</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="TopicTags" content="TRUE" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="shubh" />
<meta name="CreateDate" content="2020-09-18" />
<meta name="CreateTime" content="1600435823" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="The Open Command Environment for Analysis (OCEAN) can be used with any simulator integrated into the Analog Design Environment. OCEAN enables you set up, simulate and analyze circuit data." />
<meta name="DocTitle" content="OCEAN Reference" />
<meta name="DocType" content="SKILL Reference" />
<meta name="FileTitle" content="Introduction to OCEAN" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.2.1" />
<meta name="Keyword" content="oceanref" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2020-09-18" />
<meta name="ModifiedTime" content="1600435823" />
<meta name="NextFile" content="chap2.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="preface.html" />
<meta name="c_product" content="Virtuoso Analog Design Environment" />
<meta name="Product" content="Virtuoso Analog Design Environment" />
<meta name="ProductFamily" content="Virtuoso Analog Design Environment" />
<meta name="ProductVersion" content="ICADVM20.1" />
<meta name="RightsManagement" content="Copyright 2012-2020 Cadence Design Systems Inc." />
<meta name="Title" content="OCEAN Reference -- Introduction to OCEAN" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="ICADVM20.1" />
<meta name="SpaceKey" content="oceanrefICADVM201" />
<meta name="webflare-version" content="2.0" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="oceanrefTOC.html">Contents</a></li><li><a class="prev" href="preface.html" title="Preface">Preface</a></li><li style="float: right;"><a class="viewPrint" href="oceanref.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="chap2.html" title="Using OCEAN">Using OCEAN</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>OCEAN Reference<br />Product Version ICADVM20.1, October  2020</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>1
<a name="pgfId-1008781"></a></h1>
<h1>
<a name="pgfId-1019902"></a><hr />
Introduction to OCEAN<hr />
</h1>

<p>
<a name="pgfId-1019915"></a>This chapter provides an introduction to Open Command Environment for Analysis (OCEAN). In this chapter, you can find information about</p>
<ul><li>
<a name="pgfId-1019919"></a><a href="chap1.html#22049">Types of OCEAN Commands</a></li><li>
<a name="pgfId-1019923"></a><a href="chap1.html#22607">OCEAN Online Help</a></li><li>
<a name="pgfId-1019927"></a><a href="chap1.html#20008">OCEAN Syntax Overview</a></li><li>
<a name="pgfId-1019931"></a><a href="chap1.html#15905">Parametric Analysis</a></li><li>
<a name="pgfId-1019935"></a><a href="chap1.html#17716">Distributed Processing</a></li><li>
<a name="pgfId-1025538"></a><a href="chap1.html#72817">Plotting Simulation Results</a></li></ul>





<p>
<a name="pgfId-1019911"></a>OCEAN lets you set up, simulate, and analyze circuit data. OCEAN<a name="marker-1019904"></a> is a text-based process that you can run from a UNIX shell or from the Command Interpreter Window (CIW). You can type OCEAN commands in an interactive session, or you can create scripts containing your commands, then load those scripts into OCEAN. OCEAN can be used with any simulator integrated into the Virtuoso&#174; Analog Design Environment.</p>
<p>
<a name="pgfId-1015282"></a>Typically, you use the Virtuoso&#174; Analog Design Environment when creating your circuit (in Composer) and when interactively debugging the circuit. After the circuit has the performance you want, you can use OCEAN to run your scripts and test the circuit under a variety of conditions. After making changes to your circuit, you can rerun your scripts. OCEAN lets you</p>
<ul><li>
<a name="pgfId-1015239"></a>Create scripts that you can run repeatedly to verify circuit performance</li><li>
<a name="pgfId-1015242"></a>Run longer analyses such as parametric analyses and statistical analyses more effectively</li><li>
<a name="pgfId-1016782"></a>Run long simulations in OCEAN without starting the Virtuoso&#174; Analog Design Environment graphical user interface</li><li>
<a name="pgfId-1018292"></a>Run simulations from a nongraphic, remote terminal</li></ul>




  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=Types of OCEAN Commands

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h2>
<a name="pgfId-1019946"></a><a name="marker-1020199"></a><a name="22049"></a>Types of OCEAN Commands</h2>

<p>
<a name="pgfId-1021599"></a>You can create OCEAN scripts to accomplish the full suite of simulation and data access tasks that you can perform in the Virtuoso&#174; Analog Design Environment. An OCEAN script can contain three types of commands<a name="marker-1021600"></a><a name="marker-1021601"></a>, as shown in the following figure:</p>

<p>
<a name="pgfId-1020632"></a></p>
<div class="webflare-div-image">
<img width="668" height="388" src="images/chap1-2.gif" /></div>

<p>
<a name="pgfId-1016777"></a>All the parameter storage format (PSF) information created by the simulator is accessible through the OCEAN data access commands. (The data access commands include all of the Virtuoso&#174; Analog Design Environment calculator functions.)</p>
<p>
<a name="pgfId-1021688"></a>You can use the <a href="chap5.html#66636">history</a> command to view the command history from the current session and the most recently terminated session. </p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=OCEAN Online Help

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h2>
<a name="pgfId-1016611"></a><a name="marker-1020201"></a><a name="22607"></a>OCEAN Online Help</h2>

<p>
<a name="pgfId-1018103"></a>Online help is available for all the OCEAN commands<a name="marker-1019003"></a><a name="marker-1020271"></a> when you are in an OCEAN session. To get help for a specific OCEAN command, type the following:</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1018115"></a><code>ocnHelp( &#39;</code><code><em>commandName</em></code><code> )</code></pre>

<p>
<a name="pgfId-1018114"></a>This command returns an explanation of the command<a name="marker-1019004"></a> and examples of how the command can be used.</p>
<p>
<a name="pgfId-1018128"></a>To get a listing of all the different types of commands in OCEAN, type the following:</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1018130"></a><code>ocnHelp()</code></pre>

<p>
<a name="pgfId-1018738"></a>For more information, see <a href="chap7.html#31689">&#8220;ocnHelp&#8221;</a>.</p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=OCEAN Syntax Overview

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h2>
<a name="pgfId-1018099"></a><a name="marker-1020203"></a><a name="20008"></a>OCEAN Syntax Overview</h2>

<p>
<a name="pgfId-1016612"></a>OCEAN is based on the Virtuoso<sup>&#174;</sup> SKILL programming language and uses SKILL syntax. All the SKILL language commands can be used in OCEAN. This includes <code>if</code><a name="marker-1019005"></a><a name="marker-1020283"></a> statements, <code>case</code> statements, <code>for</code> loops, <code>while</code> loops, <code>read</code> commands, <code>print</code> commands, and so on.</p>
<p>
<a name="pgfId-1016613"></a>The most commonly used SKILL commands are documented in this manual. However, you are not limited to these commands. You can use any SKILL routine from any SKILL manual.</p>

<h3>
<a name="pgfId-1016614"></a><a name="marker-1020205"></a>Common SKILL Syntax Characters Used in OCEAN</h3>

<p>
<a name="pgfId-1018144"></a>This section provides an overview of some basic SKILL syntax concepts that you need to understand to use OCEAN. For more information about SKILL syntax, see <a href="chap3.html#35557">Chapter 3, &#8220;Introduction to SKILL.&#8221;</a></p>

<h3>
<a name="pgfId-1016620"></a><a name="marker-1020207"></a>Parentheses</h3>

<p>
<a name="pgfId-1016621"></a>Parentheses<a name="marker-1019007"></a><a name="marker-1020275"></a> surround the arguments to the command. The command name is followed immediately by the left parenthesis, with no intervening space.</p>

<h4>
<a name="pgfId-1017856"></a>Examples</h4>

<p>
<a name="pgfId-1017877"></a>The following example shows parentheses correctly enclosing two arguments to the <code>path</code> command.</p>

<p>
<a name="pgfId-1020708"></a></p>
<div class="webflare-div-image">
<img width="668" height="144" src="images/chap1-3.gif" /></div>
<h3>
<a name="pgfId-1017878"></a>Quotation Marks</h3>

<p>
<a name="pgfId-1017847"></a>Quotation Marks <a name="marker-1019008"></a><a name="marker-1020259"></a>are used to surround string values. A string value is a sequence of characters, such as &quot;<code>abc</code>&quot;.</p>
<p>
<a name="pgfId-1016648"></a>In the following example, the directory names provided to the <code>path</code> command are strings, which must be surrounded by quotation marks.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1016649"></a>path( &quot;~/simulation1/schematic/psf&quot; &quot;~/simulation2/schematic/psf&quot; )</pre>
<h4>
<a name="pgfId-1016650"></a><a name="marker-1020215"></a>Convention </h4>

<p>
<a name="pgfId-1016651"></a>In this manual, a SKILL convention is used to let you know when an argument must be a string. When you see the prefix <span class="webflare-courier-new" style="white-space:pre"><em>t_</em></span>, you must substitute a string value (surrounded by quotation marks) for the argument. Consider the following syntax statement:</p>
<p>
<a name="pgfId-1016652"></a>desVar( <span class="webflare-courier-new" style="white-space:pre"><em>t_desVar1</em></span> <span class="webflare-courier-new" style="white-space:pre"><em>g_value1</em></span> <span class="webflare-courier-new" style="white-space:pre"><em>t_desVar2</em></span> <span class="webflare-courier-new" style="white-space:pre"><em>g_value2</em></span>)</p>
<p>
<a name="pgfId-1016653"></a>In this case, there are two string values that must be supplied: <span class="webflare-courier-new" style="white-space:pre"><em>t_desVar1</em></span> and <span class="webflare-courier-new" style="white-space:pre"><em>t_desVar2</em></span>. (The <span class="webflare-courier-new" style="white-space:pre"><em>g_</em></span> prefix indicates a different type of argument. For more information about prefixes, see <a href="chap4.html#40640">Chapter 4, &#8220;Working with SKILL.&#8221;</a>)</p>

<h4>
<a name="pgfId-1020043"></a><a name="marker-1020217"></a><a name="14469"></a>Recovering from an Omitted Quotation Mark</h4>

<p>
<a name="pgfId-1020047"></a>Accidentally omitting a closing quotation mark from an OCEAN command can cause great confusion. For example, typing the incorrect command</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1020055"></a>strcat( &quot;rain&quot; &quot;bow )</pre>

<p>
<a name="pgfId-1020057"></a>appears to hang OCEAN. In an attempt to recover, you type a <code>Control-c</code>. That gives you a prompt but it does not fix the problem, as you discover when you then type the correct command.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1020060"></a>strcat( &quot;rain&quot; &quot;bow&quot; )</pre>

<p>
<a name="pgfId-1020083"></a>Again, you have to type a <code>Control-c</code> and OCEAN responds with another message.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1020084"></a>^C*Error* parser: interrupted while reading input</pre>

<p>
<a name="pgfId-1020086"></a>If you find yourself in this situation, do not press a <code>Control-c</code>. Instead, recover by entering a quotation mark followed by a right square bracket ( <code>]</code> ). This procedure reestablishes a normal OCEAN environment and you can then reenter the correct command.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1020094"></a>ocean&gt; strcat( &quot;rain&quot; &quot;bow )<br />&quot;]<br />&quot;rainbow ) &quot;<br />ocean&gt; strcat( &quot;rain&quot; &quot;bow&quot; )<br />&quot;rainbow&quot;<br />ocean&gt; </pre>
<h3>
<a name="pgfId-1016657"></a><a name="marker-1020219"></a>Single Quotation Marks </h3>

<p>
<a name="pgfId-1016658"></a>The single quotation mark<a name="marker-1019009"></a><a name="marker-1020279"></a> indicates that an item is a symbol. Symbols in SKILL correspond to constant enums in C. In the context of OCEAN, there are predefined symbols. The simulator that you use also has predefined symbols. When using symbols in OCEAN, you must use these predefined symbols.</p>

<h4>
<a name="pgfId-1016659"></a>Examples</h4>

<p>
<a name="pgfId-1016660"></a>In the following example, <code>tran</code> is a symbol and must be preceded by a single quotation mark. The symbol <code>tran</code> is predefined. You can determine what the valid symbols for a command are by checking the valid values for the command&#8217;s arguments. For example, if you refer to <a href="chap6.html#27961">&#8220;analysis&#8221;</a>, you see that the valid values for the first argument include <code>&#39;tran</code>.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1016664"></a>analysis( &#8217;tran &#8230; )</pre>

<p>
<a name="pgfId-1016665"></a>The list of items you can save with the <code>save</code> command is also predefined. You must choose from this predefined list. See <a href="chap6.html#13482">&#8220;save&#8221;</a> and refer to the valid values for the <span class="webflare-courier-new" style="white-space:pre"><em>s_saveType</em></span> argument. The <code>&#8217;v</code> symbol indicates that the item to be saved is the voltage on a net. </p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1016669"></a>save( &#8217;v &quot;net1&quot; )</pre>
<h4>
<a name="pgfId-1016670"></a><a name="marker-1020223"></a>Convention </h4>

<p>
<a name="pgfId-1016671"></a>In this manual, a SKILL convention is used to let you know when an argument must be a symbol. When you see the prefix <span class="webflare-courier-new" style="white-space:pre"><em>s_</em></span>, you must substitute a symbol (preceded by a single quotation mark) for the argument. Consider the following syntax statement:</p>

<a name="pgfId-1016672"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
selectResults( <code><em>s_resultsName</em></code> ) =&gt; t / nil</pre>

<p>
<a name="pgfId-1016673"></a>In this case, there is one symbol that must be supplied: <span class="webflare-courier-new" style="white-space:pre"><em>s_resultsName</em></span>. For the <code>selectResults</code> command, there is a different mechanism that lets you know the list of predefined symbols. If you type the following command, with no arguments, the list of predefined symbols is returned: <code>results() =&gt; ( dc tran ac )</code> </p>
<div class="webflare-information-macro webflare-macro-note">
<a name="pgfId-1016675"></a>Depending on which results are selected, the values returned by the <code>results</code> command vary.</div>

<h3>
<a name="pgfId-1016676"></a><a name="marker-1020225"></a>Question Mark</h3>

<p>
<a name="pgfId-1016677"></a>The question mark<a name="marker-1019010"></a><a name="marker-1020277"></a> indicates an optional keyword argument, which is the first part of a keyword parameter. A keyword parameter has two components:</p>
<ul><li>
<a name="pgfId-1016678"></a>The first component is the keyword, which has a question mark in front of it. </li><li>
<a name="pgfId-1016679"></a>The second component is the value being passed, which immediately follows the keyword. </li></ul>

<p>
<a name="pgfId-1016680"></a>Keyword parameters, composed of these keyword/value pairs, are always optional.</p>

<h4>
<a name="pgfId-1016681"></a>Examples</h4>

<p>
<a name="pgfId-1016682"></a>In the following example, all the arguments to the <code>analysis</code> command except <code>&#8217;tran</code> are keyword/value pairs and are optional. </p>

<p>
<a name="pgfId-1020735"></a></p>
<div class="webflare-div-image">
<img width="668" height="82" src="images/chap1-4.gif" /></div>

<p>
<a name="pgfId-1016696"></a>For example, you can use <code>?center</code> and <code>?span</code> instead of <code>?start</code> and <code>?stop</code>. You also can omit <code>?start</code> altogether because it is an optional argument.</p>

<h4>
<a name="pgfId-1016702"></a><a name="marker-1020229"></a>Convention</h4>

<p>
<a name="pgfId-1016703"></a>In this manual, a SKILL convention is used to let you know when arguments are optional. Optional arguments are surrounded by square brackets [ ]. In the following example, all of the keyword/value pairs are surrounded by square brackets, indicating that they are optional.</p>

<a name="pgfId-1016704"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
report([?output <code><em>t_filename</em></code> | <code><em>p_port</em></code>] [?type <code><em>t_type</em></code>] [?name <code><em>t_name</em></code>] [?param <code><em>t_param</em></code>] [?format <code><em>s_reportStyle</em></code>] ) =&gt; t / nil</pre>
<h3>
<a name="pgfId-1018818"></a><a name="marker-1020231"></a><a name="22160"></a>Data Types Used in OCEAN </h3>

<p>
<a name="pgfId-1018827"></a>The following table shows the internal names and prefixes for the SKILL data types<a name="marker-1019011"></a><a name="marker-1020281"></a> that are used in OCEAN commands.</p>
<table class="webflareTable" id="#id1018745">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1018747">
<a name="pgfId-1018747"></a>Data Type</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1018749">
<a name="pgfId-1018749"></a>Internal Name</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1018751">
<a name="pgfId-1018751"></a>Prefix</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1018753"></a>floating-point number</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1018755"></a>flonum</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1018757"></a>f</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1018759"></a>any data type</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1018761"></a>general</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1018763"></a>g</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1018765"></a>linked list</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1018767"></a>list</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1018769"></a>l</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1018771"></a>integer, floating-point number<a name="marker-1019284"></a><a name="marker-1020269"></a>, or complex number</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1018773"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1018775"></a>n</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1018777"></a>user-defined type</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1018779"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1018781"></a>o</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1018783"></a>I/O port</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1018785"></a>port</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1018787"></a>p</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1018789"></a>symbol</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1018791"></a>symbol</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1018793"></a>s</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1018795"></a>symbol or character string</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1018797"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1018799"></a>S</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1018801"></a>character string (text)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1018803"></a>string</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1018805"></a>t</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1018807"></a>window type</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1018809"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1018811"></a>w</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1018813"></a>integer number</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1018815"></a>fixnum</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1018817"></a>x</p>
</td>
</tr>
</tbody></table>
<p>
<a name="pgfId-1018867"></a>For more information about SKILL datatypes, see <a href="chap4.html#40640">Chapter 4, &#8220;Working with SKILL.&#8221;</a></p>

<h3>
<a name="pgfId-1014205"></a><a name="marker-1020233"></a>OCEAN Return Values</h3>

<p>
<a name="pgfId-1014208"></a>You get return values<a name="marker-1019012"></a><a name="marker-1020255"></a> from most OCEAN commands and can use these values in other OCEAN commands.</p>
<p>
<a name="pgfId-1014368"></a>The following table shows some examples in which the return value from a command is assigned to a variable.</p>
<table class="webflareTable" id="#id1014470">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1014472">
<a name="pgfId-1014472"></a>Assigning a Return Value to a Variable</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1014474">
<a name="pgfId-1014474"></a>Resulting Value for the Variable</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1014476"></a><code>a=desVar(&quot;r1&quot; 1k)</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1014478"></a><code>a</code>=1k</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1014480"></a><code>a=desVar(&quot;r1&quot; 1k &quot;r2&quot; 2k)</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1014482"></a><code>a</code>=2k</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1014484"></a><code>a=desVar(&quot;r1&quot;)</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1014486"></a><code>a</code>=1k, assuming <code>r1</code> was set in a <code>desVar</code> command</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1014488"></a><code>a=desVar(&quot;r2&quot;)</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1014490"></a><code>a</code>=2k, assuming <code>r2</code> was set in a <code>desVar</code> command</p>
</td>
</tr>
</tbody></table>

<h3>
<a name="pgfId-1014798"></a><a name="marker-1020235"></a>Design Variables in OCEAN</h3>

<p>
<a name="pgfId-1014801"></a>Design variables<a name="marker-1019013"></a><a name="marker-1020257"></a> in OCEAN function as they do in the Virtuoso&#174; Analog Design Environment. Design variables are not assigned in the order specified. Rather, they are reordered and then assigned. Consider the following example:</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1014873"></a>desVar( &quot;a&quot; &quot;b+1&quot; )<br />desVar( &quot;b&quot; 1 )</pre>

<p>
<a name="pgfId-1014812"></a>You might expect an error because <code>a</code> is assigned the value <code>b+1</code> before <code>b</code> is assigned a value. However, OCEAN reorders the statements and sends them as follows:</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1018154"></a>desVar( &quot;b&quot; 1 )<br />desVar( &quot;a&quot; &quot;b+1&quot; )</pre>

<p>
<a name="pgfId-1018155"></a>After the reordering, there is no error. (<code>b</code> is equal to <code>1</code> and <code>a</code> is equal to <code>2</code>.)</p>
<p>
<a name="pgfId-1018156"></a>Suppose you run a simulation, then specify the following:</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1018178"></a>desVar(&quot;b&quot; 2)</pre>

<p>
<a name="pgfId-1018179"></a>You might expect <code>a</code> to be equal to <code>2</code>, which was the last value specified. Instead, <code>a</code> is reevaluated to <code>b+1</code> or <code>3</code>.</p>
<p>
<a name="pgfId-1018195"></a>This approach is similar to how the design variables are used in simulation. For example, consider a circuit that has the following resistor: </p>
<p>
<a name="pgfId-1018196"></a><code>R1 1 0 resistor r=b </code></p>
<p>
<a name="pgfId-1018197"></a>If you change the value of <code>b</code>, you expect the value of <code>R1</code> to change. You do not expect to have to netlist again or retype the <code>R1</code> instantiation.</p>
<p>
<a name="pgfId-1018677"></a>This approach is used in the Virtuoso&#174; Analog Design Environment. Users are not expected to enter design variables in a particular order. Rather, the design variables are gathered during the design variable search then reordered before they are used.</p>
<p>
<a name="pgfId-1026649"></a>You can also use a conditional expression containing the ternary operator (<code>?:</code>) to specify the value of a design variable, as shown below:</p>
<p>
<a name="pgfId-1026641"></a>desVar( &quot;b&quot; 1 )<br />desVar( &quot;a&quot; &quot;((b&gt;1)?1:0)&quot; )</p>
<div class="webflare-information-macro webflare-macro-note">
<a name="pgfId-1021794"></a>Do not use simulator reserved words as design variable names. For more information, see the <a actuate="user" class="URL" href="../Explorer/chap2.html#simulator_reserved_words" show="replace" xml:link="simple">Reserved Words</a> section in the<em> Virtuoso Analog Design Environment User Guide</em>.</div>

<h3>
<a name="pgfId-1019144"></a><a name="marker-1020237"></a>outputs() in OCEAN</h3>

<p>
<a name="pgfId-1019146"></a>Throughout this manual are examples of nets and instances preceded by a &#8220;<code>/</code>&#8221; as well as examples without the &#8220;<code>/</code>&#8221;. There is a significant difference between the two.</p>
<p>
<a name="pgfId-1019226"></a>If you create a design in the Virtuoso&#174; Analog Design Environment and save the OCEAN file, all net and instance names will be preceded with a &#8220;<code>/</code>&#8221;, indicating they are schematic names. The <code>netlist/amap</code> directory must be available to map these schematic names to names the simulator understands. (If your design command points to the raw netlist in the <code>netlist</code> directory, the <code>amap</code> directory is there.) </p>
<p>
<a name="pgfId-1019227"></a>If you create a design or an OCEAN script by hand, or move the raw netlist from the <code>netlist</code> directory, the net and instance names might not be preceded with &#8220;<code>/</code>&#8221;. This indicates that simulator names are used, and mapping is not necessary.</p>
<p>
<a name="pgfId-1019205"></a>If you are unsure whether schematic names or simulator names are used, after <code>selectResult( </code><span class="webflare-courier-new" style="white-space:pre"><em>S_resultsName</em></span><code> )</code>, type <code>outputs()</code> to see the list of net and instance names.</p>
<div class="webflare-information-macro webflare-macro-note">
<a name="pgfId-1019165"></a>Although you can move the raw netlist file from the <code>netlist</code> directory, it is not advised. There are other files in the <code>netlist</code> directory that are now required to run OCEAN.</div>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=Parametric Analysis

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h2>
<a name="pgfId-1018679"></a><a name="marker-1020239"></a><a name="15905"></a>Parametric Analysis</h2>

<p>
<a name="pgfId-1018661"></a>There are two ways you can run parametric analyses<a name="marker-1019020"></a><a name="marker-1020273"></a> in OCEAN:</p>
<ul><li>
<a name="pgfId-1017919"></a>You can use the <code>paramAnalysis</code> command (recommended approach).</li><li>
<a name="pgfId-1017920"></a>You can use a SKILL <code>for</code> loop.</li></ul>

<p>
<a name="pgfId-1017918"></a>Using the <code>paramAnalysis</code> command is an easier approach. With this command, you can set up any number of nested parametric analyses in an OCEAN script. The <code>paramRun</code> command runs all the parametric analyses. When the analysis is complete, the data can be plotted as a family of curves. The following example shows how you might use nested parametric analyses:</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1018319"></a>paramAnalysis( &quot;rl&quot; ?start 200 ?stop 600 ?step 200<br />    paramAnalysis( &#39;rs ?start 300 ?stop 700 ?step 200 </pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1018903"></a>    )</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1018904"></a>)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1018936"></a>paramRun ()</pre>

<p>
<a name="pgfId-1018322"></a>In this example, the outer loop cycles through <code>r1</code>, and the inner loop cycles through <code>rs</code> as follows:</p>
<p>
<a name="pgfId-1020615"></a>    Loop through <code>r1</code> from 200 to 600 by 200.</p>
<p>
<a name="pgfId-1020616"></a>       Loop through <code>rs</code> from 300 to 700 by 200.</p>
<p>
<a name="pgfId-1020617"></a>           Run.</p>
<p>
<a name="pgfId-1018328"></a>       End the first loop.</p>
<p>
<a name="pgfId-1018329"></a>    End the second loop.</p>
<p>
<a name="pgfId-1018511"></a>So, for <code>r1=200</code>, <code>rs</code> equals 300, 500 and then 700. Then, for <code>r1=400</code>, <code>rs</code> equals 300, 500, and then 700. Finally, for <code>r1=600</code>, <code>rs</code> equals 300, 500, and then 700</p>
<p>
<a name="pgfId-1018515"></a>Use a SKILL <code>for</code> loop only if the <code>paramAnalysis</code> command is not adequate. You can use the SKILL <code>for</code> loop to set up any number of variable-switching runs. After all the simulations are complete, you have to work with the results directories individually. The following example shows how you might use SKILL loops for parametric analyses.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1018523"></a>Cload = list( 2p 4p 6p 8p )<br />foreach( val  Cload<br />    desVar( &quot;Cload&quot; val )<br />    a=resultsDir( sprintf( nil &quot;./demo/Cload=%g&quot; val ) )<br />    printf( &quot;%L&quot;, a )<br />    run( )<br />)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1018532"></a>foreach( val  Cload<br />    openResults( sprintf( nil &quot;./&lt;dir&gt;/Cload=%g&quot; val ) )<br />    selectResults( &#39;ac )<br />    plot( vdb( &quot;vout&quot; ) )<br />)</pre>
<h3>
<a name="pgfId-1018513"></a><a name="marker-1020241"></a>Data Access Without Running a Simulation</h3>

<p>
<a name="pgfId-1013040"></a>You can retrieve and use data from previous simulations at any time by opening the data with the <code>openResults</code> command. After opening the data, you can use any data access commands on this data. For more information, see <a href="chap7.html#41813">Chapter 7, &#8220;Data Access Commands.&#8221;</a><a name="marker-1019021"></a><a name="marker-1020253"></a></p>
<p>
<a name="pgfId-1018001"></a>You can use query commands such as <code>results</code>, <code>outputs</code>, and <code>dataTypes</code> to see what data is available to be opened.</p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=Distributed Processing

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->




<h2>
<a name="pgfId-1019358"></a><a name="marker-1020243"></a><a name="17716"></a>Distributed Processing</h2>

<p>
<a name="pgfId-1019359"></a>You can use OCEAN distributed processing commands to run simulations across a collection of computer systems. The distributed processing commands allow you to specify where and when jobs are run and allow you to monitor and control jobs in a variety of ways. Using distributed commands, you can</p>
<ul><li>
<a name="pgfId-1019366"></a>Submit one or more jobs to a distributed processing queue</li><li>
<a name="pgfId-1019660"></a>Specify a host or group of hosts on which to distribute jobs</li><li>
<a name="pgfId-1019367"></a>View the status of jobs</li><li>
<a name="pgfId-1019368"></a>Specify when a job will run or in what sequence a group of jobs will run</li><li>
<a name="pgfId-1019654"></a>Suspend and resume jobs</li><li>
<a name="pgfId-1019655"></a>Cancel jobs</li></ul>





<p>
<a name="pgfId-1019369"></a>For you to be able to use the distributed processing commands, your site administrator needs to set up the lists of machines to which jobs are submitted. Each list of machines is a group of hosts and is called a queue. Consult the <em><a actuate="user" class="URL" href="../distproc/appA.html#firstpage" show="replace" xml:link="simple">Virtuoso Analog Distributed Processing Option User Guide</a></em> for more information on how to configure systems for distributed processing. For information on the distributed processing commands for OCEAN, see <a href="chap12.html#15856">Chapter 12, &#8220;OCEAN Distributed Processing Commands.&#8221;</a></p>

<h3>
<a name="pgfId-1019392"></a><a name="marker-1020245"></a>Blocking and Nonblocking Modes</h3>

<p>
<a name="pgfId-1019436"></a>You can configure jobs to run in blocking or nonblocking mode. In blocking mode, execution of subsequent OCEAN commands is halted until the job completes. In nonblocking mode, the system does not wait for the first job to finish before starting subsequent jobs.</p>

<h4>
<a name="pgfId-1019485"></a><a name="marker-1020247"></a>Blocking Mode</h4>

<p>
<a name="pgfId-1019486"></a>You must run jobs in blocking mode to be able to use the data resulting from a job in a subsequent command in an OCEAN script or batch run.</p>
<p>
<a name="pgfId-1019412"></a>For example, if you want to run a simulation, select the <code>tran</code> results from that simulation, and then plot them, you</p>
<ol><li>
<a name="pgfId-1019403"></a>Configure the simulation with setup commands</li><li>
<a name="pgfId-1019406"></a>Run the simulation with the <code>run()</code> command</li><li>
<a name="pgfId-1019409"></a>Select the desired results with the <code>selectResults( &#8217;tran)</code> command</li><li>
<a name="pgfId-1019410"></a>Plot the results with the <code>plot()</code> command</li></ol>



<p>
<a name="pgfId-1019411"></a>A job like the one in the example above must run in blocking mode so that the commands are processed sequentially. If the jobs in the example above are run in nonblocking mode, the <code>selectResult</code> command starts before the <code>run</code> command can return any data, and the <code>selectResult</code> command and the <code>plot</code> command cannot complete successfully.</p>

<h4>
<a name="pgfId-1019413"></a><a name="marker-1020249"></a>Nonblocking Mode</h4>

<p>
<a name="pgfId-1019487"></a>If you are submitting several jobs that have no interdependencies, you can run them concurrently when <code>hostmode</code> is set to <code>distributed</code>.</p>
<p>
<a name="pgfId-1019416"></a>For example, if you want to run two separate simulations as jobs, but do not want to wait until the first is complete before starting the second, you</p>
<ol><li>
<a name="pgfId-1019430"></a>Configure the first simulation with setup commands</li><li>
<a name="pgfId-1019419"></a>Configure a second simulation with setup commands</li></ol>

<p>
<a name="pgfId-1019391"></a>In the example above, the script starts the first job and then starts the second job without waiting for the first job to finish. </p>
<p>
<a name="pgfId-1019496"></a>If you are running several commands, and some of them are data access commands, you can use the <code><a href="chap12.html#22430"></a><h-hot>wait</h-hot><code></code></code> command to block a single job. The <code>wait</code> command is needed between the simulation and the data access commands to ensure the desired simulation is complete before the data is accessed.</p>
<p>
<a name="pgfId-1019676"></a>For example, if you want to run two separate simulations as jobs (<code>sim1</code> and <code>sim2</code>), and want to select and plot the results of the second simulation run, you</p>
<ol><li>
<a name="pgfId-1019681"></a>Configure the first simulation with setup commands</li><li>
<a name="pgfId-1019682"></a>Run the simulation with a <code>run(?jobPrefix &quot;sim1&quot;)</code> command</li><li>
<a name="pgfId-1019683"></a>Configure a second simulation with setup commands</li><li>
<a name="pgfId-1019685"></a>Run the second simulation with the <code>run( ?jobPrefix &quot;sim2) </code>command</li><li>
<a name="pgfId-1019688"></a>Cause the script to wait until the second simulation finishes before starting the <code>selectResults</code> command with the <code>wait(sim2)</code> command</li><li>
<a name="pgfId-1019686"></a>Select the desired results with the <code>selectResults(&#8217;tran)</code> command</li><li>
<a name="pgfId-1019687"></a>Plot the results with the <code>plot( )</code> command</li></ol>






<p>
<a name="pgfId-1019692"></a>In the example above, the script starts the first job and then starts the second job without waiting for the first job to finish. When the script reaches the <code>wait</code> command, it pauses until the second simulation runs and then selects the results to plot.</p>

<h2>
<a name="pgfId-1021786"></a><a name="72817"></a>Plotting Simulation Results</h2>

<p>
<a name="pgfId-1021787"></a>The simulation results can be plotted in Virtuoso Visualization and Analysis XL, which is supported in the OCEAN environment.</p>

<!-- [TOPIC_END] -->

<p>
<a name="pgfId-1021871"></a></p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="preface.html" id="prev" title="Preface">Preface</a></em></b><b><em><a href="chap2.html" id="nex" title="Using OCEAN">Using OCEAN</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2020, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>