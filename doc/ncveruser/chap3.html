
<html><head><title>Setting Up the Simulation Environment</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="rgirdhar" />
<meta name="CreateDate" content="2020-08-14" />
<meta name="CreateTime" content="1597435284" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes NC Verilog Integration tools, commands and forms, and the NC Verilog Integration environment." />
<meta name="DocTitle" content="Virtuoso NC-Verilog Environment User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Setting Up the Simulation Environment" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.2.1" />
<meta name="Keyword" content="ncveruser" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2020-08-14" />
<meta name="ModifiedTime" content="1597435284" />
<meta name="NextFile" content="chap4.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="chap2.html" />
<meta name="c_product" content="Virtuoso Schematic Editor" />
<meta name="Product" content="Virtuoso Schematic Editor" />
<meta name="ProductFamily" content="Virtuoso Schematic Editor" />
<meta name="ProductVersion" content="ICADVM20.1" />
<meta name="RightsManagement" content="Copyright 2012-2020 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso NC-Verilog Environment User Guide -- Setting Up the Simulation Environment" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="ICADVM20.1" />
<meta name="SpaceKey" content="ncveruserICADVM201" />
<meta name="webflare-version" content="2.0" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="ncveruserTOC.html">Contents</a></li><li><a class="prev" href="chap2.html" title="NC-Verilog Integration Control Commands">NC-Verilog Integration Control ...</a></li><li style="float: right;"><a class="viewPrint" href="ncveruser.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="chap4.html" title="Running the Simulation">Running the Simulation</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso NC-Verilog Environment User Guide<br />Product Version ICADVM20.1, October 2020</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>3
<a id="pgfId-1014239"></a></h1>
<h1>
<a id="pgfId-1014240"></a><hr />
<a id="67608"></a>Setting Up the Simulation Environment<hr />
</h1>

<p>
<a id="pgfId-1021218"></a>This chapter describes how to set up the NC-Verilog Integration Environment for a simulation.</p>
<ul><li>
<a id="pgfId-1021222"></a><a href="chap3.html#31014">Simulation Process Flowchart</a></li><li>
<a id="pgfId-1021226"></a><a href="chap3.html#20104">Selecting a Design</a></li><li>
<a id="pgfId-1014737"></a><a href="chap3.html#25198">Initializing a Design</a></li><li>
<a id="pgfId-1014741"></a><a href="chap3.html#35737">Netlisting a Design</a></li><li>
<a id="pgfId-1014745"></a><a href="chap3.html#33611">Creating Stimulus Template File</a> </li></ul>





<h2>
<a id="pgfId-1016822"></a><a id="31014"></a>Simulation Process Flowchart</h2>
<p>
<a id="pgfId-1016936"></a></p>
<div class="webflare-div-image">
<img width="669" height="554" src="images/chap3-2.gif" /></div>

<p>
<a id="pgfId-1021069"></a>You can develop designs using Virtuoso Schematic Editor for schematics, and Virtuoso Text Editor for text cellviews. You can also use other Virtuoso tools, such as VHDL Import, to include cellviews for your designs. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1021233"></a>You can import Verilog, SystemVerilog, Verilog-AMS, VHDL, and VHDL-AMS text files into the DFII environment using the <code>cdsTextTo5x</code> command. This command also lets you generate the symbol views of the imported cellviews. For details, see <em><a actuate="user" class="URL" href="../virtuosoImportTools/cdsTextTo5x.html#firstpage" show="replace" xml:link="simple">Importing Design Data by Using cdsTextTo5x</a></em>. You can also use this command to create text cellviews (5x structure), symbol views, and shadow database for SPICE, Spectre, DSPF, and PSpice.</div>

<h2>
<a id="pgfId-1016825"></a><a id="20104"></a>Selecting a Design</h2>

<p>
<a id="pgfId-1014264"></a>The process of selecting a design includes setting up your run directory and specifying the top level library, cell and the view names. You can specify this information in the main NC-Verilog window.</p>
<p>
<a id="pgfId-1014272"></a>For more information on entering run directory name and top level design, refer to <a href="chap2.html#28543">Run Directory</a>.</p>

<h2>
<a id="pgfId-1014292"></a><a id="25198"></a>Initializing a Design</h2>

<p>
<a id="pgfId-1019010"></a>To initialize a design, you can either use the Initialize design from <a href="chap2.html#29088">Fixed Menu</a> or select the Initialize design command from the <a href="chap2.html#47707">Commands Menu</a> in the main NC-Verilog window. Selecting this command initializes the specified run directory for netlisting and simulation after performing a set of checks on the run directory and the design. Following are the possible outcomes:</p>
<ul><li>
<a id="pgfId-1019026"></a>If the specified run directory already exists, then the system loads <code>.vlogifrc</code> that exists in that directory. </li><li>
<a id="pgfId-1019036"></a>If the specified run directory does not exist, then the system loads the <code>$HOME/ .vlogifrc</code>. In case no <code>.vlogifrc</code> exists, then the default settings are used.</li><li>
<a id="pgfId-1014313"></a>If you have netlisted and/or simulated in one run directory and then selected a new run directory, a dialog box prompts you to confirm if you want to use the previous run directory settings.<br />
<a id="pgfId-1014749"></a><div class="webflare-div-image">
<img width="384" height="113" src="images/chap3-3.gif" /></div></li><li>
<a id="pgfId-1014317"></a>If you want to re-use an existing run directory and change the top level library or cell or view name, a dialog box is displayed that informs you that the run directory specified had been used for a different design and whether you would want to use the same run directory for the specified design.</li></ul>







<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1020380"></a>On initializing design, if the run directory already contains a netlist, then the <em>Generate</em><code> </code><em>Netlist, Simulate, Edit TestFixture</em> and <em>Simulation Compare</em> commands would be enabled. If the run directory does not contain a netlist, then the <em>Generate Netlist </em>and <em>Simulation Compare </em>commands would be enabled.</div>

<h2>
<a id="pgfId-1020382"></a><a id="35737"></a>Netlisting a Design</h2>

<p>
<a id="pgfId-1014333"></a>Netlisting produces a Verilog text description of your design. The Verilog text description (the netlist) serves as the input for the NC-Verilog simulator. This section describes how to</p>
<ul><li>
<a id="pgfId-1020353"></a><a href="chap3.html#42229">Specify Netlisting Options</a></li><li>
<a id="pgfId-1020357"></a><a href="chap3.html#11603">Run Hierarchical Netlister</a></li></ul>


<h3>
<a id="pgfId-1020359"></a><a id="42229"></a>Specify Netlisting Options</h3>

<p>
<a id="pgfId-1019081"></a>The Netlist Setup form lets you specify netlisting options before the simulator generates the netlist. To display the <em>Netlist Setup</em> form, select the <em>Netlist </em>command from the <a href="chap2.html#36117">Setup Menu</a> on the main NC-Verilog window.</p>
<p>
<a id="pgfId-1014359"></a>The table below shows which options you set for specific netlisting tasks.</p>

<h4>
<a id="pgfId-1020455"></a>Mapping Tasks to Options</h4>
<table class="webflareTable" id="#id1020426">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1020428">
<a id="pgfId-1020428"></a>To Do This...</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1020430">
<a id="pgfId-1020430"></a>Use These Options...</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020432"></a>Specify the Netlisting Mode</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020434"></a>Entire Design<br />Incremental<br />Off</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020436"></a>Specify the View and <br />Hierarchy to Netlist</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020438"></a>Netlist These Views<br />Stop Netlisting at Views</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020440"></a>Control Netlisting</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020442"></a>Netlist for LAI/LMSI Models <br />Netlist Uppercase<br />Netlist Switch RC<br />Drop Port Range<br />Assign For Alias<br />Netlist Explicitly<br />Generate Pin Map<br />Skip Null port<br />Incremental Config List<br />Skip Timing Information<br />Support Escape Names<br />Preserve Buses<br />Netlist Uselib<br />Symbol Implicit<br />Declare Global Locally</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020444"></a>Generate default verilog test bench and default verilog stimulus</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020446"></a>Generate Verilog Test Fixture Template</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020448"></a>Specify the Global Power and Ground Signals</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020450"></a>Global Power Nets<br />Global Ground Nets</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020452"></a>Set Global Time Scale</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1020454"></a>Global Sim Time<br />Global Sim Precision</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1020459"></a>For more information on specifying the netlisting options, see <a href="chap2.html#20894">Netlist</a>.</p>

<h3>
<a id="pgfId-1020461"></a><a id="11603"></a>Run Hierarchical Netlister</h3>

<p>
<a id="pgfId-1014462"></a>To generate an incremental hierarchical netlist in the specified run directory, you select either the <em>Generate Netlist</em> option from the <a href="chap2.html#47707">Commands Menu</a> or <em>Generate Netlist</em> option from the <a href="chap2.html#29088">Fixed Menu</a>.</p>
<p>
<a id="pgfId-1014567"></a>The next action depends on how the <em>Netlisting Mode </em>option on the Netlist Setup form has been specified. (See <a href="chap3.html#42229">Specify Netlisting Options</a> for more information about the Netlist Setup form.)</p>
<ul><li>
<a id="pgfId-1014569"></a>If the <em>Netlisting Mode</em> option on the Netlist Setup form is disabled, and if the run directory already contains the netlist for the selected design, the Simulate command will be available in the <a href="chap2.html#47707">Commands Menu</a> and in the <a href="chap2.html#29088">Fixed Menu</a> so that you can proceed with simulating the design.</li><li>
<a id="pgfId-1014570"></a>If the <em>Netlisting Mode </em>option on the Netlist Setup form is enabled, and if no netlisting setup has been changed since the design was netlisted successfully, a dialog box appears, asking if you want to re-netlist the design or use the existing netlist for simulation.<br />
<a id="pgfId-1014752"></a><div class="webflare-div-image">
<img width="384" height="125" src="images/chap3-4.gif" /></div>
<a id="pgfId-1014574"></a>If you click <em>Yes</em>, the simulator re-netlists the design. If you click <em>No,</em> the existing netlist is used to compile the design.</li></ul>






<p>
<a id="pgfId-1014469"></a>After successfully netlisting the design, the simulation specific menu commands that are still not available will be available.</p>

<h2>
<a id="pgfId-1014483"></a><a id="33611"></a>Creating Stimulus Template File</h2>

<p>
<a id="pgfId-1016463"></a>By default, the system automatically creates the stimulus template file the first time you netlist your design in a new run directory. The default stimulus file, called <code>testfixture.verilog</code>, contains preinitialized signal settings that drive a simulation. This default operation is controlled by the <em>Generate Test Fixture Template</em> option on the<strong></strong>
Netlist Setup form.</p>
<p>
<a id="pgfId-1020841"></a>You can edit the test fixture file using the Edit Test Fixture form. It can be accessed from the <a href="chap2.html#47707">Commands Menu</a>. This form gives you an option to either select the default stimulus file or test bench or specify another stimulus or test bench file location. You can also edit the existing test fixture using an editor. For more information on editing test fixture, refer to <em>Edit Test Fixture</em> option under <a href="chap2.html#47707">Commands Menu</a>.</p>

<div class="webflare-information-macro webflare-macro-warning">
<a id="pgfId-1020848"></a>
If you select the Entire Design option in the Netlist setup form, and re-netlist a design, the system deletes the existing test bench and stimulus files and creates default test bench and stimulus files. If you need the edited files for later use, you need to save them to a different location before re-netlisting the entire design.</div>

<p>
<a id="pgfId-1017445"></a>For more information on stimulus and test fixtures, refer to <a href="chap6.html#36657">Chapter 6, &#8220;Working with the Stimulus&#8221;</a> .</p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="chap2.html" id="prev" title="NC-Verilog Integration Control Commands">NC-Verilog Integration Control ...</a></em></b><b><em><a href="chap4.html" id="nex" title="Running the Simulation">Running the Simulation</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2020, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>