
<html><head><title>Working with the Stimulus</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="rgirdhar" />
<meta name="CreateDate" content="2020-08-14" />
<meta name="CreateTime" content="1597435295" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes NC Verilog Integration tools, commands and forms, and the NC Verilog Integration environment." />
<meta name="DocTitle" content="Virtuoso NC-Verilog Environment User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Working with the Stimulus" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.2.1" />
<meta name="Keyword" content="ncveruser" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2020-08-14" />
<meta name="ModifiedTime" content="1597435295" />
<meta name="NextFile" content="appA.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="chap5.html" />
<meta name="c_product" content="Virtuoso Schematic Editor" />
<meta name="Product" content="Virtuoso Schematic Editor" />
<meta name="ProductFamily" content="Virtuoso Schematic Editor" />
<meta name="ProductVersion" content="ICADVM20.1" />
<meta name="RightsManagement" content="Copyright 2012-2020 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso NC-Verilog Environment User Guide -- Working with the Stimulus" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="ICADVM20.1" />
<meta name="SpaceKey" content="ncveruserICADVM201" />
<meta name="webflare-version" content="2.0" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="ncveruserTOC.html">Contents</a></li><li><a class="prev" href="chap5.html" title="Netlisting">Netlisting</a></li><li style="float: right;"><a class="viewPrint" href="ncveruser.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="appA.html" title="Customizing Your Environment">Customizing Your Environment</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso NC-Verilog Environment User Guide<br />Product Version ICADVM20.1, October 2020</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>6
<a id="pgfId-1014259"></a></h1>
<h1>
<a id="pgfId-1029064"></a><hr />
<a id="36657"></a>Working with the Stimulus<hr />
</h1>

<p>
<a id="pgfId-1029066"></a>In the NC-Verilog&#174; Integration environment, a test fixture <a id="marker-1029065"></a>provides the stimulus that drives the simulation. This chapter describes the following:</p>
<ul><li>
<a id="pgfId-1025035"></a><a href="chap6.html#94688">Simulation Process Flowchart</a></li><li>
<a id="pgfId-1025647"></a><a href="chap6.html#91956">Specifying the Test Fixture</a><ul><li>
<a id="pgfId-1025062"></a><a href="chap6.html#30697">Using Default Test Fixture Files</a></li><li>
<a id="pgfId-1025082"></a><a href="chap6.html#22629">Editing an Existing Test Fixture</a></li></ul></li><li>
<a id="pgfId-1025678"></a><a href="chap6.html#70623">Working with Test Fixture Files</a><ul><li>
<a id="pgfId-1025368"></a><a href="chap6.html#48192">Selecting Test Fixture Files</a></li><li>
<a id="pgfId-1025594"></a><a href="chap6.html#49518">Copying Edit Test Fixture Files</a></li><li>
<a id="pgfId-1025634"></a><a href="chap6.html#76938">Deleting Test Fixture Files</a></li></ul></li></ul>








<h2>
<a id="pgfId-1025637"></a><a id="94688"></a>Simulation Process Flowchart</h2>
<p>
<a id="pgfId-1025316"></a></p>
<div class="webflare-div-image">
<img width="676" height="602" src="images/chap6-2.gif" /></div>
<h2>
<a id="pgfId-1025250"></a><a id="91956"></a>Specifying the Test Fixture </h2>

<p>
<a id="pgfId-1025170"></a>To run a simulation, your current run directory must contain a test fixture. A test fixture<a id="marker-1025169"></a> provides stimulus to drive the simulation. In the NC-Verilog Integration Environment, a test fixture includes:</p>
<ul><li>
<a id="pgfId-1023558"></a>A testbench file that contains instantiation of the complete design</li><li>
<a id="pgfId-1023579"></a>A stimulus file that contains preinitialized signal settings that drive a simulation</li></ul>

<p>
<a id="pgfId-1023594"></a>NC-Verilog Integration Environment saves the paths to these files in the following two variables in the<code>.vlogifrc</code> file:</p>
<ul><li>
<a id="pgfId-1023595"></a><code>vlogifCurrentTestFixture</code>: Saves the path to the current test fixture file.</li><li>
<a id="pgfId-1023596"></a><code>vlogifCurrentStimulus</code>: Saves the path to the current stimulus file.</li></ul>

<p>
<a id="pgfId-1023676"></a>For information on selecting test fixtures, refer to <a href="chap6.html#48192">Selecting Test Fixture Files</a>. You can use either of the following methods to specify a test fixture:</p>
<ul><li>
<a id="pgfId-1025332"></a><a href="chap6.html#createDefFixture">Use Default Test Fixture Files</a></li><li>
<a id="pgfId-1025334"></a><a href="chap6.html#editExitTestFixture">Edit Existing Test Fixture Files </a></li></ul>


<h3>
<a id="pgfId-1025345"></a><a id="30697"></a>Us<a id="marker-1025336"></a>ing D<a id="createDefFixture"></a>efault Test Fixture Files</h3>

<p>
<a id="pgfId-1023687"></a>By default, when you generate netlist for your design for the first time in a new run directory, NC-Verilog creates the following test fixture files:</p>
<ul><li>
<a id="pgfId-1023664"></a>The default stimulus file, <code>testfixture.verilog</code>. </li><li>
<a id="pgfId-1023665"></a>The default testbench file, <code>testfixture.template</code>. </li></ul>

<p>
<a id="pgfId-1023746"></a>The test fixture files are automatically created when netlist is generated because the <em>Generate Verilog Test Fixture Template</em> check box on the <em>Netlist Setup</em> form is selected by default.</p>

<p>
<a id="pgfId-1023824"></a></p>
<div class="webflare-div-image">
<img width="668" height="172" src="images/chap6-3.gif" /></div>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1023773"></a>To use a test fixture that was used for the previous simulation of your design, deselect the <em>Generate Verilog Test Fixture Template</em> check box on the <em>Netlist Setup</em> form. In this case, the default test fixture files are not created while generation of netlist and the testbench and stimulus files saved in the directories specified in the<code>.vlogifrc</code> file are used.</div>

<h3>
<a id="pgfId-1023612"></a><a id="22629"></a>Editi<a id="editExitTestFixture"></a>ng an Existing Test Fixture</h3>

<p>
<a id="pgfId-1023005"></a>If you do not want to use the default test fixture files created during netlist generation, you can select an existing set of files. If required, you can also modify the default or other selected text fixture files. In the NC-Verilog Integration Environment, you can use the <em>Edit Test Fixture</em> form to work with the test fixture files. </p>
<p>
<a id="pgfId-1020742"></a>To open the <em>Edit Test Fixture</em> form, choose <em>Commands</em> &#8211; <em>Edit Test Fixture</em>. </p>

<p>
<a id="pgfId-1020766"></a></p>
<div class="webflare-div-image">
<img width="668" height="272" src="images/chap6-4.gif" /></div>

<p>
<a id="pgfId-1020767"></a>For more information on editing test fixtures, refer to <a href="chap6.html#59173">Viewing or Editing Test Fixture Files</a>.</p>

<h2>
<a id="pgfId-1025668"></a><a id="70623"></a>Working with Test Fixture Files</h2>

<p>
<a id="pgfId-1025601"></a>The following sections describe how you can work with the test fixture files:</p>
<ul><li>
<a id="pgfId-1025383"></a><a href="chap6.html#48192">Selecting Test Fixture Files</a></li><li>
<a id="pgfId-1025384"></a><a href="chap6.html#33768">Resetting the Default Test Fixture Files</a></li><li>
<a id="pgfId-1025388"></a><a href="chap6.html#59173">Viewing or Editing Test Fixture Files</a></li><li>
<a id="pgfId-1020602"></a><a href="chap6.html#49518">Copying Edit Test Fixture Files</a></li><li>
<a id="pgfId-1020613"></a><a href="chap6.html#76938">Deleting Test Fixture Files</a></li></ul>





<h4>
<a id="pgfId-1020286"></a><a id="48192"></a>Selecting <a id="selectTestFixture"></a>Test Fixture Files</h4>

<p>
<a id="pgfId-1020313"></a>The <em>File Name</em> field in the <em>Testbench</em> and <em>Stimulus</em> sections of the <em>Edit Test Fixture</em> form show the names of the testbench and stimulus files to be used for simulation. If you have generated netlist for your design for the first time in a new run directory, names of the default files are displayed. Otherwise, names of the files used in the last simulation run are displayed. </p>
<p>
<a id="pgfId-1024034"></a>To select another testbench file:</p>

<ol><li>
<a id="pgfId-1021123"></a>In the <em>Testbench</em> group box, click <em>Browse File</em> (<img width="31" height="33" src="images/chap6-5.gif" />
). <br />
<a id="pgfId-1024053"></a>The <em>Select Testbench File</em> form appears. <br />
<a id="pgfId-1024077"></a><div class="webflare-div-image">
<img src="images/ncverilog_ETF_select_TB.gif" /></div></li><li>
<a id="pgfId-1024095"></a>Browse to the directory where the testbench you want to use is saved and select the file. </li><li>
<a id="pgfId-1024096"></a>Click <em>Open</em> to use the specified file and close the form. <br />
<a id="pgfId-1021152"></a>The selected file becomes the current testbench and its name appears in the <em>File Name</em> field.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1024985"></a>The names of the testbench files used in previous simulations are saved in the <em>File Name </em>field list. You can select a file name from this list also and use it for the current simulation.</div></li><li>
<a id="pgfId-1024859"></a>Ensure that the <em>Set Selected File As Testbench</em> check box is selected. If this check box is deselected, the testbench file used in the previous simulation run is used. </li><li>
<a id="pgfId-1024851"></a>Click <em>Apply</em> to apply the change.</li></ol>












<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1020832"></a>The value of the <code>vlogifCurrentTestFixture</code> variable in the <code>.vlogifrc</code> file is also updated with the file name you selected in this form.</div>
<p>
<a id="pgfId-1024199"></a>Similarly, in the <em>Stimulus</em> group box, you can select a stimulus file.</p>

<h4>
<a id="pgfId-1022369"></a><a id="33768"></a>Resetting the Default Test Fixture Files</h4>

<p>
<a id="pgfId-1024433"></a>At any time, if you want to select the default test fixture files, click the <em>Defaults</em> button in the <em>Edit Test Fixture</em> form. </p>

<p>
<a id="pgfId-1024438"></a></p>
<div class="webflare-div-image">
<img width="551" height="135" src="images/chap6-7.gif" /></div>

<p>
<a id="pgfId-1024425"></a>The names of the default files, <code>textfixture.template</code> and <code>textfixture.verilog</code>, are displayed in both the <em>File Name</em> fields in the form. In addition, the two check boxes, <em>Set Selected File as Testbench</em> and <em>Set Selected File as Stimulus</em>, are also automatically selected.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1024270"></a>If the default test fixture files were not created in any previous run, these are created when the next time netlist is created for this design.</div>

<h4>
<a id="pgfId-1024274"></a><a id="59173"></a>Viewing or <a id="editTestFixture"></a>Editing Test Fixture Files</h4>

<p>
<a id="pgfId-1022732"></a>You can view or edit the contents of the currently selected test fixture files in a text editor. To open the testbench or stimulus file from the <em>Edit Test Fixtur</em>e form, click <em>Edit/View Selected File</em>(<img width="31" height="33" src="images/chap6-8.gif" /><span>). </span></p>

<p>
<a id="pgfId-1024306"></a>The selected file opens in the default text editor of Virtuoso. You can make the desired changes in the file and save it. However, before making changes to a file, you might want to save a copy of that file. For more details, see <a href="chap6.html#49518">Copying Edit Test Fixture Files</a>.</p>
<p>
<a id="pgfId-1024387"></a>After you edit a file, click <em>Check Syntax</em> below the file name to check for any syntax errors. </p>

<p>
<a id="pgfId-1024391"></a></p>
<div class="webflare-div-image">
<img width="551" height="133" src="images/chap6-9.gif" /></div>

<p>
<a id="pgfId-1024361"></a>NC-Verilog internally starts ncvlog that checks the test fixture file for any syntax error and displays appropriate messages.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1029090"></a>The executable and log file names will depend on the simulator being used. For the changes in the executable and log file name when using the Xcelium simulator, see <a href="appB.html#80897">Running Simulations with Xcelium</a>.</div>

<h4>
<a id="pgfId-1021480"></a><a id="49518"></a>Copying Edit <a id="copyTestfixture"></a>Test Fixture Files</h4>
<p>
<a id="pgfId-1021482"></a>You can copy the current test fixture files to the current or a different run directory. You would typically do this if you want to edit the file for the current simulation, but you want to use it as it is for another simulation run.</p>
<p>
<a id="pgfId-1021642"></a>To copy the currently selected test fixture file,</p>

<ol><li>
<a id="pgfId-1021666"></a>Click <em>Copy Selected File</em> (<img width="31" height="33" src="images/chap6-10.gif" />
). <br />
<a id="pgfId-1021667"></a>The <em>Copy To</em> form appears. </li><li>
<a id="pgfId-1021485"></a>Browse to the directory where you want to save a copy of the current file.</li><li>
<a id="pgfId-1021787"></a>In the <em>File name</em> field, specify the name with which you want to save a copy of the file.</li><li>
<a id="pgfId-1021816"></a>Click <em>Save</em>.</li></ol>






<p>
<a id="pgfId-1021771"></a>A copy of the testbench file is created in the specified directory. </p>

<h4>
<a id="pgfId-1024616"></a><a id="76938"></a>Deleting <a id="deleteTestfixture"></a>Test Fixture Files</h4>

<p>
<a id="pgfId-1024620"></a>To delete the selected testbench or the stimulus file, click <em>Delete Selected File</em> (<img width="31" height="33" src="images/chap6-11.gif" />
) next to the file name. A dialog box appears prompting you to confirm that you want to delete the file. Click <em>Yes</em></p><span> to delete the file. The file is removed from the </span><br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="chap5.html" id="prev" title="Netlisting">Netlisting</a></em></b><b><em><a href="appA.html" id="nex" title="Customizing Your Environment">Customizing Your Environment</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2020, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>