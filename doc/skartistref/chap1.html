
<html><head><title>Introduction</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="shubh" />
<meta name="CreateDate" content="2020-09-18" />
<meta name="CreateTime" content="1600446004" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the Analog Design Environment SKILL functions." />
<meta name="DocTitle" content="Virtuoso ADE SKILL Reference - Part I" />
<meta name="DocType" content="SKILL Reference" />
<meta name="FileTitle" content="Introduction" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.2.1" />
<meta name="Keyword" content="skartistref" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2020-09-18" />
<meta name="ModifiedTime" content="1600446004" />
<meta name="NextFile" content="chap2.html" />
<meta name="Order" content="1" />
<meta name="Group" content="Analog Design Environment" />
<meta name="Platform" content="Custom IC Design,Custom IC Design" />
<meta name="PrevFile" content="preface.html" />
<meta name="c_product" content="Virtuoso Analog Design Environment,Virtuoso Schematic Editor" />
<meta name="Product" content="Virtuoso Analog Design Environment,Virtuoso Schematic Editor" />
<meta name="ProductFamily" content="Virtuoso Analog Design Environment,Virtuoso Schematic Editor" />
<meta name="ProductVersion" content="ICADVM20.1" />
<meta name="RightsManagement" content="Copyright 2012-2020 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso ADE SKILL Reference - Part I -- Introduction" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="ICADVM20.1" />
<meta name="SpaceKey" content="skartistrefICADVM201" />
<meta name="webflare-version" content="2.0" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="skartistrefTOC.html">Contents</a></li><li><a class="prev" href="preface.html" title="Preface">Preface</a></li><li style="float: right;"><a class="viewPrint" href="skartistref.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="chap2.html" title="Initialization Functions">Initialization Functions</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso ADE SKILL Reference - Part I<br />Product Version ICADVM20.1, October 2020</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>1
<a id="pgfId-1032287"></a></h1>
<h1>
<a id="pgfId-1032288"></a><hr />
Introduction<hr />
</h1>

<p>
<a id="pgfId-1032664"></a>The Virtuoso Analog Design Environment L SKILL functions in this manual are organized into chapters according to their purpose. Within each chapter, the functions are in alphabetical order.<a id="marker-1032665"></a> </p>
<p>
<a id="pgfId-1032666"></a>You can use the functions in this manual to do the following:</p>
<ul><li>
<a id="pgfId-1032667"></a>Change the values of existing variables, such as the default values of model paths or simulator options.<br />
<a id="pgfId-1032671"></a>For more information, see <a href="chap1.html#17908">&#8220;Tools and Sessions&#8221;</a>.</li><li>
<a id="pgfId-1032672"></a>Help you integrate a simulator into the Virtuoso analog design environment. An integrator is someone responsible for making the changes necessary to include a circuit in the Virtuoso analog design environment (You need to purchase the OASIS product in order to integrate a simulator.)<a id="marker-1032673"></a></li><li>
<a id="pgfId-1032674"></a>Add new features to existing simulators. <br />
<a id="pgfId-1032678"></a>For more information, see <a href="chap1.html#32479">&#8220;Adding Features to Simulators&#8221;</a>.</li></ul>








<p>
<a id="pgfId-1032681"></a>If you need to change the menus for the Simulation window, see <a href="chap1.html#12689">&#8220;Changing Virtuoso Analog Design Environment Banner Menus&#8221;</a>.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1032683"></a>Read this entire chapter before you use any of the functions in this manual.</div>
<p>
<a id="pgfId-1032685"></a>Cadence has integrated simulators into the analog design environment by using the direct simulation approach. With direct simulation, the netlist uses the syntax of the simulator you are using, without any processing to evaluate expressions. The passed parameters, design variables, functions, and so on are all resolved by the simulator. The netlist is a direct reflection of the design. </p>

<h2>
<a id="pgfId-1032689"></a><a id="17908"></a>Tools and Sessions</h2>

<p>
<a id="pgfId-1032690"></a>Understanding the difference between a tool object and a session object will help you use many of the routines in this manual. A<em> tool</em> object is a data structure that contains all the default and static data for a simulator. For example, the fields on an analysis form are static (a transient analysis always has a <em>From, To</em>, and By field). A <em>session</em> object contains data that might change between simulator uses, such as the values of the <em>From</em>, <em>To</em>, and <em>By</em> fields, or design variables or model paths.<a id="marker-1032691"></a></p>
<p>
<a id="pgfId-1032692"></a>Several sessions can be associated with one tool. This means you can start several Cadence sessions, each with different transient analysis settings, for example. However, all these sessions are associated with<a id="marker-1032693"></a> one tool (<code>spectree</code>).</p>

<div class="webflare-div-image">
<img width="487" height="331" src="images/chap1-2.gif" /></div>

<p>
<a id="pgfId-1032730"></a>Most of the routines in this manual take the<code> tool </code>argument. Some take either the <code>tool</code> or the <code>session</code> argument, and some take only the <code>session</code> argument. For example, <code>asiSetEnvOptionVal</code> takes the following arguments: </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1032731"></a>asiSetEnvOptionVal( {<code><em>o_tool</em></code> | <code><em>o_session</em></code>} <code><em>s_name</em></code> <code><em>g_value</em></code>)</pre>

<p>
<a id="pgfId-1032732"></a>This means you can pass in either a tool or a session object. If you pass in a tool object, you are modifying the tool and every session created <em>after</em> this. If you pass in a session object, your changes affect the current session only.</p>

<h3>
<a id="pgfId-1032733"></a>Example</h3>

<p>
<a id="pgfId-1032734"></a>Suppose you have a <code>cdsSpice</code> tool with the model path set to <code>~/models</code>, and a schematic window open with your design. When you open a Simulation window, which is set to use the <code>cdsSpice</code> simulator by default, you are starting a <code>cdsSpice</code> session. If you bring up the Environment Options form, the model path is set to <code>~/models</code>. You can change the model path for the tool by typing the following in the CIW:<a id="marker-1032735"></a></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1032736"></a>asiSetEnvOptionVal( asiGetTool(&#8217;cdsSpice) &#8217;modelPath <br />&quot;~/processA/best/models&quot;)</pre>

<p>
<a id="pgfId-1032737"></a>Now if you check the model path from your existing <code>cdsSpice</code> simulation window, it is still set to <code>~/models</code>. This is because this session was previously created based on the original tool. However, if you open a second <code>cdsSpice</code> simulation window, a new session is created based on the modified <code>cdsSpice</code> tool. In this session, the model path is set to <code>~/processA/best/models</code>.</p>
<p>
<a id="pgfId-1032738"></a>If you do not want to open another session, but you want to change the model path in the current session, you might type the following command in the CIW:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1032739"></a>asiSetEnvOptionVal( asiGetCurrentSession() &#8217;modelPath <br />&quot;~/processA/best/models&quot;)</pre>

<p>
<a id="pgfId-1032740"></a>This changes the model path in the existing session only. If you open another session, the <code>modelPath</code> value is still set to <code>~/models.</code><em> </em>This is because the command did not change the default value of the model path, it changed the session value only.<a id="marker-1032741"></a></p>
<p>
<a id="pgfId-1032742"></a>You can think of a tool as the template from which sessions are created. Changing a tool affects all sessions created after the tool is changed, but does not affect existing sessions. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1032743"></a>The functions in this manual are contained primarily in the <code>oasis.cxt</code> and <code>analog.cxt</code> files. You must load these context files before using the functions. (Bringing up the Simulation window automatically loads these contexts.)<a id="marker-1032744"></a><a id="marker-1032745"></a></div>

<h3>
<a id="pgfId-1032746"></a>Use Models</h3>

<p>
<a id="pgfId-1032747"></a>There are two common use models for the routines that take the tool <br />and/or session<a id="marker-1032748"></a> object.<a id="marker-1032749"></a></p>

<h4>
<a id="pgfId-1032750"></a>Working with Tools</h4>

<p>
<a id="pgfId-1032751"></a>Often you need to modify an item or option related to a tool. These types of operations might include the following:</p>
<ul><li>
<a id="pgfId-1032752"></a>Adding an option to a tool</li><li>
<a id="pgfId-1032753"></a>Changing a tool option</li><li>
<a id="pgfId-1032754"></a>Deleting a tool option</li><li>
<a id="pgfId-1032755"></a>Setting a tool option&#8217;s value</li><li>
<a id="pgfId-1032756"></a>Getting a tool option (object)</li></ul>




<p>
<a id="pgfId-1032757"></a>You can set up a routine in your <em>.</em><code>cdsinit</code><em> </em>file to do this. For example, suppose you wanted to set the following options for every new <code>spectreS</code> session.</p>
<ul><li>
<a id="pgfId-1032758"></a>Model path set to <code>~/processA/best/models</code></li><li>
<a id="pgfId-1032759"></a>Include file set to <code>~/processA/best/models/include</code></li></ul>

<p>
<a id="pgfId-1032760"></a>You might add the following routines to your <em>.</em><code>cdsinit</code> file:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1032761"></a>asiSetEnvOptionVal( asiGetTool(&#8217;spectreS) &#8217;modelPath <br />&quot;~/processA/best/models&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1032762"></a>asiSetEnvOptionVal( asiGetTool(&#8217;spectreS) &#8217;includeFile <br />&quot;~/processA/best/models/include&quot;)</pre>

<p>
<a id="pgfId-1032763"></a>Because these calls to <code>asiSetEnvOptionVal</code> are in the <em>.</em><code>cdsinit</code> (before any sessions are opened), all subsequent sessions contain the specified model path and include file.</p>

<h4>
<a id="pgfId-1032764"></a>Getting Values from Sessions</h4>

<p>
<a id="pgfId-1032766"></a>Sometimes you want to get a value from an existing session.<a id="marker-1032765"></a></p>
<p>
<a id="pgfId-1032767"></a>For example, suppose you are writing some custom SKILL code in which you need to get the value of the transient to field for the existing session. In this case, you might use the following code:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1032768"></a>session = asiGetCurrentSession()</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1032769"></a>analysis = asiGetAnalysis(session &#8217;tran)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1032770"></a>valueOfTo=asiGetAnalysisFieldVal( analysis &#8217;to)</pre>
<h2>
<a id="pgfId-1032771"></a>Class Structures</h2>

<p>
<a id="pgfId-1032774"></a>In Virtuoso analog design environment, much of the underlying code utilizes <em>classes</em>. A class determines the structure and behavior of its instances, which are known as objects. A class inherits information from its parent class (or super class) and passes information to its subclass. Understanding classes will help you use some of the functions in this manual that utilize the inheritance mechanism. (These functions are called methods and are explained in the section <a href="chap1.html#86593">Methods in the Virtuoso Analog Design Environment</a><a id="marker-1032772"></a><a id="marker-1032773"></a>&#8220;.)</p>
<p>
<a id="pgfId-1032775"></a>The following figure shows how the classes are organized in Virtuoso analog design environment. </p>

<div class="webflare-div-image">
<img width="676" height="525" src="images/chap1-3.gif" /></div>

<p>
<a id="pgfId-1032836"></a>The class structure is organized as follows:</p>
<ul><li>
<a id="pgfId-1032837"></a>The <em>Tools Class</em> is the base or root class. Anything declared in the Tools Class is inherited by all the other subclasses.<a id="marker-1032838"></a></li><li>
<a id="pgfId-1032839"></a><em>The Simulation Class</em> inherits everything from the Tools Class. Simulation is the base class for all simulators, and anything declared in the Simulation Class is inherited by all the simulators.<a id="marker-1032840"></a></li><li>
<a id="pgfId-1032841"></a><em>The Analog Class</em> inherits everything from the Simulation Class. The Analog Class adds all the generic analog simulation features to the set. Anything declared in the Analog Class is inherited by all the analog simulators.<a id="marker-1032842"></a></li></ul>


<p>
<a id="pgfId-1032845"></a>If an inherited feature from any level is not applicable to a lower level, you can delete or change the feature at the lower level. </p>

<h2>
<a id="pgfId-1032846"></a><a id="86593"></a>Methods in the Virtuoso Analog Design Environment</h2>

<p>
<a id="pgfId-1032847"></a>Some of the functions in this manual are defined as <em>methods</em> for integrators. A method is a function that can be <em>overloaded</em>. In other words, the same function can be defined in different ways depending on the class of the arguments that users pass to the function. With methods, the same function name can specify a general class of actions. The user, by supplying an initial argument of a particular class to the function, determines the specific action of the function. (The SKILL++ object system analyzes the class of the initial argument to determine which variant of the function to call.) The methods in this manual have examples for integrators.<a id="marker-1032848"></a></p>
<p>
<a id="pgfId-1032849"></a>When using methods, the space after the name of the procedure is required. (When using SKILL procedures, the space after the name of the procedure is not allowed.)</p>

<div class="webflare-div-image">
<img width="635" height="125" src="images/chap1-4.gif" /></div>

<p>
<a id="pgfId-1032862"></a>You can use <code>defmethod</code><a id="marker-1032861"></a> to create a method that is specialized for a particular class. If a user calls a function with an initial argument of this class, the SKILL++ object system looks for the corresponding method for that class. If there isn&#8217;t a match for that class, the SKILL++ object system looks for a match in the class above, and so on.</p>
<p>
<a id="pgfId-1032863"></a>Using methods gives you the following advantages:</p>
<ul><li>
<a id="pgfId-1032864"></a>You can overload an existing method for your own simulator-specific classes. In other words, you can customize an existing Virtuoso analog design environment function for your simulator.</li><li>
<a id="pgfId-1032865"></a>You can use the <code>callNextMethod</code> procedure to use an inherited method and add some code before or after it.</li></ul>

<p>
<a id="pgfId-1032867"></a>For more information about methods, consult the <h-hot><a actuate="user" class="URL" href="../skoopref/skooprefTOC.html#firstpage" show="replace" xml:link="simple">Cadence SKILL++ Object System Reference</a></h-hot>.</p>

<h3>
<a id="pgfId-1032868"></a>Overloading Methods</h3>

<p>
<a id="pgfId-1032869"></a>You can overload an existing method for your own simulator-specific classes. For example, there is a method to send simulation options (<code>asiSendOptions</code>) in the Analog Class. You probably need to create a different method to send your options. To do this, create your own method named <code>asiSendOptions</code> that is used by your simulator. You do not have to modify the routine that calls <code>asiSendOptions</code><em>.</em> Your procedure takes precedence over the method in the Analog Class.<a id="marker-1032870"></a></p>
<p>
<a id="pgfId-1032884"></a>For example, the following is an Analog Class method declaration to send options:</p>

<div class="webflare-div-image">
<img width="676" height="110" src="images/chap1-5.gif" /></div>

<p>
<a id="pgfId-1032886"></a>To create your own <code>asiSendOptions</code> procedure, use the following declaration:<a id="marker-1032885"></a></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1032887"></a>defmethod(asiSendOptions ( (session &lt;<code><em>yourSimulator</em></code>&gt;_session) ) 
&#160;&#160;&#160;&#160;println(&quot;asiSendOptions for your simulator class&quot;)
)&#160;&#160;&#160;&#160;</pre>

<p>
<a id="pgfId-1032888"></a>When Virtuoso analog design environment sends the simulation options for your simulator, your <code>asiSendOptions</code> method is called because the first argument is of the class <em>&lt;</em><span class="webflare-courier-new" style="white-space:pre"><em>yourSimulator</em></span><em>&gt;</em>_session. For more information about <em>defmethod</em>, consult the <h-hot><a actuate="user" class="URL" href="../skoopref/skooprefTOC.html#firstpage" show="replace" xml:link="simple">Cadence SKILL++ Object System Reference</a></h-hot>.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1032890"></a>You should replace <em>&lt;</em><span class="webflare-courier-new" style="white-space:pre"><em>yourSimulator</em></span><em>&gt;</em> with the name of your simulator. Do not include the angle brackets (&lt;&gt;).</div>

<h3>
<a id="pgfId-1032891"></a>Customizing an Inherited Method for Your Simulator</h3>

<p>
<a id="pgfId-1032893"></a>The <code>callNextMethod</code><a id="marker-1032892"></a> procedure lets you use an inherited method and add some code before or after it. <a id="marker-1032894"></a></p>
<p>
<a id="pgfId-1032895"></a>For example, suppose you need to modify the transient analysis to add transient options for your simulator. You need to write a method to send the information to Cadence SPICE. There is already a method defined to send a transient analysis to Cadence SPICE. Because there are no transient options in the default analysis, the code does not send options. So you can use <code>callNextMethod</code><em>()</em> to call the method to format the analysis, then call your procedure to format the options. <a id="marker-1032896"></a><a id="marker-1032897"></a></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1032898"></a>defmethod(asiFormatAnalysis ( 
&#160;&#160;&#160;&#160;(analysis &lt;<code><em>yourSimulator</em></code>&gt;_tran_analysis) fp)
&#160;&#160;&#160;&#160;callNextMethod()
&#160;&#160;&#160;&#160;asiFormatAnalysisOption(analysis fp)
&#160;&#160;&#160;&#160;t<br />)</pre>

<p>
<a id="pgfId-1032899"></a>In this example, <code>callNextMethod</code> calls the analog <code>asiFormatAnalysis</code> method to format the transient analysis and send it to Cadence SPICE. Then your <code>asiFormatAnalysis</code> method calls <code>asiFormatAnalysisOption</code> to format and send the options.</p>
<p>
<a id="pgfId-1032900"></a>For more information about <em>callNextMethod</em>, consult the <h-hot><a actuate="user" class="URL" href="../skoopref/skooprefTOC.html#firstpage" show="replace" xml:link="simple">Cadence SKILL++ Object System Reference.</a></h-hot></p>

<h2>
<a id="pgfId-1032903"></a><a id="32479"></a>Adding Features to Simulators</h2>

<p>
<a id="pgfId-1032904"></a>You can use the functions in this manual to add new features to existing simulators. Create a SKILL file to hold<a id="marker-1032905"></a> your<a id="marker-1032906"></a> information.<a id="marker-1032907"></a></p>
<ol><li>
<a id="pgfId-1032908"></a>Use the <code>asiGetTool</code> function to get the tool object associated with the simulator you want to modify.</li><li>
<a id="pgfId-1032909"></a>Add the features you want by using the procedures in this manual and passing in the <em>tool</em> argument.<br />
<a id="pgfId-1032910"></a>For example, you might use <code>asiAddEnvOption</code> to add an environment option or <code>asiAddSimOption</code> to add a simulator option.</li><li>
<a id="pgfId-1032911"></a>If needed, add the code to send your option to Cadence SPICE (to send to your target simulator).</li><li>
<a id="pgfId-1032912"></a>If needed, add the code to invalidate the flowchart step if the value of your option changes. </li><li>
<a id="pgfId-1032913"></a>Load your code changes into your .<code>cdsinit</code> file. <br />
<a id="pgfId-1032914"></a>Later, you can add your changes to your site .<code>cdsinit</code> file.</li><li>
<a id="pgfId-1032916"></a>Add any necessary changes to the .<code>cdsenv</code> file<a id="marker-1032915"></a>. <ul><li>
<a id="pgfId-1032917"></a>Type <code>virtuoso</code> in a UNIX shell.</li><li>
<a id="pgfId-1032918"></a>Type the following command in the CIW and substitute the appropriate simulator name for &lt;<span class="webflare-courier-new" style="white-space:pre"><em>simulator</em></span>&gt;. Do not include the angle brackets (&lt;&gt;).</li></ul><br /><pre class="webflare-pre-block webflare-courier-new" id="#id1032919">
<a id="pgfId-1032919"></a>asiCreateCdsenvFile(&#8217;&lt;<code><em>simulator</em></code>&gt;)</pre><span class="indent-as-level2">
<a id="pgfId-1032920"></a>A file called <code>&lt;</code><span class="webflare-courier-new" style="white-space:pre"><em>simulator</em></span><code>&gt;CdsenvFile</code> is created in your current working directory.</span><ul><li>
<a id="pgfId-1032921"></a>Use this file to replace the existing .<code>cdsenv</code> file in the
&lt;<span class="webflare-courier-new" style="white-space:pre"><em>install_dir</em></span><code>&gt;/tools/dfII/etc/tools/&lt;</code><span class="webflare-courier-new" style="white-space:pre"><em>simulator</em></span>&gt; directory. Be sure to save a backup copy of the existing <code>.</code>cdsenv file before completing this step. Use the following command to replace the existing <code>.</code>cdsenv file with your new file:</li></ul><br /><pre class="webflare-pre-block webflare-courier-new" id="#id1032922">
<a id="pgfId-1032922"></a> mv &lt;<code><em>simulator</em></code>&gt;CdsenvFile &lt;<code><em>install_dir</em></code>&gt;/tools/dfII/etc/
  tools/&lt;<code><em>simulator</em></code>&gt;/.cdsenv</pre></li></ol>




















<h4>
<a id="pgfId-1032923"></a>Example</h4>

<p>
<a id="pgfId-1032924"></a>The following example shows how you might add an environment option called <code>myFile</code> to the environment options form for spectreS. The steps from the previous procedure are called out in the comments.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1032925"></a>; get the spectreS tool 
tool=asiGetTool(&#8217;spectreS) &#160;&#160;&#160;&#160;; This is step 1.
; add the environment option myFile
asiAddEnvOption( tool       ; This is step 2.
&#160;&#160;&#160;&#160;?name         &#160;&#160;&#160;&#160;     &#8217;myFile<br /> ?type               &#8217;fileName<br /> ?prompt             &quot;My File&quot;<br /> ?value              &quot;&quot;<br /> ?invalidateFunc       &#8217;asiInvalidateControlStmts  <br />       ; This is step 4. See the note <br />       ; following this example.<br />)

; modify the step that sends control statements,to send myFile also.
flowchart = asiGetFlowchart( tool ) &#160;&#160;&#160;&#160;     ; This is step 3. <br />asiChangeFlowchartStep( flowchart  
&#160;&#160;&#160;&#160;?name &#160;&#160;&#160;&#160;     &#8217;asiSendControlStmts<br /> ?postFunc       &#8217;mySendMyFile<br />)

; Write the routine (mySendMyFile) to send (the contents of) myFile to cdsSpice.
defmethod( mySendMyFile ( ( session spectreS_session ) )  
; This is also step 3.
&#160;&#160;&#160;&#160;let(( netlistDir customInclude customIncludeFile )

&#160;&#160;&#160;&#160; ; Check if the option is set.<br />  if( nequal( asiGetEnvOptionVal( session &#8217;myFile) &quot;&quot;) then<br />
&#160;&#160;&#160;&#160; ; There is a mechanism in cdsSpice that allows you to <br />  &#8217; create a file<br />  ; called: .customInclude in the netlist directory. If you<br />  ; then send<br />  ; a &#8217;ptptop&#8217; command to cdsSpice, it includes the contents of<br />  ; .customInclude in the final netlist for your target<br />  ; simulator.<br />
&#160;&#160;&#160;&#160; ; Open the .customInclude file in the netlist directory.<br />  netlistDir = asiGetNetlistDir(session)<br />  when( rexMatchp( &quot;Verilog&quot; asiGetSimName( session ) )<br />    netlistDir = strcat( netlistDir &quot;/analog&quot; )<br />  )<br />  customInclude=strcat(netlistDir &quot;.customInclude&quot;)<br />  customIncludeFile = outfile( customInclude &quot;w&quot;)<br />
&#160;&#160;&#160;&#160; ; Add whatever you need to add to this file.<br />  ; In this case, perhaps it is the contents of &#8217;myFile&#8217;.<br />
&#160;&#160;&#160;&#160; ; When you are finished, close the file.<br />  close( customIncludeFile )<br />
&#160;&#160;&#160;&#160; ; Send the &#8217;ptprop&#8217; command to cdsSpice to include the<br />  ; contents of this file in the final netlist.<br />  asiSendSim( session &quot;ptprop analog CustomIncludeFile 1&quot; nil<br />  nil nil )<br />  else<br />  ; Send the command to turn off the inclusion of the file in<br />  ; the final netlist.<br />  asiSendSim( session &quot;deprop analog CustomIncludeFile&quot;  nil<br />  nil nil )<br />  )<br />  t<br /> )<br />)</pre>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1032926"></a><code>asiInvalidateControlStmts</code> is a wrapper to <code>asiInvalidateFlowchartStep</code>, which invalidates the <code>asiSendControlStmts</code> step (as shown below):</div>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1032927"></a>defmethod( asiInvalidateControlStmts ( ( session spectreS_session ) )<br />asiInvalidateFlowchartStep( session &#8217;asiSendControlStmts )<br />)</pre>
<h2>
<a id="pgfId-1032929"></a><a id="12689"></a>Changing Virtuoso Analog Design Environment Banner Menus</h2>

<p>
<a id="pgfId-1032933"></a>You can change the banner menus in the <a id="marker-1032930"></a>Simulation<a id="marker-1032931"></a> window<a id="marker-1032932"></a> by creating a copy of the<em> </em><code>simui.menus</code> file and make required modifications required in it. The <code>simui.menus</code><a id="marker-1032935"></a> file is located at</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1032937"></a>&lt;<code><em>install_dir</em></code>&gt;/tools/dfII/etc/tools/menus/simui.menus</pre>

<p>
<a id="pgfId-1032938"></a>The beginning of this file explains the syntax for menu definitions.</p>
<p>
<a id="pgfId-1032939"></a>Place a copy of the file at the following location:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1032940"></a>&lt;<code><em>install_dir</em></code>&gt;/tools/dfII/local/menus/simui.menus</pre>

<p>
<a id="pgfId-1032941"></a>This location is for site customization. You can also put <code>menus/simui.menus</code> in</p>
<ul><li>
<a id="pgfId-1037991"></a>The workArea (if there is any) or the current working directory </li><li>
<a id="pgfId-1038005"></a>The projectArea (if TDM is in use) </li><li>
<a id="pgfId-1038009"></a>Your home directory.</li></ul>


<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1032945"></a>You must create the <code>menus</code> directory to hold the <span class="webflare-courier-new" style="white-space:pre"><em>simui.menus</em></span> file.</div>
<p>
<a id="pgfId-1032946"></a>Add the definition for the appropriate callback routine and associated code to the appropriate SKILL files. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1032947"></a>You can also add menus by using the SKILL <span class="webflare-courier-new" style="white-space:pre"><em>hi</em></span> calls.</div>

<h3>
<a id="pgfId-1032948"></a>Changing Banner Menus for a Particular Simulator</h3>

<p>
<a id="pgfId-1032949"></a>You can also customize the banner menus (in the Simulation window) for a particular simulator by <a id="marker-1038248"></a>modifying the &lt;<span class="webflare-courier-new" style="white-space:pre"><em>simulator</em></span>&gt;.<code>menus</code> file.Look for the file in the following location. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1032953"></a>&lt;<code><em>install_dir</em></code>&gt;/tools/dfII/etc/tools/menus/&lt;<code><em>simulator</em></code>&gt;.menus</pre>

<p>
<a id="pgfId-1032954"></a>If the file you need is here, make a copy of the file and make any modifications you want. If the file you need is not here, you can use the <code>spectreS</code> file (or another simulator file) as an example. Rename this file for your simulator and make any changes you want. (Do not include the angle brackets (&lt;&gt;) in the file name.)</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1032955"></a>The &lt;<span class="webflare-courier-new" style="white-space:pre"><em>simulator</em></span>&gt;.menus file can be for a Cadence simulator or a non-Cadence simulator. </div>
<p>
<a id="pgfId-1032956"></a>Place a copy of the file in the following location.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1032958"></a>&lt;<code><em>install_dir</em></code>&gt;/tools/dfII/local/menus/&lt;<code><em>simulator</em></code><a id="marker-1032957"></a>&gt;.menus</pre>

<p>
<a id="pgfId-1032959"></a>This location is for site customization. You can also put <code>menus/&lt;</code><span class="webflare-courier-new" style="white-space:pre"><em>simulator</em></span><code>&gt;.menus</code> in </p>
<ul><li>
<a id="pgfId-1032960"></a>The workArea (if there is any) or the current working directory</li><li>
<a id="pgfId-1032961"></a>The projectArea (if TDM is in use)</li><li>
<a id="pgfId-1032962"></a>Your home directory</li></ul>


<p>
<a id="pgfId-1032963"></a>Add the definition for the appropriate callback routine and associated code to your appropriate SKILL files. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1032964"></a>You can also add menus by using the SKILL <em>hi</em> calls.</div>

<h2>
<a id="pgfId-1032965"></a>Searching for SKILL Functions from the Finder</h2>

<p>
<a id="pgfId-1035987"></a>Use the Cadence SKILL API Finder tool to display the description and syntax of the Virtuoso Analog Design Environment SKILL functions.<a id="marker-1032967"></a> To open the SKILL API Finder<a id="marker-1032968"></a><a id="marker-1032969"></a> from the CIW, select <em>Tools &#8211; SKILL Finder</em>. The Cadence SKILL API Finder appears.</p>
<p>
<a id="pgfId-1032974"></a>For information about using the SKILL API Finder, refer to the <h-hot><a actuate="user" class="URL" href="../skillide/finder.html#firstpage" show="replace" xml:link="simple">Using SKILL API Finder</a></h-hot> appendix in the Cadence SKILL IDE User Guide or click Help &#8211; Finder Help in the Finder.</p>
<p>
<a id="pgfId-1035926"></a></p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="preface.html" id="prev" title="Preface">Preface</a></em></b><b><em><a href="chap2.html" id="nex" title="Initialization Functions">Initialization Functions</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2020, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>