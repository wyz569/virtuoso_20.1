
<html><head><title>Using Assisted Routing Commands</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="parula" />
<meta name="CreateDate" content="2020-09-18" />
<meta name="CreateTime" content="1600423173" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the capabilities to provide efficient ways to interactively route connections in order to meet critical design constraints and rules." />
<meta name="DocTitle" content="Virtuoso Interactive and Assisted Routing User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Using Assisted Routing Commands" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.2.1" />
<meta name="Keyword" content="weuser" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2020-09-18" />
<meta name="ModifiedTime" content="1600423173" />
<meta name="NextFile" content="editRoute.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Layout" />
<meta name="PrevFile" content="strandedwire.html" />
<meta name="c_product" content="Virtuoso Layout Suite" />
<meta name="Product" content="Virtuoso Layout Suite" />
<meta name="ProductFamily" content="Virtuoso Layout Suite" />
<meta name="ProductVersion" content="ICADVM20.1" />
<meta name="RightsManagement" content="Copyright 2012-2020 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Interactive and Assisted Routing User Guide -- Using Assisted Routing Commands" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="ICADVM20.1" />
<meta name="SpaceKey" content="weuserICADVM201" />
<meta name="webflare-version" content="2.0" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="weuserTOC.html">Contents</a></li><li><a class="prev" href="strandedwire.html" title="Working with Stranded Wires">Working with Stranded Wires</a></li><li style="float: right;"><a class="viewPrint" href="weuser.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="editRoute.html" title="Editing Routed Connections">Editing Routed Connections</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Interactive and Assisted Routing User Guide<br />Product Version ICADVM20.1, October 2020</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>7
<a id="pgfId-1221937"></a></h1>
<h1>
<a id="pgfId-1222374"></a><hr />
<a id="44786"></a><a id="15289"></a>Using Assisted Routing Commands<hr />
</h1>

<p>
<a id="pgfId-1223444"></a>This chapter describes the assisted routing commands. </p>
<ul><li>
<a id="pgfId-1223491"></a><a href="assisted.html#26088">Point to Point Routing</a><ul><li>
<a id="pgfId-1223695"></a><a href="assisted.html#57067">Setting Point to Point Wires to Match Pins</a></li></ul></li><li>
<a id="pgfId-1223527"></a><a href="assisted.html#77675">Supporting Track-based Routing</a></li><li>
<a id="pgfId-1223533"></a><a href="assisted.html#29139">Finishing Connections</a><ul><li>
<a id="pgfId-1223603"></a><a href="assisted.html#67164">Finishing a Wire</a></li><li>
<a id="pgfId-1223616"></a><a href="assisted.html#43161">Finishing a Trunk</a></li><li>
<a id="pgfId-1223623"></a><a href="assisted.html#56449">Finishing a Bus</a></li></ul></li></ul>







<h2>
<a id="pgfId-1222379"></a><a id="26088"></a><a id="84952"></a>P<a id="p2p"></a>oint to Point Routing</h2>

<p>
<a id="pgfId-1222380"></a>Point-to-point routing is available in Virtuoso Layout Suite XL and higher tiers. </p>
<p>
<a id="pgfId-1073169"></a>The <em>Point to Point</em> command is an interactive routing command that automatically generates routing between two digitized points in a given cellview. The two specific locations can be the two click points. The two points can overlap a pin, instPin, pathSeg, path, existing wires or vias, or be in empty space. The <em>Point to Point</em> command uses the second digitized point to start the consecutive <em>Point to Point</em> command. A point-to-point route completes only when you double-click or press <code>Enter</code>.</p>
<p>
<a id="pgfId-1065970"></a>Point-to-point routing is an acceleration of interactive wire editing when creating short local connections, while also allowing you to maintain tight control of the routing. Long connections can be broken down into several shorter point-to-point connections or can be completed automatically using the <em>Automatic Routing</em> command to create routing that is optimal in a global perspective. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1225984"></a>By default, Point to Point uses all available layers in the <em>Wire </em>default constraint group. You can limit the layer range through the <em>Wire Assistant</em>.</div>
<p>
<a id="pgfId-1064650"></a>The <em>Point to Point</em> routing command generates only orthogonal wires, which includes pathSegs and vias created in routes. Diagonal routing is not supported.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1064651"></a>You can use the point-to-point router to make a connection to geometric data (paths or pathSegs not in routes). </div>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1064652"></a>
The <em>Display Levels</em> settings <em>Start</em> and <em>Stop </em>control the hierarchy depth for point-to-point routing.</div>

<p>
<a id="pgfId-1064653"></a>To create point-to-point wiring:</p>
<ol><li>
<a id="pgfId-1064654"></a>Launch Layout XL or a higher tier of the layout suite. </li><li>
<a id="pgfId-1064658"></a>From the design window, select <em>Create &#8211; Wiring &#8211; Point to Point</em> or click on the icon <img width="35" height="32" src="images/assisted-3.gif" />
 on the <em>Create</em><span> toolbar.</span><br />
<a id="pgfId-1064659"></a>You are prompted to click at the first location.</li><li>
<a id="pgfId-1089942"></a>Press <code>F3</code> to open the <a href="appA.html#51329">Point to Point Form</a>.</li><li>
<a id="pgfId-1072933"></a>Specify a net name for the wire if you are starting from a point in open space.<br />
<a id="pgfId-1072934"></a>When starting from a pin or shape that has connectivity, the net name of the pin or shape is automatically picked.<br />
<a id="pgfId-1096619"></a>For more information about selecting the starting and ending targets, see <a href="assisted.html#29139">Finishing Connections</a>.<br />
<a id="pgfId-1072921"></a>You can use the options on the context-sensitive menu to change the width of the wire to match the width of the starting pin. Right-click in the cellview to display the <a href="appA.html#60469">Point to Point Context-Sensitive Menu</a>. See <a href="assisted.html#57067">Setting Point to Point Wires to Match Pins</a>.<br />
<a id="pgfId-1075547"></a>You can also configure <em>Point to Point </em>settings using options in <a actuate="user" class="URL" href="../autouser/appD.html#p2p_WA" show="replace" xml:link="simple">Point to Point</a> and <a actuate="user" class="URL" href="../autouser/appD.html#automatic" show="replace" xml:link="simple">Automatic Section</a> sections in the Wire Assistant.</li><li>
<a id="pgfId-1064666"></a>If required, you can override the default width by specifying a new value in the <em>Width</em> field.</li><li>
<a id="pgfId-1064668"></a>Use the <em>Top</em> and <em>Bottom</em> cyclic fields in the <em>Routing </em>column <em>to </em>limit the routing layers to a subset of the full range of metal and poly layers. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1079259"></a>Taper layers can be excluded or included in the routable layer range. However, if a layer, such as poly, is excluded and a poly pin is set up in such a way that the router cannot ascend to metal1 immediately at the pin through a metal1-poly via, the router will fail to connect to the poly pin. For more information about taper layers, see <a href="technology.html#27702">virtuosoDefaultTaper</a>. </div></li><li>
<a id="pgfId-1079263"></a>Set up the valid and taper vias using the <em>Vias</em> buttons.</li><li>
<a id="pgfId-1079268"></a>Select the <em>Connection Type</em>. <em>Exact Location</em> creates routing between the digitized points. <em>Shortest Connection</em> creates routing as the shortest connection between the digitized points using any pre-existing wires.</li><li>
<a id="pgfId-1073090"></a>In the cellview, click on a pin or a routing element such as a pathSeg, path, or via. Optionally, you can click in an empty area of the design. You are prompted to click at the next location.<br />
<a id="pgfId-1070543"></a>A flightline is drawn from the clicked point to the closest target on the specified net.<br />
<a id="pgfId-1070562"></a><div class="webflare-div-image">
<img src="images/flightline_p2p.gif" /></div></li><li>
<a id="pgfId-1073473"></a>Click on subsequent points.<br />
<a id="pgfId-1073136"></a>Routing is generated between consecutive digitized points.<br />
<a id="pgfId-1073548"></a>After you digitize the second or more points:<ul><li>
<a id="pgfId-1073552"></a>The <em>Net Name</em> field in the <a href="appA.html#51329">Point to Point Form</a> becomes uneditable.</li><li>
<a id="pgfId-1073553"></a>You can edit <em>Routing Layers</em>. If editing the layer limit results in making the previous point-to-point route invalid, the <em>Point to Point</em> command creates stacked vias between the previous click point and the valid routing layer.</li></ul></li><li>
<a id="pgfId-1073125"></a>To specify the ending location of the wire, double-click or press <code>Enter</code>. The ending location can be a pin or a routing element such as a pathSeg, path, or via. Optionally, you can click in an empty area of the design. A highlighted line is displayed to show the connection between the first clicked point and the current pointer location.<br />
<a id="pgfId-1073214"></a>This completes a point-to-point route. You are prompted to specify a new starting location for the <em>Point to Point</em> command.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1096613"></a>Ensure that the start and end points of the route are within the P&amp;R boundary because routing is not allowed outside the P&amp;R boundary.</div>
<a id="pgfId-1096614"></a>The <em>Point to Point</em> command automatically stops for the route if:<ul><li>
<a id="pgfId-1073330"></a>While routing an incomplete net, you tap a shape (pin/route) that completes the net.</li><li>
<a id="pgfId-1073358"></a>While routing a complete net, you tap a shape on the net.</li><li>
<a id="pgfId-1076795"></a>No net is being routed (starting from empty space or unassigned shapes) and you tap a shape on a complete net.</li></ul><br />
<a id="pgfId-1076797"></a>Routing paths are found in empty areas around objects with valid spacing rules. No pushing is performed to make room for routing.</li><li>
<a id="pgfId-1073283"></a>To end the command, press Esc or click <em>Cancel</em> in the <a href="appA.html#51329">Point to Point Form</a>.</li></ol>

































<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1064680"></a>The point-to-point router does not follow <code>minEndOfLine</code> spacing in cases where the wire is floating and consequently forms an incomplete connection, as the data is still in the midst of changes.</div>
<p>
<a id="pgfId-1076753"></a>If the point-to-point router cannot complete a route and the <em>Interactive Edit</em> mode is set to <em>Post-edit</em> or <em>Notify</em> in the <em>DRD Options</em> form, the router forces a route creation with violations. The router also issues a warning message to indicate that there were violations and that you can run <em>Verify &#8211; Design</em> to view the markers for the violations. This enables you to analyze the problem areas where the router could not produce a clean route.</p>
<p>
<a id="pgfId-1076758"></a>If the point-to-point router cannot complete a route and DRD <em>Interactive Edit</em> mode is set to <em>Enforce</em>, a warning message is issued to indicate if the router is stuck at the start or end point or pin or if there is insufficient space to complete routing.</p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1100628"></a>
The point-to-point router does not support track patterns and routing grids. The routing is performed on the manufacturing grid.</div>
<h3>
<a id="pgfId-1064682"></a><a id="57067"></a>Setting Point to Point Wires to Match Pins</h3>

<p>
<a id="pgfId-1064683"></a>You can use the options on the <a href="appA.html#89186">Use Width</a> command on the <a href="appA.html#60469">Point to Point Context-Sensitive Menu</a> to set point-to-point wire widths to match pins. The selected match pin width applies to all applicable routing layers of the current effective constraint group, where it does not violate the corresponding <code>minWidth</code> and <code>maxWidth</code> constraints. The width change is not implemented if it introduces a clearance violation.</p>
<p>
<a id="pgfId-1064694"></a>The point-to-point pin matching option remains effective throughout the entire layout session. Point-to-point requires two clicked points. When the pin matching option is on, the width of the first pin selected is used. The object selected must be a pin, otherwise the width constraints in the current effective constraint group are applied.</p>

<h2>
<a id="pgfId-1138916"></a><a id="99991"></a><a id="77675"></a>Supporting Track-based Routing</h2>

<p>
<a id="pgfId-1138917"></a>Using the assisted routing commands, such as point to point and Finish Wire, you can now perform routing on track grids. To enable the assisted routing commands for track-based routing, the following conditions must be satisfied:</p>
<ul><li>
<a id="pgfId-1138918"></a>Before starting a assisted routing command, select the <em>Track Pattern</em> option from the <em>Snap Wire To</em> drop-down list in the Wire Assistant.</li><li>
<a id="pgfId-1138919"></a>Each routing layer that has a track pattern must have a defined routing direction, which is either horizontal or vertical.</li><li>
<a id="pgfId-1138985"></a>Pin shapes must be on a track grid. </li></ul>



<h2>
<a id="pgfId-1096836"></a><a id="29139"></a><a id="94592"></a><a id="19519"></a><a id="40511"></a>Finishing Connections</h2>

<p>
<a id="pgfId-1108078"></a>You can finish wires and buses manually by double-clicking or pressing <code>Enter</code>. The wire and the bus finish at the pointer location. In XL and higher tiers, the <em>Auto Terminate</em> check box, if selected in the <a href="appA.html#29878">Create Wire Form</a> and the <a href="appA.html#74134">Create Bus Form</a>, enables you to complete the creation of the wire or the bus, respectively, on the same net object with a single click.</p>
<p>
<a id="pgfId-1108086"></a>To complete creating the wire or bus automatically, use the <em>Finish Wire</em> or <em>Finish Bus </em>commands on the <a href="appA.html#97169">Create Single Wire Context-Sensitive Menu</a> and the <a href="appA.html#10652">Create Bus Context-Sensitive Menu</a>, respectively.</p>
<p>
<a id="pgfId-1087280"></a>To use the commands for finishing a wire or net, ensure that the technology file contains the minimum required information, such as complete foundry rules, and that the non-default or override constraint groups, if any, are specified in the <h-hot><a actuate="user" class="URL" href="../autouser/appD.html#wireAssistant" show="replace" xml:link="simple">Wire Assistant</a></h-hot>. A wiring constraint group (<code>virtuosoDefaultSetup</code> or <code>LEFDefaultRouteSpec</code>) that defines the valid layers and the vias allowed for routing must be present in the technology file.</p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1100689"></a>
The <em>Finish</em> commands do not support track patterns and routing grids. The routing is performed on the manufacturing grid.</div>
<h3>
<a id="pgfId-1086477"></a><a id="67164"></a>Finish<a id="finishingWire"></a>ing a Wire</h3>

<p>
<a id="pgfId-1226010"></a>Although Finish Wire is accessible during interactive routing, it is in fact automatic routing which makes the connections when you call Finish Wire. Unexpected results can occur when layer directions and/or pins are not optimized since automatic routing adheres to the defined layer direction; there is no such restriction during interactive routing. For example, you may be interactively routing in a direction opposite to the layer direction. When you invoke Finish Wire, the automatic routing switches (via up/down) to the opposite but defined layer direction.</p>
<p>
<a id="pgfId-1118332"></a>The <em>Finish Wire</em> command is available in Layout XL and higher tiers on the <a href="appA.html#97169">Create Single Wire Context-Sensitive Menu</a>, if you are creating a wire by using the <em>Create Wire</em>.</p>
<p>
<a id="pgfId-1086588"></a>By using the <em>Create Wire</em> command, you can digitize critical parts of a wire manually, and then, run the <em>Finish Wire</em> command to finish the rest of the wire automatically. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1066266"></a>The <em>Display Levels</em> settings on the <em>Display Options</em> form, <em>Start</em> and <em>Stop, </em>control the hierarchy depth for the <em>Finish Wire</em> command.</div>
<p>
<a id="pgfId-1066231"></a>The <em>Finish Wire</em> command requires a net, otherwise the corresponding commands are inactive. The <em>Finish Wire</em> command attempts to complete the connection of the current wire while the <em>Create Wire</em> command is running. The <em>Finish Wire</em> command accelerates interactive wire editing while completing short-distance wires from target pins or terminals, and at the same time, maintains control over routing by following the default rules. To complete long-distance wire connections automatically, use the <em>Route &#8211; Automatic Routing</em> command to create routing that is optimal within a global perspective.</p>
<p>
<a id="pgfId-1086956"></a>For information about finishing a single or all the picked nets automatically instead of completing only a wire or a bus, see <h-hot><a actuate="user" class="URL" href="../autouser/pintotrunk.html#composeDecomposeTrunks" show="replace" xml:link="simple">Composing and Decomposing Trunks</a></h-hot>.</p>
<p>
<a id="pgfId-1068141"></a>To complete a wire connection automatically:</p>
<ol><li>
<a id="pgfId-1064770"></a>Choose <em>Create &#8211; Wiring &#8211; Wire</em>.</li><li>
<a id="pgfId-1075958"></a>Start the wire creation from level 0 pin shapes or the visible level 1 instance pins (<em>Instance Pins</em> should be selected on the <em>Display Options</em> form) or from pre-existing wires.</li><li>
<a id="pgfId-1064771"></a>Digitize some points of the wire.<br />
<a id="pgfId-1064772"></a>If you move the pointer around, a connection that can be completed is displayed by a flightline. This is the connection from the pointer to a single destination pin, instPin, or it could be an existing pre-route belonging to the same net.</li><li>
<a id="pgfId-1086799"></a>Right-click to display the <a href="appA.html#97169">Create Single Wire Context-Sensitive Menu</a></li><li>
<a id="pgfId-1086817"></a>Select <em>Finish Wire</em>.<br />
<a id="pgfId-1068346"></a>The <em>Finish Wire</em> command uses the pointer drag point as the starting point for finishing the connection. The command calls the point-to-point router to complete the wire connection. The control then returns to the <em>Create Wire </em>command and you can start creating new wires.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1077209"></a>Ensure that the start and end points of the route are within the P&amp;R boundary because routing is not allowed outside the P&amp;R boundary.</div></li><li>
<a id="pgfId-1068469"></a>Press <code>Esc</code> to finish creating a wire.</li></ol>








<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1064773"></a>The <em>Finish Wire</em> command and <a href="assisted.html#26088">Point to Point Routing</a> create pathSegs in routes. However, you can use <em>Finish Wire</em> and <em>Point to Point</em> routing to make a connection to the existing pathSegs that are not in routes or even to paths (wires). For information about geometric and symbolic wires, see <a href="wire.html#11833">Types of Wires</a>.</div>
<p>
<a id="pgfId-1086849"></a>If the point-to-point router cannot complete a route and the <em>Interactive Edit</em> mode is set to <em>Post-edit</em> or <em>Notify</em> in the <em>DRD Options</em> form (<em>Options &#8211; DRD Edit</em>), the router forces a route creation with violations. The router also issues a warning message to indicate that there were violations and that you can run <em>Verify &#8211; Design</em> to view the markers for the violations. This enables you to analyze the problem areas where the router could not produce a clean route.</p>
<p>
<a id="pgfId-1076910"></a>If the point-to-point router cannot complete a route and the DRD <em>Interactive Edit</em> mode is set to <em>Enforce</em>, a warning message is issued to indicate that the router is stuck at the start or end point or pin or if there is insufficient space to complete routing.</p>
<p>
<a id="pgfId-1064774"></a>The <em>Finish Wire</em> command follows the default constraints and also complies with the overrides that have been set in the <a href="appA.html#29878">Create Wire Form</a> or in the <h-hot><a actuate="user" class="URL" href="../autouser/appD.html#wireAssistant" show="replace" xml:link="simple">Wire Assistant</a></h-hot> (Override Constraints and Automatic Section). It also follows constraint group lookup in context.</p>

<h3>
<a id="pgfId-1223111"></a><a id="43161"></a>Finishing a Trunk</h3>

<p>
<a id="pgfId-1224374"></a>The <em>Finish Trunk</em> command on the <em>Create Bus</em> and <em>Create Wire</em> context-sensitive menu automatically converts all the pathSegs except for the first and the last pathSeg into trunks, regardless of whether they are connected to a pin or not. The first and the last pathSeg is considered as a regular pathSeg if it is connected to a pin at one end and to a trunk at the other end. Else, it is converted to a trunk. The default bindkey for running the <em>Finish Trunk</em> command is <code>2</code>. For more information, see <h-hot><a actuate="user" class="URL" href="../autouser/pintotrunk.html#finishtrunk" show="replace" xml:link="simple">Using the Finish trunk Command</a></h-hot> in the Virtuoso Space-based Router User Guide.</p>

<h3>
<a id="pgfId-1223130"></a><a id="56449"></a>Finishing a Bus</h3>

<p>
<a id="pgfId-1224651"></a>The <em>Finish Bus</em> command is available in Layout XL and higher tiers on the <a href="appA.html#10652">Create Bus Context-Sensitive Menu</a>, if you are creating a bus by using the <em>Create Bus</em> command. The command is available on the context-sensitive menu only after you digitize at least one point of the wire or the bus, or after you select the pins for the wire or bus creation. </p>
<p>
<a id="pgfId-1224672"></a>By using the <em>Create Bus</em> command, you can digitize critical parts of a bus manually, and then, run the <em>Finish Bus </em>command to finish the rest of the bus automatically. The <em>Finish Bus</em> command attempts to complete the connection of the current bus while the the <em>Create Bus</em> command is running. </p>
<p>
<a id="pgfId-1224736"></a>To complete a bus connection, you can use similar steps to use the <em>Finish Bus </em>command while creating a bus. For more information, see <a href="assisted.html#67164">Finishing a Wire</a>.</p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="strandedwire.html" id="prev" title="Working with Stranded Wires">Working with Stranded Wires</a></em></b><b><em><a href="editRoute.html" id="nex" title="Editing Routed Connections">Editing Routed Connections</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2020, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>