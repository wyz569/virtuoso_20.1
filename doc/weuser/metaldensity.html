
<html><head><title>Managing Metal Density </title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="parula" />
<meta name="CreateDate" content="2020-09-18" />
<meta name="CreateTime" content="1600423210" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the capabilities to provide efficient ways to interactively route connections in order to meet critical design constraints and rules." />
<meta name="DocTitle" content="Virtuoso Interactive and Assisted Routing User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Managing Metal Density" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.2.1" />
<meta name="Keyword" content="weuser" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2020-09-18" />
<meta name="ModifiedTime" content="1600423210" />
<meta name="NextFile" content="interactiveColoredRouting.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Layout" />
<meta name="PrevFile" content="editRoute.html" />
<meta name="c_product" content="Virtuoso Layout Suite" />
<meta name="Product" content="Virtuoso Layout Suite" />
<meta name="ProductFamily" content="Virtuoso Layout Suite" />
<meta name="ProductVersion" content="ICADVM20.1" />
<meta name="RightsManagement" content="Copyright 2012-2020 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Interactive and Assisted Routing User Guide -- Managing Metal Density" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="ICADVM20.1" />
<meta name="SpaceKey" content="weuserICADVM201" />
<meta name="webflare-version" content="2.0" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="weuserTOC.html">Contents</a></li><li><a class="prev" href="editRoute.html" title="Editing Routed Connections">Editing Routed Connections</a></li><li style="float: right;"><a class="viewPrint" href="weuser.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="interactiveColoredRouting.html" title="Interactive Colored Routing (ICADVM20.1 Only)">Interactive Colored Routing (I ...</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Interactive and Assisted Routing User Guide<br />Product Version ICADVM20.1, October 2020</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>


<h1>9
<a id="pgfId-1032955"></a></h1>
<h1>
<a id="pgfId-1035250"></a><hr />
<a id="93394"></a>Managing Metal Density <hr />
</h1>

<p>
<a id="pgfId-1127956"></a>The metal density in a layout design needs to be managed to ensure that there is uniform metal distribution across the chip for manufacturing. In order to address and manage metal density issues, such as density checks, thin or local analysis, and fixing density errors through slotting, a new, Metal Density, toolbar has been introduced. The Metal Density toolbar provides an interactive and user-friendly approach to address and manage the metal density issues. This toolbar is available in Layout XL and higher tiers. Depending on the layout tier, specific number of tokens are required to access the slotting feature. For more information, see <h-hot><a actuate="user" class="URL" href="../dfIIconfig/dfIIconfig.html#GXLTokens" show="replace" xml:link="simple">Table 1-6 Tokens per Feature (VLS GXL)</a></h-hot> in the Virtuoso Software and Licensing User Guide.</p>
<p>
<a id="pgfId-1090918"></a>This Chapter covers the following topics:</p>
<ul><li>
<a id="pgfId-1090922"></a><a href="metaldensity.html#53069">Metal Density Toolbar</a></li><li>
<a id="pgfId-1090926"></a><a href="metaldensity.html#57038">Performing Metal Density Checks for Shapes</a></li><li>
<a id="pgfId-1112804"></a><a href="metaldensity.html#50220">About the Specification Cell</a></li><li>
<a id="pgfId-1110689"></a><a href="metaldensity.html#42102">Support for Slot Shapes in DRD and EAD</a></li></ul>




<h2>
<a id="pgfId-1090928"></a><a id="53069"></a>Metal Densit<a id="metalDensityToolbar"></a>y Toolbar</h2>

<p>
<a id="pgfId-1115945"></a>To maintain the integrity of the original shape as long as possible, slotting lets you add slot shapes to the original shape, such as wires and polygons. For more information on how to convert the original shapes covered by the slot shapes into slotted polygons, see <a href="../sklayoutref/lx.html#lxConvertSlotToPolygon">lxConvertSlotToPolygon</a>. Also, the slotted shapes can be edited, if required, to solve the electro-migration violations. In addition, the slot shapes are created into a figGroup to prevent any incorrect manipulation.</p>
<p>
<a id="pgfId-1116292"></a>Using the Metal Density toolbar, you can perform DRC correct slotting, <code>maxDensity</code> checks, and analyze any kind of shapes. The different scopes provide a smooth and user-friendly experience of the entire design, a specific region, one or more layers, the current window, or by selection. In addition, the toolbar provides an options form for <code>maxDensity</code> checks and local slotting statistic reports. The Metal Density toolbar has the following buttons for metal density checks and slotting.</p>

<p>
<a id="pgfId-1090933"></a></p>
<div class="webflare-div-image">
<img width="668" height="165" src="images/metaldensity-2.gif" /></div>
<div class="webflare-information-macro webflare-macro-warning">
<a id="pgfId-1096959"></a>
The Metal Density toolbar currently addresses only maximum density issues.</div>

<p>
<a id="pgfId-1090934"></a></p>
<ul><li>
<a id="pgfId-1090938"></a><em>Check Density </em><img width="39" height="32" src="images/metaldensity-4.gif" />
<br />
<a id="pgfId-1090939"></a>Checks the maximum metal density rules according to the foundry constraints under different scopes. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1115252"></a>As a prerequisite for the density checks, the maximum density rules need to defined in the technology library. </div><table class="webflareTable" id="#id1115225">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1091296">
<a id="pgfId-1091296"></a>Command</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1091298">
<a id="pgfId-1091298"></a>Lets you</span>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091300"></a><em>Check Density All <img width="40" height="34" src="images/metaldensity-5.gif" /><br /></em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091302"></a>Check the maximum density rule in the entire design.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091438"></a><em>Check Density By Area <img width="48" height="39" src="images/metaldensity-6.gif" /><br /></em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092620"></a>Check the maximum density rule in the area defined by the two specified points in the design.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091459"></a><em>Check Density Current Window <img width="49" height="38" src="images/metaldensity-7.gif" /><br /></em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092640"></a>Check the maximum density rule in the current window (layout canvas limit).</p>
</td>
</tr>
</tbody></table></li><li>
<a id="pgfId-1090943"></a><em>Density Analysis</em> <img width="48" height="37" src="images/metaldensity-8.gif" />
<br />
<a id="pgfId-1092719"></a>Reports the local density of each slotted shape, which means that for each slotted shape, its total slotted surface over its associated shape surface is reported.<br /><table class="webflareTable" id="#id1158860">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1090947">
<a id="pgfId-1090947"></a>Command</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1090949">
<a id="pgfId-1090949"></a>Lets you</span>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091482"></a><em>Density Analysis All <img width="54" height="39" src="images/metaldensity-9.gif" /><br /></em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092791"></a>Report the local density of each slotted shape in the entire design.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091486"></a><em>Density Analysis By Area <img width="54" height="39" src="images/metaldensity-10.gif" /><br /></em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092806"></a>Report the local density of each slotted shape in the area defined by the two specified points in the design.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091532"></a><em>Density Analysis Current Window <img width="54" height="39" src="images/metaldensity-11.gif" /><br /></em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092845"></a>Report the local density of each slotted shape in the current window (layout canvas limit).</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091494"></a><em>Density Analysis By Selection <img width="54" height="39" src="images/metaldensity-12.gif" /><br /></em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092871"></a>Report the local density for all selected shapes in the design.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1091496"></a>In case both net and shapes are selected in the design, then when <em>Density Analysis By Selection</em> is selected, it filters out the nets. If <em>Density Analysis By Net</em> is selected, it filters out the shapes.</div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091490"></a><em>Density Analysis By Net <img width="54" height="39" src="images/metaldensity-13.gif" /><br /></em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092921"></a>Report the local density for each slotted shape of the selected nets in the design.</p>
</td>
</tr>
</tbody></table><ul><li>
<a id="pgfId-1158647"></a><em>Check Slot Consistency</em><a id="slotconsistency_cmd"></a><br />
<a id="pgfId-1160219"></a>Checks the consistency of the slot shapes in the design. If conditions do not match, an error marker is displayed in the Annotation Browser.<br /><table class="webflareTable" id="#id1162500">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1163257">
<a id="pgfId-1163257"></a>Command</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1163259">
<a id="pgfId-1163259"></a>Lets you</span>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1158694"></a><em>Check Slot Consistency All <img width="54" height="39" src="images/metaldensity-14.gif" /><br /></em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1160678"></a>Check the consistency of all slot shapes in the design.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1158701"></a><em>Check Slot Consistency By Area <img width="54" height="39" src="images/metaldensity-15.gif" /><br /></em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1158703"></a>Check the consistency of created slot shapes in the area defined by the two specified points in the design.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1158705"></a><em>Check Slot Consistency Current Window <img width="54" height="39" src="images/metaldensity-16.gif" /><br /></em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1158710"></a>Check the consistency of created slot shapes in the current window (layout canvas limit).</p>
</td>
</tr>
</tbody></table></li></ul></li><li>
<a id="pgfId-1090961"></a><em>Fix Density</em> <img width="40" height="29" src="images/metaldensity-17.gif" />
<br />
<a id="pgfId-1093120"></a>Adds slot shapes using the metal layer-purpose pair <code>slot</code> on any kind of objects, such as wires, paths, rectangles or polygons. The geometries of the slot shapes are default. These geometries can also be customized using the Metal Density Options form.<br /><table class="webflareTable" id="#id1139320">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1091632">
<a id="pgfId-1091632"></a>Command</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1091634">
<a id="pgfId-1091634"></a>Lets you</span>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091636"></a><em>Slotting All <img width="54" height="39" src="images/metaldensity-18.gif" /><br /></em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091638"></a>Add slot shapes on objects in the entire design.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091640"></a><em>Slotting By Area <img width="54" height="39" src="images/metaldensity-19.gif" /><br /></em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1093372"></a>Add slot shapes on objects that are fully or partially enclosed in the area defined by the two specified points in the design.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091644"></a><em>Slotting Current Window <img width="54" height="39" src="images/metaldensity-20.gif" /><br /></em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1093486"></a>Add slot shapes on objects in the current window (layout canvas limit).</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091648"></a><em>Slotting By Selection <img width="54" height="39" src="images/metaldensity-21.gif" /><br /></em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1093450"></a>Add slot shapes on objects of the selected shapes.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1104112"></a><em>Slotting By Selection in Area <img width="54" height="39" src="images/metaldensity-22.gif" /><br /></em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1104114"></a>Add slot shapes on the selected objects, only in the section delimited by the two points of the area.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091652"></a><em>Slotting By Net <img width="54" height="39" src="images/metaldensity-23.gif" /><br /></em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1093465"></a>Add slot shapes on objects of nets selected in the Navigator assistant.</p>
</td>
</tr>
</tbody></table></li><li>
<a id="pgfId-1130694"></a><em>Tools </em><img width="52" height="37" src="images/metaldensity-24.gif" />
<br />
<a id="pgfId-1131609"></a>Le<a id="toolsicon"></a>ts you delete slots, or convert and reconstruct a polygon to slots.<ul><li>
<a id="pgfId-1130707"></a>Delete Slots <em></em><img width="52" height="37" src="images/metaldensity-25.gif" />
<br />
<a id="pgfId-1130934"></a>Deletes the slot shapes on objects according to the scope of the deletion. <br /><table class="webflareTable" id="#id1139378">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1130885">
<a id="pgfId-1130885"></a>Command</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1130887">
<a id="pgfId-1130887"></a>Lets you</span>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1131471"></a><em>Delete Slots</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1133712"></a>Delete slot shapes on objects in the entire design.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1130889"></a><em>Delete Slots Current Window</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1132193"></a>Delete slot shapes on objects in the current window (layout canvas limit).</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1130893"></a><em>Delete Slots By Area</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1130895"></a>Delete slot shapes from objects that are fully or partially enclosed in the area defined by the two specified points in the design.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1131068"></a><em>Delete Slots By Selection</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1132250"></a>Delete slot shapes on objects of the selected shapes.</p>
</td>
</tr>
</tbody></table></li><li>
<a id="pgfId-1130727"></a>Convert Slots <em></em><img width="52" height="37" src="images/metaldensity-26.gif" />
<br />
<a id="pgfId-1137220"></a>Converts the original shapes covered by the slot shapes into slotted polygons.<br /><table class="webflareTable" id="#id1139404">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1131217">
<a id="pgfId-1131217"></a>Command</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1131219">
<a id="pgfId-1131219"></a>Lets you</span>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1131221"></a><em>Convert Slots</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1133751"></a>Convert the original shapes covered by the slot shapes into slotted polygons.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1131455"></a><em>Convert Slots Current Window</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1132600"></a>Convert the original shapes covered by the slots in the current window (layout canvas limit) into slotted polygons.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1131225"></a><em>Convert Slots By Area</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1137545"></a>Convert the original shapes covered by the slots defined by an area into slotted polygons.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1131229"></a><em>Convert Slots By Selection</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1132604"></a>Convert the selected shapes covered by the slots into slotted polygons.</p>
</td>
</tr>
</tbody></table><br />
<a id="pgfId-1155276"></a>Environment Variable: <a href="appB.html#13316">hideConvertToPolygon<code></code></a></li><li>
<a id="pgfId-1130748"></a>Reconstruct Slots <em></em><img width="52" height="37" src="images/metaldensity-27.gif" />
<br />
<a id="pgfId-1137686"></a>Reconstructs a slotted polygon to a regular polygon that has no holes and also covers the slot shapes.<br /><table class="webflareTable" id="#id1139431">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1131373">
<a id="pgfId-1131373"></a>Command</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1131375">
<a id="pgfId-1131375"></a>Lets you</span>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1131501"></a><em>Reconstruct Slots</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1131503"></a>Reconstruct a slotted polygon to a regular polygon that has no holes and also covers the slot shapes in the entire design.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1131377"></a><em>Reconstruct Slots Current Window</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1132606"></a>Reconstruct a slotted polygon to a regular polygon that has no holes and also covers the slot shapes in the current window (layout canvas limit).</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1131381"></a><em>Reconstruct Slots By Area</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1132608"></a>Reconstruct a slotted polygon to a regular polygon that has no holes and also covers the slot shapes, which is fully or partially enclosed in the area defined by the two specified points in the design.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1131385"></a><em>Reconstruct Slots By Selection</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1132610"></a>Reconstruct a slotted polygon, which is selected, to a regular polygon that has no holes and also covers the slot shapes.</p>
</td>
</tr>
</tbody></table><br />
<a id="pgfId-1155400"></a>Environment Variable: <a href="appB.html#46777">hideReconstruct<code></code></a></li></ul></li><li>
<a id="pgfId-1090967"></a><em>Options</em> <img width="31" height="29" src="images/metaldensity-28.gif" />
<br />
<a id="pgfId-1090985"></a>Opens the Metal Density Options form and lets you specify the metal density options. The form contains all the geometric and style settings for the generation of the slot shapes. In addition, it contains valid layers that can be considered by each shape for checking, analysis, and fixing metal density. For more information, see <a actuate="user" class="URL" href="../weuser/appA.html#metalDensityOptionsForm" show="replace" xml:link="simple">Metal Density Options Form</a>.</li></ul>
















































<h4><em>
<a id="pgfId-1123557"></a>Related Topics</em></h4>

<p>
<a id="pgfId-1163548"></a><h-hot><a actuate="user" class="URL" href="../weuser/appA.html#metalDensityOptionsForm" show="replace" xml:link="simple">Metal Density Options Form</a></h-hot></p>
<p>
<a id="pgfId-1123567"></a><a href="../sklayoutref/lx.html#lxShapeSlotting">lxShapeSlotting</a></p>
<p>
<a id="pgfId-1123569"></a><a href="../sklayoutref/lx.html#lxConvertSlotToPolygon">lxConvertSlotToPolygon</a></p>
<p>
<a id="pgfId-1123571"></a><h-hot><a href="appB.html#22645">List of Slotting Environment Variables</a></h-hot></p>

<h2>
<a id="pgfId-1104968"></a><a id="57038"></a>Performing Metal Density C<a id="metalDensityChecks"></a>hecks for Shapes</h2>

<p>
<a id="pgfId-1106948"></a>You can check, analyze, and fix metal density for various routing shapes, such as for wires and polygons.</p>
<p>
<a id="pgfId-1105000"></a>To perform metal density checks for shapes, perform the following steps:</p>
<ol><li>
<a id="pgfId-1105092"></a>Click the arrow next to the <em>Check Density</em> icon on the <em>Metal Density</em> toolbar. A drop-down menu appears.<br />
<a id="pgfId-1105430"></a><div class="webflare-div-image">
<img width="633" height="120" src="images/metaldensity-29.gif" /></div></li><li>
<a id="pgfId-1105184"></a>Depending on the scope that you want, click an option from the drop-down list.<br />
<a id="pgfId-1105284"></a>The following figure shows the result of the metal density check when the <em>Check Density All</em> option is selected.<br />
<a id="pgfId-1107212"></a>.<div class="webflare-div-image">
<img width="633" height="513" src="images/metaldensity-30.gif" /></div></li><li>
<a id="pgfId-1093736"></a><a id="14915"></a>Click the <em>Options</em> icon on the <em>Metal Density</em> toolbar. <br />
<a id="pgfId-1093738"></a>The Metal Density Options form appears. <br />
<a id="pgfId-1107345"></a><div class="webflare-div-image">
<img width="631" height="402" src="images/metaldensity-31.gif" /></div></li><li>
<a id="pgfId-1094012"></a>Select a material to be processed from the <em>Material</em> drop-down list. By default, <em>metal</em> is selected.</li><li>
<a id="pgfId-1093748"></a>From the <em>Layers</em> list box, select a layer, for example <code>Metal3</code>. The selected layers are used for checking, analyzing, and slotting.<br />
<a id="pgfId-1105620"></a>The fields in the other tabs of the form are pre-populated with the values defined in the environment variables in the <code>.cdsenv</code> file. You can edit the options needed to define the size and spacing of the slot shapes in the <em>Slot Geometry</em> tab of the Metal Density Options form. Also, you can edit the advanced slotting settings in the <em>Slotting Style </em>tab.<br />
<a id="pgfId-1160856"></a><div class="webflare-div-image">
<img width="633" height="476" src="images/metaldensity-32.gif" /></div><ol><li>
<a id="pgfId-1119507"></a>For a polygon shape, select <em>square</em> from the <em>Slots Orientation</em> drop-down list in the <em>Slotting Style</em> page. <br />
<a id="pgfId-1119548"></a><div class="webflare-div-image">
<img width="633" height="399" src="images/metaldensity-33.gif" /></div></li></ol></li><li>
<a id="pgfId-1160879"></a>Specify the type of consistency checks that you want to run for the slot shapes in the <em>Slot Consistency </em>page, For more information, see <a href="appA.html#88628">Slot Consistency Tab</a>.<br />
<a id="pgfId-1161019"></a><div class="webflare-div-image">
<img width="633" height="399" src="images/metaldensity-34.gif" /></div></li><li>
<a id="pgfId-1105804"></a>To close the form, click <em>Close</em>.</li><li>
<a id="pgfId-1105910"></a>Click the arrow next to the <em>Fix Density</em> icon on the <em>Metal Density</em> toolbar. A drop-down menu appears.<br />
<a id="pgfId-1105914"></a><div class="webflare-div-image">
<img width="633" height="192" src="images/metaldensity-35.gif" /></div></li><li>
<a id="pgfId-1105915"></a>Depending on the scope that you want, click an option from the drop-down list to perform slotting.<br />
<a id="pgfId-1105916"></a>The following figure shows the result when the <em>Slotting All</em> option is selected to slot the shapes and fix metal density.<br />
<a id="pgfId-1106036"></a><div class="webflare-div-image">
<img width="633" height="492" src="images/metaldensity-36.gif" /></div></li><li>
<a id="pgfId-1107363"></a>Click the arrow next to the <em>Density Analysis </em>icon on the <em>Metal Density</em> toolbar. A drop-down menu appears. You can either perform density analysis of each slotted shape or check for the correctness and consistency of the slot shapes.<br />
<a id="pgfId-1107396"></a><div class="webflare-div-image">
<img width="633" height="248" src="images/metaldensity-37.gif" /></div><ol><li>
<a id="pgfId-1107378"></a>To report the local density of each slotted shape, click an option, depending on the scope that you want, from the drop-down list.<br />
<a id="pgfId-1107379"></a>The following figure shows the report of the local density check when the <em>Density Analysis All</em> option is selected.<br /><ffi2-fig-frame-in-2 id="#id1161295">
<a id="pgfId-1161295"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="604" height="259" src="images/metaldensity-38.gif" /></div></li><li>
<a id="pgfId-1159149"></a>To check for the consistency and correctness of the slot shapes, select the required <em>Slot Consistency</em> option. The slot consistency checks can be specified in the <a href="appA.html#88628">Slot Consistency Tab</a> of the Metal Density Options form. For example, to check for a floating slot shape, select the <em>Floating Slot</em> option. <br /><ffi2-fig-frame-in-2 id="#id1161797">
<a id="pgfId-1161797"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="604" height="448" src="images/metaldensity-39.gif" /></div>
<a id="pgfId-1161758"></a>The following figure shows the report of the consistency check along with the markers being displayed in the Annotation Browser, when the <em>Check Slot Consistency All </em>option is selected. <br /><ffi2-fig-frame-in-2 id="#id1161925">
<a id="pgfId-1161925"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="604" height="435" src="images/metaldensity-40.gif" /></div></li></ol></li><li>
<a id="pgfId-1131834"></a>Click the arrow next to the <em>Tools </em>icon on the <em>Metal Density</em> toolbar. A drop-down menu appears. You can either delete the slots on the polygon or convert and reconstruct the slots on the polygons.<br />
<a id="pgfId-1154426"></a><div class="webflare-div-image">
<img width="633" height="374" src="images/metaldensity-41.gif" /></div><ol><li>
<a id="pgfId-1131993"></a>To delete a slot shape on a polygon, click an option, depending on the scope that you want, from the drop-down list.<br />
<a id="pgfId-1132801"></a>The following figure shows the result when the <em>Delete Slots by Area</em> option is selected to delete the slots by area.<br /><ffi2-fig-frame-in-2 id="#id1132897">
<a id="pgfId-1132897"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="604" height="187" src="images/metaldensity-42.gif" /></div></li><li>
<a id="pgfId-1137744"></a>To convert the original shape covered by the slot shapes into slotted polygons, click an option, depending on the scope that you want, from the drop-down list.<br />
<a id="pgfId-1132947"></a>The following figure shows the result when the <em>Convert Slots </em>option is selected to convert a polygon to slot shapes.<br /><ffi2-fig-frame-in-2 id="#id1132951">
<a id="pgfId-1132951"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="604" height="195" src="images/metaldensity-43.gif" /></div></li><li>
<a id="pgfId-1138041"></a>To reconstruct a slotted polygon to a regular polygon that has no holes and also covers the slot shapes, click an option, depending on the scope that you want, from the drop-down list.<br />
<a id="pgfId-1133208"></a>The following figure shows the result when the <em>Reconstruct Slots </em>option is selected to reconstruct a slotted polygon shape into a regular polygon.<br /><ffi2-fig-frame-in-2 id="#id1134432">
<a id="pgfId-1134432"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="604" height="195" src="images/metaldensity-44.gif" /></div></li></ol></li><li>
<a id="pgfId-1141091"></a>Click <em>Slotting</em> on the Metal Density Options form. For more information, see <a href="appA.html#46466">Metal Density Options Form (ICADVM18.1 EXL Only)</a>.</li></ol>

























































































<h4><em>
<a id="pgfId-1114524"></a>Related Topics</em></h4>

<p>
<a id="pgfId-1114528"></a><a href="metaldensity.html#53069">Metal Density Toolbar</a></p>
<p>
<a id="pgfId-1126420"></a><h-hot><a actuate="user" class="URL" href="../weuser/appA.html#metalDensityOptionsForm" show="replace" xml:link="simple">Metal Density Options Form</a></h-hot></p>
<p>
<a id="pgfId-1126422"></a><a href="../sklayoutref/lx.html#lxShapeSlotting">lxShapeSlotting</a></p>
<p>
<a id="pgfId-1126424"></a><a href="../sklayoutref/lx.html#lxConvertSlotToPolygon">lxConvertSlotToPolygon</a></p>
<p>
<a id="pgfId-1126428"></a><h-hot><a href="appB.html#22645">List of Slotting Environment Variables</a></h-hot></p>
<p>
<a id="pgfId-1136735"></a><a href="metaldensity.html#50220">About the Specification Cell</a></p>

<h2>
<a id="pgfId-1097579"></a><a id="50220"></a><a id="45395"></a>About the S<a id="aboutspeccell"></a>pecification Cell</h2>

<p>
<a id="pgfId-1108818"></a>To handle contextual situations and to apply directives per layer, you can specify a cell name (specification cell). The specification cell is a cellview that contains, for each concerned layers, the representation of the directional slot shapes and the turn slot shapes. The syntax to specify it in the Metal Density Options form is <code>libName/cellName/ViewName</code>. </p>
<p>
<a id="pgfId-1156706"></a>The check box next to the <em>Specification Cell</em> field is used to enable or disable the field.</p>

<p>
<a id="pgfId-1156731"></a></p>
<div class="webflare-div-image">
<img width="668" height="398" src="images/metaldensity-45.gif" /></div>

<p>
<a id="pgfId-1156115"></a>When a specification cell is specified, all the geometric information for each layer is derived from the specified cell. For each layer, the following information is derived.</p>
<ul><li>
<a id="pgfId-1099274"></a>A physical shape that represents the directional slot and the turn slot (optional) geometries. It implicitly defines the following slot parameters by its bBox:<ul><li>
<a id="pgfId-1099275"></a><code>slotLength</code></li><li>
<a id="pgfId-1099276"></a><code>slotWidth</code></li></ul></li><li>
<a id="pgfId-1119985"></a>Optionally, some of the parameters in the specification cell are defined using:<ul><li>
<a id="pgfId-1120086"></a>The cellview properties<ul><li>
<a id="pgfId-1119989"></a><code>slotStaggered</code></li><li>
<a id="pgfId-1119977"></a><code>excludePins</code></li></ul></li><li>
<a id="pgfId-1120102"></a>The directional slot shape properties<ul><li>
<a id="pgfId-1120160"></a><code>slotToEdge</code></li><li>
<a id="pgfId-1120161"></a><code>lSpacing</code></li><li>
<a id="pgfId-1120152"></a><code>wSpacing</code></li><li>
<a id="pgfId-1119987"></a><code>widthThreshold</code></li><li>
<a id="pgfId-1119988"></a><code>lengthWidthThreshold</code></li></ul></li></ul></li></ul>












<p>
<a id="pgfId-1156537"></a>In case a list of contexts is defined using the <a href="../sklayoutref/wire.html#sltSetContextSpecificationCells">sltSetContextSpecificationCells</a> SKILL function, the <em>Context</em> field is available in the <em>Slot Geometry</em> tab of the Metal Density Options form. Instead of the string field for the <em>Specification Cell</em>, a drop-down list is available, which lists the defined contexts. </p>

<p>
<a id="pgfId-1156404"></a></p>
<div class="webflare-div-image">
<img width="668" height="401" src="images/metaldensity-46.gif" /></div>

<p>
<a id="pgfId-1156915"></a>When a context is selected from the <em>Context</em> drop-down list, the slot geometry parameters are disabled. All the disabled parameters must be defined in the specification cell corresponding to the selected context. Else, the slotting cannot be completed and the status of the <em>Slotting</em> button is updated and the color is changed to Red.</p>
<p class="webflare-indent1">
<a id="pgfId-1120456"></a>The following figures shows the cellview and the slot shape properties.</p>

<p class="webflare-indent1">
<a id="pgfId-1120542"></a></p>
<div class="webflare-div-image">
<img width="633" height="336" src="images/metaldensity-47.gif" /></div>

<ul><li>
<a id="pgfId-1120188"></a>The parameters derived from the specification cell take precedence and override the values that are available in the Metal Density Options form. If one of the above properties is not defined for the specification cell, then the values from the Metal Density Options form is used.</li><li>
<a id="pgfId-1099277"></a>The lower-left corner should be (0,0) for the directional slot shape and the upper-right corner should be (0,0) for the turn slot shape.</li><li>
<a id="pgfId-1099278"></a>The slot shape should be drawn in the direction of the current (from left to right). </li><li>
<a id="pgfId-1099279"></a>If the turn slot is not defined, then the width of the direction slot is used to adjust the size of the shape at turn (square).</li><li>
<a id="pgfId-1099280"></a>The purpose slot should be used. </li></ul>




<p>
<a id="pgfId-1120370"></a>The following figure shows an example of a specification cell.</p>

<p>
<a id="pgfId-1120566"></a></p>
<div class="webflare-div-image">
<img width="668" height="318" src="images/metaldensity-48.gif" /></div>

<p>
<a id="pgfId-1110138"></a>The following figure shows the result of slotting when the <em>Slotting All</em> option is selected. As you can see, slotting is different on the two shapes. </p>

<p>
<a id="pgfId-1112178"></a></p>
<div class="webflare-div-image">
<img width="668" height="307" src="images/metaldensity-49.gif" /></div>
<h4><em>
<a id="pgfId-1112183"></a>Related Topics</em></h4>

<p>
<a id="pgfId-1112187"></a><a href="metaldensity.html#53069">Metal Density Toolbar</a></p>
<p>
<a id="pgfId-1126470"></a><h-hot><a actuate="user" class="URL" href="../weuser/appA.html#metalDensityOptionsForm" show="replace" xml:link="simple">Metal Density Options Form</a></h-hot></p>
<p>
<a id="pgfId-1126472"></a><a href="../sklayoutref/lx.html#lxShapeSlotting">lxShapeSlotting</a></p>
<p>
<a id="pgfId-1126474"></a><a href="../sklayoutref/lx.html#lxConvertSlotToPolygon">lxConvertSlotToPolygon</a></p>
<p>
<a id="pgfId-1126478"></a><h-hot><a href="appB.html#22645">List of Slotting Environment Variables</a></h-hot></p>

<h2>
<a id="pgfId-1110432"></a><a id="12288"></a><a id="26814"></a><a id="42102"></a>Support for Slot Shapes in DRD and EAD</h2>

<p>
<a id="pgfId-1120969"></a>The added slot shapes are supported both by the DRD checker and EAD. For DRD, the maximum density checks support the slot shapes. </p>
<p>
<a id="pgfId-1121455"></a>In EAD, the R extraction as well as the EM analysis consider the slot shapes using the <a href="../vead/appB.html#doSlotting">layoutEAD.pex doSlotting</a> environment variable.</p>

<h4><em>
<a id="pgfId-1093774"></a>Related Topics</em></h4>

<p>
<a id="pgfId-1096489"></a><a href="metaldensity.html#53069">Metal Density Toolbar</a></p>
<p>
<a id="pgfId-1126522"></a><h-hot><a actuate="user" class="URL" href="../weuser/appA.html#metalDensityOptionsForm" show="replace" xml:link="simple">Metal Density Options Form</a></h-hot></p>
<p>
<a id="pgfId-1126524"></a><a href="../sklayoutref/lx.html#lxShapeSlotting">lxShapeSlotting</a></p>
<p>
<a id="pgfId-1126526"></a><a href="../sklayoutref/lx.html#lxConvertSlotToPolygon">lxConvertSlotToPolygon</a></p>
<p>
<a id="pgfId-1126530"></a><h-hot><a href="appB.html#22645">List of Slotting Environment Variables</a></h-hot></p>
<p>
<a id="pgfId-1100976"></a></p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="editRoute.html" id="prev" title="Editing Routed Connections">Editing Routed Connections</a></em></b><b><em><a href="interactiveColoredRouting.html" id="nex" title="Interactive Colored Routing (ICADVM20.1 Only)">Interactive Colored Routing (I ...</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2020, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>