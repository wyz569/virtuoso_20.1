
<html><head><title>Netlisting a VHDL Design</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="rgirdhar" />
<meta name="CreateDate" content="2020-08-20" />
<meta name="CreateTime" content="1597946692" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes how to use VHDL OSS Toolbox to generate netlist views." />
<meta name="DocTitle" content="Virtuoso VHDL Toolbox User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Netlisting a VHDL Design" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.2.1" />
<meta name="Keyword" content="vhdlossuser" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2020-08-20" />
<meta name="ModifiedTime" content="1597946692" />
<meta name="NextFile" content="vhdloss_chap4.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="vhdloss_chap2.html" />
<meta name="c_product" content="Virtuoso Schematic Editor" />
<meta name="Product" content="Virtuoso Schematic Editor" />
<meta name="ProductFamily" content="Virtuoso Schematic Editor" />
<meta name="ProductVersion" content="ICADVM20.1" />
<meta name="RightsManagement" content="Copyright 2012-2020 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso VHDL Toolbox User Guide -- Netlisting a VHDL Design" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="ICADVM20.1" />
<meta name="SpaceKey" content="vhdlossuserICADVM201" />
<meta name="webflare-version" content="2.0" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="vhdlossuserTOC.html">Contents</a></li><li><a class="prev" href="vhdloss_chap2.html" title="Introducing the VHDL Toolbox">Introducing the VHDL Toolbox</a></li><li style="float: right;"><a class="viewPrint" href="vhdlossuser.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="vhdloss_chap4.html" title="Creating a Testbench">Creating a Testbench</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso VHDL Toolbox User Guide<br />Product Version ICADVM20.1, October 2020</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>3
<a id="pgfId-1014262"></a></h1>
<h1>
<a id="pgfId-1014264"></a><hr />
<a id="84494"></a>Netlisting a VHDL Design<hr />
</h1>

<p>
<a id="pgfId-1021584"></a>This chapter describes the steps to netlist your VHDL design. </p>
<p>
<a id="pgfId-1022052"></a>In this chapter, you will learn about the following topics:</p>
<ul><li>
<a id="pgfId-1021610"></a><a href="vhdloss_chap3.html#96822">Initializing the Run Directory</a></li><li>
<a id="pgfId-1022021"></a><a href="vhdloss_chap3.html#47183">Configuring the VHDL Netlister</a></li><li>
<a id="pgfId-1022023"></a><a href="vhdloss_chap3.html#44774">Generating the Netlist</a></li><li>
<a id="pgfId-1021684"></a><a href="vhdloss_chap3.html#60194">Viewing Netlist Results</a></li></ul>




<h2>
<a id="pgfId-1020604"></a><a id="96822"></a>Initializing the Run Directory</h2>

<p>
<a id="pgfId-1020621"></a>In the VHDL Toolbox, choose <em>Commands - Initialize Run Dir </em>option to initialize the run directory that you specified in the <em>Run Directory</em> field and to validate the top design. The run directory is initialized with the default directory structure required to create hierarchical netlists. </p>
<p>
<a id="pgfId-1020685"></a>The fixed menu commands become available after you initialize the run directory.</p>

<h2>
<a id="pgfId-1020574"></a><a id="47183"></a>Configuring the VHDL Netlister</h2>

<p>
<a id="pgfId-1020506"></a>You can configure the VHDL netlister to customize the netlisting environment. Netlister configuration includes the following tasks:</p>
<ul><li>
<a id="pgfId-1022849"></a><a href="vhdloss_chap3.html#17327">Customizing Pre- and Post-Processing Functions</a></li><li>
<a id="pgfId-1022864"></a><a href="vhdloss_chap3.html#62081">Setting up Hierarchical Specifications</a><ul><li>
<a id="pgfId-1028037"></a><a href="vhdloss_chap3.html#10292">Netlist Options Tab</a><ul><li>
<a id="pgfId-1028070"></a><a href="vhdloss_chap3.html#64413">Specifying the Traversal Settings</a>&#8216;</li><li>
<a id="pgfId-1028090"></a><a href="vhdloss_chap3.html#43274">Setting up Netlisting Controls</a></li></ul></li><li>
<a id="pgfId-1028050"></a><a href="vhdloss_chap3.html#50109">VHDL Options Tab</a></li><li>
<a id="pgfId-1028060"></a><a href="vhdloss_chap3.html#15765">Other Options Tab</a></li></ul></li><li>
<a id="pgfId-1022871"></a><a href="vhdloss_chap3.html#26299">Setting up the VHDL Netlister for Inherited Connections</a></li></ul>







<p>
<a id="pgfId-1028392"></a>In addition, following are some additional features of the netlister:</p>
<ul><li>
<a id="pgfId-1028026"></a><a href="vhdloss_chap3.html#32996">Support for Generating the Configurations of All the Cellviews in a Design</a></li><li>
<a id="pgfId-1036278"></a><a href="vhdloss_chap3.html#97823">Support for Instance Bindings</a></li><li>
<a id="pgfId-1023192"></a><a href="vhdloss_chap3.html#24289">Support for External VHDL Source Files</a></li><li>
<a id="pgfId-1028352"></a><a href="vhdloss_chap3.html#22184">Support for Type Conflict Resolution</a></li><li>
<a id="pgfId-1028641"></a><a href="vhdloss_chap3.html#92370">Support for Shorting Devices</a></li><li>
<a id="pgfId-1034729"></a><a href="vhdloss_chap3.html#64977">Support for Shorting Terminals</a></li></ul>





<p>
<a id="pgfId-1031516"></a>For information on the SKILL functions associated with VHDL Toolbox, see <em><a actuate="user" class="URL" href="../netlistsimulateref/netlistsimulaterefTOC.html#firstpage" show="replace" xml:link="simple">Digital Design Netlisting and Simulation SKILL Reference</a></em>.</p>

<h3>
<a id="pgfId-1020508"></a><a id="17327"></a>Customizing Pre- and Post-Processing Functions</h3>

<p>
<a id="pgfId-1020509"></a>The VHDL Toolbox allows you to customize and run the pre- and post-processing SKILL functions before you start the VHDL Toolbox. A pre-processing function executes before the netlisting starts while a post-processing function executes after the netlisting completes. VHDL Toolbox supports the <code>hnlVHDLPreNetlistFunc()</code>and <code>hnlVHDLPostNetlistFunc()</code>pre- and post-processing functions, which you can define in the .<code>cdsinit</code> or .<code>simrc</code> file. The following example shows how to define the <code>hnlVHDLPreNetlistFunc()</code> function:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1020510"></a>procedure(hnlVHDLPreNetlistFunc()</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1020511"></a> printf(&quot;Welcome to VHDL Netlister !!\n&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1020512"></a>)</pre>

<p>
<a id="pgfId-1020513"></a>The following example shows how to define the <code>hnlVHDLPostNetlistFunc()</code> function:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1020514"></a>procedure( hnlVHDLPostNetlistFunc()</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1020515"></a> printf(&quot;Done with VHDL Netlisting !!\n&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1021562"></a>)</pre>
<h3>
<a id="pgfId-1022895"></a><a id="62081"></a>Setting up Hierarchical<a id="hierspecs"></a> Specifications</h3>

<p>
<a id="pgfId-1022934"></a>You need to set up h<a id="vhdlOSSNetlistOptionsForm"></a>ierarchical specifications before you can netlist your design. The hierarchical specifications specify how the cellviews combine to form a hierarchy. When you netlist your design, each top-level block is bound to an architecture cellview or schematic cellview. For example, you might bind the memory block to a behavior architecture cellview and a cntl_1 block to a schematic cellview. </p>
<p>
<a id="pgfId-1028435"></a>The VHDL Setup - Netlist form enables you to specify different component configurations, such as Cadence HED Configuration, or Switch View and Stop View List, for your design at any given time. </p>
<p>
<a id="pgfId-1023269"></a>To open the VHDL Setup - Netlist form:</p>

<ul><li>
<a id="pgfId-1028491"></a>In the <em>VHDL Toolbox </em>window, choose <em>Setup - Netlist</em>.<br />
<a id="pgfId-1028492"></a>The VHDL Setup - Netlist form is displayed, as shown in the figure below. This form consists of three tabs: </li><li>
<a id="pgfId-1028496"></a><a href="vhdloss_chap3.html#10292">Netlist Options Tab</a></li><li>
<a id="pgfId-1028500"></a><a href="vhdloss_chap3.html#50109">VHDL Options Tab</a></li><li>
<a id="pgfId-1028504"></a><a href="vhdloss_chap3.html#15765">Other Options Tab</a></li></ul>






<h4>
<a id="pgfId-1028509"></a><a id="10292"></a>Netlist Options Tab</h4>
<p>
<a id="pgfId-1029258"></a></p>
<div class="webflare-div-image">
<img src="images/vhdloss_netlist_opts.gif" /></div>

<p>
<a id="pgfId-1025603"></a>The following tables describe the various options on the Net<a id="netlistopt"></a>list Options tab.</p>

<h4><em>
<a id="pgfId-1025606"></a><a id="TraversalSettings"></a><a id="64413"></a>Specifying the Traversal Settings</em></h4>
<table class="webflareTable" id="#id1025610">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<p>
<a id="pgfId-1025612"></a>Option</p>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<p>
<a id="pgfId-1025614"></a>Description</p>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1025616"></a><em>Switch View List</em><a id="switchviewlist"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1025618"></a>Specifies a list of views that define how the top cell/design is traversed. The top/cell design is finally netlisted as per the stop view list.</p>
<p>
<a id="pgfId-1025669"></a>Default: <code>stimulus schematic structural dataflow behavioral symbol</code></p>
<p>
<a id="pgfId-1039949"></a>To generate the entity based on the symbol views, set the following flags in the <code>.simrc</code> file:</p>

<ul><li>
<a id="pgfId-1040147"></a><code>hnlVHDLGenerateEntityFromSymbol</code><a id="hnlVHDLGenerateEntityFromSymbol"></a> <code>=</code> <code>t</code> to generate entity and component with view name <code>symbol</code> for all cells except stop cells.</li><li>
<a id="pgfId-1040194"></a><code>hnlVHDLEnableDataTypePropagation</code><a id="hnlVHDLEnableDataTypePropagation"></a> <code>=</code> <code>nil</code> to stop data propagation while netlisting.</li><li>
<a id="pgfId-1040579"></a><code>hnlVHDLGenerateEntityFromSymbolForStopCell</code><a id="hnlVHDLGenerateEntityFromSymbolForStopCell"></a> <code>=</code> <code>t</code> to generate entity and component with view name <code>symbol</code> for stop cells.</li></ul>



</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1025620"></a><em>Stop View List</em><a id="stopviewlist"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1025706"></a>Specifies a list of views, which indicates the last levels of hierarchy needed for the netlist. If the switch view selected by a netlister is available on the stop view list, the hierarchy stops expanding. This indicates that the entity/architecture for the cellview is not required to be generated. The netlister prints only the instance line in the final netlist. If the current switch view is not available in the list, netlisting continues with the next level of hierarchy. </p>
<p>
<a id="pgfId-1025622"></a>Default: <code>symbol behavioral</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1025624"></a><em>Stop Library List</em><a id="stopliblist"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1025782"></a>Specifies a list of libraries, which contain the cells, which you do not need to traverse while netlisting a design. These cells are treated as stop cell views. If the library of the current instance appears in this list, the instance is not expanded further and only the instance line is printed in the final netlist. </p>
<p>
<a id="pgfId-1025783"></a>Default: <code>sample basic ieee</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1025888"></a><em>Enforce VHDL Binding for View(s)</em><a id="12686"></a><a id="enforceVHDLBindingView"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1025904"></a>Specifies a list of proxy symbol views to be used for resolution of inherited connections. For more details about inherited connections, refer to <a href="vhdloss_chap3.html#26299">Setting up the VHDL Netlister for Inherited Connections</a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1025628"></a><em>Skip Design Units</em><a id="74535"></a><a id="skipdsgnunits"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1025630"></a>Specifies a list of libraries or library cells that are to be skipped while netlisting a design. If the library or library and cell name of the current instance appears in this list, the instance is ignored while netlisting and is not printed in the final netlist. </p>
<p>
<a id="pgfId-1025835"></a>To ignore design cells, you do not need to set the design properties as <code>nlAction=ignore</code> or <code>nlIgnore=vhdl</code>. You can only specify the library cells in the <em>Skip Design Units</em> table.</p>
</td>
</tr>
</tbody></table>
<h4><em>
<a id="pgfId-1026752"></a><a id="43274"></a><a id="33100"></a>Setting up Netlisting Controls</em></h4>
<table class="webflareTable" id="#id1026699">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<p>
<a id="pgfId-1026701"></a>Option</p>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<p>
<a id="pgfId-1026703"></a>Description</p>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1026705"></a><em>Netlist CDF parameters for</em><a id="95650"></a><a id="simulatorforinstparams"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1026707"></a>Lists the simulators, which are used to determine the parameters that need to be translated into VHDL generics. You can select any of these simulators depending on your need. The netlister reads instParameters field of the simulation view simInfo section in the cell CDF to resolve the parameter list.</p>
<p>
<a id="pgfId-1026708"></a>Default: <code>NONE</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1026711"></a><em>Netlisting Mode</em><a id="64651"></a><a id="netlisting"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1026713"></a>Enables you to re-netlist the entire design. The VHDL Toolbox does not support the <em>Incremental</em> netlist mode. The <em>ReNetlist All </em>option regenerates files for every design unit in the hierarchy.</p>
<p>
<a id="pgfId-1026714"></a>Default: <code>ReNetlist All</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1026717"></a><em>Evalua</em><a id="33833"></a><em>te Inherited Connections</em><a id="evalinheritedConn"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1026719"></a>Specifies that the inherited connections should be evaluated before generating netlist. The netlister evaluates the expressions for inherited connections, stored with the <code>netSet</code> and <code>netExpr</code> attributes, and prints extra cellview terminals or pseudo ports for the explicit and implicit terminals.</p>
<p>
<a id="pgfId-1026720"></a>Default: <code>On</code></p>
<p>
<a id="pgfId-1026721"></a>For more information about support for inherited connections, refer to <a href="vhdloss_chap3.html#68647">Setting up the VHDL Netlister for Inherited Connections</a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1026726"></a><em>Analyz</em><a id="46405"></a><em>e(Compile) Design Units</em><a id="analyzeMode"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1026728"></a>Specifies whether to compile the design units before elaborating the entire design.</p>
<p>
<a id="pgfId-1026729"></a>Default: <code>Off</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1026731"></a><em>Elaborate</em><a id="32168"></a><em> Design</em><a id="elaborateMode"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1026733"></a>Specifies whether to elaborate the compiled design units.</p>
<p>
<a id="pgfId-1026734"></a>Default: <code>Off</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1038379"></a>Enable Split Configuration</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1038381"></a>Specifies whether to generate the configurations of all the cellviews in your design, instead of generating a single top-level configuration.</p>
<p>
<a id="pgfId-1038420"></a>Default: <code>Off</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1026736"></a><em>Generate Test Bench Template</em><a id="97065"></a><a id="vhdlgentestbench"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1026738"></a>Specifies whether to generate top level VHDL test bench template for the design automatically. A test bench file with a default name test_bench.vhd is saved in the run directory.</p>
<p>
<a id="pgfId-1026739"></a>Default: <code>Off</code></p>
<p>
<a id="pgfId-1026740"></a>To view and edit the auto generated test bench, choose <em>Commands &#8211; Edit Test Bench</em>. For more details, refer to <a href="vhdloss_chap4.html#13916">Chapter 4, &#8220;Creating a Testbench.&#8221;</a>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1028248"></a>Detaile<a id="detaliedreport"></a>d Report</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1026789"></a>Specifies whether to display the debug messages generated while netlisting a design on Virtuoso Design Environment workbench. These messages are automatically added to the CDS.log file. The messages include the information on how the netlister has resolved the inconsistencies while netlisting a design. Turn this option On if you need to display the messages.</p>
<p>
<a id="pgfId-1026747"></a>Default: <code>Off</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1026749"></a>Max E<a id="maxerrors"></a>rrors</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1026814"></a>Specifies the maximum number of errors after which design compilation or elaboration aborts.</p>
<p>
<a id="pgfId-1026751"></a>Default: <code>10</code></p>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-1025867"></a><a id="50109"></a>VHDL Opt<a id="75879"></a>ions Tab</h4>
<p>
<a id="pgfId-1027213"></a></p>
<div class="webflare-div-image">
<img src="images/vhdloss_vhdl_opts.gif" /></div>

<p>
<a id="pgfId-1027595"></a></p>
<table class="webflareTable" id="#id1027507">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<p>
<a id="pgfId-1027509"></a>Option</p>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<p>
<a id="pgfId-1027511"></a>Description</p>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1027514"></a><em>Netlist Identifiers as</em><a id="72544"></a><a id="netlistIdentifiers"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1027516"></a>Lists the options to specify whether the identifiers, such as instance names and net names, should be converted using CDS NMP or their case should be preserved. </p>
<p>
<a id="pgfId-1027517"></a>By default, the value of Netlist Identifiers as is set to Converted using CDS NMP. With this option, the netlister uses Cadence name mapping and OSS tabular format. It translates all identifiers that are illegal in VHDL or contain uppercase characters to valid VHDL names using escaped name style. For example, an identifier aBc is translated as \aBc\ to preserve the uppercase character during simulation.</p>
<p>
<a id="pgfId-1027518"></a>To keep the case of the identifiers, set the value of Netlist Identifiers as to Case Preserved. In this case, an identifier aBc is saved with same name as aBc, but the uppercase of characters will not be preserved during simulation.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1027521"></a><em>VHDL IEEE Syntax</em><a id="vhdlieeesyntax"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1027523"></a>Specifies the version of VHDL IEEE standard that is used to generate a netlist. The netlists are generated using any of the two versions, <code>1076-1993</code> or 1076-1987.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1027526"></a><em>Single Netlist File</em><a id="24028"></a><a id="singlenetlistfile"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1027528"></a>Specifies whether to create a single netlist file or multiple netlist files for VHDL design units. A single netlist file is generated with VHDL description of all non-primitive design units, by default. Turn this option <code>off</code> if you need to create multiple netlist files.</p>
<p>
<a id="pgfId-1027529"></a>Default: <code>On</code></p>
<p>
<a id="pgfId-1027532"></a>For more information about analyzing netlists, refer to <a href="vhdloss_chap3.html#32101">Analyzing the Netlist</a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1027536"></a><em>VHDL Library Binding</em><a id="VHDLlibbinding"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1038509"></a>Specifies the compile library to which the netlister binds the design units. The netlister has two binding options, <em>Preserve</em> and <em>Merge</em>. The <em>Preserve</em> option binds the design units to the associated DFII library and the <em>Merge</em> option binds the netlisted design units to a single logical VHDL library, <code>work</code>. If the <em>Single Netlist File</em> option is on, the <em>Merge</em> library binding option is also on by default. However, if you need to switch to the <em>Preserve</em> option, you should first turn off the <em>Single Netlist File</em> option.</p>
<p>
<a id="pgfId-1038510"></a>When the VHDL library binding is set to <em>Preserve</em> and the <code>hnlVHDLConfigUseLibNameForStoppingCell</code><a id="hnlVHDLConfigUseLibNameForStoppingCell"></a> variable is set to <code>t</code>, the config file prints the specified library name, instead of the single logical VHDL library <code>work</code> for stop cells as well.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1027541"></a><em>VHDL Instance Binding</em><a id="VHDLinstancebinding"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1027543"></a>Indicates that the instances are directly bound into the architectural description. The netlister has two instance binding options, <em>Direct</em> and <em>Configuration</em>. The default instance binding option is <em>Direct</em>. For more information, refer to <h-hot><a href="vhdloss_chap3.html#97823">Support for Instance Bindings</a></h-hot>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1027546"></a><em>Bus Range Notation</em><a id="58024"></a><a id="VHDLBusRange"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1027548"></a>Specifies the direction in which bus ranges should be printed for all vector signals. You can set this option as one of the following values:</p>

<ul><li>
<a id="pgfId-1027549"></a><code>Ascending</code>: Bus ranges should be printed in ascending order. For example, <code>PORT ( a : IN bit_vector( 1 TO 5 ) )</code>.</li><li>
<a id="pgfId-1027550"></a><code>Descending</code>: Bus ranges should be printed in descending order. For example, <code>PORT ( a : IN bit_vector( 5 DOWNTO 1 ) )</code>.</li><li>
<a id="pgfId-1027551"></a><code>Auto</code>: Bus direction should be same as specified in the schematic. </li></ul>



<p>
<a id="pgfId-1027552"></a>If the bus ranges are given in both the directions and the Bus Range Notation is set as <code>Auto</code>, it is not defined how the bus ranges will be printed in the netlist. The netlister can print the bus ranges in any direction. Therefore, in these cases, it is recommended to set the value of this field as <code>Ascending</code> or <code>Descending</code>.</p>
<p>
<a id="pgfId-1039440"></a>Default: <code>Auto</code></p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1039717"></a>For the default mode, to print the vector signals in the order specified in the design, set the <code>hnlVHDLMergeSignals</code> variable to <code>t</code>. If a design has a descending bus and this variable is set to <code>t,</code> then the signal will be printed in descending order, irrespective of whether ascending part has more number of bits.</div>
<p>
<a id="pgfId-1039549"></a>However, if the design contains a complete bus (<code>a&lt;0:7&gt;</code>) containing all of the bus bits (<code>a&lt;0:7&gt;</code> <code>a&lt;1&gt;</code>, and <code>a&lt;5:4&gt;</code>), the signal will be printed in ascending order. </p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1027556"></a><em>Default Data Type (for non-VHDL Views)</em><a id="95944"></a><a id="defaultdatatype"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1027558"></a>Contains a list of default data types, which can be used for the ports and signals in a netlist, if no information can be extracted from a design. A default signal scalar type (example: STD_ULOGIC) and vector type (example: STD_ULOGIC_VECTOR) is specified. You can modify these values when a signal type cannot be derived from an external VHDL model.</p>
<p>
<a id="pgfId-1027559"></a>Default: <code>bit</code></p>
<p>
<a id="pgfId-1028175"></a>You can configure port type and port direction by using the .<code>simrc</code> file. For more information on inherited ports, refer to <a href="vhdloss_chap3.html#73479">Configuring Pseudo Ports</a>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1027561"></a><em>Default Text</em><a id="84482"></a><a id="defaultcomment"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1027563"></a>Contains the following information:</p>

<ul><li>
<a id="pgfId-1027565"></a>VHDL <a id="VHDLnetlistheader"></a>Netlist Header: Allows you to add a default comment string before each netlisted cellview (entity/architecture/package/configuration). The comment string is parsed for the keywords <code>&lt;libraryName&gt;</code>, <code>&lt;cellName&gt;</code>, <code>&lt;viewName&gt;</code>, <code>&lt;user&gt;</code>, and <code>&lt;dateStamp&gt;</code>. When these keywords are in the comment string, these are replaced by their respective values during netlisting.</li><li>
<a id="pgfId-1027567"></a>VHDL <a id="VHDLdefaultcontextclause"></a>Default Context Clause: Lists the package names to be inserted in the context clause of each VHDL design unit generated by the netlister. A context clause consists of:<ul><li>
<a id="pgfId-1027568"></a>Library</li><li>
<a id="pgfId-1027569"></a>Package</li><li>
<a id="pgfId-1027570"></a>Selector</li></ul><br />
<a id="pgfId-1027571"></a>You can add, modify, or delete the value of the context clause.</li></ul>





<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1039806"></a>You can configure the indentation of the text by setting the <code>hnlVHDLIndentText</code> flag to <code>t</code>. You can also set the maximum line length by setting the <code>hnlMaxLineLength</code> flag.</div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1027574"></a><em>Data Types</em><a id="datatypes"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1027576"></a>Allows you to specify user-defined data types that may be used in a design. The VHDL netlister need to know the scalar and vector names of a given data type because in VHDL, scalar and vector are different types. The data types can be specified in a tabular format in the following fields: </p>

<ul><li>
<a id="pgfId-1027577"></a>Scalar: Specifies the scalar name of the data type, such as <code>bit</code>.</li><li>
<a id="pgfId-1027578"></a>Vector: Specifies the vector name of the data type, such as <code>bit_vector</code>.</li><li>
<a id="pgfId-1027579"></a>Format: Specifies the printing format, such as <code>LOGIC</code>, <code>INTEGER</code>, <code>REAL</code>, <code>STRING</code>, and <code>BOOLEAN</code>.</li><li>
<a id="pgfId-1027580"></a>Def Value: Specifies the default value printed for the ports of this data type.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1031920"></a>During netlisting, this default value is printed for pins if the variable <code>hnlVHDLPrintPortInitialValue=t</code> (default value). For example, if you set the default value for a scalar std_logic as `0&#39;, then it will be printed as follows:</div>
<a id="pgfId-1031921"></a><code>ENTITY and2_sch IS</code><br />
<a id="pgfId-1031922"></a><code>PORT(</code><br />
<a id="pgfId-1031923"></a><code>c : OUT std_logic := &#39;0&#39;;</code><br />
<a id="pgfId-1031924"></a>However, if <code>hnlVHDLPrintPortInitialValue=nil</code>, then the default value is not printed. For example,<br />
<a id="pgfId-1031925"></a><code>ENTITY and2_sch IS</code><br />
<a id="pgfId-1031926"></a><code>PORT(</code><br />
<a id="pgfId-1031905"></a><code>c : OUT std_logic;</code></li></ul>












<p>
<a id="pgfId-1027581"></a>You can add, modify, or delete the data types, if required.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1027584"></a><em>Ext. Sources</em><a id="extSources"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1027586"></a>Lets you specify external VHDL sources to be used during netlisting. The <em>Ext. Sources</em> tab contains the <em>VHDL External Source Directories</em> table in which you can specify libraries and their directory paths. For more information, see <a href="vhdloss_chap3.html#24289">Support for External VHDL Source Files</a>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1027592"></a><em>Generic Defaults</em><a id="genericdefaults"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1027594"></a>Allows you to add, modify, or delete generics for an instance or cell. For more information about generics, see <a href="vhdloss_chap6.html#33860">Modeling Instance Properties as Generics</a>.</p>
</td>
</tr>
</tbody></table>

<h4>
<a id="pgfId-1029275"></a><a id="15765"></a>Other Options Tab</h4>

<p>
<a id="pgfId-1029279"></a>The following figure shows the <em>Other Options</em> tab on the VHDL Setup - Netlist form:</p>

<p>
<a id="pgfId-1029302"></a></p>
<div class="webflare-div-image">
<img src="images/oss_netlist_otheroptions.gif" /></div>

<p>
<a id="pgfId-1029297"></a>The various options on the <em>Other Options</em> tab are:</p>
<table class="webflareTable" id="#id1029280">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<p>
<a id="pgfId-1029282"></a>Option</p>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<p>
<a id="pgfId-1029284"></a>Description</p>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1029287"></a><a id="81181"></a>VHDL Con<a id="VHDLConfigName"></a>figuration Name </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1029289"></a>This option provides the control to specify the configuration name while generating instance binding in <code>config</code> mode. For more information, refer to <h-hot><a href="vhdloss_chap3.html#VHDLinstancebinding">VHDL Instance Binding</a></h-hot> option.</p>
<p>
<a id="pgfId-1029291"></a>Default: <code>config_vhdl</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1029293"></a><a id="32070"></a> VHDL Configura<a id="VHDLConfigSuffix"></a>tion File Suffix</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1029295"></a>This option displays the suffix for the configuration file of your design. However, this feature is no longer supported.</p>
<p>
<a id="pgfId-1029296"></a>Default: <code>-cfg</code></p>
</td>
</tr>
</tbody></table>

<h3>
<a id="pgfId-1027685"></a><a id="26299"></a><a id="68647"></a>Setting up the VHDL Netlister for Inherited Connections</h3>

<p>
<a id="pgfId-1027300"></a><strong></strong><a id="inheritedconn"></a><a id="65232"></a>Inherited connections allow you to create global signals and override their names for selected branches of the design hierarchy. This section explains how VHDL Toolbox provides support to evaluate inherited connections during netlist generation. </p>
<p>
<a id="pgfId-1027301"></a>An inherited connection is defined using the <code>netExpr</code> property in a lower-level schematic, which can also be overridden using the <code>netSet</code> property in a higher-level schematic. VHDL language does not support textual attributes such as <code>netSet</code> and <code>netExpr</code>. Therefore, the netlister evaluates these attributes and prints extra ports, called pseudo ports, in the netlist. The pseudo ports are created in the entity of the cellview being translated and is used to pass the inherited data signal up and down in the hierarchy. The names of these ports are prefixed with <code>inh_</code> and are also assigned a default data type, which is obtained from the instance connection in the schematic design. For example,</p>
<p>
<a id="pgfId-1027302"></a>entity myinv is</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1027303"></a>port (</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1027304"></a>a : in bit;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1027305"></a>y : in bit;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1027306"></a>inh_powr : inout std_ulogic );</pre>

<p>
<a id="pgfId-1027307"></a>here, <code>inh_powr</code> is a pseudo port. The direction of the pseudo ports is always <code>inout</code>.</p>
<p>
<a id="pgfId-1027308"></a>The connection from an instance terminal to an inherited signal is either a resolved <code>netSet</code> value or a pseudo terminal net. In the following example, <code>inh_powr</code> is a resolved net, </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1039305"></a>inst0: entity work.myinv</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1039306"></a>port map (</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1039307"></a>   a =&gt; neta,</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1027312"></a>   b =&gt; netb;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1027313"></a>   inh_powr =&gt; vdd_global</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1027314"></a>);</pre>

<p>
<a id="pgfId-1027315"></a>In the following example, <code>inh_powr</code> is a pseudo terminal net, </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1027316"></a>inst1: entity work.myinv</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1027317"></a>port map (</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1027318"></a>   a =&gt; neta,</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1027319"></a>   b =&gt; netb;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1027320"></a>   inh_powr =&gt; inh_powr</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1027321"></a>);</pre>

<p>
<a id="pgfId-1027322"></a>At the top level, all inherited connections are resolved to the <code>netSet</code> value or the default value of <code>netExpr</code>. Therefore, no pseudo ports exist at the entity interface.</p>
<p>
<a id="pgfId-1028157"></a>For more details on inherited connections, see <strong>Chapter 2, Understanding Connectivity and Naming Conventions of Virtuoso Schematic Editor L User Guide</strong>.</p>
<p>
<a id="pgfId-1028158"></a>You can specify the choice to evaluate inherited connections in three ways (listed in the order of preference from highest to lowest):</p>
<ul><li>
<a id="pgfId-1028160"></a>Setting the <a href="vhdloss_chap3.html#evalinheritedConn">Evaluate Inherited Connections</a> option in the <em>Netlist Options</em> tab of <em>VHDL Setup - Netlist</em> form. This will automatically set the <code>simPrintInhConnAttributes</code> SKILL variable as <code>nil</code> in the <code>si.env</code> file.</li><li>
<a id="pgfId-1028161"></a>Setting the <code>simPrintInhConnAttributes</code> SKILL variable as <code>nil</code> in the <code>.simrc</code> file</li><li>
<a id="pgfId-1028162"></a>Setting the <code>simPrintInhConnAttributes</code> SKILL variable as <code>nil</code> in the CIW</li></ul>



<h4><em>
<a id="pgfId-1028126"></a><a id="73479"></a>Configuring Pseudo Ports</em></h4>

<p>
<a id="pgfId-1027323"></a>Pseudo ports are by default prefixed with inh_. You can customize this prefix string as per your requirement using the <code>hnlInhConnPrefix</code> variable in the .<code>simrc</code> file. If you do not want to prefix the pseudo ports with any string, set this variable to &quot;&quot;.</p>
<p>
<a id="pgfId-1027324"></a>The default port type of the pseudo ports is <code>INOUT</code> and their data type is same as the default VHDL data type set using the <code>hnlVHDLDefaultDataType</code> variable. However, you can set a different default data type and port type for these ports using the <code>hnlVHDLDefaultInhPortDataType</code> and <code>hnlVHDLDefaultInhPortMode</code> variables, respectively.</p>

<h4><em>
<a id="pgfId-1027332"></a><strong></strong><a id="implicitconn"></a>Support for Implicit Inherited Connections for Leaf Cells</em></h4>

<p>
<a id="pgfId-1027333"></a>By default, the netlister does not consider the implicit inherited net expressions on wires of leaf (stopping) cellviews. To honor such inherited net expressions, set the following variables in the <code>.simrc</code> file:</p>
<ul><li>
<a id="pgfId-1027334"></a> Set the <code>simResolveStopCellImplicitConns</code> skill variable as <code>t</code></li><li>
<a id="pgfId-1027335"></a> Set the <code>simPrintInhConnAttributes</code> variable as <code>nil</code></li></ul>

<p>
<a id="pgfId-1027336"></a>When these flags are set, the netlister evaluates the implicit inherited net expression on wires of the stopping cellviews and creates pseudo ports at the top level, wherever required.</p>

<h4><em>
<a id="pgfId-1027338"></a>Support for Proxy Views</em></h4>

<p>
<a id="pgfId-1027339"></a>VHDL text view<a id="proxyview"></a>s do not support textual attributes for inherited connections. Therefore, to print the inherited connections in the netlist, you need to create proxy views that contain description of the desired inherited pins and terminals. This section explains how the VHDL Toolbox provides support for printing inherited connections in the netlist by using proxy views. </p>
<p>
<a id="pgfId-1027341"></a>The <em>Netlist Options</em> tab on the VHDL Setup - Netlist form contains the <em>Enforce VHDL Binding for View(s)</em><a id="enforceVHDLViews"></a> field, shown in the figure below. This field enables you to specify a list of proxy symbol views to be used for resolving inherited connections.</p>
<p>
<a id="pgfId-1027342"></a>The netlister uses these proxy symbol views, in place of actual VHDL views to resolve inherited connections. After resolving the inherited connections, the netlister uses the actual VHDL text views for data type propagation. If proxy symbol views are not specified, the netlister directly uses actual VHDL text views. In this case, the inherited terminals are not resolved. </p>
<p>
<a id="pgfId-1027346"></a>Default: <code>symbol_inh</code></p>
<p>
<a id="pgfId-1029310"></a></p>

<div class="webflare-div-image">
<img src="images/oss_netlist_enforcebinding.gif" /></div>

<p>
<a id="pgfId-1027347"></a>The following restrictions apply to the resolution of inherited terminals using proxy views:</p>
<ul><li>
<a id="pgfId-1027348"></a>The actual VHDL view must have a valid OpenAccess database.</li><li>
<a id="pgfId-1027349"></a>If the proxy view has terminals with the <code>nlAction</code> property set as <code>ignore</code>, those terminals are ignored during netlisting. Such terminals should have a default value in the actual VHDL text view for successful compilation.</li></ul>

<p>
<a id="pgfId-1027350"></a>The VHDL-OSS netlister supports the use of proxy views by using the same proxy for multiple VHDL architecture views while binding cells in HED. Therefore, you can bind cells or instances to multiple VHDL architectures and specify one proxy view for resolving inherited connections. </p>
<p>
<a id="pgfId-1027351"></a>To support proxy views, the following prerequisites must be met:</p>
<ul><li>
<a id="pgfId-1027352"></a>All architecture-entity pairs are created by using DFII 5x cellviews before binding.</li><li>
<a id="pgfId-1027353"></a>All architecture-entity views have a valid OpenAccess database.</li><li>
<a id="pgfId-1027354"></a>Proxy symbol, which include the port name, width, and direction, are in sync with the underlying VHDL text views.</li></ul>


<p>
<a id="pgfId-1027355"></a>When the netlister finds an instance with VHDL view binding, it uses the first-found view in the proxy view list to resolve inherited connections. If no proxy views are specified in the list, the actual VHDL view is used, which is the same behavior as without proxy views.</p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1027356"></a>
Proxy views should not be specified in the Switch View or Stop View lists of hierarchical specifications. </div>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1027357"></a>The proxy view is enforced only for VHDL text views. For all non-vhdl views, such as schematic, Verilog, SV, or Verilog-a, the proxy view is not used. Proxy view support is applied on the basis of view types instead of view names. IC 6.1.5 release supports only VHDL-D views.</div>

<h3>
<a id="pgfId-1028297"></a><a id="77733"></a>Additional Features of the Netlister</h3>
<h4>
<a id="pgfId-1036020"></a><a id="32996"></a>Support for Generating the Configurations<a id="configAll"></a> of All the Cellviews in a Design<a id="hnlVHDLSplitConfigEnabled"></a></h4>

<p>
<a id="pgfId-1036304"></a>You can generate the configurations of all the cellviews in your design, instead of generating a single top-level configuration of the design using <a href="vhdloss_chap3.html#instBinding">hnlVHDLSplitInstsInConfig</a>. To enable this feature, set <code>hnlVHDLSplitConfigEnabled</code> to <code>t</code>. For example, you can add the following entry in the <code>.simrc</code> file. </p>
<p>
<a id="pgfId-1036202"></a><code>hnlVHDLSplitConfigEnabled = t</code></p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1036073"></a>
The variable <code>hnlVHDLSplitConfigEnabled</code> works with VHDL IEEE 1993 format with the configuration mode enabled in the netlister.</div>

<p>
<a id="pgfId-1036360"></a>The following snippets illustrate parts of a netlist generated when <code>hnlVHDLSplitConfigEnable</code> is set to <code>t</code>. Note the bold text that illustrates how the configuration of a cellview is included in the netlist.</p>
<table class="webflareTable" id="#id1036429">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1037688"></a>--Netlist:<br />...<br />...<br />LIBRARY IEEE,STD;<br />USE IEEE.std_logic_1164.all;<br /><strong>CONFIGURATION xor_schematic_config OF \xor\ IS<br />  FOR schematic<br />    FOR ALL: myinv_logic<br />     USE ENTITY WORK.myinv_logic(behavioral);<br />    END FOR;<br />    END FOR;<br />    FOR \I1\: myand2<br />     USE ENTITY WORK.myand2(behavioral);<br />    END FOR;<br />    FOR ALL: myor2<br />     USE ENTITY WORK.myor2(dataflow);<br />    END FOR;<br />    END FOR;<br />END CONFIGURATION xor_schematic_config;<br /></strong>...<br />...<br />-- Netlist:<br />-- Library=testlib,Cell=top1,View=top1_schematic_config<br />...<br />LIBRARY IEEE,STD;<br />USE IEEE.std_logic_1164.all;<br />CONFIGURATION top1_schematic_config OF top1 IS<br />  FOR schematic<br />    FOR ALL: myxor<br />      USE ENTITY WORK.myxor(behavioral);<br />    END FOR;<br />    FOR \I3\: \generate\<br />      USE ENTITY WORK.\generate\(behavioral);<br />    END FOR;<br />    FOR ALL: \xor\<br />      USE CONFIGURATION WORK.xor_schematic_config;<br />    END FOR;<br />    END FOR;<br />END CONFIGURATION top1_schematic_config;</pre>
</td>
</tr>
</tbody></table>
<p>
<a id="pgfId-1038358"></a>The following snippets illustrate parts of netlist of the same design when <code>hnlVHDLSplitConfigEnable</code> is not set or set to <code>nil</code>. Note that the configuration of the cellview is missing and the top-level configuration is in the expanded form.</p>
<table class="webflareTable" id="#id1038359">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1038362"></a>--Netlist:<br />...<br />...<br />-- Netlist:<br />-- Library=testlib,Cell=top1,View=top1_schematic_config<br />...<br />LIBRARY IEEE;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1038363"></a>USE IEEE.std_logic_1164.all;<br />...<br />CONFIGURATION config_vhdl OF top IS<br />  FOR schematic<br />    FOR mb1: mid|<br />      USE ENTITY WORK.mid(behavioral);<br />      FOR behavioral<br />        FOR lb1: myor2<br />          USE ENTITY WORK.myor2(behavioral);<br />        END FOR;<br />        FOR lb2: myor2<br />          USE ENTITY WORK.myor2(behavioral);<br />        END FOR;<br />      END FOR;<br />    END FOR;<br />    FOR mb2: mid<br />      USE ENTITY WORK.mid(dataflow);<br />      FOR dataflow<br />        FOR lb1: myor2<br />          USE ENTITY WORK.myor2(dataflow);<br />        END FOR;<br />        FOR lb2: myor2<br />          USE ENTITY WORK.myor2(dataflow);<br />        END FOR;<br />      END FOR;<br />    END FOR;<br />  END FOR;<br />END CONFIGURATION config_vhdl;</pre>
</td>
</tr>
</tbody></table>

<h4>
<a id="pgfId-1027967"></a><a id="97823"></a>Support for I<a id="instBinding"></a>nstance Bindings</h4>

<p>
<a id="pgfId-1027968"></a>You can set VHDL Instance Binding Direct or Configuration option on the VHDL Options tab. If the instance binding is set as <em>Direct</em> and the syntax is IEEE 1993, all the instances are bound directly to their library/entity/architecture in the architectural description. If the syntax is IEEE 1987, instances are bound to components and component declarations and configuration specifications are printed in the architecture. </p>
<p>
<a id="pgfId-1027970"></a>If the instance binding is set as <em>Configuration</em>, all instance bindings are deferred in a separate VHDL file called <code>VHDL config file</code>. Here, instances are bound to components and only component declarations are printed in the architectural description. With the <em>Configuration</em> option, the VHDL netlister enables you to generate two views: compact and detailed. By default, the VHDL Netlister generates a compact configuration view. </p>
<p>
<a id="pgfId-1030185"></a>To generate a detailed configuration view such that binding is present for each instance, set the <code>hnlVHDLSplitInstsInConfig </code>variable to <code>t</code>. </p>
<p>
<a id="pgfId-1031475"></a>To generate a configuration view that contains detailed binding for specific cells, provide the list of cells to the <code>hnlVHDLSplitInstsInConfig </code>variable. For example, if you want to generate instance configuration in the netlist for instances <code>myinst1</code> and <code>myinst2</code>, set the variable as follows:</p>
<p>
<a id="pgfId-1031462"></a><code>hnlVHDLSplitInstsInConfig = &#39;(&quot;myinst1&quot; &quot;myinst2&quot;) </code></p>

<h4><em>
<a id="pgfId-1030232"></a>Example of a Compact and Detailed Configuration View</em></h4>

<p>
<a id="pgfId-1027972"></a>Compact configuration view</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1027973"></a>FOR ALL: pm_capa_unitaire</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1027974"></a>    USE ENTITY
&#160;&#160;&#160;&#160;AFE.pm_capa_unitaire(vhdlrn_functional);</pre>

<p>
<a id="pgfId-1027975"></a>Corresponding detailed configuration view</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1027976"></a>FOR cap_lr_0 : pm_capa_unitaire<br />USE ENTITY<br />AFE.pm_capa_unitaire(vhdlrn_functional);</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1027977"></a>END FOR;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1027978"></a>FOR cap_lr_1 : pm_capa_unitaire USE ENTITY</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1027979"></a>AFE.pm_capa_unitaire(vhdlrn_functional);</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1027980"></a>END FOR;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1027981"></a>FOR cap_lr_2 : pm_capa_unitaire USE ENTITY</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1027982"></a>AFE.pm_capa_unitaire(vhdlrn_functional);</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1027983"></a>END FOR;</pre>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1029318"></a>You can print the keyword <code>OTHERS</code> instead of <code>ALL</code> by setting the SKILL variable <code>hnlVHDLConfigSpecForCommonMaster=&quot;OTHERS&quot;</code> in the<code> .simrc </code>file. The default keyword is <code>ALL</code>.</div>

<h4>
<a id="pgfId-1027360"></a>Support <a id="24289"></a>for External VHDL Source Files</h4>
<ul><li>
<a id="pgfId-1027634"></a>Click <em>Ext. Sources</em>, as shown in the figure below.<br />
<a id="pgfId-1027638"></a><div class="webflare-div-image">
<img src="images/vhdloss_extsrcs.gif" /></div></li></ul>



<p>
<a id="pgfId-1027639"></a>Each directory path can have multiple VHDL files. The tool identifies all the VHDL files in these directories as the external source files, parses them to extract the cell and port details, and binds them to the specified library (irrespective of the <em>VHDL Library Binding</em> option being set as <code>Merge</code> or <code>Preserve</code>). By default, the tool identifies files with <code>.vhd</code> or <code>.vhdl</code> extensions as VHDL files. </p>
<p>
<a id="pgfId-1034993"></a>You can also specify the external source directories using the SKILL variable <code>hnlVHDLExternalDirList</code>. To specify a different set of file extensions, use the SKILL variable <code>hnlVHDLDefFileExts</code> .</p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1027640"></a>
If the name of an external VHDL cell entity is same as that of a design cell, the schematic of the design cell is treated as stop view and the hierarchy is not traversed further. Therefore, even if the schematic view of the design cell is not specified in the Stop View List, it will be treated as a stop view in this case. </div>

<p>
<a id="pgfId-1027361"></a>VHDL text views may not exist for some cells, for such cells you need the VHDL Netlister to refer to external text files for specifying the port datatypes. The external VHDL sources can be specified in following ways:</p>
<ul><li>
<a id="pgfId-1027362"></a>As a list of directories that contain the VHDL source files where every file in the directory has a <code>.vhd</code> or <code>.vhdl</code> extension. These files are parsed to gather information, such as cell names and ports data type.<br />
<a id="pgfId-1027363"></a>The default extensions are controlled by the <code>hnlVHDLDefFileExts </code>skill flag. </li><li>
<a id="pgfId-1027364"></a>During design traversal, no further hierarchy expansion takes place if there is any DFII cell name that matches the entity name from the external sources.</li></ul>


<p>
<a id="pgfId-1027365"></a>While generating netlist using the external source files, the VHDL Toolbox considers the following points:</p>
<ul><li>
<a id="pgfId-1027366"></a>If Cadence name mapping (CDS NMP mode) is ON (that is, if the <code>hnlVHDLDonotUseCdsNmp</code> variable is set to <code>nil</code>), while compilation, the tool changes the case of the external entity names to lowercase. While comparing the names of design cells with the names of external entities, the tool considers the changed names. Depending on the CDS NMP mode, the results of cell name comparison will be as shown in the following table:<br /><table class="webflareTable" id="#id1027367">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1027369">
<a id="pgfId-1027369"></a>Cell Names</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1027371">
<a id="pgfId-1027371"></a>Results after Comparison</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1027373"></a>VHDL entity: <code>Mid</code></p>
<p>
<a id="pgfId-1027374"></a>DFII cell: <code>Mid</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1027376"></a>Match if the CDS NMP mode is off</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1027378"></a>VHDL entity: <code>Mid2</code></p>
<p>
<a id="pgfId-1027379"></a>DFII cell: <code>mid2</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1027381"></a>Match if the CDS NMP mode is on</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1027383"></a>VHDL entity: <code>mid3</code></p>
<p>
<a id="pgfId-1027384"></a>DFII cell: <code>Mid3</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1027386"></a>Always mismatch</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1027388"></a>VHDL entity: <code>\Mid4\</code></p>
<p>
<a id="pgfId-1027389"></a>DFII cell: <code>Mid4</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1027391"></a>Matches irrespective of the CDS NMP mode because the entity name has been escaped. </p>
</td>
</tr>
</tbody></table></li><li>
<a id="pgfId-1027392"></a>If the name of a design cell matches with the name of an external entity, the netlister honors the external entity. The instance line printed by the netlister contains the instance name bound to the library name specified for the external source cell.</li><li>
<a id="pgfId-1027393"></a>During the first netlist run, the VHDL Toolbox parses all the files given in the external directories. In the following runs, the tool parses only new files. It parses an existing file only in the following cases:<ul><li>
<a id="pgfId-1027394"></a>If the file was modified after the previous run</li><li>
<a id="pgfId-1027395"></a>If the library binding of the file is modified after the previous run</li><li>
<a id="pgfId-1027396"></a>If the file was not parsed in the previous run because of errors</li></ul></li><li>
<a id="pgfId-1027397"></a>VHDL Toolbox checks for the presence of multiple declarations for an entity. It reports errors in the following cases:<ul><li>
<a id="pgfId-1027398"></a>If the external source data has multiple files (in same or different libraries) with same entity declaration.</li><li>
<a id="pgfId-1027399"></a>If a vhdl text view has same name as that of an external entity.</li><li>
<a id="pgfId-1027400"></a>If multiple stop cells that do not have vhdl text views (blackboxes) with same cell names are present in different DFII libraries. By default, this is not checked. If you want the netlister to check for this case, set the <span class="webflare-courier-new" style="white-space:pre"><em>hnlVHDLCheckSameStopCellFromMultLibs</em></span> SKILL variable to t.</li></ul></li><li>
<a id="pgfId-1027401"></a>By default, while compiling the external source files, the VHDL Toolbox reports all the compilation errors as errors. You can change the severity of these messages as warning by setting the <span class="webflare-courier-new" style="white-space:pre"><em>hnlVHDLParseExtDataSeverity</em></span> SKILL variable to <code>&quot;warning&quot;</code>. By default, this variable is set as <code>&quot;error&quot;</code>.</li><li>
<a id="pgfId-1027402"></a>While parsing the external source files, if the VHDL Toolbox finds errors in a file, it reports the errors in the CIW and stops further compilation. This is because, by default, the <span class="webflare-courier-new" style="white-space:pre"><em>hnlVHDLMaxExtFileErrCount</em></span> SKILL variable is set to <code>1</code>. If you want the tool to report errors for more than one file, say 10 files, set the <span class="webflare-courier-new" style="white-space:pre"><em>hnlVHDLMaxExtFileErrCount</em></span> SKILL variable to <code>10</code>. In this case, the tool will continue compilation until it finds errors in ten files or it parses all the files successfully, whatever happens first. </li><li>
<a id="pgfId-1029488"></a>After netlisting, the VHDL Toolbox maintains the compiled data in the cache. You can clear the cache by setting the <span class="webflare-courier-new" style="white-space:pre"><em>hnlVHDLResetExternalVHDLData</em></span> SKILL variable to <code>t</code>.</li></ul>














<h4>
<a id="pgfId-1029491"></a><a id="22184"></a>Support for <a id="typeConflictRes"></a>Type Conflict Resolution</h4>

<p>
<a id="pgfId-1029492"></a>During hierarchical netlisting, VHDL-OSS netlister propagates data types of intermediate connecting signals and cellview ports by using a process called type propagation. Type propagation can lead to conflicts when:</p>
<ul><li>
<a id="pgfId-1029531"></a>A single signal is connected to multiple instance terminals of different data types.</li><li>
<a id="pgfId-1027410"></a>A vector signal has different data types on multiple bits.</li></ul>

<p>
<a id="pgfId-1029569"></a>In such cases, the netlister displays warning or error messages, but continues to generate the complete netlist, which is incorrect and cannot be elaborated. </p>
<p>
<a id="pgfId-1029570"></a>To avoid such conflicts, you need to apply a resolution or a type conversion scheme. A resolution scheme involves providing a priority or type resolution table to find a resolved data type (see <a href="vhdloss_chap3.html#56601">Using Type Resolution Tables</a>). A type conversion scheme involves using a user-specified function that converts a signal of data type &#39;typeA&#39; to data type &#39;typeB&#39; (see <a href="vhdloss_chap3.html#96545">Using Type Conversion Functions</a>).</p>

<h4><em>
<a id="pgfId-1029556"></a><a id="56601"></a>Using Type Resolution Tables</em></h4>

<p>
<a id="pgfId-1027411"></a>You can define the type resolution table by setting the <code>hnlVHDLTypeResolverDefs</code> SKILL variable in <code>.simrc</code>. During netlist generation, the tool searches the type resolution table to resolve any type conflicts. However, if any conflict is not resolved, the tool reports a warning message and completes the netlist. </p>
<p>
<a id="pgfId-1027412"></a>If you want to change this default behavior so that the tool reports errors in case of unresolved type conflicts and discontinues the netlist generation, set the <code>hnlVHDLTypeConflictSeverity</code> SKILL variable as <code>&quot;error&quot;</code>. By default, this variable is set as <code>&quot;warning&quot;</code>.</p>
<p>
<a id="pgfId-1027414"></a>Following are some examples to show how you can specify entries in the type resolution table:</p>
<p>
<a id="pgfId-1027415"></a>Example 1:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1027416"></a><code>hnlVHDLTypeResolverDefs</code> =<code> </code>&#39;(&quot;typeA&quot; &quot;typeB&quot; &quot;typeC&quot;)</pre>

<p>
<a id="pgfId-1027417"></a>This implies that if the netlister finds a signal or a signal bit with two propagated data types, <code>typeA</code> and <code>typeB</code>, the resolved data type to be used is <code>typeC</code>. Here, <code>typeC</code> can be any one of <code>typeA</code> and <code>typeB</code> or any other data type.</p>
<p>
<a id="pgfId-1027418"></a>Example 2:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1027419"></a><code>hnlVHDLTypeResolverDefs</code> = &#39;((&quot;typeQ&quot; &quot;typeW&quot; &quot;typeQW&quot;) (&quot;typeE&quot; &quot;typeR&quot; &quot;typeER&quot;) )</pre>

<p>
<a id="pgfId-1027420"></a>The above example provides a list of entries for the type resolution table.</p>
<p>
<a id="pgfId-1027421"></a>Example 3:</p>
<p>
<a id="pgfId-1027422"></a>If there are more than two conflicting types on a single signal, it is recommended that you provide all type conflicting pairs in the list so that complete type resolution can be done. For example, if signals of three different types: <code>typeA</code>, <code>typeB</code>, and <code>typeC</code> are inflicted upon a single wire, you should provide the type resolution entries for all the following cases: </p>
<p>
<a id="pgfId-1028847"></a><code>hnlVHDLTypeResolverDefs</code> = &#39;((&quot;typeA&quot; &quot;typeB&quot; &quot;typeR&quot;) (&quot;typeA&quot; &quot;typeC&quot; &quot;typeR&quot;) (&quot;typeB&quot; &quot;typeC&quot; &quot;typeR&quot;))</p>

<h4><em>
<a id="pgfId-1029608"></a><a id="96545"></a>Using Type Conversion <a id="typeconvfunc"></a>Functions</em></h4>

<p>
<a id="pgfId-1029645"></a>When a netlister finds a signal connected to several instance terminals of different types, it prefers the data type of the output instance terminal and assigns it to the signal. The netlister then adds a conversion function at the instance terminal signal (in PORT MAP section of the netlist) wherever the data type of the instance terminal is different from that of the preferred data type. </p>
<p>
<a id="pgfId-1038890"></a>For example, in the figure below, signal <em>case2_A</em> on the output terminal <em>I8/out_std</em> has data type <em>std_logic</em> and is connected to an input terminal <em>I7/in_real</em> with data type <em>real</em>. Therefore, a type conversion function that converts the signal from <em>std_logic </em>to <em>real</em> is added at the PORT MAP of input terminal <em>I7/in_real.</em></p>
<p>
<a id="pgfId-1039370"></a>By default, the PORT MAP information is printed using named port mapping. However, this information can also be printed using positional association by setting the <code>hnlVHDLPositionalAssociation</code><a id="hnlVHDLPositionalAssociation"></a> variable to <code>t</code>. For example, if this variable is set, the PORT MAP information would appear as </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1039358"></a>PORT MAP(<br />OUT2_A,OUT2_B,std_logic2real(\case2_A\),real2std_logic(\case2_B\)));</pre>
<p>
<a id="pgfId-1039197"></a></p>
<div class="webflare-div-image">
<img src="images/typeconv2.gif" /></div>
<p>
<a id="pgfId-1029695"></a></p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1035977"></a>----------------------- x -------------------------------</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1029696"></a>ARCHITECTURE schematic of \TOP_test_vhdl\ IS</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1029697"></a>-- Local SIGNALS and ALIASES ---</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1029698"></a>SIGNAL \case2_B\ : real;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1029699"></a>SIGNAL \case2_A\ : std_logic;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1029700"></a>&#8230;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1029701"></a>begin</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1029702"></a>\I7\: ENTITY WORK.testbox(behavior)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1029703"></a>PORT MAP(</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1029704"></a>out_real =&gt; \OUT2_A\,</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1029705"></a>out_std =&gt; \OUT2_B\,</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1029706"></a>in_real =&gt; std_logic2real(\case2_A\),</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1029707"></a>in_std =&gt; real2std_logic(\case2_B\)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1029708"></a>);</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1029709"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1029710"></a>\I6\: ENTITY WORK.testbox(behavior)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1029711"></a>PORT MAP(</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1029712"></a>out_real =&gt; \OUT2_C\,</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1029713"></a>out_std =&gt; \OUT2_D\,</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1029714"></a>in_real =&gt; std_logic2real(\case2_A\),</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1029715"></a>in_std =&gt; real2std_logic(\case2_B\)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1029716"></a>);</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1029717"></a>END schematic;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1029718"></a>----------------------- x -------------------------------</pre>

<p>
<a id="pgfId-1029929"></a>Every time a conversion function is added at the PORT MAP of the input terminal, the netlister displays the following message in CIW: </p>
<p>
<a id="pgfId-1029746"></a>&#8220;In schematic &#39;&lt;l.c.v&gt;&#39;, the signal(net) &#39;&lt;sig&gt;&#39; on instance terminal &#39;&lt;inst&gt;:&lt;termName&gt;&#39; having type &#39;&lt;typeA&gt;&#39; is connected to other instance terminals having type &#39;&lt;typeB&gt;&#39;. Therefore, a conversion function &#39;&lt;func&gt;&#39; will be added to resolve the conflict.&#8221;</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1029747"></a>Conversion functions are applied globally on the complete design. Currently, a local type conversion mechanism for individual instance ports is not available.</div>
<p>
<a id="pgfId-1029630"></a>For type conversion to work, the following conditions must be satisfied with respect to the conflicting signal:</p>
<ul><li>
<a id="pgfId-1029801"></a>The direction or mode of the connected instance ports of the conflicting signals must be input or output. The inout mode is not allowed.</li><li>
<a id="pgfId-1029802"></a>The connected output instance ports must have the same data type.</li><li>
<a id="pgfId-1029803"></a>The conversion functions for all type conflicts must be defined.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1029793"></a>The direction of an instance terminal is inferred from its switch master, and not the place master.</div></li></ul>



<p>
<a id="pgfId-1029849"></a>You can define a type conversion function by setting the <span class="webflare-courier-new" style="white-space:pre"><em>hnlVHDLTypeConversionFuncs</em></span> SKILL variable in CIW or in the<code> .simrc</code> or <code>si.env</code> files as follows:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1029850"></a>hnlVHDLTypeConversionFuncs = list( &quot;typeA&quot; &quot;typeB&quot; &quot;fn_typeA2typeB&quot; &quot;fn_typeB2typeA&quot; )</pre>

<p>
<a id="pgfId-1029851"></a>For example, to convert data type <em>typeA</em> to data type <em>typeB</em>, the conversion function <em>fn_typeA2typeB</em> is applied, and vice versa. </p>
<p>
<a id="pgfId-1029852"></a>For specifying several type conversion functions this list can be changed to a &#39;list of list&#39; as shown in the following example:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1029890"></a>hnlVHDLTypeConversionFuncs = list( </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1029891"></a> list( &quot;typeA&quot; &quot;typeB&quot; &quot;fn_typeA2typeB&quot; &quot;fn_typeB2typeA&quot; )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1029892"></a> list( &quot;typeC&quot; &quot;typeD&quot; &quot;fn_typeC2typeD&quot; &quot;fn_typeC2typeD&quot; )</pre>

<p>
<a id="pgfId-1029893"></a>  )</p>

<h4><em>
<a id="pgfId-1029984"></a>Conflicts.log file </em></h4>

<p>
<a id="pgfId-1029985"></a>A <code>conflicts.log</code> file displaying resolved and unresolved conflicts is created when your design uses a type conversion function.</p>
<p>
<a id="pgfId-1029986"></a>A typical <code>conflicts.log</code> file displaying resolved conflicts is as follows:</p>
<p>
<a id="pgfId-1029987"></a></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1029988"></a>--------------------------------------------------------------------------------</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1029989"></a>RESOLVED CONFLICTS (testlib.basic1:schematic): </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1029990"></a>--------------------------------------------------------------------------------</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1029991"></a>Type conflict detected on net: &#39;testlib.basic1:schematic/r2std&#39;. Final type is: &#39;real&#39;.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1029992"></a>On this net types are (inst/term:direction:&lt;type&gt;):</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1029993"></a> I0/out_real:OUT:&lt;real&gt;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1029994"></a> I1/in_std:IN:&lt;std_logic&gt; conversion function added: &#39;real2std_logic&#39;</pre>

<p>
<a id="pgfId-1029995"></a>In this file, a conflict (that was resolved) is detected on the net r2std in the lib/cell:view testlib.basic1:schematic. The final resolved type is real.</p>
<p>
<a id="pgfId-1029997"></a>A typical <code>conflicts.log</code> file with unresolved conflicts is as follows:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1029998"></a>--------------------------------------------------------------------------------</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1029999"></a>UNRESOLVED CONFLICTS (TOP.TOP_test_vhdl:schematic): </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1030000"></a>--------------------------------------------------------------------------------</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1030001"></a>Type conflict detected on net: &#39;TOP.TOP_test_vhdl:schematic/IN1&#39;. Final type is: &#39;std_logic&#39;.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1030002"></a>On this net types are (inst/term:direction:&lt;type&gt;):</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1030003"></a> I38/in_std:IN:&lt;std_logic&gt;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1030004"></a> I37/inout_real1:INOUT:&lt;real&gt;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1030005"></a> I37/inout_real2:INOUT:&lt;real&gt;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1030006"></a>Type conflict detected on net: &#39;TOP.TOP_test_vhdl:schematic/IN2&#39;. Final type is: &#39;real&#39;.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1030007"></a>On this net types are (inst/term:direction:&lt;type&gt;):</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1030008"></a> I2A/in_real:IN:&lt;real&gt;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1030009"></a> I2A/in_std:IN:&lt;std_logic&gt;</pre>

<p>
<a id="pgfId-1030010"></a>In this file, an unresolved conflict was detected on the net IN1 in the lib/cell: view TOP.TOP_test_vhdl:schematic. The final conflict selected was std_logic.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1030011"></a>In case of an internal conflict when only input terminals are connected to a wire, use the following variable to choose one type from the specified types: <code>hnlVHDLPriorityTypes</code>.</div>
<p>
<a id="pgfId-1030012"></a>For example:</p>
<p>
<a id="pgfId-1035116"></a><code>hnlVHDLPriorityTypes = list(?aType? ?bType?) ; aType is chosen over bType</code></p>

<h4>
<a id="pgfId-1030463"></a><a id="92370"></a>Support for Shorting <a id="shorttwoport"></a>Devices </h4>

<p>
<a id="pgfId-1035561"></a>For OSS-based netlisters, you can short devices and replace them with a surviving net. For more information about how ports are shorted for devices, see &#8220;<h-hot><a actuate="user" class="URL" href="../ossref/chap5.html#removeParasiticDevices" show="replace" xml:link="simple">Removing Devices with Multiple Terminals</a></h-hot>&#8221; in <em>Open Simulation System Reference</em>:</p>
<p>
<a id="pgfId-1031852"></a>To enable shorting for devices in the VHDL netlister, follow one of the methods listed below:</p>
<ul><li>
<a id="pgfId-1030660"></a>Set the <code>lxRemoveDevice</code> string property at the instance level. <br />
<a id="pgfId-1030836"></a>You can set this property from the Property Editor assistant of Schematic Editor.<br />
<a id="pgfId-1030661"></a>Example:<br />
<a id="pgfId-1030662"></a><code>lxRemoveDevice(short(A B) short(C D E F))</code><br />
<a id="pgfId-1030663"></a>In this example:<ul><li>
<a id="pgfId-1030664"></a><code>A</code> is shorted to <code>B</code>.</li><li>
<a id="pgfId-1030665"></a><code>C</code> is shorted to <code>D</code>,<code> E</code>, and <code>F</code>.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1031644"></a><code>lxRemoveDevice</code> does not work for read-only libraries. Therefore, for read-only libraries, use <code>hnlUserMultiTermShortCVList</code> or <code>hnlUserShortCVList</code> in the <code>.simrc</code> file.</div></li></ul></li><li>
<a id="pgfId-1031645"></a>Use the <code>hnlUserMultiTermShortCVList</code> SKILL variable in <code>.simrc</code> to specify the cellview names and pin information in a list in the following syntax:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1030673">
<a id="pgfId-1030673"></a><code>hnlUserMultiTermShortCVList</code>  = &#8216;((&quot;<code><em>lib</em></code>&quot; &quot;<code><em>cell</em></code>&quot; &quot;<code><em>view</em></code>&quot; &quot;(short(A B) short(C D E)&quot; )) </pre>
<a id="pgfId-1030674"></a>You must provide a value in all the fields of this variable. Otherwise, the netlister reports an error.<br />
<a id="pgfId-1030675"></a>Examples:<ul><li>
<a id="pgfId-1031390"></a>Multiple cells with multiple ports</li></ul><br /><pre class="webflare-pre-block webflare-courier-new" id="#id1030676">
<a id="pgfId-1030676"></a>hnlUserMultiTermShortCVList = &#8216;((&quot;sample&quot; &quot;dffpp_c_&quot; &quot;symbol&quot; &quot;(short(in1 out3 out4))&quot;) (&quot;testLib&quot; &quot;bottom&quot; &quot;symbol&quot; &quot;(short(in1 out2) short(in2 out3 out4 out5))&quot;))</pre><ul><li>
<a id="pgfId-1031412"></a>A cell with two ports</li></ul><br /><pre class="webflare-pre-block webflare-courier-new" id="#id1031328">
<a id="pgfId-1031328"></a>hnlUserMultiTermShortCVList = &#8216;((&quot;sample&quot; &quot;dffpp_c_&quot; &quot;symbol&quot; &quot;(short(in1 out5))&quot;))</pre></li><li>
<a id="pgfId-1030971"></a>To remove devices that have two terminal, use the <code>hnlUserShortCVList</code> SKILL variable in the following syntax that specifies the cellview names in a list. <br /><pre class="webflare-pre-block webflare-courier-new" id="#id1030972">
<a id="pgfId-1030972"></a>hnlUserShortCVList = list( </pre><pre class="webflare-pre-block webflare-courier-new" id="#id1030973">
<a id="pgfId-1030973"></a>                    ;;; all cells from this library</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1030974">
<a id="pgfId-1030974"></a>                    &quot;libN&quot;  </pre><pre class="webflare-pre-block webflare-courier-new" id="#id1030963">
<a id="pgfId-1030963"></a>                    ;;; cell1, cell2 and cell3 from lib1</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1030958">
<a id="pgfId-1030958"></a>                    list(&quot;lib1&quot; &quot;cell1&quot; &quot;cell2&quot; &quot;cell3&quot;)</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1030683">
<a id="pgfId-1030683"></a>                    ;;; all cells from this library</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1030684">
<a id="pgfId-1030684"></a>                    list(&quot;libM&quot;)  )</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1030685">
<a id="pgfId-1030685"></a>)</pre>
<a id="pgfId-1030686"></a>You can specify any of the elements in the list and keep the remaining elements blank. <br />
<a id="pgfId-1030687"></a>Examples:<pre class="webflare-pre-block webflare-courier-new" id="#id1030688">
<a id="pgfId-1030688"></a>hnlUserShortCVList  = &#8216;(&quot;sample&quot; &quot;dffpp_c&quot; &quot;symbol&quot;) </pre><pre class="webflare-pre-block webflare-courier-new" id="#id1030689">
<a id="pgfId-1030689"></a>hnlUserShortCVList  = &#8216;(&quot;sample&quot; &quot;dffpp_c&quot; &quot;&quot;) </pre><pre class="webflare-pre-block webflare-courier-new" id="#id1030995">
<a id="pgfId-1030995"></a>hnlUserShortCVList  = list( list(&quot;analogLib&quot; &quot;res&quot;) list(&quot;testbottom&quot;))</pre></li></ul>





























<p>
<a id="pgfId-1030690"></a><strong>Notes:</strong></p>
<ul><li>
<a id="pgfId-1030691"></a>Cadence recommends that you use <code>hnlUserMultiTermShortCVList</code> instead of <code>hnlUserShortCVList</code>. If required, use <code>hnlUserShortCVList</code> for devices that have only two ports.</li><li>
<a id="pgfId-1030692"></a>OSS gives precedence to <code>hnlUserShortCVList</code> or <code>hnlUserMultiTermShortCVList</code> over <code>lxRemovedDevice</code>.</li></ul>

<p>
<a id="pgfId-1028919"></a>Regardless of the method you use to short devices, you need to set the SKILL variable <code>hnlHonorLxRemoveDevice</code> to <code>t</code> in <code>.simrc</code>. By default, <code>hnlHonorLxRemoveDevice</code> is not set. </p>

<h4>
<a id="pgfId-1032178"></a><a id="64977"></a>Support for S<a id="shortTerminals"></a>horting Terminals</h4>

<p>
<a id="pgfId-1034630"></a>You can short two terminals in a schematic by adding a special instance between the terminals. The default instance for shorting terminals is of the cellview <code>basic/cds_thru/symbol</code>. The <code>cds_thru</code> symbol is used, instead of the patch symbol that is used for other shorts, to avoid any extraction error associated with the connectivity of the shorted terminals. </p>
<p>
<a id="pgfId-1034464"></a>If you want to use another library and cell for shorting terminals, instead of <code>basic</code> and <code>cds_thru</code>, use the following flags and insert the symbol between the two terminals:</p>
<ul><li>
<a id="pgfId-1032965"></a><code>vhdlLibForCdsThru</code> <br />
<a id="pgfId-1033081"></a>Set this flag to the custom library you want to use. <br />
<a id="pgfId-1033535"></a>Example: <code>vhdlLibForCdsThru = &quot;myLib&quot;</code><br />
<a id="pgfId-1033504"></a>Default value: <code>&quot;basic&quot;</code></li><li>
<a id="pgfId-1033083"></a><code>vhdlCellForCdsThru</code><br />
<a id="pgfId-1035439"></a>Set this flag to the custom cell you want to use.<br />
<a id="pgfId-1035440"></a>Example: <code>vhdlCellForCdsThru = &quot;my_cds_thru&quot;</code><br />
<a id="pgfId-1035441"></a>Default value: <code>&quot;cds_thru&quot;</code></li></ul>







<p>
<a id="pgfId-1034260"></a>When you generate the netlist of a design where two terminals are shorted, the resulting netlist contains a <code>cds_thru</code> instance line, and not an assign statement. This instance line makes the netlist different from the imported netlist, which typically has an assign statement for the shorted terminals. To avoid this mismatch, configure VHDL Toolbox to print the assign statement instead of the <code>cds_thru</code> instance line to represent shorted terminals. For this, use the following flag:</p>
<ul><li>
<a id="pgfId-1033247"></a><code>vhdlUseAssignForCdsThru</code><br />
<a id="pgfId-1033290"></a>Set this flag to <code>t</code> to use the assign statement to represent shorted terminals. VHDL Toolbox considers this flag even if you have used a custom library and cell for shorting terminals.<br />
<a id="pgfId-1033377"></a>Example: <code>vhdlUseAssignForCdsThru = t</code><br />
<a id="pgfId-1033358"></a>Default value: <code>nil</code></li></ul>



<p>
<a id="pgfId-1035298"></a>You can set the flags in Virtuoso CIW, <code>.simrc</code>, or <code>si.env</code>.</p>
<p>
<a id="pgfId-1035299"></a>The following figure illustrates the netlist with the <code>cds_thru</code> instance line and the netlist with the assign statement.</p>

<p>
<a id="pgfId-1041438"></a></p>
<div class="webflare-div-image">
<img width="668" height="587" src="images/vhdloss_chap3-9.gif" /></div>
<h4>
<a id="pgfId-1032797"></a>Resolving Floating Nodes</h4>

<p>
<a id="pgfId-1041513"></a>For resolving floating nodes, set the <code>hnlVHDLPrintOpenForFloatingNode</code> flag to <code>t</code>. When this flag is set, the keyword <code>open</code> is printed in the PORT MAP section for nodes that have no explicit net connected.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1041678"></a>PORT MAP(
&#160;&#160;&#160;&#160;RH_EN =&gt; open<br />);</pre>
<h2>
<a id="pgfId-1027283"></a><a id="44774"></a>Generating the Netlist</h2>

<p>
<a id="pgfId-1027278"></a>After you have completed the netlist setup, you generate the netlist by choosing <em>Commands &#8211; Generate Netlist</em>. Alternatively, you can generate a netlist by using the <em>Netlist Design </em>option on the fixed menu.</p>
<p>
<a id="pgfId-1021444"></a>The <em>Generate Netlist </em>menu option triggers the netlister to generate the VHDL hierarchical netlist for a design specified in the <em>Top Level Design </em>fields. The tool supports incremental netlist generation and also provides the option to analyze and elaborate the generated netlist files. The netlister stops netlisting after the maximum number of errors that you have set is reached. If netlisting is successful, the message <em>Netlisting Successful</em> appears on the status line. The variables related to the OSS tabular name mapping are initialized to ensure that the generated netlist contains all the names in the VHDL namespace.</p>
<p>
<a id="pgfId-1040733"></a>To display a message box on successful completion or failure of a netlist, set the <code>hnlVHDLPopUpNetlistStatus</code><a id="hnlVHDLPopUpNetlistStatus"></a> flag to <code>t</code>.</p>

<h2>
<a id="pgfId-1020782"></a><a id="60194"></a>Viewing Netlist Results</h2>

<p>
<a id="pgfId-1021466"></a>You can view the netlisted file for your VHDL design by choosing <em>Results &#8211; Netlist</em>. The VHDL netlist is saved as a <code>.vhd</code> text file in the run directory. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1021778"></a>If you choose to create multiple netlist files for your VHDL design (by clearing the <em>Single File List </em>check box on the V<em>HDL Options</em> tab in the VHDL Setup - Netlist form), you cannot view the results. To view the results, ensure that the <em>Single File List</em> check box is selected.</div>

<h3>
<a id="pgfId-1022622"></a><strong></strong><a id="32101"></a>Analyzing the Netlist</h3>

<p>
<a id="pgfId-1022623"></a>The netlist generated successfully by VHDL Toolbox is saved in a defined directory structure under the Run directory. The netlister creates the following files and directories to save the design details:</p>
<p>
<a id="pgfId-1022624"></a>A set of <code>cds&lt;n&gt;</code> directories in the <code>&lt;Run Directory&gt;/ihnl</code> directory, where each<code> cds&lt;n&gt;</code> directory contains the entity and architecture description for each netlisted unit. The file containing the design entity is named as <code>&lt;cell_name&gt;-e.vhd</code> and the file containing the architecture description is named as <code>&lt;cell_name&gt;-&lt;view_name&gt;-a.vhd</code>. </p>
<p>
<a id="pgfId-1022625"></a>A configuration file, suffixed as <code>-cfg.vhd</code>, containing the configuration details.</p>
<p>
<a id="pgfId-1022626"></a>A global package named as <code>&lt;top-cell-name&gt;_cds_globals</code> saved in the <code>cds_globals</code> sub directory of the Run directory. This package contains declaration of all the global signals. For example:</p>
<p>
<a id="pgfId-1022627"></a>package WORK.mytop_cds_globals is</p>
<p>
<a id="pgfId-1022628"></a>   signal vdd_global : std_ulogic;</p>
<p>
<a id="pgfId-1022629"></a>   signal \gnd!\ : bit;</p>
<p>
<a id="pgfId-1022630"></a>end package;</p>
<p>
<a id="pgfId-1022631"></a>The architecture design unit refers to this global package, as shown below:</p>
<p>
<a id="pgfId-1022632"></a>use WORK.cds_globals.all;</p>
<p>
<a id="pgfId-1022633"></a>If Cadence name mapping is used, the global signals are printed as escaped names. For example, <code>\gsig!\</code>. Otherwise, the <code>!</code> character in the global signals is by default mapped to the string <code>_global</code>. You can change this mapping by resetting the <code>hnlMapNetInName</code> SKILL variable.</p>
<p>
<a id="pgfId-1022634"></a>If the <em>Single Netlist File</em> option on the <em>VHDL Setup - Netlist</em> form is turned <code>on</code>, the contents of all the files listed above are concatenated and saved in a single file named as <code>&lt;topcellname&gt;.vhd</code>. This file is shown in a separate window when you view the netlist using the <em>Results &#8211; Netlist</em> menu option.</p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="vhdloss_chap2.html" id="prev" title="Introducing the VHDL Toolbox">Introducing the VHDL Toolbox</a></em></b><b><em><a href="vhdloss_chap4.html" id="nex" title="Creating a Testbench">Creating a Testbench</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2020, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>