
<html><head><title>Setting Up Explorer Environment</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="shubh" />
<meta name="CreateDate" content="2020-09-18" />
<meta name="CreateTime" content="1600454102" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the Virtuoso ADE Explorer Tool" />
<meta name="DocTitle" content="Virtuoso ADE Explorer User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Setting Up Explorer Environment" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.2.1" />
<meta name="Keyword" content="Explorer" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2020-09-18" />
<meta name="ModifiedTime" content="1600454102" />
<meta name="NextFile" content="chap3.html" />
<meta name="Order" content="0" />
<meta name="Group" content="ADE Explorer" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="chap1.html" />
<meta name="c_product" content="Virtuoso Analog Design Environment" />
<meta name="Product" content="Virtuoso Analog Design Environment" />
<meta name="ProductFamily" content="Virtuoso Analog Design Environment" />
<meta name="ProductVersion" content="ICADVM20.1" />
<meta name="RightsManagement" content="Copyright 2012-2020 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso ADE Explorer User Guide -- Setting Up Explorer Environment" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="ICADVM20.1" />
<meta name="SpaceKey" content="ExplorerICADVM201" />
<meta name="webflare-version" content="2.0" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="ExplorerTOC.html">Contents</a></li><li><a class="prev" href="chap1.html" title="Getting Started with ADE Explorer">Getting Started with ADE Explo ...</a></li><li style="float: right;"><a class="viewPrint" href="Explorer.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="chap3.html" title="Setting Up Analyses">Setting Up Analyses</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso ADE Explorer User Guide<br />Product Version ICADVM20.1, October 2020</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>2
<a id="pgfId-1041649"></a></h1>
<h1>
<a id="pgfId-1041651"></a><hr />
<a id="77556"></a>Setting Up Explorer Environment<hr />
</h1>

<p>
<a id="pgfId-1029579"></a>The Virtuoso ADE Explorer lets you can run different simulations for a given design. You choose a simulator and the types of analyses you want to run for the design. You can also specify design variables that you want to use for simulations. When you run simulation, the results are saved in a predefined formats and can be used by other tools, such as the Virtuoso Visualization and Analysis XL for further analysis. If there are signals in the simulation results, they are by default plotted in the Virtuoso Visualization and Analysis XL graph window.</p>
<p>
<a id="pgfId-1029565"></a>This chapter covers the following topics that describe how you can perform the basic environment settings in Explorer, which includes setting up simulator options, simulation files, environment options, design variables, and so on. It also explains how to configure and customize the default Explorer settings.</p>
<p>
<a id="pgfId-1038934"></a>ADE Explorer contains a single test and the test name is displayed at the top of the Setup assistant. This assistant displays the setup information for the test, such as simulator, analysis, design variables, parameters, corners, Monte Carlo. By default, the test name includes the design information in the <code>lib:cell:view</code> format. To change the test name:</p>

<ul><li>
<a id="pgfId-1038935"></a>Click the test name to select it and then click again. A cursor appears in the test name field. Specify a new name and press <code>Enter</code>.</li></ul>

<p>
<a id="pgfId-1038906"></a>This chapter covers the following topics:</p>
<ul><li>
<a id="pgfId-1033471"></a><a href="chap2.html#88085">Prerequisites For Running Explorer</a></li><li>
<a id="pgfId-1033472"></a><a href="chap2.html#14426">Specifying Simulator Options</a></li><li>
<a id="pgfId-1096628"></a><a href="chap2.html#73673">Setting up High-Performance Simulation Options</a></li><li>
<a id="pgfId-1034738"></a><a href="chap2.html#27917">Setting Up Simulation Files</a></li><li>
<a id="pgfId-1096043"></a><a href="chap2.html#46941">Setting up Simulator Environment Options</a></li><li>
<a id="pgfId-1034763"></a><a href="chap2.html#81312">Setting up Design Variables</a></li><li>
<a id="pgfId-1038558"></a><a href="chap2.html#28379">Adding Notes</a></li><li>
<a id="pgfId-1037125"></a><a href="chap2.html#36428">Creating and Displaying Netlists</a></li><li>
<a id="pgfId-1037495"></a><a href="chap2.html#14477">Variables for Customizing Netlist Generation</a></li><li>
<a id="pgfId-1038985"></a><a href="chap2.html#13594">Setting up Stimuli</a></li><li>
<a id="pgfId-1056055"></a><a href="chap2.html#59399">Setting up Cosimulation Options</a></li><li>
<a id="pgfId-1038998"></a><a href="chap2.html#62820">Setting up MDL Mode</a></li><li>
<a id="pgfId-1039013"></a><a href="chap2.html#81063">Saving the Current Setup</a></li><li>
<a id="pgfId-1043230"></a><a href="chap2.html#48268">Importing a Saved Setup</a></li><li>
<a id="pgfId-1038990"></a><a href="chap2.html#63876">Saving Results in ADE Explorer</a></li><li>
<a id="pgfId-1037399"></a><a href="chap2.html#52156">Saving an OCEAN Script</a></li><li>
<a id="pgfId-1034917"></a><a href="chap2.html#22372">Configuring and Customizing ADE Explorer Settings</a></li><li>
<a id="pgfId-1047454"></a><a href="chap2.html#52142">Using Signals or Triggers</a></li><li>
<a id="pgfId-1034946"></a><a href="chap2.html#37738">Reserved Words</a></li></ul>



















<h2>
<a id="pgfId-1029662"></a><a id="88085"></a>Prerequisites For Running Explorer</h2>

<p>
<a id="pgfId-1029683"></a>Before you start performing the Explorer setup and run simulations, you need to perform the following mandatory settings:</p>
<ul><li>
<a id="pgfId-1033481"></a><a href="chap2.html#57319">Choosing a Design</a></li><li>
<a id="pgfId-1033557"></a><a href="chap2.html#61375">Choosing a Simulator</a></li><li>
<a id="pgfId-1033568"></a><a href="chap2.html#19849">Setting the Simulation Temperature</a></li><li>
<a id="pgfId-1033579"></a><a href="chap2.html#74421">Choosing an Analysis</a></li><li>
<a id="pgfId-1033590"></a><a href="chap2.html#61537">Choosing Model Library Path</a></li></ul>





<h3>
<a id="pgfId-1029717"></a><a id="57319"></a>Choosin<a id="designForm"></a>g a Design</h3>

<p>
<a id="pgfId-1029673"></a>To choose a design (library, cell, and view) for a given testcase:</p>
<ul><li>
<a id="pgfId-1029730"></a>In the Explorer window, choose <em>Setup &#8211; Design</em>.</li><li>
<a id="pgfId-1039750"></a>Right-click the test name and choose <em>Design</em>.<br />
<a id="pgfId-1029741"></a>The <em>Choosing Design -- ADE Explorer</em> form appears.<br />
<a id="pgfId-1029748"></a><div class="webflare-div-image">
<img src="images/ChoosingDesign.gif" /></div></li></ul>






<p>
<a id="pgfId-1029572"></a>In this form, </p>
<ol><li>
<a id="pgfId-1029834"></a>In the <em>Library Name</em>, <em>Cell Name</em>, and <em>View Name</em> fields, choose library, cell, and view names.</li><li>
<a id="pgfId-1029819"></a>In the <em>Open Mode</em> field, choose the mode in which you want to open the selected design &#8212;<em>edit</em> or <em>read</em> mode, and click <em>OK</em>.</li></ol>

<p>
<a id="pgfId-1029808"></a>The Choosing Design form also appears when you create a new maestro view and open Explorer using CIW and Schematic window. For more information about opening Explorer using these methods and choosing a design, see <a href="chap1.html#41213">Opening Virtuoso ADE Explorer</a>.</p>
<p>
<a id="pgfId-1039587"></a>You can also open an existing design and state in ADE Explorer that was created using ADE L. For more details, see <a href="migration.html#49525">Appendix G, &#8220;Migrating From ADE L to ADE Explorer&#8221;</a>.</p>

<h3>
<a id="pgfId-1039593"></a><a id="61375"></a>Choo<a id="ChooseSimulator"></a>sing a Simulator</h3>

<p>
<a id="pgfId-1029904"></a>The default simulator used to run simulations in Explorer is Spectre. To use another simulator, do the following:</p>
<ol><li>
<a id="pgfId-1029905"></a>Choose <em>Setup &#8211; Simulator</em>.</li><li>
<a id="pgfId-1039598"></a>Double-click in the <em>Simulator</em> section of the Setup assistant.</li><li>
<a id="pgfId-1039728"></a>Right-click the test name and choose <em>Simulator</em>.<br />
<a id="pgfId-1037886"></a>The Choosing Simulator form appears. <br />
<a id="pgfId-1037890"></a><div class="webflare-div-image">
<img width="329" height="88" src="images/chap2-3.gif" /></div></li><li>
<a id="pgfId-1037891"></a>In the <em>Simulator</em> drop-down list, select the simulator you want to set. The available options are&#8212;<code>spectre</code>, <code>hspiceD</code>, <code>ultraSim</code>, and <code>ams</code>.<br /><div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1030021"></a>
When you switch from one simulator to another, a new oasis session is created. The new simulator retains the setup files recognized by it and ignores the rest. This behavior is controlled by <em>retainStateSettings</em> environment variable with the default value &#8220;<code>yes</code>&#8221;. On setting this variable to &#8220;<code>no</code>&#8221;, the new simulator does not retain the setup files from the previous oasis session.</div></li></ol>










<h3>
<a id="pgfId-1030042"></a>Setting the Simulation Temperature<a id="19849"></a><a id="temperature"></a></h3>

<p>
<a id="pgfId-1030047"></a>To set the temperature for the simulation run:</p>
<ol><li>
<a id="pgfId-1030048"></a>Choose <em>Setup &#8211; Temperature</em>.</li><li>
<a id="pgfId-1039706"></a>Right-click the test name and choose <em>Temperature</em>.<br />
<a id="pgfId-1030049"></a>The Setting Temperature form appears. <br />
<a id="pgfId-1030026"></a><div class="webflare-div-image">
<img src="images/SettingTemp.gif" /></div>
<a id="pgfId-1030084"></a>Alternatively, click the temperature icon ( <img src="images/SettingTemp1.gif" /><span> ) and specify the temperature value in the text box.</span></li><li>
<a id="pgfId-1030115"></a>In the <em>Scale</em> field, select the unit you want to use to specify temperature.</li><li>
<a id="pgfId-1030136"></a>In the <em>Degrees</em> field, type the temperature value.</li><li>
<a id="pgfId-1043338"></a>Click <em>OK</em>.</li></ol>











<p>
<a id="pgfId-1043340"></a>To sw<a id="TempSweep"></a>eep the temperature, </p>

<ul><li>
<a id="pgfId-1043429"></a>Specify a design variable named <code>temperature</code> in the Setup assistant and add sweep values in the <code>start:step:end</code> format. <br /><div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1043430"></a>
Temperature sweep cannot be specified using the <code>Temperature</code> toolbar and <em>Setting Temperature - ADE Explorer</em> form. When you add the <code>temperature</code> design variable, this toolbar and <em>Setup &#8211; Temperature</em> menu are disabled.</div></li></ul>


<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1043482"></a>You can also sweep the temperature by creating a design variable, for example, <code>var1</code>, and then in the <em>Degrees</em> field, type <code>VAR(&quot;var1&quot;)</code>.  The value of variable <code>var1</code> can be swept to perform a temperature sweep. </div>

<h3>
<a id="pgfId-1030162"></a><a id="74421"></a>Choosing an Analysis</h3>

<p>
<a id="pgfId-1030179"></a>After you specify a simulator, you need to choose the analysis type on which you want to run simulation. These analysis type vary according to the simulator you select.</p>
<p>
<a id="pgfId-1030195"></a>To select an analysis type:</p>
<ul><li>
<a id="pgfId-1030204"></a>Choose <em>Analyses &#8211; Choose</em>.</li><li>
<a id="pgfId-1039624"></a>Click the <code>Click to add analysis</code> in the Setup assistant.</li><li>
<a id="pgfId-1039625"></a>Click the Choose Analysis icon on the Run toolbar.</li><li>
<a id="pgfId-1039655"></a>Right-click the test name and choose <em>Add Analysis</em>.<br />
<a id="pgfId-1030213"></a>The <em>Choosing Analyses -- ADE Explorer</em> form appears.<br />
<a id="pgfId-1030230"></a><div class="webflare-div-image">
<img src="images/ChoosingAnalysis.gif" /></div></li></ul>








<p>
<a id="pgfId-1030269"></a>In this form, select the analysis you want to set and specify its attributes. For detailed information about the analyses in Spectre, see Setting Up Analyses chapter.</p>

<h3>
<a id="pgfId-1030280"></a><a id="61537"></a>Choosin<a id="ModelLibrary"></a>g Model Library Path</h3>

<p>
<a id="pgfId-1030314"></a>To set up models libraries for simulator interfaces, do one of the following:</p>
<ul><li>
<a id="pgfId-1030315"></a>In the ADE Explorer window, choose <em>Setup &#8211; Model Libraries</em>. </li><li>
<a id="pgfId-1039669"></a>Right-click the test name and choose <em>Model Libraries</em>.<br />
<a id="pgfId-1034015"></a>Note the following when you are entering the path and filename:<ul><li>
<a id="pgfId-1034016"></a>You can use absolute and relative paths.</li><li>
<a id="pgfId-1034017"></a>You can use environment variables to specify the path.</li><li>
<a id="pgfId-1034007"></a>You can use design variables to specify the model library name.</li></ul><br />
<a id="pgfId-1030318"></a><a id="modelibrarysetEnvVariable"></a>The <em>Model Library Setup</em> form appears.<a id="modelSetupForm"></a><br />
<a id="pgfId-1030322"></a><div class="webflare-div-image">
<img width="668" height="262" src="images/chap2-8.gif" /></div></li><li>
<a id="pgfId-1034106"></a>In <a id="ahdlSetup"></a>the <em>Global Model Files</em> column, type the path and filename of the model file you want to use.<br />
<a id="pgfId-1034107"></a>The model files contain all model definitions referred to by your design and not defined within the Virtuoso library. Unless you specify a full path, the simulator assumes that you are using the project directory.<br />
<a id="pgfId-1034096"></a>Alternatively, you can click the browse button to select a valid model file.Alternatively, you can click the browse button to select the model library files to be added. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1034058"></a>To add multiple model library files, press the <em>SHIFT</em> or <em>CTRL</em> key and click the files you want to add. </div><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1034059"></a>By default, when model files are added, the symbolic links in the file paths are resolved so that path to the file in the design cache is shown in the GUI. </div></li><li>
<a id="pgfId-1034140"></a>(Optional) In the <em>Section</em> column, select a section from the drop-down list.</li><li>
<a id="pgfId-1034061"></a>If the check box next to a model library is selected, the model library is enabled for the design. To disable the model library, clear the check box next to the library.</li></ul>


















<blockquote id="#id1034062">
<a id="pgfId-1034062"></a>You can also add, enable or disable model library files using the <code>asiSetEnvOptionVal</code> SKILL functions as shown below:</blockquote>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1034063"></a>asiSetEnvOptionVal(asiGetTool(&#8217;spectre) &quot;modelFiles&quot;</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1034064"></a>list(</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1034065"></a>   list(&quot;/usr1/models/model1.scs&quot;)</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1034066"></a>   list(&quot;/usr1/models/model2.scs&quot;)</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1034067"></a>   list(&quot;#&quot; &quot;/usr1/models/model3.scs&quot;)</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1034068"></a>))</pre>

<blockquote id="#id1034069">
<a id="pgfId-1034069"></a>The <code>#</code> symbol is used to disable the <code>model3.scs</code> file. If the # symbol is not used, the model library is enabled for the design.</blockquote>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1034179"></a>If you use an empty string, that is &quot; &quot;, as the first argument, the specified model file will not be included in the model library.</div>
<p>
<a id="pgfId-1034425"></a>The order in which the libraries are listed in the form determines their search order. Libraries are searched starting at the top of the list. If a model is included in two or more libraries, you can change the search order to determine which library ADE Explorer searches first. ADE Explorer uses the first model found in the search order.</p>
<ul><li style="list-style-type: none;background-image: none;"><ul><li>
<a id="pgfId-1034430"></a>To move a library one level up, select the library and click the <img width="29" height="29" src="images/chap2-9.gif" /><span> button.</span></li><li>
<a id="pgfId-1034435"></a>To move a library one level down, select the library and click the <img width="29" height="29" src="images/chap2-10.gif" /><span> button.</span></li><li>
<a id="pgfId-1034439"></a>To edit a model library file, select the file and click the <img width="23" height="25" src="images/chap2-11.gif" /><span> button to open the file in a text editor</span></li><li>
<a id="pgfId-1034413"></a>To delete a model library file, select the file and click the <img width="29" height="29" src="images/chap2-12.gif" /><span> button.</span></li></ul></li></ul>







<p>
<a id="pgfId-1034180"></a><strong>Example:</strong> </p>
<p>
<a id="pgfId-1034181"></a>The model file for a direct interface simulation of the schematic view of the lowpass cell of the <code>aExamples</code> library can be found in <span class="webflare-courier-new" style="white-space:pre"><em>your_install_dir</em></span><code>/tools/dfII/samples/artist/models/spectre/definitions.scs</code></p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1030333"></a>simulator lang=spectre</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1030334"></a>model npn bjt type=npn is=3.26E-16 va=60 bf=100 \<br />br=6 nc=2 ikr=100m rc=1 vje=0.7 \<br />cjc=1e-12 fc=0.5 cje=0.7e-12 \<br />tr=200e-12 tf=25e-12 itf=0.03 vtf=7 xtf=2</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1030335"></a>model pnp bjt type=pnp is=3.28e-16 va=30 bf=35 \<br />br=6 nc=2 ikr=100m rc=1 \<br />cjc=1e-12 fc=0.5 cje=0.7e-12 \<br />tr=200e-12 tf=65e-12 itf=0.03 vtf=7 xtf=2</pre>
<p>
<a id="pgfId-1030336"></a>The models <code>npn</code> and <code>pnp</code> are referenced within the <code>opamp</code> schematic cell-view of the <code>aExamples</code> library. The device <code>Q25</code> (connected to the pin <code>inp</code>) references the model <code>npn</code> with the parameter <code>model</code> (Model Name).</p>

<h2>
<a id="pgfId-1038855"></a><a id="14426"></a>S<a id="simulatorOpts"></a>pecifying Simulator Options</h2>

<p>
<a id="pgfId-1030521"></a>This section describes the various simulator that are supported in Explorer. The default simulator is Spectre.</p>
<ul><li>
<a id="pgfId-1033415"></a><a href="chap2.html#92887">Spectre</a></li><li>
<a id="pgfId-1033430"></a><a href="chap2.html#95771">Virtuoso Accelerated Parallel Simulator (APS)</a></li><li>
<a id="pgfId-1033956"></a><a href="chap2.html#64166">Virtuoso UltraSim Simulator Interface</a></li><li>
<a id="pgfId-1033960"></a><a href="chap2.html#46758">Virtuoso AMS Simulator Interface</a></li><li>
<a id="pgfId-1034514"></a><a href="chap2.html#41734">Virtuoso HSPICE Simulator Interface</a></li></ul>





<h3>
<a id="pgfId-1033963"></a><a id="92887"></a>Spectre</h3>

<p>
<a id="pgfId-1030546"></a>The Explorer environment provides the spectre interfaces to the Spectre&#174; analog simulator. </p>
<p>
<a id="pgfId-1030547"></a>You need to use the MMSIM version of Spectre, which is available on the MMSIM CD and not in the DFII hierarchy. If you set up your path to point to a previous (non-MMSIM) version of the Spectre software, the simulation will not run and you get the following message: </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1030548"></a>&quot;The &#8217;spectre&#8217; executable that you are using is an older version.Use MMSIM60 or later version of Spectre with this release. To check the spectre version, run &#8217;spectre -W&#8217;.&quot;</pre>

<p>
<a id="pgfId-1030550"></a><a id="overview"></a>The Spectre simulator is integrated into the analog circuit design environment with the Open Analog Simulation Integration Socket (OASIS). <a id="marker-1030551"></a></p>
<p>
<a id="pgfId-1039792"></a>To run real time tuning simulations using Spectre, use MMSIM14.1ISR3 or beyond, otherwise the RTT simulations are run in the batch mode. For more information, see <a href="chap10.html#53059">Chapter 10, &#8220;Real-Time Tuning in Simulations&#8221;</a>.</p>

<h4>
<a id="pgfId-1030580"></a><a id="20955"></a>Setti<a id="SpectreSimOpts"></a>ng Spectre Options</h4>

<p>
<a id="pgfId-1030596"></a>Perform the following steps to set the simulator-specific options and variables for Spectre: </p>
<ul><li>
<a id="pgfId-1030627"></a>Choose <em>Simulation &#8211; Options &#8211; Analog</em>. This command helps you set simulator options and variables that apply to all analyses.<br />
<a id="pgfId-1030664"></a><div class="webflare-div-image">
<img src="images/Spectre_options.gif" /></div></li></ul>




<p>
<a id="pgfId-1045986"></a>For more information about the Spectre options available on different tabs, see the <em>Immediate Set Options (options)</em> section in the <em><a actuate="user" class="URL" href="../spectreref/chap3.html#firstpage" show="replace" xml:link="simple">Analysis Statements</a></em> chapter of the <em>Spectre Circuit Simulator Reference</em>.</p>
<p>
<a id="pgfId-1051294"></a>Also see <a href="appendix.html#20427">Environment Variables for Spectre Simulator Options Form</a>.</p>
<p>
<a id="pgfId-1046018"></a>You can also turn on the AHDL linter feature when the Fast APS mode is enabled. For information about the AHDL Linter feature, refer to the chapter <h-hot><a actuate="user" class="URL" href="../spectreuser/chap11.html#ahdl_linter" show="replace" xml:link="simple">AHDL Linter Checks</a></h-hot> in the Spectre Classic Simulator, Spectre APS, Spectre X, and Spectre XPS User Guide.</p>

<h4><em>
<a id="pgfId-1050941"></a>Specifying the PSF Version in Simulator Options</em></h4>

<p>
<a id="pgfId-1050900"></a>To specify the PSF version you want to use for writing the simulation results, do the following</p>

<ul><li>
<a id="pgfId-1051037"></a>In the Simulator Options form, on the  tab, in the <em>Additional Arguments</em> field, specify the PSF version in the following format:<br />
<a id="pgfId-1050901"></a><code>psfversion=&quot;1.0.0&quot;</code><br />
<a id="pgfId-1050902"></a>The command above sets the PSF version 1.0.</li></ul>




<h4>
<a id="pgfId-1041738"></a><a id="68110"></a><a id=""></a>Specifying Performance and <a id="enableSpectreTurbo"></a>Post-Layout<a id="asii_turboOpts"></a> Optimization Options for the Spectre Simulator</h4>

<p>
<a id="pgfId-1046732"></a>With the Spectre simulator, you can run simulation using the baseline Spectre version. You can also enable post-layout optimization to perform parasitic reduction with more tunable and higher compression levels. This option also enables other algorithms that optimize the performance of the DC solution phase and matrix solver specifically for large postlayout circuits, enabling transient and DC analyses with these circuits to be performed faster.</p>
<p>
<a id="pgfId-1046733"></a>For more information about the baseline Spectre version and post-layout optimization, see the <em><a actuate="user" class="URL" href="../spectreref/spectrerefTOC.html#firstpage" show="replace" xml:link="simple">Spectre Circuit Simulator Reference</a></em></p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1046735"></a>Spectre mode is supported in MMSIM 7.0 and later releases and post-layout optimization is supported in IC6.1.7 ISR1 and later releases. APS is supported in MMSIM 7.1 and later releases. </div>

<div class="webflare-information-macro webflare-macro-warning">
<a id="pgfId-1041742"></a>
When a Spectre simulation is running in the interactive mode, do not restore a simulation setup in which the Spectre mode or post-layout optimization is enabled. Restoring such a simulation setup terminates the simulation run. </div>

<p>
<a id="pgfId-1045407"></a>To specify per<a id="highPerformance"></a>formance and post-layout optimization options for the Spectre simulator, do the following:</p>
<ol><li>
<a id="pgfId-1045408"></a>Choose <em>Setup &#8211; High-Performance Simulation.</em><br />
<a id="pgfId-1045409"></a>The High-Performance Simulation Options form appears.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1041749"></a>The <em>High-Performance Simulation</em> menu option is disabled when a Spectre simulation is running in the interactive mode.</div>
<a id="pgfId-1046763"></a><div class="webflare-div-image">
<img width="673" height="162" src="images/chap2-15.gif" /></div></li><li>
<a id="pgfId-1046880"></a>Select one of the following simulation performance modes:<ul><li>
<a id="pgfId-1046881"></a><em>Spectre&#8212;</em>Use the baseline Spectre version for simulation. </li><li>
<a id="pgfId-1046895"></a><em>APS&#8212;</em>Use the Accelerated Parallel Simulator (APS) for simulation. The additional fields required for APS mode appear on the form:<br /><div class="webflare-div-image">
<img width="665" height="570" src="images/chap2-16.gif" /></div></li><li>
<a id="pgfId-1081557"></a><em>Spectre X&#8212; </em>Use the Spectre X simulator mode for simulation. For more information, see <a href="chap2.html#17962">Spectre X</a>.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1083925"></a>Spectre X mode is supported in Spectre 19.10 release.</div></li><li>
<a id="pgfId-1046847"></a><em>XPS MS&#8212;</em>Use the Extensive Partitioning Simulator Mixed-Signal (XPS MS) mode for simulation. For more information, see <a href="chap2.html#48482">XPS MS</a>.</li></ul><br />
<a id="pgfId-1046869"></a>You can switch between Spectre and APS default tolerance options using the Reset cdsenv options check box. When the Simulation Performance Mode is set to Spectre and the Reset cdsenv options check box is selected, ADE resets the transient options to Spectre default settings. If you want to switch to APS default settings, select APS from the Simulation Performance Mode and select the Reset cdsenv options check box.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1046835"></a>The default transient options will change from Spectre to APS only if you change the Simulation Performance Mode from spectre to APS and select the Reset cdsenv options check box and vice versa. If you change the Simulation Performance Mode and do not select the check box, the default options will not change.</div><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1046836"></a>Reset cdsenv options check box is available only if the .cdsenv file exists in <code>&lt;cds_inst_dir&gt;/tools/dfII/etc/tools/aps/</code> location.</div></li><li>
<a id="pgfId-1041777"></a><a id="93103"></a>Specify the accuracy level for transient analysis runs by selecting one of the following options in the <em>Error Preset</em> field:<ul><li>
<a id="pgfId-1041778"></a>Select <em>Do not override</em> to use the accuracy level specified for transient analyses runs in the Choosing Analysis form. For more information about setting up a transient analysis, see <a href="chap3.html#76449">Transient Analysis</a>.</li><li>
<a id="pgfId-1041782"></a>Select <em>Liberal</em>, <em>Moderate</em>, or <em>Conservative</em> to override the accuracy level specified for transient analyses runs in the Choosing Analyses form. </li></ul><br />
<a id="pgfId-1052042"></a>If errpreset is not set for transient analyses in the Choosing Analyses form and is set to Liberal, Moderate, or Conservative in the High-Performance Simulation Options form, the settings are netlisted and written into the runSimulation file.<br />
<a id="pgfId-1041783"></a>For more information about the <em>Liberal</em>, <em>Moderate</em> and <em>Conservative</em> accuracy levels, see the documentation for the <code>errpreset</code> parameter in the <em>Spectre Circuit Simulator Reference</em>.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1046966"></a>crformance mode is set to APS.</div></li><li>
<a id="pgfId-1046984"></a>Select the <em>Enable FMAX Control </em>check box to specify the maximum frequency of the internal net of the circuit or the max operating frequency of the circuit. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1046985"></a>This field appears only when the XPS MS simulation performance mode is selected and the <em>Enable Post-Layout Optimization</em> check box is selected.</div><ul><li>
<a id="pgfId-1046986"></a><em>Circuit internal net maximum frequency</em>&#8212;Specify an integer value in this field. It adds the <code>+rcnet_fmax=&lt;value&gt; </code>option to the <code>+postlayout</code> command line option. The maximum frequency typically ranges from 50G to 250G.<br /><ffi2-fig-frame-in-2 id="#id1041852">
<a id="pgfId-1041852"></a>If the simulation performance mode is set to APS, this field appears when the post-layout preset mode is set to <em>Default</em>, <em>High Precision Analog</em>, or <em>Ultra Precision Analog</em>. And if the performance mode is set to XPS MS, this field appears when the <em>Enable FMAX Control</em> check box is selected.</ffi2-fig-frame-in-2>
<a id="pgfId-1046998"></a><div class="webflare-div-image">
<img width="642" height="198" src="images/chap2-17.gif" /></div></li><li>
<a id="pgfId-1047009"></a><em>Circuit maximum operating frequency</em>&#8212;Specify an integer value in this field. It adds the <code>rcr_fmax=&lt;value&gt; </code>global<code> </code>option to the netlist. The operating frequency typically ranges from 1G to 30G.<br />
<a id="pgfId-1041854"></a>This field appears only when the performance mode is set to APS and the post-layout preset mode is set to <em>Legacy RCR</em>.<br /><ffi2-fig-frame-in-2 id="#id1041858">
<a id="pgfId-1041858"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="660" height="113" src="images/chap2-18.gif" /></div></li></ul></li><li>
<a id="pgfId-1047037"></a>Specify the instances that you do not want to be shorted by selecting the required <a id="69982"></a><em>Instance Preservation </em>option:<br /><table class="webflareTable" id="#id1047039">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1047041">
<a id="pgfId-1047041"></a>Select</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1047043">
<a id="pgfId-1047043"></a>To</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1047045"></a><em>None</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1047047"></a>Specify that no instances need to be preserved from being shorted.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1047049"></a><em>Selected</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1047051"></a>Specify the instances that must be preserved from being shorted.</p>
<p>
<a id="pgfId-1047052"></a>In the <em>Preserve Instance</em> field, type the instance names separated by spaces. You can also use wildcards to specify the instances. For example, type <code>I0.I1.r* </code>to specify that all instances with names starting with <code>r</code> in the <code>I0.I1</code> hierarchy must be preserved from being shorted.</p>
<p>
<a id="pgfId-1047053"></a>To select instances from the schematic, do the following:</p>
<ol><li>
<a id="pgfId-1047054"></a>Click the <em>Select </em>button next to the <em>Preserve Instance</em> field.</li></ol>
<blockquote id="#id1047055">
<a id="pgfId-1047055"></a>The schematic for the design is displayed. </blockquote>
<ol><li>
<a id="pgfId-1047056"></a>Select one or more instances on the schematic. </li></ol>
<blockquote id="#id1047057">
<a id="pgfId-1047057"></a>To select more than one instance at a time, do one of the following:</blockquote>

<ul><li>
<a id="pgfId-1047058"></a>Hold down the <em>Shift</em> key and click the instances you want to select. </li><li>
<a id="pgfId-1047059"></a>Drag the mouse pointer over the instances you want to select. </li></ul>


<blockquote id="#id1047060">
<a id="pgfId-1047060"></a>All the instances that are within the yellow bounding box that appears are included in the selection.</blockquote>
<ol><li>
<a id="pgfId-1047061"></a>Press the <em>Esc</em> key when you are done.</li></ol>
<blockquote id="#id1047062">
<a id="pgfId-1047062"></a>The selected instances are displayed in the <em>Preserve Instance </em>field.</blockquote>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1047064"></a>All</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1047066"></a>Specify that all instances should be preserved from being shorted.</p>
</td>
</tr>
</tbody></table></li><li>
<a id="pgfId-1047124"></a>(Optional) Cli<a id="detailedoptsform"></a>ck the <em>Detailed Options</em> button. The Post-Layout Detailed Options form appears: <br />
<a id="pgfId-1047128"></a><div class="webflare-div-image">
<img width="441" height="122" src="images/chap2-19.gif" /></div>
<a id="pgfId-1047142"></a>In the form, specify the following:<ul><li>
<a id="pgfId-1047143"></a><em>Resistor Shorting Threshold</em>&#8212; Specify a threshold value (in <code>ohms</code>) to short resistors whose resistance is less than the specified value.</li><li>
<a id="pgfId-1047144"></a><em>Decoupling Capacitor Threshold</em>&#8212;Specify a threshold value (in <code>farads</code>) to decouple capacitors whose capacitance is less than the specified value.</li></ul><br />
<a id="pgfId-1047134"></a>The <em>Detailed Options</em> button is enabled only when APS is selected as the performance mode and the <em>Enable Post-Layout Optimization</em> check box is selected.</li><li>
<a id="pgfId-1047156"></a>Click <em>OK</em>.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1041892"></a>If high-performance mode is enabled, the simulator mode is automatically changed to <code>batch</code>.</div>
<a id="pgfId-1041893"></a>The ADE Explorer window displays the settings you made in the High-Performance Simulation Options form. For example, if you selected the simulation performance mode as and the accuracy level as <em>Liberal</em>, the status bar in the window displays the simulator name as:<br />
<a id="pgfId-1045906"></a><code>spectre  liberal</code><br />
<a id="pgfId-1045918"></a>For more information on how to get better performance from APS mode, see the <a actuate="user" class="URL" href="../spectreuser/chap1.html#firstpage" show="replace" xml:link="simple">Getting More Performance From Spectre APS Simulation</a> section in Spectre Classic Simulator, Spectre APS, Spectre X, and Spectre XPS User Guide.</li></ol>























































<h4>
<a id="pgfId-1081730"></a><a id="17962"></a>Spectre X</h4>

<p>
<a id="pgfId-1081751"></a>When you select the Simulation performance mode as <code>Spectre X</code>, the following fields appear in the High-Performance Simulation Options form.</p>

<div class="webflare-div-image">
<img width="668" height="494" src="images/chap2-20.gif" /></div>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1081841"></a><code>Spectre</code> <code>X</code> can only be selected as the <em>Simulation</em> <em>Performance</em> <em>Mode</em> if the AMSD flex mode is enabled. </div>
<ul><li>
<a id="pgfId-1081781"></a><em>Preset &#8212; </em>Spectre X provides five high-level preset options, that allow you to trade off accuracy and performance. These high-level options not only control solver settings, but also enable parasitic optimization after automatically detecting postlayout designs. <br />
<a id="pgfId-1082571"></a><br /><table class="webflareTable" id="#id1082226">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1082228">
<a id="pgfId-1082228"></a>Option Name</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1082230">
<a id="pgfId-1082230"></a>When to Use</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082232"></a>cx</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082234"></a>When a golden simulation reference is needed</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082236"></a>ax</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082249"></a>For high-precision analog applications</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082251"></a>mx</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082253"></a>For most analog applications (default)</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082296"></a>lx</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082298"></a>For power management and other relaxed analog applications</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082300"></a>vx</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082302"></a>For custom IC verification</p>
</td>
</tr>
</tbody></table></li><li>
<a id="pgfId-1082219"></a><em>Multi-Threading &#8212; </em>The Spectre X supports multi-threading on multi-core computer platforms. You can enable the following multi-threading modes:<ul><li>
<a id="pgfId-1082784"></a><em>Auto &#8211; </em>To automatically allocate the threads for simulation</li><li>
<a id="pgfId-1082793"></a><em>Disable &#8211; </em>To disable multi-threading</li><li>
<a id="pgfId-1082802"></a><em>Manual &#8211; </em>To manually allocate threads</li></ul></li><li>
<a id="pgfId-1082593"></a><em>Multi-Processing &#8212; </em>Spectre X distributed simulation allows more computer cores across multiple computer hosts to further speed up DC and transient run time of large to very large postlayout circuits. You can select the following methods for job distribution: <code>Farm, SSH, </code>and<code> RSH.</code><br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1105679"></a>On selecting <code>Farm</code> as the multi-processing mode, an additional option <em>Sockets</em> <em>per</em> <em>dedicated</em> <em>Host:</em> is displayed. Set this option to control the number of processes allowed per node. By default, this is set to <code>1</code>. On setting a different value, the <code>+ppn=#</code> option gets added for Spectre.</div></li></ul>








<p>
<a id="pgfId-1107664"></a></p>
<p>
<a id="pgfId-1107666"></a></p>
<p>
<a id="pgfId-1107668"></a></p>
<p>
<a id="pgfId-1107670"></a></p>
<p>
<a id="pgfId-1107672"></a></p>
<p>
<a id="pgfId-1107674"></a></p>
<p>
<a id="pgfId-1107676"></a></p>
<p>
<a id="pgfId-1107678"></a></p>
<p>
<a id="pgfId-1107680"></a></p>
<p>
<a id="pgfId-1107662"></a></p>
<ul><li>
<a id="pgfId-1082618"></a><em>Advanced Options:</em><ul><li>
<a id="pgfId-1083380"></a><em>Preset Override</em> &#8211; By default Spectre X ignores the user-specified simulation options that trade off performance and accuracy. However, you can select this option to tell Spectre X to honor the user-specified simulation options.<br />
<a id="pgfId-1106169"></a>The following table shows the corresponding Spectre options added for the values specified in the <em>Preset</em> <em>Override</em> field.<br /><ffi2-fig-frame-in-2 id="#id1107063">
<a id="pgfId-1107063"></a></ffi2-fig-frame-in-2><table class="webflareTable" id="#id1107163">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<p>
<a id="pgfId-1106401"></a><strong>Value specified in the Preset Override field</strong></p>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<p>
<a id="pgfId-1106403"></a><strong>Added Spectre Option</strong></p>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1106405"></a><code>conservative</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1106407"></a><code>+preset=conservative</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1106409"></a><code>imx</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1106411"></a><code>+preset=imx</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1106413"></a><code>reltol,method,maxstep</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1106415"></a><code>-preset_override=reltol,method,maxstep</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1106417"></a><code>conservative,reltol</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1106419"></a><code>+preset=conservative -preset_override=reltol</code></p>
</td>
</tr>
</tbody></table><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1107191"></a>If the Preset Override option is selected but the field is left blank, Spectre adds the <code>-preset_override</code> option.</div></li><li>
<a id="pgfId-1083423"></a><em>Parasitics Optimization &#8211; </em>Select the check-box to enable Parasitics optimization with the selected preset option.</li></ul></li></ul>








<p>
<a id="pgfId-1083842"></a>For information about Spectre X, read the <em>Spectre Circuit Simulator User Guide</em> and the <em>Spectre Circuit Simulator Reference</em>.</p>

<h4>
<a id="pgfId-1045909"></a><a id="48482"></a>XPS MS</h4>

<p>
<a id="pgfId-1045860"></a>You can only select the <code>XPS</code> <code>MS</code> mode when the AMSD flex mode is disabled. On selecting <code>XPS MS</code>, the following fields appear in the High-Performance Simulation Options form.</p>

<p>
<a id="pgfId-1045864"></a></p>
<div class="webflare-div-image">
<img width="674" height="733" src="images/chap2-21.gif" /></div>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1031269"></a>You need to select the <em>Enable Post-Layout Optimization</em> check box if you are using XPS MS mode on a design that uses a post-layout view or post-layout files, such as DSPF files, SPEF files, or Spectre/HSPICE netlists containing post-layout parasitics.</div>
<p>
<a id="pgfId-1048307"></a>This form includes an additional section, <em>XPS MS Options</em>, that includes the various XPS MS options.</p>
<p>
<a id="pgfId-1045450"></a>The options that appear in the <em>XPS MS Options </em>section of the High-Performance Simulation Options form are described below:</p>
<ul><li>
<a id="pgfId-1045451"></a><em>Digital Speed</em>&#8212;Specifies the simulation speed and accuracy of digital portions in the Spectre XPS MS mode. The default value is <code>2</code>.<br /><div class="webflare-information-macro webflare-macro-tip">
<a id="pgfId-1045452"></a>
Set <em>Digital Speed</em> to <code>1</code> for more accurate timing and power simulation of digital portions and set Digital Speed to <code>3</code> for faster digital verification. </div></li><li>
<a id="pgfId-1045453"></a><em>Digital Subcircuits</em>&#8212;Specifies the digital subcircuits for simulation. Click <em>Select</em> to specify the digital subcircuits on the schematic.</li><li>
<a id="pgfId-1045454"></a><em>Digital Instances&#8212;</em>Specifies the digital instances for simulation. Click <em>Select</em> to specify the digital instances on the schematic.</li><li>
<a id="pgfId-1045455"></a><em>Analog Subcircuits&#8212;</em>Specifies the analog subcircuits for simulation. Click <em>Select</em> to specify the analog subcircuits on the schematic.</li><li>
<a id="pgfId-1045456"></a><em>Analog Instances</em>&#8212;Specifies the analog instances for simulation. Click <em>Select</em> to specify the analog instances on the schematic.</li><li>
<a id="pgfId-1045591"></a><em>Virtual Ground Nodes</em>&#8212;Specifies the virtual ground nodes. Click <em>Select</em> to specify the virtual ground nodes on the schematic. The value of ground voltage is assumed to be <code>0V</code>.</li><li>
<a id="pgfId-1045605"></a><em>Virtual Power Node</em>&#8212;Specifies the virtual power supply nodes. Click <em>Select</em> to specify the virtual power supply node on the schematic. <ul><li>
<a id="pgfId-1045606"></a><em>Value</em>&#8212;Specifies the voltage value of the virtual power supply node. After specifying the virtual power supply node and its value, click the <em>Add</em> button to add the node to the <em>Virtual Power Nodes</em> table as shown below:<br /><ffi2-fig-frame-in-2 id="#id1045610">
<a id="pgfId-1045610"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="673" height="112" src="images/chap2-23.gif" /></div><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1045611"></a>If you do not specify a voltage value for the selected virtual power supply node, the node is not added to the table when you click the <em>Add</em> button.</div>
<a id="pgfId-1045593"></a>Select a row and click the <em>Delete</em> button to delete the selected row. Or click the <em>Clear</em> button to clear the entire table.</li></ul></li><li>
<a id="pgfId-1045594"></a><em>DC OP Solver</em>&#8212;Specifies how to calculate the DC operating point before performing the transient simulation.<ul><li>
<a id="pgfId-1045461"></a><em>APS</em>&#8212;If selected, the DC operating point for the entire circuit is calculated by Spectre APS. </li><li>
<a id="pgfId-1045462"></a><em>MS</em>&#8212;If selected, enables the mixed-signal DC calculation - Spectre APS for the analog partition and Spectre XPS for the digital partition.</li><li>
<a id="pgfId-1051404"></a><em>Disable Vdd Override</em>&#8212;Disables Vdd override. This check box is selected by default.</li></ul></li><li>
<a id="pgfId-1045463"></a><em>Vdd override</em>&#8212;Specifies the maximum voltage for the device models in the digital simulation engine. The default value is <code>3.3V</code>.</li></ul>























<p>
<a id="pgfId-1033437"></a>For information about Spectre, read the <em>Spectre Circuit Simulator User Guide</em> and the <em>Spectre Circuit Simulator Reference</em>.</p>

<h3>
<a id="pgfId-1033438"></a><a id="95771"></a>Virtuoso Accelerated Parallel Simulator (APS)</h3>
<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1033439"></a>
The APS interface is no longer supported because the APS options can now be set in the Spectre interface. To specify APS options, set <code>spectre</code> as the simulator and choose <em>Setup &#8211; High-Performance Simulation</em>.</div>

<p>
<a id="pgfId-1031383"></a>Explorer provides an interface to the Virtuoso<sup>&#174;</sup> Accelerated Parallel Simulator (APS). APS is a next generation SPICE simulator that provides high performance, high capacity circuit simulation with full Spectre accuracy. APS achieves maximum simulation performance by enabling multi-threading on multi-core and multi-CPU shared memory systems. This allows you to quickly simulate large pre- and post-layout designs.</p>
<p>
<a id="pgfId-1031384"></a>APS combines an advanced simulation engine with existing Spectre and Spectre technologies. It is primarily targeted at speeding up DC and Transient analyses. The APS use model is identical to Spectre, with same netlist syntax, device model, analyses, features, and output format support. </p>
<p>
<a id="pgfId-1031385"></a>For more information about APS, see the <em>Virtuoso Accelerated Parallel Simulator User Guide</em>.</p>

<h3>
<a id="pgfId-1031386"></a>Virtuoso UltraSim Simulator Interface<a id="64166"></a></h3>

<p>
<a id="pgfId-1033450"></a>Virtuoso ADE Explorer provides the interface to run Virtuoso<sup>&#174;</sup> UltraSim<sup>â„¢ </sup>simulator. </p>
<p>
<a id="pgfId-1033451"></a>For more information about how to use UltraSim simulator in Explorer, see <a href="chap16.html#48583">Chapter D, &#8220;Working with UltraSim Simulator&#8221;</a>.</p>

<h3>
<a id="pgfId-1033452"></a>Virtuoso AMS Simulator Interface<a id="46758"></a></h3>

<p>
<a id="pgfId-1031807"></a>Virtuoso ADE Explorer <a id="amsenvopts"></a>provides a seamless integration of the Spectre AMS Designer and Xcelium Mixed-Signal simulator. The integration of the Spectre AMS Designer simulator and ADE Explorer creates a design environment with the look and feel expected by the analog and mixed-signal designers who already use ADE. When using this integration, you can access designs using the same tools you currently use for pure analog and mixed signal designs. </p>
<p>
<a id="pgfId-1033973"></a>For more information about how to use AMS simulator in Explorer, see <a href="chap15.html#93612">Chapter 15, &#8220;Working with AMS Simulator&#8221;</a>.</p>

<h3>
<a id="pgfId-1034481"></a>Virtuoso HSPICE Simulator Interface<a id="41734"></a></h3>

<p>
<a id="pgfId-1034482"></a>Virtuoso ADE Explorer provides the interface to run Virtuoso HSPICE simulator. </p>
<p>
<a id="pgfId-1034535"></a>For more information about how to use HSPICE simulator in Explorer, <a href="chap17.html#15328">Chapter 16, &#8220;Working with HSPICE Simulator&#8221;</a>.</p>

<h2>
<a id="pgfId-1096563"></a><a id="73673"></a>Setting up High-Performance Simulation Options</h2>

<p>
<a id="pgfId-1096655"></a>To specify the high-per<a id="highPerformance"></a>formance simulation options for Spectre and AMS simulators, do the following:</p>
<ol><li>
<a id="pgfId-1096656"></a>Choose <em>Setup &#8211; High-Performance Simulation.</em><br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1096658"></a>The <em>High-Performance Simulation</em> menu option is disabled when a simulation is running in the interactive mode.</div>
<a id="pgfId-1105070"></a>The High-Performance Simulation Options form appears.<br />
<a id="pgfId-1097026"></a><div class="webflare-div-image">
<img width="673" height="617" src="images/chap2-24.gif" /></div></li><li>
<a id="pgfId-1096663"></a>Select one of the following simulation performance modes:<ul><li>
<a id="pgfId-1096716"></a><em>Spectre&#8212;</em>Use the baseline Spectre version for simulation. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1105100"></a>If the selected simulator is AMS, the <em>Spectre</em> <em>X</em> Simulation Performance Mode is not visible. </div></li><li>
<a id="pgfId-1105335"></a><em>APS&#8212;</em><a id="aps"></a>Use the Accelerated Parallel Simulator (APS) for simulation. It preserves all of the numerical simulation algorithms like numerical tolerance control, time step control, Newton iteration control, analytical device model, and so on and it is expected to produce a near identical simulation numerical noise floor as baseline Spectre. This tight accuracy correlation between baseline Spectre and Spectre APS does restrict some additional simulation performance.<br />
<a id="pgfId-1105357"></a>To further speed up simulation, you can use the <code>++aps</code> simulation mode. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1104928"></a>APS is the default simulation performance mode in the ICADVM20.1 release version.</div>
<a id="pgfId-1104943"></a>The additional fields required for APS mode appear on the form:<br /><div class="webflare-div-image">
<img width="665" height="570" src="images/chap2-25.gif" /></div></li><li>
<a id="pgfId-1105367"></a><em>Spectre X&#8212; </em>Use the Spectre X simulator mode for simulation. It provides five high-level <code>+preset</code> options like <code>cx</code>, <code>ax</code>, <code>mx</code>, <code>lx</code> and <code>vx</code> that allow you to trade off accuracy and performance. These high-level options not only control solver settings, but also enable parasitic optimization after automatically detecting postlayout designs. The <code>cx</code> mode provides the highest accuracy, while the <code>vx</code> mode provides the highest performance. For more information, see <a href="chap2.html#17962">Spectre X</a>.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1096725"></a>Spectre X mode is supported in Spectre 19.10 release.</div></li><li>
<a id="pgfId-1096726"></a><em>XPS MS&#8212;</em>Use the Extensive Partitioning Simulator Mixed-Signal (XPS MS) mode for simulation. It delivers a high-performance transistor-level multi-rate simulation solution by combining a highly accurate SPICE engine (Spectre APS) together with a fast digital simulation engine (Spectre XPS). The identification between the analog and digital portions of the circuit is done automatically, with the added flexibility for advanced users to optimize it. It further speeds up both pre-layout and postlayout simulations. For more information, see <a href="chap2.html#48482">XPS MS</a>.<br />
<a id="pgfId-1099061"></a>You can use the environment variable, <a actuate="user" class="URL" href="../Explorer/appA.html#uniMode" show="replace" xml:link="simple">uniMode</a> to change the default setting for <em>Simulation</em> <em>Performance</em> <em>Mode</em>. <br />
<a id="pgfId-1096730"></a>You can switch between Spectre and APS default tolerance options using the Reset cdsenv options check box. When the Simulation Performance Mode is set to Spectre and the Reset cdsenv options check box is selected, ADE resets the transient options to Spectre default settings. If you want to switch to APS default settings, select APS from the Simulation Performance Mode and select the Reset cdsenv options check box.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1096731"></a>The default transient options will change from Spectre to APS only if you change the Simulation Performance Mode from spectre to APS and select the Reset cdsenv options check box and vice versa. If you change the Simulation Performance Mode and do not select the check box, the default options will not change.</div><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1096732"></a>Reset cdsenv options check box is available only if the .cdsenv file exists in <code>&lt;cds_inst_dir&gt;/tools/dfII/etc/tools/aps/</code> location.</div></li></ul></li><li>
<a id="pgfId-1096734"></a>Specify the accuracy level for transient analysis runs by selecting one of the following options in the <em>Error Preset</em> field:<ul><li>
<a id="pgfId-1096735"></a>Select <em>Do not override</em> to use the accuracy level specified for transient analyses runs in the Choosing Analysis form. For more information about setting up a transient analysis, see <a href="chap3.html#76449">Transient Analysis</a>.</li><li>
<a id="pgfId-1096739"></a>Select <em>Liberal</em>, <em>Moderate</em>, or <em>Conservative</em> to override the accuracy level specified for transient analyses runs in the Choosing Analyses form. </li></ul><br />
<a id="pgfId-1096740"></a>If errpreset is not set for transient analyses in the Choosing Analyses form and is set to Liberal, Moderate, or Conservative in the High-Performance Simulation Options form, the settings are netlisted and written into the runSimulation file.<br />
<a id="pgfId-1096741"></a>For more information about the <em>Liberal</em>, <em>Moderate</em> and <em>Conservative</em> accuracy levels, see the documentation for the <code>errpreset</code> parameter in the <em>Spectre Circuit Simulator Reference</em>.</li><li>
<a id="pgfId-1097512"></a>Select the <em>Use</em> <em>++aps</em> option to enable the Fast APS mode. This mode uses a different time-step control algorithm compared to spectre, which results in improved performance while satisfying error tolerances and constraints.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1097515"></a>Use ++aps option is enabled only when you set the Simulation Performance Mode to APS or XPS.</div></li><li>
<a id="pgfId-1097573"></a>Select one of the following options in the Multi-Threading field:<br /><table class="webflareTable" id="#id1097676">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1097678">
<a id="pgfId-1097678"></a>Select</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1097680">
<a id="pgfId-1097680"></a>To</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1097682"></a><em>Auto</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1097730"></a>Use the maximum number of available threads to run the simulation.</p>
<p>
<a id="pgfId-1097732"></a>The number of threads used&#8212;one thread for every CPU core&#8212;is automatically derived from the hardware architecture in use, but is limited to a maximum of:</p>

<ul><li>
<a id="pgfId-1097735"></a>4 threads when Spectre is set as the simulation performance mode</li><li>
<a id="pgfId-1097737"></a>32 threads when APS is set as the simulation performance mode.</li></ul>


</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1097686"></a><em>Manual</em><a id="manual"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1097784"></a>When a manual multi-threading simulation is run, in the <em>#Threads</em> field, you can add either:</p>

<ul><li>
<a id="pgfId-1100640"></a>The number of threads. You can specify up to:<ul><li>
<a id="pgfId-1100677"></a>4 threads when Spectre is set as the simulation performance mode</li><li>
<a id="pgfId-1100694"></a>64 threads when APS is set as the simulation performance mode<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1100728"></a>The tooltip of #Threads field shows the estimated thread count, which is the CPU estimate value backannotated from the Job Policy Setup form</div></li></ul></li><li>
<a id="pgfId-1100649"></a>The computer farm management tool (<code>sge</code>, <code>lsf</code>, <code>loadleveler</code> or <code>farm</code>) to be used to run simulation. On doing so, a <code>+mt</code> option will be added to the <code>runSimulation</code> file in the netlist directory. <br />
<a id="pgfId-1101049"></a>For example, if the specified computer farm management tool is <code>sge</code>, the option, <code>+mt=sge</code> will be added to the <code>runSimulation</code> file.</li></ul>





<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1097794"></a>In the manual multi-threading mode, the environment variable <a actuate="user" class="URL" href="../Explorer/appA.html#spectreMTNumberUsed" show="replace" xml:link="simple">spectreMTNumberUsed</a> specifies the <code>+mt</code> option for Spectre APS.</div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1097701"></a><em>Disable</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1097703"></a>Disable multithreading.</p>
</td>
</tr>
</tbody></table><br />
<a id="pgfId-1097939"></a>Note the following:<ul><li>
<a id="pgfId-1097940"></a>The multithreading options specified in this form override the multithreading options specified in the Simulator Options form. For more information about the Simulator Options form, see <a href="chap2.html#14426">Specifying Simulator Options</a>.</li><li>
<a id="pgfId-1097943"></a>If <em>Spectre</em> is set as the analog solver for the Spectre AMS Designer simulator, multithreading is supported only if you are using the Cadence IUS 8.2 or a later release.</li></ul></li><li>
<a id="pgfId-1097991"></a>Select one of the following options in <em>Savefilter</em>:<br /><table class="webflareTable" id="#id1098015">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1098017">
<a id="pgfId-1098017"></a>Select</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1098019">
<a id="pgfId-1098019"></a>To</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098021"></a><em>none</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098026"></a>Speeds up simulation by including RC reduction.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098028"></a><em>rc</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098093"></a>Enables filtering the internal RC nodes for probe or save statement. It is the default value of <em>Savefilter</em>.</p>
</td>
</tr>
</tbody></table></li><li>
<a id="pgfId-1098121"></a>In the Processor affinity field, specify the processors using which simulation sessions should be run.<br /><div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1098124"></a>
This field is available only for the lnx86 platform, If you are using an ibmrs or a sun4v machine, this option will not be visible.</div><br />
<a id="pgfId-1098126"></a>When running multiple multi-threading simulation sessions on a single computer, it is recommended that you fix the simulation session to particular processors. Otherwise multiple simulation sessions can race against each other to get the available processors, resulting in a less than optimum simulation performance. For example, to run two 4- thread simulation sessions on an 8-processor computer, specify 0-3 in the Processor affinity field for the first 4-thread simulation session using processors 0 to 3, and 4-7 in the Processor affinity field for the second 4-thread simulation session using processors 4 to 7.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1098134"></a>You can specify a range of processors such as 0-4, or a comma-separated list of processors such as <code>0</code>,<code>2</code>,<code>4</code>,<code>6</code>.</div></li><li>
<a id="pgfId-1098136"></a>To optimize post-layout designs and maximize post-layout simulation performance select the <em>Enable</em> <em>Post-Layout</em> <em>Optimization</em> check box.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1098138"></a>The <em>Enable</em> <em>Post-Layout</em> <em>Optimization</em> check box and other options in the <em>Post-Layout</em> <em>Settings</em> section are available only when you set the Simulation Performance Mode to APS or XPS MS.</div></li><li>
<a id="pgfId-1098117"></a>Select one of the following options in the <em>Post-Layout</em> <em>Preset</em> <em>Mode</em> field:<br /><table class="webflareTable" id="#id1098310">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1098312">
<a id="pgfId-1098312"></a>Select</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1098314">
<a id="pgfId-1098314"></a>To</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098316"></a><em>High Precision Analog</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098372"></a>Perform post-layout optimization with better accuracy, as compared to the default mode, but with slower performance. You can use this option for sensitive analog and mixedsignal designs.</p>
<p>
<a id="pgfId-1098404"></a>This is equivalent to the <code>+postlayout=hpa</code> Spectre command-line option.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098408"></a><em>Ultra Precision</em></p>
<p>
<a id="pgfId-1098323"></a><em>Analog</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098421"></a>Perform post-layout optimization with the best accuracy and include the optimizations present in the High Precision Analog mode.</p>
<p>
<a id="pgfId-1098447"></a>This is equivalent to the <code>+postlayout=upa</code> Spectre command-line option</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098332"></a><em>Legacy RCR</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098546"></a>This is equivalent to the <code>+postlayout=legacy</code> Spectre command-line option, which is similar to the <code>+parasitics</code> Spectre command-line option.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098528"></a><em>Legacy-RF RCR</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1098592"></a>Perform RF analysis. It preserves the level of accuracy needed for RF analysis. </p>
<p>
<a id="pgfId-1098612"></a>This is equivalent to the <em>+postlayout=legacy_rf</em> Spectre command-line option, which is similar to the <em>+parasitics=rf</em> Spectre command-line option.</p>
</td>
</tr>
</tbody></table><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1098627"></a>This field appears only when the performance mode is set to APS.</div></li><li>
<a id="pgfId-1096770"></a>Select the <em>Enable FMAX Control </em>check box to specify the maximum frequency of the internal net of the circuit or the max operating frequency of the circuit. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1096771"></a>This field appears only when the XPS MS simulation performance mode is selected and the <em>Enable Post-Layout Optimization</em> check box is selected.</div><ul><li>
<a id="pgfId-1096772"></a><em>Circuit internal net maximum frequency</em>&#8212;Specify an integer value in this field. It adds the <code>+rcnet_fmax=&lt;value&gt; </code>option to the <code>+postlayout</code> command line option. The maximum frequency typically ranges from 50G to 250G.<br /><ffi2-fig-frame-in-2 id="#id1096773">
<a id="pgfId-1096773"></a>If the simulation performance mode is set to APS, this field appears when the post-layout preset mode is set to <em>Default</em>, <em>High Precision Analog</em>, or <em>Ultra Precision Analog</em>. And if the performance mode is set to XPS MS, this field appears when the <em>Enable FMAX Control</em> check box is selected.</ffi2-fig-frame-in-2>
<a id="pgfId-1096777"></a><div class="webflare-div-image">
<img width="642" height="198" src="images/chap2-26.gif" /></div></li><li>
<a id="pgfId-1096778"></a><em>Circuit maximum operating frequency</em>&#8212;Specify an integer value in this field. It adds the <code>rcr_fmax=&lt;value&gt; </code>global<code> </code>option to the netlist. The operating frequency typically ranges from 1G to 30G.<br />
<a id="pgfId-1096779"></a>This field appears only when the performance mode is set to APS and the post-layout preset mode is set to <em>Legacy RCR</em>.<br /><ffi2-fig-frame-in-2 id="#id1096783">
<a id="pgfId-1096783"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="660" height="113" src="images/chap2-27.gif" /></div></li></ul></li><li>
<a id="pgfId-1096784"></a>Specify the instances that you do not want to be shorted by selecting the required <em>Instance Preservation </em>option:<br /><table class="webflareTable" id="#id1096786">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1096788">
<a id="pgfId-1096788"></a>Select</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1096790">
<a id="pgfId-1096790"></a>To</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1096792"></a><em>None</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1096794"></a>Specify that no instances need to be preserved from being shorted.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1096796"></a><em>Selected</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1096798"></a>Specify the instances that must be preserved from being shorted.</p>
<p>
<a id="pgfId-1096799"></a>In the <em>Preserve Instance</em> field, type the instance names separated by spaces. You can also use wildcards to specify the instances. For example, type <code>I0.I1.r* </code>to specify that all instances with names starting with <code>r</code> in the <code>I0.I1</code> hierarchy must be preserved from being shorted.</p>
<p>
<a id="pgfId-1096800"></a>To select instances from the schematic, do the following:</p>
<ol><li>
<a id="pgfId-1096801"></a>Click the <em>Select </em>button next to the <em>Preserve Instance</em> field.</li></ol>
<blockquote id="#id1096802">
<a id="pgfId-1096802"></a>The schematic for the design is displayed. </blockquote>
<ol><li>
<a id="pgfId-1096803"></a>Select one or more instances on the schematic. </li></ol>
<blockquote id="#id1096804">
<a id="pgfId-1096804"></a>To select more than one instance at a time, do one of the following:</blockquote>

<ul><li>
<a id="pgfId-1096805"></a>Hold down the <em>Shift</em> key and click the instances you want to select. </li><li>
<a id="pgfId-1096806"></a>Drag the mouse pointer over the instances you want to select. </li></ul>


<blockquote id="#id1096807">
<a id="pgfId-1096807"></a>All the instances that are within the yellow bounding box that appears are included in the selection.</blockquote>
<ol><li>
<a id="pgfId-1096808"></a>Press the <em>Esc</em> key when you are done.</li></ol>
<blockquote id="#id1096809">
<a id="pgfId-1096809"></a>The selected instances are displayed in the <em>Preserve Instance </em>field.</blockquote>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1096811"></a>All</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1096813"></a>Specify that all instances should be preserved from being shorted.</p>
</td>
</tr>
</tbody></table></li><li>
<a id="pgfId-1096815"></a>(Optional) Cli<a id="detailedoptsform"></a>ck the <em>Detailed Options</em> button. The Post-Layout Detailed Options form appears: <br />
<a id="pgfId-1096819"></a><div class="webflare-div-image">
<img width="441" height="122" src="images/chap2-28.gif" /></div>
<a id="pgfId-1096820"></a>In the form, specify the following:<ul><li>
<a id="pgfId-1096821"></a><em>Resistor Shorting Threshold</em>&#8212; Specify a threshold value (in <code>ohms</code>) to short resistors whose resistance is less than the specified value.</li></ul></li><li>
<a id="pgfId-1096868"></a>(Optional) Cli<a id="detailedoptsform"></a>ck the <em>Detailed Options</em> button. The Post-Layout Detailed Options form appears: <br />
<a id="pgfId-1096872"></a><div class="webflare-div-image">
<img width="441" height="122" src="images/chap2-29.gif" /></div>
<a id="pgfId-1096873"></a>In the form, specify the following:<ul><li>
<a id="pgfId-1096874"></a><em>Resistor Shorting Threshold</em>&#8212; Specify a threshold value (in <code>ohms</code>) to short resistors whose resistance is less than the specified value.</li><li>
<a id="pgfId-1096875"></a><em>Decoupling Capacitor Threshold</em>&#8212;Specify a threshold value (in <code>farads</code>) to decouple capacitors whose capacitance is less than the specified value.</li></ul><br />
<a id="pgfId-1096876"></a>The <em>Detailed Options</em> button is enabled only when APS is selected as the performance mode and the <em>Enable Post-Layout Optimization</em> check box is selected.</li><li>
<a id="pgfId-1096877"></a>Click <em>OK</em>.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1096878"></a>If high-performance mode is enabled, the simulator mode is automatically changed to <code>batch</code>.</div>
<a id="pgfId-1096879"></a>The ADE Explorer window displays the settings you made in the High-Performance Simulation Options form. For example, if you selected the simulation performance mode as and the accuracy level as <em>Liberal</em>, the status bar in the window displays the simulator name as:<br />
<a id="pgfId-1096880"></a><code>spectre  liberal</code><br />
<a id="pgfId-1096881"></a>For more information on how to get better performance from APS mode, see the <a actuate="user" class="URL" href="../spectreuser/chap1.html#firstpage" show="replace" xml:link="simple">Getting More Performance From Spectre APS Simulation</a> section in Spectre Classic Simulator, Spectre APS, Spectre X, and Spectre XPS User Guide.</li></ol>


























































































<h4>
<a id="pgfId-1096884"></a>Spectre X</h4>

<p>
<a id="pgfId-1096885"></a>When you select the Simulation performance mode as <code>Spectre X</code>, the following fields appear in the High-Performance Simulation Options form.</p>

<p>
<a id="pgfId-1096889"></a></p>
<div class="webflare-div-image">
<img width="652" height="452" src="images/chap2-30.gif" /></div>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1096890"></a><code>Spectre</code> <code>X</code> can only be selected as the <em>Simulation</em> <em>Performance</em> <em>Mode</em> if the AMSD flex mode is enabled. </div>
<ul><li>
<a id="pgfId-1096891"></a><em>Preset &#8212; </em>Spectre X provides five high-level preset options, that allow you to trade off accuracy and performance. These high-level options not only control solver settings, but also enable parasitic optimization after automatically detecting postlayout designs. <br />
<a id="pgfId-1100185"></a><br /><table class="webflareTable" id="#id1099851">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1096894">
<a id="pgfId-1096894"></a>Option Name</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1096896">
<a id="pgfId-1096896"></a>When to Use</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1096898"></a>cx</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1096900"></a>When a golden simulation reference is needed</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1096902"></a>ax</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1096904"></a>For high-precision analog applications</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1096906"></a>mx</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1096908"></a>For most analog applications (default)</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1096910"></a>lx</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1096912"></a>For power management and other relaxed analog applications</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1096914"></a>vx</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1096916"></a>For custom IC verification</p>
</td>
</tr>
</tbody></table><br />
<a id="pgfId-1099169"></a>Related environment variable: <a actuate="user" class="URL" href="../Explorer/appA.html#spectreXPreset" show="replace" xml:link="simple">spectreXPreset</a></li><li>
<a id="pgfId-1096918"></a><em>Multi-Threading &#8212; </em>The Spectre X supports multi-threading on multi-core computer platforms. You can enable the following multi-threading modes:<ul><li>
<a id="pgfId-1096919"></a><em>Auto &#8211; </em>To automatically allocate the threads for simulation</li><li>
<a id="pgfId-1096920"></a><em>Disable &#8211; </em>To disable multi-threading</li><li>
<a id="pgfId-1096921"></a><em>Manual &#8211; </em>To manually allocate threads</li></ul><br />
<a id="pgfId-1099900"></a>Related environment variable: <a actuate="user" class="URL" href="../Explorer/appA.html#spectreXMtOption" show="replace" xml:link="simple">spectreXMtOption</a></li><li>
<a id="pgfId-1096922"></a><em>Multi-Processing &#8212; </em>Spectre X distributed simulation allows more computer cores across multiple computer hosts to further speed up DC and transient run time of large to very large postlayout circuits. You can select the following methods for job distribution: <code>Farm, SSH, </code>and<code> RSH.</code><br />
<a id="pgfId-1100271"></a>Related environment variable: <a actuate="user" class="URL" href="../Explorer/appA.html#spectreXMpOption" show="replace" xml:link="simple">spectreXMpOption</a></li><li>
<a id="pgfId-1096923"></a><em>Advanced Options &#8212;</em><ul><li>
<a id="pgfId-1096924"></a><em>Preset Override</em> &#8211; By default Spectre X ignores the user-specified simulation options that trade off performance and accuracy. However, you can select this option to tell Spectre X to honor the user-specified simulation options.</li><li>
<a id="pgfId-1096925"></a><em>Parasitics Optimization &#8211; </em>Select the check-box to enable Parasitics optimization with the selected preset option.</li></ul><br />
<a id="pgfId-1100303"></a>Related environment variable: <a actuate="user" class="URL" href="../Explorer/appA.html#spectreXAdvanced" show="replace" xml:link="simple">spectreXAdvanced</a></li></ul>














<p>
<a id="pgfId-1096926"></a>For information, see the <h-hot><a actuate="user" class="URL" href="../Explorer/appA.html#spectreXEnvVars" show="replace" xml:link="simple">Spectre X</a></h-hot> environment variables section, and read the <em>Spectre Circuit Simulator User Guide</em> and the <em>Spectre Circuit Simulator Reference</em>.</p>

<h4>
<a id="pgfId-1096950"></a>XPS MS</h4>

<p>
<a id="pgfId-1096951"></a>You can only select the <code>XPS</code> <code>MS</code> mode when the AMSD flex mode is disabled. On selecting <code>XPS MS</code>, the following fields appear in the High-Performance Simulation Options form.</p>

<p>
<a id="pgfId-1096955"></a></p>
<div class="webflare-div-image">
<img width="674" height="733" src="images/chap2-31.gif" /></div>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1096956"></a>You need to select the <em>Enable Post-Layout Optimization</em> check box if you are using XPS MS mode on a design that uses a post-layout view or post-layout files, such as DSPF files, SPEF files, or Spectre/HSPICE netlists containing post-layout parasitics.</div>
<p>
<a id="pgfId-1096957"></a>This form includes an additional section, <em>XPS MS Options</em>, that includes the various XPS MS options.</p>
<p>
<a id="pgfId-1096958"></a>The options that appear in the <em>XPS MS Options </em>section of the High-Performance Simulation Options form are described below:</p>
<ul><li>
<a id="pgfId-1096959"></a><em>Digital Speed</em>&#8212;Specifies the simulation speed and accuracy of digital portions in the Spectre XPS MS mode. The default value is <code>2</code>.<br /><div class="webflare-information-macro webflare-macro-tip">
<a id="pgfId-1096960"></a>
Set <em>Digital Speed</em> to <code>1</code> for more accurate timing and power simulation of digital portions and set Digital Speed to <code>3</code> for faster digital verification. </div></li><li>
<a id="pgfId-1096961"></a><em>Digital Subcircuits</em>&#8212;Specifies the digital subcircuits for simulation. Click <em>Select</em> to specify the digital subcircuits on the schematic.</li><li>
<a id="pgfId-1096962"></a><em>Digital Instances&#8212;</em>Specifies the digital instances for simulation. Click <em>Select</em> to specify the digital instances on the schematic.</li><li>
<a id="pgfId-1096963"></a><em>Analog Subcircuits&#8212;</em>Specifies the analog subcircuits for simulation. Click <em>Select</em> to specify the analog subcircuits on the schematic.</li><li>
<a id="pgfId-1096964"></a><em>Analog Instances</em>&#8212;Specifies the analog instances for simulation. Click <em>Select</em> to specify the analog instances on the schematic.</li><li>
<a id="pgfId-1096965"></a><em>Virtual Ground Nodes</em>&#8212;Specifies the virtual ground nodes. Click <em>Select</em> to specify the virtual ground nodes on the schematic. The value of ground voltage is assumed to be <code>0V</code>.</li><li>
<a id="pgfId-1096966"></a><em>Virtual Power Node</em>&#8212;Specifies the virtual power supply nodes. Click <em>Select</em> to specify the virtual power supply node on the schematic. <ul><li>
<a id="pgfId-1096967"></a><em>Value</em>&#8212;Specifies the voltage value of the virtual power supply node. After specifying the virtual power supply node and its value, click the <em>Add</em> button to add the node to the <em>Virtual Power Nodes</em> table as shown below:<br /><ffi2-fig-frame-in-2 id="#id1096971">
<a id="pgfId-1096971"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="673" height="112" src="images/chap2-32.gif" /></div><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1096972"></a>If you do not specify a voltage value for the selected virtual power supply node, the node is not added to the table when you click the <em>Add</em> button.</div>
<a id="pgfId-1096973"></a>Select a row and click the <em>Delete</em> button to delete the selected row. Or click the <em>Clear</em> button to clear the entire table.</li></ul></li><li>
<a id="pgfId-1096974"></a><em>DC OP Solver</em>&#8212;Specifies how to calculate the DC operating point before performing the transient simulation.<ul><li>
<a id="pgfId-1096975"></a><em>APS</em>&#8212;If selected, the DC operating point for the entire circuit is calculated by Spectre APS. </li><li>
<a id="pgfId-1096976"></a><em>MS</em>&#8212;If selected, enables the mixed-signal DC calculation - Spectre APS for the analog partition and Spectre XPS for the digital partition.</li><li>
<a id="pgfId-1096977"></a><em>Disable Vdd Override</em>&#8212;Disables Vdd override. This check box is selected by default.</li></ul></li><li>
<a id="pgfId-1096978"></a><em>Vdd override</em>&#8212;Specifies the maximum voltage for the device models in the digital simulation engine. The default value is <code>3.3V</code>.</li></ul>























<p>
<a id="pgfId-1096979"></a>For information about Spectre, read the <em>Spectre Circuit Simulator User Guide</em> and the <em>Spectre Circuit Simulator Reference</em>.</p>

<h3>
<a id="pgfId-1096981"></a>Virtuoso Accelerated Parallel Simulator (APS)</h3>
<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1096982"></a>
The APS interface is no longer supported because the APS options can now be set in the Spectre interface. To specify APS options, set <code>spectre</code> as the simulator and choose <em>Setup &#8211; High-Performance Simulation</em>.</div>

<p>
<a id="pgfId-1096983"></a>Explorer provides an interface to the Virtuoso<sup>&#174;</sup> Accelerated Parallel Simulator (APS). APS is a next generation SPICE simulator that provides high performance, high capacity circuit simulation with full Spectre accuracy. APS achieves maximum simulation performance by enabling multi-threading on multi-core and multi-CPU shared memory systems. This allows you to quickly simulate large pre- and post-layout designs.</p>
<p>
<a id="pgfId-1096984"></a>APS combines an advanced simulation engine with existing Spectre and Spectre technologies. It is primarily targeted at speeding up DC and Transient analyses. The APS use model is identical to Spectre, with same netlist syntax, device model, analyses, features, and output format support. </p>
<p>
<a id="pgfId-1096985"></a>For more information about APS, see the <em>Virtuoso Accelerated Parallel Simulator User Guide</em>.</p>

<h2>
<a id="pgfId-1034559"></a><a id="27917"></a>Set<a id="simSetupFile"></a>ting Up Simula<a id="SimFiles"></a>tion Files</h2>

<p>
<a id="pgfId-1031853"></a>Before you run a simulation, you must set up the simulation files you want to use.</p>

<ul><li>
<a id="pgfId-1031854"></a>Choose <em>Setup &#8211; Simulation Files</em>.<br />
<a id="pgfId-1031856"></a><a id="simfilesetupEnvVariable"></a>The Simulation Files Setup form appears. <br />
<a id="pgfId-1031857"></a>You can set up include paths, definition files and stimulus files using the Paths/Files tab and setup digital vector files using the Vector Files tab.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1036833"></a>The fields that appear on the form depend on your target simulator.</div></li></ul>




<p>
<a id="pgfId-1036846"></a>Path/Files:</p>

<p>
<a id="pgfId-1036837"></a></p>
<div class="webflare-div-image">
<img src="images/Simulation_Files.gif" /></div>
<p>
<a id="pgfId-1037103"></a>Vector Files:</p>
<div class="webflare-div-image">
<img src="images/Simulation_Vecror_Files.gif" /></div>

<p>
<a id="pgfId-1037105"></a>Refer to the following sections for more information about using the <em>Simulation Files Setup</em> form:</p>
<ul><li>
<a id="pgfId-1103047"></a><a href="chap2.html#43878">Specifying Simulation Files</a></li><li>
<a id="pgfId-1034646"></a><a href="chap2.html#80224">Specifying Simulation Files Using Variables</a></li><li>
<a id="pgfId-1034658"></a><a href="chap2.html#81117">Using Shell Environment Variables to Specify the Paths</a></li><li>
<a id="pgfId-1034673"></a><a href="chap2.html#66280">Enabling and Disabling Simulation Files</a></li><li>
<a id="pgfId-1034683"></a><a href="chap2.html#72590">Editing Simulation Files</a></li></ul>





<h3>
<a id="pgfId-1102885"></a><a id="43878"></a>Specifying Simulation <a id="SpecifyingSimulationFiles"></a>Files<a id="marker-1102884"></a></h3>

<p>
<a id="pgfId-1102886"></a>Depending on your design and setup requirements, you need to use various types of files for simulations run in ADE Explorer. </p>
<p>
<a id="pgfId-1102887"></a>The table below describes each file type and its purpose.</p>

<p>
<a id="pgfId-1102933"></a></p>
<table class="webflareTable" id="#id1102888">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1102890">
<a id="pgfId-1102890"></a>File Type</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1102892">
<a id="pgfId-1102892"></a>Description</span>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1102894"></a>Definition Files</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-1102896"></a>Definition files contain function and parameter definitions that are not displayed in the <em>Design Variables</em> list in the Data View assistant. See the following sample file that contains function and parameter definitions for the Spectre circuit simulator.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1102897"></a><code><em>&lt;your_install_dir</em></code>&gt;/tools/dfII/samples/artist/models/spectre/definitions.scs</pre>
<p>
<a id="pgfId-1102898"></a>The parameters in this file are referenced by included models and are not referenced from any part of the design in the Cadence library.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1102900"></a>Stimulus Files</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-1102902"></a>Stimulus files can contain input and power supply stimuli, initializing nodes, and estimated parasitics in the netlist. You can look at the following example file that contains Spectre circuit simulator stimuli definitions for the opamp sample design in the aExample library.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1102903"></a><code><em>&lt;your_install_dir&gt;</em></code>/tools/dfII/samples/artist/models/spectre/opampStimuli.scs</pre>

<p>
<a id="pgfId-1102904"></a>In a stimulus file, you can type node names and component names using Open Simulation System (OSS) syntax <code>[#name]</code> and the system will substitute the corresponding node numbers when writing the netlist. You can use a backslash (<code>\</code>) to escape a square bracket. For information about OSS syntax, see the <em><a actuate="user" class="URL" href="../ossref/ossrefTOC.html#firstpage" show="replace" xml:link="simple">Open Simulation System Reference</a></em>.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1102907"></a>DSPF Parasitic Files</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1102909"></a>DSPF files contain the post-layout data, including fingered devices and net parasitics, of the design. For EMIR analysis, Spectre APS/XPS requires a complete testbench that contains the DSPF files (with the parasitic and instance sections describing the circuit to be analyzed), stimuli, and device models.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1102911"></a>SPEF Parasitic Files</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1102913"></a>SPEF post-layout netlists are supported by the AMS, Spectre APS/XPS EMIR flow. An SPEF netlist contains a combination of a schematic netlist with the active devices and an SPEF netlist that includes the parasitic element information.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1102915"></a>PSpice&#174; Files</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1102917"></a>PSpice files contain netlists that include PCB components modeled using the PSpice format.</p>
<p>
<a id="pgfId-1102918"></a>When you use PSpice files, the top-level netlist and control statement need to be defined in Spectre or SPICE format. A subcircuit defined in PSpice netlist format is instantiated in the Spectre netlist.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1102919"></a>For the AMS simulator, the <em>PSpice Files</em> field is supported only when you select AMS Unified Netlister with xrun from the Netlist and Run Options form. For information on AMS UNL, see Working with AMS Simulator<a id="message URL ../Explorer/chap15.html#firstpage"></a>.</div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1102922"></a>Vector Files</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1102924"></a>Vector (VEC) files include a table of times and values at those times. A vector file can include more than one vector definition.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1102926"></a>VCD Files</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1102928"></a>VCD (Verilog&#174; Value Change Dump) files contain information about value changes for selected variables in the circuit design. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1102930"></a>EVCD Files</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1102932"></a>EVCD (Extended Verilog&#174; Value Change Dump) files contain variable changes in all states and provide strength information and port direction.</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1102934"></a>You can use the Simulation Files Setup form to specify the paths to these files.</p>
<p>
<a id="pgfId-1102935"></a>To specify simulation files for a test, do the following:</p>
<ol><li>
<a id="pgfId-1102937"></a>In the Data View assistant pane, right-click the test or analysis name, and choose <em>Simulation Files</em>.<br />
<a id="pgfId-1102938"></a>The Simulation Files Setup form appears. This form contains two tabs:<ul><li>
<a id="pgfId-1102939"></a><em>Paths/Files</em>: On this tab, you can specify paths for all file types other than vector files.</li><li>
<a id="pgfId-1102941"></a><em>Vector Files</em>: On this tab, you can specify digital vector files.</li></ul></li><li>
<a id="pgfId-1102943"></a>If the files to be used are located at multiple locations and you want ADE Explorer to look for files in all those paths, specify those paths in the <em>Include Paths</em> tree.</li><li>
<a id="pgfId-1102944"></a>To specify the path to a file of a specific type, click where it says <em>&lt;Click here to add a path&gt; </em>or <em>&lt;Click here to add a file&gt;</em> in the tree of that file type<em>. </em><ul><li>
<a id="pgfId-1102945"></a>For example, to specify the path to a definition file, click where it says <em>&lt;Click here to add a file&gt;</em> in the <em>Definition Files</em> tree.</li></ul></li><li>
<a id="pgfId-1102947"></a>Type the path and name of your file, or click the browse button to select one or more files or paths using the Choose Files/Paths form.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1102948"></a>The simulator resolves a relative path by first looking in the <code>netlist</code> directory (relative to where you run the simulation). If the path starts with the <code>.</code> character, the simulator resolves this by looking in the <code>netlist</code> directory first, then in each of the directories specified in <em>Include Paths</em> in the order you type them. The <code>.</code> character does not mean the current directory.</div>
<a id="pgfId-1102949"></a>After you have specified a file or path, a new row is added to the tree. If you have multiple files, you can use the additional rows to specify the paths to those files.</li><li>
<a id="pgfId-1102950"></a>(Optional) Click <em>Apply to the Selected Tests in the Setup</em> () on the <em>Paths/Files</em> tab of this form to update simulation files for all the applicable tests in a setup.<br />
<a id="pgfId-1102951"></a>The Apply Simulation Files Setup to Tests form appears.<ol><li>
<a id="pgfId-1102953"></a>Select the tests to which you want to apply the simulation files.<br />
<a id="pgfId-1102954"></a>You can also click <em>Select Enabled</em> to automatically select the tests that are enabled in the Data View assistant.</li><li>
<a id="pgfId-1102955"></a>Click<em> OK</em> to apply the selected simulation files<em>.</em><br /><div class="webflare-information-macro webflare-macro-warning">
<a id="pgfId-1102956"></a>
When you apply the simulation files to other tests, their existing simulation files setup is overwritten. Therefore, it is recommended to verify their existing setup before using this feature.</div></li></ol></li><li>
<a id="pgfId-1102957"></a>Click <em>OK</em> to close the Simulation Files Setup form.</li></ol>



















<h4><em>
<a id="pgfId-1102958"></a>Important Points to Note</em></h4>

<ul><li>
<a id="pgfId-1103099"></a>For AMS simulator, a <em>PSpice_include Statements included in Model Files</em> check box appears in the <em>PSpice Options</em> section of the Simulation Files Setup form</li><li>
<a id="pgfId-1102959"></a>For some of the file types, a few additional fields are displayed on the form. <br />
<a id="pgfId-1102960"></a>For example, when you select a vector file, the <em>Vector File Options</em> section is displayed on the <em>Vector Files</em> tab with the <em>hlCheck</em> field. To enable the check for H and L states for input signals, choose <em>1.</em><br />
<a id="pgfId-1102961"></a>Selecting a VCD or EVCD file displays an additional field in which you can specify a VCD or EVCD file is.</li><li>
<a id="pgfId-1102962"></a>By default, the simulation files you add are enabled for simulation. You can use the check box next to a file name to enable or disable a simulation file for simulation.</li><li>
<a id="pgfId-1102963"></a>To edit a simulation file, select the file and click <em>Edit/view</em> <em>selected</em> <em>files</em>. The selected simulation file is opened in a text editor where you can make changes to the file content and save it.</li><li>
<a id="pgfId-1102856"></a>To remove a simulation file from the setup, select it and click <em>Delete</em> <em>selected</em> <em>rows</em>.</li></ul>







<h3>
<a id="pgfId-1032005"></a><a id="80224"></a>Specifying Simulation Files Using Variables</h3>

<p>
<a id="pgfId-1032006"></a>You can use variables to specify simulation files. Variables allow you to vary the simulation files during simulation. </p>
<p>
<a id="pgfId-1032007"></a>For example, to specify a definition file using a variable, do the following:</p>
<ol><li>
<a id="pgfId-1032008"></a>In the Simulation Files Setup form, click the <em>Paths/Files</em> tab.</li><li>
<a id="pgfId-1032009"></a>In the <em>Definition Files </em>tree, click where it says <em>&lt;Click here to add a file&gt;.</em></li><li>
<a id="pgfId-1032010"></a>Type a variable name for the definition file you want to vary using the following format:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1032012">
<a id="pgfId-1032012"></a>VAR(&quot;myDefinitionFile&quot;)</pre></li><li>
<a id="pgfId-1032013"></a>Click <em>Apply</em>.<br />
<a id="pgfId-1032014"></a>The <code>myDefinitionFile</code> variable appears in the <em>Design Variables</em> section of the Setup assistant.<br />
<a id="pgfId-1032018"></a><div class="webflare-div-image">
<img width="320" height="256" src="images/chap2-35.gif" /></div></li><li>
<a id="pgfId-1032019"></a>Double-click in the field next to the variable name and type the path and filename of the stimulus file or select the file using the browse button.</li></ol>











<h3>
<a id="pgfId-1032025"></a><a id="81117"></a>Using Shell Environment <a id="shellVariable"></a>Variables to Specify the Paths</h3>

<p>
<a id="pgfId-1032026"></a>You can use shell environment variables to specify the paths of the simulation, vector and model files in the simulation window. Shell environment variables allow you to set different file paths for each session.</p>
<p>
<a id="pgfId-1032027"></a>For example, to specify a model file using the shell environment variable, do the following:</p>
<ol><li>
<a id="pgfId-1032028"></a>In the <em>Global Model Files </em>tree, click the cell with text <em>&lt;Click here to add model file&gt;.</em></li><li>
<a id="pgfId-1032029"></a>Type the name of the shell environment variable to include the model file path in the following format:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1032227">
<a id="pgfId-1032227"></a>$&lt;shell_variable_name&gt;/&lt;model_file_name&gt;</pre><br />
<a id="pgfId-1032241"></a><div class="webflare-div-image">
<img width="661" height="286" src="images/chap2-36.gif" /></div></li><li>
<a id="pgfId-1032242"></a>Click <em>Apply</em>.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1032046"></a>The shell environment variables are not displayed in the <em>Design Variables</em> section of the Setup assistant. The paths from the shell environment variables are resolved internally during the simulation run.</div></li></ol>









<h3>
<a id="pgfId-1032048"></a><a id="66280"></a>Enabling and Disabling Simulation Files</h3>
<ul><li>
<a id="pgfId-1032049"></a>To enable a simulation file for simulation, select the check box next to it.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1032050"></a>By default, the simulation files you add are enabled for simulation. </div></li><li>
<a id="pgfId-1032051"></a>To disable a simulation file for simulation, clear the check box next to it.</li></ul>




<h3>
<a id="pgfId-1032053"></a><a id="72590"></a>Editing Simulation Files</h3>

<p>
<a id="pgfId-1032054"></a>To edit simulation files, do the following:</p>
<ol><li>
<a id="pgfId-1032055"></a>Select one or more simulation files.</li><li>
<a id="pgfId-1032059"></a>Click the <img width="24" height="25" src="images/chap2-37.gif" /><span> button.</span><br />
<a id="pgfId-1032060"></a>The simulation files are opened in a text editor.<br /><div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1032061"></a>
If you edit simulation files outside ADE Explorer, the changes in the files will not be included in the netlist if you click the <em>Netlist and Run</em> button or choose <em>Simulation &#8211; Netlist</em> <em>and Run</em>. You must choose <em>Simulation &#8211; Netlist &#8211; Recreate</em> to include the changes in the netlist.</div></li></ol>





<h3>
<a id="pgfId-1032063"></a><a id="16950"></a>Deleting Simulation Files</h3>

<p>
<a id="pgfId-1032064"></a>To delete simulation files, do the following:</p>
<ol><li>
<a id="pgfId-1032065"></a>Select one or more simulation files.</li><li>
<a id="pgfId-1032069"></a>Click the <img width="24" height="23" src="images/chap2-38.gif" /><span> button.</span></li></ol>

<h2>
<a id="pgfId-1031838"></a><a id="settingUpSimulatorEnvOpts"></a><a id="46941"></a>Setti<a id="spectreEnv"></a>ng up Simul<a id="SpectreEnvOpts"></a>ator Environment Options</h2>

<p>
<a id="pgfId-1032282"></a>You can set the environment options for the specified simulator using the Environment Options form. To open the Environment Options form:</p>
<ol><li>
<a id="pgfId-1032283"></a>Choose <em>Setup &#8211; Environment</em>.<br />
<a id="pgfId-1032363"></a>The <em>Environment Options</em> form appears.<a id="envoptionsEnvVariable"></a><a id="form"></a><br />
<a id="pgfId-1032296"></a><div class="webflare-div-image">
<img width="650" height="539" src="images/chap2-39.gif" /></div>
<a id="pgfId-1032301"></a>The display varies depending on which simulator you are using and whether you are using a config view for the design. Instance-based view switching is supported only for purely analog designs, not for mixed-signal designs.</li><li>
<a id="pgfId-1032302"></a>Check that the path to the parameter range-checking file is correct. For the Spectre simulator, this file contains the parameter range limits. You do not need to enter the full path for the file if the file is in the directory specified in the include path on the Model Setup form. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1032303"></a>A period (.) in a UNIX path specification is interpreted relative to the directory from which you started the <a id="marker-1032304"></a><a id="marker-1032305"></a><a id="marker-1032306"></a>ADE Explorer.</div></li><li>
<a id="pgfId-1032307"></a>(Optional) If you are not using a config view, check and set the options for view switching to control how the system netlists hierarchical designs.</li><li>
<a id="pgfId-1032308"></a>Set the other options as listed below, and click <em>OK</em>.<ul><li>
<a id="pgfId-1045796"></a><em>Switch View List</em>&#8212;This is a list of the views that the software switches into when searching for design variables.&#8212;The software searches through the hierarchical views in the order shown in the list. <a id="marker-1045797"></a><a id="marker-1045798"></a></li><li>
<a id="pgfId-1096379"></a><em>Stop View List</em>&#8212;This is a list of views that identify the stopping view to be netlisted. This list does not require a particular sequence. </li><li>
<a id="pgfId-1096384"></a><em>Parameter Range-Checking File</em>&#8212;Lets you enter the path to a file containing the correct ranges for component parameters. If this path is present, the simulator checks the values of all component parameters in the circuit against the parameter range-checking file and prints out a warning if any parameter value is out of range.</li><li>
<a id="pgfId-1096389"></a><em>Print Comments</em> <ul><li>
<a id="pgfId-1045802"></a>Prints the name mapping of the terminals in the netlist as comments.</li><li>
<a id="pgfId-1096397"></a>When <em>Name Mapping</em> is selected, prints the mapping of the schematic terminal name with the netlist terminal name for the subcircuits and the mapping of schematic device names with simulator devices names.</li><li>
<a id="pgfId-1096402"></a>When <em>Subckt Port Connections</em> is selected, prints the connection of each terminal with the net it is connected to, for each subcircuit.</li></ul></li><li>
<a id="pgfId-1045805"></a><em>userCmdLineOption</em>&#8212;Helps you specify options that cannot otherwise be specified using the UI. You can enter commands that are valid for the selected simulator. ADE appends these commands as they are to the list of commands specified using the UI for the simulator. If you provide invalid commands through this option, ADE does not validate them; the simulator may or may not fail depending upon the simulator strategy applied to invalid commands.<br />
<a id="pgfId-1045806"></a>To enable the MTS flow in Spectre, specify <code>+mts</code> command in this field.</li><li>
<a id="pgfId-1045807"></a><em>Automatic output log</em>&#8212;When this check box is selected, the output log opens and displays simulator messages as they are generated. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1048488"></a>The output log appears only for the single-point simulation runs. If the simualtion run includes corners or sweeps, the output log is not displayed regardliess of the setting of the <em>Automatic output log </em>check box.</div></li><li>
<a id="pgfId-1045808"></a><em>savestate (ss)</em> <ul><li>
<a id="pgfId-1045809"></a><strong>
Y</strong>
&#8212;Runs spectre with the <code>+ss</code> option, which saves circuit information at set intervals or at multiple points during a transient analysis.</li><li>
<a id="pgfId-1096425"></a><strong>
N</strong>
&#8212;Runs spectre with the <code>-ss</code> option, which does not save circuit information at set intervals during a transient analysis.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1045811"></a>This option does not work as intended with parametric analysis. Ensure that it is set to N, it is the default setting, before using these tools.</div></li></ul></li><li>
<a id="pgfId-1045812"></a><em>recover (rec)</em>&#8212;Allows the simulation to be restarted from a specified checkpoint.<ul><li>
<a id="pgfId-1045813"></a><strong>
Y</strong>
&#8212;Runs spectre with the <code>+rec</code> option, which restarts a transient simulation based on conditions specified in a saved-state file.</li><li>
<a id="pgfId-1096439"></a><strong>
N</strong>
&#8212;Runs spectre with the <code>-rec</code> option, which does not restart a transient simulation, even if conditions for this have been specified in a saved-state file.</li></ul><br />
<a id="pgfId-1045815"></a><em>Run with 64 bit binary</em>&#8212;Instructs spectre to run in 64 bit mode.</li><li>
<a id="pgfId-1045816"></a><em>Using colon as Term Delimiter</em>&#8212;Instructs spectre to use<code>:</code> as the terminal delimiter. Whenever you select sst2 as the output format, you have to explicitly select this form option.</li><li>
<a id="pgfId-1045817"></a><em>Netlist text views from shadow OA database</em><strong>&#8212;</strong>While generating the netlist for a design that contains text cellViews,if this option is selected, the netlister reads the database for each text cellview and prints the corresponding netlist.<br />
<a id="pgfId-1045819"></a>If this option is not selected, the netlister includes the corresponding text files in the netlist.<br />
<a id="pgfId-1045820"></a><strong>Important Points to Note:</strong><ul><li>
<a id="pgfId-1045821"></a>This form option will have an impact only when you select <code>sst2</code> as the output format.</li><li>
<a id="pgfId-1096465"></a>If <em>Using colon as Term Delimiter </em>option is selected/deselected, you need to netlist the design.</li><li>
<a id="pgfId-1096470"></a><em>Trace License Check-in/Check-out</em>&#8212;Writes the license check-in/check-out information in the log file.</li></ul></li><li>
<a id="pgfId-1045824"></a><em>Check in license when suspended</em>&#8212;Turns on the license suspend/resume capability. When Spectre receives <code>SIGTSTP</code>, it checks in all the licenses before it gets suspended. The licenses are checked out again when <code>SIGCONT</code> is received.</li><li>
<a id="pgfId-1045825"></a><em>License Queue Time Out</em>&#8212;Turns on the queuing for license capability. Spectre sleeps and requests the license again if there is no available license. You have to specify for how long it must wait for a license (in seconds). Specifying value <code>0</code> means wait until the license is available.</li><li>
<a id="pgfId-1045826"></a><em>Set Top Circuit as Subcircuit</em>&#8212;Instructs Spectre to netlist the top-level schematic as a subcircuit.</li><li>
<a id="pgfId-1045827"></a><em>Enables Diagnostic Mode</em>&#8212;Enables diagnostic mode that provides debugging information to help you resolve simulation issues related to performance or convergence.<br />
<a id="pgfId-1045784"></a><strong>Important Points to Note:</strong><ul><li>
<a id="pgfId-1032422"></a>This form option will have an impact only when you select sst2 as the output format.</li><li>
<a id="pgfId-1096499"></a>If <em>Using colon as Term Delimiter </em>option is selected/deselected, you need to netlist the design.</li><li>
<a id="pgfId-1096504"></a><em>Set Top Circuit as Subcircuit</em><strong></strong>
instructs spectre to netlist the top-level schematic as a subcircuit.</li></ul></li><li>
<a id="pgfId-1079764"></a><em>PinCheck Term Mismatch Action </em>and <em>PinCheck Term Direction Mismatch</em>&#8212;These options are available for spectre netlisting. They are equivalent to the OSS global settings, namely, <code>simCheckTermMismatchAction</code> and <code>simCheckTermDirectionMismatch</code>. The values set in these fields override the global settings for each test. If these values are not set, then global values take precedence. The valid values are <code>default</code>,<code> ignore</code>,<code> warning</code>,<code> </code>and<code> error.</code><br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1084759"></a>Set it to default to use the properties, <code>simCheckTermMismatchAction</code> and <code>simCheckTermDirectionMismatch, </code>specified in <code>.cdsinit </code>or<code> .simrc </code>file. If these properties are not set, then OSS default value, <code>error</code>, is used.</div></li><li>
<a id="pgfId-1096150"></a><em>Preserve</em> <em>Subckt</em> <em>Terminal</em> <em>by</em> <em>Names</em>&#8212;Generates the save statements with the instance ports in name format instead of the default index format<br /><ffi2-fig-frame-in-2 id="#id1096343">
<a id="pgfId-1096343"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="668" height="394" src="images/chap2-40.gif" /></div></li></ul></li></ol>



























































<p>
<a id="pgfId-1032268"></a>For information about how to set the environment options for the AMS simulator, see <a href="chap15.html#93612">Chapter 15, &#8220;Working with AMS Simulator&#8221;</a>. </p>

<h2>
<a id="pgfId-1034983"></a><a id="81312"></a><a id="65281"></a>Setting up Design<a id="21159"></a><a id="designVars"></a> Variables <a id="schematic"></a></h2>

<p>
<a id="pgfId-1038328"></a>You can use design variables and CDF parameters to set component values. <a id="marker-1038322"></a><a id="marker-1038323"></a><a id="marker-1038324"></a><a id="marker-1038325"></a><a id="marker-1038326"></a><a id="marker-1038327"></a></p>
<p>
<a id="pgfId-1038329"></a>Design variable values are always global to the design. The scope of CDF parameter values, however, depends on which Analog Expression Language (AEL) functions you use to refer to the parameter. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1038354"></a>Do not use simulator reserved words as design variable names. For more information, see <a href="chap2.html#37738">Reserved Words</a>.</div>
<p>
<a id="pgfId-1038355"></a>If you use the reserved words for design variables, the following message is displayed:</p>

<p>
<a id="pgfId-1035010"></a></p>
<div class="webflare-div-image">
<img src="images/reservedWordWarning.gif" /></div>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1035015"></a>For AMS UNL, all design variables must be defined prior to the netlisting step.</div>

<h3>
<a id="pgfId-1035016"></a>Adding a New Variable<a id="EditVars"></a></h3>

<p>
<a id="pgfId-1035023"></a>To add a new variable, do one of the following:</p>
<ul><li>
<a id="pgfId-1035024"></a>In the ADE Explorer window, choose <em>Variables &#8211; Edit</em>.</li><li>
<a id="pgfId-1036190"></a>On the Run toolbar, click the Edit Variable ( <img src="images/edit_designVar.gif" /><span> ) button.</span></li><li>
<a id="pgfId-1035847"></a>In the Setup assistant, in the <em>Design Variables</em> section, click the <em>Click to add variable</em> text.<br />
<a id="pgfId-1035848"></a><div class="webflare-div-image">
<img width="311" height="315" src="images/chap2-43.gif" /></div>
<a id="pgfId-1035851"></a>The <em>Editing Design Variables -- ADE Explorer</em><a id="editdesignvars"></a> form appears. <a id="edit design vars"></a><br />
<a id="pgfId-1035031"></a><div class="webflare-div-image">
<img src="images/EditDesignVar.gif" /></div></li></ul>












<p>
<a id="pgfId-1036206"></a>In this form, perform the following steps:</p>
<ul><li>
<a id="pgfId-1035037"></a>Enter the variable name in the <em>Name</em> field.<br />
<a id="pgfId-1035524"></a>The name must begin with a letter and can contain only letters and numbers. If the <em>Name</em> field already contains the name of a variable, click <em>Clear</em>.</li><li>
<a id="pgfId-1041279"></a>Enter a number or an expression in the <em>Value (Expr) </em>field. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1041280"></a>A design variable value can also be a conditional expression containing the ternary operator <code>(?:)</code>. For example, you can use the conditional expression <code>x=((R2&gt;300)?1:0)</code> to compute the value of design variable, <code>x</code>, which depends on the value of R2.</div>
<a id="pgfId-1035526"></a>The expression can be an equation, a function, or another variable. Expression syntax follows <a actuate="user" class="URL" href="../aelref/aelrefTOC.html#firstpage" show="replace" xml:link="simple">AEL</a> syntax. These expressions are evaluated by the simulator. If the value does not have any number before the decimal point, the AMS Designer simulator inserts a leading zero before the decimal point.<br />
<a id="pgfId-1104295"></a>You can also add dependent variables. These are variables based on variables. <br />
<a id="pgfId-1104296"></a>For example, <br />
<a id="pgfId-1104297"></a>Set the values for two variables, <code>V1</code> and <code>V2</code>, as <code>1</code> and <code>V1*2</code> respectively.<br />
<a id="pgfId-1104301"></a><div class="webflare-div-image">
<img width="667" height="159" src="images/chap2-45.gif" /></div>
<a id="pgfId-1104302"></a>These variables are directly written to the netlist, to avoid losing the variable dependencies.<br />
<a id="pgfId-1104306"></a><div class="webflare-div-image">
<img width="668" height="175" src="images/chap2-46.gif" /></div><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1035042"></a>In the GUI, you can now add a variable without specifying any value for it. The value can be assigned to the variable in a file, which is loaded using the definitions file at the time of simulation. As the value of the variable is not specified in the GUI, the simulator flags a warning message as shown below:</div>
<a id="pgfId-1035046"></a><div class="webflare-div-image">
<img src="images/DesignVar_without_value_warning.gif" /></div>
<a id="pgfId-1035047"></a>Click <em>OK</em> to continue the simulation process. Click <em>Cancel</em> to set the value of the design variable.</li></ul>






















<p>
<a id="pgfId-1036218"></a>The following buttons are provided on this form:</p>
<ul><li>
<a id="pgfId-1035748"></a><em>Add</em>&#8212;Creates the variable you have specified in the <em>Selected Variable</em> area.</li><li>
<a id="pgfId-1035749"></a><em>Delete</em>&#8212;Removes a highlighted variable. Click in the list box to highlight a variable.</li><li>
<a id="pgfId-1035750"></a><em>Change</em>&#8212;Updates the highlighted variable with the new information from the <em>Selected Variable</em> area.</li><li>
<a id="pgfId-1035751"></a><em>Next</em>&#8212;Highlights the following signal or expression in the <em>Table of Design Variables</em> list box.</li><li>
<a id="pgfId-1035752"></a><em>Clear</em>&#8212;Empties the <em>Selected Variable</em> area so you can enter a new variable.</li><li>
<a id="pgfId-1035753"></a><em>Find</em>&#8212;Locates the highlighted variable in your design.</li><li>
<a id="pgfId-1035754"></a><em>Cellview Variables</em>&#8212;Keeps variables consistent in the simulation environment and the cellview design database by copying them back and forth.<ul><li>
<a id="pgfId-1035755"></a><em>Copy From</em>&#8212;Copies the variable values in the schematic cellview into the simulation environment.</li><li>
<a id="pgfId-1035739"></a><em>Copy To</em>&#8212;Copies the variable values in the simulation environment to the schematic cellview. </li></ul></li></ul>








<p>
<a id="pgfId-1035051"></a>Additionally, you can also define variables in the definitions file.</p>
<ul><li>
<a id="pgfId-1036235"></a>When you click <em>Add</em>, the new variable appears in the<em> Design Variables</em><strong></strong>
table on the right side of the form. You can drag and drop the design variables up/down within the Design Variables section.</li><li>
<a id="pgfId-1104345"></a>If a design variable contains sweep values, such as <code>vplus=0:2:6</code>, the tooltip over this design variable in the Setup assistant displays nominal as well as sweep values. However, if you open the Edit Design Variables form, the value for this design variable in the Edit Variable form displays only the nominal value.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1041503"></a>If you add a design variable in the schematic and then run the simulation, the design variable automatically gets copied to the ADE Explorer Setup.</div></li></ul>



<h4>
<a id="pgfId-1046044"></a>Exporting Var<a id="exportVars"></a>iables to a CSV File</h4>

<p>
<a id="pgfId-1046060"></a>To export the design variables from the <em>Design Variables</em> section of the Setup assistant to a CSV file:</p>
<ol><li>
<a id="pgfId-1046069"></a>Right-click <em>Design Variables</em> and choose <em>Export to CSV</em>.<br />
<a id="pgfId-1046076"></a>The Export Variables form appears. </li><li>
<a id="pgfId-1046091"></a>In this form, browse to a directory in which you want to save the variables in a CSV file.</li><li>
<a id="pgfId-1046092"></a>Specify the name of the CSV file in the<em> File Name</em> field.</li><li>
<a id="pgfId-1046141"></a>Click <em>Save</em> to close the form and export the variables.</li></ol>




<p>
<a id="pgfId-1046225"></a>All design variables, their values, and enabled or disabled status currently defined in the active setup are saved in the specified CSV file in a standard format, as shown in the example below.</p>

<p>
<a id="pgfId-1046226"></a></p>
<div class="webflare-div-image">
<img src="images/ImportVar_CSV.gif" /></div>
<h4>
<a id="pgfId-1046252"></a>Importing <a id="importVars"></a>Variables from a CSV File</h4>

<p>
<a id="pgfId-1046253"></a>If you already saved variables or design variables in a CSV file, you can import them in the active setup. To import the variables from a CSV file, do the following:</p>
<ol><li>
<a id="pgfId-1046295"></a>Right-click <em>Design Variables</em> and choose <em>Import from CSV</em>.<br />
<a id="pgfId-1046296"></a>The Import Variables form appears. </li><li>
<a id="pgfId-1046297"></a>In this form, browse to a directory from where you want to import the variables saved in a CSV file.</li><li>
<a id="pgfId-1046298"></a>Specify the name of the CSV file in the <em>File Name</em> field.</li><li>
<a id="pgfId-1046342"></a>Click <em>Open</em> to import the variables from the selected CSV file.</li></ol>




<p>
<a id="pgfId-1046350"></a>Note the following points:</p>
<ul><li>
<a id="pgfId-1046351"></a>If a variable already exists with the same name as that of a variable being imported, it is overwritten by the imported variable.</li><li>
<a id="pgfId-1046353"></a>The enabled or disabled status of the imported variable is also imported, and set accordingly.</li><li>
<a id="pgfId-1046491"></a>If you save the global variables in a CSV file using ADE Assembler and then import this CSV file in ADE Explorer, the global variables are imported as design variables and listed in the <em>Design Variables</em> section of ADE Explorer. For more information, see <a actuate="user" class="URL" href="../assembler/asmParameterization.html#importGlobalVars" show="replace" xml:link="simple">Importing Global Variables from a CSV File</a> and <a actuate="user" class="URL" href="../assembler/asmParameterization.html#exportGlobalvars" show="replace" xml:link="simple">Exporting Global Variables to a CSV File</a> in <em>Virtuoso ADE Assembler User Guide</em>.</li><li>
<a id="pgfId-1046431"></a>If the CSV file includes any parametric sets, they are ignored and variables are imported as individual design variables in ADE Explorer.</li></ul>




<h3>
<a id="pgfId-1046344"></a>Editing Values</h3>

<p>
<a id="pgfId-1035058"></a>To edit<a id="editvariables"></a> the value of a design variable, </p>
<ol><li>
<a id="pgfId-1039847"></a>Double click a variable in the Setup assistant and edit the value in the <em>Value</em> field.</li><li>
<a id="pgfId-1036345"></a>In the Editing Design Variables form, click the variable name in the Design Variables table.</li><li>
<a id="pgfId-1036352"></a>Right-click the variable in the Setup assistant and choose <em>Edit Variable</em>.<br />
<a id="pgfId-1035064"></a><div class="webflare-div-image">
<img src="images/EditDesignVar.gif" /></div></li><li>
<a id="pgfId-1035069"></a>Click the variable name in the <em>Design Variables</em> table.<br />
<a id="pgfId-1035070"></a>The value or expression appears in the <em>Value (Expr)</em> field.</li><li>
<a id="pgfId-1035071"></a>Edit the value or expression.</li><li>
<a id="pgfId-1035072"></a>Click <em>Change</em>.</li><li>
<a id="pgfId-1035073"></a>Click <em>Apply</em> or <em>Apply &amp; Run Simulation</em>.</li></ol>












<h3>
<a id="pgfId-1035078"></a>Deleting Values</h3>

<p>
<a id="pgfId-1035082"></a>To delete a design variable,<a id="deleting"></a><a id="marker-1035080"></a><a id="marker-1035081"></a></p>
<ol><li>
<a id="pgfId-1035083"></a>In the Editing Design Variables form, click the variable name in the Design Variables table.</li><li>
<a id="pgfId-1039888"></a>Click the delete button on the Run toolbar.</li><li>
<a id="pgfId-1036395"></a>Select the variable to delete in the <em>Design Variables</em> section of Setup assistant and choose <em>Variables &#8211; Delete</em>.<br />
<a id="pgfId-1035084"></a>To select more than one variable, hold down the <code>Control</code> key while you click the variables, or click and drag the cursor.<br />
<a id="pgfId-1035085"></a>To de-select a highlighted variable, hold down the <code>Control</code> key while you click the variable.</li><li>
<a id="pgfId-1036412"></a>Right-click the variable to delete in the Setup assistant and choose <em>Delete Variable</em>.</li><li>
<a id="pgfId-1036413"></a>Select a variable in the Setup assistant and choose <em>Variables &#8211; Delete</em>.</li></ol>







<h3>
<a id="pgfId-1035115"></a>Copying Values From and To Schematic</h3>

<p>
<a id="pgfId-1035116"></a>If you change variables in the Schematic window and want to use these values in your next simulation,<a id="copying values"></a><a id="marker-1075324"></a><a id="marker-1075325"></a></p>
<ol><li>
<a id="pgfId-1035120"></a>Select the design variable in the Setup assistant and choose <em>Variables &#8211; Edit</em> &#8211; <em>Copy From Cellview</em>.</li><li>
<a id="pgfId-1036457"></a>Right-click a design variable and choose <em>Copy From Cellview</em>.</li><li>
<a id="pgfId-1036477"></a>Click the design variable in the Design Variables table of the Editing Design Variables form and click the <em>Copy From Cellview</em> button.</li></ol>


<p>
<a id="pgfId-1035122"></a>If you change variables in the simulation window and want to copy the values back to the cellview before you save the schematic,</p>
<ol><li>
<a id="pgfId-1036524"></a>Select the design variable in the Setup assistant and choose <em>Variables &#8211; Edit</em> &#8211; <em>Copy To Cellview</em>.</li><li>
<a id="pgfId-1036525"></a>Right-click a design variable and choose <em>Copy To Cellview</em>.</li><li>
<a id="pgfId-1035124"></a>Click the design variable in the Design Variables table of the Editing Design Variables form and click the <em>Copy To CellView</em> button.</li></ol>


<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1035125"></a>Make sure that the schematic and simulation environment variables are consistent with each other. </div>

<h3>
<a id="pgfId-1035126"></a>Displaying Values on the Schematic</h3>

<p>
<a id="pgfId-1035128"></a><a id="Displaying Values"></a>To display the values of instance parameters that are design variables on the schematic,</p>
<ol><li>
<a id="pgfId-1035130"></a>Edit the component&#8217;s CDF with the <a actuate="user" class="URL" href="../cdfuser/cdfuserTOC.html#firstpage" show="replace" xml:link="simple">CDF Editor</a>.</li><li>
<a id="pgfId-1035131"></a>Set <em>paramEvaluate</em> to <em>full</em>.</li></ol>


<h3>
<a id="pgfId-1036602"></a>Finding Design Variables in Schematic</h3>

<p>
<a id="pgfId-1036610"></a>You can search for a design variable in the schematic to identify its location. To find a variable, do the following:</p>
<ul><li>
<a id="pgfId-1036612"></a>In the <em>Design Variables</em> section, right-click a design variable that you want to locate in the schematic and choose <em>Find Variable</em>. </li></ul>
<p>
<a id="pgfId-1036972"></a>If the variable is found in the schematic, the design is opened in the design tab and all the instances are highlighted. </p>
<p>
<a id="pgfId-1036985"></a>In case of a hierarchical design, if the variable is not found in the top level of design, the tool traverses down the hierarchy and highlights the variable in the lower level, where found.</p>
<p>
<a id="pgfId-1036973"></a>If the variable is not found in the schematic, a warning message is displayed in CIW.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1038738"></a>You can drag the design variables to change their order in the Setup assistant.</div>

<h3>
<a id="pgfId-1036604"></a>Performing Parameterization in Design Variables</h3>

<p>
<a id="pgfId-1039467"></a>You can set up a sweep directly in the value field of the design variable in the <code>start:step:stop</code> format. For example, var1= <code>2:1:10</code>, where start value=<code>2</code>, end value=<code>10</code>, and step size=<code>1</code>.</p>
<p>
<a id="pgfId-1035943"></a>To parameterize a design variable, double-click the value of the design variable in the Setup assistant. The ellipses button appears. When you click this button, the Parameterize form appears.</p>

<p>
<a id="pgfId-1035958"></a></p>
<div class="webflare-div-image">
<img src="images/parameterize.gif" /></div>

<p>
<a id="pgfId-1035981"></a>In this form the drop-down at the top consists of the following options:</p>

<p>
<a id="pgfId-1035988"></a></p>
<div class="webflare-div-image">
<img src="images/parameterize1.gif" /></div>

<ul><li>
<a id="pgfId-1036015"></a><em>Inclusion List</em>: Specifies a list of specific points in addition to the range you have specified. You can specify any number of additional points.</li><li>
<a id="pgfId-1036007"></a><em>Exclusion List</em>: Specifies a list of specific points to be excluded from the range you have specified. You can specify any number of points. If a value is specified in both inclusion and exclusion list, the value is excluded from the sweep sets.</li><li>
<a id="pgfId-1036035"></a><em>From/To</em>: Lets you specify the limits of the sweep range with numerical values. If you do not specify any value in the <em>From</em> column, the default value <code>0</code> is taken. If you do not specify any value in the <em>To</em> column, only the start value (specified in the <em>From</em> column) is considered and steps are not calculated. If you do not specify any value in both the <em>From</em> and <em>To</em> columns, simulation is not done and an error is flagged.</li><li>
<a id="pgfId-1036036"></a><em>Center/Span</em>: Lets you specify a center point and the range of values around the center you want to sweep. For example, 
<em>center</em> = 100, <em>span</em> = 20 is equivalent to <em>from</em> = 90, <em>to</em> = 110.</li><li>
<a id="pgfId-1036037"></a><em>Center/Span%</em>: Lets you specify a center point and a range around the center. With this option, you can specify range limits as a percentage of the center value. For example, <em>center</em> = 100, <em>span%</em> = 40 is equivalent to <em>from</em> = 80,<em> to</em> = 120.<br />
<a id="pgfId-1036038"></a>If you do not specify any value in the <em>Center</em> column, the default value <code>0</code> is taken. If you do not specify any value in the <em>Span</em> or <em>Span%</em> column, only the start value (specified in the <em>Center</em> column) is considered and steps are not calculated. If you do not specify any value in both the <em>Center</em> and <em>Span</em> or <em>Span%</em> columns, simulation is not done and an error is flagged.</li></ul>






<h2>
<a id="pgfId-1038454"></a><a id="28379"></a>A<a id="addingNotes"></a>dding Notes</h2>

<p>
<a id="pgfId-1038500"></a>To add notes to a test, do the following:</p>
<ol><li>
<a id="pgfId-1038457"></a>In the Setup assistant, right-click the test name and choose <em>Notes</em>.<br />
<a id="pgfId-1038458"></a>The Add/Edit Notes form appears.<br />
<a id="pgfId-1038462"></a><div class="webflare-div-image">
<img src="images/addNotes.gif" /></div></li><li>
<a id="pgfId-1038463"></a>In the <em>Notes</em> field, add notes for the test.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1038464"></a>By default, the notes field can accept only 512 characters. You can change this limit by setting the <code>maxNotesLength</code> environment variable.</div></li><li>
<a id="pgfId-1038468"></a>Click <em>OK</em>.<br />
<a id="pgfId-1038469"></a>The notes are added to the test details in the ADE Explorer setup database. Similarly, you can add notes for parameters and corners.</li></ol>










<h4><em>
<a id="pgfId-1038475"></a>Important Points to Remember</em></h4>

<ul><li>
<a id="pgfId-1038476"></a>Notes added to a test are visible in the tooltip information, which is displayed when you hover the pointer over a test name on the Data View assistant pane. If the notes are long, only the first 10 rows are displayed in the tooltip by default. You can change this limit by setting the <code>maxNotesRowsDisplay</code> environment variable.</li><li>
<a id="pgfId-1038480"></a>To remove notes added to a test, right-click the test name and choose <em>Delete Notes</em>.</li></ul>


<h2>
<a id="pgfId-1036698"></a><a id="36428"></a>Creating and Displaying Netlists</h2>

<p>
<a id="pgfId-1036700"></a>The <a id="about"></a>ADE Explorer creates or updates the simulator input file automatically when you give the command to run a simulation. <a id="marker-1036701"></a></p>
<p>
<a id="pgfId-1036702"></a>You do not need to use the <em>Netlist &#8211; Create</em> command unless</p>
<ul><li>
<a id="pgfId-1036703"></a>You want to use ADE Explorer to create a netlist but run the simulator in standalone mode</li><li>
<a id="pgfId-1036704"></a>You want to modify the netlist, perhaps to take advantage of features that the design environment interface to your simulator does not support</li><li>
<a id="pgfId-1036705"></a>You want to read the netlist before starting the simulation</li></ul>


<p>
<a id="pgfId-1036706"></a>There are two kinds of files generated for simulation:</p>
<ul><li>
<a id="pgfId-1036707"></a>The netlist, which contains component information but no simulation control data</li><li>
<a id="pgfId-1036708"></a>The simulator input file, which contains both the netlist and the simulator control information required (this file is passed to your simulator)</li></ul>

<p>
<a id="pgfId-1036709"></a>Netlists are hierarchical. They are created incrementally, re-netlist only the changed schematics in a design. All schematics can be forced to re-netlist by using the following commands:</p>
<ul><li>
<a id="pgfId-1039905"></a>Choose <em>Simulation &#8211; Netlist &#8211; Recreate</em>.</li><li>
<a id="pgfId-1039923"></a>Right-click the test name and choose <em>Netlist &#8211; Create or Recreate</em>.</li></ul>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1041382"></a>You can run multi-point simulations in ADE Explorer that generate multiple netlists. However, when you choose the <em>Netlist &#8211; Create/Recreate</em> command, it shows a single point netlist that is created in a temporary directory. While running a simulation, this temporary directory is used as an input to perform <a href="chap2.html#12814">Incremental Netlisting</a>.</div>

<h3>
<a id="pgfId-1036711"></a><a id="92664"></a>The .si<a id="simrc"></a>mrc File</h3>

<p>
<a id="pgfId-1036712"></a>You can use the <code>.simrc</code> file with Spectre during interface initialization to customize netlisting. This file helps you set or override defaults for simulation variables in such a way that the changes affect only your own simulations. The <code>.simrc</code> file is a way to set defaults on a per-user or per-system basis, and no other designer is affected by this file. This file is optional and is loaded if it exists. It is searched for in the following order:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1036713"></a>$SIMRC/.simrc<br />$ossSimUserSiDir/.simrc<br />dfII/local/.simrc<br />Current UNIX directory/.simrc<br />~/.simrc</pre>

<p>
<a id="pgfId-1036714"></a>The search stops at the first place where the file is found. No other <code>.simrc</code> files are loaded unless the load is done from within the first one it finds, allowing for tiered loading or for the local CAD group to alter or disallow the search mechanism. If it does not exist, no error is generated. You can delete the <code>.simrc</code> file if you do not want it to be taken into account while netlisting.</p>

<h3>
<a id="pgfId-1036715"></a><a id="12814"></a>Incremental Netlisting</h3>

<p>
<a id="pgfId-1036716"></a>Incremental netlisting is faster than full hierarchical netlisting because only the schematics that have changed since the previous netlist was generated are re-netlisted. This substantially speeds up netlisting of hierarchical designs containing many small schematics. The system keeps track of the status of each schematic during and between design sessions. </p>

<h3>
<a id="pgfId-1036717"></a>Creating and Displaying a Netlist</h3>

<p>
<a id="pgfId-1036721"></a>To create<a id="generating"></a> and display a new netlist,<a id="marker-1036719"></a><a id="marker-1036720"></a></p>
<ul><li>
<a id="pgfId-1036723"></a>Choose <em>Simulation &#8211; Netlist &#8211; Create</em>.<a id="marker-1036722"></a></li><li>
<a id="pgfId-1039954"></a>Right-click the test name and choose <em>Netlist &#8211; Create</em>.<br />
<a id="pgfId-1036724"></a>The simulator input file is created in a file. The name of the file is <code>input</code> with the simulator-specific extension. For Spectre, the extension is<code>.scs</code>. This file is put in the following directory:</li></ul>



<pre class="webflare-courier-new codeContent">
<a id="pgfId-1036780"></a><code><em> projectDirectory</em></code>/<code><em>topCellName</em></code>/<code><em>simulatorNam</em></code>e/<code><em>view</em></code>/<code>netlist</code>/input.<code><em>ext</em></code></pre>

<ul><li style="list-style-type: none;background-image: none;"><ul><li>
<a id="pgfId-1036781"></a><span class="webflare-courier-new" style="white-space:pre"><em>projectDirectory </em></span>is the directory you specified in the Choosing Simulator form.</li><li>
<a id="pgfId-1036782"></a><span class="webflare-courier-new" style="white-space:pre"><em>topCellName</em></span>  is the root level cell name of the design. </li><li>
<a id="pgfId-1036729"></a><span class="webflare-courier-new" style="white-space:pre"><em>simulatorName </em></span>is the name of the simulator. </li><li>
<a id="pgfId-1036730"></a><span class="webflare-courier-new" style="white-space:pre"><em>view</em></span>  is the view name being netlisted.</li><li>
<a id="pgfId-1036731"></a><span class="webflare-courier-new" style="white-space:pre"><em>ext </em></span>is the simulator-specific extension.</li></ul></li></ul>




<p>
<a id="pgfId-1088959"></a>After successful creation of the netlist file, it is displayed in a new window.</p>
<p>
<a id="pgfId-1036732"></a>To display an existing netlist file, do any of the following: </p>
<ul><li>
<a id="pgfId-1036734"></a>Choose <em>Simulation &#8211; Netlist &#8211; Display</em><a id="marker-1036733"></a></li><li>
<a id="pgfId-1039983"></a>Right-click the test name and choose <em>Netlist &#8211; Display.</em></li></ul>

<p>
<a id="pgfId-1090228"></a>The netlist is displayed in a new window. Review the design components, their connections, and the files to be included in the simulation run. Note that the netlist contains hyperlinks to<code>.scs</code>, <code>.va</code>, <code>.mod</code>, <code>.lib</code>, .<code>dspf</code>, <code>.fl</code>, <code>.vcd</code>, <code>.evcd</code>, <code>.mod</code>, <code>.def</code>, .<code>info</code>, <code>.log</code>, <code>.vec</code>, <code>.v</code>, <code>netlist</code>, <code>pspice</code>, <code>SPEF</code>, and <code>DSPF</code> files.</p>
<p>
<a id="pgfId-1088955"></a>For example, if you have used a model file, you can see a hyperlink pointing to it as highlighted in the following image. </p>

<div class="webflare-div-image">
<img src="images/netlist_scsfile.gif" /></div>

<p>
<a id="pgfId-1088060"></a>Similarly, if you have used a <code>.dspf</code> file, the following image shows a related hyperlink.</p>

<div class="webflare-div-image">
<img src="images/netlist_dspffile.gif" /></div>

<p>
<a id="pgfId-1087838"></a>ADE Explorer creates multiple netlists for a multi-point simulation run. However, when you choose <em>Netlist</em> &#8211; <em>Create</em> or <em>Recreate</em>, only a single-point netlist created in a temporary directory is displayed. </p>
<p>
<a id="pgfId-1089621"></a>If you want to validate the successful creation of the netlist, run the <em>Netlist</em> &#8211; <em>Create</em> command instead of running a simulation. </p>

<h2>
<a id="pgfId-1037428"></a><a id="14477"></a>Variables for Customizing Netlist Generation</h2>

<p>
<a id="pgfId-1037429"></a>You can customize ADE Explorer netlisting by setting the following variables.</p>

<p>
<a id="pgfId-1037459"></a></p>
<table class="webflareTable" id="#id1037430">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1037432">
<a id="pgfId-1037432"></a>Variable </span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1037434">
<a id="pgfId-1037434"></a>Description</span>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037436"></a><code>nlReNetlistAll</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037438"></a>When set to t, all cellviews in the design are re-netlisted, irrespective of the setting specified using the ADE GUI options <em>Create</em> or <em>Recreate</em> in the <em>Simulation &#8211; Netlist</em> submenu. If <code>nlReNetlistAll</code> is not set and has its default value, <code>nil</code>, the ADE GUI netlisting options are used. You can set this variable in the <code>.simrc</code> file.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037440"></a><code>globalGroundNet</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037442"></a>When you use this variable to specify a string, the value specified is considered to be the global ground net and overrides the default analogLib global ground net (gnd!). You can set this variable in <code>.simrc</code> file. This variable is valid for socket direct netlister only.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037445"></a><code>hideGlobalGroundNetMessage</code><a id="hideGlobalGroundNetMessage"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037447"></a>When set to <code>t</code>, this variable suppresses the information messages issued after you change the default value of the <code>globalGroundNet</code> variable.</p>
<p>
<a id="pgfId-1037448"></a>The default value of <code>hideGlobalGroundNetMessage</code> variable is <code>nil</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037450"></a><code>simPropValueNotation</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037452"></a>When set to <code>Engineering</code>, all property values are displayed in engineering notation in the netlist. For Example, a resistance value of <code>1m</code> is displayed as <code>1e-3</code>. If <code>simPropValueNotation</code> is set to <code>Scientific</code>, all property values are displayed in scientific notation in the netlist. For Example, a resistance value of <code>1m</code> is displayed as <code>1.000000000e-03.</code> You can set this variable in si.env file. This variable is valid for socket netlisters only.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037455"></a><code>hnlDynamicFlagOn</code><a id="hnlDynamicFlagOn"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037457"></a>This variable can be set to <code>t</code> or <code>nil</code> in the <code>.cdsinit</code> file. If the variable is not specified, it defaults to <code>nil</code>. If set to <code>t</code>, the parameter values having length more than 8K, which is the maximum limit, are printed in the netlist.</p>
<p>
<a id="pgfId-1037458"></a>If set to <code>nil</code>, the parameter values with length more than 8K are truncated to the maximum limit.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1056108"></a><code>spfHnlMapNetInName</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1056110"></a>Use this variable in the .<code>simrc</code> file to specify mapping rules for bus nets in the net name.</p>
<p>
<a id="pgfId-1078137"></a>For example, you can escape <code>$, ;</code> and <code>: </code>with <code>\</code> in the net names.</p>
<p>
<a id="pgfId-1078138"></a><code>spfHnlMapNetInName =&#160;&#160;&#39;( &quot;$&quot; &quot;;&quot; &quot;:&quot;&#160;&#160;) </code></p>
<p>
<a id="pgfId-1078139"></a>With this setting, net name <code>I0.netA$</code> is printed in the netlist as <code>I0.netA\$</code>.</p>
<p>
<a id="pgfId-1078140"></a>In addition, you can also specify escaping characters if you do not want to use <code>\</code>, as shown below. </p>
<p>
<a id="pgfId-1078141"></a><code>spfHnlMapNetInName =&#160;&#160;&#39;( &quot;$&quot; &quot;,&quot; &quot;;&quot; &quot;:&quot; &quot;=&quot; &quot;/&quot; &quot; &quot; &quot;\t&quot; (&quot;&gt;&quot; &quot;\]&quot;) (&quot;&lt;&quot; &quot;\[&quot;)&#160;&#160;)</code> </p>
<p>
<a id="pgfId-1078142"></a>Here, <code>&lt;</code> and<code> &gt;</code> in net names are mapped to <code>\[ </code>and <code>\]</code>. For example,&#160;&#160;net name <code>I0.net10&lt;0&gt;</code> is mapped to <code>I0.net10\[0\]</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1056121"></a><code>spfHnlMapInstInName</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1056123"></a>Use this variable in the .<code>simrc</code> file to specify mapping rules for iterated instances in the instance name.</p>
<p>
<a id="pgfId-1078029"></a>For example, you can escape a space and <code>/</code> in the instance names with <code>\</code>.</p>
<p>
<a id="pgfId-1078030"></a><code>spfHnlMapInstInName =&#160;&#160;&#39;( &quot; &quot; &quot;/&quot;)</code> </p>
<p>
<a id="pgfId-1078031"></a> With this setting, instance name <code>Y/AN_n</code> is printed in the netlist as <code>Y\/AN_n</code>.</p>
<p>
<a id="pgfId-1078032"></a>In addition, you can also specify escaping characters if you do not want to use <code>\</code> , as shown below. </p>
<p>
<a id="pgfId-1078033"></a><code>spfHnlMapInstInName =&#160;&#160;&#39;(&quot; &quot; &quot;/&quot; (&quot;&gt;&quot; &quot;\]&quot;) (&quot;&lt;&quot; &quot;\[&quot;)&#160;&#160;)</code> </p>
<p>
<a id="pgfId-1078034"></a>For example, instance name <code>Y_n&lt;0&gt;</code> is mapped to <code>Y_n\[0\].</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1101681"></a>nlCustomSubcktModelNameSuffix</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1102562"></a>Use this variable in the .simrc file to add a custom suffix to the model name generated for the subcircuits belonging to the specified library and cell. This avoids conflict with the subcircuit model name in case there is an external spice file bound to the same view.</p>
<p>
<a id="pgfId-1102478"></a>For example, on using the following setting, the ADE netlister prints the subcircuit model name for <code>DiffOpAmp</code> as<code> DiffOpAmp_NoSpiceSuffix</code>, avoiding a clash with the subcircuit model name for <code>DiffOpaAmp</code> in the external spice file included in the HED binding. </p>
<p>
<a id="pgfId-1102150"></a><code>nlCustomSubcktModelNameSuffix</code> <code>=</code> <code>list(list(&quot;Two_Stage_Opamp&quot; &quot;DiffOpAmp&quot; &quot;NoSpiceSuffix&quot;))</code></p>
</td>
</tr>
</tbody></table>
<h2>
<a id="pgfId-1035187"></a><a id="13594"></a>Sett<a id="stimuli"></a>ing up Stimuli </h2>

<p>
<a id="pgfId-1035188"></a>There are three ways to set up stimuli in the simulator:</p>
<ul><li>
<a id="pgfId-1035189"></a>Add source symbols to the schematic </li><li>
<a id="pgfId-1035190"></a>Use the Stimuli Assignment form</li><li>
<a id="pgfId-1035191"></a>Specify a stimulus file</li></ul>



<h3>
<a id="pgfId-1035192"></a>Setting up Stimuli Using the Stimuli Assignment Form<a id="stimuliAssignmentForm"></a></h3>

<p>
<a id="pgfId-1035193"></a>This form is used to define stimuli and assign them to your design. It creates a simulator input file that is used by the simulator. </p>
<p>
<a id="pgfId-1035194"></a>For input stimuli, your top-level schematic must contain input pins for the signals that you plan to set. To use the power stimuli, you must use a global name on a signal (such as vdd!).</p>
<p>
<a id="pgfId-1035195"></a>All sources, whether used for stimulus or for a power supply, are assumed to come from the <code>analogLib</code> library, a library supplied by Cadence. If your sources are located in a different library, you must add the <em>refLibs</em> property to your design library to specify the location of the source information. </p>
<p>
<a id="pgfId-1035196"></a>It involves three steps, that of, setting up the simulation environment for external stimuli, creating a simulator input file, and then generating a stimulus file containing input and power source stimuli in the proper syntax for your simulator.</p>
<ol><li>
<a id="pgfId-1070667"></a>To access libraries other than the default <code>analogLib</code> library for sources:<ol><li>
<a id="pgfId-1035199"></a>From the CIW, choose <em>Tools &#8211; Library Manager</em>.<br />
<a id="pgfId-1035200"></a>The Library Manager: Directory form appears.</li><li>
<a id="pgfId-1035201"></a>Select the library name of the current design.</li><li>
<a id="pgfId-1035202"></a>Choose <em>Edit &#8211; Properties</em>.<br />
<a id="pgfId-1035203"></a>The Library Property Editor form appears.</li><li>
<a id="pgfId-1035204"></a>Verify that the <em>refLibs</em> property has been set to the appropriate library search sequence. This property should be visible in the lower section of the form. </li><li>
<a id="pgfId-1035206"></a>Click <em>OK</em>.<br />
<a id="pgfId-1070844"></a>If there is no <em>refLibs</em> entry, click <em>Add</em> on the Library Property Editor form, add the data specified below,<br />
<a id="pgfId-1035220"></a>In the Add Property form, specify the following property name and characteristics.<br /><table class="webflareTable" id="#id1035207">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035209"></a>Name </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035211"></a><em>refLibs</em></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035213"></a>Type</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035215"></a><em>string</em></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035217"></a>Value </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035219"></a>list of one or more libraries in the required search sequence from left to right</p>
</td>
</tr>
</tbody></table><br />
<a id="pgfId-1035221"></a>The <em>refLibs</em> property and the search list are displayed in the parameter list on the Library Property Editor form.</li><li>
<a id="pgfId-1035222"></a>Click <em>OK</em> to return to the Library Manager form.</li></ol></li><li>
<a id="pgfId-1035223"></a>Choose <em>Setup &#8211; Stimuli </em>in the Simulation window to add stimuli.<br />
<a id="pgfId-1056394"></a>Alternatively, right-click the test name in the Setup Assistant or the Dataview Assistant in ADE Assembler and choose <em>Stimuli</em>.<br />
<a id="pgfId-1056925"></a><div class="webflare-div-image">
<img width="650" height="485" src="images/chap2-55.gif" /></div>
<a id="pgfId-1035226"></a>The <a id="stimform"></a>Stimuli <a id="marker-1056950"></a>Assignment form appears.<br />
<a id="pgfId-1056961"></a><div class="webflare-div-image">
<img width="664" height="382" src="images/chap2-56.gif" /></div></li></ol>

























<p>
<a id="pgfId-1035230"></a>The form consists of two sections:</p>
<ul><li>
<a id="pgfId-1056998"></a>Stimuli Authoring - Creates stimuli and helps you manage them</li><li>
<a id="pgfId-1057017"></a>Pin Assignments - Assigns stimuli to pins and global nets</li></ul>


<h3>
<a id="pgfId-1056594"></a><a id="stimuliauthoring"></a>Creating and Managing Stimuli</h3>

<p>
<a id="pgfId-1057702"></a>You can see the predefined stimuli in this section. These could have been created for the view specified or imported from another design. </p>

<h4>
<a id="pgfId-1068205"></a>Creating Stimuli</h4>

<p>
<a id="pgfId-1056785"></a>To create new stimuli:</p>
<ol><li>
<a id="pgfId-1072558"></a>In the <em>Stimuli Authoring</em> section, select <em>Authoring</em> <code>On</code>. This enables the authoring section of the form and disables pin assignments.</li><li>
<a id="pgfId-1056841"></a>Enter the stimulus name in the text field. The name should be alphanumeric.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1074341"></a>It the stimulus name is illegal, the text field is highlighted in red.</div></li><li>
<a id="pgfId-1058003"></a>Select the type of stimulus.<br />
<a id="pgfId-1061299"></a><table class="webflareTable" id="#id1070960">
<caption style="text-align:left;"><p>
<ft-figtabl-title id="#id1071002">
<a id="pgfId-1071002"></a>Type of stimuli</ft-figtabl-title>
</p></caption>
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1071029"></a>Type</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1071031"></a>Description</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1061412"></a><code>bit</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1061414"></a>Bit</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035239"></a><code>dc</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035241"></a>Direct current</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035243"></a><code>sin</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035245"></a>Sinusoidal waveform</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035247"></a><code>pulse</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035249"></a>Pulse waveform</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035251"></a><code>exp</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035253"></a>Exponential waveform</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035255"></a><code>pwl</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035257"></a>Piecewise linear waveform</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035259"></a><code>pwlf</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035261"></a>Piecewise linear waveform file</p>
</td>
</tr>
</tbody></table></li></ol>







<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1078259"></a>You can browse to find the required files for different types of stimuli.</div>

<p>
<a id="pgfId-1080403"></a></p>
<div class="webflare-div-image">
<img width="504" height="252" src="images/chap2-57.gif" /></div>

<ol><li>
<a id="pgfId-1058033"></a>Specify whether it is a current or voltage source <img width="60" height="32" src="images/chap2-58.gif" /><span>.</span></li><li>
<a id="pgfId-1058096"></a>Modify the values of stimulus parameters.</li><li>
<a id="pgfId-1071947"></a>Select <em>Show </em>in <em>Preview Transient Waveforms </em>to enable <em>Stop Time. </em></li><li>
<a id="pgfId-1075715"></a>Specify the stop time to generate the waveform.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1077418"></a>It can be set using a valid value, design variable or an environment variable <a href="appA.html#21434">stopTime</a>. The default value of this environment variable is 1n.</div></li><li>
<a id="pgfId-1061150"></a>Click <em>Apply</em>.<br />
<a id="pgfId-1061168"></a>Notice a new stimulus entry in the top-left section.</li></ol>







<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1072767"></a>To edit an existing stimulus, you can search a stimulus by its name. Select the stimulus from the list and make required changes.</div>
<p>
<a id="pgfId-1074687"></a>All the stimuli definitions are stored on the path &#8212; <code>&lt;Lib-name&gt;/&lt;Cell-name&gt;/&lt;View-name&gt;/namedStimuli/stimuli.xml</code>.</p>

<h4><em>
<a id="pgfId-1058921"></a>Using Variables to Set Parameters of Stimuli</em></h4>

<p>
<a id="pgfId-1058993"></a>You can use design variable names defined in ADE Explorer to set a parameter value in the stimuli definition. For example, the DC voltage is set to DC1 in the specified stimulus.</p>

<div class="webflare-div-image">
<img width="654" height="188" src="images/chap2-59.gif" /></div>

<p>
<a id="pgfId-1059158"></a>You can also use an expression containing design variables to define a parameter value in stimuli.</p>

<div class="webflare-div-image">
<img width="653" height="189" src="images/chap2-60.gif" /></div>

<p>
<a id="pgfId-1091785"></a>To print the details of the specified parameters under the <em>Stimuli Authoring</em> section to a CSV file, right-click a parameter in the list box and choose <em>Print Parameters to CSV File</em>.</p>

<div class="webflare-div-image">
<img width="668" height="204" src="images/chap2-61.gif" /></div>

<p>
<a id="pgfId-1092129"></a>The <em>Save Parameters to CSV File</em> window is displayed.Either select an existing file or create a new one and specify its name in the <em>Field_name</em> field and select <em>Save</em>. </p>
<p>
<a id="pgfId-1093536"></a>The parameters are then saved in that file in CSV format. </p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1068258"></a>
Any variable added to a stimulus definition in the format <code>VAR(&quot;&lt;myVariable&gt;&quot;) </code>is automatically added to the Design Variables in ADE Explorer or in the Data View Assistant in ADE Assembler. It prompts you to assign values to such variables.</div>

<p class="webflare-indent1">
<a id="pgfId-1081226"></a>If the environment variable, <a actuate="user" class="URL" href="../assembler/appEnvVars.html#autoPromoteVarsToGlobal" show="replace" xml:link="simple">autoPromoteVarsToGlobal</a>, is set to t, the new variable is added to the list of Global variables.</p>

<h4><em>
<a id="pgfId-1061296"></a>Importing Stimuli</em></h4>

<p>
<a id="pgfId-1061447"></a>To import stimuli from other cellviews, follow the steps:</p>
<ol><li>
<a id="pgfId-1061510"></a>In ADE Explorer, choose <em>Session &#8211; Import</em>.</li><li>
<a id="pgfId-1061638"></a>Select the Library, Cell, and View to import their stimuli.</li><li>
<a id="pgfId-1061722"></a>Select the check box, <em>Stimuli</em>.</li></ol>


<p>
<a id="pgfId-1077217"></a>The imported stimuli definitions are appended to the existing stimuli definitions in your view. For example, you have two stimuli definitions, namely, <code>pulse1</code> and <code>vsin1</code> in your design, then you import stimuli from another view. You will still have <code>pulse1</code> and <code>vsin1</code>, and the other stimuli definitions will be added.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1077213"></a>The stimuli assignments can be imported in ADE Explorer. These will overwrite the current assignments.</div>

<p>
<a id="pgfId-1061915"></a></p>
<div class="webflare-div-image">
<img width="505" height="649" src="images/chap2-62.gif" /></div>
<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1078997"></a>
To generate waveforms for all the imported stimuli definitions in one go, run the command maeStmGenerateWaveforms() in CIW. This command also generates waveforms for any stimuli definition that is out of date, for example, a stimulus uses a design variable whose value has now changed.</div>
<h4><em>
<a id="pgfId-1062477"></a>Removing Stimuli</em></h4>

<p>
<a id="pgfId-1074430"></a>Stimuli can be removed from this form. However, there is also a safety net to retrieve the removed stimuli.</p>
<p>
<a id="pgfId-1062512"></a>To remove a stimulus, right-click the stimulus name and select <em>Remove</em>.</p>

<div class="webflare-div-image">
<img width="363" height="254" src="images/chap2-63.gif" /></div>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1090693"></a>If a stimulus is assigned to a pin, the option to remove it from the form is disabled.</div>
<p>
<a id="pgfId-1090798"></a>To display all the removed stimuli, right-click in the <em>Stimuli Authoring</em> section and select <em>Display Removed Stimuli</em>.</p>
<p>
<a id="pgfId-1062988"></a>You can perform the following actions on the removed stimuli:</p>
<ul><li>
<a id="pgfId-1063050"></a>Restore the removed stimuli &#8211;Right-click the stimulus name and select the <em>Restore Stimuli to Original Repository </em>option. This restores the removed stimulus to the original stimuli list. To see the available stimuli, select <em>Display Available Stimuli</em>.</li><li>
<a id="pgfId-1063082"></a>Clear/ Delete the removed stimuli &#8211;Right-click the stimulus name and select <em>Clear - Delete from disk</em>.<br />
<a id="pgfId-1074802"></a><div class="webflare-div-image">
<img width="410" height="206" src="images/chap2-64.gif" /></div></li></ul>





<p>
<a id="pgfId-1074668"></a>The <code>stimuliRemovedNames.xml</code> contains information of the removed stimuli that have not yet been deleted from the disk.</p>
<p>
<a id="pgfId-1087192"></a>The waveform information is stored in the simulation directory. The location of this simulation directory is set by the following cdsenv</p>
<p>
<a id="pgfId-1087349"></a><code>envSetVal(&quot;asimenv.startup&quot; &quot;projectDir&quot; &#39;string &quot;./simulation&quot;)</code></p>
<p>
<a id="pgfId-1087158"></a>It is only created if the <em>Apply</em> button is clicked in the <em>Preview Transient Waveforms</em> section in the <em>Stimuli Assignment</em> form. </p>

<div class="webflare-div-image">
<img width="668" height="206" src="images/chap2-65.gif" /></div>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1087609"></a>you remove stimuli but do not delete them from disk, they remain available for import or export with the associated maestro views.</div>

<h4>
<a id="pgfId-1061587"></a>Editing Stimuli</h4>

<p>
<a id="pgfId-1058703"></a>To edit an existing stimuli:</p>
<ol><li>
<a id="pgfId-1058752"></a>In the <em>Stimuli Authoring</em> section, select <em>Authoring </em><code>On</code>.</li><li>
<a id="pgfId-1058894"></a>Modify the required parameter values.</li><li>
<a id="pgfId-1065420"></a>Regenerate the waveform. To learn about generating waveform, refer to the section <a href="chap2.html#60313">Previewing Stimuli Waveform</a> below.</li><li>
<a id="pgfId-1061132"></a>Click <em>Apply</em>.<br /><div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1061305"></a>
Click <em>Default</em> to reset the stimulus parameters to their default values from the CDF.</div>
<a id="pgfId-1080913"></a><div class="webflare-div-image">
<img width="653" height="188" src="images/chap2-66.gif" /></div></li></ol>







<h4>
<a id="pgfId-1057128"></a>Creating Copy of Existing Stimuli</h4>

<p>
<a id="pgfId-1068619"></a>To create a copy of an existing stimulus, follow these steps:</p>
<ol><li>
<a id="pgfId-1075447"></a>Select the stimulus in <em>Stimuli Authoring</em> section.</li><li>
<a id="pgfId-1075505"></a>Select <em>Authoring </em><code>On.</code></li><li>
<a id="pgfId-1075530"></a>Rename the stimulus.<br />
<a id="pgfId-1075441"></a>You can edit its parameters values and save as a new stimulus.</li></ol>




<h4>
<a id="pgfId-1091955"></a>Printing the Stimuli details to a CSV file</h4>

<p>
<a id="pgfId-1090801"></a>To print the stimuli details to a CSV file, follow these steps:</p>
<ol><li>
<a id="pgfId-1093071"></a>Right-click a stimuli entry in the list box under the <em>Stimuli Authoring</em> section and choose <em>Print Stimuli to CSV File.</em> <br /><div class="webflare-div-image">
<img width="668" height="254" src="images/chap2-67.gif" /></div></li><li>
<a id="pgfId-1092004"></a>The <em>Save Stimuli CSV File</em> window is displayed. Either select an existing file or create a new one and specify its name in the <em>File_name</em> field and click <em>Save</em>. <br />
<a id="pgfId-1093528"></a>The contents of the list box will then be saved in that file in CSV format.<br /><div class="webflare-information-macro webflare-macro-tip">
<a id="pgfId-1061425"></a>
To edit stimuli, you can filter them according to their type or source to identify the most relevant set of stimuli for you.</div>
<a id="pgfId-1061900"></a><div class="webflare-div-image">
<img width="326" height="228" src="images/chap2-68.gif" /></div></li></ol>









<h4>
<a id="pgfId-1057174"></a><a id="60313"></a>Previewing Stimuli Waveform</h4>

<p>
<a id="pgfId-1072956"></a>To preview a stimulus created, follow the steps:</p>
<ol><li>
<a id="pgfId-1073011"></a>Ensure that the form is in authoring mode. To do this select <em>Authoring </em><code>On.</code></li><li>
<a id="pgfId-1073093"></a>Select <em>Show </em>in <em>Preview Transient Waveforms.</em></li><li>
<a id="pgfId-1073215"></a>It opens the<em> Variable Preview </em>table that shows all the variables and their respective values.<br />
<a id="pgfId-1073408"></a><div class="webflare-div-image">
<img width="668" height="243" src="images/chap2-69.gif" /></div></li><li>
<a id="pgfId-1073384"></a>Select one or more rows in the <em>Variable Preview</em> table and click <img width="68" height="30" src="images/chap2-70.gif" />
.<br />
<a id="pgfId-1073517"></a>It generates a Virtuoso Visualization &amp; Analysis XL preview of the selected stimulus.<br />
<a id="pgfId-1078438"></a><div class="webflare-div-image">
<img width="668" height="476" src="images/chap2-71.gif" /></div></li></ol>














<p>
<a id="pgfId-1073607"></a>Alternatively, you can use the function <a href="../maeSKILLref/maestroSKILL.html#maeStmGenerateWaveforms">maeStmGenerateWaveforms()</a> in CIW to generate waveforms in a batch mode for all the stimuli added to a maestro cellview. </p>
<p class="webflare-indent1">
<a id="pgfId-1060891"></a><strong><em>Important Points</em></strong></p>
<ul><li style="list-style-type: none;background-image: none;"><ul><li>
<a id="pgfId-1059282"></a>The <em>Wave Status</em> shows a green tick <img width="120" height="29" src="images/chap2-72.gif" />
 to indicate that the waveform is generated successfully for the specified stimuli.</li><li>
<a id="pgfId-1059479"></a>The Wave Status shows a warning sign <img width="111" height="26" src="images/chap2-73.gif" /><span> if the waveform for the specified stimuli is not generated.</span></li></ul></li></ul>




<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1061052"></a><a id="sweepStimuli"></a>You can select multiple sweeps of design variables defined in ADE Explorer. These are displayed, irrespective of whether they have been used in the stimulus definition or not.</div>

<p>
<a id="pgfId-1073617"></a></p>
<div class="webflare-div-image">
<img width="641" height="265" src="images/chap2-74.gif" /></div>

<p>
<a id="pgfId-1077168"></a>If there are design variables in Explorer which are defined in quotes, such as &quot;<code>aaaa</code>&quot;. They remain hidden from the <em>Variable Preview</em> table as quotes are not supported by the Simulator. The variables defined in quotes are not supported and are hidden from the table, to see these variables right click the header to select the columns or select to see all of them.</p>
<p>
<a id="pgfId-1073614"></a>From the example above, the swept values of <code>V1 </code>are displayed below.</p>

<div class="webflare-div-image">
<img width="584" height="331" src="images/chap2-75.gif" /></div>

<p>
<a id="pgfId-1073891"></a>If the Stimuli Authoring is in Off mode, you can select the stimuli and perform either of the following actions:</p>
<ul><li>
<a id="pgfId-1074104"></a>Click <em>Plot</em> <img width="31" height="28" src="images/chap2-76.gif" />
.</li><li>
<a id="pgfId-1074125"></a>Right-click in <em>Stimuli Authoring</em> section and select <em>Plot transient waveform</em>.<br /><div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1076004"></a>
The waveforms are saved in PSF format in the project directory.</div></li></ul>





<h4><em>
<a id="pgfId-1059279"></a><a id="waveformlogs"></a>Waveform Generation Status</em></h4>

<p>
<a id="pgfId-1060027"></a>Click <em>Wave Status</em> in the bottom of the <em>Stimuli Authoring</em> section, to see the log file in the <em>Waveform Generation Status</em> message box.</p>

<p>
<a id="pgfId-1060054"></a></p>
<div class="webflare-div-image">
<img width="652" height="320" src="images/chap2-77.gif" /></div>

<p>
<a id="pgfId-1060039"></a>You can check information related to generating waveforms in the following ways.</p>
<ul><li>
<a id="pgfId-1060128"></a>Simulator Log &#8212; Contains log information related to the simulator.</li><li>
<a id="pgfId-1060146"></a>Graphical Stimuli File &#8212; Contains stimuli definitions that are included in the netlist.<br />
<a id="pgfId-1073786"></a><div class="webflare-div-image">
<img width="514" height="271" src="images/chap2-78.gif" /></div><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1066957"></a>The path to the netlist and psf directory is also shown in the <em>Waveform Generation Status</em>.</div></li><li>
<a id="pgfId-1060170"></a>Variables (ParamSet)&#8212; Contains the list of all sweeps points in the design variables defined in ADE Explorer.<br />
<a id="pgfId-1068932"></a><div class="webflare-div-image">
<img width="644" height="285" src="images/chap2-79.gif" /></div></li></ul>










<h4>
<a id="pgfId-1057334"></a><a id="pinassignment"></a>Assigning Stimuli</h4>

<p>
<a id="pgfId-1069171"></a>You can assign stimuli to pins, buses and global nets in the specified design. The <em>Stimuli Authoring</em> mode must be set to <code>Off</code> to assign stimuli or preview stimuli on pins, buses or nets.</p>
<p>
<a id="pgfId-1075081"></a>All these design components are automatically fetched and are visible as a list in this section.You can run the simulation in ADE Explorer after pin assignments are completed.</p>

<div class="webflare-div-image">
<img width="668" height="285" src="images/chap2-80.gif" /></div>

<p>
<a id="pgfId-1092485"></a>To print the pin assignment table to a CSV file, right-click a pin name and select <em>Print to CSV File</em>.</p>

<div class="webflare-div-image">
<img width="668" height="355" src="images/chap2-81.gif" /></div>

<p>
<a id="pgfId-1092656"></a>The <em>Save Pin Assignments Table To CSV File</em> window is displayed.Either select an existing file or create a new one and specify its name in the <em>Field_name</em> field and click <em>Save</em>.</p>
<p>
<a id="pgfId-1093522"></a>The contents of the pin assignments section will then be saved in that file in CSV format.</p>
<p>
<a id="pgfId-1069355"></a><a id="54706"></a>Assigning Stimuli to Pins</p>
<p>
<a id="pgfId-1056653"></a>To assign a stimulus to a pin in a schematic, perform the following steps:</p>
<ol><li>
<a id="pgfId-1078729"></a>Select a stimulus from <em>Stimuli Authoring</em> section for an input signal.</li><li>
<a id="pgfId-1078909"></a>Select an input pin in the <em>Pin Assignments</em> section.<br /><div class="webflare-information-macro webflare-macro-tip">
<a id="pgfId-1035235"></a>
You can select <em>Show Unassigned Pins</em> check box to filter to display the pins which do not have any stimuli applied to them.</div>
<a id="pgfId-1078366"></a><div class="webflare-div-image">
<img width="668" height="100" src="images/chap2-82.gif" /></div></li><li>
<a id="pgfId-1069473"></a>Click <img width="28" height="31" src="images/chap2-83.gif" /><span>.</span><br />
<a id="pgfId-1069492"></a>Alternatively, select the stimulus, and then, right-click the pin. Select <em>Assign Stimuli to Selected Pins</em> option.<br />
<a id="pgfId-1069497"></a>You can perform the above steps to assign stimuli to more than one pin.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1069546"></a>You can see the pin with an assigned stimulus in the schematic by selecting the pin and clicking <img width="34" height="31" src="images/chap2-84.gif" /><span>.</span></div><br />
<a id="pgfId-1069569"></a><strong><em>Important Points to note:</em></strong><ul><li>
<a id="pgfId-1066987"></a>The <em>Pin Assignment Status</em> shows the <code>total number of pins assigned</code> / <code>total number of pins in the design</code>. It also indicates the number of disabled pins. These numbers also include the bus bits in your design.<br />
<a id="pgfId-1067235"></a><div class="webflare-div-image">
<img width="421" height="37" src="images/chap2-85.gif" /></div></li><li>
<a id="pgfId-1064904"></a>The warning icon near Pins indicates that there are enabled pins in the design which do not have assigned stimuli.</li><li>
<a id="pgfId-1071448"></a>The warning icon near Globals indicates that there are enabled global sources in the design which do not have assigned stimuli.<br /><ffi2-fig-frame-in-2 id="#id1071588">
<a id="pgfId-1071588"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="206" height="45" src="images/chap2-86.gif" /></div></li><li>
<a id="pgfId-1064687"></a>Once all pins are assigned stimuli, a green tick appears next to pins<img width="94" height="30" src="images/chap2-87.gif" /><span>. This is applicable to global sources as well.</span></li></ul></li></ol>

























<h4><em>
<a id="pgfId-1069397"></a>Assigning Stimuli to Global Sources</em></h4>

<p>
<a id="pgfId-1035275"></a>To assign stimulus to global sources, select <em>Globals</em> and repeat the steps as explained in the section <a href="chap2.html#54706">Assigning Stimuli to Pins</a>.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1065167"></a>Global signals should be set to only DC sources.</div>

<h4><em>
<a id="pgfId-1078989"></a>Assigning Stimuli to Bus Bits</em></h4>

<p>
<a id="pgfId-1069755"></a>You can either assign the same stimulus on all the bus bits or different stimuli on different bus bits.</p>
<p>
<a id="pgfId-1069861"></a>To assign the same stimulus to bus bits:</p>
<ol><li>
<a id="pgfId-1069930"></a>Select a stimulus from the <em>Stimuli Authoring</em> section.</li><li>
<a id="pgfId-1066425"></a>Select a bus in the <em>Pin Assignment</em> section.</li><li>
<a id="pgfId-1069925"></a>Click <img width="33" height="35" src="images/chap2-88.gif" /><span>.</span></li></ol>



<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1087059"></a>Press <code>+</code> to see all the children bus bits contained in a bus.</div>
<p>
<a id="pgfId-1066347"></a>To assign different stimuli on the bus bits, perform the following steps for each bus bit:</p>
<ol><li>
<a id="pgfId-1066538"></a>Select a stimulus from the <em>Stimuli Authoring</em> section.</li><li>
<a id="pgfId-1069978"></a>Select the required bus bit in the <em>Pin Assignment</em> section.</li><li>
<a id="pgfId-1069983"></a>Click <img width="30" height="35" src="images/chap2-89.gif" /><span>.</span></li></ol>


<div class="webflare-information-macro webflare-macro-video">
<a id="pgfId-1094790"></a>
To know more, see the video, Creating a Bus from Stimuli Assignment Form that is available on Cadence Online Support</div>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1066609"></a>To disable a bus bit, right-click the bus bit and select <em>Disable Selected</em>.</div>

<p>
<a id="pgfId-1067682"></a></p>
<div class="webflare-div-image">
<img width="668" height="355" src="images/chap2-91.gif" /></div>
<div class="webflare-information-macro webflare-macro-tip">
<a id="pgfId-1066934"></a>
While you are working on pin assignments, you can use the commands in the context menu in the <em>Pin Assignments</em> section.</div>
<ffi2-fig-frame-in-2 id="#id1086465">
<a id="pgfId-1086465"></a></ffi2-fig-frame-in-2>
<div class="webflare-div-image">
<img width="287" height="357" src="images/chap2-92.gif" /></div>

<p>
<a id="pgfId-1086470"></a></p>
<table class="webflareTable" id="#id1085660">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085370"></a>Right-click Menu Option</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085372"></a>Description</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085374"></a><em>Assign Stimuli (FORCE) to All Bus Children</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085376"></a>Forces the assignment of all bits of a bus to its children bits</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085378"></a><em>Assign Stimuli to Unassigned Bus Children</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085380"></a>Assigns all the unassigned bus bits</p>
</td>
</tr>
</tbody></table>
<p>
<a id="pgfId-1086514"></a>Consider a scenario, if all the children buses are unassigned, you can choose the parent bus and select a stimulus. All the children bus bits will be assigned. But, if you do it again you will not be able to assign stimulus because the children bus bits in the parent bus have already been assigned a stimulus. In this case you need to select <em>Assign Stimuli (FORCE) to All Bus Children</em>. This overwrites the new stimulus assignment on the children bits.</p>
<p>
<a id="pgfId-1086516"></a>In another scenario, if the bus is partially assigned, which means some children bits are assigned stimuli and the other bits are unassigned. You can choose a stimulus and the bus and select <em>Assign Stimuli to Unassigned Bus Children</em>. This way, the unassigned bits will be assigned the selected stimulus. The previously assigned children bits continue to carry the old stimulus.</p>
<p>
<a id="pgfId-1070166"></a>The description of stimuli status of parent bus bits:</p>
<ul><li>
<a id="pgfId-1085965"></a>Unassigned&#8211;All its children bits are unassigned</li><li>
<a id="pgfId-1085995"></a>Partial&#8211;Some of its children bits are unassigned</li><li>
<a id="pgfId-1086004"></a>Various&#8211;All the children bits are assigned, but they are assigned different stimuli</li><li>
<a id="pgfId-1086016"></a>&lt;Stimulus_Name&gt;&#8211;All the children bits are assigned the same stimulus.</li></ul>




<h4><em>
<a id="pgfId-1070151"></a>Plotting Waveforms for Assigned Stimuli</em></h4>

<p>
<a id="pgfId-1064180"></a>To plot the waveforms for stimuli assigned to pins, bus, or bus bits, select all the pins in the <em>Pin Assignments</em> section. Right-click and select <em>Plot transient waveform for assigned stimuli</em>.</p>
<p>
<a id="pgfId-1064372"></a>This enables a visual check on the stimuli assigned to each pin and bus bit in the design.</p>
<p>
<a id="pgfId-1067261"></a>When you click <em>OK</em> on the Stimuli Assignment form, it checks whether all the enabled pins have stimuli assigned. If yes, it successfully saves it. Otherwise, it generates a warning message suggesting that you save and apply incomplete stimuli assignments in the design, which can lead to errors during netlist generation.</p>

<h3>
<a id="pgfId-1035295"></a>Specifying a Stimulus File</h3>

<p>
<a id="pgfId-1035298"></a><a id="stimoverview"></a>Stim<a id="marker-1035297"></a>ulus files let you add lines of code to the simulator input file that the analog circuit design environment generates. The stimulus file can be used to include input and power supply stimuli, initializing nodes, or including estimated parasitics in the netlist.<a id="marker-1035299"></a> <a id="marker-1035300"></a><a id="marker-1035301"></a></p>
<p>
<a id="pgfId-1035302"></a>You can specify a stimulus file by using the Simulation Files Setup form. </p>

<h3>
<a id="pgfId-1035303"></a>Example of a Spectre Stimulus File </h3>

<p>
<a id="pgfId-1035304"></a>The file <code>opampStimuli.scs</code> in <code>tools/dfII/samples/artist/models/spectre</code> is an example of a stimulus file that can be used for the <code>opamp</code> example in the <code>aExample</code> library. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1035305"></a>simulator lang=spectre</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1035306"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1035307"></a>_v1 ([#inp] 0) type=sin freq=1k ampl=1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1035308"></a>_v2 ([#inm] 0) type=dc dc=0</pre>
<h2>
<a id="pgfId-1040844"></a><a id="59399"></a>Setting u<a id="cosimSpectre"></a>p Cosimulation Options</h2>

<p>
<a id="pgfId-1040845"></a>To set up the cosimulation options when the simulatior is spectre, choose <em>Setup &#8211; MATLAB/Simulink &#8211; Setting</em>. The Cosimulation Options form appears.</p>

<p>
<a id="pgfId-1040854"></a></p>
<div class="webflare-div-image">
<img src="images/cosim_options.gif" /></div>

<ol><li>
<a id="pgfId-1040888"></a>In the <em>BASIC SETTING</em> section, specify the following fields:<ul><li>
<a id="pgfId-1041048"></a>In the <em>Cosimulation inputs</em> field, select the source instance from the schematic as input </li><li>
<a id="pgfId-1041132"></a>In the <em>Cosimulation outputs</em> field, select the source a net or terminal from the schematic as output.</li><li>
<a id="pgfId-1041133"></a>In the <em>Cosimulation socket port</em>, specify the socket port number.</li><li>
<a id="pgfId-1041102"></a>In the <em>Cosimulation timeout</em> field, specify the timeout value. The default value is 60 secs.</li><li>
<a id="pgfId-1041103"></a>In the <em>MATLAB start host</em> field, select the localhost option or specify a remote host name.</li></ul></li><li>
<a id="pgfId-1041104"></a>In the <em>ADDITIONAL SETTING</em> section, specify the following fields:<ul><li>
<a id="pgfId-1040928"></a>In the <em>MATLAB start command</em> field, enter the command for starting MATLAB. The default command to start MATLAB is <code>&#8220;</code>matlab&#8221;. You can enter any other command along with the command-line argument. </li><li>
<a id="pgfId-1040889"></a>In the <em>MATLAB startup directory</em> field, enter the path to the directory where matlab is launched in the </li><li>
<a id="pgfId-1040985"></a>In the <em>MATLAB design name</em> field, enter the path to the MATLAB design.</li><li>
<a id="pgfId-1040987"></a>Select one of the following options to start the Matlab:<br />
<a id="pgfId-1040910"></a><table class="webflareTable" id="#id1040893">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1040895">
<a id="pgfId-1040895"></a>Select</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1040897">
<a id="pgfId-1040897"></a>If</span>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1040899"></a><em>no</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1040901"></a>If you select no option in Start MATLAB, MATLAB will not be started. This may be useful if you want to keep same form setup but do not want to run cosimulation or if you want to start MATLAB yourself, independent of ADE.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1040903"></a><em>before Simulation</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1040905"></a>Select this option if you want to start MATLAB automatically, After you select this option, all the fields in the form are enabled. To run Simulink simulation automatically, you need to have a startup.m file that contains the sim() command in the directory, which is specified in the MATLAB startup directory field.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1040907"></a><em>now</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1040909"></a>Select this option if you want to launch MATLAB manually. The Start button appears that you can click to launch MATLAB.</p>
</td>
</tr>
</tbody></table></li></ul></li><li>
<a id="pgfId-1041168"></a>Select the <em>Enabled</em> check box to enable cosiumation and click <em>OK</em>.</li></ol>















<p>
<a id="pgfId-1040880"></a></p>

<h2>
<a id="pgfId-1040849"></a><a id="78186"></a><a id="62820"></a>Setting <a id="MDL_form"></a>
up MDL Mode</h2>

<p>
<a id="pgfId-1038218"></a>You can use the MDL mode to import an MDL control file in ADE Explorer environment. The MDL control file includes a script that defines measurements.</p>
<p>
<a id="pgfId-1038219"></a>Perform the following steps to enable and setup the MDL mode: </p>
<ol><li>
<a id="pgfId-1038220"></a>Choose <em>Simulation &#8212; MDL Control</em>.<br />
<a id="pgfId-1038221"></a>The <em>MDL Control Options</em> form appears.<br />
<a id="pgfId-1038225"></a><div class="webflare-div-image">
<img src="images/MDLControl.gif" /></div></li><li>
<a id="pgfId-1038226"></a>Select the <em>Enable MDL Mode</em> check box to enable the MDL mode.</li><li>
<a id="pgfId-1038227"></a>In the <em>MDL Control File</em> field, select one of the following options to specify the source of the MDL file:<ul><li>
<a id="pgfId-1038228"></a><code>From File</code>&#8212;When you select this option, the <em>File Path</em> field appears, in which you specify the file path. <br />
<a id="pgfId-1038229"></a>Alternatively, click the ellipses button to locate the file.</li><li>
<a id="pgfId-1038234"></a><code>From Cellview</code>&#8212;When you select this option, the <em>Library</em>, <em>Cell</em>, and <em>View</em> drop-down list boxes appear, in which you select the required library, cell, and view names. <br />
<a id="pgfId-1038235"></a>Alternatively, click the ellipses button to locate the view.<br /><ffi2-fig-frame-in-2 id="#id1038239">
<a id="pgfId-1038239"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img src="images/MDL_fromCellView.gif" /></div></li></ul></li><li>
<a id="pgfId-1038240"></a>Click <em>View</em> to view the MDL file in read-only mode.</li><li>
<a id="pgfId-1038241"></a>Click <em>Edit</em> to open the MDL file for editing. <br />
<a id="pgfId-1038242"></a>The MDL file opens in the default text editor set in Virtuoso.</li><li>
<a id="pgfId-1038243"></a>In the <em>Format</em> field, choose one of the following formats to be used in calculations. The <em>Format</em> field specifies the notation style and default number of significant digits for the measured results.<ul><li>
<a id="pgfId-1038244"></a><code>Default</code>&#8212;Displays the result in suffix notation. <br />
<a id="pgfId-1038245"></a>For example, <code>5.802m</code> is displayed as <code>5.802m</code> when number of significant digits is 4. </li><li>
<a id="pgfId-1038246"></a><code>Precision</code>&#8212;Displays the result in scientific notation and sets the maximum number of significant digits to be printed for <code>g</code>, <code>G</code>, <code>S</code>, and <code>s</code> types; or the number of decimal digits to be printed for <code>e</code>, <code>E</code>, and<code> f</code> types. <br />
<a id="pgfId-1038247"></a>For example,<code> %.15g</code> outputs the measured value to 15 significant digits.</li><li>
<a id="pgfId-1038248"></a><code>Engineering</code>&#8212;Displays the result in engineering notation and specifies the number of significant digits of the signal value output to the measurement file. <br />
<a id="pgfId-1038249"></a>For example, <code>6</code> outputs the signal value to six significant digits.</li></ul></li><li>
<a id="pgfId-1038250"></a>In the <em>Additional Options</em> field, specify the additional options. </li><li>
<a id="pgfId-1038251"></a>Click <em>Default </em>to set all the options to back to their default values.</li><li>
<a id="pgfId-1038252"></a>Click <em>Apply</em> to save the settings, and click <em>OK</em> to save the settings and close the form.</li></ol>




































<p>
<a id="pgfId-1038254"></a>For more information, see <em><a actuate="user" class="URL" href="../mdlref/mdlrefTOC.html#firstpage" show="replace" xml:link="simple">Virtuoso Simulator Measurement Description Language User Guide and reference</a></em>.</p>

<h3>
<a id="pgfId-1038620"></a><a id="81063"></a>Saving<a id="SaveAs"></a> the Current Setup</h3>

<p>
<a id="pgfId-1038641"></a>To save the current ADE Explorer setup, do one of the following:</p>
<ul><li>
<a id="pgfId-1038648"></a><em>Session &#8211; Save</em>. The existing cellview is overwritten with the settings you defined in the current session.</li><li>
<a id="pgfId-1038655"></a><em>Session &#8211; Save A Copy</em>. The Save A Copy form appears. <br />
<a id="pgfId-1038665"></a><div class="webflare-div-image">
<img width="516" height="353" src="images/chap2-96.gif" /></div></li></ul>





<p>
<a id="pgfId-1042699"></a>In the <em>Select Destination</em> section, select the following:</p>
<ul><li>
<a id="pgfId-1042700"></a>In the <em>Library</em> field, select a library name to which you want to save the setup. </li><li>
<a id="pgfId-1042701"></a>In the <em>Cell</em> field, select a cell name from the specified library.</li><li>
<a id="pgfId-1042702"></a>In the <em>View</em> field, specify a view name in which you want to save the current ADE Explorer setup.<br />
<a id="pgfId-1042735"></a>By default, these fields display the library and cell that are currently opened in ADE Explorer. Notice that the new view name is similar to the current view name, such as <code>maestro_1</code>, as highlighted in the above figure. You can also specify a new view name.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1042703"></a>Alternatively, click the <em>Browse</em> button to select the library, cell, and view using the Library Browser &#8211; Save a Copy form, as shown in the figure below. By default, the view name changes to <code>maestro_n</code>.</div>
<a id="pgfId-1042802"></a><div class="webflare-div-image">
<img src="images/SaveACopy_1.gif" /></div></li></ul>








<p>
<a id="pgfId-1042661"></a>Click the <em>Close</em> button to close this form. The selected library, cell, and view are displayed in the respective fields in the Save a Copy form.</p>
<ul><li>
<a id="pgfId-1042866"></a>In the <em>What to Save</em> section, do the following:<ul><li>
<a id="pgfId-1042867"></a>In the <em>Basic </em>sub-section, click the arrow symbol to view the basic setup options that you can save, such as Analyses, Outputs, Model Setup, and so on. To select all options, click the <em>Select All</em> button. To clear the selection of all options, click the <em>Clear All</em> button (see the figure below)</li><li>
<a id="pgfId-1042868"></a>Similarly, in the <em>Advanced</em> sub-section, click the arrow symbol to view the advanced setup options that you can save, such as Subckt Inst, Operating Points, Environment Options, and so on. To select all options, click the <em>Select All </em>button. To clear the selection of all options, click the <em>Clear All </em>button (see the figure below).</li></ul><br />
<a id="pgfId-1042684"></a>By default, all the options in the <em>Basic</em> and <em>Advanced</em> sub-sections are automatically selected when you specify a library, cell, and view. For more information about these options, see <a href="chap2.html#77388">Load and Save Options</a>.<br />
<a id="pgfId-1042886"></a><div class="webflare-div-image">
<img width="640" height="379" src="images/chap2-98.gif" /></div></li><li>
<a id="pgfId-1042949"></a>Expand the <em>Description</em> field and provide notes about the setup you are saving.</li><li>
<a id="pgfId-1042957"></a>Click <em>Apply</em> to save the specified setup and then click <em>OK</em> to close this form. <br />
<a id="pgfId-1043069"></a>The selected design and settings are saved in the specified cellview. For example, the figure below shows that a new cellview, <code>maestro_1</code>, is added for the specified library and cell in the Library Manager.<br />
<a id="pgfId-1043144"></a><div class="webflare-div-image">
<img width="587" height="200" src="images/chap2-99.gif" /></div></li></ul>













<h3>
<a id="pgfId-1043146"></a><a id="48268"></a>Import<a id="importSetup"></a>ing a Saved Setup </h3>

<p>
<a id="pgfId-1043097"></a>You can import the setup in ADE Explorer that you had previously saved using ADE Explorer or Assembler. In this case, you do not need to close the current ADE Explorer window to open a new setup and you can directly import another existing setup in the same window. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1043825"></a>Unlike ADE Assembler, the design and simulator settings cannot be imported in ADE Explorer.</div>

<div class="webflare-information-macro webflare-macro-video">
<a id="pgfId-1045516"></a>
The video <a actuate="user" class="URL" href="https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1Od0000005xGaUEAU&amp;pageName=ArticleContent&amp;sq=005d0000001T44HAAS_2017116102118647" show="replace" xml:link="simple">Saving and Importing a Setup</a> is available on Cadence Online Support demonstrates how to save the current setup in ADE Explorer and how to import a saved setup in ADE Explorer.</div>

<p>
<a id="pgfId-1042063"></a>To import a previously saved setup:</p>

<ul><li>
<a id="pgfId-1042074"></a>Choose <em>Session &#8211; Import</em>.<br />
<a id="pgfId-1042099"></a>The Import Setup form appears.<br />
<a id="pgfId-1042100"></a><div class="webflare-div-image">
<img src="images/import_setup.gif" /></div></li></ul>






<p>
<a id="pgfId-1042286"></a>In the <em>Select Design</em> section, select the following:</p>
<ul><li>
<a id="pgfId-1042126"></a>In the <em>Library</em> field, select a library name from which you want to import the setup. </li><li>
<a id="pgfId-1042135"></a>In the <em>Cell</em> field, select a cell name from the specified library.</li><li>
<a id="pgfId-1042142"></a>In the <em>View</em> field, select a view name that you want to import.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1042160"></a>Alternatively, click the <em>Browse</em> button to select the library, cell, and view using the Library Browser &#8211; Import Setup form, as shown in the figure below. Only views of type <code>maestro</code> are displayed in the Library Manager.</div>
<a id="pgfId-1042177"></a><div class="webflare-div-image">
<img src="images/import_setup1.gif" /></div>
<a id="pgfId-1042232"></a>Click the <em>Close</em> button to close this form. The selected library, cell, and view are displayed in the respective fields in the Import Setup form.</li><li>
<a id="pgfId-1042233"></a>In the <em>History</em> drop-down list, select a saved setup history that you want to import. The <code>Active</code> history indicates the current setup. This field becomes active only when the library, cell, and view information is selected in the form. <br />
<a id="pgfId-1042243"></a><div class="webflare-div-image">
<img src="images/import_setup2.gif" /></div></li><li>
<a id="pgfId-1042841"></a>In the <em>Test</em> drop-down list, select the test that you want to import. Multiple tests are available when the <code>maestro</code> cellview is created using ADE Assembler. When the selected design does not have a test available for importing, a warning message appears.<br />
<a id="pgfId-1043540"></a>When you have multiple tests available, only components specific to the selected test are overwritten, while the components that are applicable for other tests and the current maestro view remain unchanged. If the setup includes conflicting corners, they will be uniquely renamed. For example, suppose you have two maestro views:<ul><li>
<a id="pgfId-1043729"></a><code>maestro_1</code>, with tests <code>T1</code> and <code>T2</code>. <code>T1</code> includes a corner, <code>C1</code>, <code>T2</code> includes a corner, <code>C2</code>. </li><li>
<a id="pgfId-1043730"></a><code>maestro_2</code>, with test <code>T1</code> and corner <code>C1</code>. Notice corner <code>C1</code> exists in both the views.</li></ul><br />
<a id="pgfId-1043731"></a>Now, if you import <code>maestro_2/T1</code> into <code>maestro_1/T1</code>, the corner <code>C1</code> in <code>maestro_1/T1</code> is overwritten by value in the imported test. Notice the value of corner <code>C2</code> is unchanged because the imported test does not have this corner.<br />
<a id="pgfId-1043640"></a>Now, suppose you have another maestro view, <code>maestro_3</code>, which has test <code>T1</code> and corner <code>C2</code>, and you import this view into <code>maestro_1/Test1</code>. <code>The maestro_1</code> view already includes a corner <code>C2</code> for test <code>T2</code>, but this corner is not visible in the ADE Explorer setup because currently opened test is <code>T1</code>. Therefore, the corner <code>C2</code> is renamed to <code>C2_0</code> in the imported view.</li><li>
<a id="pgfId-1042842"></a>In the <em>What to Import</em> section, do the following:<ul><li>
<a id="pgfId-1042843"></a>In the <em>Basic </em>sub-section, click the arrow symbol to view the basic setup options that you can import, such as Analyses, Outputs, Model Setup, and so on. To select all options, click the <em>Select All</em> button. To clear the selection of all options, click the <em>Clear All</em> button (see the figure below)</li><li>
<a id="pgfId-1042844"></a>Similarly, in the <em>Advanced</em> sub-section, click the arrow symbol to view the advanced setup options that you can import, such as Subckt Inst, Operating Points, Environment Options, and so on. To select all options, click the <em>Select All </em>button. To clear the selection of all options, click the <em>Clear All </em>button (see the figure below)<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1045070"></a>By default, all the options in the <em>Basic</em> and <em>Advanced</em> sub-sections are selected when you specify a library, cell, and view. If an option is not available for the given setup, it is disabled in the form. For more information about these options, see <a href="chap2.html#77388">Load and Save Options</a>.</div>
<a id="pgfId-1045084"></a><div class="webflare-div-image">
<img width="640" height="379" src="images/chap2-103.gif" /></div></li></ul></li><li>
<a id="pgfId-1042860"></a>Expand the <em>Description</em> field to view or add any notes, if available, for the selected view.</li><li>
<a id="pgfId-1042480"></a>Click <em>Apply</em> and then click <em>OK</em> to close this form. <br />
<a id="pgfId-1045230"></a>The selected settings are imported in ADE Explorer and can be viewed in the Setup assistant.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1045231"></a>When the current view in ADE Explorer includes a configuration view, the setting of <em>Multi-Technology Mode</em> option (MTS) on Choosing Simulator form is imported implicitly. If the current view is not a configuration view, an error message is displayed in CIW.</div><div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1049510"></a>
If you have any environment variable settings specified for the options selected in the Import Setup form, those settings will be overridden by the settings specified for them in the cellview that you want to import.</div></li></ul>

































<h4>
<a id="pgfId-1045233"></a><a id="77388"></a>Load and Save Options </h4>

<p>
<a id="pgfId-1043871"></a>The following options are available on the What to Import section:</p>

<h4><em>
<a id="pgfId-1044232"></a>Basic </em></h4>

<ul><li>
<a id="pgfId-1043873"></a><code>Analyses</code>&#8212;Restores/Saves the <em>Choosing Analyses</em> form settings (but not simulator options that you set with the Options buttons in these forms). Analysis settings are simulator specific, so you cannot restore them from a different simulator.</li><li>
<a id="pgfId-1043875"></a><code>Outputs</code>&#8212;Restores/Saves the saved and plotted output settings. Output settings are design specific, but if the signal names match, you can restore them from a different design. You can also restore expressions from any design.</li><li>
<a id="pgfId-1044004"></a><code>Model Setup</code>&#8212;R<bold>
estores
/Saves <bold>
the model setup of the session that was saved.
</bold></bold></li><li>
<a id="pgfId-1044791"></a><code>Simulation Files</code>&#8212;Restores/Saves simulation-specific files and other information. For Spectre, these files can be stimulus files, definition files, and include paths.</li><li>
<a id="pgfId-1044792"></a><code>Simulator Options</code>&#8212;Restores/Saves all Simulator Options form settings. This information is simulator specific.</li><li>
<a id="pgfId-1044028"></a><code>Variables</code>&#8212;Restores/Saves design variables.</li><li>
<a id="pgfId-1043877"></a><code>Parameters</code>&#8212;Restores/Saves parameters.</li><li>
<a id="pgfId-1044047"></a><code>Specifications</code>&#8212;Restores/Saves specifications from the Outputs Setup pane.</li><li>
<a id="pgfId-1044054"></a><code>Corners</code>&#8212;Restores/Saves corners defined in the Corner Setup form.</li></ul>









<h4><em>
<a id="pgfId-1043878"></a>Advanced Options</em></h4>

<ul><li>
<a id="pgfId-1044061"></a><code>Subckt Inst</code>&#8212;Restores/Saves the <em>Save By Subckt Instance</em> pane settings. This option is available only for the spectre simulator.</li><li>
<a id="pgfId-1044080"></a><code>Operating Points</code>&#8212;Restores/Saves operating points outputs specified in the Outputs Setup pane.</li><li>
<a id="pgfId-1043879"></a><code>Environment Options</code>&#8212;Restores/Saves only the environment option settings. If you are using a different simulator in another session, you can restore only those options that are applicable to the current simulator. </li><li>
<a id="pgfId-1044486"></a><code>Convergence Setup</code>&#8212;Restores/Saves the <em>Node Set</em>, <em>Initial Condition</em>, and <em>Force Node</em> settings, as well as DC and transient solutions. </li><li>
<a id="pgfId-1044487"></a><code>Graphical Stimuli</code>&#8212;Restores/Saves the setup of the graphical stimulus form. </li><li>
<a id="pgfId-1044488"></a><code>Cosimulation Options</code>&#8212;Restores/Saves the Matlab/Simulink cosimulation options settings.</li><li>
<a id="pgfId-1044140"></a><code>MDL Control Setup</code>&#8212;Restores/Saves the MDL control options, which runs Spectre with the MDL control file.</li><li>
<a id="pgfId-1045134"></a><code>Reliability Analyses</code>&#8212;Restores/Saves the setup of the Reliability analyses options form.</li><li>
<a id="pgfId-1045135"></a><code>Run Mode</code>&#8212;Restores/Saves the specified run mode and run options. The run modes can be Single Run, Sweeps and Corners or Monte Carlo.</li><li>
<a id="pgfId-1045136"></a><code>Model Groups</code>&#8212;Restores/Saves the model groups specified in the Model Library form</li><li>
<a id="pgfId-1044194"></a><code>Extensions</code>&#8212;Restores/Saves the High Performance simulation options settings. This information is simulator specific.</li></ul>










<p>
<a id="pgfId-1044618"></a>The following options appear only when the selected simulator is <em>ams</em>.</p>
<ul><li>
<a id="pgfId-1044619"></a><code>Solver Option</code>&#8212;Restores/Saves the solver specification for the current session.</li><li>
<a id="pgfId-1044620"></a><code>Run Option</code>&#8212;Restores/Saves the run option setting as batch or interactive as specified in the Choose Run Options form.</li><li>
<a id="pgfId-1044697"></a><code>MATLAB and Simulink</code>&#8212;Restores/Saves the settings for MATLAB/Simulink co-simulation.</li><li>
<a id="pgfId-1044698"></a><code>Connect Modules</code>&#8212;Restores/Saves connect rules and related information about modules, disciplines and resolution as specified in the Connect Rules Selection form.</li><li>
<a id="pgfId-1043897"></a><code>Discipline Selection</code>&#8212;Restores/Saves disciplines as specified in the Default Digital Discipline Selection form.</li><li>
<a id="pgfId-1043898"></a><code>Global Signals</code>&#8212;Restores/Saves global signals specified through the Global Signals form.</li><li>
<a id="pgfId-1043899"></a><code>Library Files</code>&#8212;Restores/Saves library file and directory specifications.</li></ul>







<h3>
<a id="pgfId-1042482"></a>Specifying Sim<a id="SaveOpts"></a>ulation Results Directory Location</h3>

<p>
<a id="pgfId-1039099"></a>To specify the results directory location where simulation results are to be saved:</p>

<ul><li>
<a id="pgfId-1039127"></a>Choose <em>Setup &#8211; Save Options</em>.<br />
<a id="pgfId-1039134"></a>The <em>Save Options</em> form appears, as shown in the figure below. <br />
<a id="pgfId-1039109"></a><div class="webflare-div-image">
<img width="500" height="387" src="images/chap2-104.gif" /></div></li><li>
<a id="pgfId-1046587"></a>In the <em>Simulation Results</em> section, you can specify which simulation data must be saved. Specify the following fields:<ul><li>
<a id="pgfId-1046651"></a>Select the <em>Save Simulation Data</em> check box to save the simulation data results in the specified results directory. This check box is selected by default.</li><li>
<a id="pgfId-1046578"></a>Select the <em>Save Netlist</em> check box to save the generated netlist at the specified results location. This check box is selected by default.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1053682"></a>By default, the results for distributed simulation runs are saved in the location specified in the <em>Simulation Results Directory Location</em> field.</div></li><li>
<a id="pgfId-1053833"></a>Select the <em>Use Local Simulation Results Directory</em> check box to save the results for distributed simulation jobs run on a remote system in a local directory. Specify the path to the local directory in the subsequent field.<br />
<a id="pgfId-1054118"></a>For example, if you set the local simulation results directory as <code>/tmp</code>, all the simulation data is saved in the remote host&#8217;s <code>/tmp</code> directory.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1054525"></a>While using remote or LSF job distributions, the local GUI host cannot directly access the remote host&#8217;s local directory. This means, the plotting and simulation results become inaccessible. You should select this option only if you do not want to access these results.</div></li></ul></li><li>
<a id="pgfId-1046614"></a>In the <em>Results Location</em> section, specify the following fields:<ul><li>
<a id="pgfId-1046615"></a>In the <em>Simulation Results Directory Location </em>field, specify the location where you want to save the simulation results. By default, the results are saved in the <code>~/simulation</code> directory in the current directory path.</li><li>
<a id="pgfId-1047583"></a>In the <em>ADE Explorer Results Database Location </em>field, specify the location where you want to save the results directory.</li></ul></li></ul>



















<h3>
<a id="pgfId-1047593"></a>How does AD<a id="tmpData"></a>E Explorer save the results in the results database?</h3>

<p>
<a id="pgfId-1048147"></a>Prior to IC6.1.7 ISR10, ADE Explorer and the IC remote processes (ICRP) used to write to the .rdb file on the file system, which is an NFS disk. However, the NFS file locks, which are used to ensure database correctness, are slow. This used to impact the performance resulting in a non-responsive GUI during simulation and a lengthy simulation run time. In addition, simultaneous attempts to access the <code>.rdb</code> file by the ADE Explorer user interface and the ICRP increase the possibility of database corruption due to the unreliability of NFS file locking mechanism.</p>
<p>
<a id="pgfId-1048036"></a>To avoid this, in IC6.1.7 ISR10, ADE Explorer uses a local directory, named as <code>/tmp</code>, to temporarily save the results database. This avoids the NFS file lock issues and centralizes access to the <code>.rdb</code> file because it can be accessed only through the ADE Explorer UI. In addition, it uses a separate backup thread to copy the results data from the /tmp directory to the permanent results database, the location specified by the <em>ADE Explorer Results Database Location</em> field.</p>
<p>
<a id="pgfId-1047596"></a>ADE Explorer saves a .rdb file in the <code>libraryName/cellName/viewName/results/data directory</code> under the specified location.</p>

<p>
<a id="pgfId-1047597"></a></p>
<div class="webflare-div-image">
<img width="457" height="285" src="images/chap2-105.gif" /></div>
<h4>
<a id="pgfId-1047598"></a>Important Points to Note</h4>

<p>
<a id="pgfId-1047599"></a>ADE Explorer saves the <code>.rdb</code> file to the <code>/tmp</code> directory on the same computer where the application is running. </p>
<ul><li>
<a id="pgfId-1048190"></a>Only the ADE Explorer user interface can access <code>/tmp</code>, therefore, it is not required to be locked and released for every read or write operation, and database operations are also fast.</li><li>
<a id="pgfId-1047604"></a>If Virtuoso is closed abruptly due to some issue and all the data has not been copied to the results database, all the settings for block transfer and frequency of backup are ignored, and all the unsaved data is copied from the <code>/tmp</code> directory to the results database.</li><li>
<a id="pgfId-1047605"></a>The availability of disk space for both <code>/tmp</code> directory and the <code>.rdb</code> file is checked periodically. If the available disk space becomes less than the lower limit, appropriate warning messages are flagged. Also, if these disks do not have sufficient space, the simulation is automatically suspended. You can free up the space and resume the simulation.</li><li>
<a id="pgfId-1048236"></a>When you close the ADE Explorer window, it runs a check to confirm that all the data from<code> /tmp</code> directory has been successfully copied to the <code>.rdb</code> results database. If some data remains to be copied, ADE Explorer waits before closing the window, and shows the following message in the CIW.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1048238">
<a id="pgfId-1048238"></a>ADE is in the process of copying the simulation results from the /tmp directory, which is created to provide faster access to the data, to a permanent location. This may take some time depending on the size of data to be copied. It is recommended not to forcefully close the application as it can result into data loss.</pre></li><li>
<a id="pgfId-1048229"></a>You can choose to save the results database directly in the .rdb file on the NFS disk instead of /tmp directory by setting the <a href="../assembler/appEnvVars.html#RDBCreatePolicy">RDBCreatePolicy</a> environment variable to &quot;<code>NFSDisk</code>&quot;. By default, this variable is set to &quot;<code>TmpDir</code>&quot;.</li></ul>






<h2>
<a id="pgfId-1047587"></a><a id="63876"></a>Saving<a id="SaveResults"></a> Results in ADE Explorer</h2>

<p>
<a id="pgfId-1037181"></a>By default, in edit mode, the Virtuoso ADE Explorer saves the results of only the recent simulation run with the default history filename, <code>ExplorerRun.0</code> at the following location:</p>
<p>
<a id="pgfId-1037907"></a><code>&lt;simulationDir&gt;/&lt;lib&gt;/&lt;cell&gt;/&lt;view&gt;/results/maestro/ExplorerRun.0/</code></p>
<p>
<a id="pgfId-1037918"></a>Every time a new simulation is run, the <code>ExplorerRun.0</code> results file is overwritten to store the results from the latest simulation run. However, you can also save on-demand results (histories) in ADE Explorer that can be loaded later.</p>
<p>
<a id="pgfId-1048355"></a>When the ADE Explorer is opened in a read-only mode, the <code>ExplorerRORun.0.RO</code> history file is created at the following location:</p>
<p>
<a id="pgfId-1048409"></a><code>&lt;simulationDir&gt;/&lt;lib&gt;/&lt;cell&gt;/&lt;view&gt;/results/maestro/ExplorerRORun.0.RO/</code></p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1048436"></a>
You can simultaneously open two or more ADE Explorer sessions in read-only mode using the same <code>maestro</code> cellview. These sessions share the same ADE Explorer history item, <code>ExplorerRORun.0.RO</code>. Therefore, you cannot run two simulations in parallel because both the simulations need write access to the same history item. You can run simulations in a sequence, one after the other. The most-recent simulation run will overwrite the history file <code>ExplorerRORun.0.RO</code>. 
If you want to save the results obtained from both the simulations, then save the results of the runs individually, or if you want to run simulations simultaneously, switch to ADE Assembler.
When the <code>ExplorerRun.0</code> or <code>ExplorerRORun.0.RO</code> histories already exist and you try to run a simulation in ADE Explorer, an error message is displayed mentioning that the simulation cannot be run. To run the simulation in this case, you need to delete these histories by selecting them from the <em>Results &#8211; Delete</em> menu. </div>
<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1049739"></a>
If a history is opened in multiple ADE Explorer sessions, and you rename or delete that history in one session, the history is closed in all the sessions except the one in which the change is initiated. Similarly, if you run a simulation to overwrite a history, ADE Explorer closes the history from other sessions, if found open.</div>

<p>
<a id="pgfId-1037182"></a>Follow one of the below steps to save the results in ADE Explorer after the simulation run is complete:</p>
<ul><li>
<a id="pgfId-1037183"></a>Choose <em>Results &#8211; Save</em>. </li><li>
<a id="pgfId-1038165"></a>Right-click in the <em>Value</em> column of the Outputs Setup pane.The <em>Save Results</em> form appears as shown in the figure below.<br />
<a id="pgfId-1037187"></a><div class="webflare-div-image">
<img src="images/SaveHistory.gif" /></div></li></ul>





<p>
<a id="pgfId-1038181"></a>In this form, do the following</p>
<ol><li>
<a id="pgfId-1037188"></a>In the <em>Enter New History Name</em> field, specify a history name to store the simulation results of the current simulation. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1037994"></a>For single point, multipoint run, or corners, the default history name is <code>ExpInteractive.0</code> and for Monte Carlo simulation, the default history name is <code>ExpMonteCarlo.0</code>.</div></li><li>
<a id="pgfId-1037963"></a>In the <em>Notes:</em> field, specify a description about this history.</li><li>
<a id="pgfId-1037189"></a>Click <em>OK</em>.<br />
<a id="pgfId-1037190"></a>The history of the current simulation run is saved with the specified name, <code>TestHistory</code>.<br />
<a id="pgfId-1037191"></a>If you save the same Explorer setup with a new history name without running the simulation, the previously-specified history file is overwritten. For example, if you save the same setup saved in the <code>TestHistory</code>, with a new name <code>TestHistory1</code>, the <code>TestHistory</code> is renamed to <code>TestHistory1</code>.<br />
<a id="pgfId-1037192"></a>After running a single point simulation and exiting the session, if you re-open the <code>maestro</code> view in Explorer, or descend to the same test from Assembler, the previous set of results are automatically loaded.<br />
<a id="pgfId-1038700"></a>When you specify an already existing history name to save the results, the following pop-up message is displayed:<pre class="webflare-pre-block webflare-courier-new" id="#id1038713">
<a id="pgfId-1038713"></a>Cannot modify history &#39;%s&#39; with value &#39;%s&#39; because this history item already exists. Do you want to overwrite this history item?</pre>
<a id="pgfId-1038771"></a>By default, the maximum of 10 histories can be saved in ADE Explorer. However, when you load histories saved in ADE Assembler into ADE Explorer, the ADE Explorer histories are also retained even if the total history count goes beyond the specified limit.<br />
<a id="pgfId-1038765"></a>To load results from a multi-point run, open the <code>maestro</code> view and choose <em>Results &#8211; View &#8211; ExplorerRun.0</em>.<br />
<a id="pgfId-1038766"></a>The results you save in Explorer are visible on the <em>History</em> tab in Assembler, as shown in the figure below:<br />
<a id="pgfId-1037200"></a><div class="webflare-div-image">
<img width="303" height="307" src="images/chap2-107.gif" /></div></li></ol>















<p>
<a id="pgfId-1039250"></a>After running a single-point simulation, If you close the ADE Explorer session and then open the session again, the simulation results and scalar values are automatically loaded in the Value column of the Outputs Setup pane. However, if you re-open a session in which you ran multi-point simulation previously, the results are not automatically loaded because of their heavy size. To view or perform plotting operations on those results, you can choose <em>Results &#8211; View &#8211; ExplorerRun.0</em>.</p>

<h4>
<a id="pgfId-1037201"></a>Del<a id="deleteHistory"></a>eting Saved Results</h4>

<p>
<a id="pgfId-1037202"></a>To delete a previously-saved history, perform the following steps:</p>
<ol><li>
<a id="pgfId-1037203"></a>Choose <em>Results &#8211; Delete. </em>The <em>Select History </em>form appears as shown in the below figure. This form lists all the previously-saved histories.<br />
<a id="pgfId-1037207"></a><div class="webflare-div-image">
<img src="images/DeleteHistory.gif" /></div></li><li>
<a id="pgfId-1037208"></a>Select the history name that you want to delete.</li><li>
<a id="pgfId-1037209"></a>Click <em>OK</em>.</li></ol>







<h4>
<a id="pgfId-1037210"></a>Viewing Saved Results</h4>

<p>
<a id="pgfId-1037211"></a>To view a saved history, </p>

<ul><li>
<a id="pgfId-1037212"></a>Choose <em>Results &#8211; Select.</em><br />
<a id="pgfId-1041629"></a>The Select History form appears. In this form, in the <em>History Name</em> column, select the history you want to view the results for. Any notes added for a history item are displayed in the <em>Notes</em> column.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1041642"></a>If no history is available in the current session, the <em>Result &#8211; Select</em> option is disabled. If multiple histories are available, by default the first history is selected in the history list.</div>
<a id="pgfId-1040379"></a><div class="webflare-div-image">
<img src="images/selectResults.gif" /></div></li></ul>







<p>
<a id="pgfId-1037219"></a>The results from the selected simulation run history are displayed in the outputs setups</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1101373"></a>The results of the selected history must be compatible with the existing setup. For a single point history run, if the selected history has different outputs, the incompatible outputs will not be displayed. </div>

<h2>
<a id="pgfId-1037221"></a>Saving an OCEAN Script<a id="52156"></a><a id="oceanL"></a><a id="oceanXL"></a></h2>

<p>
<a id="pgfId-1037222"></a>The Open Command Environment for Analysis (OCEAN) helps you set up, simulate, and analyze circuit data. OCEAN is a text-based process that you can run from a UNIX shell or from the Command Interpreter Window (CIW). You can type in OCEAN commands in an interactive session, or you can create scripts containing your commands, then load those scripts into OCEAN. OCEAN can be used with any simulator integrated into the analog circuit design environment.</p>
<p>
<a id="pgfId-1037223"></a>The OCEAN script helps you do the following:</p>
<ul><li>
<a id="pgfId-1037224"></a>Create scripts that you can run repeatedly to verify circuit performance</li><li>
<a id="pgfId-1037225"></a>Run longer analyses such as parametric analyses, corners analyses, and Monte Carlo simulation, more effectively</li><li>
<a id="pgfId-1037226"></a>Run long simulations in OCEAN without using the graphical user interface</li><li>
<a id="pgfId-1037227"></a>Run simulations from a nongraphic, remote terminal</li></ul>



<p>
<a id="pgfId-1037228"></a>In ADE Explorer, you can set up the simulation environment, choose plotting options, and then save these settings in a script. </p>
<p>
<a id="pgfId-1037229"></a>To save an OCEAN script:</p>
<ol><li>
<a id="pgfId-1037230"></a>Create the setup and plot processing selections that you want to capture in the script.</li><li>
<a id="pgfId-1037231"></a>Choose <em>Session &#8211; Save Ocean Script</em> <br />
<a id="pgfId-1037232"></a>The <em>Save OCEAN Script</em> form appears.<br />
<a id="pgfId-1038063"></a><div class="webflare-div-image">
<img src="images/SaveOceanScript.gif" /></div>
<a id="pgfId-1040443"></a>The OCEAN XL script starts with <code>ocnxlSetXLMode()</code> and saves simulation commands for corners and Monte Carlo. The OCEAN L script does not save any XL related information even if the ADE Explorer setup contains corners or Monte Carlo. In addition, when an OCEAN XL script is saved using ADE Explorer, the simulation run modes thar are not supported in ADE Explorer are not written to the script.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1038141"></a>When you switch from ADE Assembler to ADE Explorer, the OCEAN script shows the setup information of only the selected test.</div></li><li>
<a id="pgfId-1038065"></a>In the <em>File Name</em> field, specify the name of the OCEAN file to be saved. By default, it displays the <code>./oceanScript.ocn</code> filename.</li><li>
<a id="pgfId-1041659"></a>In the <code>What to Save</code> field, select one of the following options:<ul><li>
<a id="pgfId-1041679"></a><code>Single point data</code> if you want to save an OCEAN L script that includes only single-point data.</li><li>
<a id="pgfId-1041672"></a><code>Sweeps, Corners, Parameters, Specs &amp; Monte Carlo</code> to save an OCEAN XL script. This option also saves the local design variable sweeps.</li></ul></li><li>
<a id="pgfId-1037238"></a>Click <em>OK</em>.<br />
<a id="pgfId-1037239"></a>ADE Explorer creates and displays a script containing the OCEAN setup and plotting tasks you selected. You can edit the script to add simulation or postprocessing commands as needed.<br />
<a id="pgfId-1037240"></a>Alternatively, you can use a text editor to create an OCEAN script by using OCEAN commands and save it in a <code>.ocn </code>file.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1037241"></a>For a single point run, ADE Explorer can run multiple simulations simultaneously using different OCEAN sessions.</div><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1037242"></a>The <span class="webflare-courier-new" style="white-space:pre"><em>spectreFormatter</em></span> and associated methods are defined in the<em> spectreinl</em> context. This does not get loaded automatically by <em>asiGetTool(&#8217;spectre</em>). To load relevant contexts, you need to edit your code by adding <em>spectreinl </em>to the list of contexts it loads. This is illustrated in the following example:</div><pre class="webflare-pre-block webflare-courier-new" id="#id1037243">
<a id="pgfId-1037243"></a>; Need to have these contexts loaded - in the right order 
; - so that that the spectreFormatter class can be extended</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1037244">
<a id="pgfId-1037244"></a>(foreach context &#8217;(&quot;oasis&quot; &quot;asimenv&quot; &quot;analog&quot; &quot;spectrei&quot; &quot;spectreinl&quot;)</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1037245">
<a id="pgfId-1037245"></a>  (unless (isContextLoaded context)</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1037246">
<a id="pgfId-1037246"></a>          (loadContext</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1037247">
<a id="pgfId-1037247"></a>           (prependInstallPath (strcat &quot;etc/context/&quot; context &quot;.cxt&quot;)))</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1037248">
<a id="pgfId-1037248"></a>          (callInitProc context)</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1037249">
<a id="pgfId-1037249"></a>          )</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1037250">
<a id="pgfId-1037250"></a>  )</pre></li></ol>

























<p>
<a id="pgfId-1037251"></a>To know more about how to run an OCEAN script and how to run parallel OCEAN XL simulation runs for a maestro View, see <h-hot><a actuate="user" class="URL" href="../assembler/asmSimulating.html#OCEANscript" show="replace" xml:link="simple">Creating and Running an OCEAN Script</a></h-hot> in <em>Virtuoso ADE Assembler User Guide</em>.</p>
<p>
<a id="pgfId-1037254"></a>For more information about OCEAN commands and scripts, see the <em><a actuate="user" class="URL" href="../oceanref/oceanrefTOC.html#firstpage" show="replace" xml:link="simple">OCEAN Reference</a></em>.</p>

<h3>
<a id="pgfId-1037255"></a>Closing a Session</h3>

<p>
<a id="pgfId-1037256"></a>To close an ADE Explorer session, choose Session &#8211; Quit.</p>
<p>
<a id="pgfId-1037257"></a>The following form appears:</p>

<p>
<a id="pgfId-1037261"></a></p>
<div class="webflare-div-image">
<img src="images/quitExplorer.gif" /></div>

<p>
<a id="pgfId-1037262"></a>Click Yes to save the current setup of the ADE Explorer. Click No to close the session without saving setup or click Cancel to continue working in the current setup.</p>

<h2>
<a id="pgfId-1037264"></a>Configuring and Customizing ADE Explorer Settings<a id="22372"></a></h2>

<p>
<a id="pgfId-1037268"></a>The configuration of ADE Explorer depends on the following types of configuration settings:<a id="marker-1037265"></a><a id="marker-1037266"></a><a id="marker-1037267"></a></p>
<ul><li>
<a id="pgfId-1037272"></a>Settings in your personal and site <code>.cdsinit</code> files</li><li>
<a id="pgfId-1037274"></a>Settings in your personal and site <code>.cdsenv </code>files</li><li>
<a id="pgfId-1037276"></a>UNIX environment variables in your <code>.cshrc</code> file</li></ul>



<h3>
<a id="pgfId-1037277"></a>Customizing Your .cdsinit File</h3>

<p>
<a id="pgfId-1037279"></a><a id="customizing"></a>You can customize your analog circuit design environment by adding SKILL commands to your <code>.cdsinit</code> file, the initialization file for the Cadence software. <a id="cdsinit"></a><a id="marker-1037281"></a><a id="marker-1037282"></a><a id="marker-1037283"></a></p>
<p>
<a id="pgfId-1037284"></a>There is a sample <code>.cdsinit</code> file for the analog circuit design environment in the following location:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1037285"></a><code><em>your_install_dir</em></code>/tools/dfII/samples/artist/.cdsinit</pre>
<h3>
<a id="pgfId-1037287"></a>Customizing Your .cdsenv File<a id="40773"></a></h3>

<p>
<a id="pgfId-1037290"></a><a id="marker-1037288"></a><a id="cdsenv"></a>You can set the default values for fields in analog circuit design environment forms by setting variables in your <code>~/.cdsenv</code> file.</p>
<p>
<a id="pgfId-1037291"></a>There is a sample <code>.cdsenv</code> file for the analog circuit design environment in the following location:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1037292"></a><code><em>your_install_dir</em></code>/tools/dfII/etc/tools/<code><em>simulator_name</em></code></pre>
<h3>
<a id="pgfId-1037293"></a>Customizing Your Menus File</h3>

<p>
<a id="pgfId-1037294"></a>The menus file is a simple SKILL file, therefore you can customize the same menu file for different releases by adding SKILL code within the<em> if-then-else</em> statement.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1037295"></a>(if (equal curVersion 44X) then</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1037296"></a>   ;;; 44X menus customization here</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1037297"></a>else</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1037298"></a>   ;;; 44Y menus customization here</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1037299"></a>)</pre>

<p>
<a id="pgfId-1037300"></a>Alternatively, you can create the <code>simui.menus</code> file like this:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1037301"></a>(if (equal curVersion 44X) then</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1037302"></a>    load &quot;44X_file&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1037303"></a>)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1037304"></a>(if (equal curVersion 44X) then</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1037305"></a>    load &quot;44Y_file&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1037306"></a>)</pre>

<p>
<a id="pgfId-1037307"></a>where <code>44X_file</code> and <code>44Y_file</code> are path to the menus file for different releases.</p>

<h3>
<a id="pgfId-1037308"></a>Setting UNIX Environment Variables</h3>

<p>
<a id="pgfId-1037310"></a><a id="settingunix"></a>UNIX environment variables help configure the Virtuoso&#174; analog design simulation environment.<a id="marker-1037311"></a><a id="marker-1037312"></a></p>
<p>
<a id="pgfId-1037314"></a><a id="cds_netlisting_mode"></a>The <code>CDS_Netlisting_Mode</code> variable controls</p>
<ul><li>
<a id="pgfId-1037315"></a>How parameter values on components that use CDF and AEL are interpreted during netlisting</li><li>
<a id="pgfId-1037316"></a>Which LVS tool the system uses</li></ul>

<p>
<a id="pgfId-1037321"></a>The syntax for this variable in a <code>.cshrc</code> file is<a id="marker-1037317"></a><a id="marker-1037318"></a><a id="marker-1037319"></a><a id="marker-1037320"></a></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1037322"></a>setenv CDS_Netlisting_Mode &quot;{Analog|Digital|Compatibility}&quot;} </pre>

<p>
<a id="pgfId-1037323"></a>When the <code>CDS_Netlisting_Mode</code> variable is set to <code>Analog</code> or <code>Compatibility</code>, the component parameter evaluation takes CDF and AEL into account. When the variable is set to <code>Digital</code>, CDF and AEL are not taken into account, which results in better netlisting performance. When the variable is set to <code>Analog</code>, the Analog LVS tool (<code>auLvs</code>) is used. </p>
<p>
<a id="pgfId-1037324"></a>Use these rules to set <code>CDS_Netlisting_Mode</code>.</p>
<ul><li>
<a id="pgfId-1037325"></a>When you use the analog circuit design environment, set this variable to an appropriate value. If your design depends on CDF information, then set <code>CDS_Netlisting_Mode</code> to <code>Analog</code>. If your circuit does not use CDF information, then set <code>CDS_Netlisting_Mode</code> to <code>Digital</code> or <code>Compatibility</code>.</li><li>
<a id="pgfId-1037326"></a>When you use socket simulation in the analog circuit design environment and this variable is not set or is set to <code>Digital</code>, you see a dialog box that lets you set the value to <code>Analog</code> for the current session. (The socket netlister requires that the variable be set to <code>Analog</code>.) In this situation, the design environment uses the Analog LVS (<code>auLVS</code>) tool.</li><li>
<a id="pgfId-1037327"></a>If you use the analog circuit design environment for LVS, set <code>CDS_Netlisting_Mode</code> to <code>Analog</code>.</li><li>
<a id="pgfId-1037328"></a>If you use CDF and the Circuit Designer&#8217;s Workbench but do not have the analog circuit design environment, set <code>CDS_Netlisting_Mode</code> to <code>Analog</code>.</li><li>
<a id="pgfId-1037329"></a>If you do not have the <code>auLVS</code> tool and do not use CDF or AEL expressions, set the variable to <code>Digital</code>. In this mode, you get the fastest netlisting speed and run <code>iLVS</code>, which uses OSS NLP expression syntax.<a id="marker-1037330"></a><a id="marker-1037331"></a></li><li>
<a id="pgfId-1037332"></a>If you want CDF compatibility with <code>iLVS</code>, set the variable to <code>Compatibility</code> for faster netlisting than with <code>Analog</code>. However, the <code>Compatibility</code> mode has the following limitations:<ul><li>
<a id="pgfId-1037333"></a>Connection of terminals by properties is not supported. A typical use of this capability in the analog circuit design environment is connecting the bulk pin of four-terminal transistors to a net. <a id="marker-1037334"></a></li><li>
<a id="pgfId-1037335"></a>Analog circuit design environment features other than expression evaluation are not supported.</li></ul></li></ul>







<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1037336"></a>By default, <code>CDS_Netlisting_Mode</code> variable is set to <code>Analog</code>.</div>

<h3>
<a id="pgfId-1040551"></a>RF Forms</h3>

<p>
<a id="pgfId-1040683"></a>When the simulator is set to Spectre, do the following to open ACPR (Adjacent Channel Power Ratio) and LSSP (Large Signal S-Parameter) forms:</p>
<ul><li>
<a id="pgfId-1040684"></a>Choose <em>Tools &#8211; RF &#8211; ACPR.</em><a id="ACPR"></a> The ACPR Wizard form appears.<br />
<a id="pgfId-1040688"></a><div class="webflare-div-image">
<img src="images/ACPR_form.gif" /></div></li><li>
<a id="pgfId-1040718"></a>Choose <em>Tools &#8211; RF &#8211; LSSP</em><a id="LSSP"></a>. The Large Signal S-Parameter Wizard form appears.<br />
<a id="pgfId-1040572"></a><div class="webflare-div-image">
<img src="images/LSSP_Form.gif" /></div></li></ul>









<p>
<a id="pgfId-1040749"></a>For more information about the fields on these forms, see <em>Spectre Circuit SImulator and Accelerated Parallel Simulator RF User Guide</em> and <em>Spectre Circuit SImulator RF Analysis Theory</em>.</p>

<h2>
<a id="pgfId-1047233"></a><a id="52142"></a>Using Signals or Triggers</h2>

<p>
<a id="pgfId-1047252"></a>The ADE Explorer session functions are a known set of states. Any transition from one state to another is called an event. You can specify customized actions to be automatically performed whenever an event occurs. You can do this by registering callbacks for these events or signals. In Trolltech QT&#39;s terminology, these events are known as signals and the callbacks are known as slots.</p>
<p>
<a id="pgfId-1047254"></a>To execute callbacks or slots for ADE Explorer signals, you need to perform the following tasks:</p>
<ol><li>
<a id="pgfId-1047257"></a>Define a callback function<br />
<a id="pgfId-1047258"></a>Define any SKILL function that you need to call when an event occurs in ADE Explorer. It is recommended to define this procedure in the .cdsinit file.</li><li>
<a id="pgfId-1047259"></a>You can use any other SKILL function in this callback function.<br />
<a id="pgfId-1047261"></a>Connect the defined callback function with the signal<br />
<a id="pgfId-1047262"></a>Connect the custom SKILL function defined in step 1 with the required signal or event by using the <code>axlSessionConnect</code> SKILL function in the .cdsinit file.</li><li>
<a id="pgfId-1047263"></a>Register the callback when a ADE (G)XL session is launched<br />
<a id="pgfId-1047244"></a>To make the callback function available for calling, it is required to register the function by using the axlSessionRegisterCreationCallback SKILL function in the .cdsinit file.<br /><div class="webflare-information-macro webflare-macro-tip">
<a id="pgfId-1047377"></a>
To know the signature of a trigger, you can use the <a actuate="user" class="URL" href="../adexlSKILLref/sessionIl.html#axlSessionSignalSignature" show="replace" xml:link="simple">axlSessionSignalSignature</a> SKILL function.</div></li></ol>









<p>
<a id="pgfId-1047401"></a>For more information about how to set the triggers, see the examples in the <h-hot><a actuate="user" class="URL" href="../adexlSKILLref/sessionIl.html#adexl_triggers" show="replace" xml:link="simple">Working with ADE (G)XL Signals or Triggers</a></h-hot> section of <em>Virtuoso ADE XL SKILL Reference</em>.</p>

<h2>
<a id="pgfId-1033100"></a><a id="37738"></a><a id="41921"></a><a id="19570"></a>Reserved Words<a id="simulator_reserved_words"></a></h2>

<p>
<a id="pgfId-1033101"></a>Each simulator has reserved words you cannot use as names for design variables or passed parameters of a subcircuit (use in a pPar expression):<a id="marker-1033102"></a><a id="marker-1033103"></a><a id="marker-1033104"></a><a id="marker-1033105"></a></p>
<ul><li>
<a id="pgfId-1033106"></a>Simulator command or function names</li><li>
<a id="pgfId-1033107"></a>Simulator global variables, including <ul><li>
<a id="pgfId-1033108"></a>Simulator options</li><li>
<a id="pgfId-1033109"></a>Names on fixed-form fields</li></ul><br />
<a id="pgfId-1033110"></a>For example, CDF parameters on CDF forms, or properties on property forms, are all reserved words.</li></ul>




<p>
<a id="pgfId-1033112"></a>All Spectre simulator reserved words ca<a id="marker-1085306"></a>n be found in the <em><a actuate="user" class="URL" href="../spectreuser/chap4.html#nodenames" show="replace" xml:link="simple">Creating Component and Node Names</a></em> section of the <em>Spectre Circuit Simulator Reference.</em><a id="marker-1085281"></a></p>
<p>
<a id="pgfId-1085324"></a><a id="53554"></a></p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="chap1.html" id="prev" title="Getting Started with ADE Explorer">Getting Started with ADE Explo ...</a></em></b><b><em><a href="chap3.html" id="nex" title="Setting Up Analyses">Setting Up Analyses</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2020, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>