
<html><head><title>DRD Advanced Features</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="umap" />
<meta name="CreateDate" content="2020-09-09" />
<meta name="CreateTime" content="1599639114" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the Virtuoso Design Rule Driven software that provides feedback regarding design constraint violations." />
<meta name="DocTitle" content="Virtuoso Design Rule Driven Editing User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="DRD Advanced Features" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.2.1" />
<meta name="Keyword" content="drdedit" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2020-09-09" />
<meta name="ModifiedTime" content="1599639114" />
<meta name="NextFile" content="drdCompactor.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="drdOverview.html" />
<meta name="c_product" content="Virtuoso Layout Suite" />
<meta name="Product" content="Virtuoso Layout Suite" />
<meta name="ProductFamily" content="Virtuoso Layout Suite" />
<meta name="ProductVersion" content="ICADVM20.1" />
<meta name="RightsManagement" content="Copyright 2012-2020 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Design Rule Driven Editing User Guide -- DRD Advanced Features" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="ICADVM20.1" />
<meta name="SpaceKey" content="drdeditICADVM201" />
<meta name="webflare-version" content="2.0" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="drdeditTOC.html">Contents</a></li><li><a class="prev" href="drdOverview.html" title="Design Rule Driven Editing">Design Rule Driven Editing</a></li><li style="float: right;"><a class="viewPrint" href="drdedit.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="drdCompactor.html" title="DRD Interactive Compactor">DRD Interactive Compactor</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Design Rule Driven Editing User Guide<br />Product Version ICADVM20.1, October 2020</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>


<h1>2
<a id="pgfId-1057064"></a></h1>

<h1>
<a id="pgfId-1063794"></a><hr />
DRD Advanced Features<hr />
</h1>

<p>
<a id="pgfId-1097943"></a>You can use the following DRD advanced features to create DRC-correct layouts more efficiently:</p>
<ul><li>
<a id="pgfId-1097947"></a><a href="drdTargets.html#66466">DRD Targets</a></li><li>
<a id="pgfId-1097951"></a><a href="drdTargets.html#82525">Targeted Enforce</a></li><li>
<a id="pgfId-1097955"></a><a href="drdTargets.html#66482">Relaxed Enforce</a></li><li>
<a id="pgfId-1097959"></a><a href="drdTargets.html#34305">Deferred Post Edit</a></li><li>
<a id="pgfId-1097963"></a><a href="drdTargets.html#81521">What-if Halos</a></li><li>
<a id="pgfId-1097967"></a><a href="drdTargets.html#98552">DRD Smart Snapping</a></li><li>
<a id="pgfId-1097971"></a><a href="drdTargets.html#73293">Incremental Violation Display</a></li><li>
<a id="pgfId-1105802"></a><a href="drdTargets.html#33619">Excluding Instances from Checking</a></li></ul>







<p>
<a id="pgfId-1097972"></a>These features can be used with flat shapes located at the current level of layout hierarchy, as well as with shapes located in hierarchical and pseudo-hierarchical layout objects such as instances, vias, and groups (figGroups). </p>


<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1097973"></a>
The features described in this chapter are available only in Layout XL, GXL, and EXL tiers.</div>
<h2>
<a id="pgfId-1097976"></a><a id="66466"></a>DRD T<a id="drdtargets"></a>argets</h2>

<p>
<a id="pgfId-1097977"></a>DRD targets are designated layout objects used by advanced DRD features such as Targeted Enforce and What-if Halos. To use a layout object with any of these features, you must first set it as a DRD Target. This section explains how layout objects are set as DRD targets.</p>
<ul><li>
<a id="pgfId-1097981"></a><a href="drdTargets.html#19286">Setting DRD Targets</a></li><li>
<a id="pgfId-1097985"></a><a href="drdTargets.html#15435">Unsetting DRD Targets</a></li></ul>




<h3>
<a id="pgfId-1097987"></a><a id="19286"></a>Setting DRD Targets</h3>

<p>
<a id="pgfId-1097988"></a>To set an object as a DRD target, you can either select it in the canvas and choose a <em>DRD Targets</em> menu option or use the bindkey provided. Selection works only for top-level objects; the bindkey can be used to set any object as a DRD target, including the objects below the top level in the hierarchy.</p>


<h4>
<a id="pgfId-1097989"></a>Setting DRD Targets by Selection</h4>

<p>
<a id="pgfId-1097990"></a>To set one or more objects as DRD targets, you must first select the required objects in the canvas, as shown. </p>


<p>
<a id="pgfId-1098007"></a></p>
<div class="webflare-div-image">
<img width="666" height="358" src="images/drdTargets-3.gif" /></div>

<p>
<a id="pgfId-1098008"></a>After you have selected the objects, you can either set the selected objects as new DRD targets or add them to an existing set of DRD targets.</p>
<ul><li>
<a id="pgfId-1098009"></a>To set only the selected objects as DRD targets, right-click the selected objects and choose <em>DRD Targets</em> &#8211; <em>Set Targets from Selection</em> from the context menu.<br />
<a id="pgfId-1098010"></a>Alternatively, choose <em>Edit</em> &#8211;<em> DRD Targets</em> &#8211; <em>Set Targets from Selection</em>.<br />
<a id="pgfId-1098011"></a>The selected objects are set as DRD targets, as shown:<br />
<a id="pgfId-1098024"></a><div class="webflare-div-image">
<img width="635" height="478" src="images/drdTargets-4.gif" /></div><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1098025"></a>The <em>Set Targets from Selection</em> option clears any existing DRD targets.</div></li><li>
<a id="pgfId-1098026"></a>Right-click the selected objects and choose <em>DRD Targets</em> &#8211; <em>Add Selection to Targets</em> from the context menu if you want to add the selected objects to an existing<em> </em>set of DRD targets.<br />
<a id="pgfId-1098027"></a>Alternatively, choose <em>Edit</em> &#8211; <em>DRD Targets</em> &#8211; <em>Add Selection to Targets</em>.<br />
<a id="pgfId-1098040"></a><div class="webflare-div-image">
<img width="635" height="474" src="images/drdTargets-5.gif" /></div></li></ul>





















<h4>
<a id="pgfId-1098060"></a>Setting DRD Targ<a id="drdtargetsAddBindkey"></a>ets Using the Bindkey</h4>

<p>
<a id="pgfId-1098061"></a>You can use the <code>/</code> (forward-slash) key on the numeric keypad to set objects as DRD targets. Place the mouse pointer on an object and press <code>/</code> to set it as a DRD target, as shown. </p>


<p>
<a id="pgfId-1098073"></a></p>
<div class="webflare-div-image">
<img width="669" height="170" src="images/drdTargets-6.gif" /></div>

<p>
<a id="pgfId-1098074"></a>To set multiple objects as DRD targets with the bindkey, select them one by one, as shown.</p>



<p>
<a id="pgfId-1098106"></a></p>
<div class="webflare-div-image">
<img width="668" height="413" src="images/drdTargets-7.gif" /></div>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1098107"></a>Laptop users can use the USB keyboard to activate the <code>NumLock</code> key and press the <code>/</code> key on the numeric keypad.</div>
<p>
<a id="pgfId-1098108"></a>You can also use the bindkey to set as DRD targets the following objects: objects below the current hierarchy level and overlapping objects at any hierarchy level.</p>
<ul><li>
<a id="pgfId-1098112"></a><a href="drdTargets.html#41950">Setting Hierarchical Objects as DRD Targets</a></li><li>
<a id="pgfId-1098116"></a><a href="drdTargets.html#82112">Setting Overlapping Objects as DRD Targets</a></li></ul>





<h4><em>
<a id="pgfId-1098118"></a><a id="41950"></a>Setting Hierarchical Objects as DRD Targets</em></h4>

<p>
<a id="pgfId-1098119"></a>You can set objects below the current hierarchy level as DRD targets as follows:</p>
<ol><li>
<a id="pgfId-1098121"></a><a actuate="user" class="URL" href="../drdedit/drdOverview.html#openDRDOptions" show="replace" xml:link="simple">Open the DRD Options form.</a></li><li>
<a id="pgfId-1098122"></a>On the <em>Interactive</em> tab, set the <em>Hierarchy Range</em> to <em>current to bottom</em>, as shown.
<br /><div class="webflare-div-image">
<img width="609" height="174" src="images/drdTargets-8.gif" /></div></li><li>
<a id="pgfId-1098126"></a>Place the mouse pointer over the hierarchical object that you want to set as a DRD target.</li><li>
<a id="pgfId-1098127"></a>Press <code>/</code> on the numeric keypad. <br />
<a id="pgfId-1098137"></a><div class="webflare-div-image">
<img width="635" height="234" src="images/drdTargets-9.gif" /></div></li></ol>













<h4><em>
<a id="pgfId-1098139"></a><a id="82112"></a>Setting Overlapping Objects as DRD Targets</em></h4>

<p>
<a id="pgfId-1098140"></a>To set an overlapping object as a DRD target, set the layer containing that object as the active layer. In the following example, the objects on the <em>Poly</em> (green) and <em>Oxide</em> (hashed red) layers overlap. </p>


<p>
<a id="pgfId-1098144"></a></p>
<div class="webflare-div-image">
<img src="images/615_ISR_overlappingobjects.gif" /></div>

<p>
<a id="pgfId-1098145"></a>To set an object on the <em>Poly</em> layer as a DRD target:</p>
<ol><li>
<a id="pgfId-1098146"></a>In the Palette, select <em>Poly</em> as the active layer, as shown.<br />
<a id="pgfId-1098160"></a><div class="webflare-div-image">
<img width="635" height="368" src="images/drdTargets-11.gif" /></div></li><li>
<a id="pgfId-1098161"></a>Place the mouse pointer over the object you want to set as a DRD target.</li><li>
<a id="pgfId-1098162"></a>Press <code>/</code> on the numeric keypad. The <em>Poly</em> gate is successfully set as a DRD target, as shown in the figure on the right.<br />
<a id="pgfId-1098169"></a><div class="webflare-div-image">
<img width="637" height="300" src="images/drdTargets-12.gif" /></div></li></ol>

















<h3>
<a id="pgfId-1098171"></a><a id="15435"></a>Unsetting DRD Targets</h3>

<p>
<a id="pgfId-1098172"></a>You can unset a DRD target by using the <em>DRD Targets</em> menu options or by using the bindkey provided.</p>


<h4>
<a id="pgfId-1098173"></a>Unsetting DRD Targets by Selection</h4>

<p>
<a id="pgfId-1098174"></a>To unset specific DRD targets, right-click the DRD targets and choose <em>DRD Targets</em> &#8211; <em>Remove Selection from Targets</em> from the context menu. Alternatively, you can select those DRD targets in the canvas and choose <em>Edit</em> &#8211; <em>DRD Targets</em> &#8211; <em>Remove Selection from Targets</em>.<br /></p>

<div class="webflare-div-image">
<img width="668" height="374" src="images/drdTargets-13.gif" /></div>

<p>
<a id="pgfId-1098185"></a>To unset all existing DRD targets, right-click on the canvas and choose <em>DRD Targets</em> &#8211; <em>Clear Targets</em> from the context menu or choose <em>Edit</em> &#8211; <em>DRD Targets</em> &#8211; <em>Clear Targets</em>, as shown.</p>


<p>
<a id="pgfId-1098196"></a></p>
<div class="webflare-div-image">
<img width="668" height="482" src="images/drdTargets-14.gif" /></div>



<h4>
<a id="pgfId-1098221"></a>Unsetting DRD Tar<a id="drdtargetsUnsetBindkey"></a>gets Using the Bindkey</h4>

<p>
<a id="pgfId-1098222"></a>You can use the <code>*</code> (asterisk) key on the numeric keypad to unset DRD targets. Place the mouse pointer over an object set as a DRD target and press <code>*</code>. The highlight around the DRD target is removed indicating that the object is no longer set as a DRD target, as shown.</p>


<p>
<a id="pgfId-1098233"></a></p>
<div class="webflare-div-image">
<img width="668" height="153" src="images/drdTargets-15.gif" /></div>

<p>
<a id="pgfId-1098234"></a>To unset multiple DRD targets with the bindkey, place the mouse pointer over each successive DRD target and press <code>*</code>, as shown.</p>



<p>
<a id="pgfId-1098266"></a></p>
<div class="webflare-div-image">
<img width="668" height="428" src="images/drdTargets-16.gif" /></div>




<h3>
<a id="pgfId-1098268"></a>Bindkey Re<a id="drdtargetsBindkeyReassignment"></a>assignment</h3>

<p>
<a id="pgfId-1098269"></a>The default bindkeys for setting and unsetting DRD targets are <code>/</code> and <code>*</code>, respectively. However, if you prefer using different keys, you can reassign the <code>drdAddTargets</code> and <code>drdRemoveTargets</code> SKILL functions to your preferred keys.</p>
<p>
<a id="pgfId-1098270"></a>In the following example, the functions for setting and unsetting DRD targets are reassigned to keys <code>3</code> and <code>4</code>, respectively. These settings can be included in either a custom bindkey file or the <code>.cdsinit</code> file.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1098271"></a>hiSetBindKeys(&quot;Layout&quot; list(list(&quot;&lt;Key&gt;3&quot; &quot;drdAddTarget()&quot;)))</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1098272"></a>hiSetBindKeys(&quot;Layout&quot; list(list(&quot;&lt;Key&gt;4&quot; &quot;drdRemoveTarget()&quot;)))</pre>

<p>
<a id="pgfId-1098273"></a>You can also customize your bindkeys by using the Bindkey Editor form. </p>
<ol><li>
<a id="pgfId-1098274"></a>In CIW, choose <em>Options &#8211; Bindkeys</em> to open the Bindkey Editor form.</li><li>
<a id="pgfId-1098275"></a>In the left pane, under <em>Application</em>, choose <em>Layout</em>. The bindkeys assigned for Virtuoso Layout Editor are listed on the right.</li><li>
<a id="pgfId-1098276"></a>Assign the required keys as bindkeys to the <code>drdAddTarget</code> and <code>drdRemoveTarget</code> functions.</li></ol>





<h2>
<a id="pgfId-1098279"></a><a id="82525"></a>Target<a id="targetedenforce"></a>ed Enforce</h2>

<p>
<a id="pgfId-1098280"></a>The default DRD Enforce mode enforces minimum spacing rules between the objects being edited and the surrounding objects. If you want to enforce spacing rules only on one nearby object or a subset of nearby objects, the default behavior can be restrictive. To overcome this, you can use the Targeted Enforce feature, which helps enforce minimum spacing rules for a set of objects. </p>
<p>
<a id="pgfId-1098281"></a>To enable Targeted Enforce: </p>
<ol><li>
<a id="pgfId-1098283"></a><a actuate="user" class="URL" href="../drdedit/drdOverview.html#openDRDOptions" show="replace" xml:link="simple">Open the DRD Options form.</a></li><li>
<a id="pgfId-1098284"></a>On the <em>Interactive</em> tab, select the <em>Enforce</em> <em>&#8211; Enabled </em>check box.<br />
<a id="pgfId-1098285"></a>The <em>Targets Only</em> check box is now enabled.</li><li>
<a id="pgfId-1098286"></a>Select the <em>Targets Only</em> check box to enable targeted enforce.
<br /><div class="webflare-div-image">
<img width="603" height="86" src="images/drdTargets-17.gif" /></div></li><li>
<a id="pgfId-1098290"></a>Click <em>OK</em>. </li></ol>









<p>
<a id="pgfId-1098295"></a>You can also enable DRD Notify mode by selecting the <em>Notify &#8211; Enabled </em>check box in the DRD Options form. When DRD Notify is enabled, the unenforceable violations are shown as Notify halos.</p>
<p>
<a id="pgfId-1098296"></a>When Targeted Enforce is enabled, DRD Enforce is applied only between the objects being edited (created, copied, moved, or stretched) and the objects set as DRD targets.</p>
<p>
<a id="pgfId-1098297"></a>To see how Targeted Enforce works:</p>
<ol><li>
<a id="pgfId-1098300"></a>In the canvas, set one or more objects as DRD targets. For more information, see <a href="drdTargets.html#19286">Setting DRD Targets</a>.</li><li>
<a id="pgfId-1098302"></a>Edit an object. In the example below, an object is moved toward another object that is set as a DRD target. As shown, DRD Enforce is applied only between the moving object and the DRD target.<br />
<a id="pgfId-1098306"></a><div class="webflare-div-image">
<img src="images/615ISR_TargetedEnforceobject.gif" /></div></li></ol>








<h2>
<a id="pgfId-1098308"></a><a id="66482"></a>Relaxed En<a id="relaxedEnforce"></a>force</h2>

<p>
<a id="pgfId-1104081"></a>The Relaxed Enforce mode is a relaxed version of the Enforce mode. In this mode, the pointer can move into the violation region. However, when you edit an object in the violation region, the object is moved to a violation-free location.</p>
<p>
<a id="pgfId-1105212"></a>The Relaxed Enforce mode is useful for manual device placement. For example, you want to place two PMOS devices closer with minimum oxide spacing between them. In the Enforce mode, as soon as an NWell spacing violation occurs, the pointer movement is stopped, and the pointer cannot move beyond the violation region. With the Relaxed Enforce mode ON, the pointer can move into the violation region and you can see what other violations can occur while placing the PMOS device. However, when you click the mouse button to complete the placement in the violation region, the device is moved to a violation-free location.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1105044"></a>Wire Editor has its own auto corrective mechanism for creating and stretching a wire. Therefore, the Relaxed Enforce feature supports only the copy and move operations for wire.</div>
<p>
<a id="pgfId-1098313"></a>To enable Relaxed Enforce:</p>
<ol><li>
<a id="pgfId-1098315"></a><a actuate="user" class="URL" href="../drdedit/drdOverview.html#openDRDOptions" show="replace" xml:link="simple">Open the DRD Options form.</a></li><li>
<a id="pgfId-1098316"></a>On the <em>Interactive</em> tab, select the <em>Enforce</em> <em>&#8211; Enabled </em>check box.<br />
<a id="pgfId-1098317"></a>The <em>Relaxed</em> check box is now enabled.</li><li>
<a id="pgfId-1098318"></a>Select the <em>Relaxed</em> check box to enable the Relaxed Enforce mode.
<br /><div class="webflare-div-image">
<img width="602" height="89" src="images/drdTargets-19.gif" /></div></li><li>
<a id="pgfId-1098322"></a>Click <em>OK</em>.</li></ol>










<div class="webflare-information-macro webflare-macro-video">
<a id="pgfId-1107302"></a>
For a quick overview of the Relaxed Enforce feature, see <a actuate="user" class="URL" href="https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1O0V000009ETavUAG" show="replace" xml:link="simple">Using the Relaxed Enforce Mode in DRD</a>. </div>


<h2>
<a id="pgfId-1098328"></a><a id="34305"></a>Deferred Po<a id="deferredPostEdit"></a>st Edit</h2>

<p>
<a id="pgfId-1098329"></a>The Deferred Post Edit is an advanced version of the Post Edit mode. It enables you to see the violation markers for a number of create or edit operations in one go. When you turn on the Deferred Post Edit mode, every create or edit operation is recorded but the violation markers are not displayed immediately after every operation. You can view all the violation markers that occurred during the operations as per your requirements. You can analyze and filter the recorded violation markers for the modified object on the <em>DRC/DFM</em> tab of the Annotation Browser.</p>
<p>
<a id="pgfId-1098330"></a>To enable Deferred Post Edit:</p>
<ol><li>
<a id="pgfId-1098332"></a><a actuate="user" class="URL" href="../drdedit/drdOverview.html#openDRDOptions" show="replace" xml:link="simple">Open the DRD Options form.</a></li><li>
<a id="pgfId-1098333"></a>On the <em>Interactive</em> tab, select the <em>Post Edit</em> <em>&#8211; Enabled </em>check box.<br />
<a id="pgfId-1098334"></a>The <em>Deferred</em> check box is now enabled.</li><li>
<a id="pgfId-1098335"></a>Select the <em>Deferred</em> check box to enable the Deferred Post Edit mode.
<br /><div class="webflare-div-image">
<img width="604" height="58" src="images/drdTargets-21.gif" /></div></li><li>
<a id="pgfId-1098339"></a>Click <em>OK</em>.</li></ol>









<p>
<a id="pgfId-1098347"></a>You can also enable the Deferred Post Edit mode by clicking the&#160;&#160;<img width="31" height="55" src="images/drdTargets-22.gif" /><span>icon on the DRD toolbar. </span></p>
<div class="webflare-information-macro webflare-macro-video">
<a id="pgfId-1107459"></a>
For a quick overview of the Deferred Post Edit mode, see <a actuate="user" class="URL" href="https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1O0V000009ETaqUAG" show="replace" xml:link="simple">Using the Deferred Post Edit Mode in DRD</a>. </div>


<h2>
<a id="pgfId-1098350"></a><a id="81521"></a>What<a id="whatifhalos"></a>-if Halos</h2>

<p>
<a id="pgfId-1098351"></a>DRD What-if halos let you visualize early in the design process the potential DRC violations between the shapes being edited, before violations occur. </p>
<p>
<a id="pgfId-1098352"></a>To enable DRD What-if halos:</p>
<ol><li>
<a id="pgfId-1098353"></a>Disable DRD Enforce using one of the following methods:<ul><li>
<a id="pgfId-1098354"></a>Click the <em>Enforce</em> button on the toolbar.</li><li>
<a id="pgfId-1098355"></a>Deselect the <em>Enforce</em> <em>&#8211; Enabled </em>check box in the DRD Options form.</li></ul></li><li>
<a id="pgfId-1098356"></a>Enable DRD Notify using one of the following methods:<ul><li>
<a id="pgfId-1098357"></a>Click the <em>Notify</em> button on the toolbar.</li><li>
<a id="pgfId-1098358"></a>Select the <em>Notify</em> <em>&#8211; Enabled </em>check box in the DRD Options form.</li></ul></li><li>
<a id="pgfId-1104771"></a>Select the <em>Notify</em> <em>&#8211; Smart Snap </em>check box.</li><li>
<a id="pgfId-1098362"></a>Set one or more objects as DRD targets. For more information, see <a href="drdTargets.html#19286">Setting DRD Targets</a>. </li><li>
<a id="pgfId-1098363"></a>Edit an object. The What-if halo is displayed around the DRD target as soon as you start editing the object, that is, even when no violations occur, as shown.<br />
<a id="pgfId-1098367"></a><div class="webflare-div-image">
<img src="images/615ISR_whatifhalos.gif" /></div></li></ol>













<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1098368"></a>When a via is set as the target, violations on cut layers are ignored and are not shown as halos. To turn on the halos on a cut layer, set the cut layer as the active layer and point to a cut layer shape. This feature helps avoid display congestion on viaArrays that have lots of spacing violation halos on the cut layer.</div>



<h3>
<a id="pgfId-1098369"></a>What-if Functionality for Hierarchical Objects</h3>

<p>
<a id="pgfId-1098370"></a>You can enable What-if halos for hierarchical objects as follows:</p>
<ol><li>
<a id="pgfId-1098371"></a>In the DRD Options form, ensure that the <em>Notify</em> <em>&#8211; Enabled </em>check box is selected and the <em>Hierarchy Range</em> is set to <em>current to bottom</em>.
<br /><div class="webflare-div-image">
<img width="608" height="167" src="images/drdTargets-24.gif" /></div></li><li>
<a id="pgfId-1098372"></a>Use the <code>/</code> bindkey to set the hierarchical objects in an instance as DRD targets. The following figure shows the green M3 and red M2 objects set as DRD targets in the instance on the right.<br />
<a id="pgfId-1098376"></a><div class="webflare-div-image">
<img src="images/615ISR_Instance2.gif" /></div></li><li>
<a id="pgfId-1098377"></a>Move the red M2 object in the instance on the left toward the DRD targets. <br />
<a id="pgfId-1098378"></a>A What-if halo is generated around the red M2 DRD target.<br />
<a id="pgfId-1098382"></a><div class="webflare-div-image">
<img src="images/615ISR_Instance2_DRDTargets.gif" /></div></li><li>
<a id="pgfId-1098383"></a>To freeze the What-if halo, press <code>&#8216;</code> (the backtick character located on the upper-left corner of your keyboard).<br />
<a id="pgfId-1098387"></a>The frozen halo can now be used in conjunction with <a href="drdTargets.html#98552">DRD Smart Snapping</a>.</li></ol>
























<h2>
<a id="pgfId-1098390"></a><a id="98552"></a>DRD Sm<a id="smartsnapping"></a>art Snapping</h2>

<p>
<a id="pgfId-1098391"></a>The DRD Smart Snap feature lets you snap shapes to the edges or corners of DRC halos generated during DRD editing. It also lets you snap shapes to the discrete spacing values defined for the <a href="../ascitechconstr/constr_spacing_oneLayer.html#minSpanLengthSpacing">minSpanLengthSpacing</a> constraint. This helps maintain DRC correctness while you interactively edit your design.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1098393"></a>The discrete spacing marker feature is available only for <code>minSpanLengthSpacing</code>.</div>


<h3>
<a id="pgfId-1098395"></a>Snapp<a id="snapToDiscreteValue"></a>ing to Halos and Discrete Spacing Values</h3>

<ol><li>
<a id="pgfId-1098396"></a>In the DRD Options form, select the <em>Notify</em> <em>&#8211; Enabled </em>check box.</li><li>
<a id="pgfId-1098397"></a>Select the <em>Smart Snap</em> check box and click <em>OK</em>.
<br /><div class="webflare-div-image">
<img width="605" height="80" src="images/drdTargets-27.gif" /></div><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1098404"></a>To enable smart snapping by default, set the <a href="appB.html#10816">drdEditVioLimit</a> environment variable to <code>t</code>.</div></li><li>
<a id="pgfId-1098405"></a>Move a shape toward another shape.<br />
<a id="pgfId-1098406"></a>DRD Notify displays a halo around the static shape when a violation occurs between the two shapes. If <code>minSpanLengthSpacing</code> is defined, DRD also displays markers corresponding to the discrete spacing values, as shown below.<br />
<a id="pgfId-1098410"></a><div class="webflare-div-image">
<img width="635" height="275" src="images/drdTargets-28.gif" /></div></li><li>
<a id="pgfId-1098411"></a>To snap the shape to a halo or to any edge of the static shape: <ol><li>
<a id="pgfId-1098413"></a>Press <code>&#8216;</code> to freeze the halos. You can also use the <a href="../sklayoutref/drd.html#drdToggleSmartSnapMode">drdToggleSmartSnapMode</a> SKILL function.</li><li>
<a id="pgfId-1098414"></a>Move the object to the closest edge of a halo or the static shape.<br />
<a id="pgfId-1098415"></a>The yellow edge shown below appears when the shape being moved is snapped to an edge.<br /><ffi2-fig-frame-in-2 id="#id1098419">
<a id="pgfId-1098419"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="602" height="273" src="images/drdTargets-29.gif" /></div></li><li>
<a id="pgfId-1098420"></a>Press <code>&#8216;</code> again to unfreeze the halos.</li></ol></li><li>
<a id="pgfId-1098421"></a>To snap a shape to a discrete spacing marker: <ol><li>
<a id="pgfId-1098422"></a>Press <code>Shift+&#8216;</code> to freeze the discrete spacing markers. You can also use the <a href="../sklayoutref/drd.html#drdToggleSmartSnapModeForDiscreteSpacing">drdToggleSmartSnapModeForDiscreteSpacing</a> SKILL function. <br />
<a id="pgfId-1098424"></a>As a result, the halos disappear and you can see only the discrete spacing markers, as shown below.<br /><ffi2-fig-frame-in-2 id="#id1098428">
<a id="pgfId-1098428"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="602" height="425" src="images/drdTargets-30.gif" /></div></li><li>
<a id="pgfId-1098429"></a>Move the shape to the closest marker. The marker appears elongated when the moving shape is snapped to it, as shown below.<br /><ffi2-fig-frame-in-2 id="#id1098441">
<a id="pgfId-1098441"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="602" height="399" src="images/drdTargets-31.gif" /></div></li><li>
<a id="pgfId-1098442"></a>Press <code>Shift+&#8216;</code> again to unfreeze the discrete spacing markers.</li></ol></li></ol>








































<h3>
<a id="pgfId-1098443"></a>Snapping to a What-if Halo around a DRD Target</h3>

<p>
<a id="pgfId-1098444"></a>You can also snap an object to a What-if halo created around an object set as a DRD target. For more information, see <a href="drdTargets.html#81521">What-if Halos</a>. </p>
<ol><li>
<a id="pgfId-1098448"></a>Set an object as a DRD target.<br />
<a id="pgfId-1098452"></a>For more information, see <a href="drdTargets.html#19286">Setting DRD Targets</a>.</li><li>
<a id="pgfId-1098453"></a>Move an object toward the DRD target.<br />
<a id="pgfId-1098454"></a>DRD creates a halo around the DRD target as soon as you start moving the object, irrespective of the distance between the two objects.<br />
<a id="pgfId-1098458"></a><div class="webflare-div-image">
<img src="images/615ISR_SmartSnapWhatif.gif" /></div></li><li>
<a id="pgfId-1098459"></a>Press <code>&#8216;</code> to freeze the halo on the static object.</li><li>
<a id="pgfId-1098460"></a>Snap the moving object to the halo or to any edge of the DRD target.<br />
<a id="pgfId-1098461"></a>A yellow edge appears when the moving object is snapped to the edge of the frozen halo, as shown.<br />
<a id="pgfId-1098465"></a><div class="webflare-div-image">
<img src="images/615ISR_DRDsmartsnapwhatifhalo.gif" /></div></li></ol>





















<h3>
<a id="pgfId-1098466"></a>Simultaneous Snapping between Two Orthogonal Edges</h3>

<p>
<a id="pgfId-1098467"></a>To snap an object to an orthogonal edge of another object:</p>
<ol><li>
<a id="pgfId-1098468"></a>Set an object as a DRD target.<br />
<a id="pgfId-1098472"></a>For more information, see <a href="drdTargets.html#19286">Setting DRD Targets</a>.</li><li>
<a id="pgfId-1098473"></a>Move an object toward the DRD target.<br />
<a id="pgfId-1098474"></a>DRD creates a halo around the DRD target.</li><li>
<a id="pgfId-1098475"></a>Press <code>&#8216;</code> to freeze the halo on the DRD target.</li><li>
<a id="pgfId-1098476"></a>Snap the moving object to the orthogonal edges of the frozen halo or to the orthogonal edge of the DRD target and the edge of the frozen halo.<br />
<a id="pgfId-1098477"></a>In the example below, the object is snapped to the top horizontal edge and the left vertical edge of the frozen halo.<br />
<a id="pgfId-1103445"></a><br /><div class="webflare-div-image">
<img width="635" height="240" src="images/drdTargets-34.gif" /></div>
<a id="pgfId-1098484"></a>The following example shows the object snapping to the top horizontal edge of the DRD target and the left vertical edge of the frozen halo.<br />
<a id="pgfId-1098489"></a><div class="webflare-div-image">
<img width="635" height="245" src="images/drdTargets-35.gif" /></div></li></ol>




















<h3>
<a id="pgfId-1098490"></a>Layer-to-Layer Snapping</h3>

<p>
<a id="pgfId-1098491"></a>In layer-to-layer snapping, snapping occurs between the shapes and halos on the same layer. For example, shapes on layer <code>M2</code> are snapped only to <code>M2</code> halos, as shown below in the example of layer-to-layer snapping.</p>


<p>
<a id="pgfId-1098506"></a></p>
<div class="webflare-div-image">
<img width="668" height="310" src="images/drdTargets-36.gif" /></div>



<h3>
<a id="pgfId-1098508"></a>Snapping <a id="smartSnapTominArea"></a>Based on the minArea Constraint</h3>

<p>
<a id="pgfId-1098509"></a>When creating or stretching a rectangle, DRD offers a choice of candidate rectangles that meet the <code>minArea</code> constraint. You can snap to a candidate rectangle of your choice as shown below.</p>


<p>
<a id="pgfId-1098555"></a></p>
<div class="webflare-div-image">
<img width="668" height="568" src="images/drdTargets-37.gif" /></div>



<h3>
<a id="pgfId-1098557"></a>Snapping<a id="SmartSnapQuickAlign"></a> Using the Quick Align Form in Virtuoso</h3>

<p>
<a id="pgfId-1098558"></a>You can snap objects to DRC halos by using the <em>DRD Smart Snap</em> option available in the Quick Align form, as shown. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1098559"></a>This option is available only when the <em>Smart Snap</em> check box is selected in the DRD Options form.</div>


<p>
<a id="pgfId-1098566"></a></p>
<div class="webflare-div-image">
<img width="669" height="299" src="images/drdTargets-38.gif" /></div>

<p>
<a id="pgfId-1098567"></a>To snap an object by using the Quick Align smart snap feature:</p>
<ol><li>
<a id="pgfId-1098568"></a>Choose <em>Edit</em> &#8211; <em>Quick Align</em> or press <code>A</code>. </li><li>
<a id="pgfId-1098569"></a>Press <code>F3</code> to open the Quick Align form.</li><li>
<a id="pgfId-1098570"></a>Choose the <em>DRD Smart Snap</em> option.</li><li>
<a id="pgfId-1098571"></a>Click the right edge of <code>Rectangle A</code>, the subject.</li><li>
<a id="pgfId-1098572"></a>Click the left edge of <code>Polygon A</code>, the target.<br />
<a id="pgfId-1098573"></a>DRD Smart Snap creates halos (the dashed red lines) around <code>Polygon A</code> based on the spacing constraints defined in the technology file.<br />
<a id="pgfId-1098587"></a><div class="webflare-div-image">
<img width="636" height="224" src="images/drdTargets-39.gif" /></div></li><li>
<a id="pgfId-1098588"></a>Point to the halo with which you want to align <code>Rectangle A</code>. Click the solid yellow line that appears to snap <code>Rectangle A</code> to the halo.</li></ol>
















<h3>
<a id="pgfId-1098591"></a><a id="17823"></a>Snapping <a id="smartSnapWithEnforce"></a>with DRD Enforce Enabled</h3>

<p>
<a id="pgfId-1098592"></a>DRD Smart Snap with DRD Enforce enabled lets you use DRD Enforce to enforce constraints such as <code>minSpacing</code> and DRD Notify / Smart Snap to enforce constraints that are not supported by DRD Enforce, such as <code>minEndOfLineSpacing</code>, as shown.</p>


<p>
<a id="pgfId-1098614"></a></p>
<div class="webflare-div-image">
<img width="668" height="690" src="images/drdTargets-40.gif" /></div>



<h3>
<a id="pgfId-1098615"></a>Toggling DRD Smart Snap during Interactive Editing</h3>

<p>
<a id="pgfId-1098616"></a>You can press <code>1</code> on the keyboard to temporarily disable smart snapping while maintaining the frozen halo in your layout, as shown.</p>


<p>
<a id="pgfId-1098622"></a></p>
<div class="webflare-div-image">
<img width="668" height="134" src="images/drdTargets-41.gif" /></div>

<p>
<a id="pgfId-1098623"></a>To re-enable smart snapping, press <code>1</code> again.</p>



<p>
<a id="pgfId-1098628"></a></p>
<div class="webflare-div-image">
<img width="668" height="143" src="images/drdTargets-42.gif" /></div>




<h2>
<a id="pgfId-1098630"></a><a id="73293"></a>Incremental<a id="incrementalDisplay"></a> Violation Display</h2>

<p>
<a id="pgfId-1103940"></a>The incremental violation display feature is available by default in the Notify mode. It lets you see and analyze the DRC violations incrementally. If you see any violations on the canvas while editing a layout with the Notify mode ON, you can enter into the incremental violation display mode by pressing the <code>Ctrl+Shift+m</code> bindkey. In the incremental violation display mode, the current edit operation is suspended, and you can see the violations one by one using the up and down arrow keys.</p>
<p>
<a id="pgfId-1103942"></a>The incremental violation display feature also offers a zoomed-in view of the objects involved in violations. To do this, select the <em>Zoom in Incremental Violation</em> check box on the <em>Interactive</em> tab of the DRD Options form.</p>
<p>
<a id="pgfId-1098631"></a>Press <code>Esc</code> to exit the incremental violation display mode. On exiting the mode, you do not lose the context of editing, and the pointer is displayed at the same position where you left before entering the incremental violation display mode.</p>
<p>
<a id="pgfId-1104241"></a>The incremental violation display supports the <em>Copy</em>, <em>Create Instance</em>, <em>Create Multipart Path</em>, <em>Create P&amp;R Boundary</em>, <em>Create Path</em>, <em>Create Pin</em>, <em>Create Rectangle</em>, <em>Create Via</em>, <em>Create Wire</em>, <em>Move</em>, <em>Reshape</em>, <em>Split</em>, and <em>Stretch</em> commands.</p>

<div class="webflare-information-macro webflare-macro-video">
<a id="pgfId-1104956"></a>
For a quick overview of the incremental violation display feature, see <a actuate="user" class="URL" href="https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1O0V00000911M2UAI" show="replace" xml:link="simple">Using the DRD Incremental Violation Display Feature</a>.</div>


<h2>
<a id="pgfId-1105317"></a><a id="33619"></a>Excluding Instance<a id="excludeDRDInstances"></a>s from Checking</h2>

<p>
<a id="pgfId-1105366"></a>You can choose to exclude some instances from DRD checking. If the <em>Ignore Marked Instance</em> check box in the <em>Filters</em> page of the DRD Options form is selected, DRD does not perform checks on the marked instances and between the marked instances and its neighboring shapes. This is applicable for both batch and interactive modes.</p>
<p>
<a id="pgfId-1108472"></a>The <code>drdAddIgnore</code> property is added to an instance marked to be excluded and the setting is saved when you save the design. It is removed when the instance is unmarked.</p>
<p>
<a id="pgfId-1105368"></a>To mark an instance, do the following:</p>
<ul><li>
<a id="pgfId-1105369"></a>On the canvas or in the <em>Navigator</em> assistant, right-click the instance and choose <em>DRD Ignore &#8212; Add Selection </em>from the context menu.
<br /><div class="webflare-div-image">
<img width="481" height="180" src="images/drdTargets-43.gif" /></div></li></ul>



<p>
<a id="pgfId-1108297"></a>To unmark an instance, do the following:</p>
<ul><li>
<a id="pgfId-1105372"></a>On the canvas or in the <em>Navigator</em> assistant, right-click a marked instance and choose <em>DRD Ignore</em> <em>&#8212; Remove Selection</em> from the context menu.</li></ul>
<p>
<a id="pgfId-1108401"></a>To unmark all instances, do the following:</p>
<ul><li>
<a id="pgfId-1108397"></a>Right-click a marked instance in the <em>Navigator</em> assistant or anywhere on the canvas and choose <em>DRD Ignore</em> <em>&#8212; Remove All</em> from the context menu.</li></ul>




<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="drdOverview.html" id="prev" title="Design Rule Driven Editing">Design Rule Driven Editing</a></em></b><b><em><a href="drdCompactor.html" id="nex" title="DRD Interactive Compactor">DRD Interactive Compactor</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2020, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>