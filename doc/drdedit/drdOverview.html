
<html><head><title>Design Rule Driven Editing</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="umap" />
<meta name="CreateDate" content="2020-09-09" />
<meta name="CreateTime" content="1599639109" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the Virtuoso Design Rule Driven software that provides feedback regarding design constraint violations." />
<meta name="DocTitle" content="Virtuoso Design Rule Driven Editing User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Design Rule Driven Editing" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.2.1" />
<meta name="Keyword" content="drdedit" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2020-09-09" />
<meta name="ModifiedTime" content="1599639109" />
<meta name="NextFile" content="drdTargets.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="preface.html" />
<meta name="c_product" content="Virtuoso Layout Suite" />
<meta name="Product" content="Virtuoso Layout Suite" />
<meta name="ProductFamily" content="Virtuoso Layout Suite" />
<meta name="ProductVersion" content="ICADVM20.1" />
<meta name="RightsManagement" content="Copyright 2012-2020 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Design Rule Driven Editing User Guide -- Design Rule Driven Editing" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="ICADVM20.1" />
<meta name="SpaceKey" content="drdeditICADVM201" />
<meta name="webflare-version" content="2.0" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="drdeditTOC.html">Contents</a></li><li><a class="prev" href="preface.html" title="Preface">Preface</a></li><li style="float: right;"><a class="viewPrint" href="drdedit.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="drdTargets.html" title="DRD Advanced Features">DRD Advanced Features</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Design Rule Driven Editing User Guide<br />Product Version ICADVM20.1, October 2020</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>1
<a id="pgfId-1067194"></a></h1>
<h1>
<a id="pgfId-1067196"></a><hr />
Design Rule Driven Editing<hr />
</h1>

<p>
<a id="pgfId-1087860"></a>The Design Rule Driven (DRD) editing tool provides real-time dynamic DRC feedback to facilitate correct-by-construction layout design.You can use DRD editing to significantly reduce the number of design rule check (DRC) violations during layout editing. However, the features provided through DRD are not a replacement for physical verification tools such as Pegasus or PVS.</p>
<p>
<a id="pgfId-1087861"></a>DRD checks the layout against design rules defined as constraints. For a list of constraints supported by DRD editing, see <a href="supportedConstraints.html#48892">DRD Constraints Support</a>.</p>
<p>
<a id="pgfId-1087865"></a>This chapter contains the following topics:</p>
<ul><li>
<a id="pgfId-1087869"></a><a href="drdOverview.html#48071">Turning on DRD Editing</a></li><li>
<a id="pgfId-1087873"></a><a href="drdOverview.html#73000">DRD Operating Modes</a></li><li>
<a id="pgfId-1087877"></a><a href="drdOverview.html#60224">Selecting Constraints for Verification</a></li><li>
<a id="pgfId-1087881"></a><a href="drdOverview.html#94981">Selecting Layers for Verification</a></li><li>
<a id="pgfId-1087885"></a><a href="drdOverview.html#35661">Managing Interactive Display Options</a> </li><li>
<a id="pgfId-1087889"></a><a href="drdOverview.html#30144">Performing Color Checks (ICADVM20.1 Only)</a></li><li>
<a id="pgfId-1087893"></a><a href="drdOverview.html#78617">DRD Editing and Blockage Objects</a></li><li>
<a id="pgfId-1087897"></a><a href="drdOverview.html#35127">Using DRD Editing in VLS XL, VLS GXL, and VLS EXL</a></li><li>
<a id="pgfId-1087901"></a><a href="drdOverview.html#40829">Batch-Check Mode</a></li><li>
<a id="pgfId-1087905"></a><a href="drdOverview.html#68838">Verifying Selected Objects</a></li><li>
<a id="pgfId-1093060"></a><a href="drdOverview.html#19738">Verifying Nets</a></li></ul>











<h2>
<a id="pgfId-1087919"></a><a id="48071"></a>Turning on <a id="turningOnDRD"></a>DRD Editing</h2>

<p>
<a id="pgfId-1087920"></a>You can turn on DRD editing by using the icons available on the <em>Options</em> toolbar in Virtuoso or from the <a href="appA.html#37371">DRD Options</a> form.</p>
<p>
<a id="pgfId-1087924"></a>The figure below shows the icons for the three DRD editing modes in the OFF and ON states. By default, DRD editing is OFF. </p>

<p>
<a id="pgfId-1087945"></a></p>
<div class="webflare-div-image">
<img width="668" height="215" src="images/drdOverview-2.gif" /></div>
<h3>
<a id="pgfId-1087947"></a><a id="openDRDOptions"></a>Setting Up DR<a id="setupDRD"></a>D Options</h3>

<p>
<a id="pgfId-1087948"></a>The DRD Options form allows you to set up the options that are checked by DRD during layout editing. To open the DRD Options form, do one of the following.</p>
<ul><li>
<a id="pgfId-1087952"></a>Click the <em>DRD Options</em> icon <img width="34" height="33" src="images/drdOverview-3.gif" />
on the DRD toolbar. You can enable or disable the DRD toolbar using one of these methods:<ul><li>
<a id="pgfId-1087953"></a>Choose <em>Window</em> <em>&#8211; Toolbars</em> <em>&#8211; DRD</em>.</li><li>
<a id="pgfId-1087954"></a>Right-click anywhere in the main toolbar area and click <em>DRD</em>.</li></ul></li><li>
<a id="pgfId-1087955"></a>Choose <em>Options &#8211; DRD Edit.</em></li><li>
<a id="pgfId-1087956"></a>Choose <em>Verify &#8211; Design &#8211; Process Rules &#8211; DRD Options.</em></li><li>
<a id="pgfId-1087957"></a>Press <code>F7</code> if bindkeys are loaded.<br />
<a id="pgfId-1087961"></a>The <a href="appA.html#37371">DRD Options</a> form is displayed. The form consists of the following tabs:<br />
<a id="pgfId-1087965"></a><a href="appA.html#71232">Interactive Tab</a><br /><div class="webflare-div-image">
<img width="610" height="815" src="images/drdOverview-4.gif" /></div>
<a id="pgfId-1087973"></a><a href="appA.html#69355">Batch Tab</a><br /><div class="webflare-div-image">
<img width="617" height="679" src="images/drdOverview-5.gif" /></div>
<a id="pgfId-1087981"></a><a href="appA.html#57538">Filters Tab</a><br /><div class="webflare-div-image">
<img width="616" height="742" src="images/drdOverview-6.gif" /></div></li></ul>



















<div class="webflare-information-macro webflare-macro-video">
<a id="pgfId-1101280"></a>
For a quick overview of the DRD Options form, see <a actuate="user" class="URL" href="https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1O0V00000911M7UAI" show="replace" xml:link="simple">Introduction to the New DRD User Interface</a>. </div>

<p>
<a id="pgfId-1101319"></a>The following sections in this guide describe how you can set up the various DRD editing options.</p>

<h3>
<a id="pgfId-1102038"></a><a id="79408"></a>DRD C<a id="drdconfig"></a>onfiguration File</h3>

<p>
<a id="pgfId-1102032"></a>The DRD Options form lets you save and load its settings by using a configuration file. You can work with this file by using the fields near the lower edge of the DRD Options form.</p>

<p>
<a id="pgfId-1102588"></a></p>
<div class="webflare-div-image">
<img width="671" height="75" src="images/drdOverview-8.gif" /></div>

<p>
<a id="pgfId-1102231"></a>To specify a configuration file, type its name and path in the <em>Configuration file</em> field or use the browse button to locate and select an existing file. Ensure that you have write permissions to the path and file.</p>
<p>
<a id="pgfId-1102414"></a>To save the current settings in the DRD Options form to the specified configuration file, click the <em>Save To</em> button.</p>
<p>
<a id="pgfId-1102491"></a>To load settings from the specified configuration file into the DRD Options form, click the <em>Load From</em> button.</p>

<h2>
<a id="pgfId-1087990"></a><a id="73000"></a>DRD Op<a id="drdmodes"></a>erating Modes</h2>

<p>
<a id="pgfId-1087991"></a>DRD flags violations dynamically when you create or edit shapes, such as paths, pathSegs, pins, rectangles, polygons, and multi-part paths and instances, in the following three operating modes:</p>
<ul><li>
<a id="pgfId-1087992"></a><em>Enforce </em>stops cursor movement when the threshold for a design rule violation is reached.</li><li>
<a id="pgfId-1087993"></a><em>Notify</em> displays visual feedback on design rule violations.</li><li>
<a id="pgfId-1087994"></a><em>Post Edit</em> displays violation markers if creating or modifying an object in the layout results in design rule violations.</li></ul>


<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1104975"></a>For better usability, interactive checking is disabled when cursor movements are very fast or while editing designs zoomed out to a high level. </div>
<p>
<a id="pgfId-1087995"></a>You can use DRD in the following combinations:</p>
<ul><li>
<a id="pgfId-1087996"></a><em>Enforce</em> and <em>Notify</em></li><li>
<a id="pgfId-1087997"></a><em>Notify</em> and <em>Post Edit</em></li><li>
<a id="pgfId-1087998"></a><em>Enforce</em> and <em>Post Edit</em></li></ul>


<p>
<a id="pgfId-1087999"></a>To change the mode, use one of the following options:</p>
<ul><li>
<a id="pgfId-1088003"></a>The <a href="appA.html#37371">DRD Options</a> form <em>&#8211; Interactive </em>tab<br />
<a id="pgfId-1088004"></a>Select the <em>Enabled</em> check box against the three editing modes and click <em>OK</em>.
<br /><div class="webflare-div-image">
<img width="612" height="466" src="images/drdOverview-9.gif" /></div></li><li>
<a id="pgfId-1088008"></a>The <code>Ctrl+e</code> bindkey</li><li>
<a id="pgfId-1088010"></a>The <a href="../sklayoutref/drd.html#leToggleDrdMode">leToggleDrdMode</a> SKILL function<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1088011"></a>The bindkey and SKILL function help toggle between <em>Notify</em> and <em>Enforce</em> and <em>Enforce</em> and <em>Notify</em> modes.</div></li></ul>








<h3>
<a id="pgfId-1088018"></a><a id="76639"></a><a id="51080"></a><a id="99451"></a><a id="48918"></a><a id="95036"></a>Using Enforc<a id="enforcemode"></a>e Mode</h3>

<p>
<a id="pgfId-1088019"></a>In <em>Enforce</em> mode, the pointer is constrained or halted when a spacing violation occurs.</p>
<p>
<a id="pgfId-1088020"></a>The following figure shows an example of a violation created in <em>Enforce</em> mode.</p>

<p>
<a id="pgfId-1088025"></a><a id="93212"></a></p>
<div class="webflare-div-image">
<img src="images/drd_enforcemode.gif" /></div>

<p>
<a id="pgfId-1088028"></a>For information about the constraints supported in <em>Enforce</em> mode, see <a href="supportedConstraints.html#48892">DRD Constraints Support</a><em>.</em></p>

<h3>
<a id="pgfId-1088032"></a><a id="43268"></a>Using Notify Mo<a id="notifymode"></a>de</h3>

<p>
<a id="pgfId-1088033"></a>In <em>Notify</em> mode, the tool provides visual feedback (text, edges, halos, or arrows) when the specified design check rules are violated. However, the pointer is not constrained or halted, allowing you to create objects with design violations. If you create an object with design violations, the visual feedback about the violation disappears. To retain an indication of the design violation, you can turn on <em>Post Edit</em> mode. For more information, see <a href="drdOverview.html#65726">Using Post Edit Mode</a>.</p>
<p>
<a id="pgfId-1088037"></a>The following figure shows an ex vample of a violation created in <em>Notify</em> mode.</p>

<p>
<a id="pgfId-1088041"></a></p>
<div class="webflare-div-image">
<img width="668" height="262" src="images/drdOverview-11.gif" /></div>

<p>
<a id="pgfId-1088042"></a>You can enable <em>Enforce</em> and <em>Notify</em> modes together to use their combined behavior. For example, in the figure below, spacing constraints are enforced and the other constraints are notified.</p>

<p>
<a id="pgfId-1088046"></a></p>
<div class="webflare-div-image">
<img width="668" height="323" src="images/drdOverview-12.gif" /></div>
<h3>
<a id="pgfId-1088049"></a><a id="65726"></a>Using Post Edit Mo<a id="posteditmode"></a>de</h3>

<p>
<a id="pgfId-1088050"></a>In <em>Post Edit</em> mode, DRD displays violation markers if creating or modifying an object in the layout results in design rule violations.</p>
<p>
<a id="pgfId-1088051"></a>Post edit markers are displayed when data is modified, including any modification caused by a command run in the CIW; by user SKILL functions that create, modify, or delete data; and when using batch processing tools, such as the Virtuoso Custom Placer or the Virtuoso Custom Router. The following figure shows examples of post edit markers.</p>

<p>
<a id="pgfId-1088055"></a></p>
<div class="webflare-div-image">
<img width="668" height="209" src="images/drdOverview-13.gif" /></div>
<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1088056"></a>
The <em>Post Edit</em> and <em>Batch</em> modes can be slow when too many rules are being checked in a large design. You can use <code>Ctrl+c</code> to interrupt the checking process. Markers found before the process is interrupted are generated.</div>

<p>
<a id="pgfId-1088057"></a>In <em>Post Edit</em> mode, an incremental check is performed on an area based on the objects that are edited. For example, if you stretch a segment on the <code>Metal1</code> layer, DRD verifies the change and updates the markers related to <code>Metal1</code>. Existing markers that are not related to the object being edited are not deleted.</p>
<p>
<a id="pgfId-1088058"></a>You can view, analyze, and filter post edit markers on the <em>DRC/DFM</em> tab of the Annotation Browser. The markers are persistent objects that can be saved. For more information, see <h-hot><a actuate="user" class="URL" href="../vxlhelp/appF.html#annotationBrowser" show="replace" xml:link="simple">Annotation Browser</a></h-hot> in <em>Virtuoso Layout Suite XL User Guide</em>.</p>
<p>
<a id="pgfId-1088060"></a>You can search for, explain, and delete markers by using the commands on the <em>Verify &#8211; Markers</em> menu. For more information, see <h-hot><a actuate="user" class="URL" href="../vxlhelp/chap8.html#checkMarkers" show="replace" xml:link="simple">Markers</a></h-hot> in <em>Virtuoso Layout Suite XL User Guide</em>.</p>

<h4>
<a id="pgfId-1088064"></a><a id="25056"></a>Behavior of <a id="posteditEIP"></a>Post Edit Mode when Editing in Place</h4>

<p>
<a id="pgfId-1088065"></a>To display post edit markers when editing in place, ensure that you do the following: </p>

<ol><li>
<a id="pgfId-1088066"></a>In the DRD Options form: <ol><li>
<a id="pgfId-1088067"></a>On the <em>Interactive</em> tab, choose <em>Hierarchy Range</em> as <em>current to bottom</em>.</li><li>
<a id="pgfId-1088068"></a>Select the <em>Post Edit</em> <em>&#8211; Enabled </em>check box.</li></ol></li><li>
<a id="pgfId-1088069"></a>In the Annotation Browser, select <em>Scope</em> as <em>Top Cellview Only</em> or T<em>op Cellview To Depth</em>.</li></ol>




<p>
<a id="pgfId-1088070"></a>To understand how Post Edit mode works when editing in place, consider the following example in which an instance and three shapes are placed at the top level.</p>

<p>
<a id="pgfId-1088074"></a></p>
<div class="webflare-div-image">
<img src="images/EIP_Ex01.gif" /></div>

<p>
<a id="pgfId-1088075"></a>Next, select the instance and choose <em>Edit</em> &#8211; <em>Hierarchy</em> &#8211; <em>Edit In Place</em> and edit a shape inside the cell.</p>

<p>
<a id="pgfId-1088088"></a></p>
<div class="webflare-div-image">
<img width="657" height="247" src="images/drdOverview-16.gif" /></div>

<p>
<a id="pgfId-1088089"></a>To view the post edit markers, choose <em>Scope</em> as <em>Top Cellview Only</em> in the Annotation Browser, as shown below. Select a marker in the Annotation Browser to highlight it in the canvas.</p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1088106"></a>
Notice that the markers displayed in the Annotation Browser are dimmed. This is because all markers are created at the top level. Consequently, you cannot select a marker by clicking it in the canvas while Edit-In-Place is active.</div>
<p>
<a id="pgfId-1088115"></a></p>
<div class="webflare-div-image">
<img width="668" height="331" src="images/drdOverview-17.gif" /></div>
<h4><em>
<a id="pgfId-1088116"></a>Related Environment Variables</em></h4>

<p>
<a id="pgfId-1088117"></a>The following environment variables control the behavior of <em>Post Edit</em> mode when editing in place:</p>
<ul><li>
<a id="pgfId-1088121"></a><a href="appB.html#38284">drdPostEditEIPCheckTopView</a>: Checks for DRC violations between the shape being edited and the shapes in the parent hierarchy and in the neighboring cells. The default value is <code>t</code>. </li><li>
<a id="pgfId-1088125"></a><a href="appB.html#60510">drdPostEditEIPAllInstances</a>: Checks the environment around all instances of a cell for DRC violations when a shape in that cell is edited in place. The default value is <code>nil</code>.</li><li>
<a id="pgfId-1088129"></a><a href="appB.html#22658">drdPostEditEIPAllWindows</a>: Applies the value set for <code>drdPostEditEIPCheckTopView</code> and <code>drdPostEditEIPAllInstances</code> to all open design windows. The default value is <code>nil</code>.</li></ul>



<h4><em>
<a id="pgfId-1088130"></a>Example of Violations Created in All Instances of a Cell</em></h4>

<p>
<a id="pgfId-1088131"></a>The following figure illustrates the results of editing a shape in a cell with the <code>drdPostEditEIPAllInstances</code> environment variable set to <code>t</code>. You can see below two instances of the same cell, <em>Inst A</em> and <em>Inst B</em>. When a shape in <em>Inst A</em> is edited in place, it creates violations in both instances of the cell, as shown. </p>

<p>
<a id="pgfId-1088146"></a></p>
<div class="webflare-div-image">
<img width="625" height="345" src="images/drdOverview-18.gif" /></div>
<h3>
<a id="pgfId-1088149"></a><a id="89472"></a>Ignoring Viola<a id="intrainstanceChecks"></a>tions inside Instances</h3>

<p>
<a id="pgfId-1088150"></a>When <em>Hierarchy Range</em> is set as <em>current to bottom</em>,<em> current to stop level</em>, or <em>current to user level</em>, DRD in all modes reports DRC violations between a hierarchical object, such as an instance, and other hierarchical or top-level objects, such as wires, rectangles, and vias. However, in Enforce, Notify, and Post Edit modes, DRD does not report violations that may exist inside a hierarchical object if the shapes that cause violations are drawn on physical layers. This is because the <a href="appB.html#78968">drdEditIgnoreIntraInstanceChecks</a> environment variable is by default set to <code>t</code>. </p>
<p>
<a id="pgfId-1088154"></a>In Batch mode, when <em>Hierarchy Range</em> is set as <em>current to bottom</em>,<em> current to stop level</em>, or <em>current to user level</em>, DRD reports all violations that exist inside a hierarchical object, even when <code>drdEditIgnoreIntraInstanceChecks</code> is set to <code>t</code>.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1088155"></a>DRC violations involving derived layers found inside an instance being created, moved, copied, or stretched are reported in Enforce, Notify, and Post Edit modes.</div>

<h3>
<a id="pgfId-1088156"></a>Severity of DRD Markers</h3>

<p>
<a id="pgfId-1088157"></a>The severity type for DRD markers is <em>Error</em>. The severity for DRD markers is displayed in the Annotation Browser in the <em>Severity</em> column, as shown. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1088158"></a>To display the <em>Severity</em> column, right-click a column header in the Annotation Browser and choose<em> Columns</em> &#8211; <em>Severity</em>.</div>

<p>
<a id="pgfId-1088162"></a></p>
<div class="webflare-div-image">
<img width="668" height="372" src="images/drdOverview-19.gif" /></div>
<h2>
<a id="pgfId-1088164"></a><a id="60224"></a>Selecting Const<a id="filteringConstraints"></a>raints for Verification</h2>

<p>
<a id="pgfId-1088165"></a>You can use the <em>Filters</em> tab of the DRD Options form to choose the constraints that you want to check for violations. The filter feature is available at both the constraint category and individual constraint levels.</p>
<p>
<a id="pgfId-1088167"></a><a id="filterconstraints"></a>To select a constraint for design verification, do one of the following:</p>
<ul><li>
<a id="pgfId-1088168"></a>Type a string in the <em>Search Constraints</em> field. <br />
<a id="pgfId-1088169"></a>All the constraints containing the string are listed in the <em>Constraint</em> column, and the corresponding constraint categories are highlighted in the <em>Constraint Category</em> column. However, if you click a constraint category, the string is removed from the <em>Search Constraints</em> field and only the constraints belonging to that category are displayed in the <em>Constraint</em> column.
<br /><div class="webflare-div-image">
<img width="613" height="427" src="images/drdOverview-20.gif" /></div></li><li>
<a id="pgfId-1088173"></a>In the <em>Constraint Category</em> column, click the category you want to select or click and hold down the <code>Ctrl</code> key to select more than one category.<br />
<a id="pgfId-1088174"></a>The constraints for the selected categories are displayed in the <em>Constraint</em> column.</li></ul>






<p>
<a id="pgfId-1088176"></a>To control the checking of constraints for a category or a individual constraint, select or deselect the check box against it. </p>
<p>
<a id="pgfId-1098028"></a>To enable or disable the checking of all the constraint categories at one go, click the <em>S</em> column header next to <em>Constraint Category</em>. </p>
<p>
<a id="pgfId-1103917"></a>To enable or disable the checking of all the selected constraints at one go, click the column headers that indicate the different supported modes. The <em>E</em>, <em>N</em>, <em>PE</em>, and <em>B</em> columns indicate the Enforce, Notify, Post Edit, and Batch modes, respectively.</p>

<h2>
<a id="pgfId-1088190"></a><a id="94981"></a>Selecting Layers f<a id="filteringLayers"></a>or Verification</h2>

<p>
<a id="pgfId-1096907"></a>The Filters tab of the DRD Options form lets you choose the layers that you want to check for violations. When you filter the layers, only those violations that involve shapes on the selected layers are displayed. You can select the layers from the three layer categories provided, that is, <em>Routing</em>, <em>Device</em>, and <em>Derived</em>. The filter feature is available at both the layer category and individual layer levels.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1096993"></a>If you select the <em>Palette</em> check box, the layer filter options are disabled. In this case, you can control the checking of layers based on the layer visibility in Palette.</div>
<p>
<a id="pgfId-1088194"></a><a id="filterlayers"></a>To select a layer for design verification, do one of the following:</p>
<ul><li>
<a id="pgfId-1088195"></a>Type a string in the <em>Search Layers</em> field. <br />
<a id="pgfId-1088196"></a>All layers containing the string are listed in the <em>Layer</em> column, and the corresponding layer categories are highlighted in the <em>Layer Category</em> column. However, if you click a layer category, the string is removed from the <em>Search Layers</em> field and only the layers belonging to that category are displayed in the <em>Layer</em> column.
<br /><div class="webflare-div-image">
<img width="597" height="378" src="images/drdOverview-21.gif" /></div>
<a id="pgfId-1103954"></a>For optimal performance, only layers included in the fabrication process and with a corresponding drawing purpose in the technology file are displayed in the Layer filter and will be checked through the filter. <br />
<a id="pgfId-1104462"></a>Layers are categorized as follows in DRD:<ul><li>
<a id="pgfId-1103958"></a>Routing: Includes physical layers whose functions are defined and whose material type is one of these: Cut, Poly, Metal, or Contactless Metal (excluding Other material type).</li><li>
<a id="pgfId-1103960"></a>Derived: Includes derived layers in the technology file.</li><li>
<a id="pgfId-1104389"></a>Device: Includes layers that are not Routing or Derived layers and Cut layers in which the below layer is not Metal.</li><li>
<a id="pgfId-1103964"></a>Other material types: Includes layers with undefined function.</li></ul></li><li>
<a id="pgfId-1088200"></a>In the <em>Layer Category</em> column, click the category you want to select or click and hold down the <code>Ctrl</code> key to select more than one category.<br />
<a id="pgfId-1088201"></a>The layers for the selected categories are displayed in the <em>Layer</em> column.</li></ul>












<p>
<a id="pgfId-1097333"></a>To enable or disable the checking of shapes and objects on a layer or layer category, select or deselect the check box against it. </p>
<p>
<a id="pgfId-1098626"></a>To enable or disable the checking of all the three layer categories at one go, click the <em>S</em> column header next to <em>Layer Category</em>. </p>
<p>
<a id="pgfId-1103536"></a>To enable or disable the checking of all the selected layers at one go, click the <em>S</em> column header next to <em>Layer</em>.</p>

<h2>
<a id="pgfId-1088387"></a><a id="35661"></a>Managing Interactive Display Options</h2>

<p>
<a id="pgfId-1088388"></a>The various <em>Display</em> options available on the <em>Interactive</em> tab work with DRD Enforce and DRD Notify modes:</p>

<p>
<a id="pgfId-1088392"></a></p>
<div class="webflare-div-image">
<img width="666" height="252" src="images/drdOverview-22.gif" /></div>

<p>
<a id="pgfId-1088393"></a>To enable an option, ensure that the corresponding check box is selected and specify the required value.</p>
<ul><li>
<a id="pgfId-1088394"></a><em>Arrows </em>displays arrows to indicate optimum spacing between objects. The arrows are proportional to the size of the objects. <br />
<a id="pgfId-1088398"></a><div class="webflare-div-image">
<img width="635" height="210" src="images/drdOverview-23.gif" /></div></li><li>
<a id="pgfId-1088399"></a><em>Edges </em>highlights the edge where the violation occurs. <br />
<a id="pgfId-1088403"></a><div class="webflare-div-image">
<img width="635" height="233" src="images/drdOverview-24.gif" /></div></li><li>
<a id="pgfId-1088404"></a><em>Rule Text</em> displays the name of the violated constraint at the location where the violation occurs. You can use the <a href="../vlehelp/appB.html#displaySigDigits">displaySigDigits</a> environment variable to specify the number of decimal digits the constraint value must be displayed with in the rule text. <br />
<a id="pgfId-1088406"></a>If the bounding boxes for rule text overlap, the rule text for the violation that is encountered first is displayed. Trailing zeros are removed to improve readability.</li><li>
<a id="pgfId-1088407"></a><em>Ref Text </em>displays the <code>ref</code> text for a constraint from the technology file, followed by the constraint value. This text contains the rule ID from the Design Rule Manual (DRM) of the foundry, and is, therefore, more meaningful for a layout designer. When deselected, only the name of the violated constraint is displayed, as shown below.<br /><ffi2-fig-frame-in-2 id="#id1088419">
<a id="pgfId-1088419"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="602" height="329" src="images/drdOverview-25.gif" /></div></li><li>
<a id="pgfId-1088420"></a><em>Halo </em>creates halos around stationary objects while creating or editing an object that violates a spacing constraint.</li><li>
<a id="pgfId-1088421"></a><em>True Color </em>halos for each layer are drawn in the color of that layer. This makes it easier to differentiate between halos on different layers. <br /><ffi2-fig-frame-in-2 id="#id1088433">
<a id="pgfId-1088433"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="602" height="200" src="images/drdOverview-26.gif" /></div></li><li>
<a id="pgfId-1088434"></a><em>Auto Halo Turn Off</em> suppresses halos if the number of violations exceeds the value that you specify. Only arrows are displayed on the canvas when the defined limit is reached.<br />
<a id="pgfId-1088435"></a>You can specify a value between <code>1</code> and <code>1000</code>.</li></ul>

























<h2>
<a id="pgfId-1088438"></a><a id="30144"></a>Performing C<a id="DRDColorChecks"></a>olor Checks (ICADVM20.1 Only)</h2>

<p>
<a id="pgfId-1088439"></a>The <em>MPT Checks</em> options available on the <em>Interactive</em> and <em>Batch</em> tabs enable you to perform color checks on a Multi-Patterning Technology (MPT) design with DRD. These checks are divided into the following two categories:</p>
<ul><li>
<a id="pgfId-1099405"></a><a href="drdOverview.html#88227">Color Constraints Checks</a></li><li>
<a id="pgfId-1099443"></a><a href="drdOverview.html#77096">Color-Related Flow Checks</a></li></ul>


<h3>
<a id="pgfId-1099421"></a><a id="88227"></a>Color Constraints Checks</h3>

<p>
<a id="pgfId-1101001"></a></p>

<div class="webflare-div-image">
<img width="666" height="166" src="images/drdOverview-27.gif" /></div>

<p>
<a id="pgfId-1099446"></a>The <em>MPT Checks</em> drop-down menu lets you perform the checks for color constraints in different DRD modes. This drop-down list provides the following four options:</p>
<ul><li>
<a id="pgfId-1088446"></a><em>On</em>: (Default) DRD reports violations for all color-related constraints, including non-color constraints. </li><li>
<a id="pgfId-1088447"></a><em>Off</em>: DRD reports violations for all available constraints except those related to color constraints. For example, DRD in this mode reports all <code>minSpacing</code> violations except <code>sameMask</code> violations.</li><li>
<a id="pgfId-1088448"></a><em>Only</em>: DRD reports violations only for color-related constraints. </li><li>
<a id="pgfId-1088449"></a><em>Conservative</em>: DRD checks all color rules on all shapes irrespective of their color. For example, DRD reports same-mask violations as follows:<ul><li>
<a id="pgfId-1088450"></a>Between shapes that are on the same mask, such as mask1-mask1 and mask2-mask2</li><li>
<a id="pgfId-1088451"></a>Between shapes that are on different masks, such as mask1-mask2</li><li>
<a id="pgfId-1088452"></a>Between gray shapes and other shapes of any other color, such as gray-gray or gray-mask<span class="webflare-courier-new" style="white-space:pre"><em>N</em></span>, where <span class="webflare-courier-new" style="white-space:pre"><em>N</em></span> = 1, 2, 3, &#8230;</li></ul><br />
<a id="pgfId-1100073"></a>The figure below shows violations that are reported when <em>Conservative</em> is selected:<br />
<a id="pgfId-1088476"></a><div class="webflare-div-image">
<img width="635" height="793" src="images/drdOverview-28.gif" /></div></li></ul>











<p>
<a id="pgfId-1099686"></a>While checking color constraints, you can select the <em>Consider Gray Shapes</em> check box to report violations for all gray shapes. This option is available only in the <em>MPT Checks </em>&#8211; <em>On</em> and <em>MPT Checks </em>&#8211; <em>Only</em> modes.<br /></p>

<div class="webflare-div-image">
<img width="666" height="189" src="images/drdOverview-29.gif" /></div>
<h3>
<a id="pgfId-1088453"></a><a id="77096"></a>Color-Related Flow Checks</h3>

<p>
<a id="pgfId-1100944"></a></p>

<div class="webflare-div-image">
<img width="666" height="184" src="images/drdOverview-30.gif" /></div>

<p>
<a id="pgfId-1100079"></a>The color-related flow checks are described below. These checks are independent of the <em>MPT Checks</em> drop-down menu settings.</p>
<ul><li>
<a id="pgfId-1088477"></a><em>Colorability</em>: Colorability check is performed to determine if a set of shapes is colorable without any color rule violation in an MPT environment. This check does not look for actual color of the shapes. If a set of shapes fails colorability check, those shapes cannot be colored using a certain number colors. In case of a Double Patterning Technology (DPT) environment, the set of shapes needs to be colored using two colors; in case of a Triple Patterning Technology (TPT) environment, the number of colors would be three. For more information, see <a href="../ascitechconstr/constr_misc.html#multiMaskCheck">multiMaskCheck</a> in <em>Virtuoso Technology Data Constraints Reference</em>.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1100475"></a>Colorability checks are available only in DRD Notify, Post Edit, and Batch modes, and they can be performed only when the <em>Spacing</em> and <em>Complex Spacing</em> constraint groups are selected on the <em>Filters</em> tab of the <a href="appA.html#37371">DRD Options</a> form.</div>
<a id="pgfId-1088483"></a>The figure below shows a double patterning loop violation:<br />
<a id="pgfId-1088487"></a><div class="webflare-div-image">
<img width="635" height="335" src="images/drdOverview-31.gif" /></div>
<a id="pgfId-1088488"></a>(ICADVM20.1 Only) The figure below shows a triple patterning loop violation:<br />
<a id="pgfId-1088492"></a><div class="webflare-div-image">
<img width="635" height="190" src="images/drdOverview-32.gif" /></div></li><li>
<a id="pgfId-1088493"></a><em>Color Shorts</em>: Reports overlaps between shapes with different colors, irrespective of their lock status.<br />
<a id="pgfId-1088494"></a>If <code>minStitchOverlap</code> is defined for a layer, DRD reports stitch violations, instead of color shorts, for shapes on that layer.</li><li>
<a id="pgfId-1088496"></a><em>Unlocked Shapes</em><a id="UnlockedShapes"></a>: Reports color-unlocked shapes on a layer.</li><li>
<a id="pgfId-1088497"></a><em>Uncolored Shapes</em>: Reports uncolored (gray) shapes on layers that support multiple masks.</li><li>
<a id="pgfId-1103259"></a><em>Consider Unlocked Shapes as Gray</em>: Considers unlocked shapes as gray.</li></ul>

















<h4>
<a id="pgfId-1088500"></a>Using the Annotation Browser to View Color Check Violations</h4>

<p>
<a id="pgfId-1088501"></a>Color violations are displayed in the Annotation Browser under tool category <em>drdEdit</em>.</p>

<h4><em>
<a id="pgfId-1088502"></a>Viewing Color Shorts</em></h4>

<p>
<a id="pgfId-1088503"></a>The Annotation Browser lists the color shorts between shapes on different masks under <em>diffMaskShortNotAllowed</em>.</p>

<p>
<a id="pgfId-1088515"></a></p>
<div class="webflare-div-image">
<img width="668" height="602" src="images/drdOverview-33.gif" /></div>
<h4><em>
<a id="pgfId-1088516"></a>Viewing Uncolored Shapes</em></h4>

<p>
<a id="pgfId-1088517"></a>The Annotation Browser lists the uncolored (gray) shapes drawn on layers that support multiple masks under <em>uncolored</em>.</p>

<p>
<a id="pgfId-1088521"></a></p>
<div class="webflare-div-image">
<img width="668" height="280" src="images/drdOverview-34.gif" /></div>
<h4><em>
<a id="pgfId-1088522"></a>Viewing Color-Unlocked Shapes</em></h4>

<p>
<a id="pgfId-1088523"></a>The Annotation Browser lists the color-unlocked shapes on a layer under <em>unLocked</em>.<br /></p>

<div class="webflare-div-image">
<img width="1089" height="312" src="images/drdOverview-35.gif" /></div>

<p>
<a id="pgfId-1088528"></a>For more information about checking and fixing color violations, see <em><a actuate="user" class="URL" href="../vmptuser/CheckingAndFixing.html#firstpage" show="replace" xml:link="simple">Virtuoso Multi-Patterning Technology User Guide</a></em> (ICADVM20.1 Only).</p>

<h4>
<a id="pgfId-1088529"></a>Related Environment Variables</h4>

<p>
<a id="pgfId-1088530"></a>The following environment variables can be used to set various color-related options in DRD:</p>
<ul><li>
<a id="pgfId-1088534"></a><a href="appB.html#71897">drdEditColorRules</a></li><li>
<a id="pgfId-1088780"></a><a href="appB.html#24501">drdEditBatchColorRules</a></li><li>
<a id="pgfId-1088765"></a><a href="appB.html#31652">drdColorability</a></li><li>
<a id="pgfId-1088549"></a><a href="appB.html#22762">drdBatchColorability</a></li><li>
<a id="pgfId-1088553"></a><a href="appB.html#41902">drdColorShorts</a></li><li>
<a id="pgfId-1088557"></a><a href="appB.html#88501">drdBatchColorShorts</a></li><li>
<a id="pgfId-1088561"></a><a href="appB.html#83940">drdUnlocked</a></li><li>
<a id="pgfId-1088565"></a><a href="appB.html#75226">drdBatchUnlocked</a></li><li>
<a id="pgfId-1088569"></a><a href="appB.html#66253">drdUncoloredShapes</a></li><li>
<a id="pgfId-1088573"></a><a href="appB.html#77060">drdBatchUncoloredShapes</a></li><li>
<a id="pgfId-1088577"></a><a href="appB.html#40112">drdConsiderGrayShapes</a></li><li>
<a id="pgfId-1088581"></a><a href="appB.html#59097">drdBatchConsiderGrayShapes</a></li><li>
<a id="pgfId-1103297"></a><a href="appB.html#76745">drdConsiderUnlockedShapesAsGray</a></li><li>
<a id="pgfId-1103301"></a><a href="appB.html#99114">drdBatchConsiderUnlockedShapesAsGray</a></li></ul>














<h2>
<a id="pgfId-1088586"></a><a id="78617"></a><a id="77980"></a><a id="97135"></a><a id="13647"></a>DRD Editing and Blockage Objects</h2>

<p>
<a id="pgfId-1088587"></a>A blockage object is a polygonal object that outlines illegal placement and/or routing areas for applicable types of objects in a given cellview. For example, a routing blockage is defined as an area where no interconnect objects may be placed on the specified layer.</p>
<p>
<a id="pgfId-1088588"></a>If an interconnect object (path, via, or other basic shape) is created or edited on a layer to overlap blockage of the same layer, DRD editing violations are reported depending on the DRD editing settings (display of graphical feedback in Notify and Post Edit modes or adjustment of the interactive drag point in Enforce mode). The violation text message is &#8220;&lt;type&gt; blockage&#8221;, where &#8220;type&#8221; is one of the blockage types: routing, placement, wiring, fill, slot, pin, and placement halo. DRD editing does not consider blockage types &#8220;feedthru&#8221; and &#8220;screen&#8221;.</p>
<p>
<a id="pgfId-1088589"></a>When a blockage object is near, contained within, or overlapping an interconnect object (path, via or other basic shape), violations are flagged only with post edit markers. DRD does not attempt to interactively flag with warnings (in Notify mode), nor attempt to adjust the drag point, nor move the non-blockage objects already placed (in Enforce mode). For example, if a path exists, and a routing blockage is created to overlap it, the violations are flagged with post edit markers by DRD editing if enabled.</p>
<p>
<a id="pgfId-1088590"></a>When you use the <em>Create</em>, <em>Move</em>, <em>Copy</em>, <em>Stretch</em> or other edit commands on a blockage object, the markers are also only post edit if enabled. However, when you create design objects, all the three DRD modes are applied based on DRD editing settings.</p>

<h2>
<a id="pgfId-1088593"></a><a id="35127"></a>Using D<a id="DRDXL"></a>RD Editing in VLS XL, VLS GXL, and VLS EXL</h2>

<p>
<a id="pgfId-1088594"></a>The VLS XL, VLS GXL (IC6.1.8 Only), and VLS EXL (ICADVM20.1 Only) environments are connectivity and constraint driven, where the design is checked for short and open violations and for speciality routing constraints. DRD connectivity awareness is driven by the layout extractor. We therefore recommend that you run extraction when initially loading the design. The DRD modes use the XL extractor to assign connectivity to unassigned shapes when <em>Create Wire</em>, <em>Stretch</em>, <em>Reshape</em>, and <em>Point to Point </em>commands are run. To extract the design, choose <em>Connectivity &#8211; Update &#8211; Extract Layout</em>. </p>
<p>
<a id="pgfId-1088597"></a>For more information about extraction, see <h-hot><a actuate="user" class="URL" href="../vxlhelp/chap8.html#connectivityExtraction" show="replace" xml:link="simple">Connectivity Extraction</a></h-hot> and <h-hot><a actuate="user" class="URL" href="../vxlhelp/appD.html#automaticConnectivityExtraction" show="replace" xml:link="simple">Extract Layout</a></h-hot> in <em>Virtuoso Layout Suite XL User Guide</em>.</p>
<p>
<a id="pgfId-1088598"></a>When DRD Enforce mode is enabled, assisted routing commands, such as point-to-point routing, guided routing, and finish wire, create routing after validating the commands based on the design rule checks. </p>
<p>
<a id="pgfId-1088600"></a>For more information about assisted routing commands, see <h-hot><a actuate="user" class="URL" href="../weuser/assisted.html#firstpage" show="replace" xml:link="simple">Using Assisted Routing Commands</a></h-hot> in <em>Virtuoso Interactive and Assisted Routing User Guide</em>.</p>

<h2>
<a id="pgfId-1088602"></a><a id="40829"></a>Batch-Che<a id="batchcheck"></a>ck Mode</h2>

<p>
<a id="pgfId-1088603"></a>You can run DRD in Batch mode either on the entire design or on a specified area in the design. This feature is available only in VLS XL, VLS GXL (IC6.1.8 Only), and VLS EXL (ICADVM20.1 Only) modes. </p>
<p>
<a id="pgfId-1088604"></a>To run DRD in Batch mode, do one of the following.</p>
<ul><li>
<a id="pgfId-1088608"></a>Click the <em>Verify Design</em> icon <img width="33" height="25" src="images/drdOverview-36.gif" />
 on the DRD toolbar and select the area of check from the drop-down list. The three area options are <em>Current Cellview</em><span>, </span><em>Visible Area</em><span>, and </span><em>Select Area</em><span>.</span><br />
<a id="pgfId-1088609"></a><em>Current Cellview</em> (default) checks all the shapes in the current editable cellview.<br />
<a id="pgfId-1088610"></a><em>Visible Area</em> checks all the shapes in the current viewable area.<br />
<a id="pgfId-1088611"></a><em>Select Area</em> checks all the shapes in the specified area of the design.<br />
<a id="pgfId-1088612"></a>When you select the <em>Select Area</em> option, specify the lower-left and upper-right coordinates for the region in this format <code>((xlower ylower) (xupper yupper))</code> in the text box provided on the DRD toolbar. Alternatively, you can define the area on the canvas.</li><li>
<a id="pgfId-1088613"></a>Click the <em>DRD Options</em> icon <img width="29" height="27" src="images/drdOverview-37.gif" />
 on the DRD toolbar, choose <em>Options</em><span> &#8211; </span><em>DRD Edit</em><span> or choose </span><em>Verify</em><span> &#8211; </span><em>Design</em><br />
<a id="pgfId-1088620"></a>The <a href="appA.html#37371">DRD Options</a> form is displayed. Use the <a href="appA.html#69355">Batch Tab</a> to set up the various Batch mode options.</li></ul>






<p>
<a id="pgfId-1088621"></a>For information about running DRD in Batch mode on read-only cellviews, see <h-hot><a actuate="user" class="URL" href="../sklayoutref/drd.html#drdBatchCheck" show="replace" xml:link="simple">drdBatchCheck</a></h-hot> and <a href="appB.html#88068">drdEditEnableBatchCheckOnReadOnlyDesign</a>.</p>

<h2>
<a id="pgfId-1088640"></a><a id="68838"></a>Verifying <a id="verifyselected"></a>Selected<a id="VerifyingSelectedObjects"></a> Objects</h2>

<p>
<a id="pgfId-1088641"></a>After selecting one or more objects in the layout, you can run a DRD check to verify if DRC violations exist between the selected objects and between the selected and the neighboring objects.</p>
<p>
<a id="pgfId-1088642"></a>To verify selected objects, select one or more objects in the layout and choose <em>Verify</em> &#8211; <em>Selection</em>. You can verify up to 25 objects at a time.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1088643"></a>This capability is available only in VLS XL, VLS GXL (IC6.1.8 Only), and VLS EXL (ICADVM20.1 Only) modes.</div>
<p>
<a id="pgfId-1088644"></a>The figure below shows the violations that exist between the selected objects and their neighboring objects.</p>

<p>
<a id="pgfId-1088670"></a></p>
<div class="webflare-div-image">
<img width="668" height="467" src="images/drdOverview-38.gif" /></div>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1088671"></a>Choose <em>Edit</em> &#8211; <em>Undo</em> if you need to remove the violation markers found by <em>Verify</em> &#8211; <em>Selection</em>.</div>
<p>
<a id="pgfId-1088674"></a>You can also verify objects by using the <a href="../sklayoutref/drd.html#drdVerifySelSet">drdVerifySelSet</a> SKILL function.</p>

<h2>
<a id="pgfId-1092354"></a><a id="19738"></a>Verify<a id="verifyNets"></a>ing Nets</h2>

<p>
<a id="pgfId-1092356"></a>The <em>Verify DRC</em> command enables you to check for DRC violations on a net or a set of nets. All shapes for the selected nets under the current hierarchy are checked for violations. To check for violations between the shapes on the selected nets and the shapes down the hierarchy, you can change the <em>Hierarchy Range</em> appropriately on the <em>Batch</em> tab of the DRD Options form.</p>
<p>
<a id="pgfId-1096386"></a>The <em>Verify DRC</em> command is independent of the <em>Scope</em> options specified in the DRD Options form. That is, it is run for the selected nets on the entire cellview.</p>
<p>
<a id="pgfId-1092358"></a>To run <em>Verify DRC</em> on a net, do the following:</p>
<ul><li>
<a id="pgfId-1092360"></a>In the <em>Navigator</em> assistant, select one or more nets, right-click, and choose <em>Verify DRC</em> from the context menu.
<br /><div class="webflare-div-image">
<img width="634" height="562" src="images/drdOverview-39.gif" /></div></li></ul>



<p>
<a id="pgfId-1063439"></a>You can view, analyze, and filter the violation markers of net verification on the <em>DRC/DFM</em> tab of the Annotation Browser.</p>

<div class="webflare-information-macro webflare-macro-video">
<a id="pgfId-1104692"></a>
For a quick overview of the feature, see <a actuate="user" class="URL" href="https://support.cadence.com/apex/ArticleAttachmentPortal?pageName=ArticleContent&amp;id=a1O0V000009MqkdUAC" show="replace" xml:link="simple">Verifying Nets in DRD</a>.</div>
<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="preface.html" id="prev" title="Preface">Preface</a></em></b><b><em><a href="drdTargets.html" id="nex" title="DRD Advanced Features">DRD Advanced Features</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2020, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>