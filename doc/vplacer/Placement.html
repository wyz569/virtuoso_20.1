
<html><head><title>Performing Design Placement</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="spriya" />
<meta name="CreateDate" content="2020-09-10" />
<meta name="CreateTime" content="1599806256" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the features and functionality of the Virtuoso Custom Placer in the ICADV 12.2 release." />
<meta name="DocTitle" content="Virtuoso Placer User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Performing Design Placement" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.2.1" />
<meta name="Keyword" content="vplacer" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2020-09-10" />
<meta name="ModifiedTime" content="1599806256" />
<meta name="NextFile" content="FinishingTasks.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="Rows.html" />
<meta name="c_product" content="Virtuoso Layout Suite" />
<meta name="Product" content="Virtuoso Layout Suite" />
<meta name="ProductFamily" content="Virtuoso Layout Suite" />
<meta name="ProductVersion" content="ICADVM20.1" />
<meta name="RightsManagement" content="Copyright 2012-2020 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Placer User Guide -- Performing Design Placement" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="ICADVM20.1" />
<meta name="SpaceKey" content="vplacerICADVM201" />
<meta name="webflare-version" content="2.0" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="vplacerTOC.html">Contents</a></li><li><a class="prev" href="Rows.html" title="Creating Rows">Creating Rows</a></li><li style="float: right;"><a class="viewPrint" href="vplacer.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="FinishingTasks.html" title="Placement Post-Processing">Placement Post-Processing</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Placer User Guide<br />Product Version ICADVM20.1, October 2020</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>3
<a id="pgfId-1065576"></a></h1>
<h1>
<a id="pgfId-1065611"></a><hr />
Performing Design Placement<hr />
</h1>

<p>
<a id="pgfId-1069345"></a>The Virtuoso Placer supports two placement types - automatic and assisted.</p>
<ul><li>
<a id="pgfId-1069504"></a>Automatic placement is performed by the Virtuoso Placer. </li><li>
<a id="pgfId-1070232"></a>Assisted placement is the process of placing devices semi-automatically. Depending on the complexity of your design and your placement needs, you can choose to perform complete assisted placement of your design or use the assisted placement options to refine the placement after running the Virtuoso Placer. <br />
<a id="pgfId-1069883"></a>Assisted placement options are available under the <em>Place</em> menu and on the <em>Assisted</em> tab of the Placement Options form.</li></ul>


<p>
<a id="pgfId-1070089"></a>The topics covered in this chapter are:</p>
<ul><li>
<a id="pgfId-1069529"></a><a href="Placement.html#32313">Setting Placement Options</a></li><li>
<a id="pgfId-1070058"></a><a href="Placement.html#67761">Running the Automatic Placer</a></li><li>
<a id="pgfId-1070202"></a><a href="Placement.html#66891">Performing Assisted Placement</a></li></ul>


<p>
<a id="pgfId-1072270"></a>The chapter also includes the following sections:</p>
<ul><li>
<a id="pgfId-1072282"></a><a href="Placement.html#50926">Viewing the Placement Report</a></li><li>
<a id="pgfId-1072296"></a><a href="Placement.html#91052">Support for Module Generators</a></li><li>
<a id="pgfId-1085216"></a><a href="Placement.html#58179">Supported Properties</a></li></ul>



<h2>
<a id="pgfId-1069542"></a><a id="32313"></a>Setting Placement Options</h2>

<p>
<a id="pgfId-1069574"></a>You can use the options in the Placement Options form to customize the assisted and automatic placement features. </p>
<p>
<a id="pgfId-1069575"></a>To display the Placement Options form, select <em>Place</em> &#8211; <em>Placement Options</em>.</p>

<p>
<a id="pgfId-1069579"></a></p>
<div class="webflare-div-image">
<img src="images/PlacementOptions_Cropped.gif" /></div>

<p>
<a id="pgfId-1073846"></a>The Placement Options form has the following three tabs:</p>
<ul><li>
<a id="pgfId-1073927"></a>Assisted, which provides options for assisted move commands and specifies assisted placement settings. This tab is displayed by default. For more information, see <a href="Placement.html#23106">Assisted Placement Options</a>.</li><li>
<a id="pgfId-1073931"></a>Automatic, which specifies automatic placement settings. For more information, see <a href="Placement.html#37972">Automatic Placement Options</a>.</li><li>
<a id="pgfId-1073908"></a>Common, which includes options that are relevant for both assisted and automatic placement. For more information, see <a href="Placement.html#83421">Common Options</a>.</li></ul>


<p>
<a id="pgfId-1087641"></a>Both, assisted and automatic placement methods support snapping of individual objects and object groups to grids. For more information, see <a href="Placement.html#90820">Snapping Behavior</a>.</p>
<p>
<a id="pgfId-1074685"></a>Virtuoso Placer honors the Net Priority routing constraint set on nets. The Net Priority constraint defines the order of priority when routing a net. You can specify the priority of nets in the -128 to 128 range, where -128 is the lowest priority. The higher the priority, the closer the placer places the instances attached to the associated net.</p>

<h3>
<a id="pgfId-1073958"></a><a id="23106"></a>Assisted Placement Options</h3>

<p>
<a id="pgfId-1073959"></a>When you open the Placement Options form, the <em>Assisted</em> tab is displayed by default. </p>

<p>
<a id="pgfId-1073963"></a></p>
<div class="webflare-div-image">
<img src="images/PlacementOptions_Interactive.gif" /></div>

<p>
<a id="pgfId-1069601"></a>Use the options on this tab to perform the following tasks:</p>
<ul><li style="list-style-type: none;background-image: none;"><ul><li>
<a id="pgfId-1069605"></a><a href="Placement.html#49953">Assisted Placement</a></li><li>
<a id="pgfId-1069613"></a><a href="Placement.html#19998">Abut Rows Use Device Order</a></li></ul></li></ul>


<h4>
<a id="pgfId-1069615"></a><a id="49953"></a>Assisted Placement</h4>

<p>
<a id="pgfId-1070427"></a>The <em>Assisted Placement</em> section provides the following advanced assisted features:</p>
<ul><li>
<a id="pgfId-1070454"></a>Snaps single instances, chains, figGroups, mosaics, and Modgens to rows and snap patterns in real time. When multiple instances are moved simultaneously, each instance is snapped individually to the row over which it is moved, while honoring the existing row attributes. For more information about moving multiple instances, see <a href="Placement.html#96600">Moving Multiple Instances</a>.</li><li>
<a id="pgfId-1075168"></a>Places single devices that are (incrementally) generated in the layout view using <em>Connectivity</em> - <em>Generate</em> - <em>Selected From Source</em>.</li><li>
<a id="pgfId-1073943"></a>Lets you remove overlaps post-edit and choose the direction in which devices should be moved to resolve overlaps.</li><li>
<a id="pgfId-1073944"></a>Enables constraint-aware editing.</li><li>
<a id="pgfId-1073945"></a>Supports transparent mode and edit in place.</li><li>
<a id="pgfId-1069616"></a>Lets you choose the order in which devices are abutted.<br /><div class="webflare-information-macro webflare-macro-tip">
<a id="pgfId-1070997"></a>
Assisted Placement is also referred to as Assisted Move.</div></li></ul>








<p>
<a id="pgfId-1070408"></a>When <em>Enable</em> is selected in the <em>Assisted Placement</em> section, instances are snapped to the nearest rows instead of grids, as shown below:</p>

<p>
<a id="pgfId-1069624"></a></p>
<div class="webflare-div-image">
<img width="668" height="222" src="images/Placement-5.gif" /></div>
<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1071976"></a>
In Virtuoso Layout EXL, the assisted placement snapping behavior overrides the snapping behavior set in the <em>Snapping</em> section of the Layout Editor Options form. Therefore, <em>Instance to Row</em> snapping and <em>Snap Pattern Snapping</em> settings are not applicable when <em>Enable</em> is selected. For information about the snapping options in the Layout Editor Options form, see <a actuate="user" class="URL" href="../vlehelp/appA.html#snapping" show="replace" xml:link="simple">Snapping</a>.</div>

<p>
<a id="pgfId-1069625"></a>When instances are moved with <em>Enable </em>selected, you can see an info balloon that displays the following information. Use either the <em>Show Info Balloon</em> option, or the <a href="vPlaceEnvars.html#49181">infoBalloon</a> environment variable to control the display of info balloon. The option is selected by default.</p>

<p>
<a id="pgfId-1074759"></a></p>
<div class="webflare-div-image">
<img width="668" height="175" src="images/Placement-7.gif" /></div>

<p>
<a id="pgfId-1074798"></a>In the Constraint-Aware Editing (CAE) mode, instances that lie outside the cluster boundaries are highlighted. An arrow indicates the respective cluster boundary, and the cluster violation count is displayed in the info balloon. For more information, see <h-hot><a actuate="user" class="URL" href="../vxlhelp/chap7.html#constraintAwareEditing" show="replace" xml:link="simple">Constraint-Aware Editing</a></h-hot> in <em>Virtuoso Layout Suite XL User Guide</em>.</p>
<p>
<a id="pgfId-1073218"></a>The <a href="vPlaceEnvars.html#90772">displaySnappedInfo</a> environment variable controls the display of snapping information in the info balloon.</p>
<p>
<a id="pgfId-1069652"></a>Snapping behavior is based on the row definition in the row template and also applies to Modgens, mosaics, and figGroups. For more information about the snapping behavior of Modgens, see <a href="Placement.html#91052">Support for Module Generators</a>.</p>

<h4><em>
<a id="pgfId-1076778"></a><a id="96600"></a>Moving Multiple<a id="multiMove"></a> Instances</em></h4>

<p>
<a id="pgfId-1076779"></a>You can select and move multiple instances simultaneously. Each instance is snapped to rows in real time, while honoring the row attributes. Consider a design with two row regions, each with different type of rows:</p>
<ul><li>
<a id="pgfId-1076780"></a>Top Region: Rows have been generated using the Mixed row template. This template comprises two row types with similar definitions. They can contain standard cells, PFIN devices, and NFIN devices. The NFIN devices are aligned to the bottom, while the PFIN devices are aligned to the top. The PFIN devices have a mirrored orientation.</li><li>
<a id="pgfId-1076781"></a>Bottom Region: Rows have been generated using the deviceRow row template, which has a single row type. The row can contain PFIN and NFIN devices. All devices are bottom aligned. All device orientations are supported.<br />
<a id="pgfId-1076802"></a><div class="webflare-div-image">
<img width="668" height="327" src="images/Placement-8.gif" /></div></li></ul>





<p>
<a id="pgfId-1076803"></a>The following graphics depict the snapping behavior of individual devices when two PFIN and NFIN devices are moved:</p>

<p>
<a id="pgfId-1076860"></a></p>
<div class="webflare-div-image">
<img width="668" height="583" src="images/Placement-9.gif" /></div>
<h4><em>
<a id="pgfId-1069654"></a><a id="71050"></a>Resolve Overlaps</em></h4>

<p>
<a id="pgfId-1069655"></a>Select <em>Resolve Overlaps</em> to automatically resolve any overlaps resulting from moving devices in a design. An arrow indicates how the overlap will be resolved if an instance is moved in a particular way. The device being moved is placed at the target location, and the overlapped device (at the target location) is moved to a new location.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1069656"></a><em>Resolve Overlaps </em>can be enabled only when <em>Enable</em> is selected in the <em>Assisted Placement</em> section.</div>

<p>
<a id="pgfId-1069677"></a></p>
<div class="webflare-div-image">
<img width="668" height="318" src="images/Placement-10.gif" /></div>

<p>
<a id="pgfId-1069678"></a><em>Resolve Overlaps</em> lists the following modes that specify the direction in which the overlapping device should be moved:</p>
<ul><li>
<a id="pgfId-1069679"></a>Spread Any Direction (default): In this mode, the overlapped device is moved by the minimum distance in any direction. The example shown above depicts such a move.</li><li>
<a id="pgfId-1069680"></a>Spread X-Direction Only: In this mode, the overlapped device is moved by the minimum distance to the right or left within the same row as indicated below:<br />
<a id="pgfId-1069694"></a><div class="webflare-div-image">
<img width="668" height="146" src="images/Placement-11.gif" /></div></li><li>
<a id="pgfId-1073966"></a>Insert Mode: In this mode, the devices being moved are placed sequentially by row. If more than one device is being moved, the relative positions of the devices are maintained while placing them at their new locations. The overlapped devices are moved only to the right, as shown below:<br />
<a id="pgfId-1069710"></a><div class="webflare-div-image">
<img width="668" height="212" src="images/Placement-12.gif" /></div></li><li>
<a id="pgfId-1069711"></a>Insert Mode Single Row: In this mode, the devices that are moved are all placed sequentially in the same row. The overlapped devices are moved to the right as shown below:<br />
<a id="pgfId-1083065"></a><div class="webflare-div-image">
<img width="668" height="182" src="images/Placement-13.gif" /></div></li><li>
<a id="pgfId-1069726"></a>Insert Mode Single Column: In this mode, the devices that are moved are all placed sequentially in the same column. The overlapped devices are moved to the right as shown below:<br />
<a id="pgfId-1083420"></a><div class="webflare-div-image">
<img width="668" height="298" src="images/Placement-14.gif" /></div></li></ul>



















<h4>
<a id="pgfId-1069729"></a><a id="19998"></a>Abut Rows Use Device Order</h4>

<p>
<a id="pgfId-1069730"></a>Select <em>Abut Rows Use Device Order</em> to abut instances in the same order in which they are placed in each row.</p>

<div class="webflare-information-macro webflare-macro-tip">
<a id="pgfId-1069731"></a>
Disable this option when there are adjacent instances that do not have any common connectivity. </div>

<p>
<a id="pgfId-1069732"></a>If selected, then an extra dummy poly is inserted between the two instances to allow abutment. To avoid this, clear the check box. The devices are then reorganized to achieve a more compact abutment chain.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1079938"></a>Abutment of rows is done using the Layout XL chaining engine. Therefore, the abutment results are subject to the settings of the Layout XL chaining environment variables. For more information about these environment variables, see <a actuate="user" class="URL" href="../vxlhelp/appA.html#firstpage" show="replace" xml:link="simple">Layout XL Environment Variables</a>.</div>

<h3>
<a id="pgfId-1069734"></a><a id="37972"></a>Automatic Placement Options</h3>

<p>
<a id="pgfId-1069738"></a>Virtuoso Placer performs automatic placement by choosing appropriate locations for all instances.The options must be set on the <em>Automatic</em> tab before <a href="Placement.html#67761">Running the Automatic Placer</a>. These options can also be accessed by clicking the <em>More Options</em> button in the Automatic Placement form. The <em>Automatic</em> tab includes options that are generic as well as those that are specific to the <em>Custom Digital</em> placement type.</p>

<p>
<a id="pgfId-1069742"></a></p>
<div class="webflare-div-image">
<img src="images/PlacementOptions_Automatic.gif" /></div>

<p>
<a id="pgfId-1069743"></a>Use the options on this tab to perform the following tasks:</p>
<ul><li>
<a id="pgfId-1069747"></a><a href="Placement.html#33682">Apply Design Rules</a></li><li>
<a id="pgfId-1069751"></a><a href="Placement.html#10938">Specify Device Settings</a></li><li>
<a id="pgfId-1069755"></a><a href="Placement.html#78833">Define Standard Cell Settings</a></li><li>
<a id="pgfId-1069759"></a><a href="Placement.html#54460">Apply Pin Placement Settings</a></li><li>
<a id="pgfId-1069763"></a><a href="Placement.html#88408">Define Passive Device Settings</a></li></ul>





<h4>
<a id="pgfId-1069765"></a><a id="33682"></a>Apply Design Rules</h4>

<p>
<a id="pgfId-1069766"></a>The options in the <em>Rules</em> section are generic, and apply to all design types. Choose a <em>Constraint Group</em> from the drop-down list, which specifies the spacing rules to be applied while running the automatic placer. <em>Minimum Boundary Offset</em> specifies the minimum spacing required between the selected reference layer and the PR boundary.</p>

<h4>
<a id="pgfId-1069769"></a><a id="10938"></a>Specify Device Settings</h4>

<p>
<a id="pgfId-1069770"></a>The options in the <em>Devices</em> section are applicable only to analog designs. For more information, see <a href="Placement.html#67761">Running the Automatic Placer</a>. The <em>Devices</em> section includes:</p>
<ul><li>
<a id="pgfId-1069774"></a>Abutment Options - You can choose to <em>Abut Devices</em> so as to create abutment chains in each row. <em>Preserve Abutment</em> preserves any existing abutment chains in the design. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1070380"></a><em>Preserve Abutment</em><strong> cannot be used when </strong><em>Abut Devices</em><strong> is selected.</strong></div></li><li>
<a id="pgfId-1069775"></a>Grouping Options - Choose <em>Group M Factor Devices</em> to create a cluster containing all complementary MOS devices in the design that have a multiplication factor in the schematic. <br />
<a id="pgfId-1073285"></a>Similarly, you can <em>Group CMOS Pairs</em> that share gate connections. All such CMOS device pairs in the design that have been generated with chaining enabled are grouped together into a cluster.<br />
<a id="pgfId-1073286"></a>Select <em>Group P Over N</em> to place all P-type devices at the top and N-type devices at the bottom of the selected region.</li></ul>





<h4>
<a id="pgfId-1069778"></a><a id="78833"></a>Define Standard Cell Settings</h4>

<p>
<a id="pgfId-1069779"></a>The options in the <em>Standard Cells </em>section are applicable only to digital designs, and therefore apply only to the <em>Custom Digital</em> placement type in the Automatic Placement form. For more information, see <a href="Placement.html#67761">Running the Automatic Placer</a>. The <em>Standard Cells </em>section includes:</p>
<ul><li>
<a id="pgfId-1069783"></a>Spacing Options: Select <em>Run Spacer Within Rows</em> to distribute standard cells evenly in the rows by adding or removing space between standard cells within each row.</li><li>
<a id="pgfId-1069784"></a>Tap Cells Options: Use the options in this section to <em>Insert Tap Cells</em> in rows based on the specified <em>Minimum Spacing</em> and <em>Maximum Spacing </em>values. Specify the <em>Component Type</em> that contains the substrate contacts (tap cells) to be used. The specified component type must have the component class STDSUBCONT.</li></ul>


<h4>
<a id="pgfId-1069786"></a><a id="54460"></a>Apply Pin Placement Settings</h4>

<p>
<a id="pgfId-1069787"></a>The options in the <em>Pins </em>section are generic, and so are applicable to all design types. </p>
<p>
<a id="pgfId-1069788"></a>The <em>Routing Direction Aware Pin Placement</em> option is applicable to designs with width spacing patterns (WSPs). If selected (default), the placer considers the WSP direction while placing unconstrained pins. For vertical WSPs, pins are placed along the left and right edges; for horizontal WSPs, pins are placed along the top and bottom edges.</p>
<p>
<a id="pgfId-1069789"></a>You can choose to place all <em>Pins on Boundary</em> during placement.</p>

<h4>
<a id="pgfId-1069791"></a><a id="88408"></a>Define Passive Device Settings</h4>

<p>
<a id="pgfId-1069792"></a>The <em>Passive to Outside</em> option is generic, and applicable to all design types. Selecting this option pushes large capacitors and resistors to the edge of the PR boundary, thereby separating them from the transistors in the design.</p>

<div class="webflare-information-macro webflare-macro-tip">
<a id="pgfId-1071204"></a>
What are passive devices? Passive devices are devices that cannot be used to amplify signals. These devices do not require an external source of energy to function. Rather, they store energy in the form of voltage or current. Examples: resistors and capacitors.</div>
<h3>
<a id="pgfId-1069794"></a><a id="83421"></a>Commo<a id="miscTab"></a>n Options</h3>

<p>
<a id="pgfId-1069795"></a>The <em>Common</em> tab provides options common to both <em>Assisted</em> and <em>Automatic</em> placement. </p>

<p>
<a id="pgfId-1069799"></a></p>
<div class="webflare-div-image">
<img src="images/PlacementOptions_Misc.gif" /></div>

<p>
<a id="pgfId-1069800"></a>The <em>Common</em> tab is divided into: <em>General</em>, <em>Modgen, Device</em>, and <em>Standard Cell</em> sections.</p>
<p>
<a id="pgfId-1073099"></a>In the <em>General</em> section:</p>
<ul><li>
<a id="pgfId-1069801"></a>Select <em>Width Spacing Pattern (WSP) Snapping</em><a id="pinWSPSnap"></a> to enable width-aware and constraint (CST)-aware snapping of instances and pins. Both interactive and automatic placers recognize the width spacing snap pattern grid that is defined using the <code>widthSpacingSnapPatternDef</code> rule in the technology file. The <code>widthSpacingSnapPatternDef</code> definitions are available in the technology database as well as in the design. For more information, see the <a actuate="user" class="URL" href="../ascitechfile/chap4.html#wsp_widthSpacingSnapPatternDefs" show="replace" xml:link="simple">Width Spacing Pattern Layer Rules</a> section in <em>Virtuoso Technology Data ASCII Files Reference</em>.<br /><div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1077024"></a>
If both WSPs and Snap Patterns (SPs) are active, WSP snapping takes precedence.</div><br />
<a id="pgfId-1077019"></a>WSP snapping is possible only when the specified constraints, such as the <code>minwidth</code>, <code>allowedWidthRanges</code>, and <code>sig type</code>, are met. If a constraint is not met, for example, if the pin width is less than the width specified with the <code>minWidth</code> constraint, the next track is checked.</li><li>
<a id="pgfId-1073979"></a>Specify a list of <em>Cell Boundary LPPs</em> used to derive the cell boundary for standard cells and devices when running Place Like Schematic, Analog Placer, and Digital Placer. Only the shapes on the listed LPPs are considered when deriving the boundary. <br />
<a id="pgfId-1080072"></a>Example: <code>(Metal1 drawing)</code>.</li></ul>






<p>
<a id="pgfId-1079492"></a>In the <em>Modgen</em> section:</p>
<ul><li>
<a id="pgfId-1079640"></a>Select <em>Update MODGENS to Rows Post-Placement</em> to regenerate Modgens after they are moved to a row region. The orientations of the Modgen members are updated to match the orientations of the rows to which they are moved. For example, a Modgen member instance with orientation <code>R0</code> is moved to a row with orientation <code>MX</code>. The Modgen is regenerated and the orientation of the instance is changed to <code>MX</code>.</li></ul>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1079642"></a>When deselected, Modgens are snapped only to rows with matching orientations.</div>
<p>
<a id="pgfId-1069802"></a>In the <em>Device</em> section:</p>
<ul><li>
<a id="pgfId-1073125"></a>Specify the <em>N-Diffusion Spacing</em> and <em>P-Diffusion Spacing</em> values, which set the minimum spacing required between adjacent NMOS and PMOS chains, respectively. </li></ul>
<p>
<a id="pgfId-1069803"></a>In the <em>Standard Cell </em>section:</p>
<ul><li>
<a id="pgfId-1073149"></a>You can choose to enable <em>Context Aware Placement</em>. Standard cells are placed such that each cell is aware of the context of the neighboring cell and supports placement in accordance with the EDGETYPE and CELLEDGESPACINGTABLE LEF5.8 constraints, which are either defined in the technology and macro LEF, or provided using an XML file. By default, this option is switched off. You can also specify a <em>Context File</em>, which is an XML file containing the edge spacing constraint information for performing context-aware placement. During context-aware placement, the placer honors the edge types and spacing constraints of tap cells.</li><li>
<a id="pgfId-1072091"></a>Select <em>Pin Density Aware Placement</em> to consider the pin densities of standard cells while optimizing placement and improving routability. The assisted placement options are also pin density-aware. The pin density consideration can result in larger spacing between the placed standard cells.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1069804"></a>Pin density awareness is a heuristic to improve routability, and therefore is not checked during placement verification.</div></li><li>
<a id="pgfId-1069805"></a>Select <em>Maximize Pin Access</em> to increase the number of WSP tracks that overlap the pins on standard cells. Selecting this option improves routability by providing more access points to the router. Specify the <em>Minimum Pin Access Count</em>, which refers to the minimum number of access points that should be available.</li><li>
<a id="pgfId-1069806"></a>In the <em>Cell Padding Value</em> field, specify the space to the left and right of the master. Use the following syntax to enter values in this field:<br />
<a id="pgfId-1069807"></a><code>&quot;</code>(<span class="webflare-courier-new" style="white-space:pre"><em>cellName</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>right_spacing</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>left_spacing</em></span>)<code>&quot;</code><br />
<a id="pgfId-1069808"></a>Example:<br />
<a id="pgfId-1069809"></a>&quot;(<code>nand4 2.5 2.5</code>) (<code>inv 0 1</code>)&quot; <br />
<a id="pgfId-1069810"></a>Here, spacing of <code>2.5</code> is applied to both sides of cell <code>nand4</code>. For cell <code>inv</code>, spacing <code>0</code> is applied to the left side and spacing <code>1</code> is applied to the right side.</li></ul>









<h2>
<a id="pgfId-1069925"></a><a id="67761"></a>Running the Au<a id="AutoPlace"></a>tomatic Placer</h2>

<p>
<a id="pgfId-1075830"></a>The automatic placer places devices in rows defined in the layout canvas. For best results, run the automatic placer after performing Placement Planning. You can use the automatic placer for placing devices, standard cells, or a mix of both. During placement, these devices are snapped to appropriate rows and grids. For more information about the snapping, see <a href="Placement.html#90820">Snapping Behavior</a>.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1069954"></a>The default snap depth for snap pattern mapping is set based on the display step level setting. You can use the environment variables <a actuate="user" class="URL" href="../vlehelp/appB.html#ff_snapPatternSnappingDepth" show="replace" xml:link="simple">snapPatternSnappingDepth</a> and <a actuate="user" class="URL" href="../vlehelp/appB.html#snapPatternSnappingDepthMethod" show="replace" xml:link="simple">snapPatternSnappingDepthMethod</a> to specify the snap depth and the method to be used to define the snap depth for snap pattern snapping, respectively.</div>
<p>
<a id="pgfId-1075824"></a>You can use assisted placement to further refine the placement to achieve the desired result. For more information about these options, see <a href="Placement.html#32313">Setting Placement Options</a>. </p>
<p>
<a id="pgfId-1081062"></a>The automatic placer supports placement of virtual figGroups. For more information, see <a href="Placement.html#26284">Placement of Virtual FigGroups</a>.</p>
<p>
<a id="pgfId-1069963"></a>To run the automatic placer:</p>
<ol><li>
<a id="pgfId-1069967"></a>Select <em>Place</em> &#8211; <em>Auto Place.</em> The <a href="vPlaceForms.html#69344">Automatic Placement</a> form is displayed. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1081479"></a>Alternatively you can choose the Auto Place <img src="images/icon_AutoPlace.gif" /><span>button from either the Placement toolbar or the Design Planning toolbar. For more information, see </span></div></li></ol>

<a actuate="user" class="URL" href="../vdpuser/chap1.html#vdpToolbar" show="replace" xml:link="simple">Design Planner Toolbar</a><span>.</span><p>
<a id="pgfId-1069971"></a></p>
<div class="webflare-div-image">
<img src="images/AutoPlacer.gif" /></div>

<ol><li>
<a id="pgfId-1069973"></a>Depending on your design type, choose one of the following placement types:<ul><li>
<a id="pgfId-1069974"></a>Custom Digital: Useful for placement in designs that have a higher proportion of standard cells; for example, designs with around 80% standard cells and 20% devices. A precise placement of the devices can also be achieved when devices have matched gates or are connected to the same net. <br />
<a id="pgfId-1069975"></a>Selecting <em>Custom Digital</em> performs a complete initial placement of all the devices in the design. Select <em>Eco</em> to incrementally place any unplaced devices in the design.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1071443"></a>Master filter definitions are honored while placing standard cells. For more information about master filters, see <a href="Rows.html#26849">Defining Component Types and Rails</a>.</div></li><li>
<a id="pgfId-1069978"></a>Like Schematic: Optimizes for wire length, area, and spacing patterns by placing instances as per their relative positions in the schematic design. Use the <a href="vPlaceEnvars.html#61605">likeSchematicTolerance</a> environment variable to specify the tolerance level. Larger tolerance levels allows the placer to use more approximate schematic correspondence to improve the placement. Valid values are <code>1</code> through <code>1000</code>.</li></ul><br />
<a id="pgfId-1069979"></a>Choose a placer depending on which device type is the majority in your design. If there are more standard cells, use custom digital.</li><li>
<a id="pgfId-1069980"></a>Select one of the three <em>Effort</em> levels from the <em>Options</em> section - <em>Low</em>, <em>Medium</em>, and <em>High</em>. <br />
<a id="pgfId-1069981"></a>The runtime of the placer and quality of results depend on the effort chosen. The time for each effort level increases in roughly linear increments. Selecting <em>Low</em> results in a comparatively less precise, but quick placement. Selecting <em>High</em> results in the best placement results, but takes more time than the <em>Low</em> and <em>Medium</em> effort levels.<br />
<a id="pgfId-1070831"></a>Try the <em>Low</em> effort level first, because many designs perform well at this level. <em>Low</em> effort level is best suited for regular, structured designs with no wells through the center of the cell and non-conformal group boundaries.<br />
<a id="pgfId-1070832"></a>However, if your design is less structured or includes a large number of constraints, try running the design at the <em>Medium</em> effort level. You might also consider this effort level if you have a few conformal group boundaries and wells under placer control.<br />
<a id="pgfId-1070819"></a>If a design fails to meet your expectations at <em>Medium</em> effort, then increase the effort level to <em>High</em>. <em>High</em> effort utilizes the same algorithms as <em>Medium</em>, but exerts itself more fully on each step of the process. The default is <em>Medium</em>.</li><li>
<a id="pgfId-1069983"></a>If a restricted placement is desired, select the <em>Boundary</em> within which the placer must be run. Instead of the default PR boundary, choose a cluster boundary or a row region boundary, if available. If you select a non-PR boundary, <em>Adjust PR Boundary</em> is inactive.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1079396"></a>When a row region is selected as the Boundary, the placer places only those devices that are permitted in the selected row region.</div></li><li>
<a id="pgfId-1073050"></a>Choose <em>Adjust PR Boundary</em> to run the placer unconstrained by the existing PR boundary. <br />
<a id="pgfId-1069984"></a>The devices and standard cells are placed so as to achieve better QoR and wire length. After placement, the PR boundary is adjusted accordingly.<br />
<a id="pgfId-1069985"></a>The following images depict the difference between placement with and without <em>Adjust PR Boundary</em> selected:<br />
<a id="pgfId-1079751"></a><div class="webflare-div-image">
<img width="668" height="563" src="images/Placement-19.gif" /></div>
<a id="pgfId-1069996"></a>The design is compacted on each subsequent run, and therefore the total area, wire length, and space between devices keeps decreasing with each run.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1072152"></a>For designs that do not have a PR boundary, if <em>Adjust PR Boundary</em> is selected, then a new PR boundary is automatically generated during placement.</div></li><li>
<a id="pgfId-1069997"></a>Choose <em>Selected Only</em> to restrict placement only to the selected devices. This option is useful in situations where you have added new devices or edited existing devices after running the placer. </li><li>
<a id="pgfId-1069999"></a>Click <em>More Options</em> to display the <em>Placement Options</em> form. Use the options on the <em>Automatic</em> and <em>Common</em> tabs to further customize placement settings. The form includes options that are generic as well as those that are specific to the <em>Custom Digital</em> placement type. For more information about these options, see <a href="vPlaceForms.html#42943">Placement Options</a>.<br />
<a id="pgfId-1070018"></a><div class="webflare-div-image">
<img width="668" height="491" src="images/Placement-20.gif" /></div></li><li>
<a id="pgfId-1070019"></a>Click <em>OK</em> or <em>Apply</em> to run the placer.</li></ol>































<h4>
<a id="pgfId-1080841"></a><a id="26284"></a>Placement of Virtual FigG<a id="PlacementVH"></a>roups</h4>

<p>
<a id="pgfId-1081705"></a>Virtuoso Placer supports placement of virtual hierarchies in the <em>Custom Digital</em> and <em>Like Schematic</em> modes.</p>
<p>
<a id="pgfId-1080981"></a>By default, virtual figGroups are placed as is. The contents of the virtual hierarchy are placed within the rectangular or rectilinear area boundary of the virtual hierarchy. The instances inside the figGroups are not modified.</p>
<p>
<a id="pgfId-1080909"></a>If a virtual figGroup is frozen, the instances inside it are not modified. The entire figGroup is placed as a unit. The placer does not break any synchronous clones that exist in a design.</p>
<p>
<a id="pgfId-1082181"></a>When <em>Adjust PR Boundary</em> is selected in the Automatic Placer form, the boundaries of virtual hierarchies are padded based on the value of the <h-hot><a actuate="user" class="URL" href="../vdpuser/appA.html#areaBoundaryEnclosure" show="replace" xml:link="simple">areaBoundaryEnclosure</a></h-hot> environment variable.</p>
<p>
<a id="pgfId-1082246"></a>After placement, whenever a stretch or chop operation is done on the area boundary of a virtual hierarchy, the <em>Like Schematic</em> placer is automatically called to ensure all the contents of the virtual hierarchy are placed within the new <code>areaBoundary</code>, which can be either rectangular or rectilinear.</p>

<h3>
<a id="pgfId-1071474"></a><a id="50926"></a>Viewing the Placement Report</h3>

<p>
<a id="pgfId-1071502"></a>The Placement Statistics report is generated dynamically in the CIW as you run the automatic placer. The report provides the following information:</p>

<p>
<a id="pgfId-1071528"></a></p>
<div class="webflare-div-image">
<img width="668" height="548" src="images/Placement-21.gif" /></div>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1071824"></a>The above report is displayed only when you select the <em>Like Schematic </em>placement option. If you select the <em>Custom Digital</em> option, the Placement Status report is displayed. For information about the Placement Status report, see <a actuate="user" class="URL" href="../vcphelp/appB.html#placementStatusDialog" show="replace" xml:link="simple">VLS-GXL Placement Status</a>.</div>
<p>
<a id="pgfId-1071683"></a>The Placement Statistics report displays the following information:</p>
<ul><li>
<a id="pgfId-1071904"></a>Before running the automatic placer: A summary of the placement parameters in the current design.</li><li>
<a id="pgfId-1071715"></a>After running the automatic placer: <ul><li>
<a id="pgfId-1079284"></a>Placement Parameters: A list of the number of placeable, locked or fixed, temporarily locked, and unplaceable components.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1071708"></a>Unplaceable components are row-based objects in the design, but none of the rows in the design match these objects. Typically this happens when there is a a problem with the data setup, for example when the component definition of an object does not match any row.</div></li><li>
<a id="pgfId-1071795"></a>Placement Results: Summary of the initial placement and the final placement achieved, followed by a list of errors and warnings (if any). The number of spacing and overlap violations is also listed.</li></ul></li></ul>





<h2>
<a id="pgfId-1070277"></a>Performing <a id="66891"></a>Assisted Placement</h2>

<p>
<a id="pgfId-1070278"></a>After running Automatic Placer, you might want to perform a few manual edits to some of the placed instances to improve their placement. </p>
<p>
<a id="pgfId-1073372"></a>Start with assisted move to group devices with similar masters and similar finger lengths. No device should be adjacent to another dissimilar device. Additionally, ensure that the devices are ordered top to bottom in a manner that maintains the path of the current from the power rail to the ground rail.</p>

<div class="webflare-information-macro webflare-macro-tip">
<a id="pgfId-1073373"></a>
Before you move devices, in the Display Options form, set the <em>Show Name Of</em> option to <em>instance</em> or <em>both</em>.</div>

<p>
<a id="pgfId-1073374"></a>After you have grouped the devices by type, run any of the several assisted commands to improve placement. Assisted placement commands include abutting devices, swapping devices or groups of devices, resolving overlaps, and snapping devices to grids or rows, and adjusting the boundary. Ensure that you press <code>Ctrl+D</code> to deselect all devices, and then carefully select only the ones you need before running an assisted placement command.</p>
<p>
<a id="pgfId-1071267"></a>The <em>Place</em> menu provides the following assisted placement options:</p>
<ul><li>
<a id="pgfId-1070279"></a>Resolve Overlaps: Resolves overlaps between devices in rows, which removes any shorts that are created when you move the devices or snap them to rows.</li><li>
<a id="pgfId-1070283"></a>Abut Instances: Abutting devices helps avoid loss of area consumed by the extra poly fingers on either side of each device. You can abut selected or all instances in a design. If there are no instances selected before running the command, all instances in the design are abutted. The Placement Options form includes the <a href="Placement.html#19998">Abut Rows Use Device Order</a> option, which specifies whether abutment should follow the order in which instances were placed in each row.</li><li>
<a id="pgfId-1070287"></a>UnAbut Instances: Unabuts selected or all instances in the design. If no instances are selected, then all instances in the design are unabutted</li><li>
<a id="pgfId-1073781"></a>Swap Instances: Swaps the position of the selected instances, chains, and figGroups. To swap instances:<ol><li>
<a id="pgfId-1073785"></a>Choose <em>Place</em>&#8212;<em>Swap</em> <em>Instances</em>. </li><li>
<a id="pgfId-1073786"></a>Click the first instance to be swapped.</li><li>
<a id="pgfId-1070294"></a>Click the second instance.</li></ol><br />
<a id="pgfId-1070295"></a>The locations of the selected instances are switched, but their orientations are retained as in their initial position.<br />
<a id="pgfId-1070306"></a><div class="webflare-div-image">
<img width="668" height="109" src="images/Placement-22.gif" /></div>
<a id="pgfId-1070307"></a>You can also select the components first and then choose <em>Place</em>&#8212;<em>Swap Instances</em>. After selecting the command, press <code>F3</code> to display the Swap Components form.<br />
<a id="pgfId-1070315"></a><div class="webflare-div-image">
<img width="668" height="195" src="images/Placement-23.gif" /></div>
<a id="pgfId-1070316"></a>In this <a id="swapEnvars"></a>form:<ul><li>
<a id="pgfId-1070317"></a>Use the <em>Swap Origin</em> option to specify the position to which the instance needs to be moved. This option is useful when there is a difference in the sizes of the instances to be swapped. </li><li>
<a id="pgfId-1070318"></a>You can choose to <em>Resolve Overlaps</em> while placing the devices at their new locations.</li><li>
<a id="pgfId-1070319"></a>Choose <em>Fix swapped objects during overlap resolution</em> to ensure that the position of the swapped device is not changed while resolving overlaps.</li></ul><br />
<a id="pgfId-1088524"></a>Related Environment variables: highlightPotentialSwap<a id="message URL ../vxlhelp/appA.html#highlightPotentialSwap"></a>, highlightPotentialSwapColor<a id="message URL ../vxlhelp/appA.html#highlightPotentialSwapColor"></a><br /><div class="webflare-information-macro webflare-macro-tip">
<a id="pgfId-1072215"></a>
For information about the generic swap command (that is available in the non-advanced node releases), see <a actuate="user" class="URL" href="../vxlhelp/chap7.html#swapComp" show="replace" xml:link="simple">Swapping Components</a> in Virtuoso Layout Suite XL User Guide.</div></li><li>
<a id="pgfId-1073795"></a>Swap Rows: Swaps components of the rows that contain the selected instances, chains, or figGroups. Contents of the two rows have to be compatible to be swapped to the new row.<br />
<a id="pgfId-1076496"></a>Boundary cells are ignored during row swapping. Locked instances, highlighted in red in the design canvas, are also ignored. All other cells in the selected row are swapped.</li><li>
<a id="pgfId-1072220"></a>Snap to Grids/Rows: Snaps instances to their nearest compatible rows in a Spacing Pattern (SP) or Width Spacing Patterns (WSP)-correct manner. This option is intended as a batch alternative to the assisted move commands. For more information, see <a href="Placement.html#49953">Assisted Placement</a>.</li><li>
<a id="pgfId-1070328"></a>Adjust PR Boundary: Adjusts the PR boundary to enclose all placed instances. Unused rows are deleted, unused space is chopped, and the PR boundary is adjusted accordingly without disturbing the placement.<br />
<a id="pgfId-1076597"></a><div class="webflare-div-image">
<img src="images/AdjustBoundary.gif" /></div></li></ul>































<h4>
<a id="pgfId-1076602"></a>Support for Transparent Group Mode</h4>

<p>
<a id="pgfId-1076603"></a>The assisted placement options support the transparent group mode. In this mode, you can select and edit individual members of user-defined groups at the top-level, while retaining them as members of their respective groups. You can edit objects in nested groups also at the top-level, without performing multiple Edit In Place operations. With <em>Resolve Overlaps</em> selected, the user-defined group instances that are at the same level as the selected member instance interact as individual members. Other groups, which are at the same or different levels, behave as groups.</p>
<p>
<a id="pgfId-1070332"></a>For more information about the transparent mode, see <h-hot><a actuate="user" class="URL" href="../vlehelp/chap7.html#transparentGroupUseModel" show="replace" xml:link="simple">Using Transparent Group Mode</a></h-hot> in the Virtuoso Layout Suite documentation.</p>

<h3>
<a id="pgfId-1087530"></a><a id="90820"></a>Snapping Behavior</h3>

<p>
<a id="pgfId-1075354"></a>Assisted and automatic placement methods support snapping of individual objects and object groups to grids based on the following priority:</p>
<ol><li>
<a id="pgfId-1087033"></a>Snap to a row region. For more information, see <a href="Rows.html#45940">Creating Rows</a>.</li><li>
<a id="pgfId-1087034"></a>Snap to a WSP grid. For more information, see <a actuate="user" class="URL" href="../vwspuser/PatternAssistant.html#firstpage" show="replace" xml:link="simple">Using Width Spacing Patterns</a> in Virtuoso Width Spacing Patterns User Guide.</li><li>
<a id="pgfId-1087035"></a>Snap based on the <a href="Placement.html#46409">leSnapGridHorizontal</a> and <a href="Placement.html#92446">leSnapGridVertical</a> properties.</li><li>
<a id="pgfId-1087036"></a>Snap based on the <a href="Placement.html#56047">leSnapPatternSnapping</a> property.</li><li>
<a id="pgfId-1087039"></a>Snap based on setting of the <a actuate="user" class="URL" href="../vlehelp/appB.html#ff_snapPatternSnappingMode" show="replace" xml:link="simple">snapPatternSnappingMode</a> environment variable.</li></ol>





<h4><em>
<a id="pgfId-1087362"></a>Controlling the Rotation of Object Groups During Placement</em></h4>

<p>
<a id="pgfId-1087001"></a>The snapping behavior is impacted by the <a href="vPlaceEnvars.html#78392">allowRotationFigGroup</a> environment variable setting. This environment variable controls the rotation of certain complex object group types. By default, the environment variable is set to <code>nil</code>, which means that their orientation is considered fixed, and therefore they cannot be rotated during placement. For example, if the rows in a design are interposed with orientations <code>R0</code> and <code>MX</code>, a figGroup with orientation <code>R0</code> can be snapped only to every other row that has a matching orientation.</p>

<div class="webflare-information-macro webflare-macro-tip">
<a id="pgfId-1075358"></a>
During assisted move, you can manually force a rotation of object groups using the middle mouse button or by pressing <code>F3</code>.</div>

<p>
<a id="pgfId-1075349"></a>When <code>allowRotationFigGroup</code> is set to <code>t</code>, the orientations of object groups are unlocked. During placement, these objects are rotated such that their orientations match their row orientations.</p>

<h3>
<a id="pgfId-1070577"></a><a id="91052"></a>Support for Module Generators</h3>

<p>
<a id="pgfId-1070578"></a>When you run Virtuoso Placer, Modgens are automatically snapped to compatible rows, if they exist. If the Modgen instances do not align exactly to the rows, then one of the Modgen instances is snapped to the nearest row. Use the <a href="vPlaceEnvars.html#29631">snapFigGroupRowCorrect</a> to control the snapping behavior of Modgens. </p>
<p>
<a id="pgfId-1070583"></a>Modgens that are created after the rows exist are automatically correct by construction, as shown below:</p>

<p>
<a id="pgfId-1070601"></a></p>
<div class="webflare-div-image">
<img width="668" height="353" src="images/Placement-25.gif" /></div>
<div class="webflare-information-macro webflare-macro-tip">
<a id="pgfId-1070602"></a>
Modgen dummies are also snapped to nearest rows.</div>
<h4>
<a id="pgfId-1070603"></a>Support for Modgen On-Canvas Commands</h4>

<p>
<a id="pgfId-1073750"></a>You can use the various Modgen on-canvas commands that are available under the <em>Place</em> &#8211; <em>Modgen</em> menu to perform simple editing operations directly in the layout editor without invoking the Modgen Editor. For example, you can use the <em>Split Modgen Rows</em> and <em>UnSplit Modgen Rows</em> commands to ensure that Modgens use as few rows as possible, while still fitting comfortably inside the PR boundary.</p>
<p>
<a id="pgfId-1070606"></a>For more information about these Modgen on-canvas commands, see <h-hot><a actuate="user" class="URL" href="../modgenuser/EditModgens.html#modgenOnCanvas" show="replace" xml:link="simple">Using the Modgen On-Canvas Commands</a></h-hot> in <em>Virtuoso Module Generator User Guide</em>.</p>

<h4>
<a id="pgfId-1070607"></a>Support for Modgen Pattern Editors</h4>

<p>
<a id="pgfId-1070608"></a>The Grid Pattern Editor (GPE) and Grid Pattern Mapping (GPM) assistants are available on-canvas. The Modgen grids directly map to the rows in the layout canvas. Therefore, whenever you make changes to the grid pattern, the Modgen instances always snap to the nearest rows.</p>
<p>
<a id="pgfId-1070610"></a>For more information about the pattern assistants, see <h-hot><a actuate="user" class="URL" href="../modgenuser/ModgenPatterns.html#patternEditAssist" show="replace" xml:link="simple">Using the Modgen Editor Assistants</a></h-hot> in the <em>Virtuoso Module Generator User Guide</em>.</p>

<h4>
<a id="pgfId-1070611"></a>Inserting Space within Modgens</h4>

<p>
<a id="pgfId-1070612"></a>The alignment and spacing settings defined for the rows override the Modgen alignment and spacings settings made using the Set Member Alignment and Spacing form. Therefore, in the Virtuoso Placer flow, it is recommended that you do not use this form for making vertical alignment and spacing settings.</p>
<p>
<a id="pgfId-1070613"></a>If you want to create an empty space within a Modgen, use the GPE to create an empty row, as shown below:</p>

<p>
<a id="pgfId-1070626"></a></p>
<div class="webflare-div-image">
<img width="668" height="265" src="images/Placement-26.gif" /></div>

<p>
<a id="pgfId-1070703"></a>For more information about alignment and spacing settings in Modgens, see <h-hot><a actuate="user" class="URL" href="../modgenuser/EditModgens.html#DeviceAlignmentSpacing" show="replace" xml:link="simple">Specifying Device Alignment and Spacing</a></h-hot> in the <em>Virtuoso Module Generator User Guide</em>.</p>

<h4>
<a id="pgfId-1070627"></a>Using Guard Rings</h4>

<p>
<a id="pgfId-1070628"></a>In the Virtuoso Placer flow, it is recommended to use either identical guard rings or MPP guard rings. Fluid guard rings can be created, but they are not compatible with the row infrastructure.</p>
<p>
<a id="pgfId-1070630"></a>For more information about creating guard rings, see <h-hot><a actuate="user" class="URL" href="../modgenuser/EditModgens.html#modgenGR" show="replace" xml:link="simple">Specifying Guard Rings</a></h-hot> in the <em>Virtuoso Module Generator User Guide</em>.</p>

<h2>
<a id="pgfId-1084192"></a><a id="58179"></a>Supported Properties</h2>
<h3>
<a id="pgfId-1085251"></a><a id="46409"></a>leSnapGridH<a id="leSnapGridHorizontal"></a>orizontal</h3>
<a id="pgfId-1085287"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
leSnapGridHorizontal string <code><em>f_pitch</em></code> <code><em>f_offset</em></code> <code><em>f_offsetFlippedOrientation</em></code></pre>

<p>
<a id="pgfId-1085288"></a>Defines a horizontal grid to snap devices, standard cells, block-level cells, and passives with orientations R0, MY, or R180. You can define this property either on the cell master or as an optional override on the instance.</p>
<ul><li>
<a id="pgfId-1085290"></a><span class="webflare-courier-new" style="white-space:pre"><em>f_pitch</em></span>: Specifies the grid pitch.</li><li>
<a id="pgfId-1085291"></a><span class="webflare-courier-new" style="white-space:pre"><em>f_offset</em></span>: Specifies the grid offset.</li><li>
<a id="pgfId-1085292"></a><span class="webflare-courier-new" style="white-space:pre"><em>f_offsetFlippedOrientation</em></span> (optional): Specifies the offset for instances with flipped orientations. If not specified, the value is considered to be equal to <span class="webflare-courier-new" style="white-space:pre"><em>f_offset</em></span>.</li></ul>


<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1086013"></a>Snapping is skipped for instances that have been rotated (with orientations: R90, R270, MYR90, and MXR90).</div>
<p>
<a id="pgfId-1086044"></a>The lower-left corner of the instance PR boundary is considered the reference for instance snapping. In the absence of a PR boundary, the instance origin is the reference.</p>

<p>
<a id="pgfId-1085692"></a></p>
<div class="webflare-div-image">
<img src="images/leSnapGridHorizontal.gif" /></div>
<h4><em>
<a id="pgfId-1085460"></a>Example</em></h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1086578"></a>dbCreateProp(master_cellView &quot;leSnapGridHorizontal&quot; &quot;string&quot; &quot;3 5 1&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1086579"></a>;; Override the master&#8217;s property</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1085267"></a>dbCreateProp(instance &quot;leSnapGridHorizontal&quot; &quot;string&quot; &quot;4 5 1&quot;)</pre>
<h3>
<a id="pgfId-1085247"></a><a id="92446"></a>leSnapGrid<a id="leSnapGridVertical"></a>Vertical</h3>
<a id="pgfId-1086105"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
leSnapGridVertical string <code><em>f_pitch</em></code> <code><em>f_offset</em></code> <code><em>f_offsetFlippedOrientation</em></code></pre>

<p>
<a id="pgfId-1086936"></a>Defines a vertical grid to snap devices, standard cells, block-level cells, and passives that have their orientations set to R0, MX, or R180. You can define this property either on the cell master or as an optional override on the instance.</p>
<ul><li>
<a id="pgfId-1086109"></a><span class="webflare-courier-new" style="white-space:pre"><em>f_pitch</em></span>: Specifies the grid pitch.</li><li>
<a id="pgfId-1086110"></a><span class="webflare-courier-new" style="white-space:pre"><em>f_offset</em></span>: Specifies the grid offset.</li><li>
<a id="pgfId-1086111"></a><span class="webflare-courier-new" style="white-space:pre"><em>f_offsetFlippedOrientation</em></span> (optional): Specifies the offset for instances with flipped orientations. If not specified, the value is considered to be equal to <span class="webflare-courier-new" style="white-space:pre"><em>f_offset</em></span>.</li></ul>


<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1086960"></a>Snapping is skipped for instances that have been rotated (with orientations: R90, R270, MYR90, and MXR90).</div>
<p>
<a id="pgfId-1086202"></a>For more information, see <a href="Placement.html#46409">leSnapGridHorizontal</a>.</p>

<h4><em>
<a id="pgfId-1086116"></a>Example</em></h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1086694"></a>dbCreateProp(master_cellView &quot;leSnapGridVertical&quot; &quot;string&quot; &quot;3 5 1&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1086695"></a>;; Override the master&#8217;s property</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1086117"></a>dbCreateProp(instance &quot;leSnapGridVertical&quot; &quot;string&quot; &quot;4 5 1&quot;)</pre>
<h3>
<a id="pgfId-1084214"></a><a id="56047"></a>leSnapPatt<a id="leSnapPatternSnapping"></a>ernSnapping</h3>
<a id="pgfId-1084739"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
leSnapPatternSnapping string { <code>off</code> | <code>detail</code> | <code>abstract</code> { <code><em>f_offset</em></code> | <code><em>f_vOffset</em></code> <code><em>f_Offset</em></code> } }</pre>

<p>
<a id="pgfId-1084902"></a>Lets you enable the Manual Mode Placement override and specify the placement mode or offset on a per instance or master basis. You can set the <code>leSnapPatternSnapping</code> property on the instance, master, or both. When set on both, the instance definition overrides the master definition.</p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1086244"></a>
leSnapPatternSnapping must be paired with either <a href="Placement.html#61983">leSnapPatternSnappingHorizontalGrid</a> or <a href="Placement.html#89962">leSnapPatternSnappingVerticalGrid</a>.</div>

<p>
<a id="pgfId-1084903"></a>Valid values are:</p>
<ul><li>
<a id="pgfId-1084904"></a><code>off</code>: No automatic snapping.</li><li>
<a id="pgfId-1084905"></a><code>detail</code>: Force Detail Mode Placement.</li><li>
<a id="pgfId-1084906"></a><code>abstract</code>: Force Abstract Mode Placement.</li><li>
<a id="pgfId-1084907"></a><span class="webflare-courier-new" style="white-space:pre"><em>f_offset</em></span>: Force Abstract Mode Placement with manual offset for either one or both directions along which snapping is done.</li><li>
<a id="pgfId-1084740"></a><span class="webflare-courier-new" style="white-space:pre"><em>f_VOffset f_Offset</em></span>: Force Abstract Mode Placement with separate manual offsets. The first number indicates the vertical offset (for example, fin grid) and the second number refers to the horizontal offset (for example, poly grid).</li></ul>





<h4><em>
<a id="pgfId-1085483"></a>Example</em></h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1084287"></a>leSnapPatternSnapping &quot;detail&quot;</pre>
<h3>
<a id="pgfId-1084252"></a><a id="61983"></a>leSnapPatternSnapping<a id="leSnapPatternSnappingHorizontalGrid"></a>HorizontalGrid</h3>
<a id="pgfId-1084669"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
leSnapPatternSnappingHorizontalGrid cyclic <code><em>poly_grid_name</em></code></pre>

<p>
<a id="pgfId-1084670"></a>Specifies the horizontal reference grid to snap instances. The specified grid overrides all active snap patterns (SPs) or width spacing patterns (WSPs). If the reference grid is an SP, detailed snapping is done. If it is a WSP, period snapping is done. </p>

<h4><em>
<a id="pgfId-1085508"></a>Example</em></h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1084279"></a>leSnapPatternSnappingHorizontalGrid &quot;analog_poly_nom&quot;</pre>
<h3>
<a id="pgfId-1084251"></a><a id="89962"></a>leSnapPatternSna<a id="leSnapPatternSnappingVerticalGrid"></a>ppingVerticalGrid</h3>
<a id="pgfId-1084271"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
leSnapPatternSnappingVerticalGrid cyclic <code><em>poly_grid_name</em></code></pre>

<p>
<a id="pgfId-1084300"></a>Specifies the vertical reference grid to snap instances. The specified grid overrides all active SPs or WSPs. If the reference grid is an SP, detailed snapping is done. If it is a WSP, period snapping is done.</p>

<h4><em>
<a id="pgfId-1085526"></a>Example</em></h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1085056"></a>leSnapPatternSnappingVerticalGrid &quot;analog_poly_nom&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1087900"></a></pre>
<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="Rows.html" id="prev" title="Creating Rows">Creating Rows</a></em></b><b><em><a href="FinishingTasks.html" id="nex" title="Placement Post-Processing">Placement Post-Processing</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2020, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>