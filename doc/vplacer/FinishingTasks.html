
<html><head><title>Placement Post-Processing</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="spriya" />
<meta name="CreateDate" content="2020-09-10" />
<meta name="CreateTime" content="1599806252" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the features and functionality of the Virtuoso Custom Placer in the ICADV 12.2 release." />
<meta name="DocTitle" content="Virtuoso Placer User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Placement Post-Processing" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.2.1" />
<meta name="Keyword" content="vplacer" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2020-09-10" />
<meta name="ModifiedTime" content="1599806252" />
<meta name="NextFile" content="vPlaceForms.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="Placement.html" />
<meta name="c_product" content="Virtuoso Layout Suite" />
<meta name="Product" content="Virtuoso Layout Suite" />
<meta name="ProductFamily" content="Virtuoso Layout Suite" />
<meta name="ProductVersion" content="ICADVM20.1" />
<meta name="RightsManagement" content="Copyright 2012-2020 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Placer User Guide -- Placement Post-Processing" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="ICADVM20.1" />
<meta name="SpaceKey" content="vplacerICADVM201" />
<meta name="webflare-version" content="2.0" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="vplacerTOC.html">Contents</a></li><li><a class="prev" href="Placement.html" title="Performing Design Placement">Performing Design Placement</a></li><li style="float: right;"><a class="viewPrint" href="vplacer.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="vPlaceForms.html" title="Virtuoso Placer Forms">Virtuoso Placer Forms</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Placer User Guide<br />Product Version ICADVM20.1, October 2020</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>4
<a id="pgfId-1065576"></a></h1>
<h1>
<a id="pgfId-1065611"></a><hr />
Placement Post-Processing<hr />
</h1>

<p>
<a id="pgfId-1065712"></a>This chapter covers tasks that are performed after achieving the required placement results. To achieve design correctness and conformance to advanced node layout constraints, you can insert dummy fill in the empty spaces in rows. Depending on your design type, you can insert the following types of dummy fill:</p>
<ul><li>
<a id="pgfId-1069877"></a>Filler cells: Inserted between standard cells in digital designs.</li><li>
<a id="pgfId-1069878"></a>Dummy fill: Inserted between devices in analog designs.</li></ul>

<p>
<a id="pgfId-1069879"></a>After completing all placement tasks, use the <em>Batch Checker</em> to verify whether the placement satisfies placement constraints.</p>
<p>
<a id="pgfId-1069869"></a>Related documentation:</p>
<ul><li>
<a id="pgfId-1066101"></a><a actuate="user" class="URL" href="../vcphelp/chap5.html#insertDeleteFiller" show="replace" xml:link="simple">Insert/Delete Filler Cells</a></li><li>
<a id="pgfId-1066132"></a><a href="FinishingTasks.html#81464">Insert/Delete Dummy Fill</a></li><li>
<a id="pgfId-1069900"></a><a href="FinishingTasks.html#49178">Verify Placement</a></li></ul>



<h2>
<a id="pgfId-1065741"></a><a id="66891"></a><a id="81464"></a>Insert/Delete Dummy Fill</h2>

<p>
<a id="pgfId-1067013"></a>Insert/Delete Dummy Fill is an analog fill utility available only at advanced nodes. Dummy fill cells are inserted in the empty spaces in each row without impacting the row size. </p>
<p>
<a id="pgfId-1070018"></a>This chapter includes the following sections:</p>
<ul><li>
<a id="pgfId-1068804"></a><a href="FinishingTasks.html#42756">Prerequisites</a></li><li>
<a id="pgfId-1068818"></a><a href="FinishingTasks.html#40626">Types of Fill</a></li><li>
<a id="pgfId-1068858"></a><a href="FinishingTasks.html#45864">Inserting Fill</a></li><li>
<a id="pgfId-1075205"></a><a href="FinishingTasks.html#85575">Adding New Fill Definitions</a></li></ul>




<h3>
<a id="pgfId-1067022"></a><a id="42756"></a>Prerequisites</h3>

<p>
<a id="pgfId-1067451"></a>Before inserting dummy fill, ensure that:</p>
<ul><li>
<a id="pgfId-1067023"></a>All active devices are placed in rows. Align the devices with matching concerns down the center of the rows for better symmetry.</li><li>
<a id="pgfId-1067024"></a>The rows do not include devices with different finger lengths. </li><li>
<a id="pgfId-1067025"></a>An empty row is maintained between devices with different lengths.</li></ul>


<p>
<a id="pgfId-1072127"></a>Depending on the placement that you have created, you might need to stretch the row region to create the required number of rows for the fill.</p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1071823"></a>
The second and third prerequisites are advanced node constraints that might differ depending on your particular PDK.</div>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1071824"></a><a id="76703"></a>Transition and adjacent fill can be added even when poly trim layers do not exist in the technology file.</div>

<h3>
<a id="pgfId-1071826"></a><a id="40626"></a>Types of Fill</h3>

<p>
<a id="pgfId-1067650"></a>Dummy fill can classified into the following three types:</p>
<ul><li>
<a id="pgfId-1070059"></a>Adjacent fill: Is a type of device fill inserted to the left side of devices, as shown in the snapshot below. These instances are created with all their parameters equal to those of the active devices. Adjacent fill are automatically snapped to the nearest compatible rows in a Spacing Patterns (SP) or Width Spacing Patterns (WSP)-correct manner.<br />
<a id="pgfId-1071831"></a>Inserting adjacent fill helps achieve better active layer density.<br />
<a id="pgfId-1070930"></a><div class="webflare-div-image">
<img width="668" height="362" src="images/FinishingTasks-3.gif" /></div></li><li>
<a id="pgfId-1072647"></a>Transition fill: Is a type of device fill inserted in empty rows to mitigate the effects that a type of device might have on other devices. The transition fill utility lets you insert devices between rows of devices. Transition fill cells are automatically snapped to the nearest compatible rows in an SP or WSP-correct manner. In certain advanced node processes, active devices are surrounded by an entire region of same-sized dummy fill to achieve proper matching. In cases where this is not practical, a transition region can be used to mitigate potential mismatch. In the snapshots below, the parameters of transition fill are the same as the neighboring devices, except that the finger length of the transition fill equals the median of the surrounding rows. <br />
<a id="pgfId-1070454"></a><div class="webflare-div-image">
<img width="668" height="362" src="images/FinishingTasks-4.gif" /></div></li><li>
<a id="pgfId-1070216"></a>Poly fill: Extends polysilicon fingers vertically to the middle of the nearest cut-poly rail. This helps achieve better poly density, as specified by the foundry and mitigates density gradient effects (DGE). <br />
<a id="pgfId-1070180"></a>The required poly density threshold is usually much higher than the amount of poly on the instances alone. Adding poly fill satisfies this requirement. <br />
<a id="pgfId-1070187"></a>Poly fill inherently require cut poly rails to mitigate the shorts caused due to extending the polysilicon fingers. The following two types of cut-poly rails are required:<ul><li>
<a id="pgfId-1068728"></a>Channel Cut-Poly rails: Separate polysilicon fingers between rows to avoid gates from being shorted.</li><li>
<a id="pgfId-1068274"></a>Transition Cut-Poly rails: Are additional cut-poly rails that surround transition devices.</li></ul><br />
<a id="pgfId-1068712"></a>In the snapshots below, notice that a channel cut-poly is created between each row of devices. Also, extra transition cut-poly rails surround the transition rows.<br />
<a id="pgfId-1068216"></a><div class="webflare-div-image">
<img width="668" height="271" src="images/FinishingTasks-5.gif" /></div></li></ul>





















<h3>
<a id="pgfId-1068007"></a><a id="45864"></a>Inserting Fill</h3>

<p>
<a id="pgfId-1068841"></a>Use the options in the Insert/Delete Dummy Fill form to insert dummy fill in your design. To insert dummy fill, open the Insert/Delete Dummy Fill form by selecting <em>Place</em>&#8212;<em>Fill</em>&#8212;<em>Base Layer Dummy Fill</em>.</p>
<p>
<a id="pgfId-1071606"></a>The Base Layer and Dummy Fill form appears.</p>

<p>
<a id="pgfId-1067422"></a></p>
<div class="webflare-div-image">
<img src="images/BaseLayerAndDumyFill.gif" /></div>

<p>
<a id="pgfId-1067882"></a>The options in the Base Layer and Dummy Fill form are the same as on the Fill tab of the Auto Device P&amp;R assistant. For more information, see <h-hot>Adding Base Layer Fill</h-hot>.</p>
<p>
<a id="pgfId-1072034"></a>Before running the command, select the instances for which dummy fill must be inserted. If no instances are selected, all instances that are currently placed within the PR boundary are selected for dummy fill insertion.</p>

<h3>
<a id="pgfId-1073425"></a><a id="85575"></a>Adding New Fill Definitions</h3>

<p>
<a id="pgfId-1073545"></a>New fill definitions can be added to the drop-down list by defining and registering a SKILL procedure. A fill definition can specify the master to be used for the fill devices and set parameters on those devices. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1075073"></a>The fill definition <code>diffusionLPP</code> parameter can be either a single layer-purpose pair or a list of layer-purpose pairs. The fill definition <code>fingerLPP</code> parameter is always a list of layer-purpose pairs.</div>
<p>
<a id="pgfId-1075057"></a>Here is an example of a SKILL procedure:</p>

<p>
<a id="pgfId-1074563"></a></p>
<div class="webflare-div-image">
<img width="668" height="329" src="images/FinishingTasks-7.gif" /></div>

<p>
<a id="pgfId-1074561"></a>Use the following SKILL functions to register the SKILL procedures:</p>
<ul><li>
<a id="pgfId-1073924"></a><strong><a actuate="user" class="URL" href="../sklayoutref/vplacer.html#lobRegisterAdjacentFillDefsProc" show="replace" xml:link="simple">lobRegisterAdjacentFillDefsProc</a></strong>: Registers the specified user function symbol as the adjacent fill definition procedure.</li><li>
<a id="pgfId-1073925"></a><strong><a actuate="user" class="URL" href="../sklayoutref/vplacer.html#lobRegisterTransitionFillDefsProc" show="replace" xml:link="simple">lobRegisterTransitionFillDefsProc</a></strong>: Registers the specified user function symbol as the transition fill definition procedure.</li><li>
<a id="pgfId-1073920"></a><strong><a actuate="user" class="URL" href="../sklayoutref/vplacer.html#lobRegUserProc" show="replace" xml:link="simple">lobRegUserProc</a></strong>: Registers a user-defined function for a specific purpose, as needed by layout objects. This function is currently used to register procedures to retrieve adjacent fill definitions.</li></ul>


<p>
<a id="pgfId-1073937"></a>Use the following SKILL functions to retrieve names of registered procedures:</p>
<ul><li>
<a id="pgfId-1074011"></a><strong><a actuate="user" class="URL" href="../sklayoutref/vplacer.html#lobGetRegisteredAdjacentFillDefsProc" show="replace" xml:link="simple">lobGetRegisteredAdjacentFillDefsProc</a></strong>: Returns the name of the function that is registered as the adjacent fill definition procedure.</li><li>
<a id="pgfId-1074012"></a><strong><a actuate="user" class="URL" href="../sklayoutref/vplacer.html#lobGetRegisteredTransitionFillDefsProc" show="replace" xml:link="simple">lobGetRegisteredTransitionFillDefsProc</a></strong>: Returns the name of the function that is registered as the transition fill definition procedure.</li><li>
<a id="pgfId-1074007"></a><strong><a actuate="user" class="URL" href="../sklayoutref/vplacer.html#lobGetRegUserProc" show="replace" xml:link="simple">lobGetRegUserProc</a></strong>: Returns a list of strings that contain the name of the specified registered user procedure.</li></ul>


<p>
<a id="pgfId-1074088"></a>Use the following SKILL functions to unregister procedures:</p>
<ul><li>
<a id="pgfId-1074135"></a><strong><a actuate="user" class="URL" href="../sklayoutref/vplacer.html#lobUnRegisterAdjacentFillDefsProc" show="replace" xml:link="simple">lobUnRegisterAdjacentFillDefsProc</a></strong>: Unregisters the specified user function symbol, which is currently registered as the adjacent fill definition procedure.</li><li>
<a id="pgfId-1074136"></a><strong><a actuate="user" class="URL" href="../sklayoutref/vplacer.html#lobUnRegisterTransitionFillDefsProc" show="replace" xml:link="simple">lobUnRegisterTransitionFillDefsProc</a></strong>: Unregisters the specified user function symbol, which is currently registered as the transition fill definition procedure.</li><li>
<a id="pgfId-1074131"></a><strong><a actuate="user" class="URL" href="../sklayoutref/vplacer.html#lobUnRegUserProc" show="replace" xml:link="simple">lobUnRegUserProc</a></strong>: Accepts user functions based on keyword and unregisters them.</li></ul>



<h2>
<a id="pgfId-1072082"></a><a id="49178"></a>Verify Place<a id="verifyPlace"></a>ment</h2>

<p>
<a id="pgfId-1069462"></a>After performing all the placement tasks, you can verify whether the placement is DRC-correct. Use the <em>Batch Checker</em> form to verify constraints and width spacing pattern (WSP)-specific settings in your design. </p>

<ol><li>
<a id="pgfId-1075963"></a>Choose <em>Verify</em> &#8211; <em>Design</em> to open the Batch Checker form. </li><li>
<a id="pgfId-1075975"></a>Choose <em>Placement</em> in the <em>Check</em> panel. The <em>Placement</em> options are displayed in the right panel of the form. The options on the <em>Placement</em> tab available in Virtuoso Layout EXL cockpit in advanced node releases is different from the options available in all other releases. The following snapshots show the differences:<br />
<a id="pgfId-1075907"></a><div class="webflare-div-image">
<img width="668" height="453" src="images/FinishingTasks-8.gif" /></div>
<a id="pgfId-1075908"></a>These placement checks let you verify the constraints and width spacing pattern (WSP)-specific settings in your design. To run these checks:</li><li>
<a id="pgfId-1075910"></a>In the <em>Check For</em> group box, choose the following:<ul><li>
<a id="pgfId-1075911"></a><em>Constraints</em><br />
<a id="pgfId-1075912"></a>Checks for conformance with the following constraints, which Virtuoso Placer honors:<ul><li>
<a id="pgfId-1075913"></a>Alignment</li><li>
<a id="pgfId-1075914"></a>Orientation</li><li>
<a id="pgfId-1075915"></a>Symmetry</li><li>
<a id="pgfId-1075916"></a>Distance<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1076038"></a>You can use Cadence Physical Verification System (PVS) Constraint Validation (CV) to run a comprehensive check of all placement and routing constraints. For more information, see <a href="https://support.cadence.com/apex/techpubDocViewerPage?xmlName=pvsuser.html&amp;title=Cadence+Physical+Verification+User+Guide+--+Preface+-+Documentation&amp;hash=1024581&amp;c_version=16.13&amp;path=pvsuser/pvsuser16.13/run_CV.html#">Running PVS-CV</a> in <em>Cadence Physical Verification User Guide</em>.</div></li></ul></li><li>
<a id="pgfId-1075917"></a><em>Row/Grid </em><br />
<a id="pgfId-1075918"></a>Checks whether instances are snapped to the correct rows or grids.</li><li>
<a id="pgfId-1075919"></a><em>Spacing</em><br />
<a id="pgfId-1075920"></a>Checks instances for conformance with spacing rules that are set, for example the layer spacing rules defined in the technology file and row spacing rules defined in the Row Template Manager.</li><li>
<a id="pgfId-1075921"></a><em>Minimum Pin Access</em><br />
<a id="pgfId-1075922"></a>Checks WSP tracks for conformance with the <em>Minimum Pin Access Count</em> specified on the <em>Misc</em> tab of the Placement Options form. For more information, see <a actuate="user" class="URL" href="../vplacer/Placement.html#miscTab" show="replace" xml:link="simple">Miscellaneous Options</a>.</li><li>
<a id="pgfId-1075924"></a><em>Color Aware</em><br />
<a id="pgfId-1075925"></a>Checks shapes for conformance with color locks assigned to them, if any.</li><li>
<a id="pgfId-1075926"></a><em>Context Aware</em><br />
<a id="pgfId-1075927"></a>Verifies whether context-aware placement has been done for standard cells and whether the edge type and spacing constraints of tap cells have been honored during placement.</li></ul></li><li>
<a id="pgfId-1075929"></a>In the <em>Reports</em> section, choose one or both the following options:<ul><li>
<a id="pgfId-1075930"></a><em>Report Violations</em><br />
<a id="pgfId-1075931"></a>Displays detailed error and warning messages in the CIW reporting all violations that were detected while running batch checker. </li><li>
<a id="pgfId-1075932"></a><em>Create Markers</em><br />
<a id="pgfId-1075933"></a>Displays markers in the design to indicate the locations where violations are reported. </li></ul></li><li>
<a id="pgfId-1075934"></a>In the <em>Scope</em> section, choose <em>Selected Only</em> to run batch checker only on selected objects in the design. Clear the check box to run batch checker on the entire design.</li></ol>




































<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="Placement.html" id="prev" title="Performing Design Placement">Performing Design Placement</a></em></b><b><em><a href="vPlaceForms.html" id="nex" title="Virtuoso Placer Forms">Virtuoso Placer Forms</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2020, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>