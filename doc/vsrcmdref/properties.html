
<html><head><title>Inspecting Properties</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="parula" />
<meta name="CreateDate" content="2020-09-07" />
<meta name="CreateTime" content="1599478781" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes how to use Virtuoso Space-based Router Tcl commands." />
<meta name="DocTitle" content="Virtuoso Space-based Router Command Reference" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Inspecting Properties" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.2.1" />
<meta name="Keyword" content="vsrcmdref" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2020-09-07" />
<meta name="ModifiedTime" content="1599478781" />
<meta name="NextFile" content="" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="examples.html" />
<meta name="c_product" content="Virtuoso Layout Suite" />
<meta name="Product" content="Virtuoso Layout Suite" />
<meta name="ProductFamily" content="Virtuoso Layout Suite" />
<meta name="ProductVersion" content="ICADVM20.1" />
<meta name="RightsManagement" content="Copyright 2012-2020 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Space-based Router Command Reference -- Inspecting Properties" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="ICADVM20.1" />
<meta name="SpaceKey" content="vsrcmdrefICADVM201" />
<meta name="webflare-version" content="2.0" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="vsrcmdrefTOC.html">Contents</a></li><li><a class="prev" href="examples.html" title="Using Tcl">Using Tcl</a></li><li style="float: right;"><a class="viewPrint" href="vsrcmdref.pdf">View/Print PDF</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Space-based Router Command Reference<br />Product Version ICADVM20.1, October 2020</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>23
<a id="pgfId-1055345"></a><a id="50603"></a></h1>
<h1>
<a id="pgfId-1055347"></a><hr />
<a id="84549"></a>Inspecting Properties<hr />
</h1>
<p>
<a id="pgfId-1055354"></a>This chapter describes how to use Tcl commands to get, set, and add object properties, and provides Tcl procedure examples that use these commands. </p>
<p>
<a id="pgfId-1055355"></a>The following sections are included:</p>

<ul><li>
<a id="pgfId-1055359"></a><a href="properties.html#69457">Using Properties Tcl Commands</a><ul><li>
<a id="pgfId-1055363"></a><a href="properties.html#39715">Get a Property Value for an Object</a></li><li>
<a id="pgfId-1055367"></a><a href="properties.html#74835">Get a Property Value for Items in a Set</a></li></ul></li><li>
<a id="pgfId-1055371"></a><a href="properties.html#68985">Tcl Examples for Inspecting Properties</a><ul><li>
<a id="pgfId-1055375"></a><a href="properties.html#27397">Find Items in a Set</a></li><li>
<a id="pgfId-1055379"></a><a href="properties.html#37604">Find Elements of Items in a Set</a></li><li>
<a id="pgfId-1055383"></a><a href="properties.html#49498">Create a Set of Net Elements of a Specific Type</a></li><li>
<a id="pgfId-1055387"></a><a href="properties.html#25748">Create a List of Net Elements of a Specific Type</a></li><li>
<a id="pgfId-1055391"></a><a href="properties.html#74453">Finding All Vias on Nets in a Set</a></li><li>
<a id="pgfId-1055395"></a><a href="properties.html#66602">Finding All Vias with a Given Master on Nets in a Set</a></li><li>
<a id="pgfId-1055399"></a><a href="properties.html#87767">Get the Names of Nets in a Set</a></li><li>
<a id="pgfId-1055403"></a><a href="properties.html#42599">Get the Names of Nets with Guides</a></li><li>
<a id="pgfId-1055407"></a><a href="properties.html#31747">Create a Set Containing Nets with Guides</a></li><li>
<a id="pgfId-1055411"></a><a href="properties.html#74709">Select Nets from Route Segments</a></li><li>
<a id="pgfId-1055415"></a><a href="properties.html#34839">Create a Set of Nets Containing Route Segments from Another Set</a></li><li>
<a id="pgfId-1055419"></a><a href="properties.html#73201">Select Routes from Nets</a></li><li>
<a id="pgfId-1055423"></a><a href="properties.html#53358">Create a Set of Routes Containing Nets from Another Set</a></li><li>
<a id="pgfId-1055427"></a><a href="properties.html#26619">Create a Set Containing Instances Attached to Nets in a Set</a></li><li>
<a id="pgfId-1055431"></a><a href="properties.html#43754">Find Instance Connections for Nets Matching Net Name Expression</a></li><li>
<a id="pgfId-1055435"></a><a href="properties.html#70257">Create Annotations for Items in a Set</a></li><li>
<a id="pgfId-1055439"></a><a href="properties.html#64490">Annotate All Vias with a Given Master on Nets in a Set</a></li></ul></li></ul>





















<h2>
<a id="pgfId-1055441"></a><a id="69457"></a>Using Properties Tcl Commands</h2>
<p>
<a id="pgfId-1055445"></a>The Space-based Router and Chip Optimizer properties Tcl commands are described in detail in <a href="editT.html#84549">Chapter 3, &#8220;Edit Commands.&#8221;</a></p>
<p>
<a id="pgfId-1055449"></a>The following table provides a quick reference for the commands. </p>
<p>
<a id="pgfId-1055502"></a></p>
<table class="webflareTable" id="#id1055450">
<caption style="text-align:left;"><p>
</p><h4>Table 23-1
<a id="pgfId-1055453"></a><a id="63363"></a>Properties Commands</h4></caption>
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1055457">
<a id="pgfId-1055457"></a>Command</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1055459">
<a id="pgfId-1055459"></a>Function</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1055464"></a><a href="editT.html#73362">hp</a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1055466"></a>Specifies whether a property exists for an object.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1055471"></a><a href="editT.html#90609">inspect_config</a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1055473"></a>Customizes the information displayed in the Properties Browser for a specific type of object.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1055478"></a><a href="editT.html#83016">inspect_getprop</a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1055480"></a>Gets a property for an object.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1055485"></a><a href="editT.html#51319">inspect_prop</a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1055487"></a>Another method for getting a property for an object. Shorthand name is <code>ip</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1055492"></a><a href="editT.html#26250">inspect_setprop</a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1055494"></a>Sets a property for an object.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1055499"></a><a href="editT.html#85674">make_list</a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1055501"></a>Constructs a Tcl list of object identifiers from the given set of objects. Shorthand name is <code>ml</code>.</p>
</td>
</tr>
</tbody></table>
<h3>
<a id="pgfId-1055504"></a><a id="39715"></a>Get a Property Value for an Object</h3>
<p>
<a id="pgfId-1055505"></a>Two commands, <code>inspect_getprop</code> and <code>ip</code> (shorthand for <code>inspect_prop</code>) can be used to get the property value for an object.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1055506"></a><code>inspect_getprop -prop_name </code><code><em>s_propName</em></code><code> -object </code><code><em>d_ctuObj</em></code></pre>
<p>
<a id="pgfId-1055507"></a>and</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1055508"></a>ip <code><em>s_propName</em></code> <code><em>d_ctubobj</em></code></pre>
<p>
<a id="pgfId-1055509"></a>are equivalent in function. </p>
<p>
<a id="pgfId-1055510"></a>For example, both of the following commands return the name of the net given by the <code>$net</code> variable:</p>

<ul><li>
<a id="pgfId-1055511"></a><code>inspect_getprop -prop_name name -object $net</code></li><li>
<a id="pgfId-1055512"></a><code>ip name $net</code></li></ul>


<h3>
<a id="pgfId-1055514"></a><a id="74835"></a>Get a Property Value for Items in a Set</h3>
<p>
<a id="pgfId-1055515"></a>To get a property value for an item in a set, use one of the following:</p>

<ul><li>
<a id="pgfId-1055516"></a><code>inspect_getprop -prop_name </code><span class="webflare-courier-new" style="white-space:pre"><em>s_propName</em></span><code> -item </code><span class="webflare-courier-new" style="white-space:pre"><em>i_itemNbr</em></span><code> -set </code><span class="webflare-courier-new" style="white-space:pre"><em>d_setObj</em></span></li><li>
<a id="pgfId-1055517"></a><code>ip </code><span class="webflare-courier-new" style="white-space:pre"><em>s_propName</em></span><code> [lindex [ml </code><span class="webflare-courier-new" style="white-space:pre"><em>d_setObj</em></span><code>] [</code><span class="webflare-courier-new" style="white-space:pre"><em>i_itemNbr</em></span><code>-1]]</code></li></ul>


<p>
<a id="pgfId-1055518"></a>The following examples return the <code>type</code> property value for the first object in the set given by the <code>iSet</code> variable.</p>

<ul><li>
<a id="pgfId-1055519"></a><code>inspect_getprop -prop_name type -item 1 -set $iSet</code></li><li>
<a id="pgfId-1055520"></a><code>ip type [lindex [ml $iSet] 0]</code></li></ul>


<p>
<a id="pgfId-1055521"></a>By default, <code>inspect_getprop</code> operates on the selected set, if not empty, and <code>-item</code> must be given if there is more than one object in the set. </p>
<h2>
<a id="pgfId-1055523"></a><a id="68985"></a>Tcl Examples for Inspecting Properties</h2>
<p>
<a id="pgfId-1055524"></a>The procedures in this section are included in the <code>examples/tcl/inspectProcs.tcl</code> file in your installation directory. </p>
<p>
<a id="pgfId-1055525"></a>To use these procedures, do the following:</p>
<ol><li>
<a id="pgfId-1055529"></a>On the Space-based Router and Chip Optimizer command line, type:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1055530">
<a id="pgfId-1055530"></a>source <code><em>installPath</em></code>/tools/dfII/samples/rde/examples/tcl/inspectProcs.tcl </pre>
<a id="pgfId-1055531"></a>where <span class="webflare-courier-new" style="white-space:pre"><em>installPath</em></span> is the path to your installation directory.<br />
<a id="pgfId-1055649"></a><table class="webflareTable" id="#id1055532">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1055534">
<a id="pgfId-1055534"></a>Procedure or Tcl command</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1055536">
<a id="pgfId-1055536"></a>Description</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1055538"></a><code>findItemsInSet</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1055543"></a><a href="properties.html#27397">Find Items in a Set</a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1055545"></a><code>findElementsOfItems</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1055550"></a><a href="properties.html#37604">Find Elements of Items in a Set</a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1055552"></a><code>createSetOfNetElementsType</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1055557"></a><a href="properties.html#49498">Create a Set of Net Elements of a Specific Type</a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1055559"></a><code>createListOfNetElementsType</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1055564"></a><a href="properties.html#25748">Create a List of Net Elements of a Specific Type</a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1055566"></a><code>findViasInNets</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1055571"></a><a href="properties.html#74453">Finding All Vias on Nets in a Set</a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1055573"></a><code>findViaMaster</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1055577"></a><a href="properties.html#66602">Finding All Vias with a Given Master on Nets in a Set</a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1055580"></a><code>getNetName</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1055585"></a><a href="properties.html#87767">Get the Names of Nets in a Set</a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1055587"></a><code>getGuideNetNames</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1055592"></a><a href="properties.html#42599">Get the Names of Nets with Guides</a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1055594"></a><code>selectNetsFromRouteSegments</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1055599"></a><a href="properties.html#74709">Select Nets from Route Segments</a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1055601"></a><code>getNetsFromRouteSegments</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1055605"></a><a href="properties.html#34839">Create a Set of Nets Containing Route Segments from Another Set</a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1055608"></a><code>selectRoutesFromNets</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1055613"></a><a href="properties.html#73201">Select Routes from Nets</a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1055615"></a><code>getRoutesFromNets</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1055619"></a><a href="properties.html#53358">Create a Set of Routes Containing Nets from Another Set</a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1055622"></a><code>getGuideNetSet</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1055627"></a><a href="properties.html#31747">Create a Set Containing Nets with Guides</a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1055629"></a><code>findNetConnections</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1055633"></a><a href="properties.html#26619">Create a Set Containing Instances Attached to Nets in a Set</a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1055636"></a><code>findInstancesConnectedToNets</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1055640"></a><a href="properties.html#43754">Find Instance Connections for Nets Matching Net Name Expression</a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1055643"></a><code>set2ann</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1055648"></a><a href="properties.html#70257">Create Annotations for Items in a Set</a></p>
</td>
</tr>
</tbody></table></li></ol>




<h3>
<a id="pgfId-1055651"></a><a id="27397"></a>Find Items in a Set</h3>
<p>
<a id="pgfId-1055652"></a>This procedure prints the <code>type</code> property for all elements in the given set.</p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1055653"></a>proc findItemsInSet {inputSet} {<br />
&#160;&#160;#process each item in the set. for loop<br />  foreach inputObject [ml $inputSet] {<br />    puts [ip type $inputObject]<br />  }<br />  puts &quot;[set_count -set $inputSet] items in set.&quot;<br />}</pre>
<p>
<a id="pgfId-1055654"></a>The following example uses the <code>findItemsInSet</code> procedure and shows the output.</p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1055655"></a>findItemsInSet [get_selection_set]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1055656"></a>ctuRouteSegment<br />ctuRouteVia<br />ctuNet<br />ctuRoute<br />4 items in set.</pre>
<h3>
<a id="pgfId-1055658"></a><a id="37604"></a>Find Elements of Items in a Set</h3>
<p>
<a id="pgfId-1055659"></a>For each item in a set, this procedure prints the <code>type</code> property for the item and the <code>type</code> property for each of its elements, if it has elements. </p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1055660"></a>proc findElementsOfItemsInSet { inputSet } {<br />
&#160;&#160;set i 1<br />  # inspect each item in the set.<br />  foreach item [ml $inputSet] {<br />    if {[hp elements $item]} {<br />      foreach elem [ml [ip elements $item]] {<br />        puts &quot;Item $i [ip type $item] element: [ip type $elem]&quot;<br />      }<br />    } else { puts &quot;Item $i has no elements.&quot; }<br />  incr i<br />  }<br />}</pre>
<p>
<a id="pgfId-1055661"></a>The following is example output for a set containing a net and a route segment:</p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1055662"></a>findElementsOfItemsInSet [get_selection_set]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1055663"></a>Item 1 ctuNet element: ctuInstTerm<br />Item 1 ctuNet element: ctuInstTerm<br />Item 1 ctuNet element: ctuRoute<br />Item 1 ctuNet element: ctuSteiner<br />Item 1 ctuNet has 4 elements.<br />Item 2 ctuRouteSegement has 0 elements.</pre>
<h3>
<a id="pgfId-1055665"></a><a id="49498"></a>Create a Set of Net Elements of a Specific Type</h3>
<p>
<a id="pgfId-1055666"></a>For each net in the input set, puts all elements of a given type into an output set. Non-net items in the set are ignored.</p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1055667"></a>proc createSetOfNetElementsType { inputSet typeVal } {<br /> <br />  set outputSet [create_set]<br />
&#160;&#160;foreach item [ml $inputSet] {<br />    if {[string compare [ip type $item] &quot;ctuNet&quot;] == 0} {<br />
&#160;&#160;    #process only Nets here<br />      foreach elem [ml [ip elements $item]] {<br />        if {[string compare [ip type $elem] $typeVal] == 0} {<br />          add_object_to_set -object $elem -set $outputSet<br />        }<br />      }<br />   }<br />  }<br />  return $outputSet<br />}</pre>
<p>
<a id="pgfId-1055668"></a>The following example creates a set containing all the routes from the nets in the selected set.</p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1055669"></a>set routeSet [createSetOfNetElementsType [get_selection_set] ctuRoute ]</pre>
<h3>
<a id="pgfId-1055671"></a><a id="25748"></a>Create a List of Net Elements of a Specific Type</h3>
<p>
<a id="pgfId-1055672"></a>For each net in the input set, puts all elements of a given type into an output list. This procedure is identical in function to <code>createSetOfNetElementsType</code> except this returns a list, instead of a set.</p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1055673"></a>proc createListOfNetElementsType { inputSet typeVal } {<br /> <br />  set outputList [list]<br />
&#160;&#160;foreach item [ml $inputSet] {<br />    if {[string compare [ip type $item] &quot;ctuNet&quot;] == 0} {<br />
&#160;&#160;     #process only Nets here<br />       foreach elem [ml [ip elements $item]] {<br />         if {[string compare [ip type $elem] $typeVal] == 0} {<br />            lappend outputList $elem<br />         }<br />       }<br />    }<br />  }<br />  return $outputList<br />}</pre>
<h3>
<a id="pgfId-1055675"></a><a id="74453"></a>Finding All Vias on Nets in a Set</h3>
<p>
<a id="pgfId-1055676"></a>Returns a set containing all vias on nets of the given set. First finds all the routes for nets in the set, then puts all the vias for those routes in the output set.</p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1055677"></a>proc findViasInNets { inputSet } {<br />
&#160;&#160;set outputSet [create_set]<br />   foreach route [createListOfNetElementsType $inputSet ctuRoute ] {<br />     foreach elem [ml [ip elements $route ] ] {<br />       if {[string compare [ip type $elem] &quot;ctuRouteVia&quot;] == 0} {<br />          #found a via<br />#         puts &quot;Net [ip net.name $elem], Via Master [ip master.name $elem]&quot;<br />          add_object_to_set -object $elem -set $outputSet<br />       }<br />
&#160;&#160;   }<br />  }<br />   return $outputSet<br />}</pre>
<p>
<a id="pgfId-1055678"></a>The following example creates a set containing all vias on nets in the HL1 highlight set.</p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1055679"></a>set vset [findViasInNets [get_highlight -name HL1]]</pre>
<h3>
<a id="pgfId-1055681"></a><a id="66602"></a>Finding All Vias with a Given Master on Nets in a Set</h3>
<p>
<a id="pgfId-1055682"></a>Returns a set containing vias with the given master via that are contained in nets in the given set. </p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1055683"></a>proc findViaMaster { inputSet masterVal } {<br /> <br />  set viaSet [create_set]<br />  set i 0<br />  foreach via [ml [findViasInNets $inputSet]] {<br />#   puts &quot;Master $masterVal; Net [ip net.name $via], Via Master \<br />        [ip master.name $via]&quot;<br />    if {[string compare [string trim [ip master.name $via] &quot;\&quot;&quot;] $masterVal] \<br />        == 0} {<br />      add_object_to_set -object $via -set $viaSet<br />      incr i<br />    }<br />  }<br />  puts &quot;Found $i vias with master $masterVal.&quot;<br />  return $viaSet<br />}</pre>
<p>
<a id="pgfId-1055684"></a>The following example creates a set containing all M2_M1 vias on nets in the selected set.</p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1055685"></a>set vset [findViaMaster [get_selection_set] M2_M1]</pre>
<h3>
<a id="pgfId-1055687"></a><a id="87767"></a>Get the Names of Nets in a Set</h3>
<p>
<a id="pgfId-1055688"></a>This procedure returns the list of names for nets in the given set.</p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1055689"></a>proc getNetName { netSet } {<br />   set netNamesList [list]<br />   foreach net [ml $netSet] {<br />      set netType [string trim [ip type $net] &quot;&#39;&quot;]<br />      if {[string compare $netType &quot;ctuNet&quot;] == 0} {<br />         set netName [string trim [ip name $net] &quot;&#39;&quot;]<br />        lappend netNamesList $netName <br />      }<br />   }<br />   return $netNamesList<br />}</pre>
<p>
<a id="pgfId-1055690"></a>For example,</p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1055691"></a>getNetName [get_highlight -name HL2]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1055692"></a>net1 {in[0]} net2</pre>
<h3>
<a id="pgfId-1055694"></a><a id="42599"></a>Get the Names of Nets with Guides</h3>
<p>
<a id="pgfId-1055695"></a>This procedure returns a list of names of nets that contain guides (opens).</p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1055696"></a>proc getGuideNetNames {} {<br />   set netNamesList [list]<br />   set guideSet [find_shape -shape_types guide -ignore_case true \<br />      -no_wildcard false -silent]<br />   foreach guide [ml $guideSet] {<br />      set guideType [string trim [ip type $guide ] &quot;&#39;&quot;]<br />      if {[string compare $guideType &quot;ctuGuide&quot;] == 0} {<br />         set netName [string trim [ip net.name $guide ] &quot;&#39;&quot;]<br />         lappend netNamesList $netName<br />      }<br />   }<br />   return $netNamesList<br />}</pre>
<h3>
<a id="pgfId-1055698"></a><a id="31747"></a>Create a Set Containing Nets with Guides</h3>
<p>
<a id="pgfId-1055699"></a>This procedure returns a set containing nets with guides. </p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1055700"></a>proc getGuideNetSet {} {<br />   set netSet [create_set]<br />   set guideSet [find_shape -shape_types guide -ignore_case true \<br />      -no_wildcard false -silent]<br />   foreach guide [ml $guideSet] {<br />      set guideType [string trim [ip type $guide ] &quot;&#39;&quot;]<br />      if {[string compare $guideType &quot;ctuGuide&quot;] == 0} {<br />         set net [ip net $guide ]<br />         add_object_to_set -set $netSet -object $net<br />      }<br />   }<br />   return $netSet<br />}</pre>
<p>
<a id="pgfId-1055701"></a>For example,</p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1055702"></a>set guideSet [getGuideNetSet]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1055703"></a>sel:d128040</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1055704"></a>getNetName $guideSet</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1055705"></a>net13 net25 net17</pre>
<h3>
<a id="pgfId-1055707"></a><a id="74709"></a>Select Nets from Route Segments</h3>
<p>
<a id="pgfId-1055708"></a>This procedure replaces the selected set with nets containing the route segments in the input set.</p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1055709"></a>proc selectNetsFromRouteSegments { routeSegmentSet } {<br />  set netSet [create_set]<br />  foreach route [ml $routeSegmentSet] {<br />    set routeType [string trim [ip type $route ] &quot;&#39;&quot;]<br />    if {[string compare $routeType &quot;ctuRouteSegment&quot;] == 0} {<br />      set net [ip net $route ]<br />      add_object_to_set -object $net -set $netSet<br />    }<br />  }<br />  replace_set -set1 $netSet -set2 [get_selection_set]<br />}</pre>
<h3>
<a id="pgfId-1055711"></a><a id="34839"></a>Create a Set of Nets Containing Route Segments from Another Set</h3>
<p>
<a id="pgfId-1055712"></a>This procedure returns a set of nets from the route segments in the input set.</p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1055713"></a>proc getNetsFromRouteSegments { routeSegmentSet } {<br />  set netSet [create_set]<br />  foreach route [ml $routeSegmentSet] {<br />    set routeType [string trim [ip type $route ] &quot;&#39;&quot;]<br />    if {[string compare $routeType &quot;ctuRouteSegment&quot;] == 0} {<br />      set net [ip net $route ]<br />      add_object_to_set -object $net -set $netSet<br />    }<br />  }<br />  return $netSet<br />}</pre>
<h3>
<a id="pgfId-1055715"></a><a id="73201"></a>Select Routes from Nets</h3>
<p>
<a id="pgfId-1055716"></a>This procedure replaces the selected set with routes from the input set of nets.</p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1055717"></a>proc selectRoutesFromNets { netSet } {<br />  set routeSet [create_set]<br />  foreach net [ml $netSet] {<br />    set netType [string trim [ip type $net] &quot;&#39;&quot;]<br />    if {[string compare $netType &quot;ctuNet&quot;] == 0} {<br />      foreach element [ml [ip elements $net]] {<br />        set elementType [string trim [ip type $element] &quot;&#39;&quot;]<br />        if {[string compare $elementType &quot;ctuRoute&quot;] == 0} {<br />          add_object_to_set -object $element -set $routeSet<br />        }<br />      }<br />    }<br />  }<br />  replace_set -set1 $routeSet -set2 [get_selection_set]<br />}</pre>
<h3>
<a id="pgfId-1055719"></a><a id="53358"></a>Create a Set of Routes Containing Nets from Another Set</h3>
<p>
<a id="pgfId-1055720"></a>This procedure returns a set of routes from the nets in the input set.</p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1055721"></a>proc getRoutesFromNets { netSet } {<br />  set routeSet [create_set]<br />  foreach net [ml $netSet] {<br />    set netType [string trim [ip type $net] &quot;&#39;&quot;]<br />    if {[string compare $netType &quot;ctuNet&quot;] == 0} {<br />      foreach element [ml [ip elements $net]] {<br />        set elementType [string trim [ip type $element] &quot;&#39;&quot;]<br />        if {[string compare $elementType &quot;ctuRoute&quot;] == 0} {<br />          add_object_to_set -object $element -set $routeSet<br />        }<br />      }<br />    }<br />  }<br />  return $routeSet<br />}</pre>
<h3>
<a id="pgfId-1055723"></a><a id="26619"></a>Create a Set Containing Instances Attached to Nets in a Set</h3>
<p>
<a id="pgfId-1055724"></a>This procedure returns a set of instances that are attached to nets in the given set.</p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1055725"></a>proc findInstancesConnectedToNets {inputSet} {<br />  set instSet [create_set]<br />  foreach inputObject [ml $inputSet] {<br />    set inputObjectType [ip type $inputObject]<br />      if {[string compare $inputObjectType &quot;ctuNet&quot;] == 0} {<br />        foreach element [ml [ip elements $inputObject]] {<br />          set elementType [ip type $element]<br />          if {[string compare $elementType &quot;ctuInstTerm&quot;] == 0} {<br />            set elementInst [ip instance $element]<br />            add_object_to_set -object $elementInst -set $instSet<br />        }<br />      }<br />    } else { puts &quot;$inputObjectType: this is not a net&quot; }<br />  }<br />  puts &quot;[set_count -set $instSet] instances are attached to selected nets.&quot;<br />  return $instSet<br />}</pre>
<p>
<a id="pgfId-1055726"></a>The following example uses the <code>findInstancesConnectedToNets</code> procedure and adds the instances that are found to the current highlight set.</p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1055727"></a>replace_set -set1 [findInstancesConnectedToNets [get_selection_set]] -set2 [get_current_highlight]</pre>
<h3>
<a id="pgfId-1055729"></a><a id="43754"></a>Find Instance Connections for Nets Matching Net Name Expression</h3>
<p>
<a id="pgfId-1055730"></a>This procedure finds all nets matching the input net name expression, then prints a description for each instTerm connection on each net and the total number of instTerm connections for each net.</p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1055731"></a>proc findNetConnections {netName} {<br />  set netsSet [ml [find_net -name $netName -silent true ] ]<br />  foreach net $netsSet {<br />    set netName [ip name $net]<br />    puts &quot; &quot;<br />    puts &quot;Net $netName:&quot;<br />    set netElements [ml [ip elements $net]]<br />    set instTermCount 0<br />    foreach netElement $netElements {<br />      set netElementType [ip type $netElement]<br />      if {[string compare $netElementType &quot;ctuInstTerm&quot;] == 0} {<br />        set termName [ip name $netElement]<br />        #set instName [ip name [ip instance $netElement]]<br />        set instName [ip instance.name $netElement]<br />        #set instTermPins [ml [ip elements [ip term $netElement]]]<br />        set instTermPins [ml [ip term.elements $netElement]]<br />        set connectionType [ip termType [ip term $netElement]]<br />        foreach instTermPin $instTermPins {<br />          set instTermPinShapes [ml [ip elements $instTermPin]]<br />          foreach pinShape $instTermPinShapes {<br />            set pinShapeBounds [ip bounds $pinShape ]<br />            #set pinShapeLayer [ip name [ip layer $pinShape ] ]<br />            set pinShapeLayer [ip layer.name $pinShape ]<br />            puts &quot;  Pin shape on layer $pinShapeLayer for $termName \<br />                ($connectionType) on net $netName is located at $pinShapeBounds&quot;<br />          }<br />        }<br />        incr instTermCount<br />      }<br />    }<br />    puts &quot;  Net $netName has $instTermCount instTerm connections.&quot;<br />  }<br />}</pre>
<h3>
<a id="pgfId-1055733"></a><a id="70257"></a>Create Annotations for Items in a Set</h3>
<p>
<a id="pgfId-1055734"></a>This procedure is useful when you want a quick way to zoom to each item in the set. After invoking this procedure, you can use the Annotation Browser as the navigation mechanism.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1055735"></a>Only objects with a <code>bounds</code> property can be annotated using this method.</div>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1055736"></a>proc set2ann { myset } {<br />
&#160;&#160;set i 1<br />  foreach objInSet [ml $myset] {<br />    set objHasBounds [hp bounds $objInSet]<br />    if ($objHasBounds) {<br />      set objBounds [inspect_getprop -prop_name bounds -object $objInSet]<br />      puts &quot;\# Msg: Creating rectangle annotation at $objBounds\n&quot;<br />      add_rectangle -color Cyan -lineWidth 1 -rect [bounds2Bbox $objBounds]<br />     } else {<br />         puts &quot;\# Msg: Error couldn&#8217;t find bounds prop on item $i. Skipping.\n&quot;<br />     }<br />     incr i<br />  }<br />}</pre>
<p>
<a id="pgfId-1055737"></a>The following procedure is the equivalent to <code>set2ann</code> but it uses <code>ip</code> (<code>inspect_prop</code>) instead of <code>inspect_getprop</code> and does not create some intermediate variables.</p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1055738"></a>proc set2annip { myset } {<br />  set i 1<br />  foreach objInSet [ml $myset] {<br />    if {[hp bounds $objInSet]} {<br />      add_rectangle -color Cyan -lineWidth 1 \<br />          -rect [bounds2Bbox [ip bounds $objInSet]]<br />    } else {<br />      puts &quot;\# Msg: Error - couldn&#8217;t find bounds prop on item $i. Skipping.\n&quot;<br />    }<br />  incr i<br />  }<br />}</pre>
<h3>
<a id="pgfId-1055740"></a><a id="64490"></a>Annotate All Vias with a Given Master on Nets in a Set</h3>
<p>
<a id="pgfId-1055741"></a>This example annotates all <code>M2_M1</code> vias on nets in the selected set.</p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1055742"></a>set2ann [findViaMaster [get_selection_set] M2_M1]</pre>
<p>
<a id="pgfId-1054848"></a></p>
<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="examples.html" id="prev" title="Using Tcl">Using Tcl</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2020, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>