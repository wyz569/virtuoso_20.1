
<html><head><title>Importing and Exporting Data</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="komal" />
<meta name="CreateDate" content="2020-08-25" />
<meta name="CreateTime" content="1598366644" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes how to use Virtuoso Multi-Patterning Technology with advanced node designs." />
<meta name="DocTitle" content="Virtuoso Multi-Patterning Technology User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Importing and Exporting Data" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.2.1" />
<meta name="Keyword" content="vmptuser" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2020-08-25" />
<meta name="ModifiedTime" content="1598366644" />
<meta name="NextFile" content="fcb.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="CheckingAndFixing.html" />
<meta name="c_product" content="Virtuoso Layout Suite" />
<meta name="Product" content="Virtuoso Layout Suite" />
<meta name="ProductFamily" content="Virtuoso Layout Suite" />
<meta name="ProductVersion" content="ICADVM20.1" />
<meta name="RightsManagement" content="Copyright 2012-2020 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Multi-Patterning Technology User Guide -- Importing and Exporting Data" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="ICADVM20.1" />
<meta name="SpaceKey" content="vmptuserICADVM201" />
<meta name="webflare-version" content="2.0" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="vmptuserTOC.html">Contents</a></li><li><a class="prev" href="CheckingAndFixing.html" title="Checking and Fixing Multiple Patterning Violations in Layout">Checking and Fixing Multiple P ...</a></li><li style="float: right;"><a class="viewPrint" href="vmptuser.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="fcb.html" title="Fully Colored Backannotation Flow">Fully Colored Backannotation F ...</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Multi-Patterning Technology User Guide<br />Product Version ICADVM20.1, October 2020</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>6
<a id="pgfId-1065082"></a></h1>
<h1>
<a id="pgfId-1076146"></a><hr />
<a id="85394"></a>Importing and Exporting Data<hr />
</h1>

<p>
<a id="pgfId-1082028"></a>The following methods for importing and exporting data are discussed in this chapter:</p>
<ul><li>
<a id="pgfId-1083076"></a><a href="DataIO.html#31969">Using XStream</a></li><li>
<a id="pgfId-1093188"></a><a href="DataIO.html#91124">Layer-Purpose Pair to Color Data</a></li><li>
<a id="pgfId-1089421"></a><a href="DataIO.html#82642">Color Data Migration</a></li></ul>



<h2>
<a id="pgfId-1089423"></a><a id="31969"></a>Using XStream</h2>

<p>
<a id="pgfId-1089424"></a>The XStream translator is used to translate designs in Stream format to the OpenAccess database and conversely. </p>
<ul><li>
<a id="pgfId-1082047"></a>XStream In translates designs in Stream format to the OpenAccess database. </li><li>
<a id="pgfId-1082057"></a>XStream Out translates designs from the OpenAccess database to Stream format.</li></ul>

<p>
<a id="pgfId-1090388"></a>This section describes the following:</p>
<ul><li>
<a id="pgfId-1090667"></a><a href="DataIO.html#46411">Exporting Stream Files with Coloring</a></li><li>
<a id="pgfId-1090640"></a><a href="DataIO.html#64288">Importing Stream Files with Coloring</a></li><li>
<a id="pgfId-1090942"></a><a href="DataIO.html#37109">Using Enhanced Layer Map Files for Coloring</a></li><li>
<a id="pgfId-1091269"></a><a href="DataIO.html#12364">Types of Color Representations</a></li><li>
<a id="pgfId-1091280"></a><a href="DataIO.html#42543">Handling Stitches</a></li><li>
<a id="pgfId-1091291"></a><a href="DataIO.html#88504">Warning Messages from XStream</a></li></ul>





<p>
<a id="pgfId-1091206"></a>For more information on using XStream and the XStream GUI, refer to Just <em><a actuate="user" class="URL" href="../transrefOA/transrefOATOC.html#firstpage" show="replace" xml:link="simple">Design Data Translator&#8217;s Reference</a></em><em>.</em></p>

<h3>
<a id="pgfId-1090811"></a><a id="46411"></a>Exporting Stream Files with Coloring</h3>

<p>
<a id="pgfId-1090688"></a><a href="DataIO.html#88682">Figure&#160;6-1</a> shows the flow for translating an OpenAccess database with coloring to Stream (GDSII) format. </p>
<ul><li>
<a id="pgfId-1090984"></a>A layer map is required that includes color mapping specified by the foundry. For more information, refer to <a href="DataIO.html#37109">Using Enhanced Layer Map Files for Coloring</a>.</li><li>
<a id="pgfId-1093041"></a>If any shapes in your design are color locked using hierarchical color locking (HCL), follow the procedure in <a href="InteractiveColoring.html#63049">Propagating Locks</a> to ensure that the HCL data is included during stream out. For more information on HCL, refer to <a href="InteractiveColoring.html#95177">Hierarchical Color Locking</a>.</li><li>
<a id="pgfId-1093031"></a>If the OpenAccess database contains stitches, an object mapping file is also required, as described in <a href="DataIO.html#42543">Handling Stitches</a>.</li><li>
<a id="pgfId-1091011"></a>The data is translated using the Virtuoso GUI (<em>File &#8211; Export &#8211; Stream</em> in the CIW), or by using <code>strmout</code> from the Textual User Interface.<br /><div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1091032"></a>
To stream out color, &quot;Enable Coloring&quot; must be enabled in the XStream Out GUI or &quot;-enableColoring&quot; must be included in the <code>strmout</code> command, before the layer map is loaded. Your layer map must include the photo mask color and color state columns.</div><strong>Figure 6-1
<a id="pgfId-1090555"></a><a id="88682"></a>S<a id="StreamOutwithColoringFlow"></a>tream Out with Coloring Flow</strong>
<a id="pgfId-1092510"></a><div class="webflare-div-image">
<img width="668" height="803" src="images/DataIO-3.gif" /></div></li></ul>








<h3>
<a id="pgfId-1090419"></a><a id="64288"></a>Importing Stream Files with Coloring</h3>

<p>
<a id="pgfId-1091062"></a><a href="DataIO.html#74005">Figure&#160;6-2</a> shows the flow for translating a Stream (GDSII) file with coloring to an OpenAccess database.</p>
<ul><li>
<a id="pgfId-1091063"></a>A layer map is required that includes the color mapping specified by the foundry. For more information, refer to <a href="DataIO.html#37109">Using Enhanced Layer Map Files for Coloring</a>.</li><li>
<a id="pgfId-1091068"></a>The data is translated using the Virtuoso GUI (<em>File &#8211; Import &#8211; Stream</em>), or by using <code>strmin</code> from the Textual User Interface.</li><li>
<a id="pgfId-1091129"></a>If the resulting OpenAccess database includes additional markers to represent coloring, the markers must be converted to mask colors either by using the <a href="../sklayoutref/mpt.html#mptMarkersToMaskColors">mptMarkersToMaskColors</a> SKILL function or from the MPT Assistant.<br /><div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1091069"></a>
To stream in color, &quot;Enable Coloring&quot; must be enabled in the XStream In GUI or &quot;-enableColoring&quot; must be included in the <code>strmin</code> command, before the layer map is loaded. Your layer map must include the photo mask color and color state columns.</div><strong>Figure 6-2
<a id="pgfId-1090831"></a><a id="74005"></a>S<a id="StreamInwithColoringFlow"></a>tream In with Color Flow</strong>
<a id="pgfId-1090931"></a><div class="webflare-div-image">
<img width="668" height="796" src="images/DataIO-4.gif" /></div></li></ul>







<h3>
<a id="pgfId-1090051"></a><a id="37109"></a>Using Enhanced Layer Map Files for Coloring</h3>

<p>
<a id="pgfId-1090249"></a>XStream can export and import color information to/from external tools that require layer-purpose pairs to represent mask colors. Two columns have been added to the layer map file for this purpose: </p>
<ul><li>
<a id="pgfId-1090250"></a><strong>Photo mask color</strong> with valid values <code>mask</code>1Color to <code>mask</code><span class="webflare-courier-new" style="white-space:pre"><em>X</em></span><code>Color</code> where <span class="webflare-courier-new" style="white-space:pre"><em>X</em></span> is the number of masks defined for the layer in the technology file. </li><li>
<a id="pgfId-1090252"></a><strong>Color State</strong> with valid values <code>locked</code> and <code>unlocked</code>.</li></ul>

<p>
<a id="pgfId-1090253"></a>For example,</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1090254"></a>#layer purpose GDSlayer GDSdata material mask qual photomask  colorstate<br />Metal1 drawing    1        0                       <br />Metal1 drawing    1        1                       mask1Color unlocked<br />Metal1 drawing    1        2                       mask1Color locked<br />Metal1 drawing    1        3                       mask2Color unlocked<br />Metal1 drawing&#160;&#160;  1        4                       mask2Color locked</pre>

<p>
<a id="pgfId-1090255"></a>Both the locked and unlocked states of one color (for example, mask1Color) can be mapped to the same layer and data type in the stream (GDS) file.</p>

<h3>
<a id="pgfId-1090127"></a><a id="12364"></a>Types of Color Representations</h3>

<p>
<a id="pgfId-1090137"></a>Stream file data is mapped to layer-purpose pairs in one of two ways, as determined by the foundry:</p>
<ul><li>
<a id="pgfId-1090151"></a><a href="DataIO.html#26090">Layer-Purpose Pair Mapping</a></li><li>
<a id="pgfId-1090161"></a><a href="DataIO.html#61880">Layer-Purpose Pair Marker Mapping</a></li></ul>


<h4>
<a id="pgfId-1090168"></a><a id="26090"></a>Layer-Purpose Pair Mapping</h4>

<p>
<a id="pgfId-1090180"></a>This coloring maps GDS layer and data types to layer-purpose pairs. Each colored shape in GDS is represented by a shape in the OpenAccess database.</p>

<h4>
<a id="pgfId-1090191"></a><a id="61880"></a>Layer-Purpose Pair Marker Mapping</h4>

<p>
<a id="pgfId-1090223"></a>This coloring maps GDS layer and data types to layer-purpose pairs. Each colored shape in GDS is represented in the OpenAccess database by two shapes, the original shape and a color marker. After this type of data is streamed in, the markers <strong>must</strong> be removed using the <a href="../sklayoutref/mpt.html#mptMarkersToMaskColors">mptMarkersToMaskColors</a> SKILL function or from the Multiple Patterning toolbar (described in <strong><a href="InteractiveColoring.html#95540"></a><h-hot>Converting Markers to Mask Colors</h-hot><strong></strong>) before</strong> using the cluster-based color engine.</p>

<h3>
<a id="pgfId-1091252"></a><a id="42543"></a>Handling Stitches</h3>

<p>
<a id="pgfId-1091262"></a>Stitches have special requirements when streaming out and streaming in.</p>

<h4><em>
<a id="pgfId-1091421"></a>S<a id="HandlingStitchesStreamOut"></a>tream Out</em></h4>

<p>
<a id="pgfId-1091310"></a>When exporting an OpenAccess Database with stitches, you must provide an object mapping file for the stitches. This is a text file that maps the stitches by layer to the Stream layer and data type. For example,</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1091325"></a>#ObjectType ObjectSubType LayerName Stream# Datatype#<br />Stitch      None          Metal1    30      43<br />Stitch      None          Metal2    34      43<br />Stitch&#160;&#160;    None          Metal3    38      43</pre>

<p>
<a id="pgfId-1091453"></a>The object mapping file can be specified using the<code> -objectMap</code> command-line option to <code>strmout</code>, or from the StreamOut Options form&#8217;s Object tab GUI.</p>

<h4><em>
<a id="pgfId-1091454"></a>S<a id="HandlingStitchesStreamIn"></a>tream In</em></h4>

<p>
<a id="pgfId-1091465"></a>After importing a stream file that contains stitches, stitches will appear as stitch shape markers that identify the overlap area. You <strong>must</strong> reconstruct the stitches before using the cluster-based color engine. Use the <a href="../sklayoutref/mpt.html#mptReconstructStitch">mptReconstructStitch</a> SKILL function for each layer with stitches, then <a href="../sklayoutref/mpt.html#mptReColor">mptReColor</a>.</p>

<h3>
<a id="pgfId-1091456"></a><a id="88504"></a>Warning Messages from XStream</h3>
<h4>
<a id="pgfId-1091457"></a>XSTRM-325</h4>

<p>
<a id="pgfId-1089453"></a>If a colored shape is found without a color-aware mapping in the layer map file, a warning message indicates the layer-purpose pair for the shape with its coordinates, photomask color, and color state. This can be intentionally done to filter out shapes on specific layer-purpose pairs with a specific photomask color and/or color state. For example, if you could exclude a mapping for &#8216;metal1:drawing&#8217; with photomask &#8216;mask2Color&#8217; and color state &#8216;unlocked&#8217;, any shapes of the excluded mapping type would not be streamed out. </p>

<h2>
<a id="pgfId-1093121"></a><a id="91124"></a>Layer-Purpose Pair to Color Data</h2>

<p>
<a id="pgfId-1093122"></a>Some designs use separate layer-purpose pairs to represent the multiple patterning mask information. SKILL functions are provided to convert that data to a database that can be used by the Virtuoso color engine.</p>

<p>
<a id="pgfId-1093143"></a></p>
<div class="webflare-div-image">
<img width="668" height="159" src="images/DataIO-5.gif" /></div>
<h3>
<a id="pgfId-1093144"></a>Merging Layer-Purpose Pairs on Two Layers (2-to-1)</h3>

<p>
<a id="pgfId-1093145"></a>For designs that represent colored data by overlapping the metal shapes on one layer-purpose pair with precoloring markers on another layer-purpose pair, use <a href="../sklayoutref/mpt.html#mptMarkersToMaskColors">mptMarkersToMaskColors</a>. From the layout view, the marker and drawing layer will be merged into one drawing layer through the hierarchy.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1093147"></a>If XStream is used to translate data of this type, the precoloring markers will be converted but the covered metal layer shapes will remain. </div>

<p>
<a id="pgfId-1093150"></a>For details on using this function, refer to <a href="../sklayoutref/mpt.html#mptMarkersToMaskColors">mptMarkersToMaskColors</a> in <em><a actuate="user" class="URL" href="../sklayoutref/sklayoutrefTOC.html#firstpage" show="replace" xml:link="simple">Virtuoso Layout Suite SKILL Reference</a></em>. </p>

<h3>
<a id="pgfId-1093151"></a>Merging Multiple Layer-Purposes on One Layer (1-to-1)</h3>

<p>
<a id="pgfId-1093152"></a>For designs that represent colored data using multiple purposes on one layer, use <a href="../sklayoutref/mpt.html#mptLPPMergeToColor">mptLPPMergeToColor</a>. This function creates a new design hierarchy in which the shapes in the multiple layer-purpose pairs are merged to shapes on a single layer-purpose pair. The shapes in the merged representation will have colors corresponding to the layer-purpose pair in the original layer-purpose pair representation. </p>
<p>
<a id="pgfId-1093154"></a>Output can be to the same cellview (overwrite), a different view in the same library, the same view in a different library, or a new library and view.</p>
<p>
<a id="pgfId-1093157"></a>For details on using this function, refer to <a href="../sklayoutref/mpt.html#mptLPPMergeToColor">mptLPPMergeToColor</a> in <em><a actuate="user" class="URL" href="../sklayoutref/sklayoutrefTOC.html#firstpage" show="replace" xml:link="simple">Virtuoso Layout Suite SKILL Reference</a></em>.</p>

<h3>
<a id="pgfId-1095936"></a>Tr<a id="mpt_TransformToColoredBlockages"></a>ansforming Shapes on Specified Purposes to Colored Blockages</h3>

<p>
<a id="pgfId-1095963"></a>For designs that represent colored blockages using shapes on specific layer-purposes, use <a href="../sklayoutref/mpt.html#mptMarkersToColoredBlockages">mptMarkersToColoredBlockages</a>. From the layout view, the shapes on those purposes are transformed to colored blockages on the same layer through the hierarchy.</p>

<h2>
<a id="pgfId-1083166"></a><a id="82642"></a>Color Data Migration</h2>

<p>
<a id="pgfId-1094766"></a>This section describes how data is handled when migrating from a previous release or another product version.</p>
<ul><li>
<a id="pgfId-1094770"></a><a href="DataIO.html#95561">From/To IC6.1.x</a></li><li>
<a id="pgfId-1094774"></a><a href="DataIO.html#81448">To ICADV12.2 LA4 or above</a></li><li>
<a id="pgfId-1095499"></a><a href="DataIO.html#54448">To ICADV12.2 Base Release or ICADV12.2 ISR1</a></li></ul>


<p>
<a id="pgfId-1094778"></a>The standalone utility, <a href="DataIO.html#23550">mptScan</a>, can be used to detect and correct coloring issues, and remove coloring information from a design.</p>

<h3>
<a id="pgfId-1094780"></a><a id="95561"></a>From/To IC6.1.x</h3>

<p>
<a id="pgfId-1094781"></a>IC6.1.x can open ICADV12.2 layouts without any coloring information in read or edit mode.</p>
<p>
<a id="pgfId-1094782"></a>IC6.1.x can open ICADV12.2 layouts with coloring information in read-only mode, with the following exceptions: Virtuoso Space-based Router and Virtuoso Routing IDE. </p>

<h3>
<a id="pgfId-1094784"></a><a id="81448"></a>To ICADV12.2 LA4 or above</h3>
<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1094942"></a>
The colorSpec bits issue that is described in this section has been resolved in ICADV12.2 LA4 ISR2. If you are running Virtuoso ICADV12.2 LA4 ISR2, you do not need to run mptScan to check for or clear colorSpec bits. </div>

<p>
<a id="pgfId-1094943"></a>Some objects that were colored in a previous version of ICADV12.2 appear gray or uncolored in ICADV12.2 LA4 and ICADV12.2 LA4 ISR1. This was due to data and/or libraries using outdated colorSpec bits that are not supported. ICADV12.2 LA4 was enhanced to support up to eight colors in the database, using some bits that had been used for colorSpec in early releases of ICADV12.1. </p>
<p>
<a id="pgfId-1094786"></a>To ensure that the colorSpec bits are not set in a design, </p>

<ol><li>
<a id="pgfId-1094791"></a><a id="76012"></a>Run <a href="DataIO.html#23550">mptScan</a> at the command prompt to scan for colorSpec bits in the data.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1094792">
<a id="pgfId-1094792"></a>mptScan -lib <code><em>libName</em></code> -report colorSpec</pre></li><li>
<a id="pgfId-1094799"></a>If colorSpec bits are detected in step <a href="DataIO.html#76012">1<code></code></a>, run <a href="DataIO.html#23550">mptScan</a> to clear the colorSpec bits.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1094800">
<a id="pgfId-1094800"></a>mptScan -lib <code><em>libName</em></code> -clear colorSpec</pre></li><li>
<a id="pgfId-1094801"></a>Open the design in Virtuoso to verify that the coloring is correct.</li></ol>








<h3>
<a id="pgfId-1095064"></a><a id="54448"></a>To I<a id="mptTo122BaseOrISR1"></a>CADV12.2 Base Release or ICADV12.2 ISR1</h3>

<p>
<a id="pgfId-1095082"></a>Modifying designs in ICADV12.2 base release and ICADV12.2 ISR1 can result in the data being read-only in ICADV12.1 and pre-LA6 versions of ICADV12.2. </p>
<p>
<a id="pgfId-1095084"></a>If you do not color or lock geometry, modifying a via with the Property Editor in ICADV12.2 base release or ICADV12.2 ISR1 will result in setting the coloring infrastructure to a version that can be edited only by ICADV12.2 LA6 and later releases. If you are coloring or locking geometry currently using ICADV12.2 LA4 and earlier versions, using ICADV12.2 base release to edit vias or perform coloring operations such as lock propagation will result in using the LA6 version of the coloring infrastructure. Any design with the ICADV12.2 LA6 version of the coloring infrastructure can be read into ICADV12.1 and ICADV12.2 LA4 and earlier releases, but cannot be edited.</p>

<h4>
<a id="pgfId-1095878"></a>Con<a id="mptConvertColorBack"></a>verting Colored Data to Be Editable in Earlier Releases</h4>

<p>
<a id="pgfId-1095088"></a>To determine if a design is using the ICADV12.2 LA6 version of the coloring infrastructure, run the mptScan utility with the <code>-checkColorVer</code> argument:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1095090"></a>mptScan -lib &lt;libName&gt; -checkColorVer</pre>

<p>
<a id="pgfId-1095092"></a>It will report the MPToolkit coloring data version. For example,</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1095094"></a>INFO: Cellview &quot;mylib/mycell/layout&quot; contains MPToolkit coloring data version: 4, CDS coloring data version:3<br />INFO: MPToolkit coloring data version can be reduced from 4 to 1.</pre>

<p>
<a id="pgfId-1095510"></a>In this case, no partially locked vias were found and fewer than four mask colors were used, so the MPToolkit coloring data version can be reduced from 4 to 1. If four mask colors were used with no partially locked vias, the MPToolkit coloring data version could be reduced from 4 to 3.</p>
<p>
<a id="pgfId-1095633"></a>The MPToolkit coloring data versions are described in the following table:</p>
<table class="webflareTable" id="#id1095525">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1095527">
<a id="pgfId-1095527"></a>MPToolkit coloring data version</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1095529">
<a id="pgfId-1095529"></a>Description</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1095531">
<a id="pgfId-1095531"></a>Product Version</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1095533"></a>1</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1095535"></a>Supports up to 3 colors</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1095537"></a>ICADV12.1 (supported 2 colors), <br />ICADV12.2 before LA4</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1095539"></a>2</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1095541"></a>Supports 4+ colors </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1095543"></a>ICADV12.2 LA4, ICADV12.2 LA4 ISR1</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1095545"></a>3</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1095547"></a>Supports 4+ colors without colorSpec conflict</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1095549"></a>ICADV12.2 after LA4 ISR1</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1095551"></a>4</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1095553"></a>Supports 4+ colors and partial via locking</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1095555"></a>ICADV12.2 LA6</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1095614"></a>5</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1095616"></a>Supports 4+ colors, partial via locking, and fixed mask layer shifting on instances</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1095618"></a>ICADV12.2 ISR2</p>
</td>
</tr>
</tbody></table>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1095098"></a>Any MPToolkit coloring data version above 1 cannot be edited in ICADV12.1.</div>

<p>
<a id="pgfId-1095100"></a>To revert a design without colored and locked vias to the pre-ICADV12.2 LA6 version of the coloring infrastructure, run the mptScan utility with the <code>-reduceColorVer</code> argument:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1095102"></a>mptScan -lib &lt;libName&gt; -reduceColorVer</pre>

<p>
<a id="pgfId-1095104"></a>It will report the version reduction. For example, </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1095106"></a>INFO: MPToolkit coloring data version was reduced from 4 to 1.</pre>

<p>
<a id="pgfId-1095108"></a>The version reduction preserves the coloring information and enables the data to be edited in earlier product versions that support the new MPToolkit coloring data version. </p>
<p>
<a id="pgfId-1095640"></a>Partially locking a via through the Property Editor or lock propagation will cause the data to be converted to the ICADV12.2 LA6 infrastructure. The converted data cannot be reverted to the previous coloring data version unless the designs are changed to fully lock or fully unlock all vias. Hence, it is recommended that if you use color and color locking, ensure that any design groups that move to ICADV12.2 base release or later do not share data with design groups that use limited access releases of ICADV12.2 prior to LA6. If this is not possible, contact Cadence Customer Support for further assistance.</p>

<h3>
<a id="pgfId-1094803"></a><a id="23550"></a>m<a id="mptScan"></a>ptScan</h3>

<p>
<a id="pgfId-1094804"></a><code>mptScan</code> is a standalone utility for detecting and correcting coloring issues, and for clearing the coloring information in a design. It can be accessed from <span class="webflare-courier-new" style="white-space:pre"><em>installDirPath</em></span><code>/tools/bin</code>.</p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1094805"></a>
Cadence strongly recommends that the latest available <code>mptScan</code> be run on an entire library so that the data is consistent for all the cells in the library.</div>
<h4><em>
<a id="pgfId-1094806"></a>Syntax</em></h4>
<a id="pgfId-1094807"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
mptScan -lib <code><em>libName</em></code> [options]</pre>
<h4>
<a id="pgfId-1094808"></a>Required Arguments</h4>
<p>
<a id="pgfId-1094814"></a></p>
<table class="webflareTable" id="#id1094809">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1094811"></a><code>-lib</code> <span class="webflare-courier-new" style="white-space:pre"><em>libName</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1094813"></a>Processes cellviews in this library.</p>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-1094815"></a>Optional Arguments</h4>
<p>
<a id="pgfId-1094891"></a></p>
<table class="webflareTable" id="#id1094816">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1094818"></a><code>-libPath </code><span class="webflare-courier-new" style="white-space:pre"><em>path</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1094820"></a>Specifies the full path to the library.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1094822"></a><code>-cell </code><span class="webflare-courier-new" style="white-space:pre"><em>cellName</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1094824"></a>Processes only cellviews in the library with this cell name. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1094826"></a><code>-view</code> <span class="webflare-courier-new" style="white-space:pre"><em>viewName</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1094828"></a>Processes only cellviews in the library with this view name. The cell (<code>-cell</code>) must also be specified.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1094830"></a><code>-copyTo </code><span class="webflare-courier-new" style="white-space:pre"><em>path</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1094832"></a>Copies the library to the specified path before processing.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1094834"></a><code>-clear colorSpec</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1094836"></a>Clears the colorSpec bits in the design. Cannot be used with <code>-removeData</code>, <code>-repair</code>, or <code>-report</code> arguments.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1094838"></a><code>-report colorSpec</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1094840"></a>Scans the design for color data with set colorSpec bits. Cannot be used with <code>-clear</code>, <code>-removeData</code>, or <code>-repair</code> arguments.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1094842"></a><code>-removeData</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1094844"></a>Removes the advanced node coloring information from the design. Cannot be used with <code>-clear</code>, <code>-repair</code>, or <code>-report</code> arguments.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1094846"></a><code>-repair</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1094848"></a>Repairs data inconsistency issues found in the advanced node coloring data. Cannot be used with <code>-clear</code>, <code>-removeData</code>, or <code>-report</code> arguments.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1095228"></a>-checkColorVer</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1095230"></a>Reports the current coloring data version for each cellview and whether it can be reduced. Cannot be used with <code>-clear</code>, <code>-reduceColorVer</code>, <code>-removeData</code>, <code>-repair</code>, or <code>-report</code> arguments.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1095232"></a>-reduceColorVer</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1095234"></a>Reduces the current coloring data version to the lowest possible value that supports the coloring (MPT) features in the cellview. The version reduction preserves coloring information and enables the data to be edited in earlier product versions that support the new coloring data version. Cannot be used with <code>-clear</code>, <code>-checkColorVer</code>, <code>-removeData</code>, <code>-repair</code>, or <code>-report</code> arguments.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1094850"></a><code>-h</code>,<code> -help</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1094852"></a>Prints the usage message.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1094854"></a><code>-logFile</code> <span class="webflare-courier-new" style="white-space:pre"><em>logfilename</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1094856"></a>Specifies the output log file.</p>
<p>
<a id="pgfId-1094857"></a>Default: <code>mptScan.log</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1094863"></a><code>-noInfo </code><span class="webflare-courier-new" style="white-space:pre"><em>msgIds</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1094865"></a>Prevents the specified INFO message IDs from being output.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1094867"></a><code>-noWarning </code><span class="webflare-courier-new" style="white-space:pre"><em>msgIds</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1094869"></a>Prevents the specified WARNING message IDs from being output.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1094876"></a><code>-templateFile </code><span class="webflare-courier-new" style="white-space:pre"><em>file</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1094878"></a>Uses the specified file containing the arguments to be used when running this command.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1094880"></a><code>-v</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1094882"></a>Prints the tool, format, and library information.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1094884"></a><code>-verbose</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1094886"></a>Outputs additional information during processing.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1094888"></a><code>-version</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1094890"></a>Prints the tool and format version information.</p>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-1094955"></a>Examples</h4>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1094956"></a>mptScan -lib myLib</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1094957"></a>WARNING: (mptScan-2): Repair needed for shape cluster data that references a cluster on a different layer.<br />WARNING: (mptScan-2): Repair needed for via cluster data that references a cluster on a different layer.<br />INFO: Found advanced node coloring and 2 data issues in &#39;myLib/top/layout_bk&#39;.<br />INFO: Found advanced node coloring in 1 (out of 1) layouts.<br />Finished: mptScan</pre>
<p>
<a id="pgfId-1094958"></a>Scans the cellviews in the <code>myLib</code> library for advanced node coloring issues and outputs warnings for the issues that are found, along with a summary for each scanned cellview.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1094959"></a>mptScan -lib myLib -repair</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1094960"></a>INFO: (mptScan-2): Repaired shape cluster data that referenced a cluster on a different layer. Verify that coloring in this design is correct. If not correct, recolor the design.<br />INFO: (mptScan-2): Repaired via cluster data that referenced a cluster on a different layer. Verify that coloring in this design is correct. If not correct, recolor the design.<br />INFO: Repaired 2 found issues in &#39;myLib/top/layout_bk&#39;.<br />INFO: Repaired advanced node coloring data issues in 1 (out of 1) layouts.<br />Finished: mptScan</pre>
<p>
<a id="pgfId-1094961"></a>Repairs advanced node coloring issues in the <code>myLib</code> library.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1094962"></a>mptScan -lib HCL -removeData</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1094963"></a>INFO: Removed advanced node coloring from &#39;HCL/test/layout&#39;.<br />INFO: Removed advanced node coloring from 1 (out of 1) layouts.<br />Finished: mptScan</pre>
<p>
<a id="pgfId-1094964"></a>Removes the coloring information from the cellviews in the <code>HCL</code> library.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1094965"></a>mptScan -lib myLib -report colorSpec</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1094966"></a>Running: mptScan -logFile mptScan.log -lib myLib -report colorSpec<br />INFO: Found colorSpec data in &#39;myLib/top/layout_bk&#39;.<br />INFO: Found colorSpec data in 1 (out of 12) layouts.<br />Finished: mptScan</pre>
<p>
<a id="pgfId-1094967"></a>Scans the cellviews in the <code>myLib</code> library for the set colorSpec bits.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1094968"></a>mptScan -lib myLib -clear colorSpec</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1094969"></a>Running: mptScan -logFile mptScan.log -lib myLib -report colorSpec<br />INFO: Cleared colorSpec data in &#39;myLib/top/layout_bk&#39;.<br />INFO: Cleared colorSpec data in 1 (out of 12) layouts.<br />Finished: mptScan</pre>
<p>
<a id="pgfId-1094970"></a>Clears the colorSpec bits in the <code>mylib</code> library.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1095373"></a>mptScan -lib myLib -checkColorVer<br />Running: mptScan -logFile mptScan.log -lib myLib -checkColorVer <br />INFO: Cellview &quot;myLib/mycell/layout&quot; contains MPToolkit coloring data version: 4, CDS coloring data version:3<br />INFO: MPToolkit coloring data version can be reduced from 4 to 1.</pre>
<p>
<a id="pgfId-1095306"></a>Reports the coloring data versions for the cellviews in the <code>myLib</code> library and whether the MPToolkit coloring data version can be reduced. </p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1095311"></a>mptScan -lib myLib -reduceColorVer<br />Running: mptScan -logFile mptScan.log -lib myLib -reduceColorVer <br />INFO: Cellview &quot;myLib/mycell/layout&quot; contains MPToolkit coloring data version: 4, CDS coloring data version:3<br />INFO: MPToolkit coloring data version was reduced from 4 to 1.</pre>
<p>
<a id="pgfId-1095481"></a>Reduces the coloring data versions for the cellviews in the <code>myLib</code> library, if possible. The version reduction preserves the coloring information so that it can be edited using an earlier product version that supports the new coloring data version.</p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="CheckingAndFixing.html" id="prev" title="Checking and Fixing Multiple Patterning Violations in Layout">Checking and Fixing Multiple P ...</a></em></b><b><em><a href="fcb.html" id="nex" title="Fully Colored Backannotation Flow">Fully Colored Backannotation F ...</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2020, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>