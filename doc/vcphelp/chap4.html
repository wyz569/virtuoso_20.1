
<html><head><title>Running the Placer</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="spriya" />
<meta name="CreateDate" content="2020-09-14" />
<meta name="CreateTime" content="1600104079" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the functionality of the Virtuoso Layout Suite GXL custom digital placer in the current release." />
<meta name="DocTitle" content="Virtuoso Custom Digital Placer User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Running the Placer" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.2.1" />
<meta name="Keyword" content="vcphelp" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2020-09-14" />
<meta name="ModifiedTime" content="1600104079" />
<meta name="NextFile" content="chap5.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="chap3.html" />
<meta name="c_product" content="Virtuoso Layout Suite" />
<meta name="Product" content="Virtuoso Layout Suite" />
<meta name="ProductFamily" content="Virtuoso Layout Suite" />
<meta name="ProductVersion" content="ICADVM20.1" />
<meta name="RightsManagement" content="Copyright 2012-2020 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Custom Digital Placer User Guide -- Running the Placer" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="ICADVM20.1" />
<meta name="SpaceKey" content="vcphelpICADVM201" />
<meta name="webflare-version" content="2.0" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="vcphelpTOC.html">Contents</a></li><li><a class="prev" href="chap3.html" title="Placement Planning">Placement Planning</a></li><li style="float: right;"><a class="viewPrint" href="vcphelp.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="chap5.html" title="Finishing Tasks">Finishing Tasks</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Custom Digital Placer User Guide<br />Product Version ICADVM20.1, October 2020</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>4
<a id="pgfId-1032955"></a></h1>
<h1>
<a id="pgfId-1036613"></a><hr />
<a id="44786"></a>Running the Placer<hr />
</h1>

<p>
<a id="pgfId-1036655"></a>This chapter describes the Virtuoso&#174; Custom Digital Placer&#8217;s placement capability.</p>
<p>
<a id="pgfId-1036656"></a>This chapter covers the following topics:</p>
<ul><li>
<a id="pgfId-1036673"></a><a href="chap4.html#27655">Prerequisites to Placement</a></li><li>
<a id="pgfId-1036690"></a><a href="chap4.html#94066">Running the Placer</a></li><li>
<a id="pgfId-1036752"></a><a href="chap4.html#70772">Context-Aware Placement</a></li><li>
<a id="pgfId-1041392"></a><a href="chap4.html#33203">Placement of Multi-Voltage Cells (ICADVM20.1 Only)</a></li><li>
<a id="pgfId-1042913"></a><a href="chap4.html#58871">Support for Virtual Hierarchies in the Design Planner Environment (ICADVM20.1 Only)</a></li><li>
<a id="pgfId-1041226"></a><a href="chap4.html#33662">Running the Placer Using SKILL</a></li></ul>





<p>
<a id="pgfId-1036643"></a><a id="AutoPlacer"></a>You launch the Virtuoso&#174; Custom Digital Placer from the <a href="appB.html#21361">Auto Placer</a> form. The placer can run in foreground, background, or Load Balancing Service (LBS) mode, reporting its status in the <a href="appB.html#97729">Placement Status</a> window.</p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1035476"></a>
While the placer is running on a cellview, the cellview is temporarily switched to Read mode and you cannot perform any other edits on it. When the placer has finished, the cellview is switched back to Edit mode.</div>

<p>
<a id="pgfId-1035477"></a>After the placer finishes, the placed cellview appears if you are updating the source view with the placed view, or if you are creating a new view and chose the <em>Open Window</em> option in the Auto Placer form.</p>
<p>
<a id="pgfId-1035478"></a>After placement, you can iteratively</p>
<ul><li>
<a id="pgfId-1035479"></a>Lock the position of components whose placement is good.</li><li>
<a id="pgfId-1035480"></a>Refine the constraints on other components to better guide the placer.</li><li>
<a id="pgfId-1035481"></a>Rerun the placer as needed to improve the placement results.</li></ul>



<h2>
<a id="pgfId-1035483"></a><a id="27655"></a>Prerequisites to Placement</h2>

<p>
<a id="pgfId-1039924"></a>To prepare for placement:</p>
<ol><li>
<a id="pgfId-1039925"></a>Set the required environment variables before launching the Cadence software. For more information, see <a href="chap1.html#74131">Setting Up Layout XL for Placement</a>.</li><li>
<a id="pgfId-1035490"></a>If you want to place only some of the components, select the components you want to place in the layout window, and check the <em>Place Selected Only</em> option.</li></ol>


<h2>
<a id="pgfId-1035491"></a><a id="94066"></a>Running the Placer</h2>

<p>
<a id="pgfId-1035492"></a>To perform placement of the selected components:</p>
<ol><li>
<a id="pgfId-1040371"></a>Choose <em>Place &#8211; Custom Digital &#8211; Placer</em>. The <a href="appB.html#21361">Auto Placer</a> form is displayed.<br />
<a id="pgfId-1040381"></a><div class="webflare-div-image">
<img src="images/VCP_Autoplacer.gif" /></div></li><li>
<a id="pgfId-1040431"></a>Select the placement options that you want to specify.</li><li>
<a id="pgfId-1041019"></a>Select a suitable option from the <em>Effort </em>drop-down list. The run time of the placer and quality of results differ based on the effort chosen. The selected <em>Effort</em> level determines the number of passes of the placer. An increased number passes results in better (optimized) placement results. For example, the <em>High</em> effort setting generates better placement results than <em>Low</em>. However the run time of the placer differs based on the effort. For example, the placer takes more time to run when <em>Effort</em> set to <em>High</em> than when set to <em>Low</em>.</li><li>
<a id="pgfId-1035509"></a><a id="24090"></a>To save the placed cellview with a different view name,<ol><li>
<a id="pgfId-1035510"></a>Check the <em>Save As</em> option. Type in the <em>Library</em>, <em>Cell</em>, and <em>View</em> names for the new cellview. By default the view name is <em>layout.plc</em>. You can change the library or cell name, or browse to choose the cellview name.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1035513"></a>Do not use the view name <code>placerScratch</code>. This name is reserved by the placer.</div></li><li>
<a id="pgfId-1040831"></a>Check the <em>Open cellview in the new window</em> option to open the placed cellview in a new session window.</li></ol></li><li>
<a id="pgfId-1036055"></a>Click <em>OK</em> or <em>Apply</em>.<br />
<a id="pgfId-1036057"></a>The placer initializes and the <a href="appB.html#97729">Placement Status</a> window appears.<br />
<a id="pgfId-1035525"></a><div class="webflare-div-image">
<img src="images/PlacementStats.gif" /></div>
<a id="pgfId-1035526"></a>You can specify <a id="PlacerStatusWindow"></a>the level of detail that appears in the status window by setting the <a href="appA.html#95994">vcpVerboseLevel<code></code></a> environmental variable. The text columns in the form do not align if a variable font is used. Use a fixed text font instead.<br />
<a id="pgfId-1035527"></a>The placer moves pins that were not assigned to placement information inside the design boundary and aligns to any boundary edge.</li></ol>


















<p>
<a id="pgfId-1043104"></a>(ICADVM20.1 Only) The placer honors the <a href="../vmptuser/evars.html#explicitColoredPurposes">explicitColoredPurposes</a> environment variable. When set, only the shapes on the specified purposes are considered by the placer for snapping instances.</p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1035528"></a>
You can use the <em>Edit &#8211; Undo</em> command to discard the placement results.</div>
<div class="webflare-information-macro webflare-macro-tip">
<a id="pgfId-1041140"></a>
At any point, press the <code>Ctrl</code> key and then press <code>C</code> to stop the placer. </div>
<h2>
<a id="pgfId-1036804"></a><a id="70772"></a>Context-Aware Placement</h2>

<p>
<a id="pgfId-1040705"></a>At advanced nodes, the key placement goal is to achieve maximum compaction. But, achieving maximum compaction at such small geometries poses its own set of challenges, such as litho and stress effects. To overcome such issues and to achieve context-aware placement at small nodes, the Virtuoso Custom Digital Placer honors the <a href="chap3.html#84818"><code>LEF58_EDGETYPE</code> and </a><a href="chap3.html#94793"><code>LEF58_CELLEDGESPACINGTABLE</code></a> LEF5.8 constraints. For more information, see <a href="chap3.html#44249">Planning Placement of Standard Cells</a>.</p>
<p>
<a id="pgfId-1040718"></a>To enable context-aware placement, the <a href="appB.html#21361">Auto Placer</a> form provides a Context<strong>
 Aware Placemen</strong>
t option. The option can also be controlled by using the <a href="appA.html#76750">contextAwarePlacement</a> environment variable. However, for the option to be available in the form, the advanced node, VISNG200 license, should be available.</p>
<p>
<a id="pgfId-1040697"></a>For the standard-cell placement to be context-aware, the cell edge and spacing constraints should be defined in the technology LEF and the macro LEF and the Context Aware Placement option on the <a href="appB.html#21361">Auto Placer</a> form should be selected. Alternatively, if the constraint information is not defined in the LEF files, an XML file, which contains the required constraint information, should be provided.</p>
<p>
<a id="pgfId-1039395"></a>A sample of the XML file carrying the context information is given below.</p>
<p>
<a id="pgfId-1039376"></a></p>

<div class="webflare-div-image">
<img src="images/sampleContextXML.gif" /></div>

<p>
<a id="pgfId-1039387"></a>For information about providing the XML file using the Auto Placer form, see <a href="appB.html#21361">Auto Placer</a>. </p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1039295"></a>The XML file can also be provided by using the <a href="appA.html#11161">contextConstraintFile</a> environment variable.</div>

<p>
<a id="pgfId-1037867"></a>However, if the XML file specified through the form or by using the environment variable is invalid, or the file is not provided, the placer reads the technology and the macro LEF for relevant placement information and places the standard cells according to the specified spacing constraints. If the spacing information is also unavailable in the LEF files, the placer issues an error message indicating context-aware placement cannot be performed. For more information, see the <a href="appB.html#21361">Auto Placer</a> form.</p>
<p>
<a id="pgfId-1036923"></a>To achieve optimum compaction, the placer might run several iterations before generating the placement results. Although the placer honors the spacing constraints that are defined, if any spacing constraints are violated, the markers indicating the violations are displayed in the <h-hot><a actuate="user" class="URL" href="../vxlhelp/appF.html#miscTab" show="replace" xml:link="simple">Misc</a></h-hot> tab of the Annotation Browser.</p>

<h4>
<a id="pgfId-1036950"></a>Resolving Spacing Violations During Placement</h4>

<p>
<a id="pgfId-1036981"></a>To achieve context-aware placement, the placer uses the edge type and acceptable spacing information available in the Edge Spacing Table.</p>
<p>
<a id="pgfId-1037023"></a>Let us consider an example to see how the placer can use the cell edge spacing information, as given in the table below, to resolve any spacing violations and to generate optimal placement results.</p>

<p>
<a id="pgfId-1037030"></a></p>
<table class="webflareTable" id="#id1037038">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1037040">
<a id="pgfId-1037040"></a>Edge Type 1</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1037042">
<a id="pgfId-1037042"></a>Edge Type 2</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1037044">
<a id="pgfId-1037044"></a>Spacing (in micron)</span>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037046"></a>1</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037048"></a>1</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037050"></a>1.0</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037052"></a>1</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037054"></a>2</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037056"></a>0.5</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037058"></a>1</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037060"></a>3</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037062"></a>2.7</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037064"></a>2</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037066"></a>3</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037068"></a>1.3</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1037955"></a>Let us consider cells A and B, as given in the figure below, are placed such that edge type <code>2</code> of cell A is placed adjacent to edge type <code>1</code> of cell B. Since the edge types <code>1</code> and <code>2</code> have a spacing constraint of <code>0.5</code> micron, as defined in the cell edge spacing table above, a spacing violation is generated if the cells are placed adjacent to each other. To fix the violation, the placer might flip, move, or flip and move cell B such that edge type <code>2</code> of both the cells is placed without generating any spacing violations.</p>

<p>
<a id="pgfId-1041421"></a></p>
<div class="webflare-div-image">
<img src="images/flipEdge.GIF" /></div>
<h2>
<a id="pgfId-1041424"></a><a id="33203"></a><a id="68485"></a>Placement of Multi-Voltage Cells (ICADVM20.1 Only)</h2>

<p>
<a id="pgfId-1041425"></a>Standard cells can be characterized into different voltage (VT) cells based on the VT layer shape that they include. At advanced nodes, Virtuoso Custom Digital Placer supports placement of multi-voltage cells. </p>

<b>Note:</b><br />
<a id="pgfId-1041274"></a>

<ul><li style="list-style-type: none;background-image: none;"><ul><li>
<a id="pgfId-1041371"></a>To specify VT layers, use the <a href="appA.html#30577">multiVTLayers</a> environment variable. The default value is <code>(VTS_N VTL_N VTUL_N)</code>.</li><li>
<a id="pgfId-1041275"></a>To enable placement of multi-voltage cells, set the <a href="appA.html#44170">multiVTPlacement</a> environment variable to <code>t</code>.</li></ul></li></ul>

<p>
<a id="pgfId-1041277"></a>During placement of multi-voltage cells, Virtuoso Custom Digital Placer honors the following multi-voltage placement rules:</p>
<ul><li>
<a id="pgfId-1041278"></a>The same VT-type standard cells must maintain a minimum width that equals four times the poly pitch value. This value can be specified using the <a href="appA.html#88220">minVTLength</a> environment variable. The default value is 0.<code>228</code>.</li><li>
<a id="pgfId-1041279"></a>For standard cells with different VT types that are placed next to each other, an appropriate gap should be maintained to ensure that the minimum width rule is followed.</li></ul>


<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1036829"></a>Standard cells with no voltage layers specifications are grouped internally and placed normally.</div>
<h2>
<a id="pgfId-1042894"></a><a id="58871"></a>Support for Virtual Hi<a id="virtualHier"></a>erarchies in the Design Planner Environment (ICADVM20.1 Only) </h2>

<p>
<a id="pgfId-1042895"></a>Virtuoso<sup>&#174;</sup> Design Planner is a connectivity-based tool in Layout EXL that supports automatic placement and congestion analysis capabilities. In the Design Planner environment, Placement Planning lets you create rows in the PR boundary, cluster boundary, and virtual hierarchy boundary (area boundary). </p>
<p>
<a id="pgfId-1042898"></a>For more information about virtual hierarchies, see <em><a actuate="user" class="URL" href="../vdpuser/vdpuserTOC.html#firstpage" show="replace" xml:link="simple">Virtuoso Design Planner User Guide</a></em>.</p>

<h2>
<a id="pgfId-1036229"></a><a id="33662"></a>Running the Placer Using SKILL</h2>

<p>
<a id="pgfId-1036230"></a>You can also use the <h-hot><a actuate="user" class="URL" href="../sklayoutref/vcp.html#vcpfeRunCustomDigitalPlacer" show="replace" xml:link="simple">vcpfeRunCustomDigitalPlacer</a></h-hot> public SKILL function to run the custom digital placer without opening the graphical user interface.</p>
<p>
<a id="pgfId-1036263"></a>For information on all the placer SKILL Functions, see<h-hot><a actuate="user" class="URL" href="../sklayoutref/vcp.html#firstpage" show="replace" xml:link="simple"> Custom Digital Placer SKILL Functions</a></h-hot> in the <em>Virtuoso Layout Suite SKILL Reference</em>.</p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="chap3.html" id="prev" title="Placement Planning">Placement Planning</a></em></b><b><em><a href="chap5.html" id="nex" title="Finishing Tasks">Finishing Tasks</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2020, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>