
<html><head><title>Introduction </title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="spriya" />
<meta name="CreateDate" content="2020-09-14" />
<meta name="CreateTime" content="1600104074" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the functionality of the Virtuoso Layout Suite GXL custom digital placer in the current release." />
<meta name="DocTitle" content="Virtuoso Custom Digital Placer User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Introduction" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.2.1" />
<meta name="Keyword" content="vcphelp" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2020-09-14" />
<meta name="ModifiedTime" content="1600104074" />
<meta name="NextFile" content="chap2.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="preface.html" />
<meta name="c_product" content="Virtuoso Layout Suite" />
<meta name="Product" content="Virtuoso Layout Suite" />
<meta name="ProductFamily" content="Virtuoso Layout Suite" />
<meta name="ProductVersion" content="ICADVM20.1" />
<meta name="RightsManagement" content="Copyright 2012-2020 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Custom Digital Placer User Guide -- Introduction" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="ICADVM20.1" />
<meta name="SpaceKey" content="vcphelpICADVM201" />
<meta name="webflare-version" content="2.0" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="vcphelpTOC.html">Contents</a></li><li><a class="prev" href="preface.html" title="Preface">Preface</a></li><li style="float: right;"><a class="viewPrint" href="vcphelp.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="chap2.html" title="Pin Planning">Pin Planning</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Custom Digital Placer User Guide<br />Product Version ICADVM20.1, October 2020</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>1
<a id="pgfId-1048783"></a></h1>
<h1>
<a id="pgfId-1048785"></a><hr />
<a id="44786"></a>Introduction <hr />
</h1>

<p>
<a id="pgfId-1079583"></a>The Virtuoso&#174; Custom Digital Placer automatically places transistors, devices, and cells in block and cell designs.</p>
<p>
<a id="pgfId-1079890"></a>The Custom Digital Placer is a generic placer that can be used for placement in different types of designs such as designs that contain only standard cells, designs that contain only devices, or designs that contain both standard cells and devices. You can also use the placer for generating connectivity and constraint-driven placement.</p>
<p>
<a id="pgfId-1045044"></a>However, before you can use the placer to automatically place devices, you must generate the layout connectivity and circuit components by using the Virtuoso Layout Suite XL layout editor. The placer uses the schematic design as the connectivity source for placing the components.</p>
<p>
<a id="pgfId-1042658"></a>This chapter covers the following topics:</p>
<ul><li>
<a id="pgfId-1083049"></a><a href="chap1.html#29879">Key Features</a></li><li>
<a id="pgfId-1083093"></a><a href="chap1.html#22114">The Placement Commands</a></li><li>
<a id="pgfId-1083094"></a><a href="chap1.html#48873">Placement Types</a></li><li>
<a id="pgfId-1083108"></a><a href="chap1.html#42382">Placement Of Different Component Types</a></li><li>
<a id="pgfId-1083119"></a><a href="chap1.html#54727">The Placement Flow</a></li><li>
<a id="pgfId-1083130"></a><a href="chap1.html#74131">Setting Up Layout XL for Placement</a></li><li>
<a id="pgfId-1083140"></a><a href="chap1.html#15579">Setting Placement Constraints</a></li><li>
<a id="pgfId-1083150"></a><a href="chap1.html#61977">Defining Component Types and Placement Parameters</a></li><li>
<a id="pgfId-1083160"></a><a href="chap1.html#12223">Troubleshooting Placement</a></li></ul>









<h3>
<a id="pgfId-1083096"></a><a id="29879"></a>Key Features</h3>

<ul><li>
<a id="pgfId-1042660"></a>Connectivity and constraint-driven placement to achieve overall shortest wire length.</li><li>
<a id="pgfId-1042661"></a>Placement of designs that contain:<ul><li>
<a id="pgfId-1042662"></a>Only standard cells</li><li>
<a id="pgfId-1073579"></a>Only devices</li><li>
<a id="pgfId-1073614"></a>Both, standard cells and devices</li></ul></li><li>
<a id="pgfId-1079648"></a>Support for the following placement types:<ul><li>
<a id="pgfId-1079649"></a>Row-based placement</li><li>
<a id="pgfId-1073616"></a>Area-based placement</li></ul></li><li>
<a id="pgfId-1079793"></a>Support for incremental and selective placement.</li><li>
<a id="pgfId-1079794"></a>Support for the following placement constraints<ul><li>
<a id="pgfId-1079795"></a>Alignment (floating axis only)</li><li>
<a id="pgfId-1068854"></a>Cluster</li><li>
<a id="pgfId-1068855"></a>Distance</li><li>
<a id="pgfId-1079798"></a>Fixed</li><li>
<a id="pgfId-1079799"></a>Symmetry (fixed and floating axis)</li></ul></li><li>
<a id="pgfId-1079800"></a>Support for the following routing constraint<ul><li>
<a id="pgfId-1079780"></a>Net priority</li></ul></li><li>
<a id="pgfId-1079774"></a>Automatic row generation for both standard cell and device-level MOS and FinFET designs<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1083662"></a>Automatic row generation for FinFET designs is supported in ICADVM20.1 Only.</div></li><li>
<a id="pgfId-1068941"></a>Automated pin placement user interface that lets you:<ul><li>
<a id="pgfId-1042676"></a>Assign pins to a particular edge of the placement boundary</li><li>
<a id="pgfId-1042677"></a>Specify the ordered and unordered pins</li><li>
<a id="pgfId-1042678"></a>Specify the fixed pin positions</li><li>
<a id="pgfId-1045740"></a>Place groups of pins at any given spacing</li><li>
<a id="pgfId-1052386"></a>Place multiple pins on the same net</li></ul></li></ul>
























<p>
<a id="pgfId-1056849"></a>The following sections contain more information about using the Custom Digital placer.<a id="marker-1056848"></a></p>
<ul><li>
<a id="pgfId-1056853"></a><a href="chap1.html#74131">Setting Up Layout XL for Placement</a></li><li>
<a id="pgfId-1056857"></a><a href="chap1.html#15579">Setting Placement Constraints</a></li><li>
<a id="pgfId-1056861"></a><a href="chap1.html#61977">Defining Component Types and Placement Parameters</a></li><li>
<a id="pgfId-1056865"></a><a href="chap1.html#12223">Troubleshooting Placement</a></li></ul>



<p>
<a id="pgfId-1068983"></a>For information about the <a id="marker-1068979"></a>placer forms, see <a href="appB.html#44786">Custom Digital Placer Forms</a>.</p>

<h3>
<a id="pgfId-1068984"></a><a id="22114"></a>The Placement Commands</h3>

<p>
<a id="pgfId-1068985"></a>In Layout XL, the placement commands supported by the Virtuoso Custom Digital Placer are available under the <em>Place </em><a id="marker-1068986"></a>menu. These commands are:</p>
<ul><li>
<a id="pgfId-1071695"></a><em>Custom Digital &#8211; </em><em>Placement Planning: </em>Use this command to open the <a href="appB.html#30147">Placement Planning</a> form for creating, modifying, and deleting rows for placing the design components.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1080102"></a>Alternatively, you can open the Placement Planning form by using the Placement Planning icon, <img src="images/iconPlacementPlanning.gif" /><span>, on the Custom Digital Placer toolbar.</span></div></li><li>
<a id="pgfId-1082184"></a><em>Custom Digital &#8211; Placer: </em>Use this command to run the automatic placer for performing placement.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1071702"></a>Alternatively, you can open the automatic placer by using the Digital Placer icon, <img src="images/customPlacer.gif" /><span>, on the Custom Digital Placer toolbar.</span></div></li></ul>





<p>
<a id="pgfId-1069137"></a>In addition to the placement commands listed above, the <em>Place</em> menu supports the following commands that can be used for placement:</p>
<ul><li>
<a id="pgfId-1080119"></a><em>Pin Placement: </em>Use this command to specify the pin location constraints and to preplace pins, independent of the main placement run.</li><li>
<a id="pgfId-1080147"></a>Update Placement Status: Use this command to update the placement status of instances or pins that are loaded in Layout XL for the first time, or which have been edited outside the Layout environment.</li><li>
<a id="pgfId-1080148"></a>Analog: Use this command to run a specific analog placement option. For more information on the analog auto placement options, see the <a actuate="user" class="URL" href="../anaPlaceGXL/anaPlaceGXLTOC.html#firstpage" show="replace" xml:link="simple">Virtuoso Analog Placer User Guide</a> (IC6.1.8 Only). </li></ul>



<h4>
<a id="pgfId-1080149"></a><a id="87091"></a>Other Commands Used with the Placer</h4>

<ul><li>
<a id="pgfId-1083699"></a><em>Edit &#8211; Component Types</em> opens the Configure Physical Hierarchy window in the Component Types mode. Use this window to update your library with information that guides the placement of components in rows, and to define parameters for MOS device chaining and folding.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1083700"></a>(ICADVM20.1 Only) The Configure Physical Hierarchy window can also be used to define parameters for FinFET chaining and folding.</div>
<a id="pgfId-1069477"></a>For more information, see <a actuate="user" class="URL" href="../vxlhelp/chap4.html#designcomponenttypes" show="replace" xml:link="simple">Component Types</a> in the <em>Virtuoso Layout Suite XL User Guide</em>.</li><li>
<a id="pgfId-1069478"></a><em>Create &#8211; P&amp;R Objects &#8211; Row opens the Create Row form. Use this form to create rows for placement.</em><br />
<a id="pgfId-1069885"></a>For more information about the method for creating rows manually, see <a actuate="user" class="URL" href="../vlehelp/chap6.html#creatingrows" show="replace" xml:link="simple">Creating Rows</a> in the Virtuoso Layout Suite documentation.</li><li>
<a id="pgfId-1069946"></a><em>Create &#8211; P&amp;R Objects &#8211; Custom Placement Area</em> opens the <em>Create Custom Placement Area</em> form. Use this form to create a custom area for placement.<em> </em><br />
<a id="pgfId-1070031"></a>For more information about the method for creating a custom placement area, see <a actuate="user" class="URL" href="../vlehelp/chap6.html#customplacementarea" show="replace" xml:link="simple">Creating a Custom Placement Area</a> in the Virtuoso Layout Suite documentation.</li><li>
<a id="pgfId-1070041"></a><em>Create &#8211; P&amp;R Objects &#8211; Clusters </em>opens the <em>Create and Edit Clusters</em> form. Use this form to specify the components that must be grouped together during placement.</li><li>
<a id="pgfId-1070042"></a><em>Create &#8211; P&amp;R Objects &#8211; Cluster Boundary </em>opens the <em>Create Cluster Boundary</em> form. Use this form to define a boundary to enclose one or more clusters. You can then specify the cluster boundary you want to place during placement planning.<br />
<a id="pgfId-1070157"></a>For more information on creating clusters and cluster boundaries, see <a actuate="user" class="URL" href="../vlehelp/chap6.html#creatingClusters" show="replace" xml:link="simple">Creating Clusters</a> in the Virtuoso Layout Suite documentation.<br /><div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1071231"></a>
To modify the existing component type assignments and to update the default component alignment and orientation before the components are placed, use the <a href="appB.html#51450">Dressing Template Editor</a> form. You can open this form by clicking the <strong>
Dressing Template Editor</strong>
 button on the <em>Create Row, Create Custom Placement Area, or the </em><a href="appB.html#30147">Placement Planning</a> form.</div></li></ul>











<h3>
<a id="pgfId-1049839"></a><a id="48873"></a>Placement Types</h3>

<p>
<a id="pgfId-1072527"></a>The Custom Digital Placer supports the following placement types:</p>
<ul><li>
<a id="pgfId-1072534"></a><a href="chap1.html#15951">Row-based placement</a></li><li>
<a id="pgfId-1072544"></a><a href="chap1.html#72628">Area-based placement</a></li></ul>


<h4>
<a id="pgfId-1072784"></a><a id="15951"></a>Row-based placement</h4>

<p>
<a id="pgfId-1072785"></a>Row-based placement is a structured placement type that lets you place specific component types within rows. This placement type is most suited for placing standard cells and devices that have at least one &#8220;standard&#8221; dimension. For this reason, row-based placement is considered most suitable for designs that contain only standard cells.</p>
<p>
<a id="pgfId-1080254"></a>In addition to providing a structured placement, row-based placement lets you constrain the components within a row to specific orientations and alignments. Given the uniform and structured placement it helps to obtain, row-based placement is considered a more economical and optimal placement type.</p>
<p>
<a id="pgfId-1080255"></a>You can choose from the following modes for defining rows:</p>
<ul><li>
<a id="pgfId-1080324"></a>User-defined (manual) mode: Use this mode to manually define the geometry of a series of rows and the components within. Using this placement mode, you can specify not only the number of rows to be placed but also define their location on the canvas and the alignment and orientation of the components to be placed within these rows.</li><li>
<a id="pgfId-1080358"></a>Component-assisted mode: Use this mode to automatically determine the row geometries based on the specified area utilization goals and other design goals. Using this placement mode, you can manipulate various design factors to explore different placement outcomes.</li></ul>


<h4>
<a id="pgfId-1086505"></a><a id="72628"></a>Area-based placement</h4>

<p>
<a id="pgfId-1072561"></a>Area-based placement is less restrictive of the two placement types supported by the Custom Digital Placer. </p>
<p>
<a id="pgfId-1080588"></a>This placement type places the components anywhere within the available placement boundary, unless the components are locked outside the boundary. Area-based placement does not require component types or constraints to be defined. However, if any individual constraints are placed on the components, they are honored.</p>
<p>
<a id="pgfId-1073397"></a>If individual constraints on components or groups of components do not exist, the placer only targets to reduce the overall wire length and achieve a balanced placement. Therefore, in the absence of constraints, the components tend to spread out using all the area allowed for placement.</p>

<h3>
<a id="pgfId-1072520"></a><a id="42382"></a>Placement Of Different Component Types</h3>

<p>
<a id="pgfId-1058399"></a>You can use the Custom Digital Placer to place designs that have only standard cells, only devices, or a combination of both, standard cells and devices.</p>
<p>
<a id="pgfId-1085345"></a>Standard (or custom) cells are placed in horizontal or vertical rows. Depending on their number, the placer can place all the cells within a single row or across multiple rows.</p>

<p>
<a id="pgfId-1085376"></a></p>
<div class="webflare-div-image">
<img width="668" height="239" src="images/chap1-5.gif" /></div>
<p>
<a id="pgfId-1085380"></a>For more information about placing components within rows, see <a href="chap1.html#15951">Row-based placement</a>.</p>

<p>
<a id="pgfId-1085222"></a>Devices follow a row-based MOS, transistor-level placement.</p>
<p>
<a id="pgfId-1085223"></a>Since MOS devices support diffusion-sharing to enable chaining, you can automatically or interactively chain devices at the time of layout generation to optimize placement. Such placement maximizes the diffusion sharing to minimize the diffusion gaps in the generated layout.</p>
<p>
<a id="pgfId-1085224"></a>For designs with a mix of component types, such as <em>PMOS</em>, <em>NMOS</em>, <em>STDCELL</em>, <em>STDSUBCONT</em>, and <em>FILLER</em>, depending on the cell type, both row-based and MOS transistor-level placement is followed.</p>

<h4>
<a id="pgfId-1083546"></a>Placing NFIN and PFIN Components (ICADVM20.1 Only) </h4>

<p>
<a id="pgfId-1084877"></a>The Custom Digital Placer can be used for placing <em>NFIN</em> and <em>PFIN</em> component types.</p>

<h4>
<a id="pgfId-1084303"></a>Placi<a id="capCells"></a>ng Cap Cells (IC6.1.8 Only)</h4>

<p>
<a id="pgfId-1083547"></a>You can also place special, cap cells at the start and end of each row to:</p>
<ul><li>
<a id="pgfId-1055329"></a>prevent DRC errors</li><li>
<a id="pgfId-1055348"></a>ensure that the cells placed in each row are surrounded with consistent features</li></ul>

<p>
<a id="pgfId-1074213"></a>Cap cells, as displayed in the figure below, are physical-only cells that are placed at the ends of a row as &#8220;locked&#8221; cells. Because these cells are placed at the &#8220;end&#8221; of a row, cap cells are also called &#8220;endcaps&#8221; or &#8220;endcap cells&#8221;.</p>

<p>
<a id="pgfId-1074170"></a></p>
<div class="webflare-div-image">
<img width="550" height="186" src="images/chap1-6.gif" /></div>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1084216"></a>To move or delete an end cap cell, you must first change its placement status to a status other than &#8220;locked&#8221; and then use an appropriate Layout Editor command.</div>
<p>
<a id="pgfId-1084217"></a>To place cap cells to the left and right of each row when running the placer:</p>
<ul><li>
<a id="pgfId-1084218"></a>Select the <em>Insert End Caps </em>check box on the <em>Component</em> tab of the Placement Planning form and specify the valid cellviews to be used as the left and right end cap cells.<br />
<a id="pgfId-1056032"></a>For more information, see the <a href="appB.html#30147">Placement Planning</a> form.</li></ul>

<p>
<a id="pgfId-1059239"></a>You can specify the same cellview or different ones to be inserted as left and right end cap cells. However, for a cellview to be considered as a valid start or end cap cell:</p>
<ul><li>
<a id="pgfId-1059240"></a>The library, cell, view that you select must exist.</li><li>
<a id="pgfId-1059241"></a>The cellview must have a prBoundary defined such that the height of the boundary is the same as that of the row.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1059226"></a>The Custom Digital Placer issues appropriate warnings if the cellview you specify to be used as an end cap cell does not exist, or if you select an invalid cellview. Although the placer still creates rows as usual, no extra space is budgeted for placing the cap cells, and no cap cells are placed.</div></li></ul>


<p>
<a id="pgfId-1072107"></a>The cap cells are placed in a row within the allowed orientations. For example, for &#8220;horizontal&#8221; rows, if the allowed orientation is &quot;R0MY&quot;, the start cap cells is placed with &#8220;R0&#8221; orientation and the end cap cells is placed with &#8220;MY&#8221; orientation.</p>
<p>
<a id="pgfId-1074417"></a>For more information about the allowed placement orientations within a row, see the <a href="appB.html#51450">Dressing Template Editor</a>.</p>

<h3>
<a id="pgfId-1084957"></a>Global Snap Pattern Grid Support (ICADVM20.1 Only) </h3>

<p>
<a id="pgfId-1084958"></a>VCP has been enhanced to support snap patter pattern (SP) / width spacing snap pattern (WSP) grid definitions:</p>
<ul><li>
<a id="pgfId-1084959"></a>The Snap Pattern (SP) grid defined using the <code>snapPatternDef</code> rule in the technology file.<br />
<a id="pgfId-1084961"></a>For detailed information about <code>snapPatternDef</code>, see <a actuate="user" class="URL" href="../finfetOverview/overview.html#SnapPatternDefReq" show="replace" xml:link="simple">Snap Pattern Definition Requirements</a> in the &#8220;Technology File Requirements for FinFET-based Design&#8221; chapter of the <em>Virtuoso FinFET Support Overview</em> manual. </li><li>
<a id="pgfId-1084962"></a>The Width Spacing Snap Pattern (WSP) grid defined using the <code>widthSpacingSnapPatternDef</code> rule in the technology file.<br />
<a id="pgfId-1084963"></a>For definition of the <code>widthSpacingSnapPatternDef</code> rule and related technology file information, see <a actuate="user" class="URL" href="../vwspuser/PatternAssistant.html#UsingWidthSpacingPatterns" show="replace" xml:link="simple">Overview</a> in the &#8220;Using Width Spacing Patterns&#8221; chapter of the <em>Virtuoso&#174; Width Spacing Patterns User Guide</em>.</li></ul>



<p>
<a id="pgfId-1084965"></a>To support snapping of devices and standard cells to the required snap pattern grid, VCP has undergone the following key enhancements:</p>
<ul><li>
<a id="pgfId-1084966"></a>Row creation follows pattern-aware snapping.<br />
<a id="pgfId-1084967"></a>Row creation is based on reference grids and their respective offsets selected by the user at the time of Placement Planning. <em>Ref X Grid </em>and <em>Ref Y Grid </em>in the Placement Planning form specify the reference grids for snapping devices and rows. <em>Ref X Offset </em>and <em>Ref Y Offset </em>are the offsets applied to rows after they are snapped to the <em>Ref X Grid </em>and <em>Ref Y Grid</em>. If the <em>Ref Y Grid</em> is set to <em>NONE</em>, which is the default behavior, then the rows are snapped to the <code>siteDefs</code> width defined in the technology file.<br />
<a id="pgfId-1084971"></a>For more information, see <a href="chap3.html#87705">Planning a Placement</a>.</li><li>
<a id="pgfId-1084972"></a>Auto Placer follows pattern-aware snapping.<br />
<a id="pgfId-1085061"></a>Auto Placer now honors the local/global snap pattern definitions in the technology file or in the design. During placement, devices are automatically snapped to the snap pattern grid.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1085062"></a>Standard cells are placed on the <code>siteDefs</code> width defined in the technology file.</div></li></ul>





<p>
<a id="pgfId-1084949"></a>Here is an illustration representing how the seed point for row creation during placement planning is different from the point of row creation, which is snapped to the grid specified in the Placement Planning form.</p>
<p>
<a id="pgfId-1085080"></a></p>

<div class="webflare-div-image">
<img width="668" height="305" src="images/chap1-7.gif" /></div>
<h3>
<a id="pgfId-1083735"></a><a id="54727"></a>The Placement Flow</h3>

<p>
<a id="pgfId-1046401"></a>The placement flow for row-based designs typically involves the following steps:</p>
<ol><li>
<a id="pgfId-1065330"></a>Define component types using the Component Type mode of Configure Physical Hierarchy to assign the devices to rows and set the parameters for device chaining and folding. <br />
<a id="pgfId-1048092"></a>See <a actuate="user" class="URL" href="../vxlhelp/chap4.html#designcomponenttypes" show="replace" xml:link="simple">Component Types</a> in the <em>Virtuoso Layout Suite XL User Guide</em>.</li><li>
<a id="pgfId-1045561"></a>(Optional) Generate layout representations for critical components by using the Layout XL <em>Connectivity - Generate - Selected From Source</em> command.<br />
<a id="pgfId-1048093"></a>See <a actuate="user" class="URL" href="../vxlhelp/chap6.html#generateSelectedFromSource" show="replace" xml:link="simple">Generating Selected components from Source</a> in the <em>Virtuoso Layout Suite XL User Guide.</em><br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1046436"></a>Make a preliminary placement of the critical components by using the object editing commands. Critical components should preferably be hand-placed and locked in their final positions to prevent them from being moved during automatic placement.</div></li><li>
<a id="pgfId-1045915"></a>Generate a layout and a preliminary placement for the remaining design components by using the <em>Connectivity - Generate - All From Source</em> command or the <em>Connectivity - Update - Components and Nets</em> command.<br />
<a id="pgfId-1048147"></a>See <a actuate="user" class="URL" href="../vxlhelp/chap6.html#generateAllFromSource" show="replace" xml:link="simple">Generating All Components from Source</a> and <a actuate="user" class="URL" href="../vxlhelp/chap10.html#updateComponentAndNets" show="replace" xml:link="simple">Updating Components And Nets</a> in the <em>Virtuoso Layout Suite XL User Guide.</em></li><li>
<a id="pgfId-1052037"></a>(Optional) Place and constrain pins by using the <em>Place &#8211; Pin Placement</em> command.<br />
<a id="pgfId-1052041"></a>See <a href="chap2.html#44786">Pin Planning</a>.</li><li>
<a id="pgfId-1074671"></a>Create rows for placing the components, specify the component types to be placed in them, align the components to the respective rows, and specify the component orientation by using the <a href="appB.html#30147">Placement Planning</a> command.</li><li>
<a id="pgfId-1082372"></a>(Optional) Set the appropriate placement constraints.<br />
<a id="pgfId-1046466"></a>See <a href="chap1.html#19139">Pin Placement Constraints</a>.</li><li>
<a id="pgfId-1080987"></a>(Optional) Set the Net Priority routing constraint for assigning higher priority to critical nets.<br />
<a id="pgfId-1080988"></a>See <a actuate="user" class="URL" href="../constraints/appA.html#netPriority" show="replace" xml:link="simple">Net Priority</a> in the Virtuoso Custom Constraints User Guide.</li><li>
<a id="pgfId-1080989"></a>Run the automatic placer by using the <em>Place &#8211; Custom Digital &#8211; Placer</em> command to automatically position the unplaced design components on the layout canvas.<br />
<a id="pgfId-1059596"></a>See <a href="chap4.html#44786">Running the Placer</a>.</li><li>
<a id="pgfId-1081772"></a>Examine the placement. If required, update the constraints you set and run the placer again.</li></ol>

















<div class="webflare-information-macro webflare-macro-video">
<a id="pgfId-1081779"></a>
For a demonstration of the basic custom digital placer flow, see the <a actuate="user" class="URL" href="https://support.cadence.com/wps/myportal/cos/!ut/p/a0/HYzNCoJAFEafpYW7aEYlxAYXodCyoJByI9N4s4vz1zij9PZpy49zzkcacieN5hP23KPRXC770QFYiXpQqA81dmBqhBkcq4wICrS_fS0U0wq22jjxAu7Zp_ibET2BBsdlWxrtHT7DehvROI2zLN8nKU2TPKI1Oh_MaNoyjN6otsIe_RJdJBfgyvN19_aKjU4Us2XEDsfND4qgjTs!/" show="replace" xml:link="simple">Virtuoso Customer Digital Placer</a> flow video.</div>
<h2>
<a id="pgfId-1081774"></a><a id="74131"></a>Setting Up Layout XL for Placement</h2>

<p>
<a id="pgfId-1042777"></a>This section describes some Layout XL environment variables you might want to set and some design-related decisions you should make before you begin working with the placer.</p>
<ul><li>
<a id="pgfId-1075061"></a><a href="chap1.html#49268">Setting the Netlisting Mode</a></li><li>
<a id="pgfId-1075085"></a><a href="chap1.html#89700">Defining the Placement Region</a></li><li>
<a id="pgfId-1075096"></a><a href="chap1.html#59982">Abutting Standard Cells</a></li><li>
<a id="pgfId-1075131"></a><a href="chap1.html#64958">Setting MOS Chaining and Folding Parameters</a></li><li>
<a id="pgfId-1075107"></a><a href="chap1.html#69544">Using Automatic Abutment During Placement</a></li></ul>





<h3>
<a id="pgfId-1042794"></a><a id="49268"></a>Setting the Netlisting Mode</h3>

<p>
<a id="pgfId-1065677"></a>To enable the placer to correctly handle permutable pins, ensure that the CDF parameters are evaluated correctly by setting the <code>CDS_Netlisting_Mode</code> shell environment variable to <code>Analog</code> or <code>Compatibility</code>.</p>

<div class="webflare-information-macro webflare-macro-warning">
<a id="pgfId-1065769"></a>
Do not set the netlisting mode to Compatibility if you intend to chain or fold your devices.</div>

<p>
<a id="pgfId-1065678"></a>To set the <code>CDS_Netlisting_Mode</code> environment variable for the current session,</p>
<ul><li>
<a id="pgfId-1065679"></a>Type the following commands in the CIW.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1046513">
<a id="pgfId-1046513"></a>setShellEnvVar(&quot;CDS_Netlisting_Mode=Analog&quot;)
 
cdsSetNetlistMode()
 </pre></li></ul>

<p>
<a id="pgfId-1046514"></a>To check the mode in which the environment variable is currently set:</p>
<ul><li>
<a id="pgfId-1046515"></a>Type the following command in the CIW.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1046516">
<a id="pgfId-1046516"></a>cdsGetNetlistMode()
 </pre></li></ul>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1042800"></a>If you do not have permutable pins in your design, and make no other use of the CDF data, you can get faster netlisting performance by setting <code>CDS_Netlisting_Mode</code> to <code>Digital</code>.</div>
<p>
<a id="pgfId-1070791"></a>For more information about the <code>CDS_Netlisting_Mode</code>, see <h-hot><a actuate="user" class="URL" href="../ossref/chap3.html#firstpage" show="replace" xml:link="simple">Customizing the Simulation Environment</a></h-hot> in the <em>Open Simulation System Reference</em>.</p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1081952"></a>
Several placement environment variables have equivalent variables to control the Virtuoso custom routers. Placer variables always override their router equivalents during placement.</div>
<h3>
<a id="pgfId-1081961"></a><a id="89700"></a>Defining the Placement Region</h3>

<p>
<a id="pgfId-1081949"></a>The prBoundary object representing the place and route boundary defines the available placement region.The prBoundary can be a single rectangle or a polygon. </p>

<h3>
<a id="pgfId-1071036"></a><a id="59982"></a>Abutting Standard Cells</h3>

<p>
<a id="pgfId-1071037"></a>By default, all standard cells&#8212;cells defined with component type <code>STDCELL</code>&#8212;are designed to support abutment. This implies that all standard cells abut together without creating design violations. Therefore, when placing abutted standard cells, the placer only checks the design rules between the boundaries of the adjacent standard cells. Rules between the internal objects in a standard cell are not validated. </p>
<p>
<a id="pgfId-1071051"></a>In other words, the placer considers the boundary of each standard cell as its abutment edge. This ensures that the placement is optimal. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1071088"></a>Although the placer does not check the design rules between the objects within a standard cell, it does run a full design rule check between standard cells&#8212;devices of component class <code>STDCELL</code>&#8212;and devices belonging to other component classes.</div>
<p>
<a id="pgfId-1071089"></a>The placer determines the cell boundary for each standard cell by using the following precedence:</p>
<ol><li>
<a id="pgfId-1042838"></a>The list of layer-purpose pairs defined in the <a href="appA.html#61320">vcpCellBoundaryLPPs</a> environment variable.</li><li>
<a id="pgfId-1042839"></a>The (<code>prboundary</code> <code>drawing</code>) layer-purpose pair.</li><li>
<a id="pgfId-1042840"></a>The (<code>prboundary</code> <code>boundary</code>) layer-purpose pair.</li><li>
<a id="pgfId-1042841"></a>The (<code>instance</code> <code>drawing</code>) layer-purpose pair.</li></ol>



<p>
<a id="pgfId-1060605"></a>If none of the above layer-purpose pairs exists in the cell, a boundary is derived equal in size to the sum of the objects within the cell.</p>
<p>
<a id="pgfId-1060706"></a>To ensure that the objects within adjacent standard cells can be shared or overlapped during placement without generating any abutment violations, the cell boundary must be defined by using the <a href="appA.html#61320">vcpCellBoundaryLPPs</a> environment variable.</p>

<h3>
<a id="pgfId-1075166"></a><a id="64958"></a>Setting MOS Chaining and Folding Parameters</h3>

<p>
<a id="pgfId-1075167"></a>To place the MOS devices optimally, you must set the following <code>.cdsenv</code> environment variables to chain and fold them before placement.</p>
<ul><li>
<a id="pgfId-1075169"></a><a href="../vxlhelp/appA.html#deltawidth">lxDeltaWidth</a></li><li>
<a id="pgfId-1075171"></a><a href="../vxlhelp/appA.html#widthtolerance">lxWidthTolerance</a></li><li>
<a id="pgfId-1075173"></a><a href="../vxlhelp/appA.html#allowpseudoparallelnets">lxAllowPseudoParallelNets</a></li><li>
<a id="pgfId-1075175"></a><a href="../vxlhelp/appA.html#lxStackPartitionParameters">lxStackPartitionParameters</a></li></ul>



<p>
<a id="pgfId-1075157"></a>For more information about these environment variables, see <h-hot><a actuate="user" class="URL" href="../vxlhelp/appA.html#firstpage" show="replace" xml:link="simple">Appendix A, &#8220;Environment Variables&#8221;</a></h-hot> in the <em>Virtuoso Layout Suite XL User Guide</em>.</p>

<h3>
<a id="pgfId-1060702"></a><a id="69544"></a>Using Automatic Abutment During Placement</h3>

<p>
<a id="pgfId-1042844"></a>If switched on in Layout XL, automatic abutment is performed during layout generation for assisted MOS devices. To use automatic abutment:</p>
<ul><li>
<a id="pgfId-1060781"></a>Select the <em>Abut transistors</em> option on the <a actuate="user" class="URL" href="../vxlhelp/appD.html#layoutXLGenerationOptionsForm" show="replace" xml:link="simple">Layout XL Generation Options</a> form.</li><li>
<a id="pgfId-1060782"></a>Set the appropriate abutment properties on your design components including those on MOS device parameterized cells.<br />
<a id="pgfId-1048227"></a>See <a actuate="user" class="URL" href="../vxlhelp/chap5.html#abutmentSetup" show="replace" xml:link="simple">Setting Up Pcells for Abutment</a> in the <em>Virtuoso Layout Suite XL User Guide</em>.<br />
<a id="pgfId-1042846"></a>For an example of a MOS device parameterized cell, see the <code>spcnmos</code> and <code>spcpmos</code> devices in the sample parameterized cells library. For more information, see the <em><a actuate="user" class="URL" href="../pclib/pclibTOC.html#firstpage" show="replace" xml:link="simple">Sample Parameterized Cells Installation and Reference</a></em>.</li></ul>




<h2>
<a id="pgfId-1075427"></a><a id="15579"></a>Setting Placement Constraints</h2>

<p>
<a id="pgfId-1082725"></a>To constrain the placement of devices or pins in your design, you can directly set <em>geometric or pin placement constraints using the Constraint Manager or using an </em>associated SKILL Function.</p>
<ul><li>
<a id="pgfId-1082729"></a><a href="chap1.html#18719">Geometric Constraints</a> are used to control the placement of objects. You can create them using the Constraint Manager assistant or by using an associated SKILL function.<ul><li>
<a id="pgfId-1075627"></a>For information about the types of constraints and how they are supported by the custom digital placer, see <a href="chap1.html#18719">Geometric Constraints</a>.</li><li>
<a id="pgfId-1046140"></a>For information about creating constraints through the Constraint Manager assistant, see the <em><a actuate="user" class="URL" href="../constraints/constraintsTOC.html#firstpage" show="replace" xml:link="simple">Virtuoso Unified Custom Constraints User Guide</a></em>.</li><li>
<a id="pgfId-1075646"></a>For information about creating geometric constraints using a SKILL function, see the <em><a actuate="user" class="URL" href="../sklayoutref/sklayoutrefTOC.html#firstpage" show="replace" xml:link="simple">Virtuoso Layout Suite SKILL Reference</a></em>.</li></ul></li><li>
<a id="pgfId-1076926"></a><a href="chap1.html#19139">Pin Placement Constraints</a> are used to control the placement of pins. You can create them using the Pin Placement form. The form lets you place different types of constraints on multiple pins at one time and automatically moves the pins to their assigned locations.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1081979"></a>Alternatively, you can create pin placement constraints using the Constraint Manager or by using an associated SKILL function.</div>
<a id="pgfId-1081983"></a>For more information, see <a href="chap1.html#19139">Pin Placement Constraints</a>.</li></ul>







<h3>
<a id="pgfId-1081992"></a><a id="18719"></a>Geometric Constraints</h3>

<p>
<a id="pgfId-1075736"></a>You can create the following constraints in the Constraint Manager assistant for placement of objects:</p>
<ul><li>
<a id="pgfId-1075750"></a><a href="chap1.html#62427">Alignment Constraints</a></li><li>
<a id="pgfId-1075772"></a><a href="chap1.html#62526">Cluster Constraints</a></li><li>
<a id="pgfId-1075800"></a><a href="chap1.html#67428">Distance Constraints</a></li><li>
<a id="pgfId-1052428"></a><a href="chap1.html#37413">Fixed Constraints</a></li><li>
<a id="pgfId-1075815"></a><a href="chap1.html#65816">Symmetry Constraints</a></li></ul>





<h4>
<a id="pgfId-1082008"></a><a id="62427"></a>Alignment Constraints</h4>

<p>
<a id="pgfId-1075849"></a>The placer supports alignment references on any layer or on the instance bounding box. The first object selected is considered as the alignment reference object and the remaining objects selected are aligned to that reference. </p>
<p>
<a id="pgfId-1080465"></a>The Custom Digital Placer supports the following Alignment Constraint options:</p>
<ul><li>
<a id="pgfId-1081037"></a>Matched orientation</li><li>
<a id="pgfId-1081044"></a>Align</li><li>
<a id="pgfId-1081057"></a>Reference layer or Bounding box</li><li>
<a id="pgfId-1081064"></a>Ordering<br /><div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1081089"></a>
When using an axis as a reference for aligning devices, the axis must be floating. You cannot align objects to a fixed reference axis.</div></li></ul>






<p>
<a id="pgfId-1081129"></a>For more information about the Alignment constraint, see <h-hot><a actuate="user" class="URL" href="../constraints/appA.html#alignmentOrientation" show="replace" xml:link="simple">Alignment</a></h-hot> under <strong>Default Constraint Types</strong> in the <em>Virtuoso Unified Custom Constraints User Guide</em>.</p>

<h4>
<a id="pgfId-1075914"></a><a id="62526"></a>Cluster Constraints</h4>

<p>
<a id="pgfId-1075915"></a>The placer honors non-hierarchical cluster constraints that are set to specify the logical association among the instances within a cellview. Each cluster is associated with one or more rectilinear cluster boundaries within which the instances associated with that cluster are placed.</p>
<p>
<a id="pgfId-1075916"></a>Depending on the members it accepts, a cluster can be:</p>
<ul><li>
<a id="pgfId-1075917"></a>inclusive - Instances other than the instances in this cluster can be placed within its associated cluster boundaries. However, the instances that belong to this cluster cannot be placed outside of its associated boundaries.</li><li>
<a id="pgfId-1075918"></a>suggested - Instances can be placed inside or outside the associated cluster boundaries. </li><li>
<a id="pgfId-1075919"></a>exclusive - Only those instances that belong to this cluster can be placed within its associated cluster boundaries.</li></ul>


<b>Note:</b><br />
<a id="pgfId-1075920"></a>
<ul><li>
<a id="pgfId-1075921"></a>The cluster boundary associated with a cluster of type &#8220;inclusive&#8221; or &#8220;suggested&#8221; is considered to be a soft fence for the cluster. </li><li>
<a id="pgfId-1075922"></a>The cluster boundary associated with a cluster of type &#8220;exclusive&#8221; is considered to be a hard fence for the cluster.</li></ul>

<p>
<a id="pgfId-1075923"></a>To define a cluster constraint on a selected set of components, run the Cluster command from the Placement constraints available in the Constraint Manager. To define a boundary for the cluster, select the <em>Create &#8211; P&amp;R Objects &#8211; Cluster Boundary</em><a actuate="user" class="URL" href="../vlehelp/appA.html#createAndEditClustersForm" show="replace" xml:link="simple"> command. To set the type of a cluster, choose a value for the Type field in the right panel on the Create and Edit Clusters form. To open the form, select the </a><em>Create &#8211; P&amp;R Objects &#8211; Clusters</em> command.</p>
<p>
<a id="pgfId-1075926"></a>For more information about the Alignment constraint, see <h-hot><a actuate="user" class="URL" href="../constraints/appA.html#cluster" show="replace" xml:link="simple">Cluster</a></h-hot> under Default Constraint Types in the <em>Virtuoso Unified Custom Constraints User Guide</em>.</p>
<p>
<a id="pgfId-1075927"></a>Related Topic</p>
<p>
<a id="pgfId-1075929"></a><h-hot><a actuate="user" class="URL" href="../vxlhelp/appD.html#createClusterBoundaryVXL" show="replace" xml:link="simple">Create Cluster Boundary</a></h-hot></p>

<h4>
<a id="pgfId-1075839"></a><a id="67428"></a>Distance Constraints</h4>

<p>
<a id="pgfId-1076994"></a>The placer honors the distance constraint between two or more devices. However, when setting constraints for multiple devices, you must define the acceptable distance parameters between each pair of devices for the placer to interpret them. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1077150"></a>When a Distance constraint has more than two members, the constraint applies between the first and any of the following objects. That is, each of the second and following objects must be within the specified range from the first object.</div>
<p>
<a id="pgfId-1077247"></a>You can constrain the devices in one direction&#8212;X or Y&#8212;but not in both directions simultaneously. However, after the devices have been constrained, the placer aligns them in the orthogonal direction.</p>
<p>
<a id="pgfId-1081158"></a>The Custom Digital Placer honors the following Distance Constraint attributes:</p>
<ul><li>
<a id="pgfId-1081165"></a>Max X</li><li>
<a id="pgfId-1081182"></a>Min X</li><li>
<a id="pgfId-1081189"></a>Reference X</li><li>
<a id="pgfId-1081196"></a>Reference Y</li><li>
<a id="pgfId-1081203"></a>Support for more than two objects</li></ul>




<p>
<a id="pgfId-1077305"></a>For more information about the Distance constraint, see <h-hot><a actuate="user" class="URL" href="../constraints/appA.html#distance" show="replace" xml:link="simple">Distance</a></h-hot> under <strong>Default Constraint Types</strong> in the <em>Virtuoso Unified Custom Constraints User Guide</em>.</p>

<h4>
<a id="pgfId-1077312"></a><a id="37413"></a>Fixed Constraints</h4>

<p>
<a id="pgfId-1081319"></a>The placer honors the fixed constraint that is set to limit the position of one or more components with an allowable set of orientations to a particular x and y location.</p>
<p>
<a id="pgfId-1081320"></a>The Custom Digital Placer supports the following Fixed Constraint options:</p>
<ul><li>
<a id="pgfId-1081321"></a>X</li><li>
<a id="pgfId-1081322"></a>Y</li><li>
<a id="pgfId-1081323"></a>Orientation</li><li>
<a id="pgfId-1081324"></a>Reference</li><li>
<a id="pgfId-1081382"></a>Edit &#8211; Other &#8211; Lock Selected</li></ul>




<p>
<a id="pgfId-1081385"></a>For more information about the Fixed constraint, see <h-hot><a actuate="user" class="URL" href="../constraints/appA.html#fixed" show="replace" xml:link="simple">Fixed</a></h-hot> under <strong>Default Constraint Types</strong> in the <em>Virtuoso Unified Custom Constraints User Guide</em>.</p>
<p>
<a id="pgfId-1086553"></a><h-hot /></p>

<h4>
<a id="pgfId-1083763"></a><a id="32359"></a><a id="65816"></a>Symmetry Constraints</h4>

<p>
<a id="pgfId-1063071"></a>The placer interprets the order between the device pairs involved in a symmetry constraint. For example, if Q1 and Q2 are constrained along their horizontal line, then the constraint implies that Q1 lies below the horizontal line and Q2 lies above it. If the devices are constrained along a vertical line, based on the symmetry constraint, Q1 should lie to the left of the vertical line and Q2 to the right.</p>
<p>
<a id="pgfId-1078062"></a>The placer supports the following types of symmetries:</p>
<ul><li>
<a id="pgfId-1078064"></a>line symmetry</li><li>
<a id="pgfId-1078065"></a>self-symmetry</li><li>
<a id="pgfId-1063453"></a>pairwise symmetry</li></ul>


<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1063827"></a>The symmetry axis can be floating as well as fixed.</div>
<p>
<a id="pgfId-1081397"></a>The Virtuoso Custom Digital Placer supports the following Symmetry Constraint options:</p>
<ul><li>
<a id="pgfId-1081404"></a>Floating line</li><li>
<a id="pgfId-1081414"></a>Fixed line</li><li>
<a id="pgfId-1081421"></a>Horizontal/vertical direction</li><li>
<a id="pgfId-1081428"></a>Self-symmetry</li></ul>



<p>
<a id="pgfId-1054908"></a>For more information about the Symmetry constraint, see <h-hot><a actuate="user" class="URL" href="../constraints/appA.html#symmetry" show="replace" xml:link="simple">Symmetry</a></h-hot> under <strong>Default Constraint Types</strong> in the <em>Virtuoso Unified Custom Constraints User Guide</em>.</p>
<p>
<a id="pgfId-1086112"></a>VCP honors the database cell symmetry set as an OA cell property on the cell master to derive allowed orientations as per the following table:</p>

<p>
<a id="pgfId-1086113"></a></p>
<table class="webflareTable" id="#id1086148">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1086150"></a>Database Cell Symmetry</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1086152"></a>Allowed Orientation of Devices during Placement</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1086187"></a>dbcXSymmetry &quot;X&quot;</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1086156"></a>R0, MX</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1086158"></a>dbcYSymmetry &quot;Y&quot;</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1086160"></a>R0, MY</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1086217"></a>dbcXYSymmetry &quot;XY&quot;</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1086219"></a>R0, R180, MY, MX</p>
</td>
</tr>
</tbody></table>
<h3>
<a id="pgfId-1078648"></a><a id="19139"></a>Pin <a id="pinPlacementConstraints"></a>Placement Constraints</h3>

<p>
<a id="pgfId-1078649"></a>There are three ways in which you can set placement constraints on pins. These are:</p>
<ul><li>
<a id="pgfId-1078617"></a><a href="chap1.html#pinPlaceCM">Using the Constraint Manager Assistant</a></li><li>
<a id="pgfId-1080496"></a><a href="chap1.html#pinPlaceForm">Using the Pin Placement Form</a></li><li>
<a id="pgfId-1078663"></a><a href="chap1.html#pinPlaceSKILL">Using SKILL Functions</a></li></ul>



<h4>
<a id="pgfId-1080528"></a><a id="33527"></a>Setting Pin Placement Constraints <a id="pinPlaceCM"></a>using the Constraint Manager Assistant</h4>

<p>
<a id="pgfId-1080529"></a>You can set distance, alignment, grouping, symmetry, and fixed pin constraints by using the Constraint Manager assistant. For information about these constraints and how they are supported by Layout XL and the placer, see <a href="chap1.html#18719">Geometric Constraints</a>.</p>
<p>
<a id="pgfId-1080533"></a>Depending on the requirement of your design, you can set multiple constraints using the Constraint Manager. For example, if you want to constrain pins to an edge of a bounding box with a specified pitch, you must create an alignment constraint and a distance constraint.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1080534"></a>Pins that you constrain through the Constraint Manager are moved to their assigned positions in the layout view only when the placer is run.</div>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1080535"></a>
Cadence recommends that you use any one of the methods for setting all your pin constraints to avoid creating conflicting or redundant constraints. </div>

<p>
<a id="pgfId-1078665"></a>For more information about setting constraints through the Constraint Manager assistant, see the <em><a actuate="user" class="URL" href="../constraints/constraintsTOC.html#firstpage" show="replace" xml:link="simple">Virtuoso Unified Custom Constraints User Guide</a></em>.<a id="88906"></a></p>

<h3>
<a id="pgfId-1080518"></a>Se<a id="pinPlaceForm"></a>tting Pin Placement Constraints using the Pin Placement Form</h3>

<p>
<a id="pgfId-1078669"></a>The advantage of using the <a href="appB.html#73427">Pin Planner</a> form is that it lets you set and apply multiple constraints on multiple pins simultaneously. After you click <em>Apply</em>, the specified pins are automatically moved to the specified positions. </p>
<p>
<a id="pgfId-1049054"></a>You can set the following constraints using the Pin Placement form.</p>
<ul><li>
<a id="pgfId-1048374"></a>Distance</li><li>
<a id="pgfId-1043180"></a>Alignment</li><li>
<a id="pgfId-1048386"></a>Spacing</li><li>
<a id="pgfId-1078252"></a>Fixed</li></ul>



<p>
<a id="pgfId-1078253"></a>The<em> Pin Placement</em> form lets you assign pins to a fixed location or to a particular edge and order them along each edge according to your requirement. You can also specify fixed spacing for a group of pins that you have ordered and aligned to a particular edge.</p>
<p>
<a id="pgfId-1048988"></a>For example, you have a polygon with six edges and you want to place three pins (pin1, pin2, and pin3) on edge number 5. When you specify this in the pin placer form, it creates an alignment constraint as follows.</p>

<p>
<a id="pgfId-1043184"></a></p>
<table class="webflareTable" id="#id1048989">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048991"></a>Members</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048993"></a>PR boundary (reference)<br />pin1<br />pin2<br />pin3</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048995"></a>Constraint parameters</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048997"></a>side=edgeNumber</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048999"></a>Members parameters</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049001"></a>side=edgeNumber<br />edge=5</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1045784"></a>For more information about setting constraints through the Pin Placement form, see the <a href="appB.html#73427">Pin Planner</a> form.</p>

<h4>
<a id="pgfId-1078916"></a><a id="77032"></a>Setting Pin Placement Co<a id="pinPlaceSKILL"></a>nstraints using SKILL Functions</h4>

<p>
<a id="pgfId-1083230"></a>You can set placement constraints on pins by using SKILL Functions. For more information, see the <em><a actuate="user" class="URL" href="../sklayoutref/sklayoutrefTOC.html#firstpage" show="replace" xml:link="simple">Virtuoso Layout Suite SKILL Reference</a></em>.</p>

<h2>
<a id="pgfId-1083233"></a>Defining Component Types and Placement <a id="61977"></a>Parameters</h2>

<p>
<a id="pgfId-1079082"></a>The information about the &#8220;type&#8221; of each design component <a id="component types"></a>is required to specify the chaining and folding parameters for the components, and to define how the various component types are assigned to rows.</p>
<p>
<a id="pgfId-1043221"></a>Currently, there is no need to define the component types for placing the components by area. In other words, if the component types are not specified, the components are placed by area.</p>
<p>
<a id="pgfId-1083754"></a>You can define component types by using the <em>Edit &#8211; Component Types</em> command. For more information, see <h-hot><a actuate="user" class="URL" href="../vxlhelp/chap4.html#designcomponenttypes" show="replace" xml:link="simple">Component Types Mode</a></h-hot> in the <em>Virtuoso Layout Suite XL User Guide</em>.</p>
<p>
<a id="pgfId-1067914"></a>Depending on the requirement of your design, you can define the component types at the library level or at the individual cell level. </p>
<p>
<a id="pgfId-1043223"></a>Irrespective of their type, the components are placed within the place and route boundary unless:</p>
<ul><li>
<a id="pgfId-1043224"></a>The devices have been locked or fixed to a particular location outside the place and route boundary.</li><li>
<a id="pgfId-1082104"></a>The <em>Place Selected Only</em> option in the <a href="appB.html#21361">Auto Placer</a> form is selected.</li></ul>

<b>Note:</b><br />
<a id="pgfId-1082105"></a>
<ul><li>
<a id="pgfId-1082106"></a>If the placer does not place a component in a row, use <em>Edit &#8211; Component Types</em> to verify that the component in question has been correctly assigned to an appropriate component type, and that the row definition allows for that particular component type to be placed.</li><li>
<a id="pgfId-1068295"></a>If some components in the design are not assigned a component type, the placer ignores these components when calculating the required rows and subsequently ignores them during placement.</li></ul>


<h3>
<a id="pgfId-1054191"></a><a id="92542"></a>Defining a Standa<a id="subsContInAltRow"></a>rd Cell Substrate Contact</h3>

<p>
<a id="pgfId-1085477"></a>Standard cell substrate contacts, also called tap cells, are physical-only filler cells that are inserted between devices to limit resistance and to establish connection between the VDD and GND rails, thereby preventing DRC errors and latchup effects.</p>
<p>
<a id="pgfId-1085469"></a>Standard cell substrate contacts are neither contacts nor vias; they are standard cells assigned to component types with the component class <em>STDSUBCONT</em>.</p>
<p>
<a id="pgfId-1054192"></a>Standard cell substrate contact insertion is done on a per-row basis. Therefore, the location of standard cell substrate contacts in each row is independent of the placement of standard cell substrate contacts in other rows.</p>

<p>
<a id="pgfId-1082779"></a></p>
<div class="webflare-div-image">
<img src="images/StandardCellSubstrateContact.gif" /></div>

<p>
<a id="pgfId-1083437"></a>In the above diagram, <code>S1</code> represents the offset of the first and last substrates from the respective row edges, and <code>S2</code> represents the distance between two consecutive substrates.</p>
<p>
<a id="pgfId-1083438"></a>You can specify the maximum and minimum spacing values between two consecutive substrates by using one of the following methods:</p>
<ul><li>
<a id="pgfId-1083443"></a>Using the <em>Use Substrate Contacts</em> field in the<strong> </strong><a href="appB.html#30147">Placement Planning</a> form </li><li>
<a id="pgfId-1083447"></a><a href="chap1.html#35301">Defining the Substrate Contact Spacing Properties</a></li></ul>

<p>
<a id="pgfId-1083448"></a>The values for <code>S1</code> range from <code>0</code> to half of the value of <code>S2</code>. For example, if you specify 1 and 4 as the minimum and maximum values for <code>S2</code>, the value of <code>S1</code> can range from 0 to 2. The Auto Placer respects these values during placement.</p>

<div class="webflare-information-macro webflare-macro-warning">
<a id="pgfId-1085549"></a>
While running the Auto Placer, the positions of the standard cell substrate contacts might be altered to optimize the overall wire length. Such alterations might result in substrate spacing violations. Use the Annotation Browser to view and manage any violation markers that are generated for the design.</div>

<p>
<a id="pgfId-1085550"></a>Use the Swap Tap Cells feature to detect tap cells with maximum spacing violations. You can also replace them with tap cells that have valid maximum spacing values.</p>
<p>
<a id="pgfId-1085558"></a>For more information about this feature, see <a href="chap5.html#76856">Swapping Tap Cells</a>.</p>

<h4>
<a id="pgfId-1083463"></a><a id="35301"></a>Defining the Substrate Contact Spacing Properties</h4>

<p>
<a id="pgfId-1082830"></a>To add standard cell substrate contacts, you need to define the following properties:</p>
<ul><li>
<a id="pgfId-1082831"></a><code>lxVcpSubContMaxSpacing</code>, which specifies the maximum spacing after which the placer must place another standard cell substrate contact in order to avoid a violation. Specify this property on the layout master for the substrate contact.</li><li>
<a id="pgfId-1082832"></a><code>lxVcpSubContMinSpacing</code>, which specifies the minimum spacing allowed between two adjacent standard cell substrate contacts. Specify this property on the layout master for the substrate contact.</li></ul>

<p>
<a id="pgfId-1082833"></a>To define these properties:</p>
<ol><li>
<a id="pgfId-1082834"></a>Copy an existing filler cell, which is to be used as the basis for the standard cell substrate contact.</li><li>
<a id="pgfId-1082835"></a>Add substrate and well contacts to the cell. You can use <code>oaVia</code>, via instance, or polygons to do this.</li><li>
<a id="pgfId-1082836"></a>Add the <code>lxVcpSubContMaxSpacing</code> and <code>lxVcpSubContMinSpacing</code> properties to the cellview. <br />
<a id="pgfId-1082837"></a>For example, to set <code>lxVcpSubContMaxSpacing</code>, do the following.<ol><li>
<a id="pgfId-1082838"></a>From the layout window, choose <em>Edit &#8211; Basic &#8211; Properties &#8211; Cellview</em>.<br />
<a id="pgfId-1082839"></a>The Edit Cellview Properties form appears.</li><li>
<a id="pgfId-1082840"></a>Click the <em>Add</em> button to display the Add Property form.</li><li>
<a id="pgfId-1082759"></a>Specify the property parameters, as indicated in the figure below, and click <em>OK</em> to set the property.<br /><ffi2-fig-frame-in-2 id="#id1048742">
<a id="pgfId-1048742"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img src="images/addPropertySubContMax.gif" /></div></li><li>
<a id="pgfId-1048662"></a>Repeat steps <strong>a</strong> through <strong>c</strong> to add the <code>lxVcpSubContMinSpacing </code>property.</li><li>
<a id="pgfId-1048683"></a>Click <em>OK</em> to set the properties and close the Edit Cellview Properties form.</li></ol></li><li>
<a id="pgfId-1047759"></a>Choose <em>Edit &#8211; Component Types</em> to display the Configure Physical Hierarchy window in the Component Types mode.</li><li>
<a id="pgfId-1079568"></a>Assign a component type to the new cell that you created, which has its <em>Component Class</em> set to <em>STDSUBCONT</em>. (Create a new component type, if required.)</li><li>
<a id="pgfId-1082136"></a>(Optional) Specify the view name to be used for placing the cells of class <em>STDSUBCONT</em>.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1082148"></a>If the view name is not defined, the placer traverses through the <em>Physical stop view list</em> in the <a actuate="user" class="URL" href="../vxlhelp/chap4.html#globalBindingsPane" show="replace" xml:link="simple">Global Bindings</a> section of the <strong>
Configure Physical Hierarchy</strong>
 form to determine the view type to be used.</div></li><li>
<a id="pgfId-1082913"></a>Run the automatic placer after selecting the <em>Insert Standard Cell Substrate Contacts</em> option selected.<br />
<a id="pgfId-1082900"></a>The placer fills any gaps between the placed cells with the specified standard cell substrate contacts.</li></ol>





















<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1081521"></a>You can use the Insert Std Cell Substrate Contacts options in the Auto Placer form to globally override the substrate spacing you had set using the Add Property form. Alternatively, use the <a href="appA.html#50126">subContMaxSpacing</a> or <a href="appA.html#80275">subContMinSpacing</a> environment variables, as required.</div>

<h4>
<a id="pgfId-1083185"></a><a id="45545"></a>Placing St<a id="subsContAltRow"></a>andard Cell Substrate Contacts in Alternate Rows</h4>

<p>
<a id="pgfId-1083259"></a>By default, substrate contacts (tap cells) get placed in consecutive rows. But, if required, you can force them to be placed in alternate rows. However, for this to be supported by the placer, the rows in which the substrate contacts are to be placed must be created in flipped and abutted manner. This means the rail pattern should be PGGP or GPPG and the row-to-row spacing must be zero.</p>
<p>
<a id="pgfId-1083559"></a>To place substrate contacts in alternate rows:</p>
<ul><li>
<a id="pgfId-1083583"></a>In the <a href="appB.html#30147">Placement Planning</a> form, select <em>In Alternate Rows</em> option on the Component tab.<br />
<a id="pgfId-1083587"></a>Alternatively, set the <a href="appA.html#81724">subContInAlternateRow</a> environment variable.</li></ul>

<p>
<a id="pgfId-1083588"></a>With substrate contact placement in alternate rows selected, the placer places the substrate contacts in alternate rows, such as the 1st, 3rd, 5th, and so on. But, if the total number of rows created is even, the substrate contacts will also be placed in the top row. For example, if the total number of rows generated is 6, the substrate contacts are placed in the 1st, 3rd, 5th, and the 6th rows.</p>

<h3>
<a id="pgfId-1083260"></a>MOS Transistor Chaining and Folding Parameters</h3>

<p>
<a id="pgfId-1083238"></a>After the devices are assigned a component type, the MOS transistors that need to be chained and folded must have certain parameter values set before you generate a layout. For more information, see <h-hot><a actuate="user" class="URL" href="../vxlhelp/chap4.html#designcomponenttypes" show="replace" xml:link="simple">Component Types</a></h-hot> in the <em>Virtuoso Layout Suite XL User Guide</em>.</p>

<h2>
<a id="pgfId-1083241"></a><a id="12223"></a>Troubleshooting Placement</h2>

<p>
<a id="pgfId-1080579"></a>This section discusses common placement problems and some possible solutions.</p>

<h3>
<a id="pgfId-1055089"></a>Room Violations </h3>

<p>
<a id="pgfId-1056210"></a>Room violations are spacing violations that occur when the components placed within a partition are overlapped by another partition or when two partitions overlap.</p>
<p>
<a id="pgfId-1056450"></a>By default, the VCP engine excludes components that do not belong to the partition to be placed. However, room violations might still be observed if the partition itself is overlapped by another partition. </p>
<p>
<a id="pgfId-1055146"></a>The markers generated due to room violations in a design are displayed in the <h-hot><a actuate="user" class="URL" href="../vxlhelp/appF.html#miscTab" show="replace" xml:link="simple">Misc</a></h-hot> tab of the Annotation Browser.</p>
<p>
<a id="pgfId-1055163"></a>To fix room violations, manually move around the overlapping shapes.</p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="preface.html" id="prev" title="Preface">Preface</a></em></b><b><em><a href="chap2.html" id="nex" title="Pin Planning">Pin Planning</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2020, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>