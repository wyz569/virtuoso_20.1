
<html><head><title>Monte Carlo Analysis</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="namratam" />
<meta name="CreateDate" content="2020-09-22" />
<meta name="CreateTime" content="1600776324" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the features of Virtuoso ADE Assembler" />
<meta name="DocTitle" content="Virtuoso ADE Assembler User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Monte Carlo Analysis" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.2.1" />
<meta name="Keyword" content="assembler" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2020-09-22" />
<meta name="ModifiedTime" content="1600776324" />
<meta name="NextFile" content="asmWorkingSetup.html" />
<meta name="Order" content="0" />
<meta name="Group" content="ADE Assembler" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="asmReliabilityAnalysis.html" />
<meta name="c_product" content="Virtuoso Analog Design Environment" />
<meta name="Product" content="Virtuoso Analog Design Environment" />
<meta name="ProductFamily" content="Virtuoso Analog Design Environment" />
<meta name="ProductVersion" content="ICADVM20.1" />
<meta name="RightsManagement" content="Copyright 2012-2020 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso ADE Assembler User Guide -- Monte Carlo Analysis" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="ICADVM20.1" />
<meta name="SpaceKey" content="assemblerICADVM201" />
<meta name="webflare-version" content="2.0" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="assemblerTOC.html">Contents</a></li><li><a class="prev" href="asmReliabilityAnalysis.html" title="Performing Reliability Analysis">Performing Reliability Analysi ...</a></li><li style="float: right;"><a class="viewPrint" href="assembler.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="asmWorkingSetup.html" title="Working with the Simulation Setup">Working with the Simulation Se ...</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso ADE Assembler User Guide<br />Product Version ICADVM20.1, October 2020</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>12
<a id="pgfId-1089111"></a></h1>
<h1>
<a id="pgfId-1089114"></a><hr />
<a id="45566"></a>Monte Carlo Analysis<a id="marker-1089113"></a><hr />
</h1>

<p>
<a id="pgfId-1092300"></a>Monte Carlo analysis can be used to perform statistical analysis to estimate parametric yields and generate information about the performance characteristics of the circuits you design.</p>
<p>
<a id="pgfId-1092332"></a>To perform statistical analysis for a single test, you can use ADE Explorer. For multiple tests or for multi-technology tests, you can use Monte Carlo in ADE Assembler.To used advanced run options or features, such as, high yield estimation, you require an additional license, <code>Virtuoso Variation Option</code>. </p>
<p>
<a id="pgfId-1092546"></a>The following figure gives a snapshot of the licenses required to run various Monte Carlo methods and features.</p>

<p>
<a id="pgfId-1092504"></a></p>
<div class="webflare-div-image">
<img width="668" height="454" src="images/asmMC-2.gif" /></div>

<p>
<a id="pgfId-1092591"></a>The following topics in this chapter describe how to run Monte Carlo using ADE Assembler:</p>
<ul><li>
<a id="pgfId-1092412"></a><a href="asmMC.html#50249">Preparing Setup for Monte Carlo Analysis</a></li><li>
<a id="pgfId-1092606"></a><a href="asmMC.html#67385">Running a Monte Carlo Simulation and Viewing Results</a></li><li>
<a id="pgfId-1094109"></a><a href="asmMC.html#81576">Post-Processing Monte Carlo Results</a></li><li>
<a id="pgfId-1094126"></a><a href="asmMC.html#10890">Advanced Monte Carlo Methods</a></li></ul>



<p>
<a id="pgfId-1092400"></a></p>

<h2>
<a id="pgfId-1052104"></a><a id="50249"></a>Preparing Setup for Monte Carlo Analysis</h2>

<p>
<a id="pgfId-1089936"></a>The following sections provide details on how to set up Monte Carlo analysis:</p>
<ul><li>
<a id="pgfId-1089965"></a><a href="asmMC.html#72701">Preparing Setup in the Data View Assistant of ADE Assembler</a></li><li>
<a id="pgfId-1089972"></a><a href="asmMC.html#94525">Setting Run Options in the Monte Carlo Form</a></li></ul>


<h3>
<a id="pgfId-1089966"></a><a id="72701"></a>Preparing Setup in the Data View Assistant of ADE Assembler</h3>

<p>
<a id="pgfId-1089967"></a>You can run Monte Carlo analysis over more than one test and corner. To selects the tests and corners that you want to use in analysis, do the following:</p>
<ol><li>
<a id="pgfId-1089326"></a>In the <a href="asmGettingStarted.html#assistantDataView">Data View</a> assistant pane, identify the tests over which you want to run Monte Carlo and select the check boxes next to their names.<br />
<a id="pgfId-1089327"></a>The Run Summary pane reflects the number of tests you have selected.</li><li>
<a id="pgfId-1089328"></a>Ensure that the simulator specified for the selected tests is Spectre, APS, or AMS Designer (with Spectre as the solver). <br />
<a id="pgfId-1089383"></a>You can run Monte Carlo analysis only with these simulators. For details on simulators that support Monte Carlo, refer to <a actuate="user" class="URL" href="../Explorer/chap8.html#beforeRunning" show="replace" xml:link="simple">Before Running a Monte Carlo Analysis</a> in <em>Virtuoso ADE Explorer User Guide</em>.</li><li>
<a id="pgfId-1089329"></a>Disabled output expressions&#8212;expressions for which the <em>Plot</em> check box is not selected in the Outputs Setup tab&#8212;will not be evaluated for Monte Carlo simulations. So ensure that the <em>Plot</em> check box is selected for the output expressions that you want to be evaluated.</li><li>
<a id="pgfId-1089330"></a>(Optional) Specify correlation constraints in Constraint Manager. The correlation constraints are evaluated during the Monte Carlo run. For more information, see <a href="asmConstraints.html#54139">Chapter 5, &#8220;Working with Constraints.&#8221;</a></li><li>
<a id="pgfId-1089334"></a>(Optional) To use corners in the analysis, ensure that the <em># Corners</em> check box on the Run Summary pane is selected. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1089336"></a>You can modify the corners you have defined in the <a actuate="user" class="URL" href="../assembler/asmCorners.html#formCornersSetup" show="replace" xml:link="simple">Corners Setup form</a>.</div></li><li>
<a id="pgfId-1089337"></a>(Optional) If you do not want to include the nominal corner in the Monte Carlo analysis, you can deselect the <em>Nominal Corner</em> check box on the Run Summary pane.</li></ol>









<h3>
<a id="pgfId-1089270"></a><a id="94525"></a>Setting Run Options in the Monte Carlo Form</h3>

<p>
<a id="pgfId-1089355"></a>Select the task that you want to perform and specify related options in the Monte Carlo run options form.</p>
<ol><li>
<a id="pgfId-1095448"></a>Choose Run &#8211; <em>Monte Carlo Sampling</em><a id="marker-1095447"></a> to open the Monte Carlo form.<br />
<a id="pgfId-1095452"></a>Alternatively, select <em>Monte Carlo Sampling</em> in the <em>Select a Run Mode </em>drop-down list on the <a href="asmGettingStarted.html#11352">Run</a> toolbar, then click 
<img src="images/iconSimulationOptions.gif" />
 (<em>Simulation Options</em><span>) on the </span></li></ol>
<a href="asmGettingStarted.html#11352">Run</a> toolbar.

<p class="webflare-indent1">
<a id="pgfId-1095460"></a>The <a id="formMonteCarloOptions"></a>Monte Carlo form appears, as shown below.</p>

<p class="webflare-indent1">
<a id="pgfId-1095464"></a></p>
<div class="webflare-div-image">
<img width="653" height="234" src="images/asmMC-4.gif" /></div>

<p class="webflare-indent1">
<a id="pgfId-1095465"></a>This form includes two sections:</p>
<p class="webflare-indent1">
<a id="pgfId-1095466"></a><em>&#8211; Guided Mode</em>: Provides guidance in terms of the tasks you need to perform using Monte Carlo.</p>
<p class="webflare-indent1">
<a id="pgfId-1095467"></a><em>&#8211; Advanced &#8211; Show All Options</em>: Provides a relevant set of options to be set based on the task selected in the <em>Guided Mode</em> section.</p>
<ol><li>
<a id="pgfId-1095489"></a>Select an appropriate task that you want to perform.</li><li>
<a id="pgfId-1095516"></a>Click the red arrow to the left of the to expand the <em>Advanced &#8211; Show All Options</em> section.<br />
<a id="pgfId-1095468"></a>An example of the advanced options displayed for the default run mode, <em>Run a fixed number of points</em>, is shown below.<a id="MCOptions"></a><br />
<a id="pgfId-1095472"></a><div class="webflare-div-image">
<img width="651" height="602" src="images/asmMC-5.gif" /></div></li></ol>






<p>
<a id="pgfId-1095408"></a>In this section, you can specify various options as listed below:</p>
<ul><li>
<a id="pgfId-1089462"></a>The devices or device models for which you have specified statistically varying parameter values. You must specify either global (process) or mismatch (per-instance) variations or both.</li><li>
<a id="pgfId-1095571"></a>A method for statistical variation</li><li>
<a id="pgfId-1095607"></a>Number of points to run</li><li>
<a id="pgfId-1095621"></a>A sampling method to generate samples, seed value, and first point</li><li>
<a id="pgfId-1095562"></a>Other Monte Carlo options<br />
<a id="pgfId-1092881"></a>For details about the various options that can be set on this form for a standard Monte Carlo run, refer to <a actuate="user" class="URL" href="../Explorer/chap8.html#MC_standard" show="replace" xml:link="simple">Performing a Standard Monte Carlo Run section</a> in the Virtuoso ADE Explorer User Guide.<br />
<a id="pgfId-1093070"></a>By default, variation is applied to all subcircuit instances in the design. You can use the Specify Instances for Mismatch form to do one of the following:<ul><li>
<a id="pgfId-1059754"></a>Select specific instances to which variation must be applied. The variation is also applied to all subcircuits instantiated under the selected instances. </li><li>
<a id="pgfId-1059755"></a>Select specific instances to which variations must not be applied. The variations is not applied to all subcircuits instantiated under the selected instances. <br /><div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1077952"></a>
If multiple ADE Assembler tests are enabled, ensure that the same single top level DUT (Device Under Test) instance is selected for all the tests, so that you get the same statistical variation across all tests. This allows you to accurately predict the total yield across multiple tests.</div></li></ul><br />
<a id="pgfId-1093063"></a>To open the Specify Instances for Mismatch form, click <em>Specify Instances/Devices</em> on the Monte Carlo form.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1093064"></a>If the button name appears as <em>Specify Instances/Devices (Not Specified)</em>, it indicates that no instances or devices are selected. Therefore, mismatch variations are applied to all subcircuit instances in the design. If the button name appears as <em>Specify Instances/Devices (Exists)</em>, it indicates that you have selected specific instances and devices to include or exclude for applying mismatch variations.</div>
<a id="pgfId-1090107"></a>The Specify Instances for Monte Carlo form appears as shown below.<br />
<a id="pgfId-1090089"></a><div class="webflare-div-image">
<img width="667" height="572" src="images/asmMC-7.gif" /></div>
<a id="pgfId-1090073"></a>For details on including or excluding instance and devices for applying mismatch variation, refer to <a actuate="user" class="URL" href="../Explorer/chap8.html#selectInstForMismatch" show="replace" xml:link="simple">Including or Excluding Instances and Devices for Applying Mismatch Variations</a> in the Virtuoso ADE Explorer User Guide.<br />
<a id="pgfId-1090162"></a>An additional point to note about this form in ADE Assembler is that if <code>All Tests</code> is selected in the <em>Tests</em> drop-down list, you can add only instances of cellviews that exist in the designs for all the tests. If instances of a cellview do not exist in the designs for all the tests, the <em>View</em> field displays the text <code>No Common View</code> indicating that you cannot select instances of the cellview.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1070039"></a>By default, the <em>Type</em> and <em>Sch/Master/Subcircuit</em> columns are not visible in the table that lists the selected instances. To view these columns, right-click the title bar and select the name of the column to be displayed in this table.</div>
<a id="pgfId-1097444"></a>Also see:<ul><li>
<a id="pgfId-1097446"></a><a actuate="user" class="URL" href="../Explorer/chap8.html#MC_sweeps" show="replace" xml:link="simple">Running Monte Carlo with Sweep Values</a></li><li>
<a id="pgfId-1097448"></a><a actuate="user" class="URL" href="../Explorer/chap8.html#YieldVerification" show="replace" xml:link="simple">Performing Yield Verification</a></li></ul></li></ul>

























<h2>
<a id="pgfId-1090541"></a><a id="67385"></a>Running a Monte Carlo Simulation and Viewing Results</h2>

<p>
<a id="pgfId-1090548"></a>To run a Monte Carlo simulation, click <em>Run Simulation </em><img src="images/iconRunSimulation.gif" />
 on the <a href="asmGettingStarted.html#11352">Run</a></p><span> toolbar.</span>
<p>
<a id="pgfId-1090549"></a>ADE Assembler calculates the number of simulations to be run. If the number exceeds the threshold limit specified using the <h-hot>warnWhenSimsExceed</h-hot><a id="message URL ../adexl/appEnvVars.html#warnWhenSimsExceed"></a> environment variable, a warning message is displayed to confirm if the run is to be continued.</p>
<p>
<a id="pgfId-1090551"></a>Depending on the run options, ADE Assembler runs simulation for the identified samples. If the auto stop options are selected, the run is stopped automatically when the defined criteria is selected.</p>
<p>
<a id="pgfId-1091267"></a>The following sections provide more details about running Monte Carlo simulations and viewing results:</p>
<ul><li>
<a id="pgfId-1091274"></a><a href="asmMC.html#19122">Running Incremental Monte Carlo Analyses</a></li><li>
<a id="pgfId-1091284"></a><a href="asmMC.html#52993">Running Multi-Technology Simulations for Monte Carlo Analysis</a></li><li>
<a id="pgfId-1091291"></a><a href="asmMC.html#45885">Viewing Results</a></li><li>
<a id="pgfId-1091463"></a><a href="asmMC.html#55770">Viewing Statistical Parameters for Monte Carlo Samples</a></li><li>
<a id="pgfId-1091623"></a><a href="asmMC.html#15846">Viewing Sensitivity Results</a></li><li>
<a id="pgfId-1091485"></a><a href="asmMC.html#22004">Debugging in Debug Environment</a></li></ul>






<h3>
<a id="pgfId-1090576"></a><a id="19122"></a>Running Increment<a id="marker-1097987"></a>al Monte Carlo Analyses</h3>

<p>
<a id="pgfId-1090580"></a>You can use the Manual Tuning run mode in ADE Assembler to run Monte Carlo incrementally. In this run mode, you can append the results of multiple Monte Carlo runs to the same history and results view. </p>

<h4><em>
<a id="pgfId-1090581"></a>Important Points to Note</em></h4>

<p>
<a id="pgfId-1090582"></a>Consider the following points while running incremental Monte Carlo analyses in the Manual Tuning run mode:</p>
<ul><li>
<a id="pgfId-1090583"></a>In order to run incrementally, all Monte Carlo runs must be performed within the Manual Tuning mode. You cannot append to a run performed outside of the Manual Tuning mode.</li><li>
<a id="pgfId-1090585"></a>If the chosen sampling method is <code>Random</code>, for every subsequent Monte Carlo run, specify an incremented value in the Starting Run Number field. For example, if you run the first Monte Carlo run for 20 points, in the subsequent run, set the <em>Starting Run Number</em> field on the Monte Carlo form to <code>21</code>. Similarly, the value in the Number of Points field can vary across different Monte Carlo runs. For example, if you run the first Monte Carlo run for 20 points, for the second one, you can set the Number of Points field to 40.</li><li>
<a id="pgfId-1090586"></a>If the chosen sampling method is <code>Latin Hypercube</code>, specify a different seed value in the <em>Monte Carlo Seed</em> field or each subsequent Monte Carol run.</li></ul>


<p>
<a id="pgfId-1090590"></a>For more details on the Manual Tuning run mode, refer to <a href="asmOptimize.html#80378">Performing Manual Tuning</a>.</p>

<h3>
<a id="pgfId-1091232"></a><a id="52993"></a>Running Multi-Technolo<a id="MTS_MC"></a>gy Simulati<a id="marker-1091231"></a>ons for Monte Carlo Analysis</h3>

<p>
<a id="pgfId-1091233"></a>You can run a Monte Carlo analysis in the multi-technology mode by enabling the Multi-Technology Mode option for a simulator and specifying the related Multi-Technology Simulation (MTS) options. For details on how to enable these settings, refer to <a href="asmMTS.html#74030">Simulating Multi-Technology Designs and Defining Locally Scoped Models and Options</a>.</p>
<p>
<a id="pgfId-1091237"></a>After identifying the MTS blocks and specifying MTS options for them, run the Monte Carlo analysis. If you have specified different model libraries for the MTS blocks, the statistical and process parameters used for those blocks are different than the parameters used for the non-MTS blocks.</p>

<h4>
<a id="pgfId-1091238"></a>Viewing Results of Monte Carlo Analysis with MTS</h4>

<p>
<a id="pgfId-1091239"></a>After a multi-technology simulation is run, you can view the results on the <em>Results</em> tab. To view the process and statistical parameters used for simulation of a data point, change the results view to the <em>Yield</em> view, right-click a result data cell and choose <em>Print Statistical Parameters</em>. </p>
<p>
<a id="pgfId-1091356"></a>The Results Display Window shows a list of all the process and statistical parameters along with the statistical value used for simulation. The names of parameters for the MTS blocks are prefixed with the name of their corresponding block. For example, in the following figure, the names of parameters for the <code>inv</code> MTS block are prefixed with <code>inv</code>.</p>
<p>
<a id="pgfId-1091371"></a></p>

<div class="webflare-div-image">
<img width="667" height="310" src="images/asmMC-9.gif" /></div>

<p>
<a id="pgfId-1091255"></a>Similarly, in the Sensitivity Analysis results window, the parameter names for MTS blocks are prefixed with the name of their corresponding block. For more details, refer to <h-hot><a actuate="user" class="URL" href="../assembler/vvoSensitivityAnalysis.html#mts_SA" show="replace" xml:link="simple">Support for MTS in Sensitivity Analysis</a></h-hot>.</p>

<h3>
<a id="pgfId-1091379"></a><a id="45885"></a>Viewing Results</h3>

<p>
<a id="pgfId-1093209"></a>After the run is complete, ADE Assembler displays the results in the <em>Yield</em> view on the Results tab of the Outputs pane, as shown below. </p>

<p>
<a id="pgfId-1093223"></a></p>
<div class="webflare-div-image">
<img width="667" height="305" src="images/asmMC-10.gif" /></div>

<p>
<a id="pgfId-1093327"></a>Results are reported for each test, corner and measurement expression and the total yield is reported for the circuit. For details about this view, refer to <em><a actuate="user" class="URL" href="../assembler/asmViewingResults.html#YieldView" show="replace" xml:link="simple">Yield</a></em> view in <a href="asmViewingResults.html#90740">Chapter 18, &#8220;Viewing, Printing, and Plotting Results.&#8221;</a>.</p>
<p>
<a id="pgfId-1091386"></a>You can also use the <h-hot>Su<a href="asmViewingResults.html#YieldView"></a>mmary</h-hot> view or the <h-hot>De</h-hot><a href="asmViewingResults.html#YieldView"></a>tail view on the <h-hot>Results tab</h-hot> to view the detailed results for the Monte Carlo analysis. In these views, the results for each Monte Carlo sample is displayed under a row named <br /><code>Parameters: </code>parameter-name=parameter-value, mc_iteration=<span class="webflare-courier-new" style="white-space:pre"><em>n</em></span></p>
<p>
<a id="pgfId-1091387"></a>where <em>n</em> is the number of the sample. For example, in the following figure of the Detail view, the results under the row <code>Parameters: cload=100f, mc_iteration=</code><span class="webflare-courier-new" style="white-space:pre"><em>1</em></span> displays the results for the first iteration.</p>

<p>
<a id="pgfId-1091391"></a></p>
<div class="webflare-div-image">
<img width="672" height="435" src="images/asmMC-11.gif" /></div>

<p>
<a id="pgfId-1091393"></a>To view the description of the each column in the Detail view of the Results tab, refer to <h-hot><a actuate="user" class="URL" href="../assembler/asmViewingResults.html#hideUnhide" show="replace" xml:link="simple">Hiding and Showing Data on the Results Tab</a></h-hot>. In some cases, the results are shown as <code>Canceled</code>. To know more about this status, refer to <a href="asmSimulating.html#25093">Starting a Simulation</a>.</p>
<p>
<a id="pgfId-1093448"></a>For more details on how to view and use the Monte Carlo results, refer to the following topics in <em>Virtuoso ADE Explorer User Guide</em>:</p>
<ul><li>
<a id="pgfId-1093449"></a>Managing Monte Carlo Results in the Yield View</li><li>
<a id="pgfId-1093450"></a>Generating Plots, Tables, and Reports</li></ul>


<h3>
<a id="pgfId-1093424"></a><a id="55770"></a>Viewing Statistica<a id="viewStatParams"></a>l Parameters for Monte Carlo Samples</h3>

<p>
<a id="pgfId-1091406"></a>After running a Monte Carlo analysis, you can switch to the <em><a href="asmViewingResults.html#YieldView">Detail</a></em> view on the <h-hot>Results tab</h-hot> of the Outputs pane to view the detailed results for each Monte Carlo sample. If the results for any sample need further investigation, you can view the statistical parameters for that sample so that you can debug your design.</p>
<p>
<a id="pgfId-1091407"></a>To view and print the statistical parameters for a Monte Carlo sample, do the following:</p>
<ol><li>
<a id="pgfId-1091408"></a>In the <em>Select the results view </em>drop-down list on the Results tab of the Outputs pane, select <em>Detail</em>.<br />
<a id="pgfId-1091409"></a>The Detail view is displayed. </li><li>
<a id="pgfId-1091410"></a>Right-click a result for a sample in the <em>Nominal</em> column and select <em>Print Statistical Parameters</em>.<br />
<a id="pgfId-1091411"></a>The statistical parameters for that sample are displayed in a Results Display Window. </li></ol>



<p>
<a id="pgfId-1091414"></a>For information about printing the contents in the Results Display Window, see <a href="asmViewingResults.html#64320">Printing Results from the Results Display Window</a>.</p>

<h3>
<a id="pgfId-1093547"></a><a id="15846"></a><a id="34753"></a>Viewing Sensitivity Results</h3>

<p>
<a id="pgfId-1091601"></a>To view data on the sensitivity of variables and measurement expressions for a Monte Carlo run, do one the following:</p>
<ul><li>
<a id="pgfId-1091605"></a>Click the <em>Sensitivity Results</em> <img src="images/iconSensitivityResults.gif" />
 button on the Results tab.</li><li>
<a id="pgfId-1091606"></a>On the History tab in the Data View pane, right-click the history item for a Sensitivity Analysis or Monte Carlo run and choose <em>Sensitivity Results</em>.<br />
<a id="pgfId-1091607"></a>The Sensitivity Analysis form appears displaying the sensitivity results. <br />
<a id="pgfId-1091609"></a>For more information about the Sensitivity Analysis form, refer to <a actuate="user" class="URL" href="../assembler/vvoSensitivityAnalysis.html#viewSensitivityData" show="replace" xml:link="simple">Sensitivity Analysis</a>. </li></ul>






<h3>
<a id="pgfId-1091416"></a><a id="22004"></a>Debugging in Debug Environment</h3>

<p>
<a id="pgfId-1093824"></a>If any particular data point fails or shows undesired results, you can select the result in the Detail view and load it in the <h-hot><a href="asmSimulating.html#adexlDebugEnvironment">debug environment</a></h-hot>. Here, you can modify the setup of that data point to debug it and run a single Monte Carlo simulation to verify the results, and bring back the updated test to the active maestro view.</p>

<h2>
<a id="pgfId-1093518"></a><a id="81576"></a><a id="52873"></a><a id="60365"></a>Post-Processing Monte Carlo Results</h2>

<p>
<a id="pgfId-1093508"></a>The default results view for the Monte Carlo Sampling run mode is the <em>Yield</em> view. This view displays the overall yield estimate based on the pass or fail status of all the specifications. For details on the different columns in this view, refer to the <em><a actuate="user" class="URL" href="../assembler/asmViewingResults.html#yieldView" show="replace" xml:link="simple">Yield</a></em><h-hot> view</h-hot>.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1097480"></a>You may change the default results view for the Monte Carlo Sampling run mode using the <a actuate="user" class="URL" href="../adexl/appEnvVars.html#defaultResultsViewForMonteCarlo" show="replace" xml:link="simple">defaultResultsViewForMonteCarlo</a> environment variable.</div>
<p>
<a id="pgfId-1081647"></a>Also refer to the following topics for the post-processing commands for Monte Carlo results:</p>
<ul><li>
<a id="pgfId-1078866"></a><a href="asmMC.html#49706">Managing Monte Carlo Results in the Yield View</a></li><li>
<a id="pgfId-1090737"></a><a href="asmMC.html#73898">Generating Plots, Tables, and Reports</a></li><li>
<a id="pgfId-1091532"></a><a href="asmMC.html#55484">Saving Monte Carlo Results in CSV Format</a></li></ul>



<h2>
<a id="pgfId-1078429"></a><a id="49706"></a>Managing Monte Carlo Results in the Yield View</h2>

<p>
<a id="pgfId-1078717"></a>The following topics explain how you can manage the Monte Carlo results either to show the most relevant data, or to create statistical corners that can be used in the next simulation runs:</p>
<ul><li>
<a id="pgfId-1078434"></a><a href="asmMC.html#67640">Viewing Data for a Specific Confidence Interval</a></li><li>
<a id="pgfId-1078442"></a><a href="asmMC.html#94778">Creating Statistical Corners</a></li><li>
<a id="pgfId-1080990"></a><a href="asmMC.html#39748">Filtering Out Data from the Yield View</a></li></ul>



<h3>
<a id="pgfId-1078445"></a><a id="67640"></a>Viewing Data for a S<a id="_axlSetConfidenceLevelForm"></a>pecific Confidence Interval</h3>

<p>
<a id="pgfId-1078446"></a>During or after a Monte Carlo analysis run, you can specify a confidence level to display the confidence intervals for the estimated yield, mean, and sigma. </p>
<p>
<a id="pgfId-1078447"></a>To set the confidence level, right-click the gray-colored row at the top and choose <em>Set Confidence Level</em>. The Set Confidence Level form is displayed, as shown in the following figure.</p>

<p>
<a id="pgfId-1078452"></a></p>
<div class="webflare-div-image">
<img src="images/MC_yield_view04.gif" /></div>

<p>
<a id="pgfId-1078453"></a>Specify a percentage value in the <em>One-sided Confidence Level</em> field and click OK.</p>
<p>
<a id="pgfId-1078454"></a>ADE Assembler displays the confidence intervals for the yield, mean, and sigma values, as shown in the following figure.</p>

<p>
<a id="pgfId-1078459"></a></p>
<div class="webflare-div-image">
<img width="668" height="358" src="images/asmMC-14.gif" /></div>
<h3>
<a id="pgfId-1093886"></a><a id="94778"></a>Creating <a id="statCorners"></a>Statist<a id="marker-1093885"></a>ical Corners</h3>

<p>
<a id="pgfId-1095343"></a>After running Monte Carlo simulations, you can analyze the yield and identify the specifications for which the results need improvement. You can then create statistical corners to be used in further analysis and design optimization.</p>
<p>
<a id="pgfId-1093888"></a>You can create statistical corners by using any of the following methods:</p>
<ul><li>
<a id="pgfId-1093890"></a><a href="asmMC.html#_axlStatisticalCornerChoice">From a selected sample</a></li><li>
<a id="pgfId-1093892"></a><a href="asmMC.html#statsCornerFrmWorstSample">From a worst sample</a></li><li>
<a id="pgfId-1093894"></a><a href="asmMC.html#statsCornerFromPercentile">From a percentile</a></li></ul>


<p>
<a id="pgfId-1093895"></a>For the first method, you can use the <em>Create Statistical Corner</em> command in the right-click context-sensitive menu of the <em>Detail</em> or <em>Detail &#8211; Transpose</em> results views. The commands for these methods are available in the context-sensitive menu for the specification results in the <em>Yield</em> results view, as shown below.</p>

<p>
<a id="pgfId-1093900"></a></p>
<div class="webflare-div-image">
<img width="666" height="280" src="images/asmMC-15.gif" /></div>

<p>
<a id="pgfId-1093901"></a>For more details on these ways, refer to the topics given below.</p>

<h4><em>
<a id="pgfId-1093935"></a><a id="36317"></a>Creating a Sta<a id="_axlStatisticalCornerChoice"></a>tistical Corner with Statistical Parameter Values</em></h4>

<p>
<a id="pgfId-1096822"></a>You can create statistical corners in two ways, interactively or automatically.</p>
<p>
<a id="pgfId-1093936"></a>Creating Statistical Corners Interactively</p>
<p>
<a id="pgfId-1096782"></a>Use the interactive way to create statistical corners from any sample of an existing Monte Carlo run. For this, open the <code>Detail</code> or <code>Detail - Transpose</code> results view, right-click a point and choose <em>Create Statistical Corner</em> from the context-menu.</p>
<ul><li>
<a id="pgfId-1096852"></a>If you had saved statistical data by selecting the <em>Save Statistical Parameter Data</em> check box in the <a href="asmMC.html#MCOptions">Monte Carlo options form</a>, the following dialog box prompts you to choose a method to create a corner:<br />
<a id="pgfId-1096856"></a><div class="webflare-div-image">
<img src="images/axlStatsCorner_seqID.gif" /></div>
<a id="pgfId-1096857"></a>By default, the <em>Based on statistical parameter values</em> option is selected. Use this option if you expect to make changes in the design.</li><li>
<a id="pgfId-1096881"></a>If you did not save statistical data by selecting the <em>Save Statistical Parameter Data</em> check box in the <a href="asmMC.html#MCOptions">Monte Carlo options form</a>, values-based corner cannot be created. In this case, a sequence-based statistical corner is created without any additional prompt to select a method to create a corner.<br />
<a id="pgfId-1096873"></a>The sequence-based corner is named as <code>Stat_Seq_</code><span class="webflare-courier-new" style="white-space:pre"><em>&lt;seq_ID&gt;</em></span>, where <code>&lt;seq_ID&gt;</code> is the sequence ID of that sample. Whenever you re-simulate the design, Spectre re-creates the statistical corner based on the sequence ID.</li></ul>







<p>
<a id="pgfId-1097032"></a>You can also create a statistical corner for a particular point in the histogram for a specification. For this, <h-hot>plot a histogram</h-hot> for the desired specification, right-click a point for which you want to create a corner, and choose <em>Create Statistical Corner</em>. ADE Assembler creates a corner using the parameter values for that point.</p>
<p>
<a id="pgfId-1097057"></a>Creating Statistical Corners Automatically</p>
<p>
<a id="pgfId-1097043"></a>When the <em>Create Statistical Corners</em> check box is selected in the Monte Carlo options form, corners are automatically created at run time based on the selected Virtuoso Variation Option (VVO) method. In this case, values-based corners are created by default. You can change the default behavior by setting the <h-hot><a actuate="user" class="URL" href="../adexl/appEnvVars.html#createStatisticalCornerType" show="replace" xml:link="simple">createStatisticalCornerType</a></h-hot> environment variable, which is by default set to <code>&quot;auto&quot;</code>.</p>

<h4><em>
<a id="pgfId-1096558"></a>Important Points to Note</em></h4>

<ul><li>
<a id="pgfId-1096263"></a>Statistical corners created by using the statistical parameter values are more robust and do not need to be recreated if there are minor design changes. However, in this case, you need to save the statistical parameters while running the Monte Carlo simulations. Statistical corner saved using the sequence ID are not robust because if you make slight changes in the design, such as addition of a new device instance, Spectre can no longer re-create the same statistical parameter values that were created for the original Monte Carlo run using the sequence ID.</li><li>
<a id="pgfId-1097236"></a>You can change the default way of statistical corner creation by changing the value of the the <a actuate="user" class="URL" href="../adexl/appEnvVars.html#createStatisticalCornerType" show="replace" xml:link="simple">createStatisticalCornerType</a> environment variable. The default value is <code>&quot;auto&quot;</code>, which prompts you to choose the corner type when creating corners interactively (if statistical data is saved). Set this variable to <code>&quot;sequence&quot;</code> to always create a statistical corner by using a sequence ID of a sample. Set it to <code>&quot;values&quot;</code> to always create a statistical corner by using the statistical parameter values of a sample.</li></ul>


<h4>
<a id="pgfId-1097170"></a>Creating a Statist<a id="statsCornerFrmWorstSample"></a>ical Corner from a Worst Sample</h4>

<p>
<a id="pgfId-1097171"></a>In this method, ADE Assembler helps in identifying a sample that generated the worst result for a specification and creates a statistical corner using the sample details.</p>
<p>
<a id="pgfId-1097172"></a>To create a statistical corner from the worst sample, do the following:</p>
<ol><li>
<a id="pgfId-1097173"></a>Open the Monte Carlo results in the <em>Yield</em> view and identify the specification for which you need to improve the yield.</li><li>
<a id="pgfId-1097174"></a>Right-click the row for that specification and choose <em>Create Statistical Corner from Worst Sample</em>.</li></ol>

<p>
<a id="pgfId-1097175"></a>ADE Assembler looks into the simulation results to find a sample that gives the worst result for that specification and creates a statistical corner using that sample. The new corner is added it to the <em>Corners</em> list in the Data View assistant pane. The corner is named as <code>Stat_Seq_</code><span class="webflare-courier-new" style="white-space:pre"><em>&lt;seq_ID&gt;</em></span><code>_</code><span class="webflare-courier-new" style="white-space:pre"><em>&lt;spec_name&gt;</em></span>, where <code>&lt;seq_ID&gt;</code> is the sequence ID of that sample and <span class="webflare-courier-new" style="white-space:pre"><em>&lt;spec_name&gt;</em></span> is the name of the specification. For example, if you choose to create a corner for the worst sample for <code>UGF</code>, ADE Assembler creates a corner with the name <code>Stat_seq_40_UGF</code>, where the sequence ID of the sample is 40.</p>
<p>
<a id="pgfId-1097176"></a>Note the details of the statistical corner in the following figure.</p>

<p>
<a id="pgfId-1097181"></a></p>
<div class="webflare-div-image">
<img width="666" height="372" src="images/asmMC-17.gif" /></div>

<p>
<a id="pgfId-1097182"></a>The figure given above shows that ADE Assembler saves the sequence ID, seed, and other Monte Carlo settings to the statistical corner when simulating it. Using this information, the simulator can recreate the statistical parameter values for the corner. This type of corner is efficient and does not require saving all the statistical parameter data for each sample in Monte Carlo. However, one disadvantage is that some changes to the design topology, such as, addition of a new instance to the schematic, can invalidate the corner. In that case, the simulator cannot recreate the same set of statistical parameter values when simulating the statistical corner. You would then need to rerun the Monte Carlo simulation to recreate statistical corners.</p>
<p>
<a id="pgfId-1097183"></a>To avoid this, you can create statistical corners by directly saving the parameter values from the sample in the corner details and by not referring to any sequence ID. For more details, refer to <a href="asmMC.html#36317">Creating a Statistical Corner with Statistical Parameter Values</a>.</p>

<h4>
<a id="pgfId-1093954"></a>Creating a Statist<a id="statsCornerFromPercentile"></a>ical Corner from Percentile</h4>

<p>
<a id="pgfId-1093955"></a>In this method, you can create a corner for the nth worst percentile for a given specification. That is, a statistical corner is created from the Monte Carlo sample that gives the nth worst output for a specification.</p>
<p>
<a id="pgfId-1093956"></a>To create a statistical corner from percentile, right-click the output of a specification in the <em>Yield</em> view and choose <em>Create Statistical Corner from Percentile</em>. The Create Statistical Corner form is displayed, as shown in the following figure.</p>

<p>
<a id="pgfId-1093960"></a></p>
<div class="webflare-div-image">
<img src="images/MC_yield_view18.gif" /></div>

<p>
<a id="pgfId-1093961"></a>Specify a percentile value for which you want to create a sample and click OK.</p>
<p>
<a id="pgfId-1093962"></a>ADE Assembler creates a new statistical corner and adds it to the Corners node in the Data View assistant pane, as shown in the following figure.</p>

<p>
<a id="pgfId-1093967"></a></p>
<div class="webflare-div-image">
<img width="668" height="326" src="images/asmMC-19.gif" /></div>

<p>
<a id="pgfId-1093968"></a>The default name of a new statistical corner consists of a prefix <code>Stat_seq</code> followed by the sequence ID of the sample and the specification name. The tooltip for a corner displays the values for all corner conditions, names of the base specification and base corner, and the percentile value used to create that corner, as shown in the following figure.</p>

<p>
<a id="pgfId-1093981"></a></p>
<div class="webflare-div-image">
<img width="668" height="334" src="images/asmMC-20.gif" /></div>
<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1093982"></a>
If the specification type is <code>&lt;</code> or <code>&gt;</code>, only one statistical corner is created from the percentile. A &lt; specification type represents a corner larger than the average value. A &gt; specification type represents a corner smaller than the average value. If the specification type is <code>range</code> or if a specification is not defined, two corners are created&#8211;one in each direction.</div>

<p>
<a id="pgfId-1093983"></a>By default, the corner uses the sequence ID of the sample that gives the nth worst output for a specification. Using this information, the simulator can then recreate the statistical parameter values for the corner when simulating it. This type of corner is efficient and does not require saving all the statistical parameter data for each sample in Monte Carlo. However, one disadvantage is that some changes to the design topology, such as, addition of a new instance to the schematic, can invalidate the corner. In that case, the simulator cannot recreate the same set of statistical parameter values when simulating the statistical corner. You would then need to rerun the Monte Carlo simulation to recreate statistical corners.</p>
<p>
<a id="pgfId-1093984"></a>To avoid this, you can create statistical corners by directly saving the parameter values from the sample in the corner details and by not referring to any sequence ID. For more details, refer to <a href="asmMC.html#36317">Creating a Statistical Corner with Statistical Parameter Values</a>.</p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1093988"></a>
A statistical corner is enabled only for the test associated with the specification for which the corner is created.</div>
<h4>
<a id="pgfId-1080171"></a>Creating Statistical<a id="Ksigma"></a> Corners by Using Target Yield Value (Specified in Sigma)</h4>

<p>
<a id="pgfId-1080198"></a>This is a fast method to create 3-sigma or user-specified sigma statistical corners without requiring a large number of Monte Carlo samples.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1080239"></a>Creating statistical parameters by this method requires the <code>Virtuoso Variation Option</code> license. For more details, refer to <a actuate="user" class="URL" href="../vvoUG/vvoMCPostProc.html#ksigmaCorner" show="replace" xml:link="simple">Creating a K-Sigma Statistical Corner</a> in <em>Virtuoso Variation Aware User Guide</em>.</div>

<h3>
<a id="pgfId-1098416"></a>Displaying Statistical Parame<a id="statVars"></a>ters of Statistical Corners</h3>

<p>
<a id="pgfId-1098417"></a>After you create the statistical corners, you can view them in the Corners section of the Setup assistant. You can also view them in the Corner Setup form, as shown in the figure below:</p>
<p>
<a id="pgfId-1098412"></a></p>

<div class="webflare-div-image">
<img src="images/StatCorners_CornerSetup.gif" /></div>

<p>
<a id="pgfId-1098553"></a>The <em>Design Variables </em>row displays the statistical parameters count in the <code>x stat vars</code> format, where <code>x</code> indicates the number of statistical parameters. To view the complete list of these parameters, double-click in the <em>Design Variables </em>cell for a statistical corner. An editor window appears that displays the complete list of statistical parameters, as shown in the figure above.</p>

<h3>
<a id="pgfId-1081676"></a><a id="39748"></a>Filtering <a id="filterMCData"></a>Out Data from the Yield View</h3>

<p>
<a id="pgfId-1081677"></a>By default, the statistical calculations displayed in the <em>Yield</em> view are based on all the points in Monte Carlo results. However, you can filter out and eliminate the points that were either partially complete or they resulted in simulation or evaluation errors so that the yield estimate is calculated only on the points for which simulation was successfully completed.</p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1081615"></a>
A typical Monte Carlo error point represents a real failure of the design. Therefore, it is recommended to filter the error points only when it is certain that the error points are invalid.</div>

<p>
<a id="pgfId-1093999"></a>To apply a filter in the <em>Yield</em> view, right-click the gray-colored row at the top and choose <em>Filter Points from Yield Estimate</em>. </p>

<h2>
<a id="pgfId-1094033"></a><a id="73898"></a>Generating Plots, Tables, and Reports</h2>

<p>
<a id="pgfId-1094034"></a>ADE Assembler provides the following post-processing commands that you can use to print and plot the results data in different ways that suit your data analysis requirements:</p>
<ul><li>
<a id="pgfId-1090856"></a><em>Plot/Print versus Iteration</em></li><li>
<a id="pgfId-1090884"></a><em>Print Correlation Tables</em></li><li>
<a id="pgfId-1090891"></a><em>Histogram</em></li><li>
<a id="pgfId-1090898"></a><em>Scatter Plot</em></li></ul>



<p>
<a id="pgfId-1090874"></a>You can find these commands in any of the following ways:</p>
<ul><li>
<a id="pgfId-1090802"></a>Click <img src="images/iconMCPostProcessingOptions.gif" /><span> on the Results tab, select a test and choose the required command.</span></li><li>
<a id="pgfId-1090827"></a>Open the <em><a href="asmViewingResults.html#YieldView">Yield</a></em> results view, right-click a test name, and choose the required command.</li></ul>


<p>
<a id="pgfId-1093798"></a>For details on these commands, refer to <h-hot><a actuate="user" class="URL" href="../Explorer/chap8.html#MCPlots" show="replace" xml:link="simple">Generating Plots, Tables, and Reports</a></h-hot> in Virtuoso ADE Explorer User Guide.</p>

<h2>
<a id="pgfId-1093801"></a><a id="55484"></a>Saving Monte Carlo R<a id="axlMCWriteResultsForm"></a>esults in CSV Format</h2>

<p>
<a id="pgfId-1093802"></a>After a Monte Carlo run is complete, you can save the results in CSV format. ADE Assembler saves the results for each corner in a separate<code>.csv</code> file. For this, do the following:</p>
<ul><li>
<a id="pgfId-1093803"></a>In the History tab on the Data View pane, right-click a Monte Carlo run history and choose <em>Export Data to CSV</em>.<br />
<a id="pgfId-1093804"></a>The Export Monte Carlo Data to CSV form is displayed.<br />
<a id="pgfId-1093808"></a><div class="webflare-div-image">
<img width="668" height="129" src="images/asmMC-23.gif" /></div>
<a id="pgfId-1093809"></a>The <em>Directory</em> field shows the default directory, <span class="webflare-courier-new" style="white-space:pre"><em>&lt;path-to-the-maestro-view-dir&gt;</em></span><code>/documents</code>, where the <code>.csv</code> files are saved. If required, you can change this path and click <em>OK</em>.<br />
<a id="pgfId-1093810"></a>ADE Assembler exports the output data for each corner in a separate <code>.csv</code> file and saves it in the specified directory. The names of these <code>.csv</code> files are also listed in the <em>Documents</em> list in the Data View assistant.<br />
<a id="pgfId-1093814"></a><div class="webflare-div-image">
<img width="668" height="280" src="images/asmMC-24.gif" /></div>
<a id="pgfId-1093815"></a>To open a <code>.csv</code> file fro the ADE Assembler window, right-click a file in the Data View assistant and choose <em>Open</em>. The file is opened in the default text editor.<br />
<a id="pgfId-1092137"></a>To export CSV from a SKILL script, see <a actuate="user" class="URL" href="../adexlSKILLref/historyRelated.html#axlWriteMonteCarloResultsCSV" show="replace" xml:link="simple">axlWriteMonteCarloResultsCSV</a>.</li></ul>














<h2>
<a id="pgfId-1094279"></a><a id="10890"></a>Advanced Monte Carlo Methods</h2>

<p>
<a id="pgfId-1094386"></a>When you have the have the <code>Virtuoso Variation Option</code> (VVO) license, you can use the following advanced methods that are available on the Monte Carlo run options form:</p>
<ul><li>
<a id="pgfId-1094303"></a><a actuate="user" class="URL" href="../vvoUG/vvoMCPostProc.html#yieldVer" show="replace" xml:link="simple">Yield verification using sample reordering</a> - to verify the yield without simulating such a large number of samples</li><li>
<a id="pgfId-1094398"></a><a actuate="user" class="URL" href="../vvoUG/vvoMCPostProc.html#sssmethod" show="replace" xml:link="simple">Scaled-sigma sampling method</a> - for estimation of a high yield (&gt; 3 sigma) by generating samples where the standard deviation has been scaled up.</li><li>
<a id="pgfId-1094527"></a><a actuate="user" class="URL" href="../vvoUG/vvoMCPostProc.html#wcdmethod" show="replace" xml:link="simple">Worst case distance method</a> - for estimation of a high yield (&gt; 3 sigma) by finding the shortest distance, also called the Worst Case Distance or WCD, from the nominal point to the specification boundary in the process/mismatch parameter space.</li><li>
<a id="pgfId-1094616"></a><a actuate="user" class="URL" href="../vvoUG/vvoMCPostProc.html#ksigmaCorner" show="replace" xml:link="simple">K-sigma corners method</a> - for fast creation of statistical corners when the number of statistical parameters is large (&gt; 1000)</li><li>
<a id="pgfId-1094628"></a><a actuate="user" class="URL" href="../vvoUG/vvoMCPostProc.html#WorstSamples" show="replace" xml:link="simple">Worst samples method</a> - for an accurate set of statistical corners</li><li>
<a id="pgfId-1094692"></a><a actuate="user" class="URL" href="../vvoUG/vvoMCPostProc.html#mismatchContriAnalysis" show="replace" xml:link="simple">Sensitivity Accuracy method for mismatch variation</a> - to identify the devices that are important contributors to mismatch variation and to make the design less sensitive to mismatch variation.</li></ul>





<p>
<a id="pgfId-1094642"></a>For more information about these methods, refer to the <h-hot><a actuate="user" class="URL" href="../vvoUG/vvoUGTOC.html#firstpage" show="replace" xml:link="simple">Virtuoso Variation Option User Guide</a></h-hot>.</p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="asmReliabilityAnalysis.html" id="prev" title="Performing Reliability Analysis">Performing Reliability Analysi ...</a></em></b><b><em><a href="asmWorkingSetup.html" id="nex" title="Working with the Simulation Setup">Working with the Simulation Se ...</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2020, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>