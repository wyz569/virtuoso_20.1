
<html><head><title>Analyses</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="kamal" />
<meta name="CreateDate" content="2020-06-16" />
<meta name="CreateTime" content="1592307305" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the Spectre Circuit Simulator." />
<meta name="DocTitle" content="Spectre Classic Simulator, Spectre APS, Spectre X, and Spectre XPS User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Analyses" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.2" />
<meta name="Keyword" content="spectreuser" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2020-06-16" />
<meta name="ModifiedTime" content="1592307305" />
<meta name="NextFile" content="chap8.html" />
<meta name="Order" content="1" />
<meta name="Group" content="Spectre Simulator" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="chap6.html" />
<meta name="c_product" content="Spectre" />
<meta name="Product" content="Spectre" />
<meta name="ProductFamily" content="Spectre" />
<meta name="ProductVersion" content="19.1" />
<meta name="RightsManagement" content="Copyright 2012-2020 Cadence Design Systems Inc." />
<meta name="Title" content="Spectre Classic Simulator, Spectre APS, Spectre X, and Spectre XPS User Guide -- Analyses" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="Version" content="19.1" />
<meta name="SpaceKey" content="spectreuser191" />
<meta name="webflare-version" content="2.0" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="spectreuserTOC.html">Contents</a></li><li><a class="prev" href="chap6.html" title="Modeling for Signal Integrity">Modeling for Signal Integrity</a></li><li style="float: right;"><a class="viewPrint" href="spectreuser.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="chap8.html" title="Control Statements">Control Statements</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Spectre Classic Simulator, Spectre APS, Spectre X, and Spectre XPS User Guide<br />Product Version 19.1, June 2020</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>10
<a id="pgfId-122208"></a></h1>
<h1>
<a id="pgfId-846075"></a><hr />
<a id="18192"></a>Analyses<hr />
</h1>

<p>
<a id="pgfId-830726"></a>This chapter discusses the following topics:</p>
<ul><li>
<a id="pgfId-830601"></a><a href="chap7.html#37522">Types of Analyses</a></li><li>
<a id="pgfId-836251"></a><a href="chap7.html#29267">Analysis Parameters</a></li><li>
<a id="pgfId-840057"></a><a href="chap7.html#11575">Probes in Analyses</a></li><li>
<a id="pgfId-840662"></a><a href="chap7.html#37817">Multiple Analyses</a></li><li>
<a id="pgfId-840666"></a><a href="chap7.html#14162">Multiple Analyses in a Subcircuit</a></li><li>
<a id="pgfId-840654"></a><a href="chap7.html#22741">DC Analysis</a></li><li>
<a id="pgfId-840655"></a><a href="chap7.html#30539">AC Analysis</a></li><li>
<a id="pgfId-840680"></a><a href="chap7.html#25431">Transient Analysis</a></li><li>
<a id="pgfId-932425"></a><a href="chap7.html#54815">Fault Analysis</a></li><li>
<a id="pgfId-850007"></a><a href="chap7.html#59567">Pole Zero Analysis</a></li><li>
<a id="pgfId-879188"></a><a href="chap7.html#29572">Loopfinder Analysis</a></li><li>
<a id="pgfId-840673"></a><a href="chap7.html#17816">Other Analyses (sens, fourier, dcmatch, and stb)</a></li><li>
<a id="pgfId-840687"></a><a href="chap7.html#20862">Advanced Analyses (sweep and montecarlo)</a></li><li>
<a id="pgfId-840698"></a><a href="chap7.html#52078">Spectre Reliability Analysis</a></li><li>
<a id="pgfId-932447"></a><a href="chap7.html#21857">SpectreThermal Analysis</a></li></ul>















<h2>
<a id="pgfId-122201"></a><a id="37522"></a><a id="13439"></a>Types of Analyses<a id="marker-127374"></a></h2>

<p>
<a id="pgfId-122350"></a>This section gives a brief description of the Spectre<sup>&#174;</sup> circuit simulator analyses you can specify. Spectre analyses frequently let you sweep parameters, estimate or specify the DC solution, specify options that promote convergence, and select annotation options. You can specify sequences of analyses, any number in any order. For a more detailed description of each analysis and its parameters, consult the Spectre online help (<code>spectre -h</code>).</p>
<ul><li>
<a id="pgfId-840706"></a>DC ana<a id="marker-840705"></a>lysis (<code>dc</code>)&#8212;Finds the DC operating point or DC transfer curves of the circuit. </li><li>
<a id="pgfId-840818"></a>AC/small signal analyses<ul><li>
<a id="pgfId-122351"></a>AC ana<a id="marker-127375"></a>lysis (<code>ac</code>)&#8212;Linearizes the circuit about the DC operating point and computes the steady-state response of the circuit to a given small-signal sinusoidal stimulus. This analysis is useful for obtaining small-signal transfer functions.</li><li>
<a id="pgfId-840720"></a>Noise analy<a id="marker-840719"></a>sis (<code>noise</code>)&#8212;Linearizes the circuit about the DC operating point and computes the total-noise spectral density at the output. The output can be either a voltage or a current. If you specify an input probe, the Spectre simulator computes the transfer function and the equivalent input-referred noise for a noise-free network.</li><li>
<a id="pgfId-840734"></a>Transfer fun<a id="marker-840733"></a><a id="marker-843667"></a>ction analysis (<code>xf</code>)&#8212;Linearizes the circuit about the DC operating point and performs a small-signal analysis. It calculates the transfer function from every source in the circuit to a specified output. The output can be either a voltage or a current.</li><li>
<a id="pgfId-840742"></a>S-paramet<a id="marker-840741"></a>er analysis (<code>sp</code>)&#8212;Linearizes the circuit about the DC operating point and computes S-parameters of the circuit taken as an N-port. You define the ports of the circuit with <code>port</code> statements. You must place at least one <code>port</code> statement in the circuit. The Spectre simulator turns on each port sequentially and performs a linear small-signal analysis. The Spectre simulator converts the response of the circuit at each port into S-parameters.</li></ul></li><li>
<a id="pgfId-840839"></a>Transient analyses<ul><li>
<a id="pgfId-840846"></a>Transi<a id="marker-885495"></a>ent analysis (<code>tran</code>)&#8212;Computes the transient response of the circuit over a specified time interval. You can specify initial conditions for this analysis. If you do not specify initial conditions, the analysis starts from the DC steady-state solution. You can influence the speed of the simulation by setting parameters that control accuracy requirements and the number of data points saved. For more information about the transient analysis, see <a href="chap7.html#25431">Transient Analysis</a>.</li><li>
<a id="pgfId-840857"></a>Time-do<a id="marker-885497"></a><a id="marker-885498"></a>main reflectometer analysis (<code>tdr</code>)&#8212;Linearizes the circuit about the DC operating point and computes the reflection and transmission coefficients versus time. This is the time-domain equivalent of the S-parameter analysis.</li></ul></li><li>
<a id="pgfId-840819"></a>Pole Zero analysis (<code>pz</code>)&#8212; Linearizes the circuit about the DC operating point and computes the poles and zeros of the linearized network.</li><li>
<a id="pgfId-850451"></a>RF analyses<ul><li>
<a id="pgfId-840022"></a>Envelope Analysis (envlp) &#8212; Computes the envelope response of a circuit. The simulator automatically determines the clock period by looking through all the sources with the specified name. Envelope-following analysis is most efficient for circuits where the modulation bandwidth is orders of magnitude lower than the clock frequency. This is typically the case, for example, in circuits where the clock is the only fast varying signal and other input signals have a spectrum whose frequency range is orders of magnitude lower than the clock frequency. For another example, the down conversion of two closely placed frequencies can also generate a slow-varying modulation envelope. The analysis generates two types of output files, a voltage versus time (td) file, and an amplitude/phase versus time (fd) file for each of specified harmonic of the clock fundamental.</li><li>
<a id="pgfId-857580"></a>Harmonic Balance Steady State Analysis (HB) &#8212; Uses harmonic balance (in the frequency domain) to compute the response of circuits that have either one fundamental frequency (periodic steady-state, PSS) or that have multiple fundamental frequencies (Quasi-Periodic Steady State, QPSS). The simulation time required for an HB analysis is independent of the time-constants of the circuit. This analysis also determines the circuit&#8217;s periodic or quasi-periodic operating point, which can then be used during a periodic or quasi-periodic time-varying small-signal analysis, such as HBAC or HBnoise.</li><li>
<a id="pgfId-840781"></a>Periodic Analyses &#8212; Spectre RF adds periodic large (PSS) and small-signal analyses (PAC, PSP, PXF, Pnoise, and Pstb) to Spectre simulation.</li><li>
<a id="pgfId-840784"></a>Quasi-Periodic Analyses &#8212; Spectre RF adds quasi-periodic large (QPSS) and small-signal analyses (QPAC, QPSP, QPXF, and QPnoise) to Spectre L simulation. For more information about the quasi-periodic analyses.</li></ul></li><li>
<a id="pgfId-840820"></a>Other analyses<ul><li>
<a id="pgfId-841977"></a>Sensitivity analysis (<code>sens</code>)&#8212;Determines the sensitivity of output variables to input design parameters. The results are expressed as a ratio of the change in an output analysis variable to the change in an input design parameter. The output for the <code>sens</code> command is sent to the rawfile or to an ASCII file. For more information about sensitivity analysis, see &#8220;<a href="chap7.html#32788">Sensitivity Analysis</a>&#8221;.</li><li>
<a id="pgfId-862807"></a>Fourier analysis (<code>fourier</code>)&#8212;Measures the Fourier coefficients of two different signals at a specified fundamental frequency without loading the circuit. The algorithm used is based on the Fourier integral rather than the discrete Fourier transform and therefore is not subject to aliasing. Even on broad-band signals, it computes a small number of Fourier coefficients accurately and efficiently. Therefore, this Fourier analysis is suitable on clocked sinusoids generated by sigma-delta converters, pulse-width modulators, digital-to-analog converters, sample-and-holds, and switched-capacitor filters as well as on the traditional low-distortion sinusoids produced by amplifiers or filters.</li><li>
<a id="pgfId-862808"></a>DC Match Analysis (<code>dcmatch</code>)&#8212;Computes the statistical deviation in the DC operating point of the circuit caused by device mismatch. For more information about the dcmatch analysis, see <a href="chap7.html#28552">DC Match Analysis</a></li><li>
<a id="pgfId-843694"></a>Stability Analysis (stb)&#8212;Linearizes the circuit about the DC operating point and computes loop gain, gain margin, and phase margin for a specific feedback loop or an active device. The stability of the circuit can be determined from the loop gain waveform. The <code>probe</code> parameter must be specified to perform stability analysis.</li></ul></li><li>
<a id="pgfId-840821"></a>Advanced analyses<ul><li>
<a id="pgfId-840804"></a>Sweep analysis (<code>sweep</code>)&#8212;Sweeps a parameter executing a list of analyses (or multiple analyses) for each value of the parameter. The sweeps can be linear or logarithmic. Swept parameters return to their original values after the analysis. Sweep statements can be nested. For more information about the sweep analysis, see <a href="chap7.html#32694">Sweep Analysis</a>.</li><li>
<a id="pgfId-855613"></a>Mon<a id="marker-855612"></a>te Carlo analysis (<code>montecarlo</code>)&#8212;Varies netlist parameters according to specified distributions and correlations, runs nested child analyses, and extracts specified circuit-performance measurements. You can apply both process and device-to-device mismatch variations and tag device instances as correlated or &#8220;matched pairs.&#8221; Use the Cadence analog circuit design environment Calculator expressions to measure the circuit performance. You can use the analog design environment graphics tools to plot scalar performance data, such as slew rates and bandwidths, as a histogram or scattergram. You can also display waveform data as cloud (family) plots. For more information about the Monte Carlo analysis, see <a href="chap7.html#39422">Monte Carlo Analysis</a>. For more information about using the Monte Carlo analysis with the analog design environment, see the <em>Advanced Analysis Tools User Guide</em>.</li></ul></li><li>
<a id="pgfId-840822"></a>Hot-electron degradation analysis&#8212;Lets you control the age of the circuit when simulating hot-electron degradation. For more information about the hot-electron degradation analysis, see &#8220;Special Analysis (Hot-Electron Degradation)&#8221;</li></ul>
























<h2>
<a id="pgfId-123098"></a><a id="29267"></a>Analysis Parameters<a id="marker-127416"></a></h2>

<p>
<a id="pgfId-143381"></a>You specify parameter values for analysis and control statements just as you specify those for component and model statements, but many analysis parameters have no assigned default values. You must assign values to these parameters if you want to use them. To assign values to these parameters, simply follow the parameter keyword with an equal sign (<code>=</code>) and your selected value. For example, to set the points per decade (<code>dec</code>) value to 10, you enter <code>dec=10</code>.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-143382"></a>Some parameters require text strings, usually filenames, as values. You must enclose these text strings in quotation marks to use them as parameter values.</div>
<p>
<a id="pgfId-122251"></a>When analysis parameters do have default values, these values are given in the parameter listings for that analysis in the Spectre online help (<code>spectre -h</code>).</p>
<p>
<a id="pgfId-122241"></a>A listing like the following tells you that the defa<a id="marker-127423"></a>ult value for parameter <code>lin</code> is 50 steps:</p>
<table class="webflareTable" id="#id876960">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-876962"></a><code>lin=50</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-876964"></a>Emission coefficient parameters </p>
</td>
</tr>
</tbody></table>

<h3>
<a id="pgfId-870883"></a><a id="60204"></a>Specifying Parameter Defaults in a File</h3>

<p>
<a id="pgfId-870897"></a>You can use the <code>+paramdefault</code> command-line option to enable Spectre to read and apply the default values of parameters from a specified file. This enables you to specify the default values of the analysis parameters without the need to modify the netlist.</p>
<p>
<a id="pgfId-871067"></a>The syntax to specify the <code>+paramdefault</code> command-line option is as follows:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-870911"></a>% spectre +paramdefault &lt;<code><em>filename</em></code>&gt; ....</pre>

<p>
<a id="pgfId-870935"></a>&lt;<span class="webflare-courier-new" style="white-space:pre"><em>filename</em></span>&gt; is the name of the file containing the default values for parameters. The file should contain only the primitive analysis name (and/or option analysis), parameter name, and parameter value in one line. The following is an example of a parameter default file:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-870968"></a># Example comment for parameter defaults</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-870970"></a>tran compression wildcardonly</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-870971"></a>tran annotate estimated</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-870972"></a>options wfmaxsize 30GB</pre>

<p>
<a id="pgfId-870954"></a>The parameter value can be a string or double. For double values, scientific notation (for example, 1.54E+06) and unit suffix (for example, 1.54M) are supported. Expressions are not supported.</p>
<p>
<a id="pgfId-871080"></a>Spectre reads the parameter defaults from the specified file and applies them before applying the netlist parameters. Therefore, if the same parameter is specified in the netlist, it will have higher priority.</p>
<p>
<a id="pgfId-871280"></a>You can use the <code>+paramdefault</code> command-line option multiple times to specify multiple files. For example,</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-871305"></a>% spectre +paramdefault file1 +paramdefault file2</pre>

<p>
<a id="pgfId-871291"></a>You can use the <code>=paramdefault &lt;</code><span class="webflare-courier-new" style="white-space:pre"><em>filename</em></span><code>&gt;</code> command-line option to read the specified file and ignore all previously specified files. The <code>=paramdefault</code> command-line option ignores only those files (specified using the <code>+paramdefault</code> command-line option) that are specified before it at the command line. For example:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-871366"></a>% spectre +paramdefault file1 =paramdefault file2 +paramdefault file3</pre>

<p>
<a id="pgfId-871392"></a>In the above example, only <code>file1</code> will be ignored because it has been specified before the <code>=paramdefault</code> option.</p>
<p>
<a id="pgfId-871336"></a>You can use the <code>-paramdefault</code> command-line option to disable the reading of any parameter defaults specified.</p>

<h2>
<a id="pgfId-871295"></a><a id="11575"></a>Prob<a id="marker-871293"></a>es in Analyses</h2>

<p>
<a id="pgfId-840073"></a>Some Spectre analyses require that you set probes. Remember the following guidelines when you set probes:</p>
<ul><li>
<a id="pgfId-840074"></a>You can name any component instance as a probe.</li><li>
<a id="pgfId-840075"></a>If the probe component measures a branch current, you can use it as either a current probe or a voltage probe. Component instances that do not calculate branch currents can be used only as voltage probes.</li><li>
<a id="pgfId-840076"></a>If the probe component has more than two terminals, you specify which pair of terminals to use as the probe by specifying a port of the probe. In the following instance statement, port 1 is nodes 5 and 8, and port 2 is nodes 2 and 4.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id840077">
<a id="pgfId-840077"></a>bjt1 5 8 2 4 bmod1</pre></li><li>
<a id="pgfId-840078"></a>If the probe component measures more than one branch current, you specify which branch current to use as the probe by specifying a port. In the following instance statement, current port 1 is the branch from node 4 to node 5, and port 2 is the branch from node 8 to node 9.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id840079">
<a id="pgfId-840079"></a>tline2 4 5 8 9 tline</pre></li><li>
<a id="pgfId-840080"></a>Every component has a default probe type and port number.</li></ul>






<p>
<a id="pgfId-840081"></a>In the following example, the netlist contains a resistor named <code>Rocm</code> and a voltage source named <code>Vcm</code>. These components are used as probes for the <code>noise</code> analysis statement. The parameters <code>oprobe</code> and <code>iprobe</code> specify the probe components, and the parameters <code>oportv</code> and <code>iportv</code> specify the port numbers.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-840082"></a>cmNoise noise start=1k stop=1G dec=10 oprobe=Rocm oportv=1 iprobe=Vcm iportv=1</pre>
<h2>
<a id="pgfId-840890"></a><a id="37817"></a>Mu<a id="marker-840889"></a>ltiple Analyses</h2>

<p>
<a id="pgfId-840895"></a><a id="21972"></a>This netlist demonstrates the Spectre simulator&#8217;s ability to run many analyses in the order you prefer. In this example, the Spectre simulator completely characterizes an operational amplifier in one run. In analysis <code>OpPoint</code>, the program computes the DC solution and saves it to a state file whose name is derived from the name of the netlist file. On subsequent runs, the Spectre simulator reads the state information contained in this state file and speeds analysis by using this state information as an initial estimate of the solution. </p>
<p>
<a id="pgfId-840897"></a>Analysis <code>Drift</code><a id="marker-876317"></a> computes DC solutions as a function of temperature. The Spectre simulator computes the solution at the initial temperature and saves this solution to a state file to use as an estimate in the next analysis and in subsequent simulations. </p>
<p>
<a id="pgfId-876322"></a>Analysis <code>XferVsTemp</code> computes the small-signal characteristics of the amplifier versus temperature. Analysis <code>XferVsTemp</code> starts up quickly because it begins with the initial temperature of the DC solution that was placed in a state file by the previous analysis. </p>
<p>
<a id="pgfId-876323"></a>Analysis <code>LoopGain</code><a id="marker-876326"></a> computes the loop gain of an amplifier in closed-loop configuration. Analysis <code>LoopGain</code> starts quickly because it begins with the initial temperature of the DC solution that was placed in a state file during analysis <code>OpPoint</code>. </p>
<p>
<a id="pgfId-840902"></a>Analysis <code>XferVsFreq</code> computes several small-signal quantities of interest such as closed-loop gain, the rejection ratio of the positive and negative power supply, and output resistance. The analysis again starts quickly because the operating point remains from the previous analysis. <a id="marker-876308"></a></p>
<p>
<a id="pgfId-840906"></a>Analysis <code>StepResponse</code> computes the step response that permits the measurement of the slew-rate and settling times. The <code>alter</code> statement <code>please4</code> then changes the input stimulus from a pulse to a sine wave. Finally, the Spectre simulator computes the response to a sine wave in order to calculate distortion.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-840907"></a>// ua741 operational amplifier</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-840908"></a>global gnd vcc vee<br />simulator lang=spectre</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-840909"></a>Spectre options audit=detailed limit=delta maxdeltav=0.3 \
&#160;&#160;&#160;&#160;save=lvlpub nestlvl=1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-840910"></a>// ua741 operational amplifier
model NPNdiode  diode   is=.1f  imax=5m
model NPNbjt    bjt type=npn bf=80 vaf=50 imax=5m \
&#160;&#160;&#160;&#160;cje=3p cjc=2p cjs=2p tf=.3n tr=6n rb=100
model PNPbjt    bjt type=pnp bf=10 vaf=50 imax=5m \
&#160;&#160;&#160;&#160;cje=6p cjc=4p tf=1n tr=20n rb=20</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-840911"></a>subckt ua741 (pIn nIn out)
// Transistors
&#160;&#160;&#160;&#160;Q1 1 pIn 3 vee NPNbjt
&#160;&#160;&#160;&#160;Q2 1 nIn 2 vee NPNbjt
&#160;&#160;&#160;&#160;Q3 5 16 3 vcc PNPbjt
&#160;&#160;&#160;&#160;Q4 4 16 2 vcc PNPbjt
&#160;&#160;&#160;&#160;Q5 5 8 7 vee NPNbjt
&#160;&#160;&#160;&#160;Q6 4 8 6 vee NPNbjt
&#160;&#160;&#160;&#160;Q7  vcc 5 8 vee NPNbjt
&#160;&#160;&#160;&#160;Q9  16 1 vcc vcc PNPbjt
&#160;&#160;&#160;&#160;Q14 vcc 13 15 vee NPNbjt
&#160;&#160;&#160;&#160;Q16 vcc 4 9 vee NPNbjt
&#160;&#160;&#160;&#160;Q17 11 9 10 vee NPNbjt
&#160;&#160;&#160;&#160;Q18 13 12 17 vee NPNbjt
&#160;&#160;&#160;&#160;Q20 vee 17 14 vcc PNPbjt
&#160;&#160;&#160;&#160;Q23 vee 11 17 vcc PNPbjt</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-840912"></a>// Diodes
&#160;&#160;&#160;&#160;Q8  vcc 1 NPNdiode
&#160;&#160;&#160;&#160;Q19 13 12 NPNdiode</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-840913"></a>// Resistors
&#160;&#160;&#160;&#160;R1  7 vee resistor r=1k
&#160;&#160;&#160;&#160;R2  6 vee resistor r=1k
&#160;&#160;&#160;&#160;R3  8 vee resistor r=50k
&#160;&#160;&#160;&#160;R4  9 vee resistor r=50k
&#160;&#160;&#160;&#160;R5  10 vee resistor r=100
&#160;&#160;&#160;&#160;R6  12 17 resistor r=40k
&#160;&#160;&#160;&#160;R8  15 out resistor r=27
&#160;&#160;&#160;&#160;R9&#160;&#160;14 out resistor r=22</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-840914"></a>// Capacitors
&#160;&#160;&#160;&#160;C1&#160;&#160;4 11 capacitor c=30p</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-840915"></a>// Current Sources
&#160;&#160;&#160;&#160;I1  16 vee isource dc=19u
&#160;&#160;&#160;&#160;I2  vcc 11 isource dc=550u
&#160;&#160;&#160;&#160;I3  vcc 13 isource dc=180u<br />ends ua741</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-840916"></a>// Sources
Vpos&#160;&#160;&#160;&#160; vcc gnd vsource dc=15<br />Vneg&#160;&#160;&#160;&#160; vee gnd vsource dc=-15<br />Vin&#160;&#160;&#160;&#160; pin gnd vsource type=pulse dc=0 \<br />  val0=0 val1=10 width=100u period=200u rise=2u\<br />  fall=2u td1=0 tau1=20u td2=100u tau2=100u \<br />  freq=10k ampl=10 delay=5u \<br />  file=&quot;sine10&quot; scale=10.0 stretch=200.0e-6<br />Vfb&#160;&#160;&#160;&#160; nin out vsource</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-840917"></a>// Op Amps<br />OA1&#160;&#160;   pin nin out ua741</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-840918"></a>// Resistors<br />Rload&#160;&#160; out gnd resistor r=10k</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-840919"></a>// Analyses</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-840920"></a>// DC operating point
&#160;&#160;&#160;&#160; please1 alter param=temp value=25 annotate=no
&#160;&#160;&#160;&#160; OpPoint dc print=yes readns=&quot;%C:r.dc25&quot;
&#160;&#160;&#160;&#160; write=&quot;%C:r.dc25&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-840921"></a>// Temperature Dependence
&#160;&#160;&#160;&#160;Drift dc start=0 stop=50.0 step=1 param=temp \
&#160;&#160;&#160;&#160; readns=&quot;%C:r.dc0&quot; write=&quot;%C:r.dc0&quot;<br /> XferVsTemp xf start=0 stop=50 step=1 probe=Rload \<br />  param=temp freq=1kHz readns=&quot;%C:r.dc0&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-840922"></a>// Gain
&#160;&#160;&#160;&#160;please2 alter dev=Vfb param=mag value=1 annotate=no
&#160;&#160;&#160;&#160;LoopGain ac start=1 stop=10M dec=10 readns=&quot;%C:r.dc25&quot;
&#160;&#160;&#160;&#160;please3 alter dev=Vfb param=mag value=0 annotate=no</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-840923"></a>// XF
&#160;&#160;&#160;&#160;XferVsFreq xf start=1_Hz stop=10M dec=10 probe=Rload</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-840924"></a>// Transient
&#160;&#160;&#160;&#160;StepResponse tran stop=250u
&#160;&#160;&#160;&#160;please4 alter dev=Vin param=type value=sine
&#160;&#160;&#160;&#160;SineResponse tran stop=150u </pre>
<h2>
<a id="pgfId-840926"></a><a id="14162"></a>Multiple Analyses in a Subcircuit</h2>

<p>
<a id="pgfId-840927"></a>You might want to run complex sets of analyses many times during a simulation. To simplify this process, you can group the set of analyses into a subcircuit. Because subcircuit definitions can contain analyses and control statements, you can put the analyses inside a single subcircuit and perform the multiple analyses with one call to the subcircuit. The Spectre simulator performs the analyses in the order you specify them in the subcircuit definition. Generally, you do not mix components and analyses in the same subcircuit definition. For more information about formats for subcircuit definitions and subcircuit calls, see <h-hot>Chapter 7, &#8220;Analyses.&#8221;</h-hot></p>

<h3>
<a id="pgfId-840931"></a>Example</h3>

<p>
<a id="pgfId-840932"></a>The following example illustrates how to create and call subcircuits that contain analyses.</p>

<h4>
<a id="pgfId-840935"></a>Creati<a id="marker-840933"></a>ng Analysis Subcircuits</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-840936"></a>subckt sweepVcc()
&#160;&#160;&#160;&#160;parameters start=0 stop=10 Ib=0 omega=1G steps=100
&#160;&#160;&#160;&#160;setIbb alter dev=Ibb param=dc value=Ib
&#160;&#160;&#160;&#160;SwpVccDC dc start=start stop=stop dev=Vcc lin=steps/2SwpVccAC ac dev=Vcc start=start stop=stop lin=steps \freq=omega/6.283185<br />ends sweepVcc</pre>

<p>
<a id="pgfId-840937"></a>This example defines a subcircuit called <code>sweepVcc</code> that contains the following:</p>
<ul><li>
<a id="pgfId-840938"></a>A list of parameters with default values for <code>start</code>, <code>stop</code>, <code>Ib</code>, <code>omega</code>, and <code>steps</code><br />
<a id="pgfId-840939"></a>This list of defaults is optional.<br />
<a id="pgfId-840940"></a>These defaults are for the subcircuit call. For example, if you call <code>sweepVcc</code> and do not specify values for the <code>start</code> and <code>stop</code> parameters in the subcircuit call, the sweeps for analyses <code>SwpVccDC</code> and <code>SwpVccAC</code> start at 0 and end at 10, the values specified as defaults. If, however, you specify <code>start=1</code> and <code>stop=5</code> as parameter values in the subcircuit call, the <code>start</code> and <code>stop</code> parameters in <code>SwpVccDC</code> and <code>SwpVccAC</code> take the values 1 and 5, respectively.</li><li>
<a id="pgfId-840941"></a>A control statement, <code>setIbb</code>, which alters the <code>dc</code> parameter of the component named <code>Ibb</code> to the numerical value of <code>Ib</code> </li><li>
<a id="pgfId-840942"></a>Two analysis statements, <code>SwpVccDC</code> and <code>SwpVccAC</code>, which run a DC analysis followed by an AC analysis</li></ul>





<h4>
<a id="pgfId-840945"></a>Calling Analys<a id="marker-876355"></a>is Subcircuits</h4>

<p>
<a id="pgfId-840946"></a>Each subcircuit call for <code>sweepVcc</code> in the netlist causes all the analyses in the <code>sweepVcc</code> to be performed. Each of the following statements is a subcircuit call to subcircuit <code>sweepVcc</code>:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-840947"></a>Ibb1uA sweepVcc stop=2 Ib=1u<br />Ibb3uA sweepVcc stop=2 Ib=3u<br />Ibb10uA sweepVcc stop=2 Ib=10u<br />Ibb30uA sweepVcc stop=2 Ib=30u<br />Ibb100uA sweepVcc stop=2 Ib=100u</pre>

<p>
<a id="pgfId-840948"></a>Note the following important syntax features:</p>
<ul><li>
<a id="pgfId-840949"></a>Each subcircuit call has a unique name.</li><li>
<a id="pgfId-840950"></a>Each subcircuit call overrides the default values for the <code>stop</code> and <code>Ib</code> parameters. </li><li>
<a id="pgfId-840951"></a>The <code>start</code>, <code>steps</code>, and <code>omega</code> parameters are not defined in the subcircuit calls. They take the default values assigned in the subcircuit.</li></ul>



<h2>
<a id="pgfId-840865"></a><a id="22741"></a>DC An<a id="marker-840958"></a>alysis<a id="dc"></a></h2>

<p>
<a id="pgfId-840960"></a>The DC analysis finds the DC operating point or DC transfer curves of the circuit. To generate transfer curves, specify a parameter and a sweep range. The swept parameter can be circuit temperature, a device instance parameter, a device model parameter, a netlist parameter, or a subcircuit parameter for a particular subcircuit instance. You can sweep the circuit temperature by giving the parameter name as <code>param=temp</code> with no <code>dev</code>, <code>mod</code>, or <code>sub</code> parameter. You can sweep a top-level netlist parameter by giving the parameter name with no <code>dev</code>, <code>mod</code>, or <code>sub</code> parameter. You can sweep a subcircuit parameter for a particular subcircuit instance by specifying the subcircuit instance name with the <code>sub</code> parameter and the subcircuit parameter name with the <code>param</code> parameter. After the analysis has completed, the modified parameter returns to its original value.</p>
<p>
<a id="pgfId-840962"></a>The syntax is as follows:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-840963"></a><code><em>Name</em></code> dc <code><em>parameter</em></code>=<code><em>value</em></code> ...</pre>

<p>
<a id="pgfId-841000"></a>You can specify sweep limits by giving the end points or by providing the center value and the span of the sweep. Steps can be linear or logarithmic, and you can specify the number of steps or the size of each step. You can give a step size parameter (<code>step</code>, <code>lin</code>, <code>log</code>, <code>dec</code>) and determine whether the sweep is linear or logarithmic. If you do not give a step size parameter, the sweep is linear when the ratio of stop to start values is less than 10, and logarithmic when this ratio is 10 or greater. If you specify the <code>oppoint</code> parameter, Spectre computes and outputs the linearized model for each nonlinear component.</p>
<p>
<a id="pgfId-841001"></a>Nodesets help find the DC or initial transient solution. You can supply them in the circuit description file with nodeset statements, or in a separate file using the <code>readns</code> parameter. When nodesets are given, Spectre computes an initial guess of the solution by performing a DC analysis while forcing the specified values onto nodes by using a voltage source in series with a resistor whose resistance is <code>rforce</code>. Spectre then removes these voltage sources and resistors and computes the true solution from this initial guess.</p>
<p>
<a id="pgfId-841002"></a>Nodesets have two important uses. First, if a circuit has two or more solutions, nodesets can bias the simulator towards computing the desired one. Second, they are a convergence aid. By estimating the solution of the largest possible number of nodes, you might be able to eliminate a convergence problem or dramatically speed convergence.</p>
<p>
<a id="pgfId-841003"></a>When you simulate the same circuit many times, we suggest that you use both the <code>write</code> and <code>readns</code> parameters and give the same filename to both parameters. The DC analysis then converges quickly even if the circuit has changed somewhat since the last simulation, and the nodeset file is automatically updated.</p>
<p>
<a id="pgfId-841004"></a>You may specify values to force for the DC analysis by setting the parameter <code>force</code>. The values used to force signals are specified by using the <code>force</code> file, the <code>ic</code> statement, or the <code>ic</code> parameter on the capacitors and inductors. The <code>force</code> parameter controls the interaction of various methods of setting the force values. The effects of individual settings are</p>
<table class="webflareTable" id="#id876973">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-876975"></a><code>force=none</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-876977"></a>Any initial condition specifiers are ignored.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-876979"></a><code>force=node</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-876981"></a>The <code>ic</code> statements are used, and the <code>ic</code> parameter on the capacitors and inductors are ignored.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-876983"></a><code>force=dev</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-876985"></a>The <code>ic</code> parameters on the capacitors and inductors are used, and the <code>ic</code> statements are ignored.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-876987"></a><code>force=all</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-876989"></a>Both the <code>ic</code> statements and the <code>ic</code> parameters are used, with the <code>ic</code> parameters overriding the <code>ic</code> statements.</p>
</td>
</tr>
</tbody></table>
<p>
<a id="pgfId-841009"></a>If you specify a <code>force</code> file with the <code>readforce</code> parameter, force values read from the file are used, and any <code>ic</code> statements are ignored.</p>
<p>
<a id="pgfId-841010"></a>Once you specify the force conditions, the Spectre simulator computes the DC analysis with the specified nodes forced to the given value by using a voltage source in series with a resistor whose resistance is <code>rforce</code> (see <code>options</code>).</p>

<h3>
<a id="pgfId-857301"></a>Selecting a Continuation Method</h3>

<p>
<a id="pgfId-857307"></a>The Spectre simulator normally starts with an initial estimate and then tries to find the solution for a circuit using the Newton-Raphson method. If this attempt fails, the Spectre simulator automatically tries several continuation methods to find a solution and tells you which method was successful. Continuation methods modify the circuit so that the solution is easy to compute and then gradually change the circuit back to its original form. Continuation methods are robust, but they are slower than the Newton-Raphson method.</p>
<p>
<a id="pgfId-857309"></a>If you need to modify and resimulate a circuit that was solved with a continuation method, you probably want to save simulation time by directly selecting the continuation method you know was previously successful.</p>
<p>
<a id="pgfId-857305"></a>You can select the continuation method with the <code>homotopy</code> parameter of the set or options statements. In addition to the default setting, <code>all</code>, six settings are possible for this parameter &#8211; gmin stepping (<code>gmin</code>), source stepping (<code>source</code>), the pseudotransient method (<code>ptran</code>), damped pseudotransient method (<code>dptran</code>), <code>arclength</code>, and the transient rampup method (<code>tranrampup</code>). You can also prevent the use of continuation methods by setting the homotopy parameter to <code>none</code>.</p>
<p>
<a id="pgfId-857327"></a>From the MMSIM6.2.1 release onwards, you can specify more than one homotopy method and the Spectre circuit simulator tries them in the order in which they are specified.</p>
<p>
<a id="pgfId-857360"></a>The syntax is:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-857387"></a>dcName dc parameters homotopy=[(none|gmin|source|dptran|ptran|arclength|tranrampup|all)+ ] </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-857386"></a>optName options parameters homotopy==[(none|gmin|source|dptran|ptran|arclength|tranrampup|all)+] </pre>

<p>
<a id="pgfId-857394"></a>In the following example, the Spectre circuit simulator tries the <code>gmin</code> stepping solution to help dc converge. If it fails to converge, then Spectre tries the <code>source</code> stepping solution. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-857448"></a>dc1 dc homotopy=[gmin source] </pre>
<h3>
<a id="pgfId-868559"></a>Enabling Fast DC Si<a id="fastdc"></a>mulatio<a id="marker-869157"></a>n</h3>

<p>
<a id="pgfId-875570"></a>In some situations, especially for larger circuits, it can be difficult to converge to the exact DC operating point, and Spectre can spend a significant time converging to the final solution. The <code>+fastdc</code> command-line option enables you to speed up the DC simulation in Spectre and APS for large-scale circuits and for cases where DC convergence is very slow, or there is a difficulty in DC convergence. The DC solution from <code>+fastdc</code> is generally an approximate solution, but it is sufficient to start transient analysis. Since the solution is not the exact DC, measurements made at the DC point, or a simulation that requires a very accurate DC solution may have problems with the <code>+fastdc</code> command-line option. </p>
<p>
<a id="pgfId-875571"></a>The <code>+fastdc</code><a id="marker-876066"></a> command-line option accepts a set of values, ranging from 0-4. The default is 4, which is the fastest solution. 0 is the most accurate, and is very close to the exact DC solution, and as a result, it is the slowest of the 5 settings. It is recommended to first use the <code>+fastdc</code> command-line option when DC convergence is a problem, either slow or difficult. Then, if the circuit or measurements require a more accurate solution reduce the value of <code>+fastdc</code> option.</p>
<p>
<a id="pgfId-875572"></a>The fast DC simulation can be turned on from the command line as shown below.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-868565"></a>% spectre +fastdc ... </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-868566"></a>% spectre +aps +fastdc ...</pre>
<h2>
<a id="pgfId-840866"></a><a id="30539"></a>AC Ana<a id="marker-841048"></a>lysis<a id="ac"></a></h2>

<p>
<a id="pgfId-841050"></a>The AC analysis linearizes the circuit about the DC operating point and computes the response to all specified small sinusoidal stimulus. For more information on specifying small sinusoidal stimulus, see <h-hot><a actuate="user" class="URL" href="../spectreref/chap3.html#firstpage" show="replace" xml:link="simple">Chapter 3, Analysis Statements,</a></h-hot> in <em>Spectre Circuit Simulator Reference</em>.</p>
<p>
<a id="pgfId-841051"></a>The Spectre simulator can perform the analysis while sweeping a parameter. The parameter can be frequency, temperature, component instance parameter, component model parameter, or netlist parameter. If changing a parameter affects the DC operating point, the operating point is recomputed on each step. You can sweep the circuit temperature by giving the parameter name as <code>temp</code> with no <code>dev</code> or <code>mod</code> parameter. You can sweep a netlist parameter by giving the parameter name with no <code>dev</code> or <code>mod</code> parameter. After the analysis has completed, the modified parameter returns to its original value.</p>
<p>
<a id="pgfId-841053"></a>The syntax is as follows:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-841054"></a><code><em>Name</em></code> ac <code><em>parameter</em></code>=<code><em>value</em></code> ...</pre>

<p>
<a id="pgfId-841085"></a>You can specify sweep limits by giving the end points or by providing the center value and the span of the sweep. Steps can be linear or logarithmic, and you can specify the number of steps or the size of each step. You can give a step size parameter (<code>step</code>, <code>lin</code>, <code>log</code>, <code>dec</code>) to determine whether the sweep is linear or logarithmic. If you do not give a step size parameter, the sweep is linear when the ratio of stop to start values is less than 10, and logarithmic when this ratio is 10 or greater. All frequencies are in Hertz.</p>
<p>
<a id="pgfId-841086"></a>The small-signal analysis begins by linearizing the circuit about an operating point. By default, this analysis computes the operating point if it is not known or recomputes it if any significant component or circuit parameter has changed. However, if a previous analysis computed an operating point, you can set <code>prevoppoint=yes</code> to avoid recomputing it. For example, if you use this option when the previous analysis was a transient analysis, the operating point is the state of the circuit on the final time point.</p>

<h2>
<a id="pgfId-877287"></a>S-Parameter A<a id="sp_analysis"></a>nalysis</h2>

<p>
<a id="pgfId-877352"></a>The S-Parameter (sp) analysis is the most useful linear small signal analysis for low noise amplifiers. It linearizes the circuit about the DC operating point and computes the S-parameters of the circuit taken as an N-port. In the netlist, the <code>port</code> statements define the ports of the circuit. Each active port is turned on sequentially, and a linear small-signal analysis is performed. Spectre converts the response of the circuit at each active port into S-parameters and outputs these parameters. There must be at least one active port statement in the circuit. </p>
<p>
<a id="pgfId-877365"></a>If the list of active ports is specified with the <code>ports</code> parameter, the ports are numbered sequentially from one in the order given. Otherwise, all ports present in the circuit are active, and the port numbers used are those that were assigned on the port statements. </p>
<p>
<a id="pgfId-877860"></a>You can use the file parameter to specify a file that enables Spectre to output the S-parameters into the specified file, which can later be read-in by the <code>nport</code> component. For example:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-877375"></a>sp sp ports=[RF] file=my_file</pre>

<p>
<a id="pgfId-877385"></a>In the above example, Spectre will output the S-parameters to the file <code>my_file</code>.</p>
<p>
<a id="pgfId-877414"></a>By default, Spectre outputs the data in <code>spectre</code> format. You can also output the data in <code>touchstone</code> format by using the <code>datafmt</code> parameter with the <code>sp</code> analysis statement in the netlist file.</p>
<p>
<a id="pgfId-877435"></a>Spectre can perform AC/SP analysis while sweeping a parameter. The parameter can be frequency, temperature, component instance parameter, component model parameter, or netlist parameter. If changing a parameter affects the DC operating point, the operating point is recomputed at each step. After the analysis is complete, the modified parameter returns to its original value.</p>
<p>
<a id="pgfId-877481"></a>You can define sweep limits by specifying the end points or the center value and span of the sweep. Steps can be linear or logarithmic, and you can specify the number of steps or the size of each step. You can specify a step size parameter (step, lin, log, or dec) to determine whether the sweep is linear or logarithmic. If you do not specify a step size parameter, the sweep is linear when the ratio of stop to start values is less than 10 and logarithmic when this ratio is 10 or greater. All frequencies are in Hertz. For example:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-877530"></a>sp sp ports[RF PORT0] start=500M stop=4G lin=8 file=my_file</pre>

<p>
<a id="pgfId-877601"></a>The above statement will output the following in the file <code>my_file</code>.</p>

<p>
<a id="pgfId-877619"></a></p>
<div class="webflare-div-image">
<img width="668" height="532" src="images/chap7-2.gif" /></div>

<p>
<a id="pgfId-877928"></a>If <code>donoise=yes</code> is specified, the noise correlation matrix is computed. In addition, if the output is specified using <code>oprobe</code>, the amount that each noise source contributes to the output is computed. Finally, if an input is also specified (using <code>iprobe</code>), the two-port noise parameters are computed (F, Fmin, NF, NFmin, Gopt, Bopt, and Rn). </p>
<p>
<a id="pgfId-877944"></a>If the <code>mode</code> parameter is set to <code>mm</code>, differential and common-mode S-parameters (denoted as mixed-mode S-parameters) are calculated. For <code>mode=mm</code>, there must be 2N, with N &gt; 1, active port statements in the circuit. The mixed-mode S-parameters are calculated referring to the pairing of the ports, with the port numbers ordered in pair as (1,2) (3,4), and so on in the ports list. With <code>mode=mm</code>, Spectre calculates differential-to-differential, differential-to-common, common-to-differential, and common-to-common S-parameters. A combination of mixed-mode and standard S-parameters is calculated if the mode parameter is set to, say, m12m34s5. Then, additional differential-to-standard, common-to-standard, standard-to-differential, and standard-to-common S-parameters are calculated. In the example of mode=m12m34s5, the standard single-end port is port number 5, the two mixed-mode port pairs are (1,2) and (3,4); with Spectre placing restriction of the number on active ports to 5 given in the port list.</p>
<p>
<a id="pgfId-887296"></a>Spectre also supports sprobes in S-parameter analysis. Sprobe is a special component to allow in-situ probing of impedances and S parameters looking out of the two terminals. If the <code>sprobes</code> parameter is specified, the parameters <code>S1</code>, <code>S2</code>,<code> Z1</code>, <code>Z2</code>, and <code>StabIndex</code> of the specified sprobe are computed and output to a raw file. Here <code>S1</code> is the scattering parameter looking left from the sprobe, <code>S2</code> is the scattering parameter looking right from the sprobe, <code>Z1</code> is the impedance looking left from the sprobe, <code>Z2</code> is the impedance looking right from the sprobe, and <code>StabIndex</code> is the stability Index. Gamma1 and Gamma2 are the reflection impedance coefficients. However, since Gamma1=S1 and Gamma2=S2, they do not require recalculation.</p>
<p>
<a id="pgfId-889092"></a>Sprobe is defined in <code>spectre.cfg</code>; therefore, it is automatically included in the Spectre flow.</p>
<p>
<a id="pgfId-888671"></a>Sprobe can be specified independently in a single <code>sp</code> statement or an sprobe and a normal S-parameter analysis can be specified in a single <code>sp</code> statement, as shown below.</p>

<h4><em>
<a id="pgfId-888926"></a>Single sprobe calculation in one <code>sp</code> analysis</em></h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-888968"></a>sprobe1 (1 2) sprobe<br />sp0 sp sprobes=[sprobe1] &lt;parameter=<code><em>value</em></code>&gt;</pre>
<h4><em>
<a id="pgfId-888989"></a>Sprobes and normal S-Parameter analysis in a single <code>sp</code> statement</em></h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-889065"></a>sprobe1 (1 2) sprobe<br />sprobe2 (3 4) sprobe<br />sp0 sp ports=[p1 p2] sprobes=[sprobe1 sprobe2] ...</pre>

<p>
<a id="pgfId-888529"></a>If both <code>sprobes</code> and <code>ports</code> are specified, <code>ports</code> are used to compute the normal S parameters and <code>sprobes</code> are used to compute the sprobe parameters. </p>
<p>
<a id="pgfId-889094"></a>The parameters are output in the <code>&lt;</code><span class="webflare-courier-new" style="white-space:pre"><em>netlist_name</em></span><code>&gt;.raw</code> directory, as follows:</p>
<ul><li>
<a id="pgfId-889251"></a>The standard s, y, z parameters are output to the file <code>&lt;</code><span class="webflare-courier-new" style="white-space:pre"><em>sp_analysis_name</em></span><code>&gt;.sp</code>.</li><li>
<a id="pgfId-889386"></a>The sprobe S1, S2, Z1, and Z2 parameters are output to the file <code>&lt;</code><span class="webflare-courier-new" style="white-space:pre"><em>sp_analysis_name</em></span><code>&gt;.sprobe.sp.</code></li><li>
<a id="pgfId-889467"></a><code>StabIndex</code> is output to the file <code>&lt;</code><span class="webflare-courier-new" style="white-space:pre"><em>sp_analysis_name</em></span><code>&gt;.sprobe-StabIndex.sp</code></li></ul>


<p>
<a id="pgfId-889536"></a>You can open the file in the Virtuoso Visualization and Analysis tool and plot the results.</p>
<p>
<a id="pgfId-877847"></a>For more information on S-Parameter analysis options, refer to <em>S-Parameter Analysis (sp)</em> section in the <em>Spectre Circuit Simulator Reference</em> manual.</p>

<h2>
<a id="pgfId-877821"></a><a id="25431"></a>Transient Analy<a id="setup"></a>sis<a id="tran"></a></h2>

<p>
<a id="pgfId-854109"></a>The transient analysis computes the transient response of a circuit over the specified interval.</p>
<p>
<a id="pgfId-854107"></a>You can adjust transient analysis parameters in several ways to meet the needs of your simulation. Setting parameters that control the error tolerances, the integration method, and the amount of data saved lets you choose between maximum speed and greatest accuracy in a simulation. </p>
<p>
<a id="pgfId-841124"></a>This section also tells you about parameters you can set that improve transient analysis convergence. </p>

<h3>
<a id="pgfId-841125"></a>Sweeping Parameters During Transient Analysis</h3>

<p>
<a id="pgfId-856043"></a>You can modify temperature, tolerance, and design parameter settings at device, subcircuit, or model level during a transient analysis. The syntax is:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-856052"></a><code><em>Name</em></code> tran param=param_name, { param_vec=[ t1 val1 t2 val2...] | param_file=<code><em>file </em></code>}, [ dev=<code><em>d1</em></code> | mod=<code><em>m1</em></code> | sub=<code><em>s1</em></code> ], param_step=<code><em>time</em></code></pre>

<p>
<a id="pgfId-856053"></a>where</p>
<table class="webflareTable" id="#id877000">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-877002"></a><code>Name</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-877004"></a>Name of the transient analysis.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-877006"></a><code>param</code><a id="marker-877029"></a>=<span class="webflare-courier-new" style="white-space:pre"><em>param_name</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-877008"></a>Dynamic parameter name. The parameter name can be a design parameter, <code>errpreset</code>, <code>method</code>, <code>relref</code>, <code>maxstep</code>, <code>isnoisy</code>, <code>lteratio</code>, <code>reltol</code>, <code>residualtol</code>, <code>vabstol</code>, <code>iabstol</code>, <code>temp</code>, and <code>tnom</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-877010"></a><code>param_vec</code><a id="marker-877030"></a>=[ t1 val1 t2 val2...]</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-877012"></a>Time points and values of the parameter.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-877014"></a><code>param_file</code><a id="marker-877031"></a>=<span class="webflare-courier-new" style="white-space:pre"><em>file</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-877016"></a>File name if the <code>param_vec</code> is defined in a separate file.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-877018"></a><a id="marker-877032"></a>dev=<span class="webflare-courier-new" style="white-space:pre"><em>d1</em></span> | mod=<span class="webflare-courier-new" style="white-space:pre"><em>m1</em></span><a id="marker-877033"></a> | <a id="marker-877034"></a>sub=<span class="webflare-courier-new" style="white-space:pre"><em>s1</em></span> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-877020"></a>Defines local scope for design parameters. Can be a device model instance (<code>dev</code>), device model name (<code>mod</code>), or subcircuit instance name (<code>sub</code>). Does not apply to <code>temp</code>, <code>reltol</code>, <code>residualtol</code>, <code>vabstol</code>, <code>iabstol</code>, or <code>isnoisy</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-877022"></a><code>param_step</code><a id="marker-877035"></a>=<span class="webflare-courier-new" style="white-space:pre"><em>time</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-877024"></a>Specifies whether the time_value pair given by the <code>param_vec</code> parameter is to be updated in one step, or as a series of steps. See Examples 1 and 2 below. Default value: <code>0</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-877026"></a><a id="marker-877036"></a>faultreadic</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-877028"></a>Specifies the file that contains the initial condition (ic) information related to fault sensitivity analysis.</p>
</td>
</tr>
</tbody></table>

<h4>
<a id="pgfId-856190"></a>Example 1</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-856206"></a>dotran tran stop=100ns \</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-856207"></a>  param=temp, param_vec=[0ns 20 50ns 25 100ns 75] param_step=0 </pre>

<p>
<a id="pgfId-856233"></a>This statement begins the simulation at a temperature of 20C, increases the temperature to 25C at 50ns, and increases the temperature to 75C at 100ns.</p>

<h4>
<a id="pgfId-856345"></a>Example 2</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-856346"></a>dotran tran stop=100ns \</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-856347"></a>  param=temp, param_vec=[0ns 20 50ns 25 100ns 75] param_step=10n </pre>

<p>
<a id="pgfId-856348"></a>This statement increases the temperature by 1C every 10ns from 0ns to 50ns, and by 10C every 10ns from 50ns to 100ns.</p>

<h4>
<a id="pgfId-856239"></a>Example 3</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-856209"></a>dotran tran stop=100ns \</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-856210"></a>  param=reltol, param_vec=[0ns 1.0e-3  100ns 1.0e-2] param_step=0 ]</pre>

<p>
<a id="pgfId-856246"></a>In this example, the relative convergence tolerance reltol is 1e-3 at the beginning of the simulation, and is changed to 1e-2 at 100ns. </p>

<h4>
<a id="pgfId-856259"></a>Example 4</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-856372"></a>dotran tran stop=2u \
&#160;&#160;&#160;&#160;noisefmax=10G noiseseed=1 param=isnoisy param_vec=[0ns 0 500ns 1 ]</pre>

<p>
<a id="pgfId-856373"></a>This statement turns transient noise off from time 0 to 500ns and turns it back on at 500ns.</p>

<h4>
<a id="pgfId-856369"></a>Example 5</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-856215"></a>pset1 paramset {
&#160;&#160;&#160;&#160;time reltol temp p1 m1:l
&#160;&#160;&#160;&#160;0n   1e-3   27   1  1u
&#160;&#160;&#160;&#160;10n  1e-3   50   2  1u
&#160;&#160;&#160;&#160;20n  1e-4   50   2  2u
&#160;&#160;&#160;&#160;30n  1e-5   75   3  2u<br />}</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-856287"></a>dotran tran paramset=pset1 stop=100n param_step=0</pre>

<p>
<a id="pgfId-857200"></a>This paramset statement changes multiple parameters during the transient simulation. The values of the reltol, temp, p1, and m1:l parameters change at the timepoints specified in the paramset table. </p>

<h4>
<a id="pgfId-857147"></a>Example 6</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-857148"></a>tran2 tran stop=100n param=reltol param_file=reltol.txt</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-857188"></a>reltol.txt:
; vector definition for reltol
tscale 1.0e-9
time&#160;&#160;&#160;&#160;value
10&#160;&#160;&#160;&#160;1e-4
50&#160;&#160;&#160;&#160;1e-3</pre>

<p>
<a id="pgfId-857210"></a>This statement changes the reltol value to 1e-4 at 10ns, and changes the reltol value to 1e-3 at 50ns.</p>

<h3>
<a id="pgfId-856055"></a><a id="speed parameter"></a>Balancing Accuracy and Speed </h3>

<p>
<a id="pgfId-853740"></a>The following list displays the Spectre circuit simulator parameters that trade accuracy for speed. See <code>spectre -h options</code> for more information on any of these parameters.</p>
<ul><li>
<a id="pgfId-853741"></a>Tolerance control parameters &#8211; <code>reltol</code>, <code>vabstol</code>, and <code>iabstol</code></li><li>
<a id="pgfId-853742"></a>Transient control parameters &#8211; <code>errpreset</code>, <code>relref</code>, <code>lteratio</code>, <code>method</code>, and <code>maxstep</code></li><li>
<a id="pgfId-853092"></a>Parasitic node reduction parameter &#8211; <code>maxrsd</code></li></ul>



<h3>
<a id="pgfId-852965"></a><a id="73500"></a>The errpreset Parameter</h3>

<p>
<a id="pgfId-851041"></a>errp<code></code><a id="marker-851045"></a>reset is a transient analysis parameter that works in a way similar to <code>speed</code> except that it has fewer settings and controls fewer parameters. You can set <code>errpreset</code> to three different values:</p>
<ul><li>
<a id="pgfId-841128"></a><code>liberal</code></li><li>
<a id="pgfId-841129"></a><code>moderate</code></li><li>
<a id="pgfId-841130"></a><code>conservative</code> </li></ul>


<p>
<a id="pgfId-841131"></a>At <code>liberal</code>, the simulation is fast but less accurate. The <code>liberal</code> setting is suitable for digital circuits or analog circuits that have only short time constants. At <code>moderate</code>, the default setting, simulation accuracy approximates a SPICE2 style simulator. At <code>conservative</code>, the simulation is the most accurate but also slowest. The <code>conservative</code> setting is appropriate for sensitive analog circuits. If you still require more accuracy than that provided by <code>conservative</code>, tighten error tolerance by setting <code>reltol</code> to a smaller value.</p>

<h4><em>
<a id="pgfId-841135"></a>Descriptio<a id="errpreset"></a>n of errprese<a id="marker-841134"></a>t Parameter Settings</em></h4>

<p>
<a id="pgfId-841136"></a>The effect of <code>errpreset</code> on other parameters is shown in the following table. In this table, T = <code>stop</code> − <code>start</code>.</p>
<table class="webflareTable" id="#id841137">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id841139">
<a id="pgfId-841139"></a>errpreset</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id841142">
<a id="pgfId-841142"></a>rel<a id="marker-841141"></a>tol</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id841145">
<a id="pgfId-841145"></a>relr<a id="marker-841144"></a>ef</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id841148">
<a id="pgfId-841148"></a>met<a id="marker-841147"></a>hod</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id841151">
<a id="pgfId-841151"></a>maxs<a id="marker-841150"></a>tep</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id841154">
<a id="pgfId-841154"></a>lterat<a id="marker-841153"></a>io</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841156"></a><code>liberal</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841158"></a>×10.0</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841161"></a><code>sigglobal</code><a id="marker-841160"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841164"></a><code>trapgear2</code><a id="marker-841163"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841166"></a>Interval/50</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841168"></a>3.5</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841170"></a><code>moderate</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841172"></a>×1.0</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841175"></a><code>sigglobal</code><a id="marker-841174"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841178"></a><code>traponly</code><a id="marker-841177"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841180"></a>Interval/50</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841182"></a>3.5</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841184"></a><code>conservative</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841186"></a>×0.1</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841189"></a><code>alllocal</code><a id="marker-841188"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841192"></a><code>gear2only</code><a id="marker-841191"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841194"></a>Interval/100</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841196"></a>10.0</p>
</td>
</tr>
</tbody></table>
<p>
<a id="pgfId-841197"></a>The description in the previous table has the following exceptions:</p>
<ul><li>
<a id="pgfId-841198"></a>The <code>errpreset</code> parameter sets the value of <code>reltol</code> as described in the table, except that the value of <code>reltol</code> cannot be larger than 0.01. </li><li>
<a id="pgfId-841199"></a>Except for <code>reltol</code> and <code>maxstep</code>, <code>errpreset</code> does not change the value of any parameters you have specified. </li><li>
<a id="pgfId-841200"></a>With <code>maxstep</code>, the specified value in the preceding table is an upper bound. You can always specify a smaller <code>maxstep</code> value.</li></ul>


<p>
<a id="pgfId-841201"></a>If you need to check the <code>errpreset</code> settings for a simulation, you can find these values in the log file.</p>

<h4><em>
<a id="pgfId-841203"></a>Uses for errp<a id="marker-841202"></a>reset </em></h4>

<p>
<a id="pgfId-841204"></a>You adjust <code>errpreset</code> to the speed and accuracy requirements of a particular simulation. For example, you might set <code>errpreset</code> to <code>liberal</code> for your first simulation to see if the circuit works. After debugging the circuit, you might switch to <code>moderate</code> to get more accurate results. If the application requires high accuracy, or if you want to verify that the <code>moderate</code> solution is reasonable, you set <code>errpreset</code> to <code>conservative</code>.</p>
<p>
<a id="pgfId-841205"></a>You might also have different <code>errpreset</code> settings for different types of circuits. For logic gate circuits, the <code>liberal</code> setting is probably sufficient. A <code>moderate</code> setting might be better for analog circuits. Circuits that are sensitive to errors or circuits that require exceptional accuracy might require a <code>conservative</code> setting.</p>

<h4>
<a id="pgfId-841209"></a>Tolerance Control Paramet<a id="marker-876119"></a>ers</h4>

<p>
<a id="pgfId-841210"></a>You can control the accuracy of the solution to the discretized equation by setting the <code>reltol</code><a id="marker-841211"></a><a id="marker-843643"></a><a id="marker-843641"></a><a id="marker-843639"></a> and <span class="webflare-courier-new" style="white-space:pre"><em>x</em></span><code>abstol</code> (where <span class="webflare-courier-new" style="white-space:pre"><em>x</em></span> is the access quantity, such as <code>v</code> or <code>i</code>) parameters in an <code>options</code> or <code>set</code> statement. These parameters determine how well the circuit conserves charge and how accurately the Spectre simulator computes circuit dynamics and steady-state or equilibrium points. </p>
<p>
<a id="pgfId-841212"></a>You can set the integration error or the errors in the computation of the circuit dynamics (such as time constants), relative to <code>reltol</code> and <code>abstol</code> by setting the <code>lteratio</code><a id="marker-841213"></a><a id="marker-843577"></a> parameter.</p>
<p class="webflare-indent1">
<a id="pgfId-841214"></a>ToleranceNR = <code>abstol</code> + <code>reltol</code>*<code>Ref</code></p>
<p class="webflare-indent1">
<a id="pgfId-841215"></a>ToleranceLTE = ToleranceNR *<code>lteratio</code></p>
<p>
<a id="pgfId-841217"></a>The <code>Ref</code> value is determined by your setting for <code>relref</code><a id="marker-841216"></a>, the relative error parameter, as explained in <xrefstd>&#8220;Adjusting Relative Error Parameters&#8221;.</xrefstd></p>
<p>
<a id="pgfId-841221"></a>In the previous equations, ToleranceNR is a convergence criterion that bounds the amount by which Kirchhoff&#8217;s Current Law is not satisfied as well as the allowable difference in computed values in the last two Newton-Raphson (NR) iterations of the simulation. ToleranceLTE is the allowable difference at any time step between the computed solution and a predicted solution derived from a polynomial extrapolation of the solutions from the previous few time steps. If this difference is greater than ToleranceLTE, the Spectre simulator shortens the time step until the difference is acceptable.</p>
<p>
<a id="pgfId-841222"></a>From the previous equations, you can see that tightening <code>reltol</code> to create more strict convergence criteria also diminishes the allowable local truncation error (ToleranceLTE). You might not want the truncation error tolerance tightened because this adjustment can increase simulation time. You can prevent the decrease in the time step by increasing the <code>lteratio</code> parameter to compensate for the tightening of <code>reltol</code>.</p>

<h4><em>
<a id="pgfId-841224"></a><a id="53421"></a>Adjusting Relative Error Parameters</em></h4>

<p>
<a id="pgfId-841225"></a>You determine the treatment of the relative error with the <code>relref</code> parameter. The <code>relref</code> parameter determines which values the Spectre simulator uses to compute whether the relative error tolerance (<code>reltol</code>) requirements are satisfied. </p>
<p>
<a id="pgfId-841226"></a>You can set <code>relref</code> to the following options:</p>
<ul><li>
<a id="pgfId-841229"></a>The <code>relref=pointlocal</code><a id="marker-841227"></a><a id="marker-841228"></a> setting compares the relative errors in quantities at each node relative to the current value of that node.</li><li>
<a id="pgfId-841232"></a>The <code>relref=alllocal</code><a id="marker-841230"></a><a id="marker-841231"></a> setting compares the relative errors in quantities at each node to the largest value of that node for all past time points.</li><li>
<a id="pgfId-841235"></a>The <code>relref=sigglobal</code><a id="marker-841233"></a><a id="marker-843637"></a> or <code>relref=allglobal</code><a id="marker-841234"></a><a id="marker-843635"></a> settings compare relative errors in each of the circuit signals to the maximum of all the signals in the circuit.</li><li>
<a id="pgfId-841236"></a>In addition, the <code>relref=allglobal</code> setting compares equation residues (the amount by which Kirchhoff&#8217;s Curre<a id="marker-841237"></a><a id="marker-843575"></a>nt Law [also known as Kirchhoff&#8217;s Flow Law] is not satisfied) for each node to the maximum current floating onto the node at any time in that node&#8217;s past history.</li></ul>




<h3>
<a id="pgfId-841239"></a>Setting the Integratio<a id="marker-841238"></a>n Method </h3>

<p>
<a id="pgfId-841242"></a>The <code>method</code><a id="marker-841240"></a> parameter specifies the integration method. You can set the <code>method</code> parameter to adjust the speed and accuracy of the simulation. The Spectre simulator uses three different integration methods: the backward-Euler method, the trapezoidal rule, and the second-order Gear method. The <code>method</code> parameter has six possible settings that permit different combinations of these three methods to be used.The following table shows the possible settings and what integration methods are allowed with each:</p>
<table class="webflareTable" id="#id841244">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id841246">
<a id="pgfId-841246"></a></span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id841248">
<a id="pgfId-841248"></a>Backward-Euler</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id841250">
<a id="pgfId-841250"></a>Trapezoidal Rule</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id841252">
<a id="pgfId-841252"></a>Second-Order Gear</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841255"></a><code>euler</code><a id="marker-841254"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841257">
<a id="pgfId-841257"></a>•
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841259">
<a id="pgfId-841259"></a>
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841261">
<a id="pgfId-841261"></a>
</cell-cent-fg-></td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841264"></a><code>traponly</code><a id="marker-841263"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841266">
<a id="pgfId-841266"></a>
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841268">
<a id="pgfId-841268"></a>•
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841270">
<a id="pgfId-841270"></a>
</cell-cent-fg-></td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841273"></a><code>trap</code><a id="marker-841272"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841275">
<a id="pgfId-841275"></a>•
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841277">
<a id="pgfId-841277"></a>•
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841279">
<a id="pgfId-841279"></a>
</cell-cent-fg-></td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841282"></a><code>gear2only</code><a id="marker-841281"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841284">
<a id="pgfId-841284"></a>
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841286">
<a id="pgfId-841286"></a>
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841288">
<a id="pgfId-841288"></a>•
</cell-cent-fg-></td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841291"></a><code>gear2</code><a id="marker-841290"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841293">
<a id="pgfId-841293"></a>•
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841295">
<a id="pgfId-841295"></a>
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841297">
<a id="pgfId-841297"></a>•
</cell-cent-fg-></td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841300"></a><code>trapgear2</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841302">
<a id="pgfId-841302"></a>•
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841304">
<a id="pgfId-841304"></a>•
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841306">
<a id="pgfId-841306"></a>•
</cell-cent-fg-></td>
</tr>
</tbody></table>
<p>
<a id="pgfId-841307"></a>The trapezoidal rule is usually the best setting if you want high accuracy. This method can exhibit point-to-point ringing, but you can control this by tightening the error tolerances. The trapezoidal method is usually not a good choice to run with loose error tolerances because it is sensitive to errors from previous time steps. If you need to use very loose tolerances to get a quick answer, it is better to use second-order Gear.</p>
<p>
<a id="pgfId-841308"></a>While second-order Gear is more accurate than backward-Euler, both methods can overestimate a system&#8217;s stability. This effect is less with second-order Gear. You can also reduce this effect if you request high accuracy.</p>
<p>
<a id="pgfId-841309"></a>Artificial numerical damping can reduce accuracy when you simulate<br />low-loss (high-Q) resonators such as oscillators and filters. Second-order Gear shows this damping, and backward-Euler exhibits heavy damping.</p>

<h3>
<a id="pgfId-841310"></a>Improving Transient Analysis Convergence </h3>

<p>
<a id="pgfId-841312"></a>If the<a id="marker-841311"></a> circuit you simulate can have infinitely fast transitions (for example, a circuit that contains nodes with no capacitance), the Spectre simulator might have convergence problems. To avoid these problems, set <code>cmin</code>, which is the minimum capacitance to ground at each node, to a physically reasonable nonzero value.</p>
<p>
<a id="pgfId-841316"></a>You also might want to adjust the time-step par<a id="marker-841313"></a>ameters, <code>step</code><a id="marker-841314"></a> and <code>maxstep</code><a id="marker-841315"></a>. <code>step</code> is a suggested time step you can enter. Its default value is .001*(<code>stop</code> - <code>start</code>). <code>maxstep</code> is the largest time step permitted.</p>

<h3>
<a id="pgfId-841318"></a>Controlling the Amount of Ou<a id="marker-876204"></a>tput Data</h3>

<p>
<a id="pgfId-841319"></a>The Spectre simulator normally saves all computed data in the transient analysis. Sometimes you might not need this much data, and you might want to save only selected results. At other times, you might need to decrease the time interval between data points to get a more precise measurement of the activity of the circuit. You can control the number of output data points the Spectre simulator saves for the transient analysis in these ways: </p>
<ul><li>
<a id="pgfId-841321"></a>With str<a id="marker-841320"></a>obing, which lets you select the time interval between the data points the Spectre simulator saves. The simulator forces a time step on each point it saves, so the data is computed, not interpolated.</li><li>
<a id="pgfId-841323"></a>With skipping ti<a id="marker-841322"></a>me points, which lets you select how many data points the Spectre simulator saves</li><li>
<a id="pgfId-841324"></a>With data compression, which eliminates repetitive recording of signal values that are unchanged</li><li>
<a id="pgfId-841326"></a>With the <code>outputstart</code><a id="marker-841325"></a> parameter, which lets you specify the time when the Spectre simulator starts saving data points</li><li>
<a id="pgfId-841328"></a>With the <code>infotime</code><a id="marker-841327"></a> parameter, which lets you specify specific times to save operating-point data instead of for all time points</li></ul>





<h4>
<a id="pgfId-841329"></a>Telling the Spectre Simulator to Change the Time Interval between Data Points (Strobing)</h4>

<p>
<a id="pgfId-841330"></a>Strobing changes the interval between data points. You use strobing to eliminate some unwanted high-frequency signal from the output, just as a strobe light appears to freeze rapidly rotating machinery. With strobing, you can demodulate AM signals or hide the effect of the clock in clocked waveforms. You can also dramatically improve the accuracy of external Fast Fourier Transform (FFT) routines. To perform strobing, you set the following parameters in the transient analysis:</p>
<ul><li>
<a id="pgfId-841332"></a>The <code>strobeperiod</code><a id="marker-841331"></a> parameter, which sets the time interval between the data points that the Spectre simulator saves</li><li>
<a id="pgfId-841334"></a>The <code>skipstart</code><a id="marker-841333"></a> parameter (optional), which tells the Spectre simulator when to start strobing<br />
<a id="pgfId-841335"></a>This parameter is also used to skip data points.</li><li>
<a id="pgfId-841337"></a>The <code>skipstop</code><a id="marker-841336"></a> parameter (optional), which tells the Spectre simulator when to stop strobing<br />
<a id="pgfId-841338"></a>This parameter is also used to skip data points.</li><li>
<a id="pgfId-841340"></a>The <code>strobedelay</code><a id="marker-841339"></a> parameter (optional), which lets you set a delay between the <code>skipstart</code> time and the first strobe point</li></ul>






<h4>
<a id="pgfId-841341"></a>Telling the Spectre Simulator How Many Data Points to Save</h4>

<p>
<a id="pgfId-841342"></a>By telling the Spectre simulator to save only every <em>Nth</em> data point, you can reduce the size of the results database generated by the Spectre simulator. You tell the Spectre simulator to save every <em>Nth</em> data point with the following parameters:</p>
<ul><li>
<a id="pgfId-841344"></a>With the <code>skipcount</code><a id="marker-841343"></a> parameter, which you set to <em>N</em> to make the Spectre simulator save every <em>Nth</em> data point</li><li>
<a id="pgfId-841346"></a>The <code>skipstart</code><a id="marker-841345"></a> parameter, which tells the Spectre simulator when to start skipping parameters<br />
<a id="pgfId-841347"></a>This parameter is also used in strobing.</li><li>
<a id="pgfId-841349"></a>The <code>skipstop</code><a id="marker-841348"></a> parameter, which tells the Spectre simulator when to stop skipping parameters <br />
<a id="pgfId-841350"></a>This parameter is also used in strobing.</li></ul>





<h4>
<a id="pgfId-841351"></a>Examples of Strobing and Skipping</h4>

<p>
<a id="pgfId-841353"></a>In the following example, the S<a id="marker-843655"></a>pectre simulator starts skipping data points at Time=10 seconds and continues to skip points until Time=35 seconds. During this 25-second period, the Spectre simulator saves only every third data point.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-841354"></a>ExSkipSt tran skipstart=10 skipstop=35 skipcount=3</pre>

<p>
<a id="pgfId-841355"></a>In this example, the Spectre simulator starts strobing at Time=5 seconds and continues until Time=20 seconds. During this 15-second period, the Spectre simulator saves data points every 10 seconds.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-841356"></a>ExStrobe tran skipstart=5 skipstop=20 strobeperiod=10</pre>

<p>
<a id="pgfId-841357"></a>This example is identical to the previous one except that it sets a delay of 2 seconds between the <code>skipstart</code> time and the first strobe point.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-841358"></a>ExStrobe2 tran skipstart=5 skipstop=20 strobeperiod=10 strobedelay=2</pre>
<h4>
<a id="pgfId-841362"></a><a id="17007"></a>Waveform Comp<a id="datacomp"></a><a id="marker-841361"></a>ression</h4>

<p>
<a id="pgfId-841363"></a>Some circuits, such as mixed analog and digital designs and circuits with switching power supplies, have substantial amounts of signal latency. If unchanged signal values for these circuits are repetitively written for each time point to a transient analysis output file, this output file can become very large. You can reduce the size of output files for such transient analyses with the Spectre simulator&#8217;s waveform compression feature. With waveform compression, the Spectre simulator writes output data for a signal only when the value of that signal changes.</p>
<p>
<a id="pgfId-869710"></a>Using waveform compression is not always appropriate. The Spectre simulator writes fewer signal values when you turn on waveform compression, but it must write more data for every signal value it records. For circuits with small amounts of signal latency, waveform compression might actually increase the size of the output file.</p>
<p>
<a id="pgfId-869304"></a>You can enable waveform compression globally, for user-defined hierarchy levels, or for individual <code>save</code> statements.</p>
<p>
<a id="pgfId-869749"></a>You can turn on waveform compression globally by adding the parameter <code>compression=all | no | wildcardonly</code> to the transient analysis command line in a Spectre netlist. The <code>all</code> option enables compression globally, <code>no</code> (default) disables compression, and <code>wildcardonly</code> compresses waveforms produced by <code>save</code> statements using wildcards and settings like <code>save=all</code>, <code>currents=all</code>, <code>subcktprobelvl=n</code>. For example:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-869750"></a>DoTran1 tran stop=20e-6 compression=all</pre>

<p>
<a id="pgfId-869408"></a>You can add the parameter <code>complvl=1|2|...</code> in the transient analysis statement to define the level up to which the compression should be enabled. <code>complvl=1</code> lets the signals at all hierarchical levels to be compressed, including the top level. <code>complvl=2</code> compresses all signals on hierarchical level 2 and below. You can set <code>complvl=2</code> to keep the signals from the top hierarchical level uncompressed. For example:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-869391"></a>DoTran2 tran stop=20e-6 complvl=2 </pre>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-869445"></a>The <code>complvl</code> parameter takes precedence over the <code>compression</code> parameter. Therefore, if both parameters are set in the <code>tran</code> statement, the <code>compression</code> parameter is ignored.</div>
<p>
<a id="pgfId-869473"></a>You can set <code>compression=yes|no</code> in the <code>save</code> statement to define whether the signals in the <code>save</code> statement should be compressed. The signals in the <code>save</code> statement are not compressed by default. Setting <code>compression=yes</code> forces the compression of the signals in the <code>save</code> statement. For example:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-869446"></a>save * compression=yes</pre>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-869395"></a>The <code>compression</code> parameter in the <code>save</code> statement takes precedence over the <code>complvl</code> and <code>compression</code> parameters specified in the <code>tran</code> statement. For example:</div>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-869570"></a>save g s d compression=no</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-869571"></a>tran1 tran complvl=1 compression=all save=all</pre>

<p>
<a id="pgfId-869572"></a>In the above example, Spectre will compress all signals except the voltage for <code>g</code>, <code>s</code>, and <code>d</code>.</p>
<p>
<a id="pgfId-869830"></a>You can set <code>compreltol=0.001</code>, <code>compvabstol=1.0e-3V</code>, <code>compiabstol=1.0e-12A</code> parameters in the <code>tran</code> statement to customize the compression algorithm. For example:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-869831"></a>DoTran3 tran stop=20e-6 compreltol=0.005 compvabstol=5.0e-3V compiabstol=1.0e-11A</pre>

<p>
<a id="pgfId-869822"></a>You cannot apply waveform compression to operating-point parameters, including terminal currents that are calculated internally rather than with current probes. If you want waveform compression for terminal currents, you must specify that these currents be calculated with current probes. You can specify that all currents be calculated with current probes by placing <code>useprobes=yes</code> in an <code>options</code> statement.</p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-842396"></a>
Adding probes to circuits that are sensitive to numerical noise might affect the solution. In such cases, an accurate solution might be obtained by reducing <code>reltol</code>.</div>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-869870"></a>When multiple <code>save</code> statements with overlapping compression scope are specified, the compression statement specified later takes higher precedence.</div>

<h4>
<a id="pgfId-841368"></a>Telling Spectre to Save Oper<a id="infotime_pairs"></a>ating-Point Data at Specific Times</h4>

<p>
<a id="pgfId-841369"></a>In addition to saving operating-point data in a <code>dc</code> analysis, Spectre allows this data to be saved at user-specified times during a transient analysis. This data can saved as a waveform or text information. See <a href="chap9.html#40452">Chapter 12, &#8220;Specifying Output Options,&#8221;</a> to learn how to select and save this data using the <code>info</code> analysis.</p>
<p>
<a id="pgfId-846112"></a>The parameters <code>infonames</code> and <code>infotimes</code> are used to define which <code>info</code> analyses needs to be performed at which time point. By default, the time points and the analyses defined using these parameters are paired. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-946695"></a>tr1 tran stop=10n infotimes=[2n 5n] infonames=[info1 info2]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-946696"></a>info1 info what=oppoint where=file file=info1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-946697"></a>info2 info what=captab where=file file=info2</pre>

<p>
<a id="pgfId-904407"></a>In the above example, the operating-point analysis <code>info1</code> is performed at <code>2ns</code>, and the <code>captap</code> calculation <code>info2</code> is performed at <code>5ns</code>.</p>
<p>
<a id="pgfId-946836"></a>You can use the <code>infotime_pair=no</code> parameter to unpair the times points and analyses defined using the <code>infotimes</code> and <code>infonames</code> parameters. In that case, all analyses specified using the <code>infonames</code> parameter is performed at all times specified using the <code>infotimes</code> parameter. For example:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-947158"></a>tr1 tran stop=10n infotimes=[2n 5n] infonames=[info1] infotime_pair=no</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-947176"></a>info1 info what=oppoint where=file file=oppoint_file</pre>

<p>
<a id="pgfId-947161"></a>In the above example the operating point analysis <code>info1</code> is performed at <code>2ns</code> and <code>5ns</code>, and the operating-point information for both time points is written into the file <code>oppoint_file</code>.</p>
<p>
<a id="pgfId-870160"></a>You can use the <code>optype</code><a id="optype"></a> parameter from the <code>info</code> analysis to output the operating point information related to currents, voltages, or the complete operating point information in a SPICE-compatible format. The <code>optype</code> parameter accepts the following values.</p>
<p>
<a id="pgfId-870161"></a><code>current</code> - Output operating point information related to node voltages and currents</p>
<p>
<a id="pgfId-870162"></a><code>voltage</code> - Output operating point information related to voltages only</p>
<p>
<a id="pgfId-870163"></a><code>all</code> - Output complete operating point information including currents and voltage.</p>
<p>
<a id="pgfId-947200"></a>The node voltages are stored in a file with extension .<code>ic0</code> and the vsource current and device information is saved in a file with extension <code>.op0</code>.</p>
<p>
<a id="pgfId-947202"></a>The <code>optype</code> based SPICE-compatible operating point output can be written for selected subcircuits only (<code>subckt</code>), and for selected hierarchical levels (<code>depth</code>). </p>
<p>
<a id="pgfId-947204"></a>For example:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-947206"></a>opinfo info what=oppoint optype=voltage subckt=pll depth=2</pre>

<p>
<a id="pgfId-947207"></a>The above command will write only the node voltages for nodes inside the subckt <code>pll</code> with a hierarchical depth of <code>2</code>.</p>
<p>
<a id="pgfId-954686"></a>You can use the <code>oppoint</code> parameter of the <code>info</code> analysis to output the operating point information for devices and stacked devices, and node voltages and currents. The <code>oppoint</code> parameter accepts the following values:</p>
<p>
<a id="pgfId-954883"></a><code>node</code> - Report only node voltages and source currents</p>
<p>
<a id="pgfId-954951"></a><code>dev</code> - Report the operating point information of only the devices</p>
<p>
<a id="pgfId-955031"></a><code>subckt</code> - Report the operating point information of only the stacked devices</p>
<p>
<a id="pgfId-955146"></a><code>alldev</code> - Report the operating point information of regular and stacked devices</p>
<p>
<a id="pgfId-955117"></a><code>all</code> - Report devices, stacked devices and node voltage/source currents</p>
<p>
<a id="pgfId-955307"></a>The operating point information is stored based on the value specified for the <code>where</code> parameter. For example, if you specify <code>where=file</code>, by default, the operating point information is stored in a *<code>.oppoint</code> file. You can change the file name using the <code>file</code> parameter. If you do not specify the <code>where</code> parameter, the operating point information is saved in the log file.</p>
<p>
<a id="pgfId-955440"></a>For example:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-955454"></a>opinfo info what=oppoint where=file oppoint=dev</pre>

<p>
<a id="pgfId-955853"></a>The above command saves the operating point information of only the devices in a file.</p>

<h3>
<a id="pgfId-840867"></a>Calculating <a id="noise"></a>Transient Noise</h3>

<p>
<a id="pgfId-855581"></a>Transient noise provides the benefit of examining the effects of large signal noise on many types of systems. It gives you the opportunity to examine the impact of noise in the time domain on various circuit types without requiring access to the SpectreRF analyses. This capability is an extension to the current transient analysis, and is accompanied by enhancements to several calculator functions, allowing you to calculate multiple occurrences of measurements such as risetime and overshoot. Spectre provides both a single run and multiple run method of simulating transient noise. The single run method, which involves a single transient run over several cycles of operation, is best suited for applications where undesirable start-up behavior is present. The multiple run method, which involves a statistical sweep of several iterations over a single period, is recommended for users who are able to take advantage of distributed processing.</p>
<p>
<a id="pgfId-854568"></a>Set the following parameters to calculate noise during a transient analysis.</p>
<table class="webflareTable" id="#id877050">
<tbody><tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-877052"></a><code>trannoisemethod=default</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-877112"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-877133"></a>Use this option to enable the adaptive noise step control. Possible values are <code>default</code> and <code>adaptive</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-877108"></a><code>noisefmax=0 (Hz)</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-877110"></a>Bandwidth of pseudorandom noise sources. A valid (nonzero) value turns on the noise sources during transient analysis. The maximal time step of the transient analysis is limited to 1/noisefmax.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-877156"></a><code>noisescale=1</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-877158"></a>Noise scale factor applied to all generated noise. It can be used to artificially inflate the small noise to make it visible over transient analysis numerical noise floor, but it should be small enough to maintain the nonlinear operation of the circuit.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-877164"></a><code>noiseseed</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-877166"></a>Seed for the random number generator. Specifying the same seed allows you to reproduce a previous experiment.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-951932"></a>mc_auto_noiseseed=no</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-952086"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-952090"></a>Use this option to regenerate the seed at every monte carlo iteration. Possible values are <code>yes</code> and <code>no</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-877172"></a><code>noisefmin (Hz)</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-877174"></a>If specified, the power spectral density of noise sources depend on frequency in the interval from <code>noisefmin</code> to <code>noisefmax</code>. Below <code>noisefmin</code>, noise power density is constant. The default value is <code>noisefmax</code>, so that only white noise is included and noise sources are evaluated at <code>noisefmax</code> for all models. 1/<code>noisefmin</code> cannot exceed the requested time duration of transient analysis.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-877192"></a><code>noiseon=[...]</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-877194"></a>The list of instances to be considered as noisy during transient noise analysis.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-877196"></a><code>noiseoff=[...]</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-877198"></a>The list of instances to be considered as not noisy during transient noise analysis.</p>
</td>
</tr>
</tbody></table>

<h4>
<a id="pgfId-854554"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-857254"></a>tr1 tran stop=4u noisefmax=5G noisefmin=1Meg noiseseed=1 noisescale=10 \<br />param=isnoisy param_vec=[0 1 10ns 0 50ns 1]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-857255"></a>tr1 tran stop=4u noisefmax=5G noiseupdate=step noiseseed=1 noisescale=10</pre>
<h3>
<a id="pgfId-857253"></a>Performing Small-Signal Analyses during a Transient Analysis</h3>

<p>
<a id="pgfId-855623"></a>You can perform an AC and/or noise analysis at specific times during a transient analysis. The Spectre circuit simulator stops the transient analysis at the specified times, saves operating point information, and performs the AC and/or noise analysis. </p>
<p>
<a id="pgfId-855630"></a>This type of simulation is useful when you want to run an AC analysis after getting past specific start-up behavior, or when there is more than one point along the transient run that can be thought of as steady-state. </p>
<p>
<a id="pgfId-855650"></a>The syntax for performing a small-signal analysis during transient analysis is:</p>

<a id="pgfId-855651"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
<code><em>Name</em></code> tran stop=<code><em>stop</em></code> actimes=<code><em>time</em></code> acnames=<code><em>name</em></code></pre>

<p>
<a id="pgfId-855652"></a>Where:</p>
<table class="webflareTable" id="#id877199">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-877201"></a><span class="webflare-courier-new" style="white-space:pre"><em>Name</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-877203"></a>The name of the transient analysis</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-877205"></a><code>stop</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-877207"></a>The time at which the transient analysis is to be put on hold.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-877209"></a><code>actimes</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-877211"></a>The time points at which the analyses specified by <code>acnames</code> are performed.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-877213"></a><code>acnames</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-877215"></a>The names of the analyses to be performed at each time point in the <code>actimes</code> array. Allowed child analyses are: <code>ac</code>, <code>noise</code>, <code>sp</code>, <code>stb</code>, or <code>xf</code>.</p>
</td>
</tr>
</tbody></table>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-904641"></a>mytran tran stop=5n actim<a id="actime_pairs"></a>es=[3n 4n] acnames=[myac noise1]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-904643"></a>myac ac &#8230;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-904637"></a>noise1 (1 0) noise &#8230;</pre>

<p>
<a id="pgfId-904680"></a>In the above example, <code>myac</code> analysis will be called at <code>3n</code> and <code>noise1</code> analysis will be called at <code>4n</code>. You can specify <code>actime_pair=</code> <code>no</code> to call both <code>myac</code> and <code>noise1</code> analyses at both time points. For example:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-904739"></a>mytran tran stop=5n actimes=[3n 4n] acnames=[myac noise1] actime_pair=no</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-904741"></a>myac ac &#8230;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-904755"></a>noise1 (1 0) noise &#8230;</pre>

<p>
<a id="pgfId-904758"></a>In the above example, both <code>myac</code> and <code>noise1</code> analyses will be called at <code>3n</code> and <code>4n</code>.</p>

<h3>
<a id="pgfId-862907"></a>Generating EMIR Output During <a id="emir_output_tran"></a>Transient Analysis</h3>

<p>
<a id="pgfId-862955"></a>You can use transient analysis in Spectre/Spectre APS to generate the binary <span class="webflare-courier-new" style="white-space:pre"><em>tranName</em></span><code>_emir_vavo.db</code> database file, which can be directly used by VAVO/VAEO for electro-migration (EM) and IR-drop analysis. This significantly improves the efficiency and capability of Spectre in the VAVO/VAEO flow.</p>
<p>
<a id="pgfId-862956"></a>The syntax for generating EMIR output during transient analysis is as follows: </p>

<a id="pgfId-862957"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
Name tran [emirformat=vavo|none] [emirstart=time] [emirstop=time] [emirfile=dbfileName]</pre>

<p>
<a id="pgfId-862958"></a>Where:</p>
<table class="webflareTable" id="#id877222">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-877224"></a><span class="webflare-courier-new" style="white-space:pre"><em>Name</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-877226"></a>The name of the transient analysis.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-877228"></a><code>emirformat</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-877230"></a>Turns on the <code>vavo.db</code> file output capability. Possible values are <code>vavo</code> and <code>none</code>. Default is <code>none</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-877232"></a><code>emirstart</code>/<code>emirstop</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-877234"></a>Specifies the time window start and stop times. The default of start and stop times are same as the start and stop times for transient analysis, respectively.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-877236"></a><code>emirfile</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-877238"></a>Specifies the name of the EM/IR output database file. Default is <span class="webflare-courier-new" style="white-space:pre"><em>tranName</em></span><code>_emir_vavo.db</code>. This file is saved in the raw directory.</p>
</td>
</tr>
</tbody></table>

<h4>
<a id="pgfId-862962"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-862963"></a>tran1 tran stop=15s errpreset=moderate emirformat=vavo emirfile=&quot;testDB&quot; emirstart=1s emirstop=15s</pre>

<p>
<a id="pgfId-863164"></a>Calculates the required information for EM and IR analysis and saves it in the <code>tran1_emir_vavo.db</code> file.</p>

<h3>
<a id="pgfId-885296"></a>Performing Event-Triggered Ana<a id="event_analysis"></a>lysis During Transient Analysis</h3>

<p>
<a id="pgfId-885337"></a>At times, you may want to trigger an action in transient analysis whenever there is a change in the circuit behavior. For example, when the voltage at node n1 (<code>v(n1)</code>) crosses <code>vdd/2</code>, you may want to enable asserts. The event-triggered analysis enables you to capture events in the circuit and perform actions based on those events.</p>
<p>
<a id="pgfId-889922"></a>The general form of an event expression is <code>&quot;@(</code><span class="webflare-courier-new" style="white-space:pre"><em>basic_event</em></span><code>, </code><span class="webflare-courier-new" style="white-space:pre"><em>N</em></span><code>) + </code><span class="webflare-courier-new" style="white-space:pre"><em>delay</em></span><code>&quot;</code>. </p>
<p>
<a id="pgfId-890002"></a>Here, <code>N</code> is the selector of the event. A positive value for <code>N</code> means the Nth occurrence of the <code>basic_event</code> needs to be selected. A negative value means the Nth occurrence and the occurrence just before the Nth occurrence of the <code>basic_event</code> needs to be selected. A value 0 means all occurrences of the <code>basic_event</code> need to be selected. If <code>N</code> is not specified, it means the first occurrence of the <code>basic_event</code> needs to be selected.</p>
<p>
<a id="pgfId-890334"></a><code>delay</code> specifies the delay time after the selected event occurrences. You should specify a positive value for <code>delay</code>.</p>
<p>
<a id="pgfId-890596"></a>Both <code>N</code> and <code>delay</code> are optional. However, if specified, they must be a constant SFE expression. For example, the following event expression is valid:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-890771"></a>&quot;@(assert1, myparam0 + 1) + myparam1+myparam2&quot;</pre>

<p>
<a id="pgfId-890789"></a>The following event expressions are invalid:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-890837"></a>&#8220;@(assert1) + V(out)&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-890853"></a>&quot;@(assert1) +@(event)&quot;</pre>

<p>
<a id="pgfId-885688"></a>The event name should be enclosed within parentheses. In addition, when specifying an event expression in the netlist, you must enclose the expression within double quotes or parentheses. For example, <strong>&quot;</strong><code>@(event)</code><strong>&quot;</strong> or <strong>(</strong><code>@(event)</code><strong>)</strong>.</p>
<p>
<a id="pgfId-889885"></a>You can capture the following events during transient analysis:</p>
<ul><li>
<a id="pgfId-885740"></a>An explicit time (number/parameter)<br />
<a id="pgfId-886030"></a><code>@(time)</code>, <code>@(param_name)</code></li><li>
<a id="pgfId-885826"></a>Time when the design variable changes from zero to non-zero<br />
<a id="pgfId-886060"></a><code>@(inst_name:variable_name)</code></li><li>
<a id="pgfId-885894"></a>Time when an assert is triggered<br />
<a id="pgfId-886094"></a><code>@(assert_name)</code></li><li>
<a id="pgfId-885928"></a>Time when a measurement completes<br />
<a id="pgfId-886116"></a><code>@(meas_name)</code></li><li>
<a id="pgfId-885965"></a>Delay event<br />
<a id="pgfId-886135"></a><code>@(event) +10n</code></li><li>
<a id="pgfId-885993"></a>Event selection<br />
<a id="pgfId-886155"></a><code>@(event,2)</code></li></ul>











<p>
<a id="pgfId-886174"></a>You may perform the following actions when an event is triggered:</p>
<ul><li>
<a id="pgfId-886248"></a>Run analysis specified at <code>actimes</code>/<code>infotimes</code></li><li>
<a id="pgfId-886295"></a>Change a dynamic parameter</li><li>
<a id="pgfId-886323"></a>Enable/disable asserts</li><li>
<a id="pgfId-886347"></a>Enable/disable diagnostics</li></ul>




<h4><em>
<a id="pgfId-886432"></a>Example1</em></h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-886958"></a>simulator lang=spice</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-886959"></a>.measure vout_avg avg v(out) from=1u to=5u</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-886960"></a>simulator lang=spectre</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-886961"></a>tran tran stop=10u param=reltol param_vec=[0 1e-4 &quot;@(vout_avg)&quot; 1e-2]</pre>

<p>
<a id="pgfId-886474"></a>In the above example, the value of <code>reltol</code> will change from <code>1e-4</code> to <code>1e-2</code> after the measurement <code>vout_avg</code> is finished.</p>

<h4><em>
<a id="pgfId-886558"></a>Example2</em></h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-887005"></a>assert1 assert expr=&quot;v(out)&gt;vdd/2&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-887006"></a>tran tran stop=10u infotimes=[&quot;@(assert1)&quot;] infoname=op_info</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-887007"></a>op_info info what=oppoint where=file</pre>

<p>
<a id="pgfId-886591"></a>In the above example, the operating information will be output to a file when <code>assert1</code> is triggered for the first time.</p>

<h2>
<a id="pgfId-906099"></a><a id="54815"></a>Fault An<a id="fault_analysis"></a>alysis</h2>

<p>
<a id="pgfId-956404"></a>Spectre fault analysis provides a transistor-level simulation capability that can be enabled in an analog test methodology to improve test coverage by identifying critical test patterns. Spectre transient fault analysis is very fast in handling a large numbers of faults. Spectre direct fault analysis provides high accuracy results when full fault analysis precision is required.</p>

<h3>
<a id="pgfId-956405"></a>Analog Test Overview</h3>

<p>
<a id="pgfId-956406"></a>A typical analog test methodology consists of defect creation, fault analysis, and test optimization for better test vector, or better defect coverage.</p>

<h4>
<a id="pgfId-956407"></a>Defect Creation</h4>

<p>
<a id="pgfId-956408"></a>Design defects are the input to fault analysis. Realistic defects can be extracted from the schematic design according to certain rules, or from the layout, based on the design geometry.</p>

<h4>
<a id="pgfId-956409"></a>Fault Analysis</h4>

<p>
<a id="pgfId-956410"></a>The defects are modeled as faults and provided to the Spectre circuit simulator to perform fault analysis. Without any simulation performance optimization, a complete fault analysis can take significant amount of time when the number of defects is large.</p>

<h4>
<a id="pgfId-956411"></a>Application of Fault Analysis</h4>

<p>
<a id="pgfId-956412"></a>Spectre analog fault analysis provides the capability to estimate fault coverage by generating a detection matrix. In addition, it can be used as part of functional safety analysis. </p>
<p>
<a id="pgfId-956413"></a>The defect detection matrix can be obtained by comparing the faulty simulation results with nominal (faultless) data. You can further optimize the test to improve the defect coverage based on the defect detection matrix. </p>
<p>
<a id="pgfId-956414"></a>In functional safety applications, fault detection is tracked for both functional and diagnostic modules, but reported separately. Functional safety report can be generated based on fault analysis results.</p>

<h4><em>
<a id="pgfId-956415"></a>Defect Detection Matrix</em></h4>

<p>
<a id="pgfId-956416"></a>The following figure shows an example of detection matrix created by processing the fault simulation:</p>

<p>
<a id="pgfId-956420"></a></p>
<div class="webflare-div-image">
<img width="668" height="125" src="images/chap7-4.gif" /></div>

<p>
<a id="pgfId-956421"></a>Test engineers can use the detection matrix to identify the optimum test vector and fault time points, or to minimize the subset of production tests to meet the required percentage of defect coverage. For example, the fault points at <code>3.0ms</code>, and <code>4.5ms</code>, capture most of the defects. </p>

<h4><em>
<a id="pgfId-956422"></a>Functional Safety Report</em></h4>

<p>
<a id="pgfId-956423"></a>If the faults are detected by asserts by specifying the boundaries, a functional safety report can be generated based on the assert violation output, as shown below.</p>

<p>
<a id="pgfId-956427"></a> </p>
<div class="webflare-div-image">
<img width="668" height="227" src="images/chap7-5.gif" /></div>

<p>
<a id="pgfId-956428"></a>Fault detection is enabled for both functional and diagnostic modules and is classified according to the ISO 26262 standard that classifies safe/dangerous and detected/undetected defects.</p>

<h3>
<a id="pgfId-956429"></a>Fault Analysis Technology</h3>
<h4>
<a id="pgfId-956430"></a>Technology Overview</h4>

<p>
<a id="pgfId-956431"></a>You can perform fault analysis in Spectre by using one of the following approaches:</p>
<ul><li>
<a id="pgfId-956432"></a><strong>Direct Fault analysis</strong>. In the direct fault analysis flow, faults are injected at the beginning of each analysis type, such as dc, ac, transient, and so on. This mode provides the most accurate results. However, when the number of faults is large, the simulation takes much longer to complete. </li><li>
<a id="pgfId-956433"></a><strong>Transient Fault Analysis</strong>: To address the challenge of long simulation time, a new algorithm has been implemented in transient fault analysis. In this simulation flow, a circuit with fault list is simulated together with the fault times specified on the time axis. Spectre starts regular transient analysis till the time reaches the fault time point. Then, at each fault time, following actions are performed: <ul><li>
<a id="pgfId-956434"></a>Fault-free transient state is saved </li><li>
<a id="pgfId-956435"></a>A fault is injected into the circuit</li><li>
<a id="pgfId-956436"></a>With fault-free state used as the initial condition, transient fault simulation is continued with regular time step control and accuracy settings </li><li>
<a id="pgfId-956437"></a>The result is saved and the database is cleaned when all fault solutions are found</li><li>
<a id="pgfId-956438"></a>Fault-free transient simulation is restored and continues till the next test time point </li></ul></li></ul>







<h4>
<a id="pgfId-956439"></a>Fault List</h4>

<p>
<a id="pgfId-956440"></a>In fault analysis, it is mandatory to specify a fault list that defines the type and location of faults. The fault list can be extracted from the schematic design, the layout design, or from customized fault creation tools. Spectre supports bridge (short), open, and custom faults. </p>
<p>
<a id="pgfId-976509"></a>The following is the syntax to specify faults in a fault block:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-956441"></a>name <strong>faults</strong> &lt;parameter=value&gt; [weight_factor=&lt;expression&gt;] \ [weight_expr=&lt;expression&gt;] [sub=subckt_model |inst=instance] {</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956442"></a>    <strong>bridge</strong> {</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956443"></a>        &lt;name&gt; ( &lt;node1&gt; &lt;node2&gt; ) r = &lt;expression&gt; [dev=&lt;instance&gt;] [weight=value]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956444"></a>    }</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956445"></a>    <strong>short</strong> {</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-973413"></a>        &lt;name&gt; ( &lt;node1&gt; &lt;node2&gt; ) r = &lt;expression&gt; [dev=&lt;instance&gt;] [weight=value]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956446"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956447"></a>    }</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956448"></a>    <strong>open</strong> {</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956449"></a>        &lt;name&gt; ( &lt;node&gt;  ) r = &lt;expression&gt; [ c = &lt;expression&gt; ] [weight=value]
&#160;&#160;&#160;&#160; { instance1[:terminal] [instance2[:terminal2]]&#8230; }</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956450"></a>    }
&#160;&#160;&#160;&#160;<strong>custom</strong> {
&#160;&#160;&#160;&#160; &lt;name_ins&gt; (&lt;node1&gt; &lt;node2...) &lt;subckt_mode1 [param=&lt;expr&gt;]<br />  &lt;name_rep1&gt; (&lt;node1&gt; &lt;node2...) &lt;subckt_mode1 [param=&lt;expr&gt;]<br />     origninal_inst=&lt;name_orig&gt;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-960703"></a>  &lt;name_open&gt; (&lt;node&gt;) fault_subckt=&lt;subckt_model&gt; [param=&lt;expr&gt;]<br />     {instance1[:terminal1][instance2[:terminal2]...}</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956451"></a> }</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-977989"></a> <strong>parametric</strong> {</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-978004"></a>  &lt;name&gt; alter &lt;param=name&gt; &lt;value=value&gt; [dev=name | mod=name | sub=name]<br /> }</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-978096"></a>}</pre>

<p>
<a id="pgfId-960944"></a>The <code>faults</code> block is used to specify the faults to be simulated in fault analysis. Each block may contain several sub-blocks with keywords according to the type of fault &#8211; <code>bridge</code> (or equivalently <code>short</code>), <code>open</code>, and <code>custom</code>.</p>
<p>
<a id="pgfId-956453"></a>The <code>bridge</code> block (or <code>short</code> block) specifies the resistance value between any two nodes of a circuit. The node names may be specified hierarchically.</p>
<p>
<a id="pgfId-956456"></a>Within the <code>faults</code> block, the <code>bridge</code>, <code>short</code>, <code>open</code>, and <code>custom</code> blocks are optional. If none are specified, a warning message is generated and the <code>faults</code> block is ignored. If more than one <code>bridge</code>, <code>short</code>, <code>open</code>, or <code>custom</code> blocks is specified within a <code>faults</code> block, they are concatenated and treated as one block. Every fault name in a <code>faults</code> block must be unique. Duplicate names result in an error. You can use global parameters in <code>expression</code>.</p>
<p>
<a id="pgfId-956457"></a>More than one <code>faults</code> block may be specified in the netlist and each <code>faults</code> block must have a unique name and a set of parameters associated with it. </p>
<p>
<a id="pgfId-980870"></a>The fault block parameters <code>sub=</code><span class="webflare-courier-new" style="white-space:pre"><em>subckt_model</em></span> and <code>inst=</code><span class="webflare-courier-new" style="white-space:pre"><em>instance</em></span> enable you to use the local node and instance names in the fault statements within the subcircuit or the subcircuit instance scope. This is useful when the original fault list is created and verified based on one design which is defined later as a subcircuit and instantiated in another bigger design. For example, in VCO design, one of the bridges is created as </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-980871"></a>bridge_1 (net10 net20) r=10 dev=M2&#160;&#160; //mosn d g</pre>

<p>
<a id="pgfId-980872"></a>Later, if VCO is included in the PLL design as a subcircuit <code>VCO</code> and instantiated as <code>I0</code>, the fault list has to be modified manually as</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-980873"></a>bridge_1 (top.I0.net10&#160;&#160;top.I0.net20) r=10 dev=top.I0.M2&#160;&#160; // mosn d g</pre>

<p>
<a id="pgfId-980874"></a>If <code>sub=VCO</code> or <code>inst=top.I0</code> is specified in the fault block, then no modification is needed. Spectre takes care of the node tracing with subcircuit or instance name.</p>
<p>
<a id="pgfId-980875"></a>By default, all faults in the list have the equal weights while calculating the fault coverage rate. You can use the <code>weight_expr</code> and <code>weight_factor</code> parameters to re-define fault weighting using the weight expression for different faults and fault blocks. </p>
<p>
<a id="pgfId-980877"></a>The optional parameter <code>dev</code> in <code>bridge|short</code> statement refers to the specific instance to which the fault is related. </p>

<h4><em>
<a id="pgfId-961228"></a>Bridges</em></h4>

<p>
<a id="pgfId-961254"></a>Bridge faults represent catastrophic failures due to two nets being shorted together, where the nets are shorted by a low-value resistor.The fault statement in the <code>bridge</code> (<code>short</code>) block specifies two nodes to be shorted in the netlist and a resistance value specified using parameter <code>r</code>. The node names may be specified hierarchically.</p>
<p>
<a id="pgfId-956458"></a>The following example shows the sequential insertion and analysis of bridge.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-956459"></a>R1 (a b) resistor r=1k</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956460"></a>R2 (a d) resistor r=1k </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956461"></a>M1 (d a bb bb) nmos </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956462"></a>M2 (a g dd dd) nmos</pre>
<p>
<a id="pgfId-956466"></a></p>
<div class="webflare-div-image">
<img width="668" height="260" src="images/chap7-6.gif" /></div>

<p>
<a id="pgfId-961295"></a>The <code>bridge_1</code> instance in the following example performs insertion of a 10 Ohm resistor between terminals <code>g</code> and <code>s</code>.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-961355"></a>parameters resBridge=10</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-961356"></a>Bridges faults {</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-961357"></a>bridge {</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-961358"></a> bridge_1 (g a) r=resBridge dev=M2 //mosn g&#160;&#160; s</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-961359"></a> }</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-961351"></a>}</pre>

<p>
<a id="pgfId-978102"></a>The commented notations in the fault statement are included as additional information about faulty device. In the above example, <code>mosn</code> is the model name (it can be a primitive, or subcircuit name) and <code>g</code> and <code>s</code> are the names of shorted pins. </p>
<p>
<a id="pgfId-961379"></a>The net connectivity after the insertion of <code>bridge_1</code> can be described by the following netlist. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-956480"></a>R1 (a b) resistor r=1k </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956481"></a>R2 (a d) resistor r=1k </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956482"></a>M1 (d a bb bb) nmos </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956483"></a>M2 (a g dd dd) nmos </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956484"></a>Rbridge_1 (g a) resistor r=10 </pre>
<p>
<a id="pgfId-976586"></a></p>
<div class="webflare-div-image">
<img width="668" height="244" src="images/chap7-7.gif" /></div>

<p>
<a id="pgfId-956488"></a>When fault simulation starts, Spectre adjusts the connectivity accordingly.</p>

<h4><em>
<a id="pgfId-961410"></a>Opens</em></h4>

<p>
<a id="pgfId-961425"></a>Open faults represent catastrophic failures due to a break in a net, where open is represented by a high-value resistor. The open can also be represented as an impedance or a shunt combination of a resistor and capacitor. The <code>open</code> block specifies the nodes that are split into two. </p>
<p>
<a id="pgfId-973558"></a>The <code>node</code> in the statement is the name of the net that is broken by the open fault. The parameter <code>r</code> specifies the resistance between the new fault node and the original node. An optional parameter <code>c</code> specifies the capacitance between the new fault node and the original node. </p>
<p>
<a id="pgfId-961509"></a>The last block describes the topology change providing the list of the instances or terminals to be connected to the new node. All terminals or instances, not specified in the list, remain connected to the original node. If no instance list is specified, a warning message is generated, and the fault is ignored.</p>
<p>
<a id="pgfId-961432"></a>The terminals are specified by name, or numerically, starting from 1. That is, terminal number 1 is the first terminal of the instance. If the specified terminal number of an instance in the instance list is not connected to the original node, an error message is generated. If no terminal list is specified for an instance, all terminals of that instance, connected to the original node, are connected to the new node. The node and instance names can be specified hierarchically. Device and subcircuit instances can be used for topology change description.</p>
<p>
<a id="pgfId-961544"></a>The example netlist below illustrates the open fault injection. The open fault instance <code>open_1</code> requests splitting the node <code>a</code> into two nodes, where the original node <code>a</code> stays connected to <code>R1</code> and <code>R2</code>, and the new node <code>x</code> is connected to <code>M1:g</code> and <code>M2:d</code>. A <code>1</code> GOhm resistor is inserted between the original and new nodes.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-961645"></a>parameters resOpen=1e9</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-961646"></a>Opens faults {</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-961647"></a>open {</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-961648"></a> open_1 (a) r=resOpen { M2:d M1:g } //mosn g</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-961649"></a> }</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-961641"></a>}</pre>

<p>
<a id="pgfId-956489"></a>The connectivity after the insertion of <code>open_1</code> can be described by the following netlist:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-956490"></a>R1 (x b) resistor r=1k </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956491"></a>R2 (x d) resistor r=1k </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956492"></a>M1 (d x bb bb) nmos </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956493"></a>M2 (x g dd dd) nmos </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956494"></a>Ropen_1 (a x) resistor r=1e9 </pre>
<p>
<a id="pgfId-956498"></a></p>
<div class="webflare-div-image">
<img width="668" height="275" src="images/chap7-8.gif" /></div>

<p>
<a id="pgfId-956499"></a>You can use the definition of the open fault to probe the voltage or current at the new node (<code>x</code>). In the example below, the terminals specified in the open fault will be connected to the new node.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-956500"></a>open_1 (a) r=resOpen { M2:d M1:g }</pre>

<p>
<a id="pgfId-956501"></a>Use the <code>save</code> statement to probe the voltage at the new node, as shown below.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-956502"></a>save a M2.d</pre>

<p>
<a id="pgfId-956503"></a>or </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-956504"></a>save a M1.g</pre>

<p>
<a id="pgfId-956505"></a>The current through the open fault should be very small. To verify the current value, you can use the <code>save</code> statement, as follows:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-956506"></a>save M2:d </pre>

<p>
<a id="pgfId-956507"></a>or</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-956508"></a>save M1:g</pre>

<p>
<a id="pgfId-956509"></a>When the open instance statement contains several terminals, any terminal can be used in the <code>save</code> statement.</p>
<p>
<a id="pgfId-956510"></a>Probing of current and voltage at the new node is available in direct fault analysis and detailed raw files are saved when <code>faultsave=all</code> is used. These signals are not saved in <code>tran_faults.raw</code> and table files. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-956511"></a>The goal of probing is to provide a method to debug or investigate one or few open faults, and not for the definition of <code>M2.d</code> as a fault detection signal.</div>

<h4><em>
<a id="pgfId-961703"></a>Custo<a id="custom_faults"></a>m Faults</em></h4>

<p>
<a id="pgfId-961727"></a>Spectre supports three types of custom faults: custom insertion, custom replacement and custom open. The custom fault model is specified as a subcircuit and defined outside the fault block. The custom subcircuit instances are specified in the <code>custom</code> fault block. Spectre injects the custom instances into the original netlist when fault simulation is requested and applies the connectivity accordingly.</p>
<p>
<a id="pgfId-961731"></a>For insertion faults, the number of terminals in the <code>custom</code> fault statement must match the number of terminals of the custom subcircuit.</p>
<p>
<a id="pgfId-961799"></a>For replacement faults, the number of terminals in the <code>custom</code> fault statement must match the number of terminals of the custom subcircuit and the device or the subcircuit instance to be replaced.</p>
<p>
<a id="pgfId-961801"></a>The custom open fault statement and the custom subcircuit must have two terminals always. A warning message is generated when an inconsistent terminal number is detected.</p>
<p>
<a id="pgfId-961803"></a>You can use a Verilog-A model as a faulty subcircuit by including it as a part of the Spectre subcircuit definition.</p>
<p>
<a id="pgfId-961805"></a>The custom fault injection and simulation is compatible with all available direct fault analysis (DFA) and transient fault analysis (TFA) parameters, similar to bridge and open faults. The only limitation is the automated three step flow compatibility; custom fault simulation is not available in <code>+fsa</code> mode.</p>
<p>
<a id="pgfId-961808"></a>The following example netlists and schematics are used to illustrate the sequential insertion and analysis of different types custom faults:</p>
<p>
<a id="pgfId-961982"></a><strong>Custom Insertion Fault</strong></p>
<p>
<a id="pgfId-962018"></a>For custom insertion fault, the customized subcircuit instance is connected to the nodes specified in the <code>fault</code> statement to perform fault simulation. The example below shows that fault instance <code>I0</code> is inserted into the nominal circuit by connecting <code>n1</code> and <code>n2</code>.</p>

<p>
<a id="pgfId-962099"></a></p>
<div class="webflare-div-image">
<img width="668" height="288" src="images/chap7-9.gif" /></div>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-962110"></a>InsertBlock faults paramsubckt=1n {</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-962111"></a> custom {</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-962112"></a>  I0 (n1 n2) insFaultRC</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-962113"></a> }</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-962080"></a>}</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-962133"></a>subckt insFaultRC n11 n22</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-962134"></a> rx (n11 net0) resistor r=100</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-962135"></a> ry (net0 n22) resistor r=200</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-962136"></a> c1 (n11 n22) capacitor c=100f</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-962129"></a>ends insFaultRC</pre>

<p>
<a id="pgfId-962158"></a>The circuit connectivity with the custom insertion fault injected is shown in the following figure:</p>

<p>
<a id="pgfId-962232"></a></p>
<div class="webflare-div-image">
<img width="668" height="288" src="images/chap7-10.gif" /></div>

<p>
<a id="pgfId-962210"></a><strong>Custom Replacement Fault</strong></p>
<p>
<a id="pgfId-962267"></a>For the custom replacement fault, the device or subcircuit instance specified as <code>original_inst</code> is replaced by the custom subcircuit. The order and number of terminals should match.</p>

<p>
<a id="pgfId-962325"></a></p>
<div class="webflare-div-image">
<img width="668" height="287" src="images/chap7-11.gif" /></div>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-962307"></a>ReplaceBlock faults paramsubckt=1p {</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-962348"></a> custom {</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-962349"></a>  I0 (n2 out vdd vss) replFaultSubckt original_inst=I1.INV0</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-962350"></a> }</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-962351"></a>}</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-962352"></a>subckt replFaultSubckt in out vdd vss</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-962353"></a> Mp (vdd in out out) pch w=2u l=0.1u</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-962354"></a> Cp (in out) capacitor c=1p</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-962355"></a> Rp (out vss) resistor r=1k</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-962344"></a>ends replFaultSubckt</pre>

<p>
<a id="pgfId-962382"></a>The above example shows how the original instance defined with <code>original_inst=I1.INV0</code> in the above figure is replaced by the fault subcircuit of <code>replFaultSubckt</code> and schematic changes, as shown below.</p>

<p>
<a id="pgfId-962470"></a></p>
<div class="webflare-div-image">
<img width="668" height="314" src="images/chap7-12.gif" /></div>

<p>
<a id="pgfId-962450"></a><strong>Custom Open Fault</strong></p>
<p>
<a id="pgfId-962505"></a>For custom open fault, the node specified in the <code>open</code> statement is split into two nodes and the custom subcircuit fault is inserted. The valid terminal number for custom open subcircuit is 2.</p>
<p>
<a id="pgfId-962507"></a>The terminal connectivity is handled similarly to the regular open faults. The first terminal of custom subcircuit is connected to the original node while the second terminal is connected to the new node.</p>
<p>
<a id="pgfId-962509"></a>In the following example, the two terminal instances get inserted between the original node <code>N1</code> and the new node <code>X</code>.</p>

<p>
<a id="pgfId-962575"></a></p>
<div class="webflare-div-image">
<img width="668" height="330" src="images/chap7-13.gif" /></div>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-962579"></a>OpenBlock faults paramsubckt=1n {</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-962580"></a> custom {</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-962581"></a>  I0 (n1) opnFaultSubckt {M1:g M0:g}</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-962582"></a> }</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-962583"></a>}</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-962584"></a>subckt opnFaultSubckt in out</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-962585"></a> Rx (in out) resistor r=1k</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-962586"></a> Co (in out) capacitor c=1p</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-962587"></a> Lo (in net) inductor l=10n</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-962588"></a> Ro (net out) resistor r=100</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-962561"></a>ends opnFaultSubckt</pre>
<p>
<a id="pgfId-962623"></a></p>
<div class="webflare-div-image">
<img width="668" height="306" src="images/chap7-14.gif" /></div>
<h4><em>
<a id="pgfId-978151"></a>Parame<a id="parametric_fault"></a>tric Faults</em></h4>

<p>
<a id="pgfId-978200"></a>Parametric (or soft) faults are used to simulate the variations in the principle parameters of circuit&#39;s elements, and do not change the circuit&#39;s topology. It can be a process parameter, or the first-order electrical characteristic of a circuit element.</p>
<p>
<a id="pgfId-978202"></a>The <code>parametric</code> block specifies <code>alter</code> statements for a single parameter. Device, subcircuit, model, or global parameters can be used in the <code>alter</code> statement.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-978204"></a>paramFaults faults {</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-978205"></a> parametric {</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-978206"></a> &#160;&#160;  paramFault_1 alter dev=vd param=dc value=-5</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-978207"></a> &#160;&#160;  paramFault_2 alter dev=vd param=dc value=0</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-978208"></a> &#160;&#160;  paramFault_3 alter dev=vd param=dc value=5</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-978209"></a>}</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-978210"></a>}</pre>

<p>
<a id="pgfId-981183"></a>Each fault statement can change only one value. In the example above, three dc values are specified in three different alter statements.</p>
<p>
<a id="pgfId-981184"></a>You can also change the subcircuit instance parameter, model parameter, and global parameter, as shown below.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-981185"></a>softFaults faults {</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-981186"></a>parametric {</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-981187"></a> &#160;&#160;  subFault_1 alter sub=INV param=w value=700n</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-981188"></a> &#160;&#160;  modFault_2 alter mod=NMOS param=vth0 value=0.65</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-981189"></a> &#160;&#160;  gloFault_3 alter param=temp value=125</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-981190"></a>  }</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-981191"></a>}</pre>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-980715"></a>Parametric fault simulation is supported in the automated three-step process.</div>

<h4>
<a id="pgfId-956540"></a>Creating a Fault List</h4>

<p>
<a id="pgfId-956541"></a>To perform fault analysis, a fault list is a critical input to model the defect of an analog test. The Spectre <code>info</code> analysis generates the fault list, based on primitives, models, or subcircuits of a given design. Three types of the resistive fault are supported with <code>info</code>: bridges, opens, and custom faults. </p>

<h4><em>
<a id="pgfId-956542"></a>Syntax for Fault Cre<a id="fault_creation"></a>ation</em></h4>
<a id="pgfId-990341"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
nameList info [where=file] file=filename.scs [faultblock=nameBlock] [faultdev=[&#8230;] [faultcustom=[faultsubckt] [faultres=resValue [faultcap=capValue [faultterminals=[&#8230;] [faultrule=2427 [faultcollapse=no [weight_expr=expression [weight_factor=1 [faultlocal=no [faultduplicate=no [faultdeviter=no [faultparam=name [faultvalues=[&#8230;] [faultfile=filename [faultstart=val1 [faultstop=val2 [faultstep=val3 [inst=[&#8230;] [subckt=[&#8230;] [xinst=[&#8230;] [xsubckt=[&#8230;]]]]]]]]]]]]]]]]]]]]]]]]</pre>

<p>
<a id="pgfId-956544"></a>Here:</p>

<p>
<a id="pgfId-990368"></a></p>
<table class="webflareTable" id="#id990369">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-990371"></a>faultblock</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-990373"></a>Specifies the names of the fault blocks to be generated. Default is the name of the <code>info</code> analysis.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-990375"></a><code>faultdev=[dev1 dev2...]</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-990377"></a>specifies the fault devices by primitive name, subcircuit name, or model name. Default value is <code>all</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-990379"></a>faultcustom=[&#8230;]</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-990381"></a>Specifies the custom fault subcircuit by subckt model name from the netlist.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-990508"></a><code>faultres</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-990510"></a>Specifies the resistance value for bridges or opens. The default value is <code>10</code> <code>Ohms</code> for bridges and <code>1</code> <code>GOhms</code> for opens.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-990549"></a><code>faultcap</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-990551"></a>Specifies the capacitance value for open faults. The default value is <code>0</code> <code>F</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-990585"></a><code>faultterminals</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-990587"></a>Specifies the terminals of fault devices for open or short handling. The default value is all terminals.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-990627"></a>faultrule</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-990629"></a>Comply with IEEE 2427 requirements for fault list generation. Possible values are <code>none</code> and <code>2427</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-990661"></a>faultcollapse</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-990663"></a>If set to <code>yes</code>, only one fault is included in the fault list for each set of equivalent faults having the same topology. Possible values are <code>no</code> and <code>yes</code>. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-990665"></a><code>weight_expr</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-990667"></a>Expression to define the fault weighting function.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-990669"></a><code>weight_factor</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-990671"></a>Value to define weighting factor for given block in the fault list.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-990769"></a>faultlocal</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-990826"></a>If set to <code>yes</code>, when <code>inst</code>, or <code>subckt</code> is specified, the local node names are used during fault generation. Possible values are <code>no</code> and <code>yes</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-990773"></a><code>faultduplicate</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-990775"></a>If set to <code>yes</code>, duplicate faults are included in all fault lists when multiple <code>info</code> analyses are specified for fault generation. Possible values are <code>yes</code> and <code>no</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-990777"></a><code>faultdeviter</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-990779"></a>If set to <code>yes</code>, a separate faults list is generated for each iterated instance, that is, for instances whose name contains <code>&lt;</code><span class="webflare-courier-new" style="white-space:pre"><em>number</em></span><code>:[</code><span class="webflare-courier-new" style="white-space:pre"><em>number</em></span><code>]&gt;</code>. Possible values are <code>yes</code>, and <code>no</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-990948"></a><code>faultparam</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-990950"></a>Generate parametric faults for device, model or global parameter to be altered.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-990952"></a><code>faultvalues=[val1 val2 &#8230;]</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-990954"></a>The set of values for <code>faultparam</code> to be altered.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-990956"></a><code>faultfile</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-990958"></a>File name which contains the fault values.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-990781"></a><code>faultstart</code>, <code>faultstop</code>, <code>faultstep</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-990783"></a>The sweeping values for <code>faultparam</code> to be altered.</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-956551"></a>The following parameters are specified with the <code>what</code> argument of the <code>info</code> statement:</p>

<p>
<a id="pgfId-991166"></a></p>
<table class="webflareTable" id="#id991170">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-991172"></a><code>customreplace</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-991174"></a>Generates custom replacement faults to replace the devices listed in <code>faultdev</code> with subcircuit specified in <code>faultcustom</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-991176"></a><code>custominsert</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-991178"></a>Generates custom insertion faults by connecting the subcircuit specified in <code>faultcustom</code> to the terminals <code>faultterminals</code> of devices listed in <code>faultdev</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-991180"></a><code>customopen</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-991182"></a>Generates custom open faults of subcircuit specified in <code>faultcustom</code> that needs to be injected at each specified terminal of <code>faultdev</code>.</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-956552"></a><strong>Scoping Options</strong></p>

<p>
<a id="pgfId-991311"></a></p>
<table class="webflareTable" id="#id991465">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-991317"></a><code>subckt=[sub1 sub2]</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-991319"></a>Generates faults for all the instances of the specified subcircuits.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-991366"></a><code>inst=[inst1 inst2]</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-991368"></a>generates faults for the instances within the specified subcircuits.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-991370"></a><code>xsubckt=[sub1 sub2]</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-956555"></a>skips fault generation for all instances of the specified subcircuits.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-991374"></a><code>xinst=[inst1 inst2]</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-991376"></a>skips fault generation for the instances within the specified subcircuits.</p>
</td>
</tr>
</tbody></table>
<h4><em>
<a id="pgfId-973755"></a>Fault Collapsing and W<a id="fault_weight"></a>eighting Function</em></h4>

<p>
<a id="pgfId-973865"></a>The terms <em>collapsing</em>, <em>redundancy</em> and <em>equivalence</em> are well defined in digital fault simulation and applicable to stuck-at faults and test vectors. In analog fault simulation, <em>collapsing</em> implies that any number of defects that result in the same circuit topology can be collapsed into a single defect for simulation purpose. </p>
<p>
<a id="pgfId-973867"></a>Two or more faults are called equivalent when they short the same nets related to different defect instances. In Spectre, fault collapsing is the process of detection of equivalent faults and taking them into consideration while calculating detection coverage. </p>
<p>
<a id="pgfId-991508"></a>The following two bridges are an example of equivalent faults that can be collapsed during simulation: </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-973868"></a>bridge_1 (vp10 I12.Y) r=10 dev=I12.I0.MN1&#160;&#160; //g45n1svt&#160;&#160; g&#160;&#160;s</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-973869"></a>bridge_2 (vp10 I12.Y) r=10 dev=I12.I0.MP1&#160;&#160; //g45p1svt&#160;&#160; g&#160;&#160;s</pre>

<p>
<a id="pgfId-981321"></a>During fault generation, if you specify the fault collapsing option <code>faultcollapse=yes</code>, in <code>info</code> analysis, the above fault list will be represented as one fault statement with the weight value as <code>2</code>: </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-981322"></a>bridge_1 (vp10 I12.Y) r=10 dev=I12.I0.MN1 weight=2</pre>

<p>
<a id="pgfId-981323"></a>In the above example, we considered that original faults, <code>bridge_1</code> and <code>bridge_2</code>, have weight equals <code>1</code>, which is default value.</p>
<p>
<a id="pgfId-981324"></a>If the original fault list is generated with <code>faultcollapse=no</code>, fault collapsing can be applied before performing simulation using <code>faultcollapse=yes</code> in transient analysis.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-981325"></a>Currently, only bridge faults are compatible with fault collapsing.</div>
<p>
<a id="pgfId-973874"></a>Spectre provides the possibility of fault weighting instead of using equal weight. The expression including circuit or instance parameters can be used as the weighting function. For example, the area of MOS device can be considered as a weight for bridge or open faults related to those devices. </p>
<p>
<a id="pgfId-981442"></a>The weighting function is specified in the <code>faults</code> statement as an expression using the keyword <code>weight_expr</code>, which may include parameters belonging to the <code>dev</code> instance from the <code>bridge</code> statement, or instance from curly brackets in the <code>open</code> fault statement. The weighting function expression supported is the same as the expression supported by <code>assert</code> statement, for example, device parameters and its operating points. The weighting function expression is evaluated for every fault in a given fault block only once per simulation during the fault activation process. </p>
<p>
<a id="pgfId-981443"></a>If the weighting expression is not specified, all faults have the default weight of <code>1</code>.</p>
<p>
<a id="pgfId-981444"></a>If the specified weighting expression cannot be evaluated for some faults in the fault list, those faults will have the weight as <code>0</code>. </p>
<p>
<a id="pgfId-981445"></a>During fault collapsing, the final weight is calculated as the sum of weights of all equivalent faults.</p>
<p>
<a id="pgfId-974214"></a>The following figure shows the fault list generated with <code>info</code> analysis with the given weighting expression.</p>

<p>
<a id="pgfId-974305"></a></p>
<div class="webflare-div-image">
<img width="668" height="186" src="images/chap7-15.gif" /></div>

<p>
<a id="pgfId-974265"></a>If the parameter <code>weight</code> is specified in the individual fault and <code>weight_expr</code> is also specified in <code>faults</code> statement, like the fault list in above example, then, the explicit fault value has higher priority and weighting expression is not evaluated for that fault.</p>
<p>
<a id="pgfId-996832"></a>Ope<a id="open_fault_collapse"></a>n fault collapsing is also supported in the simulation. When two open faults are equivalent, they can be collapsed only if the union of all terminals from <code>{&#8230;}</code> of both the statements is exactly the full set of terminals connected to the given node.</p>
<p>
<a id="pgfId-996834"></a>Spectre can only handle two opens collapsing because of the complexity when too many terminals are connected to the same node. Below are a few examples explaining how open faults collapsing works.</p>
<ul><li>
<a id="pgfId-996836"></a>Open faults defined on the same node but contain no identical terminals disconnected from given node <br /><pre class="webflare-pre-block webflare-courier-new" id="#id996837">
<a id="pgfId-996837"></a><code>open_1 ( 2 ) r=1e9 { R }</code></pre><pre class="webflare-pre-block webflare-courier-new" id="#id996838">
<a id="pgfId-996838"></a><code>open_2 ( 2 ) r=1e9 { C }</code></pre><br />
<a id="pgfId-996896"></a><div class="webflare-div-image">
<img width="668" height="198" src="images/chap7-16.gif" /></div></li><li>
<a id="pgfId-996923"></a>For two terminal primitives, open faults for each terminal are identical. <br /><pre class="webflare-pre-block webflare-courier-new" id="#id996925">
<a id="pgfId-996925"></a>open_1 ( 2 ) r=1e9 { R }</pre><pre class="webflare-pre-block webflare-courier-new" id="#id996926">
<a id="pgfId-996926"></a>open_3 ( 1 ) r=1e9 { R }</pre></li><li>
<a id="pgfId-996828"></a>In the following schematic, each set of the equivalent opens for node <code>n</code> can be collapsed.<br />
<a id="pgfId-997016"></a><div class="webflare-div-image">
<img width="668" height="186" src="images/chap7-17.gif" /></div><pre class="webflare-pre-block webflare-courier-new" id="#id997025">
<a id="pgfId-997025"></a>Opn1 (n) r=1G {R2}   and   Opn2 (n) r=1G {R3 R4} </pre><pre class="webflare-pre-block webflare-courier-new" id="#id997026">
<a id="pgfId-997026"></a>Opn3 (n) r=1G {R3}   and   Opn4 (n) r=1G {R2 R4} </pre><pre class="webflare-pre-block webflare-courier-new" id="#id997027">
<a id="pgfId-997027"></a>Opn5 (n) r=1G {R4}   and   Opn6 (n) r=1G {R2 R3} </pre></li></ul>

















<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-978384"></a>The weighting function is supported for bridges and opens only, and not for custom and parametric faults.</div>

<h4><em>
<a id="pgfId-981564"></a>Limiting in Weight Exp<a id="limiting"></a>ression</em></h4>

<p>
<a id="pgfId-981622"></a>When the <code>faultdev</code> parameter is not specified or contains multiple types of devices or models, then the weighting function in <code>weight_expr</code> may not be evaluated for some of the models. This occurs when the weighting function contains the parameter which does not belong to all models where the fault list is generated. In such situations, Spectre generates a warning message and assigns 0 as weight for that fault. To avoid 0 weight values, you can use the functions <code>fmin</code> and <code>fmax</code> with <code>weight_expr</code>.</p>
<p>
<a id="pgfId-981624"></a>In the following example, the use of <code>fmin</code> prevents the weight from becoming zero if the fault instance does not have parameters <code>w</code> (width), or <code>l</code> (length). If <code>w*l</code> cannot be evaluated, <code>1e-12</code> will be assigned as the weight value.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-981625"></a>weight_expr=fmin(w*l, 1e-12)</pre>

<p>
<a id="pgfId-981627"></a>You can use <code>fmax</code> to limit the <code>weight_expr</code> values. In the following example, <code>fmax</code> clamps the maximum resistance which is used as weighting function:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-981628"></a>weight_expr=fmax(0.1, 0.001*r)</pre>
<h4><em>
<a id="pgfId-974377"></a>Weighted Likel<a id="weighted_likelihood"></a>ihood Calculation</em></h4>

<p>
<a id="pgfId-981897"></a>Some faults are more likely to occur than others; therefore, a test that detects the more likely faults will have a higher coverage than the one that detects the less likely faults. For this reason, Spectre allows you to calculate the defect coverage using the likelihood-weighted sum of the detected faults divided by the likelihood-weighted sum of all simulated faults. The parameters <code>weight_expr</code> and/or <code>weight_factor</code> in <code>faults</code> statement can be used to specify weighted likelihood of the faults during fault list generation, or for an existing fault list.</p>
<p>
<a id="pgfId-981898"></a>The likelihood of a fault occurrence can be based on the circuit element area, proximity of the adjacent interconnect, length of the interconnect, or other factors. The weighting function expression <code>weight_expr</code> can be used to specify these types of effects, based on each device instance for a particular fault.</p>
<p>
<a id="pgfId-981900"></a>Defects can also be weighted by their potential impact on performance, safety, or reliability. For example, open and shorts may have different impact and likelihood for different applications. The <code>weight_factor</code> parameter allows you to specify the likelihood for all faults in a given fault block. It is a constant value for a specific block.</p>
<p>
<a id="pgfId-981998"></a>When the fault list consists of total <code>N</code> number of faults in one or multiple blocks, Spectre will calculate the total weight by adding the weight of each fault. The weighted likelihood of the <code>nth</code> fault <code>Wn</code> is the weight value of that specific fault (based on <code>weight_expr</code> evaluation) normalized by the total weight of all faults, as shown below.</p>
<p>
<a id="pgfId-974424"></a><code>Wn=wn/</code><img width="46" height="37" src="images/chap7-18.gif" />
.</p>


<p>
<a id="pgfId-974429"></a>If a fault list consists of <code>K</code> fault blocks with weight factor= <img width="12" height="14" src="images/chap7-19.gif" />
<code>k</code></p><span>, then the factor value of each block will be normalized by the total weight factor sum as: </span><p>
<a id="pgfId-974430"></a></p>
<div class="webflare-div-image">
<img width="668" height="75" src="images/chap7-20.gif" /></div>

<p>
<a id="pgfId-982084"></a>Then, the weighted likelihood of the <code>nth</code> fault from the <code>kth</code> fault block is calculated as:</p>

<p>
<a id="pgfId-982106"></a></p>
<div class="webflare-div-image">
<img width="668" height="75" src="images/chap7-21.gif" /></div>

<p>
<a id="pgfId-974431"></a>The default value of the weight factor is <img width="12" height="14" src="images/chap7-22.gif" /><code>=1</code><span>. The default weighted likelihood value of each fault is give by </span></p>

<span>. The default weighted likelihood value of each fault is give by </span><p>
<a id="pgfId-982140"></a></p>
<div class="webflare-div-image">
<img width="668" height="71" src="images/chap7-23.gif" /></div>

<p>
<a id="pgfId-974756"></a>The calculated value of weighted likelihood can be found in the table file when the simulation is completed.</p>

<h4><em>
<a id="pgfId-974818"></a>Fault Generation and Simulation With faultcollapse and faultdeviter</em></h4>

<p>
<a id="pgfId-982181"></a>The total number of generated faults using <code>info</code> analysis is different based on the values of set for <code>faultcollapse</code> and <code>faultdeviter</code> parameters. The <code>faultcollapse</code> parameter regulates the detection of equivalent fault and may reduce the number of faults. The <code>faultdeviter</code> parameter regulates the processing of instances that were changed because of simulation performance in Spectre APS flow. Setting <code>faultdeviter</code> to <code>yes</code> may increase the total number of faults. When the option <code>preserve_inst=all</code> is specified, <code>faultdeviter</code> has no effect.</p>
<p>
<a id="pgfId-982183"></a>When the number of faults get reduced, Spectre changes the weights of faults which are kept in the final fault list according to the following rules. </p>
<p>
<a id="pgfId-997096"></a>If you are running fault simulation with APS, it is recommended to specify <code>faultdeviter=no</code> for fault generation with the info statement.</p>
<ul><li>
<a id="pgfId-975063"></a>With <code>faultcollapse=yes</code> and <code>faultdeviter=no</code>, the least number of faults are generated. The <code>weight</code> parameter in the <code>fault</code> statement takes into account the number of equivalent faults, <code>m</code> factor, iterated instances, and compacted devices. This is the default setting in Spectre. </li><li>
<a id="pgfId-975065"></a>With <code>faultcollapse=no</code> and <code>faultdeviter=yes</code>, the faults are generated separately for all iterated, compacted, and multiple factor instances without weight. This results in the biggest number of faults, which includes equivalent faults.</li><li>
<a id="pgfId-975067"></a>With <code>faultcollapse=yes</code> and <code>faultdeviter=yes</code>, equivalent faults are collapsed by changing the weights. However, faults sharing the same nodes but different type of devices in iterated or compacted instances are split into the individual faults.</li><li>
<a id="pgfId-975069"></a>With <code>faultcollapse=no</code> and <code>faultdeviter=no</code>, equivalent faults are not collapsed; however, the fault&#39;s weight may be changed due to the iterated or compacted instances. </li></ul>




<h4><em>
<a id="pgfId-957794"></a>Creating Open Faults When Two Terminals of an Instance are Connected to the Same Node</em></h4>

<p>
<a id="pgfId-957795"></a>There are some applications where the transistors have their terminals tied together for a specific purpose. For example, if a variable capacitor is desired, you may connect the terminals of source and drain together and the capacitance between gate and drain is varied by the voltage crossing it. To create an open fault at the node where there are two terminals of element are shorted, the following syntax and examples cover all the possibilities using which you can generate the open fault:</p>
<ol><li>
<a id="pgfId-957796"></a>Only the D terminal connects to the new fault node split from the original node<br /><pre class="webflare-pre-block webflare-courier-new" id="#id957797">
<a id="pgfId-957797"></a>FaultOpen_1 info what=open faultterminals=[D] faultdev=bsim4 </pre><pre class="webflare-pre-block webflare-courier-new" id="#id957798">
<a id="pgfId-957798"></a>Info1_open_1 (VDD) r=resOpen { I0.MP0:D }</pre></li><li>
<a id="pgfId-957799"></a>Only the S terminal connects to the new fault node<br /><pre class="webflare-pre-block webflare-courier-new" id="#id957800">
<a id="pgfId-957800"></a>FaultOpen_2 info what=open faultterminals=[S] faultdev=bsim4</pre><pre class="webflare-pre-block webflare-courier-new" id="#id957801">
<a id="pgfId-957801"></a>Info1_open_2 (VDD) r=resOpen { I0.MP0:S }</pre></li><li>
<a id="pgfId-957802"></a>Both D and S terminals connect to the new fault node<br /><pre class="webflare-pre-block webflare-courier-new" id="#id957803">
<a id="pgfId-957803"></a>FaultOpen_3 info what=open faultterminals=[D S] faultdev=bsim4</pre><pre class="webflare-pre-block webflare-courier-new" id="#id957804">
<a id="pgfId-957804"></a>Info1_open_3 (VDD) r=resOpen { I0.MP0:D I0.MP0:S }</pre></li><li>
<a id="pgfId-957805"></a>If no <code>faultterminals</code> are specified, the open faults are generated for all the terminals of bsim4 where the gate and source terminals are connected to the new fault node.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id957806">
<a id="pgfId-957806"></a>FaultOpen_4 info what=open faultdev=bsim4</pre><pre class="webflare-pre-block webflare-courier-new" id="#id957807">
<a id="pgfId-957807"></a>Info2_open_1 (VDD)  r=resOpen { I0.MP0:D I0.MP0:S }</pre><pre class="webflare-pre-block webflare-courier-new" id="#id957808">
<a id="pgfId-957808"></a>Info2_open_2 (VOUT) r=resOpen { I0.MP0:B }</pre><pre class="webflare-pre-block webflare-courier-new" id="#id957809">
<a id="pgfId-957809"></a>Info2_open_3 (VIN)  r=resOpen { I0.MP0:G }</pre></li></ol>













<p>
<a id="pgfId-957790"></a>If you need both 1) and 2) in one simulation, you can specify two <code>info</code> analyses and save the results to the same file.</p>

<h4><em>
<a id="pgfId-963629"></a>Custom Fault Generation</em></h4>

<p>
<a id="pgfId-963610"></a>To generate the custom fault list using <code>info</code> analysis, you need to define the faulty subcircuits, include the definition in the nominal netlist, and set the option <code>faultcustompreserve</code>.</p>
<p>
<a id="pgfId-963675"></a><code>faultcustomperserve [</code><span class="webflare-courier-new" style="white-space:pre"><em>name</em></span><code>]</code>: specifies the list of subcircuit names to be used for custom insertion, replacement, or open generation.</p>

<h4><em>
<a id="pgfId-978546"></a>Generating Faults Ac<a id="faults_ieee_standard"></a>cording to IEEE P2427 Standard</em></h4>

<p>
<a id="pgfId-978604"></a>You can use the option <code>faultrule=2427</code> in the <code>info</code> statement to generate faults that comply with IEEE P2427 standard. Using <code>faultrule=2427</code> in the <code>info</code> statement enables you to generate the bridge or open fault list without specifying <code>faultdev</code> and <code>faultterminals</code>. Spectre generates all possible faults for all devices according to the requirements of the device terminals from IEEE P2427. The following table lists the number of faults for each type of device when no other fault parameter is specified:</p>

<p>
<a id="pgfId-979193"></a></p>
<table class="webflareTable" id="#id978745">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id978747">
<a id="pgfId-978747"></a>Primitive/Device</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id978749">
<a id="pgfId-978749"></a>Terminal Index for Bridges</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id978751">
<a id="pgfId-978751"></a>Terminal Index for Opens</span>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-978753"></a>bipolar, mosfet, jeft</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-978755"></a>1, 2, 3</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-978757"></a>1, 2, 3</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-978759"></a>resistor, capacitor, diode</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-978761"></a>1, 2</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-978763"></a>1</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-978920"></a>inductor</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-978934"></a>1, 2</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-978936"></a>1</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-978938"></a>vsource</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-978964"></a>1, 2</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-978966"></a>1</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-978951"></a>isource</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-978968"></a>1, 2</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-978970"></a>1</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-978972"></a>bsource</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-978974"></a>All</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-978976"></a>all</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-978985"></a>verilog</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-979030"></a>All</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-979032"></a>all</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-991865"></a>controlled sources </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-991867"></a>All</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-991869"></a>all</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-979101"></a>iprobe, mutual inductor</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-979103"></a>none</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-979105"></a>None</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-979107"></a>transmission line, port, relay</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-979180"></a>All</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-979182"></a>all</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-979167"></a>Unknown</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-979188"></a>All</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-979190"></a>all</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-979197"></a>If <code>faultdev</code> and <code>faultterminals</code> parameters are specified along with <code>faultrule=2427</code>, <code>faultdev</code> and <code>faultterminals</code> values are processed instead of the predefined values. Rest of the devices that are not specified in <code>faultdev</code> retain the predefined values. For example, if both bsim4 and bsim3v3 models are used in the same netlist with the following <code>info</code> statement, Spectre will generate 3 bridges for each bsim4 device and 1 bridge for each bsim3v3 instance.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-979199"></a>Bridge_2427 info what=bridges faultrule=2427 faultdev=bsim3v3 \</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-979200"></a>faultterminals=[d s]</pre>

<p>
<a id="pgfId-979202"></a>With the same <code>info</code> statement, with <code>faultrule=none</code>, Spectre will generate only 1 bridge per each bsim3v3 instance and skip all the other devices.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-979204"></a>Bridge_None info what=bridges faultrule=none faultdev=bsim3v3 \</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-979205"></a>faultterminals=[d s]</pre>
<h4><em>
<a id="pgfId-980322"></a>Examples on Fault generation Using info Analysis</em></h4>

<p>
<a id="pgfId-980356"></a>Following are some examples on fault generation using <code>info</code> analysis:</p>
<ul><li>
<a id="pgfId-956558"></a>The following example creates bridge faults across drain, gate, and source terminals for primitive <code>bsim4</code> only within the scope of subcircuit instance <code>I1.xosc</code>.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id956559">
<a id="pgfId-956559"></a>FaultList1 info what=bridges where=file file=faultList1.scs faultblock=b4Bridges faultdev=bsim4 faultterminals=[d g s] faultres=10 inst=I1.xosc </pre></li><li>
<a id="pgfId-956560"></a>The following example creates bridge faults for subcircuit instance <code>INV</code> across first and second terminals within the scope of subcircuit <code>xmem</code>.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id956561">
<a id="pgfId-956561"></a>FaultList2 info what=bridges where=file file=faultList2.scs faultblock=invBridges faultdev=INV faultterminals=[1 2] faultres=10 subckt=xmem </pre></li><li>
<a id="pgfId-956562"></a>The following example creates open faults for <code>bsim4</code> transistors at gate and drain terminals by inserting <code>1</code> <code>G</code> resistors. The transistors in subcircuit instance of <code>I0.xmem</code> are excluded. <br /><pre class="webflare-pre-block webflare-courier-new" id="#id956563">
<a id="pgfId-956563"></a>FaultList3 info what=opens where=file file=faultList3.scs faultblock=b4Opens fauldev=bsim4 faultterminals=[g d] faultres=1G xinst=I0.xmem </pre></li><li>
<a id="pgfId-956564"></a>The following example creates open faults for all resistor instances at the first terminal by inserting a <code>1</code> <code>G</code> resistor. The resistors defined in subcircuit <code>xosc</code> are excluded.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id956565">
<a id="pgfId-956565"></a>FaultList4 info what=opens where=file file=faultList4.scs faultblock=resOpens faultdev=resistor faultterminals=[1] faultres=1G xsubckt=xosc </pre></li><li>
<a id="pgfId-963845"></a>The following example generates custom faults of <code>faultsubckt</code> to replace bsim4 devices.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id963943">
<a id="pgfId-963943"></a>FaultList5 info what=customreplace where=file file=faultList5.scs faultcustom=faultsubckt faultdev=bsim4</pre></li><li>
<a id="pgfId-963971"></a>The following example generates custom faults of <code>faultsubckt</code> to be inserted to the drain, gate, and source terminals of <code>bsim4</code> devices.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id964033">
<a id="pgfId-964033"></a>FaultList6 info what=custominsert where=file file=faultList6.scs faultcustom=faultsubckt faultdev=bsim4 faultterminals=[d g s]</pre></li><li>
<a id="pgfId-964061"></a>The following example generates open faults of <code>faultsubckt</code> to be to be inserted at each terminal of <code>bsim4</code> devices.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id964180">
<a id="pgfId-964180"></a>FaultList7 info what=customopen where=file file=faultList7.scs faultcustom=faultsubckt faultdev=bsim4 faultterminals=[d g s]</pre><br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-964208"></a>Custom fault subcircuit must have the same matching number of terminals as <code>faultdev</code>. If <code>faultdev</code> has more terminals than the custom fault subcircuit, then <code>faultterminals</code> is used for matching.</div>
<a id="pgfId-976644"></a>The following two examples show the notations of custom insertion. The original resistor instances of <code>R11</code> and <code>R12</code> will be inserted with sub-circuit <code>fault_to_insert</code> in parallel.<pre class="webflare-pre-block webflare-courier-new" id="#id976645">
<a id="pgfId-976645"></a>custom {</pre><pre class="webflare-pre-block webflare-courier-new" id="#id976646">
<a id="pgfId-976646"></a>    insTest_insert_1 ( n0 n1 ) fault_to_insert        // R11  resistor</pre><pre class="webflare-pre-block webflare-courier-new" id="#id976647">
<a id="pgfId-976647"></a>    insTest_insert_2 ( n1 n2 ) fault_to_insert        // R12  resistor</pre><pre class="webflare-pre-block webflare-courier-new" id="#id976648">
<a id="pgfId-976648"></a>}</pre>
<a id="pgfId-976650"></a>For custom replacement, the original instance <code>X1</code> which instantiates sub-circuit of <code>invx</code> will be replaced by <code>fault_to_replace</code>.<pre class="webflare-pre-block webflare-courier-new" id="#id976651">
<a id="pgfId-976651"></a>custom {</pre><pre class="webflare-pre-block webflare-courier-new" id="#id976652">
<a id="pgfId-976652"></a>    repTest_replace_1 ( n2 out vdd vss ) fault_to_replace original_inst=X1   // X1   invx</pre><pre class="webflare-pre-block webflare-courier-new" id="#id976653">
<a id="pgfId-976653"></a>}</pre>
<a id="pgfId-976655"></a>For the custom open, the commenting notation explains the terminal index 2 of resistor <code>Rin</code> splits into two nodes and subcircuit <code>fault_to_open</code> is inserted in between. <pre class="webflare-pre-block webflare-courier-new" id="#id976656">
<a id="pgfId-976656"></a>custom {</pre><pre class="webflare-pre-block webflare-courier-new" id="#id976657">
<a id="pgfId-976657"></a>     repTest_open_1 ( n2 ) fault_subckt=fault_to_open { Rin:2 }    // Rin  resistor 2</pre><pre class="webflare-pre-block webflare-courier-new" id="#id976658">
<a id="pgfId-976658"></a>}</pre></li><li>
<a id="pgfId-979373"></a>The following example generates parametric faults by altering the global temperature for the circuit. <br /><pre class="webflare-pre-block webflare-courier-new" id="#id979374">
<a id="pgfId-979374"></a>FaultParam1 info what=faultparam where=file file=faultList8.scs faultparam=temp faultvalues=[-50 0 25 50]</pre></li><li>
<a id="pgfId-979376"></a>The following example generates parametric faults by altering the gate length for all bsim4 devices. <br /><pre class="webflare-pre-block webflare-courier-new" id="#id979377">
<a id="pgfId-979377"></a>FaultParam2 info what=faultparam where=file file=faultList9.scs faultparam=l faultstart=1p faultstop=5p faultstep=1p faultdev=bsim4</pre></li><li>
<a id="pgfId-979379"></a>The following example generates parametric faults by altering the gate length for all devices in specific subcircuit one by one. <br /><pre class="webflare-pre-block webflare-courier-new" id="#id979380">
<a id="pgfId-979380"></a>FaultParam3 info what=faultparam where=file file=faultList10.scs faultparam=l faultstart=1p faultstop=5p faultstep=1p faultdev=bsim4 inst=I0.I1</pre></li><li>
<a id="pgfId-979382"></a>The following example generates parametric faults by altering the gate length for one specific device. <br /><pre class="webflare-pre-block webflare-courier-new" id="#id979383">
<a id="pgfId-979383"></a>FaultParam4 info what=faultparam where=file file=faultList11.scs faultparam=l faultstart=1p faultstop=5p faultstep=1p faultdev=I0.I1.MN1</pre></li><li>
<a id="pgfId-979385"></a>The following example generates parametric faults by altering the default value of a model parameter.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id979386">
<a id="pgfId-979386"></a>FaultParam5 info what=faultparam where=file file=faultList12.scs faultparam=tox faultstart=5p faultstop=50p faultstep=5p faultdev=mosn</pre></li><li>
<a id="pgfId-979388"></a>The following example generates parametric faults by altering the value of a subcircuit parameter.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id979366">
<a id="pgfId-979366"></a>Faultparam6 info what=faultparam where=file file=faultList13.scs faultparam=res faultvalues=[1e3 2e3 10e3] faultdev=I1.I1</pre></li></ul>








































<h4>
<a id="pgfId-956512"></a>Fault Select<a id="fault_sampling"></a>ion and Sampling</h4>

<p>
<a id="pgfId-956513"></a>Spectre provides the capability to enable part of the fault list, or some fault blocks to be selected only for fault analysis. It is useful when you want to simulate a subset of faults without changing the complete fault list. You can use the following parameters for fault selection:</p>

<p>
<a id="pgfId-956531"></a></p>
<table class="webflareTable" id="#id975625">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-956516"></a><code>faults=[...]</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-956518"></a>Names of the fault blocks in the fault list to perform transient fault analysis. The default value is <code>faults=[*]</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-956520"></a><code>faultsid=[...]</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-956522"></a>Indexes of faults from the list to perform fault analysis. If specified, simulation is performed for the requested subset of the fault list. Faults index can be discrete numbers or continuous numbers specified using <br /><code>range</code> <code>(start,</code> <code>stop)</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-956524"></a><code>faultsname=[...]</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-956526"></a>Names of faults from the list to perform fault analysis. If specified, simulation is performed for the requested subset of the fault list.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-956528"></a><code>faultsinst=[...]</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-956530"></a>List of instances to perform fault analysis. If specified, simulation is performed only for faults within the specified instances.</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-962714"></a>You can also apply simple random sampling to the faults selected using the <code>faults</code> block(s). In transient or sweep analysis statement, you may use either <code>faultsamplenum</code> to set the specific number of samples, or <code>faultsampleratio</code> to set the percentage (in the range from 0 to 100) to perform random sampling.</p>
<p>
<a id="pgfId-962716"></a>If both are specified in the netlist, the parameter defined later in the statement will overwrite the one defined earlier.</p>

<p>
<a id="pgfId-956539"></a></p>
<table class="webflareTable" id="#id975645">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-956535"></a><code>faultsamplenum</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-956538"></a>Number of random samples out of the total fault count. The default value is the selected fault count.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-962766"></a><code>faultsampleratio</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-962768"></a>Number of random samples (in percentage) out of the total fault count in the list is specified using <code>val1</code>. The default value is 100%.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-962901"></a><code>faultseed</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-962903"></a>Starting seed for random number generator.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-982859"></a>faultsamplemethod</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-982882"></a>Specifies the random number distribution, or sorting algorithm to be used for fault sampling. Possible values are <code>random</code>, <code>weightsorted</code>, <code>randomweighted</code>, and <code>randomuniform</code>.</p>
</td>
</tr>
</tbody></table>
<h4><em>
<a id="pgfId-975391"></a>Simple Random Sa<a id="random_sampling"></a>mpling</em></h4>

<p>
<a id="pgfId-975697"></a>When <code>faultsamplemethod=random</code> is specified, fault sampling is based on pseudo-random number generator in the range of total number of faults. Sampling is performed without replacement and all samples are different. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-975699"></a>faultsamplenum=150</pre>

<p>
<a id="pgfId-975700"></a>In the above example, 150 faults are selected randomly for the fault block defined in faults.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-975702"></a>faultsampleratio=90</pre>

<p>
<a id="pgfId-975703"></a>In the above example, 90% of the faults are picked randomly to perform fault simulation.</p>

<h4><em>
<a id="pgfId-975790"></a>Largest Weighted Likelih<a id="weighted_likelihood_sampling"></a>ood Sampling</em></h4>

<p>
<a id="pgfId-975830"></a>When the parameter <code>weight</code> is specified in the faults list, or <code>weight_expr</code> is defined in the fault block, and <code>faultsamplemethod=weightsorted</code>, Spectre chooses the requested number of samples with the largest weighted likelihood for fault simulation.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-975832"></a>faultsamplenum=150</pre>

<p>
<a id="pgfId-975833"></a>In the above example, the faults are simulated only for the first 150 faults with largest weighted likelihood.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-975835"></a>faultsampleratio=90</pre>

<p>
<a id="pgfId-975836"></a>In the above example, 90% of the faults are selected with the largest weighted likelihood.</p>

<h4><em>
<a id="pgfId-983008"></a>Discrete Random Number Distribution for Wei<a id="randomweighted"></a>ghted Likelihood Sampling</em></h4>

<p>
<a id="pgfId-983038"></a>When <code>faultsamplemethod=randomweighted</code>, discrete random number distribution is used for fault sampling. Sampling picks integer values according to discrete distribution where weighted likelihood is considered as a predefined probability of being produced for each fault in the fault list. </p>
<p>
<a id="pgfId-983040"></a>Sampling is performed with replacement, which means that the selected fault is retained in the sampling pool and may be sampled again. With this method, the simulated fault number can be fewer than the number of samples. </p>
<p>
<a id="pgfId-983042"></a>Confidence interval can be evaluated in such cases. Sampling with replacement is performed to improve accuracy of confidence interval estimation.</p>

<h4><em>
<a id="pgfId-983092"></a>Uniform Random Number Distrib<a id="randomuniform"></a>uted Sampling</em></h4>

<p>
<a id="pgfId-983153"></a>When <code>faultsamplemethod=randomuniform</code>, uniform random number distribution is used for fault sampling. It excludes the weighted likelihood from consideration. Sampling is performed with replacement. Confidence interval can be evaluated in such case. </p>
<p>
<a id="pgfId-983157"></a>This setting can be useful when the fault list contains mixed types of faults, and weighting expression can be unevaluated for some portion of the fault list.</p>

<h4>
<a id="pgfId-956567"></a><a id="20420"></a>Assert Checking</h4>

<p>
<a id="pgfId-956568"></a>Assert violation can be used as a fault detection technique by specifying the boundaries. A fault is detected when an assert violation is triggered. To distinguish the checking of fault analysis from the regular <code>assert</code> check, you can add the <code>safecheck</code> parameter in the <code>assert</code> statement which is used in post-processing of assert violations to generate the functional safety report (see <a href="chap7.html#45539">Functional Safety Report Based on Assert Violations</a>). </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-956572"></a>safecheck=[ none | func | check ]</pre>

<p>
<a id="pgfId-956573"></a><code>safecheck=func</code> defines an assert that detects violation in the functional module of the design. <code>safecheck=check</code> defines an assert that detects violation in the diagnostic module (checker) of the design. The violations triggered by <code>safecheck=func</code> show the safety status (<code>Safe</code> or <code>Dangerous</code>), while the violations triggered by <code>safecheck=check</code> indicate the detection status (<code>Detected</code> or <code>Undetected</code>) in the functional safety report. A combination of both types represents the complete functional safety report for a given design. For fault defect detection matrix, defining <code>safecheck=check</code> is sufficient. </p>
<p>
<a id="pgfId-956574"></a>The following table lists the built-in functions that are supported by assert checking for fault analysis:</p>

<p>
<a id="pgfId-956656"></a></p>
<table class="webflareTable" id="#id956575">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-956577"></a><code>abs</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-956579"></a><code>asin</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-956581"></a><code>cos</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-956583"></a><code>I</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-956585"></a><code>ln</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-956587"></a><code>mod</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-956589"></a><code>round</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-956591"></a><code>sqrt</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-956593"></a><code>acos </code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-956595"></a><code>asinh</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-956597"></a><code>acosh</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-956599"></a><code>iinteg</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-956601"></a><code>log10</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-956603"></a><code>pow</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-956605"></a><code>settlingtime</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-956607"></a><code>tan</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-956609"></a><code>argmax</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-956611"></a><code>atan</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-956613"></a><code>exp</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-956615"></a><code>im</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-956617"></a><code>mag</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-956619"></a><code>re</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-956621"></a><code>sign</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-956623"></a><code>tanh</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-956625"></a><code>argmin</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-956627"></a><code>atanh</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-956629"></a><code>floor</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-956631"></a><code>int</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-956633"></a><code>max</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-956635"></a><code>real</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-956637"></a><code>sin</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-956639"></a><code>trim</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-956641"></a><code>acosh</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-956643"></a><code>avg</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-956645"></a><code>freq</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-956647"></a><code>integ</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-956649"></a><code>min</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-956651"></a><code>rms</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-956653"></a><code>sinh</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-956655"></a><code>V</code></p>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-956657"></a>Enabling Asserts for Fault Simulation</h4>

<p>
<a id="pgfId-956658"></a>Regular asserts are used extensively to check the device operation during the DC, transient, and AC frequency domain analyses. Usually, asserts are defined in the model library to check the safe operation area (SOA) for various devices. The simulation slows down because of the large number of asserts being enabled. Therefore, in fault simulation, asserts are enabled for fault detection only in the <code>checklimit</code> statement using the <code>enable=[fault_assert]</code>option, while the regular asserts are disabled to avoid long simulation time.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-956659"></a>The enabled checks are applied to all subsequent analyses till the next <code>checklimit</code> statement is encountered. Therefore, the <code>checklimit</code> statement should be added prior to the analysis where the asserts are applied; for example, <code>sweep</code> or <code>tran</code> analysis.</div>

<h4><em>
<a id="pgfId-964270"></a>Veril<a id="va_asserts"></a>og-A Asserts</em></h4>

<p>
<a id="pgfId-964301"></a>In addition to the device base asserts, Spectre also supports Verilog-A asserts that can be used for fault detection and functional safety analysis.</p>
<p>
<a id="pgfId-964292"></a>Following is the syntax to specify an assert in Verilog-A:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-964404"></a>$cds_violation(Id, Message, Data, Option);</pre>

<p>
<a id="pgfId-964422"></a>Here:</p>
<ul><li>
<a id="pgfId-964434"></a><code>Id</code> represents the name of the assert as a constant string</li><li>
<a id="pgfId-964485"></a><code>Message</code> represents the violation message</li><li>
<a id="pgfId-964522"></a><code>Data</code> represents the expression of the analog circuit</li><li>
<a id="pgfId-964576"></a><code>Option</code> represents the id number to indicate the type of assert; same as the safecheck parameter in device-based assert. Possible values are:<ul><li>
<a id="pgfId-964780"></a><code>0</code> (<code>safecheck=none</code>)</li><li>
<a id="pgfId-964815"></a><code>1</code> (<code>safecheck=func</code>)</li><li>
<a id="pgfId-964835"></a><code>2</code> (<code>safecheck=check</code>)</li></ul></li></ul>






<p>
<a id="pgfId-964882"></a>The example below shows how to generate an assert violation in a Verilog-A application.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-964883"></a>module my_va_assert(signal1, signal2);</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-964884"></a> inout signal1, signal2;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-964885"></a> electrical signal1, signal2;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-964941"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-964886"></a>analog begin</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-964887"></a> if( V(signal1, signal2) &gt; 2.501 ) begin</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-964888"></a>  $cds_violation(&quot;assert1&quot;, &quot;Input voltage exceeds 2.501!&quot;, \</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-964889"></a>   V(signal1, signal2), 2);</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-964890"></a> end</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-964875"></a>end</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-964957"></a>endmodule</pre>

<p>
<a id="pgfId-964977"></a>The following statement creates an instance of Verilog-A assert, which is the same as creating a regular instance.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-964978"></a>AM net1 net2 my_va_assert</pre>

<p>
<a id="pgfId-964979"></a>In the functional safety report, the assert is printed as</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-964968"></a>AM.assert1 assert safecheck=check module=my_va_assert</pre>
<h4>
<a id="pgfId-956660"></a>Defining Fault Times</h4>

<p>
<a id="pgfId-957848"></a>Fault times provide the following two functionalities:</p>
<ul><li>
<a id="pgfId-957849"></a>Faults are injected only at or prior to some given time points in transient fault analysis. </li><li>
<a id="pgfId-957850"></a>These time points can be used to save the fault result into a table file. These time points are called fault times. </li></ul>

<p>
<a id="pgfId-957851"></a>For fault simulation, you can specify the fault times using any of the following methods:</p>
<ul><li>
<a id="pgfId-957852"></a>Specify the sweeping points by using the <code>faultstart</code>, <code>faultstop</code>, and <code>faultstep </code>parameters</li><li>
<a id="pgfId-957853"></a>Specify the discrete time points using the <code>faulttimes</code> parameter</li><li>
<a id="pgfId-956667"></a>List the fault times in a separate file to be included in simulation</li><li>
<a id="pgfId-992041"></a>Define the assert and specify the <code>faultevent</code> parameter</li></ul>



<p>
<a id="pgfId-956668"></a><strong>Example 1</strong></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-956669"></a>faultstart=0.5m faultstop=1.0m faultstep=0.5m</pre>

<p>
<a id="pgfId-956670"></a><strong>Example 2</strong></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-956671"></a>faultimes = [0.5m 0.75m 1.0m]</pre>

<p>
<a id="pgfId-956672"></a><strong>Example 3</strong></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-956673"></a>faultfile = &#8220;./file_test_points.txt&#8221;</pre>

<p>
<a id="pgfId-956674"></a>Fault times in the <code>./file_test_points.txt</code> file can be defined as follows: </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-956675"></a>//fault time point </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956676"></a>0.5m </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956677"></a>0.75m </pre>

<p>
<a id="pgfId-956678"></a>1.0m</p>

<h4>
<a id="pgfId-992107"></a>Specifying Event-Trigg<a id="event_fault"></a>ered Fault Times</h4>

<p>
<a id="pgfId-992157"></a>Besides the constant time points for faults to be injected, Spectre provides the flexibility where the time can be determined dynamically as the violation of asserts specified in the <code>faultevent</code> vector. The <code>faultevent</code> vector can contain one, or several event expressions, similar to Spectre event triggered analysis.</p>
<p>
<a id="pgfId-992153"></a>The general form of event expression is specified as follows:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-992274"></a>&quot;@(<code><em>basic_event</em></code>, <code><em>N</em></code>) + <code><em>delay</em></code>&quot; </pre>

<p>
<a id="pgfId-992292"></a>Here:</p>

<p>
<a id="pgfId-992891"></a></p>
<table class="webflareTable" id="#id992305">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-992307"></a><span class="webflare-courier-new" style="white-space:pre"><em>basic_event</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-992309"></a>Name of the assert that defines the event to be triggered.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-992311"></a><span class="webflare-courier-new" style="white-space:pre"><em>N</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-992313"></a>Selector of the event.</p>
<p>
<a id="pgfId-992454"></a>If N is a positive value, it means to select the Nth occurrence of the event.</p>
<p>
<a id="pgfId-992544"></a>If N is a negative value, it means to select the Nth occurrence and the occurrence just before the Nth occurrence of the <code>basic_event</code>.</p>
<p>
<a id="pgfId-992451"></a>If N is 0, it means to select all occurrences.</p>
<p>
<a id="pgfId-992746"></a>If N is not specified, it means to select the first occurrence.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-992315"></a><span class="webflare-courier-new" style="white-space:pre"><em>delay</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-992317"></a>The delay time after the selected event occurrences. A positive value should be specified for <code>delay</code>.</p>
</td>
</tr>
</tbody></table>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-992304"></a>N=0 (that is, <code>&quot;@(assert1, 0)&quot;</code>) is not supported in current implementation, If you specify 0 as the value for <span class="webflare-courier-new" style="white-space:pre"><em>N</em></span>, only the first occurrence will be processed. The same basic event with different values for <span class="webflare-courier-new" style="white-space:pre"><em>N</em></span> can be specified to cover multiple occurrences. </div>
<p>
<a id="pgfId-993058"></a><strong>Example</strong></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-993028"></a>assert1 assert dev=M1 expr=&quot;V(d)&quot; min=0 max=0.3 </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-993029"></a>assert2 assert dev=M2 expr=&quot;V(g)&quot; min= -0.7 max=0 </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-993031"></a>tranETAtran stop=1u faultmethod=leadtime faultleadtime=100n \</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-993032"></a>annotate=status faultevent=[&quot;@(assert1)&quot; &quot;@(assert2, 2) + 5n&quot;]</pre>

<p>
<a id="pgfId-993034"></a>In the example above, Spectre will first perform the nominal transient simulation to collect two fault times; the first violation triggered by <code>assert1</code>, and the second assert violation issued by <code>assert2</code> with <code>5ns</code> in delay. The nominal simulation will stop automatically, and the transient fault simulation will start with faulttimes set at event times. </p>
<p>
<a id="pgfId-993035"></a>You can use the <code>faultevent</code> parameter along with static fault times specified in transient analysis statement. </p>

<h4>
<a id="pgfId-956680"></a><a id="96461"></a>Stopping Fault Simulation Automatically</h4>

<p>
<a id="pgfId-956681"></a>You can use the <code>faultautostop</code> parameter in transient statement to stop the fault simulation automatically when an assert violates the boundaries of fault detection. The <code>faultautostop</code> parameter is supported in both direct and transient fault analysis. Possible values for <code>faultautostop</code> are: <code>no</code>, <code>func</code>, <code>check</code>, <code>both</code>, and <code>all</code>.</p>

<p>
<a id="pgfId-993164"></a></p>
<table class="webflareTable" id="#id993168">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-993170"></a><code>faultautostop=no</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-993172"></a>Auto-stops the fault simulation when a fault is detected based on assert violation.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-993253"></a><code>faultautostop=func</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-993255"></a>Auto-stops the fault simulation if any assert with <code>safecheck=func</code> is violated.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-993398"></a><code>faultautostop=check</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-993400"></a>Auto-stops the fault simulation if any assert with <code>safecheck=check</code> is violated.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-993402"></a><code>faultautostop=both</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-993404"></a>Auto-stops the fault simulation if both asserts with <code>safecheck=func</code> and <code>safecheck=check</code> are violated.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-993406"></a><code>faultautostop=all</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-993408"></a>Auto-stops the fault simulation if any assert with <code>safecheck=func</code> or <code>safecheck=check</code> is violated.</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-956687"></a>Ensure that asserts do not get violated for nominal transient simulation because they are the golden reference data. However, you can use the <code>faultsafecheck </code>parameter to terminate the fault simulation if the violation is triggered during the nominal run. The default value for the <code>faultsafecheck</code> parameter is <code>no</code>.</p>

<h4>
<a id="pgfId-956688"></a>Exiting Fault Analysis Based on Maximum Time Limit</h4>

<p>
<a id="pgfId-956689"></a>When fault simulation takes much longer than the nominal simulation time, you can use <code>faultlimtime</code> parameter to set the absolute time (in hours) to exit the current fault simulation. There is no default value. The following message is generated in the log file when the elapsed time is reached during slow fault simulation.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-956690"></a>Simulation of fault bridge_1 achieved limit 0.1 h. Analysis &#39;myDirect-001_myfault&#39; was terminated at 21.822 us.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956691"></a>(Remove &#39;faultlimtime&#39; parameter to avoid early termination.)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956692"></a>Number of accepted tran steps =&#160;&#160;           241</pre>
<h4>
<a id="pgfId-956693"></a>Exiting Fault Analysis Because of Convergence Difficulty</h4>

<p>
<a id="pgfId-956694"></a>A fault injection into the circuit may cause circuit instability, problems with convergence, or trigger oscillations that can result in more time steps and longer simulation time. Spectre monitors the number of time steps taken in fault analysis and automatically exits the simulation when the step count becomes huge in comparison to the nominal simulation. The following message is displayed in the log file when a fault simulation is exited. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-956695"></a>Simulation of fault bridge_22 is too slow. Analysis &#39;directfault-022_tran&#39; was terminated at 1.92212 ms.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956696"></a>(Specify &#39;faultlimsteps=no&#39; to avoid early termination.)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956697"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956698"></a>Number of accepted tran steps =&#160;&#160;           62594</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956699"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956700"></a>Notice from spectre during transient analysis `directfault-022_tran&#39;, during Sweep analysis `directfault&#39;.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956701"></a>    Trapezoidal ringing is detected during tran analysis.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956702"></a>        Please use method=trap for better results and performance.</pre>

<p>
<a id="pgfId-956703"></a>To prevent early termination, specify <code>faultlimsteps=no</code> in the <code>tran</code> statement.</p>

<h4>
<a id="pgfId-956704"></a>Files Generated for Fault Simulation</h4>
<h4><em>
<a id="pgfId-979660"></a>Fault Table File</em></h4>

<p>
<a id="pgfId-956705"></a>The fault simulation results are saved in a table file where solutions at the fault times are grouped for each fault. The saving is limited to the signals specified in the <code>save</code> statement. The name of the table file is <span class="webflare-courier-new" style="white-space:pre"><em>netlistname</em></span><code>.tranname.table</code>. </p>
<p>
<a id="pgfId-956706"></a>The following is a sample table file:</p>

<p>
<a id="pgfId-956710"></a></p>
<div class="webflare-div-image">
<img width="668" height="547" src="images/chap7-24.gif" /></div>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-956711"></a><code>iterations=0</code> or <code>iterations=1</code> has a special meaning in the table. If a fault simulation fails to converge, the value of iterations is <code>0</code>. The value <code>1</code> indicates an auto-stopped fault simulation.</div>
<p>
<a id="pgfId-956712"></a>When no fault time point is specified for fault simulation, the only time point for fault result saved is the transient stop time, as shown in the table below.</p>

<p>
<a id="pgfId-956716"></a></p>
<div class="webflare-div-image">
<img width="668" height="134" src="images/chap7-25.gif" /></div>
<h4><em>
<a id="pgfId-979689"></a>Assert Violation Database</em></h4>

<p>
<a id="pgfId-956717"></a>If asserts are defined in the netlist for fault detection, the assert violations, by default, are saved in an SQL database. You can use the <code>checklimitdest=both</code> option to save the results in both log file and SQL database.</p>
<p>
<a id="pgfId-956718"></a>The assert violations are also saved in the fault table file as <code>0</code> or <code>1</code>, where, <code>0</code> indicates that a fault in undetected and <code>1</code> indicates that the fault is detected.</p>

<h4><em>
<a id="pgfId-974719"></a>Defect Detection Using W<a id="defect_weighted_likelihood"></a>eighted Likelihood</em></h4>

<p>
<a id="pgfId-974824"></a>With weighting function and weighted likelihood information, Spectre calculates the weighted likelihood for each fault based on its ratio to the total weights within the block. The value of weighted likelihood is saved in fault table file. The weighted likelihood is used to compute the defect coverage in the generation of both detection matrix (with <code>spectre_ddmrpt</code>) and functional safety reports (with <code>spectre_fsrpt</code>), as well as fault sampling selection.</p>
<p>
<a id="pgfId-983246"></a>The following example shows the weighted likelihood calculation. Let us consider the fault list which consists of two fault blocks:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-983336"></a>block1 faults weight_factor=0.9 weight_expr=w*l {</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-983337"></a> bridge {</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-983338"></a>  block1_bridge_1 (0 out) r=200 dev=I0.MN01 </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-983339"></a>  block1_bridge_2 (0&#160;&#160;pd) r=200 dev=I0.MN02 </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-983340"></a>  block1_bridge_3 (0 xpd) r=200 dev=I0.MN03 </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-983341"></a>     } </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-983342"></a>}</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-983343"></a>block2 faults weight_factor=0.1 weight_expr=w {</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-983344"></a> bridge {</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-983345"></a>  block2_bridge_1 (vdda I0.net69) r=200 dev=I0.XR2 </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-983346"></a>  block2_bridge_2 (vdda I0.net51) r=200 dev=I0.XR1 </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-983347"></a>     } </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-983348"></a>}</pre>

<p>
<a id="pgfId-983361"></a>The normalized weight is the sum of weight for all faults in <code>w_block1</code> and <code>w_block2</code>.<code></code></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-983362"></a>total_weight = w_block1 + w_block2</pre>

<p>
<a id="pgfId-983364"></a>where <code>w_block1</code> is the sum of the areas of three bridges while <code>w_block2</code> is the sum of the widths of two bridges:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-983400"></a>w_block1 = I0.MN01.w*I0.MN01.l + I0.MN02.w*I0.MN02.l + I0.MN03.w*I0.MN03.l </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-983415"></a>w_block2 = I0.XR1.w+ I0.XR2.w</pre>

<p>
<a id="pgfId-983396"></a>The weighted likelihood for each fault is calculated by taking the<code> weight_factor</code> normalized to total weight factor into account for each fault block:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-983445"></a>W_f1 = 0.9/(0.9+0.1)*I0.MN01.area/total_weight</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-983446"></a>W_f2 = 0.9/(0.9+0.1)*I0.MN02.area/total_weight</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-983447"></a>W_f3 = 0.9/(0.9+0.1)*I0.MN03.area/total_weight</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-983448"></a>W_f4 = 0.1/(0.9+0.1)*I0.XR1.w/total_weight </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-983449"></a>W_f5 = 0.1/(0.9+0.1)*I0.XR2.w/total_weight</pre>

<p>
<a id="pgfId-974848"></a>The weighted likelihood is calculated for each fault and saved as the parameter weight in the table file which is generated during fault simulation, as shown below</p>

<p>
<a id="pgfId-983493"></a></p>
<div class="webflare-div-image">
<img width="668" height="439" src="images/chap7-26.gif" /></div>
<h4><em>
<a id="pgfId-975024"></a>Calculating Confidence Interval for Fault Sampling</em></h4>

<p>
<a id="pgfId-983556"></a>When simulation is performed using fault sampling, the fault table file contains the sampling information: the total fault number, the number of faults being sampled and simulated. For sampling method of <code>randomweighted</code> or <code>randomuniform</code>, samples are selected with replacement, which means that the selected faults can be sampled more than once. As a result, the simulated fault number may be fewer than sampled number. For large fault count, the probability of picking the same sample is low. Both sampling methods support confidence interval calculation. </p>

<p>
<a id="pgfId-983619"></a></p>
<div class="webflare-div-image">
<img width="668" height="436" src="images/chap7-27.gif" /></div>

<p>
<a id="pgfId-983633"></a>The Clopper-Pearson approach is used to estimate the confidence interval in Spectre. <code>spectre_ddmrpt</code> and <code>spectre_fsrpt</code> enable you to calculate confidence interval when the sampling-based simulation finished, or the fault table file is available. </p>
<p>
<a id="pgfId-983635"></a>The default confidence level is 95%. You can use the <code>-cl</code> option to customize the value.</p>
<p>
<a id="pgfId-983637"></a>The following statement generates the fault detection report for all signals at <code>faulttime=2.3e-6</code>. The confidence interval results for confidence level 97% are saved for each signal. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-983639"></a>&#8230;/bin/spectre_ddmrpt mytest.tranFault.table -t 2.3e-6 -cl 97 -o report_ddmrpt_CI.txt</pre>
<p>
<a id="pgfId-983736"></a></p>
<div class="webflare-div-image">
<img width="668" height="312" src="images/chap7-28.gif" /></div>
<h3>
<a id="pgfId-956720"></a>Spectre Direct Fa<a id="spectre_dfa"></a>ult Analysis</h3>

<p>
<a id="pgfId-956721"></a>Direct fault analysis uses <code>sweep</code> to iterate over the fault list and run the nested child analyses, such as <code>tran</code>, <code>dc</code>, <code>ac</code>, and so on. </p>

<h4>
<a id="pgfId-956722"></a>Use Model</h4>

<p>
<a id="pgfId-956723"></a>The following is the use model for Spectre direct fault analysis:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-956724"></a>DirectName sweep faults=[ * | faultblock1...] nominal=[yes|no] [faultsid=[...]] [faultsname=[...]][faultsinst=[...]] { </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956725"></a> analysisName tran|dc|ac</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956726"></a> }</pre>

<p>
<a id="pgfId-956727"></a>Here:</p>

<p>
<a id="pgfId-993523"></a></p>
<table class="webflareTable" id="#id993524">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-993526"></a><code>faults=[*]</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-993528"></a>Specifies the fault analysis sweeps for all faults.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-993569"></a><code>faults=[faultsblock..]</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-993571"></a>Specifies the fault analysis sweeps for the specified blocks.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-993573"></a>nominal=yes</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-993575"></a>Performs nominal fault-free simulation along with fault simulation.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-993688"></a>faultsid=[...]</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-993690"></a>Specifies the indexes of faults from the list to be considered during simulation.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-993794"></a>faultnames=[...]</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-993796"></a>Specifies the names of the faults from the list to be considered during simulation.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-993814"></a>faultinst=[...]</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-993816"></a>Specifies the list of instances to be considered during fault simulation.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-993874"></a>faultcollapse=no</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-993876"></a>Perform bridge fault collapsing in the list before fault simulation. Possible values are <code>no</code> and <code>yes</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-994007"></a>faultsamplenum</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-994009"></a>Number of samples in simple random sampling of fault list during simulation.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-994104"></a>faultsampleratio</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-994106"></a>Value (in percent) to apply simple random sampling to fault list during simulation.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-994211"></a>faultseed</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-994230"></a>Optional starting seed for random number generator during fault sampling.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-994215"></a>faultsamplemethod</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-994266"></a>Method to be used for fault sampling. Possible values are <code>random</code>, <code>randomweighted</code>, <code>randomuniform</code>, and <code>weightsorted</code>.</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-958185"></a>You can use the <code>savedatainseparatedir</code> parameter with possible values of <code>no</code> (default), <code>yes</code>, and <code>name</code> to save the results in separate directories.The directory is named as <code>SAFE_separate/&lt;dirNumber&gt;/mytran.tran.tran</code> where &lt;<span class="webflare-courier-new" style="white-space:pre"><em>dirNumber</em></span>&gt; corresponds to the sweep index when the <code>savedatainseparatedir=yes</code>, and fault name when <code>savedatainseparatedir=name</code>.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-958186"></a>Spectre supports only one child analysis in the fault <code>sweep</code> simulation. Specifying multiple sub-analyses is not recommended.</div>

<h4><em>
<a id="pgfId-972513"></a>Direct Fault Simulation for Transient Analysis</em></h4>

<p>
<a id="pgfId-976830"></a>The following is the syntax for direct fault simulation for transient analysis.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-976804"></a>DirectName sweep faults=[ * | faultblock1...] nominal=[yes|no][faultsid=[</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-976805"></a> ...]][faultsname=[...]][faultsinst=[...]]{</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-976806"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-976807"></a>        TranName tran stop=10u step=1p</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-976808"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-976809"></a>    }</pre>

<p>
<a id="pgfId-958187"></a>The following is an example of running the transient simulation for all faults blocks including the fault-free simulation before the direct fault analysis starts. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-958188"></a>Directfault sweep faults=[*] nominal=yes { </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-958189"></a> tran1 tran start=0 stop=3e-3 annotate=status </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-958190"></a>}</pre>

<p>
<a id="pgfId-958191"></a>The following example shows that only second, fourth, fifth, sixth, seventh, and eighth faults are selected to run direct fault analysis.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-958192"></a>Selectfault sweep faults=[*] faultsid=[2 range(4,8)] { </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-958193"></a> tran1 tran start=0 stop=3e-3 annotate=status </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-958194"></a>} </pre>
<h4><em>
<a id="pgfId-972565"></a>Direct Fault Simulation for DC Analysis</em></h4>

<p>
<a id="pgfId-958195"></a>The following is an example of direct fault simulation for DC analysis:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-958196"></a>DirectName sweep faults=[ * | faultblock1...] nominal=[yes|no][faultsid=[</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-958197"></a> ...]][faultsname=[...]][faultsinst=[...]]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-958198"></a>{</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-958199"></a> DCName dc </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-958200"></a>}</pre>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-958201"></a>For DC analysis, direct fault analysis supports only one data point DC simulation; sweeping for <code>dev</code>, <code>mod</code>, or <code>param</code> is not supported.</div>

<h4><em>
<a id="pgfId-972627"></a>Direct Fault Simulation for Other Analyses</em></h4>

<p>
<a id="pgfId-958202"></a>For other analyses, such as AC analysis, Spectre can perform simulation, but does not support post-processing for functional safety report.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-958203"></a>DirectName sweep faults=[ * | faultblock1...] nominal=[yes|no][faultsid=[</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-958204"></a> ...]][faultsname=[...]][faultsinst=[...]]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-958205"></a>{</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-958206"></a> ACName ac start=1e3 stop=1e9 </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956743"></a>}</pre>
<h4>
<a id="pgfId-956745"></a><a id="45539"></a>Functional Safety Report Based on Assert Violations</h4>

<p>
<a id="pgfId-956749"></a>When a fault simulation is performed, a functional safety report is generated based on the result of assert violation that contains important information for analog fault test. Spectre provides the capability to measure the functional safety of the design using single-point fault metric (SPFM) and latent fault metric (LFM).</p>
<p>
<a id="pgfId-956750"></a>In the functional safety application, a design includes two modules, functional module and safety diagnostic module. The <code>safecheck=func</code> parameter is used for tracking the functional module while <code>safecheck=check</code> is used for checking the diagnostic module. Both <code>safecheck=func</code> and <code>safecheck=check</code> are mandatory to generate the functional safety report.</p>
<p>
<a id="pgfId-956751"></a>Spectre contains an executable file named <code>spectre_fsrpt</code> that is designed to post-process the log files and the assert violations when fault simulation is complete. </p>
<p>
<a id="pgfId-965288"></a>The functional safety report consists of safety report summary, detection summary, list of observation points, and diagnostic and detection detail matrix. If <code>safecheck=check</code> is specified, the column <code>Detection</code> is generated. If both <code>safecheck=func</code> and <code>safecheck=check</code> are specified, the column <code>Safety</code> is generated. The last section displays the coverage summary in percentage, as shown in the following figure. </p>

<p>
<a id="pgfId-956756"></a></p>
<div class="webflare-div-image">
<img width="668" height="319" src="images/chap7-29.gif" /></div>

<ul><li>
<a id="pgfId-956757"></a>The legend for functional and safety check is as follows:<ul><li>
<a id="pgfId-956758"></a><code>G</code>: Not detected, measurement consistent with fault-free circuit within error bound </li><li>
<a id="pgfId-956759"></a><code>D</code>: Detected, no clear definition of lower or upper bound (multiple violations, ...) </li><li>
<a id="pgfId-956760"></a><code>L</code>: Detected with lower bound violation </li><li>
<a id="pgfId-956761"></a><code>U</code>: Detected with upper bound violation </li><li>
<a id="pgfId-956762"></a><code>E</code>: Error definition in expression itself </li><li>
<a id="pgfId-956763"></a><code>N</code>: Untestable (non-convergence, any failure of fault simulation, fixed power / ground value, ...) </li><li>
<a id="pgfId-956764"></a><code>-</code>: Cannot evaluate (wrong expression, or asserts not violated prior to <code>autostop</code> triggered by the another assert)</li></ul></li><li>
<a id="pgfId-956765"></a>Detection summary displays the following information:<ul><li>
<a id="pgfId-956766"></a>If the assert is marked as <code>D</code>, <code>U</code>, or <code>L</code> then it is <code>Detected</code></li><li>
<a id="pgfId-956767"></a>If all asserts are <code>G</code>, they are <code>Undetected</code></li><li>
<a id="pgfId-956768"></a>Any output for <code>N</code>, <code>E,</code> or <code>-</code> is <ul><li>
<a id="pgfId-956769"></a>marked as <code>X</code> if that is the only assert check</li><li>
<a id="pgfId-956770"></a>ignored if there are multiple assert checks</li></ul></li></ul></li><li>
<a id="pgfId-956771"></a>Safety Summary<ul><li>
<a id="pgfId-956773"></a><code>C1(Safe_undetected)</code> when fault is undetected by both <code>safecheck=func</code> and <code>safecheck=[check]</code></li><li>
<a id="pgfId-956774"></a><code>C2 (Safe_detected)</code> when fault is undetected by <code>safecheck=func </code>but detected by <code>safecheck=[check]</code></li><li>
<a id="pgfId-956776"></a><code>C3(Dangerous_detected)</code> when fault is detected by both <code>safecheck=func </code>and <code>safecheck=[check]</code></li><li>
<a id="pgfId-956777"></a><code>C4(Dangerous_undetected)</code> when fault is detected by <code>safecheck=func</code> but undetected by <code>safecheck=[check]</code></li></ul></li><li>
<a id="pgfId-956778"></a>Peak violation of asserts<ul><li>
<a id="pgfId-956779"></a>Maximum value of the absolute deviation if there are multiple violations.</li><li>
<a id="pgfId-956780"></a>When min or max is non-zero<ul><li>
<a id="pgfId-956781"></a>[<code>diff (peak value &#8211; min|max)] &#8220;/&#8221; min|max = deviation in %</code></li></ul><br /><pre class="webflare-pre-block webflare-courier-new" id="#id956782">
<a id="pgfId-956782"></a>Example:  &#8220;(1.23e-3 / 2 =  6.15e-2%)&#8221;</pre></li><li>
<a id="pgfId-956783"></a>When either min or max is zero<ul><li>
<a id="pgfId-956784"></a>[peak value] &#8220;/ 0 = inf&#8221;</li></ul><br /><pre class="webflare-pre-block webflare-courier-new" id="#id956785">
<a id="pgfId-956785"></a>Example: &#8220;(1.23e-3 / 0 = inf)&#8221;</pre></li></ul></li><li>
<a id="pgfId-956786"></a>Summary in Percentage (Total=C1+C2+C3+C4)<ul><li>
<a id="pgfId-956796"></a>Diagnostic coverage                      =  [ C3/(C3+C4) ]</li><li>
<a id="pgfId-956795"></a>Fault tolerance                            =  [ (C1+C2+C3)/Total ]</li><li>
<a id="pgfId-956794"></a>Coverage reported by checker      =  [ (C2+C3)/Total ]</li><li>
<a id="pgfId-956793"></a>Faults that are safe                     =  [(C1+C2)/Total]      </li><li>
<a id="pgfId-956789"></a>Safe_undetected                             =   C1/Total</li><li>
<a id="pgfId-956790"></a>Safe_detected                                 =   C2/Total</li><li>
<a id="pgfId-956791"></a>Dangerous_detected                      =   C3/Total</li><li>
<a id="pgfId-956792"></a>Dangerous_undetected                  =   C4/Total</li><li>
<a id="pgfId-956787"></a>Fault coverage                                =   Detected / (Detected + Undetected) x100%</li></ul></li></ul>









































<h4>
<a id="pgfId-965575"></a>Using Spectre for Functional Safety Verification</h4>

<p>
<a id="pgfId-965646"></a>Fault analysis can be used to simulate the diagnostic coverage by simulating each failure mode in the design identified in the FMEDA Verification Plan. In the FMEDA Verification Plan, the failure modes are defined, as well as, the type of fault metrics are analyzed. The results are reported in terms of Single Point Fault (SPF), or Latent Fault (LF). </p>

<h4><em>
<a id="pgfId-965708"></a><a id="23282"></a>Single Po<a id="single_point_fault"></a>int Fault (SPF)</em></h4>

<p>
<a id="pgfId-965748"></a>Single point faults are faults in a functional module that are not covered by a safety mechanism and lead directly to the violation of a safety goal. The purpose of the analysis is to identify if the dangerous faults are detected by the safety mechanism.</p>
<p>
<a id="pgfId-965784"></a>Let us discuss this with an example of a voltage regulator design, as shown below. </p>

<p>
<a id="pgfId-965871"></a></p>
<div class="webflare-div-image">
<img width="668" height="205" src="images/chap7-30.gif" /></div>

<p>
<a id="pgfId-965869"></a>In the figure above, <code>VREG</code> block is the functional module and <code>VMON</code> block is the safety mechanism module. To illustrate single point faults, consider a voltage regulator used in an ECU. The voltage regulator (VREG) block is the functional module. The safety mechanism or checker is a window comparator used to monitor the output in <code>VREG</code>. If the output of <code>VREG</code> is outside the safe operating range, then the <code>VMON</code> block will report that a dangerous condition has been detected at the output of <code>VREG</code>.</p>
<p>
<a id="pgfId-965941"></a>In Spectre Fault Analysis, two types of assertions are defined. A <code>safecheck=func</code> assertion is used to check the output of the functional module and determine if the safety goal has been violated. <code>safecheck=check</code> is used to monitor the output of the safety mechanism and determine if the violations of the safety goal have been detected.</p>
<p>
<a id="pgfId-965944"></a>The diagnostic coverage report is generated based on the violations of the safety goal from the functional module and the ability of the safety mechanism to detect those violations. The report is shown below.</p>

<p>
<a id="pgfId-966026"></a></p>
<div class="webflare-div-image">
<img width="668" height="320" src="images/chap7-31.gif" /></div>
<h4><em>
<a id="pgfId-966002"></a><a id="32779"></a>Laten<a id="latent_fault"></a>t Faults</em></h4>

<p>
<a id="pgfId-994555"></a>Latent faults are the faults in the safety mechanism. These faults do not become active until a fault occurs in the functional module. In the Voltage Regular example, the faults in <code>VMON</code> block are active when the output of VREG is in a dangerous state. Since there is a fault in the <code>VMON</code> block, the dangerous fault may not be detected. So a latent fault is a fault in the safety mechanism module (checker/diagnostic module) which results in a functional failure not being detected. </p>
<p>
<a id="pgfId-994557"></a>To test for a latent fault, the input of <code>VMON</code> is forced to a dangerous state and the output of the safety mechanism is monitored to check if the fault is detected. The detection is performed by a separate diagnostic block used to monitor the safety mechanism. An example of a diagnostic block for the safety mechanism might be redundancy to improve the diagnostic coverage. In the example, three <code>VMON</code> blocks are used and if two or more detections are made, it means that there is a fault. Another approach for detecting latent faults would be to use an Analog Built-In Self-Testing (ABIST) block to periodically monitor whether or not the safety mechanism can detect failures. For example, use a DAC to apply a dangerous state at the input of the <code>VMON</code> block to monitor if it is detected. </p>
<p>
<a id="pgfId-994651"></a>Latent Faults can be of the following two types:</p>
<ul><li>
<a id="pgfId-966211"></a><strong>Latent Fault Continuous (LF-C)</strong>: If the output of the safety mechanism is monitored continuously to identify the latent faults, a continuous safety mechanism for latent faults is used. Simulating for latent faults when a continuously monitoring checker is used is equivalent to simulating for single point faults. The safety mechanism becomes the <em>functional module</em> of the test and the checker is the <em>safety mechanism</em> of the test, as shown in the following figure.<br />
<a id="pgfId-966257"></a><div class="webflare-div-image">
<img width="668" height="240" src="images/chap7-32.gif" /></div><ul><li>
<a id="pgfId-966264"></a>Asserts are defined for both functional and checker blocks and enabled for fault simulation. When the simulation is performed, <code>spectre_fsrpt</code> is used to generate the functional safety report.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id966299">
<a id="pgfId-966299"></a>%spectre_fsrpt -FM LFC -FMID 111 dfa.log -o LFC.fsrpt</pre><br /><ffi2-fig-frame-in-2 id="#id966343">
<a id="pgfId-966343"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="668" height="297" src="images/chap7-33.gif" /></div></li></ul></li><li>
<a id="pgfId-966350"></a><strong>Latent Fault Periodic (LF-P</strong>): If the output of the safety mechanism is monitored periodically to identify latent faults, then a periodic safety mechanism for latent faults is used. An example of simulating for latent faults with periodic monitoring using analog Build-In Self-Testing (ABIST) module is shown below. <br />
<a id="pgfId-966381"></a><div class="webflare-div-image">
<img width="668" height="277" src="images/chap7-34.gif" /></div>
<a id="pgfId-966379"></a>LF-P is a two-step process.<ul><li>
<a id="pgfId-966413"></a>In the first step:<ul><li>
<a id="pgfId-966454"></a>Asserts are defined for both functional and checker blocks. Fault simulation is performed when functional asserts are enabled, and checker asserts are disabled.</li><li>
<a id="pgfId-966553"></a>Faults that are detected as Dangerous are identified to be used in the second step. The report contains the Safe and Dangerous faults classification.
<code>%spectre_fsrpt -FM LFP -FMID 000 dfa_1.log -dang \
fault_list_dang.scs -o LFP_func.fsrp</code>t<br /><ffi2-fig-frame-in-2 id="#id966587">
<a id="pgfId-966587"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="668" height="495" src="images/chap7-35.gif" /></div></li></ul></li><li>
<a id="pgfId-966534"></a>In the second step:<ul><li>
<a id="pgfId-966620"></a>Dangerous fault list is included in the netlist. Checker asserts are enabled and functional asserts are disabled to perform simulation.</li><li>
<a id="pgfId-966699"></a>A report is generated that contains the Detected and Undetected faults classifications for all the dangerous faults.
<code>% spectre_fsrpt -FM LFP -FMID 111 dfa_2.log -o LFP_check.fsrpt</code><br /><ffi2-fig-frame-in-2 id="#id966766">
<a id="pgfId-966766"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="668" height="289" src="images/chap7-36.gif" /></div></li><li>
<a id="pgfId-966812"></a>You can merge <code>LFP_func.fsrpt</code> and <code>LFP_check.fsrpt</code> to get <code>SD</code>, <code>SU</code>, <code>DD</code>, <code>DU</code> classification and calculate the diagnostic coverage.
<code>%spectre_fsrpt LFP_func.fsrpt LFP_check.fsrpt -FM LFP -FMID 222 -o LFP_full.fsrpt</code><br /><ffi2-fig-frame-in-2 id="#id966830">
<a id="pgfId-966830"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="668" height="296" src="images/chap7-37.gif" /></div></li></ul></li></ul></li></ul>


































<h4>
<a id="pgfId-956798"></a>Getting Started With Direct Fault Analysis Using Asserts</h4>

<p>
<a id="pgfId-956799"></a>The following example of Direct Fault Analysis provides a guidance on how to generate the functional safety report based on the assert setup approach.</p>
<p>
<a id="pgfId-956800"></a>Direct fault analysis evaluates the asserts with <code>safecheck</code> throughout the simulation. The <code>faultstart</code> and <code>faultstop</code> options only affect the creation of the table file. Direct fault analysis can also be used for generating the fault detection report. Refer to <a href="chap7.html#27680">Spectre Transient Fault Analysis</a> for defect detection matrix generation based on fault table file. </p>

<h4><em>
<a id="pgfId-956804"></a>Preparing and Starting Direct Fault Analysis</em></h4>

<p>
<a id="pgfId-956805"></a>Once the fault list is ready, you need to set up the direct fault analysis, as shown below.</p>
<ul><li>
<a id="pgfId-956806"></a>Specify the asserts to be checked for both functional and diagnostic modules, as shown below, as shown below. <br /><pre class="webflare-pre-block webflare-courier-new" id="#id956807">
<a id="pgfId-956807"></a>DEV_BIAS  assert  safecheck=func  dev=Mn  expr=&quot;V(g,s)&quot;  min=-4e-8  max=2.501 message=&quot;Device bias limit exceeded&quot; </pre><pre class="webflare-pre-block webflare-courier-new" id="#id956808">
<a id="pgfId-956808"></a>LOAD_CAP  assert  safecheck=check  expr=&quot;V(d)&quot;  min=-22e-8  max=5  duration=1u message=&quot;Load Cap limit exceeded&quot; </pre><pre class="webflare-pre-block webflare-courier-new" id="#id956809">
<a id="pgfId-956809"></a>LOAD_CAP2   assert   safecheck=check   expr=&quot;v(gg,g)&quot;   min=-8e-8   max=2.501 message=&quot;Load Cap2 limit exceeded&quot; </pre></li><li>
<a id="pgfId-956810"></a>Enable <code>checklimit</code> for fault simulation related asserts only followed by the direct fault analysis statement.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id956811">
<a id="pgfId-956811"></a>faultcheck checklimit enable=[ DEV_BIAS  LOAD_CAP  LOAD_CAP2 ]</pre></li><li>
<a id="pgfId-956812"></a>Specify the direct fault analysis statement for running child transient analysis for all faults, as shown below. <ul><li>
<a id="pgfId-956813"></a>Without specifying the fault times<br /><pre class="webflare-pre-block webflare-courier-new" id="#id956814">
<a id="pgfId-956814"></a>Directfault sweep faults=[*] { </pre><pre class="webflare-pre-block webflare-courier-new" id="#id956815">
<a id="pgfId-956815"></a>tran1 tran start=0 stop=3e-3 annotate=status </pre><pre class="webflare-pre-block webflare-courier-new" id="#id956816">
<a id="pgfId-956816"></a>} </pre></li><li>
<a id="pgfId-956817"></a>By specifying the fault times, the fault result is saved in a table file at the fault time points.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id956818">
<a id="pgfId-956818"></a>Directfault sweep faults=[*] {</pre><pre class="webflare-pre-block webflare-courier-new" id="#id956819">
<a id="pgfId-956819"></a>tran1 tran start=0 stop=3e-3 annotate=status faulttimes=[0.5m 7.5m]</pre><pre class="webflare-pre-block webflare-courier-new" id="#id956820">
<a id="pgfId-956820"></a>}</pre></li></ul></li><li>
<a id="pgfId-956821"></a>Run the simulation as follows.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id956822">
<a id="pgfId-956822"></a>%spectre +aps direct_fault.scs +log direct_fault.log -o out_dfa/</pre></li></ul>





















<h4><em>
<a id="pgfId-956823"></a>Viewing Data Output</em></h4>

<p>
<a id="pgfId-956824"></a>In the log file, the list of faults is reported in the Circuit inventory section, as shown below.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-956825"></a>Circuit inventory:</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956826"></a>  nodes 6 </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956827"></a>  assert 5 </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956828"></a>  mos11010 1 </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956829"></a>  resistor 6 </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956830"></a>  vsource 2 </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956831"></a>Design checks inventory:</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956832"></a>  bridge 10</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956833"></a>  assert 3</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956834"></a>  open 12 </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956835"></a>SAFE: nominal_SAFE = 0 (0 %) -----&gt; fault free simulation, index=0</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956836"></a>++++++++++++++++++++++++++++ </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956837"></a>Time for SAFE itNum=0: CPU = 9.999 ms, elapsed = 10.07294798 s. </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956838"></a>Time accumulated: CPU = 304.953 ms, elapsed = 41.14494801 s. </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956839"></a>Peak resident memory used = 46.5 Mbytes. </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956840"></a>Notice from spectre at faults_SAFE = 0 during transient analysis `SAFE-000_tran1&#39;, </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956841"></a>during Sweep analysis `SAFE&#39;. </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956842"></a>    No  checklimit  analysis  defined  for  asserts.  A  default  checklimit  analysis </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956843"></a>&#39;SpectreChecklimitAnal&#39; has been created with all asserts enabled. </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956844"></a>The following asserts will be enabled for all subsequent analyses until the next </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956845"></a>checklimit analysis statement is found: </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956846"></a>DEV_BIAS : ON </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956847"></a>LOAD_CAP : ON </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956848"></a>LOAD_CAP2 : ON </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956849"></a>********************************************************** </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956850"></a>Transient Analysis `SAFE-000_tran1&#39;: time = (0 s -&gt; 12 ms) </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956851"></a>********************************************************** </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956852"></a>DC simulation time: CPU = 999 us, elapsed = 353.8131714 us. </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956853"></a>... ... </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956854"></a>    SAFE-000_tran1: time = 300.3 us     (2.5 %), step = 17.95 us     (150 m%) </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956855"></a>    SAFE-000_tran1: time = 987.7 us    (8.23 %), step = 93.86 us     (782 m%) </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956856"></a>    SAFE-000_tran1: time = 1.655 ms    (13.8 %), step = 240 us          (2 %) </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956857"></a>    SAFE-000_tran1: time = 2.135 ms    (17.8 %), step = 240 us          (2 %) </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956858"></a>    SAFE-000_tran1: time = 2.808 ms    (23.4 %), step = 192.3 us      (1.6 %) </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956859"></a>           SAFE-000_tran1: time = 3.315 ms    (27.6 %), step = 17.41 us     (145 m%) </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956860"></a>... ... </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956861"></a>+++++++++++++++++++++++++++++++++++++++ </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956862"></a>SAFE: bridge_1_SAFE = 1 (11.11111111 %) ---&gt; Sweeps from 1st fault
&#160;&#160;&#160;&#160;           bridge_1_SAFE;index=1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956863"></a>+++++++++++++++++++++++++++++++++++++++ </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956864"></a>Time for SAFE itNum=1: CPU = 0 s, elapsed = 179.0523529 us. </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956865"></a>Time accumulated: CPU = 350.946 ms, elapsed = 41.21105385 s. </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956866"></a>Peak resident memory used = 48.2 Mbytes. </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956867"></a>********************************************************** </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956868"></a>Transient Analysis `SAFE-001_tran1&#39;: time = (0 s -&gt; 12 ms) </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956869"></a>********************************************************** </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956870"></a>DC simulation time: CPU = 0 s, elapsed = 174.0455627 us. </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956871"></a>... ... </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956872"></a>    SAFE-001_tran1: time = 969.6 us    (8.08 %), step = 85.16 us     (710 m%) </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956873"></a>    SAFE-001_tran1: time = 1.62 ms     (13.5 %), step = 240 us          (2 %) </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956874"></a>SAFE-001_tran1: time = 2.34 ms&#160;&#160;   (19.5 %), step = 240 us              (2 %) </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956875"></a>SAFE-001_tran1: time = 2.82 ms&#160;&#160;   (23.5 %), step = 240 us              (2 %) </pre>

<p>
<a id="pgfId-956876"></a>The data is saved in the raw directory (<code>out_fusa_dfa/report_dfa.raw/</code>) with the following names: </p>
<ul><li>
<a id="pgfId-956877"></a>Sweep for transient analysis: <code>[SweepName-sweepIndex_TranName].tran.tran</code>, for example, <code>SAFE-001_tran1.tran.tran</code></li><li>
<a id="pgfId-956878"></a>Assert violations are saved in sqldb format: <span class="webflare-courier-new" style="white-space:pre"><em>NetlistName</em></span><code>.sqldb</code>, for example, <code>direct_fault.sqldb</code></li><li>
<a id="pgfId-956879"></a>Sweep for transient assert violation if a violation is triggered:<br />
<a id="pgfId-956880"></a><code>[SweepName-sweepIndex_TranNameViolations].violations</code>, for example, <code>SAFE-007_tran1Violations.violations</code></li></ul>



<p>
<a id="pgfId-956881"></a>When the raw data is plotted in the waveform viewer, each curve represents one fault result with the fault id shown in the legend, as shown below. <code>id=0</code> is the nominal fault-free result. The fault table file shows more details about the fault id associated with the fault statement. </p>

<p>
<a id="pgfId-956885"></a></p>
<div class="webflare-div-image">
<img width="668" height="407" src="images/chap7-38.gif" /></div>
<h4><em>
<a id="pgfId-956887"></a><a id="39473"></a>Post-processing for Functional Safety Report</em></h4>

<p>
<a id="pgfId-956888"></a>You can use the Spectre binary <code>spectre</code>_<code>fsrpt</code> to generate the functional safety report based on the assert violation for Direct Fault Analysis on screen, or direct the output to a file. The script reads the log file and looks for the path of sqldb file for violations. Once you move the raw data, the binary will not be able to find the violation in sqldb.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-956889"></a>%.../bin/spectre_fsrpt out_fusa_dfa/report_dfa.log </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956890"></a>%.../bin/spectre_fsrpt out_fusa_dfa/report_dfa.log -o FuSa_dfa.txt </pre>

<p>
<a id="pgfId-956891"></a>You may run a few fault tests with the same test bench for different fault lists and generate one functional safety report for each test. The <code>spectre_fsrpt</code> binary helps you merge all these reports to a complete one. </p>
<p>
<a id="pgfId-956892"></a>The following is an example of running three fault simulations for different fault lists:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-956893"></a>spectre +aps direct_fault_1.scs -outdir out_merge_1/ </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956894"></a>spectre +aps direct_fault_2.scs -outdir out_merge_2/ </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956895"></a>spectre +aps direct_fault_3.scs -outdir out_merge_3</pre>

<p>
<a id="pgfId-956896"></a>The following is an example of generating three functional safety reports for different simulations:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-972806"></a>%&#8230;/bin/spectre_fsrpt out_merge_1/f1_dfa_merge_1.log -o FuSa_1.txt </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-972807"></a>%&#8230;/bin/spectre_fsrpt out_merge_2/f1_dfa_merge_2.log -o FuSa_2.txt</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-972808"></a>%&#8230;/bin/spectre_fsrpt out_merge_3/f1_dfa_merge_3.log -o FuSa_3.txt</pre>

<p>
<a id="pgfId-956900"></a>The following is an example of merging three reports into one functional safety report:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-957265"></a>%&#8230;/bin/spectre_fsrpt FuSa_1.txt FuSa_2.txt FuSa_3.txt -o FuSa_Full.txt</pre>

<p>
<a id="pgfId-957266"></a>You can extract the new fault list for the C1(SU), C2(SD), C3(DD), and C4(DU) (see <a href="chap7.html#45539">Functional Safety Report Based on Assert Violations</a> for definition of C1, C2, C3, and C4) categories to a file for further simulation during the generation of the functional safety report, as shown below.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-972853"></a>%&#8230;/bin/spectre_fsrpt out_fusa_dfa/report_dfa.log -o FuSa_dfa.txt \</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-972854"></a>    -DU DU_Fault_List.scs</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-972855"></a>%&#8230;/bin/spectre_fsrpt out_fusa_dfa/report_dfa.log -o FuSa_dfa.txt \</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-972856"></a>    -DD DD_Fault_List.scs</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-972857"></a>%&#8230;/bin/spectre_fsrpt out_fusa_dfa/report_dfa.log -o FuSa_dfa.txt \</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-972858"></a>    -SD SD_Fault_List.scs</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-972859"></a>%&#8230;/bin/spectre_fsrpt out_fusa_dfa/report_dfa.log -o FuSa_dfa.txt \</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-972860"></a>    -SU SU_Fault_List.scs</pre>

<p>
<a id="pgfId-966956"></a>In addition to the options, such as DU, SU, SD, and DD, you can save the fault lists to a file based on either Detection or Safety column in the report using the following options:</p>
<ul><li>
<a id="pgfId-967043"></a><code>-safe </code><span class="webflare-courier-new" style="white-space:pre"><em>filename</em></span> saves all faults from report with <code>Safe_*</code> status<br /><pre class="webflare-pre-block webflare-courier-new" id="#id967044">
<a id="pgfId-967044"></a>%&#8230;/bin/spectre_fsrpt out_fusa_dfa/report_dfa.log -o FuSa_dfa.txt \</pre><pre class="webflare-pre-block webflare-courier-new" id="#id967045">
<a id="pgfId-967045"></a>-safe safe_Fault_List.scs</pre></li><li>
<a id="pgfId-967046"></a><code>-dang </code><span class="webflare-courier-new" style="white-space:pre"><em>filename</em></span> saves all faults from report with <code>Dangerous_*</code> status<br /><pre class="webflare-pre-block webflare-courier-new" id="#id967047">
<a id="pgfId-967047"></a>%&#8230;/bin/spectre_fsrpt out_fusa_dfa/report_dfa.log -o FuSa_dfa.txt \</pre><pre class="webflare-pre-block webflare-courier-new" id="#id967048">
<a id="pgfId-967048"></a>-dang dangerous_Fault_List.scs</pre></li><li>
<a id="pgfId-967049"></a><code>-det </code><span class="webflare-courier-new" style="white-space:pre"><em>filename</em></span> saves all faults from report with <code>*_Detected</code> status<br /><pre class="webflare-pre-block webflare-courier-new" id="#id967050">
<a id="pgfId-967050"></a>%&#8230;/bin/spectre_fsrpt out_fusa_dfa/report_dfa.log -o FuSa_dfa.txt \</pre><pre class="webflare-pre-block webflare-courier-new" id="#id967051">
<a id="pgfId-967051"></a>-det detected_Fault_List.scs</pre></li><li>
<a id="pgfId-967052"></a><code>-undet </code><span class="webflare-courier-new" style="white-space:pre"><em>filename</em></span> saves all faults from report with <code>*_Undetected</code> status<br /><pre class="webflare-pre-block webflare-courier-new" id="#id967053">
<a id="pgfId-967053"></a>%&#8230;/bin/spectre_fsrpt out_fusa_dfa/report_dfa.log -o FuSa_dfa.txt \</pre><pre class="webflare-pre-block webflare-courier-new" id="#id967054">
<a id="pgfId-967054"></a>-undet undetected_Fault_List.scs</pre></li></ul>











<p>
<a id="pgfId-967133"></a>When fault simulation only contains one type of assert and the report has either <code>Detection</code> or <code>Safety</code> column, the DU, SU, SD, and DD options are not applicable and <code>spectre_fsrpt</code> generates a warning and ignores the request.</p>
<ul><li>
<a id="pgfId-967231"></a>Options <code>-safe</code>, and <code>-dang</code> can be used only when <code>Safety</code> column exists in the report.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id967232">
<a id="pgfId-967232"></a>%&#8230;/bin/spectre_fsrpt out_fusa_dfa/report_dfa.log -o Func_dfa.txt \</pre><pre class="webflare-pre-block webflare-courier-new" id="#id967233">
<a id="pgfId-967233"></a>-safe safe_Fault_List.scs</pre><pre class="webflare-pre-block webflare-courier-new" id="#id967234">
<a id="pgfId-967234"></a>%&#8230;/bin/spectre_fsrpt out_fusa_dfa/report_dfa.log -o Func_dfa.txt \</pre><pre class="webflare-pre-block webflare-courier-new" id="#id967235">
<a id="pgfId-967235"></a>-dang dangerous_Fault_List.scs</pre></li><li>
<a id="pgfId-967236"></a>Options <code>-det</code> and <code>-undet</code> can be used when the <code>Detection</code> column exists in the report.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id967237">
<a id="pgfId-967237"></a>%&#8230;/bin/spectre_fsrpt out_fusa_dfa/report_dfa.log -o Check_dfa.txt \</pre><pre class="webflare-pre-block webflare-courier-new" id="#id967238">
<a id="pgfId-967238"></a>-det detected_Fault_List.scs</pre><pre class="webflare-pre-block webflare-courier-new" id="#id967239">
<a id="pgfId-967239"></a>%&#8230;/bin/spectre_fsrpt out_fusa_dfa/report_dfa.log -o Check_dfa.txt \</pre><pre class="webflare-pre-block webflare-courier-new" id="#id967225">
<a id="pgfId-967225"></a>-undet detected_Fault_List.scs</pre></li></ul>










<h4><em>
<a id="pgfId-956903"></a>Using the faultautostop Feature in Direct Fault Analysis</em></h4>

<p>
<a id="pgfId-956904"></a>You can use the <code>faultautostop</code> parameter to enable the auto-stop feature in direct fault analysis. Fault simulation stops whenever an assert violation is triggered for the defined check. The example shows that auto-stop has been enabled by using <code>faultautostop=both</code>, which is required for functional safety report generation. You can also set <code>faultautostop=func</code> or <code>faultautostop=check</code>, if required.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-956905"></a>SAFE sweep faults=[ * ]&#160;&#160;{ </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956906"></a> tran1 tran stop=12e-3 annotate=status faulttimes=[5m 6.5m]&#160;&#160;\ </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956907"></a> faultautostop=both </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956908"></a>}</pre>

<p>
<a id="pgfId-956909"></a>When <code>faultautostop=func|check|both|all</code>, the violation triggered by at least one of the asserts causes the simulation to stop automatically. Asserts that are not violated before auto-stop are marked as untestable (<code>-</code>) in the functional safety report.</p>
<p>
<a id="pgfId-956910"></a>The format of the output table file of signals and currents remains the same; they are independent of auto stop. All data for the time points after the auto stop gets replicated from the last found solution and the iterations value is set to <code>1</code>, as shown in the following figure. </p>

<p>
<a id="pgfId-956914"></a></p>
<div class="webflare-div-image">
<img width="668" height="117" src="images/chap7-39.gif" /></div>

<p>
<a id="pgfId-956915"></a>The log file displays a message about the auto stop and the fault simulation getting terminated, as shown in red below.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-956916"></a>Fault analysis for bridge_1 :&#160;&#160;22 time steps </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956917"></a>Intrinsic bridge_1 analysis time:&#160;&#160;  CPU = 62.991 ms, elapsed = 74.63693619 ms. </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956918"></a>DC simulation time: CPU = 1 ms, elapsed = 536.9186401 us. </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956919"></a> Fault analysis for bridge_2 :&#160;&#160;361 time steps </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956920"></a>Intrinsic bridge_2 analysis time:&#160;&#160;  CPU = 17.997 ms, elapsed = 18.2697773 ms. </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956921"></a>DC simulation time: CPU = 0 s, elapsed = 524.9977112 us. </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956922"></a> Fault analysis for bridge_3 :&#160;&#160;183 time steps </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956923"></a>Intrinsic bridge_3 analysis time:&#160;&#160;  CPU = 9.999 ms, elapsed = 10.31899452 ms. </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956924"></a>DC simulation time: CPU = 0 s, elapsed = 522.1366882 us. </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956925"></a> Fault analysis for open_1 :&#160;&#160;182 time steps </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956926"></a>Intrinsic open_1 analysis time:&#160;&#160;  CPU = 9.998 ms, elapsed = 10.59818268 ms. </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956927"></a>DC simulation time: CPU = 0 s, elapsed = 493.0496216 us. </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956928"></a>Warning from spectre at time = 3.8 ms during transient analysis `timezero&#39;. </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956929"></a>    WARNING  (SPECTRE-4103):  LOAD_CAP2.open_2:  Instance  ,  Load  Cap2  limit  exceeded. </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956930"></a>Expression `v(gg,g)&#39; having value -121.3205893e-09 has exceeded its lower bound `-80e-09&#39;. </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956931"></a>Fault open_2 detected with assert. Analysis terminated due to autostop at 3.8 ms.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956932"></a>Warning from spectre at time = 3.8 ms during transient analysis `timezero&#39;. </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956933"></a>WARNING&#160;&#160;(SPECTRE-4121):&#160;&#160;LOAD_CAP2.open_2:&#160;&#160;instance&#160;&#160;,&#160;&#160;Load&#160;&#160;Cap2&#160;&#160;limit&#160;&#160;exceeded. </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956934"></a>Expression `v(gg,g)&#39; exceeds its lower bound `-80e-09&#39; . Peak value was -121.3205893e-</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956935"></a>09 at time 3.8e-03. Total duration of overshoot was 0. </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956936"></a> Fault analysis for open_2 :&#160;&#160;5159 time steps </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956937"></a>Intrinsic open_2 analysis time:&#160;&#160;  CPU = 227.965 ms, elapsed = 228.9030552 ms. </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956938"></a>DC simulation time: CPU = 0 s, elapsed = 524.0440369 us. </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956939"></a>Warning from spectre at time = 400.2020912 us during transient analysis `timezero&#39;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956940"></a>WARNING&#160;&#160;(SPECTRE-4104):&#160;&#160;LOAD_CAP2.open_3:&#160;&#160;Instance&#160;&#160;,&#160;&#160;Load&#160;&#160;Cap2&#160;&#160;limit&#160;&#160;exceeded. </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956941"></a>Expression `v(gg,g)&#39; having value 2.501260569 has exceeded its upper bound `2.501&#39;.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956942"></a>Fault open_3 detected with assert. Analysis terminated due to autostop at 400.2020912 us</pre>
<h4>
<a id="pgfId-956943"></a>Improving Performance</h4>

<p>
<a id="pgfId-956944"></a>Direct fault analysis provides the most accurate results; however, it takes long to complete the simulation when the fault list is long, or the nominal simulation is slow. To speed up the simulation for direct fault analysis, you can use the <code>distribute</code> option to distribute a <code>sweep</code> analysis across multiple machines. Using the <code>fork</code>, <code>lsf</code>, or <code>sge</code> option, you can choose to launch the child processes. You can use the command-line option <code>+mp=&lt;numprocesses&gt;</code> to specify the number of child processes to be launched. </p>

<h4><em>
<a id="pgfId-956945"></a>Job D<a id="job_distr"></a>istribution</em></h4>

<p>
<a id="pgfId-956946"></a>To enable the distributed mode of Direct Fault Analysis, use <code>+mp</code> at the Spectre command line. With the following statement, the master job requests one CPU and issues three new <code>bsub</code> commands with the same set of <code>bsub</code> parameters used for the master. The master job and the first child job forked from the master are run in one CPU, while the remaining child jobs are distributed in different CPUs. In case the first (forked) child job completes sooner, it waits for all the distributed child jobs to finish and then the results of all the jobs are merged.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-956947"></a>%bsub -R &quot;(OSNAME==Linux)&quot; &quot;spectre +aps -mt +mp=3 direct_fault.scs -outdir fullpath/out_dfa_mp/&quot; </pre>

<p>
<a id="pgfId-956948"></a>You can set different LSF queues for the parent and distributed jobs using the environment variable <code>CDS_MMSIM_MP_QUEUE</code>. Setting this variable to a particular queue submits the distributed jobs in that queue. The parent job runs in the original queue specified in the <code>bsub</code> command while submitting the job. </p>
<p>
<a id="pgfId-956949"></a>For example, if you set the value of the <code>CDS_MMSIM_MP_QUEUE</code> environment variable to <code>batch</code> (<code>setenv CDS_MMSIM_MP_QUEUE batch</code>) and run the test case containing sweep analysis and <code>+mp</code> in a <code>bsub</code> command with interactive queue, the parent job is run in the interactive queue and the distributed jobs are run in batch queue in LSF.</p>
<p>
<a id="pgfId-967367"></a>You can enable multithreading for each job. The following examples shows that each job runs with <code>mt=4</code> on one host:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-967496"></a>%bsub &#8211;R &#8220;(OSNAME==Linux) span[hosts=1]&#8221; -n 4 &#8220;spectre +aps +mt=lsf +mp=3</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-967492"></a>direct_fault.scs &#8211;outdir fullpath/out_dfa_mp/&#8220;</pre>

<p>
<a id="pgfId-967515"></a>To run the distribution on one machine, you may use the following command with a single thread.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-967533"></a>%spectre +aps -mt +mp=3 direct_fault.scs &#8211;outdir out_dfa_mp/</pre>
<h4>
<a id="pgfId-958442"></a>Using t<a id="three_step"></a>he Automated Three-Step Process</h4>

<p>
<a id="pgfId-958443"></a>To provide a more convenient way to perform functional safety analysis, an automated three steps process is implemented to integrate the fault generation, direct fault simulation, and perform post-processing for functional safety report. You can use the <code>+fsa</code> command-line option to automate the process of performing functional safety analysis. You need at least one <code>assert</code> statement with the <code>safecheck</code> parameter specified in the netlist to run the automated flow.</p>

<h4><em>
<a id="pgfId-979734"></a>Specifying the Fault List</em></h4>

<p>
<a id="pgfId-958444"></a>To run functional safety analysis, the existing fault list can be included, or a new fault list can be generated using <code>info</code> analysis. Following three scenarios are possible:</p>
<ul><li>
<a id="pgfId-958445"></a><code>info</code> analysis for fault generation precedes direct fault analysis (sweep analysis) or transient fault analysis (transient analysis) in the netlist<br />
<a id="pgfId-967611"></a>or</li><li>
<a id="pgfId-958446"></a>A fault list is included in the netlist and direct fault analysis (sweep analysis) or transient fault analysis (transient analysis) is specified<br />
<a id="pgfId-967637"></a>or</li><li>
<a id="pgfId-958447"></a><code>info</code> analysis for fault generation precedes direct fault analysis or transient fault analysis, and a fault list is included in the netlist. In this case, both fault lists will be used in direct fault analysis.</li></ul>




<p>
<a id="pgfId-967688"></a>If neither <code>info</code> analysis for fault generation is specified nor the fault list is included in the netlist, Spectre generates an error message and skips fault simulation.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-967744"></a>Custom fault simulation is not available in the <code>+fsa</code> mode.</div>

<h4><em>
<a id="pgfId-958448"></a>Performing Direct Fault Analysis with +fsa</em></h4>

<p>
<a id="pgfId-958449"></a>You need to define a <code>sweep</code> or <code>tran</code> analysis in the netlist to perform either direct fault analysis or transient fault analysis for the automated simulation. Following are the rules to handle the <code>faults</code> parameter in the <code>sweep</code> or <code>tran</code> statement:</p>
<ul><li>
<a id="pgfId-958450"></a>If a fault list is included in the netlist, the <code>faults</code> parameter keeps the functionality as defined (<code>faults=[*]</code>, or <code>faults=[</code><span class="webflare-courier-new" style="white-space:pre"><em>block_1</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>block_2</em></span><code>]</code>)</li><li>
<a id="pgfId-958451"></a>If <code>info</code> analysis for fault generation is specified, without <code>faultblock=</code><span class="webflare-courier-new" style="white-space:pre"><em>block_name</em></span>, then <code>faults=[*]</code> will enforce all generated faults to be considered in direct fault analysis or transient fault analysis</li><li>
<a id="pgfId-958452"></a>If <code>info</code> analysis has <code>faultblock=</code><span class="webflare-courier-new" style="white-space:pre"><em>block_name</em></span> specified, then the name of the block can be used in <code>faults=[</code><span class="webflare-courier-new" style="white-space:pre"><em>block_name</em></span><code>]</code></li></ul>


<p>
<a id="pgfId-958454"></a>Fault scoping parameters in sweep (<code>faultsid</code>, <code>faultsname</code>, <code>faultsinst</code>) are supported.</p>
<p>
<a id="pgfId-958438"></a>When direct fault analysis completes, <code>spectre_fsrpt</code> runs automatically to generate the functional safety report. The data is saved as <span class="webflare-courier-new" style="white-space:pre"><em>log_file_name</em></span><code>.fsrpt</code> in the same path as the regular log file.</p>

<h3>
<a id="pgfId-956952"></a><a id="27680"></a>Spectre Trans<a id="spectre_tfa"></a>ient Fault Analysis</h3>

<p>
<a id="pgfId-956954"></a>Spectre direct fault analysis is applicable only for small-sized designs, or a small fault count. In most practical cases, direct method may take months or years to finish the simulation. </p>
<p>
<a id="pgfId-956955"></a>Spectre transient fault analysis improves the performance of analog fault simulation and delivers results with the required accuracy, within reasonable time. Spectre uses the abstraction of only applying the faults at user-defined transient time points (fault times). Different methods are available for injecting the faults at the fault time points. The methods differ in how long (how many steps/iterations) they inject the fault. </p>
<p>
<a id="pgfId-956956"></a>The longer the injection interval, the higher is the chance to match the direct fault simulation reference, and therefore, the better is the accuracy. However, the longer the injection interval, the longer is the simulation time. The shorter the injection interval, the less likely is the chance that the fault will impact the circuit behavior. On the other hand, the simulation time is fast, and it may still provide an initial overview of the fault impact. </p>
<p>
<a id="pgfId-984209"></a>The following is the syntax for transient fault analysis:</p>

<a id="pgfId-984281"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
TFAName tran start=0 stop=50n [faults=[ * | faultblock1...] faulttimes=[&#8230;]&#8230;]</pre>

<p>
<a id="pgfId-984303"></a>You can specify the following fault parameters with transient analysis:</p>

<p>
<a id="pgfId-994866"></a></p>
<table class="webflareTable" id="#id984655">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-984657"></a><code>faulttimes=[&#8230;]</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-984659"></a>Fault times in ascending time order where transient fault analysis is performed</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-984661"></a><code>faultstart</code>, <code>faultstop</code>, <code>faultstep</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-984665"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-984667"></a>Fault start time, stop time and time interval between start and stop time.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-984744"></a><code>faultfile</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-984746"></a>Name of the file that contains the fault times in ascending time order for transient fault</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-989008"></a>faultevent</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-989010"></a>Events to perform transient fault analysis.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-984748"></a><code>faultautostop</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-984750"></a>Auto-stop fault analysis when the fault is detected based on assert violation. Possible values are <code>no</code>, <code>func</code>, <code>check</code>, <code>both</code>, and <code>all</code>. The default value is <code>no</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-989089"></a>faultskipdc</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-989091"></a>Enforce <code>skipdc=yes</code> during direct fault analysis if no solution is found during IC analysis. Possible values are <code>no</code> and <code>yes</code>. The default value is <code>yes</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-984821"></a><code>faultmethod</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-984551"></a>Simulation method used for transient fault analysis. Possible values are <code>linear</code>, <code>maxiters</code>, <code>onestop</code>, <code>leadtime</code>, and <code>timezero</code>. The default value is <code>linear</code>.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-984858"></a><code>faults=[*]</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-984553"></a>Name of the fault blocks from the fault list to perform transient fault analysis. Default value is <code>faults=[*]</code>.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-984862"></a><code>faultsid=[&#8230;]</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-984864"></a>Indexes of faults from the list to perform transient fault analysis. If specified, simulation is performed for the requested subset of fault list.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-984956"></a><code>faultsname=[&#8230;]</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-984958"></a>Name of faults from the list to perform transient fault analysis. If specified, simulation is performed for the requested subset of fault list.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-984990"></a><code>faultsinst=[&#8230;]</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-984559"></a>List of instances to perform transient fault analysis. If specified, simulation is performed only for faults within given instances.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-984994"></a><code>faultsamplenum</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-984561"></a>Number of samples in simple random sampling of fault list during simulation.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-984998"></a><code>faultsampleratio</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-984552"></a>Value in percent to apply simple random sampling to fault list during simulation.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-985002"></a><code>faultseed=1</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-984565"></a>Optional starting seed for random number generator during fault sampling.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-985154"></a><code>faultsamplemethod</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-984567"></a>Method to be used for fault sampling. Possible values are <code>random</code>, <code>randomweighted</code>, <code>randomuniform</code>, and <code>weightsorted</code>.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-985158"></a><code>faultcollapse</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-984569"></a>Perform bridge fault collapsing in the list before fault simulation. Possible values are <code>no</code> and <code>yes</code>. The default value is <code>no</code>.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-985228"></a><code>faultsave</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-984571"></a>Set of data to be saved during transient fault analysis. Possible values are <code>testpoints</code>, <code>all</code>, and <code>none</code>. The default value is <code>testpoints</code>.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-985232"></a><code>faultddm</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-984573"></a>File containing the command line options to run <code>spectre_ddmrpt</code> when fault simulation is finished. </p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-985292"></a><code>faultdb</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-984572"></a>File name to save fault simulation data in the format specified by <code>faultfmt</code>.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-985296"></a><code>faultfmt</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-984577"></a>File format to save fault simulation data. Possible values are <code>csv</code>, <code>xl</code>, and <code>sql</code>. </p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-985360"></a><code>faultleadtime=[&#8230;]s</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-984579"></a>The lead time intervals where the fault will be injected before the fault time when <code>faultmethod=leadtime</code>.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-985364"></a><code>faultmaxiters</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-984581"></a>Maximum number of iterations per time step for transient fault analysis. The default value is <code>50</code> for fault method <code>maxiters</code>, <code>10</code> for <code>onestep</code>, and <code>5</code> for other methods.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-985441"></a><code>faultlimsteps</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-984584"></a>Auto stop slow simulation for the faults taking above average number of time steps. Possible values are <code>no</code> and <code>yes</code>. The default value is <code>yes</code>.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-985445"></a><code>faultlimtime</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-984586"></a>Maximum elapsed time allowed to perform one fault simulation (in hours). Simulation auto-stops if not finished earlier than specified time.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-985449"></a><code>faultsafecheck</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-984588"></a>Enable auto-stop during the nominal simulation when the assert with <code>safecheck</code> specified has been violated. Possible values are <code>no</code> and <code>yes</code>. The default value is <code>no</code>.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-994805"></a>faultrampsteps</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-994829"></a>Maximum number of steps for fault conductance stepping to improve convergence after fault injection with method <code>maxiters</code>. </p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-989284"></a>faultrampinterval</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-989286"></a>The coefficient (between 0 and 1) to define the size of time interval to ramp fault conductance after fault injection when <code>faultmethod=leadtime</code> is specified. The default value is 0.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-989502"></a>faultic</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-994777"></a>Perform dc analysis after fault injection as initial condition for each fault transient simulation. Possible values are <code>no</code> and <code>yes</code>.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-989730"></a>maxstepratio</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-989732"></a>Maximum time step ratio for custom <code>errpreset</code>.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-989734"></a>reltolratio</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-989736"></a>Reltol ratio for custom <code>errpreset</code>.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-985538"></a><code>faultstrobe</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-984590"></a>Strobe will be enabled during fault analysis. Possible values are <code>no</code> and <code>yes</code>. The default value is <code>no</code>.</p>

</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-984654"></a>When the value of the <code>faultstrobe</code><a id="faultstrobe"></a> parameter is set to <code>yes</code>, parameters given in the table below can be used to output the fault simulation points into fault table file. With the <code>leadtime </code>or <code>timezero</code> method, Spectre saves only <code>faulttimes=[]</code> into a fault table file although fault simulation is run over some time intervals (for example, <code>faultleadtime</code> interval for <code>leadtime</code>, and full transient time for <code>timezero</code>). You can use <code>faultstrobe=yes</code> and <code>strobestart|strobestop|strobestep|strobeperiod</code> parameters to save additionally strobe points into the fault table to save the simulation without injecting the faults too many times.</p>

<p>
<a id="pgfId-995212"></a></p>
<table class="webflareTable" id="#id994947">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-994949"></a>strobestart|strobestop|strobestep</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-995006"></a>Spectre saves the strobing time points into table file during fault analysis when <code>faultstrobe=yes</code>.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-994953"></a><code>strobeperiod</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-995042"></a>Spectre saves the strobe interval (in seconds) into table file during fault analysis when <code>faultstrobe=yes</code>. The default value is 0.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-995064"></a>skipstart</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-995083"></a>The time to start skipping output data during fault analysis when <code>faultstrobe=yes</code>. The default value is 0.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-995068"></a>skipstop</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-995070"></a>The time to stop skipping output data during fault analysis when <code>faultstrobe=yes</code>. The default value is 0.</p>

</td>
</tr>
</tbody></table>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-994943"></a><code>strobestart</code>, <code>strobestop</code>, and <code>strobestep</code> are the same as <code>skipstart</code>, <code>skipstop</code>, and <code>strobeperiod</code>.</div>
<p>
<a id="pgfId-995285"></a>The parameter <code>skipstart</code> may contain several time points specified incrementally and strobeperiod is applied to every <code>skipstart</code> value. For example, when <code>skipstart=[1n 2n 3n]</code> and <code>strobeperiod=10n</code>, then the strobing time points are <code>1n</code>, <code>2n</code>, <code>3n</code>, <code>11n</code>, <code>12n</code>, <code>13n</code>, <code>21n</code>, and so on.</p>

<h4>
<a id="pgfId-979771"></a>Selecting the Fault Analysis Method</h4>

<p>
<a id="pgfId-956957"></a>The choice of fault simulation method can be specified using the <code>faultmethod=[</code><span class="webflare-courier-new" style="white-space:pre"><em>method</em></span><code>]</code> parameter in Spectre transient analysis. Possible values for <code>faultmethod</code> are: <code>linear</code>, <code>maxiters</code>, <code>onestep</code>, <code>leadtime</code>, and <code>timezero</code>.</p>
<p>
<a id="pgfId-956958"></a>The unique technology of Spectre transient fault analysis, which allows to speed up the performance, is based on temporary fault injection, only in the vicinity of the fault times during transient simulation. When fault-free simulation reaches the fault time, the state of faultless circuit is saved and used as an initial guess for the fault injected circuit. Fault simulation starts at the time point with the method set in the transient analysis statement. </p>
<p>
<a id="pgfId-956959"></a>The following methods are supported in transient fault analysis. </p>
<ul><li>
<a id="pgfId-956960"></a><code>faultmethod=linear</code> <br />
<a id="pgfId-956961"></a>With a fault injected, Spectre simulates one time step at the fault time and limits the number of Newton iterations to one. Early interrupted simulation allows you to estimate the sensitivity of the design to a particular fault at the given time point. This is the default method and has the fastest performance for fault analysis with limited accuracy.</li><li>
<a id="pgfId-956962"></a><code>faultmethod=maxiters</code><br />
<a id="pgfId-956963"></a>Spectre integrates the time step at the fault time taking multiple Newton iterations till it converges or <code>faultmaxiters</code> is reached. The default value of <code>faultmaxiters</code> is <code>50</code>. You can use the <code>faultrampsteps</code> parameter with <code>maxiters</code> to improve convergence and reduce the number of iterations required. The resistance of the injected bridge is ramped gradually from a large value to the value specified in the fault list. The recommended value for <code>faultrampsteps</code> is <code>10</code>. </li><li>
<a id="pgfId-956964"></a><code>faultmethod=onestep</code><br />
<a id="pgfId-956965"></a>This method performs as <code>maxiters</code> initially. However, if the simulation does not converge, it reduces the time step and continues the iterations until a solution is found. Multiple time steps may be needed in some situations, which may affect the simulation performance.</li><li>
<a id="pgfId-956966"></a><code>faultmethod=leadtime</code><br />
<a id="pgfId-958654"></a>When higher accuracy is needed, defect should be taken into consideration prior to each fault time with the time interval of <code>faultleadtime</code>. For one of the fault time points, for example, <code>faulttime_i</code>, the fault is injected at (<code>faulttime_i-faultleadtime</code>), and Spectre performs the transient fault simulation by using the Newton iteration and time step control till <code>faulttime_i</code> is reached. The <code>faultleadtime</code> parameter specifies the leading time intervals where the fault is injected before the fault times when <code>faultmethod=leadtime</code>.<ul><li>
<a id="pgfId-958655"></a><code>faultleadtime=</code><span class="webflare-courier-new" style="white-space:pre"><em>val</em></span>: Specifies constant lead time for all fault times</li><li>
<a id="pgfId-956969"></a><code>faultleadtime=[</code><span class="webflare-courier-new" style="white-space:pre"><em>val1</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>val2</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>val3</em></span><code>]</code>: Specifies different lead times for different points. If the number of fault times is greater than the number of specified intervals, the last lead time is applied for the remaining points.</li></ul><br />
<a id="pgfId-995386"></a>The optional parameter <code>faultrampinterval</code><a id="faultrampinterval_s"></a> can be used with method <code>faultleadtime</code>. This coefficient (between 0 and 1) defines the portion of the lead time interval to ramp the fault conductance after fault injection to improve convergence.<br />
<a id="pgfId-995388"></a>By default, Spectre uses nominal simulation states as initial conditions for each fault to start the fault simulation. However, it is difficult to converge to the correct value when the actual fault result is far away from the nominal value. You can use <code>faultic=yes</code><a id="faultic"></a> to enable Spectre to perform dc analysis after fault injection to find better initial conditions instead of the nominal solution.</li><li>
<a id="pgfId-956971"></a><code>faultmethod=timezero</code><br />
<a id="pgfId-956972"></a>The fault is injected at time zero and a complete transient fault analysis is performed for every time step. However, the faulty result is saved only at the required fault times. This is the most accurate mode; however, the simulation takes much longer. </li></ul>













<p>
<a id="pgfId-956973"></a>The following table provides a comparison of the different fault methods:</p>

<p>
<a id="pgfId-957023"></a></p>
<table class="webflareTable" id="#id979806">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-956976"></a>Method</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-956978"></a><code>Linear</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-956980"></a><code>maxiters</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-956982"></a><code>onestep</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-956984"></a><code>leadtime</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-956986"></a><code>timezero</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-958687"></a>Time steps/ iterations with fault injection</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-958689"></a>One iteration</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-958691"></a>Multiple iterations</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-958693"></a>Time step at fault time, or multiple steps (if current step gets rejected) </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-958695"></a>All time steps within the interval <code>[faulttime-leadtime, faulttime] </code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-958697"></a>All time steps starting from time zero to fault time</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-957000"></a>Accuracy</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-957002"></a>Lowest</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-957004"></a>Low</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-957006"></a>Middle</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-957008"></a>High</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-957010"></a>Highest</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-957012"></a>Performance</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-957014"></a>Highest</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-957016"></a>High</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-957018"></a>Middle</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-957020"></a>Low</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-957022"></a>Lowest</p>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-957024"></a>Generating the Defect Detection Matrix Report Based on Fault Table File</h4>

<p>
<a id="pgfId-958705"></a>To screen the defect devices out of high volume production, it is important to select effective fault times to measure the critical ports and signals during transient fault analysis. </p>
<p>
<a id="pgfId-958706"></a>The tested signals/ports can be specified using the <code>save</code> statement or measurement definition, just like the transient simulation. You can choose to save the complete set of fault analysis results, or the results at each fault time only. This can be controlled by the option <code>faultsave</code> whose default value is <code>testpoints</code>.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-958707"></a>faultsave=[testpoints|all|no]</pre>

<p>
<a id="pgfId-958708"></a>By default, fault analysis saves the fault simulation results only at the fault times and stores them in the <code>tran_faults.tran</code> file<code>.</code> When <code>faultsave=all</code>, the <code>fault_timestep.tran</code> file is saved in addition to the fault time data. It is recommended not to use <code>faultsave=all</code> for large fault lists because it occupies a lot of disk space. In addition, <code>faultsave=all</code> works for all methods except <code>linear</code>. You can use the <code>faultsave=no</code> option to avoid any simulation slowdown due to waveform saving.</p>
<p>
<a id="pgfId-958709"></a>You can use the following two parameters (supported in both DFA and TFA) to choose the format in which to save the file: </p>
<ul><li>
<a id="pgfId-958710"></a><code>faultfmt</code>: File format to save the fault simulation data. Possible values are <code>csv</code>, <code>xl</code>,<code> </code>and <code>sql</code>.</li><li>
<a id="pgfId-957031"></a><code>faultdb</code>: File name to save the fault simulation data in the format specified using <code>faultfmt</code>.</li></ul>

<p>
<a id="pgfId-979964"></a>The following figure shows the sample fault simulation data generated using the above parameters for both formats. The tables are generated as fault IDs/names vs. fault times. For each test port (saved signal), a separate file is generated. The name of the signal is added as a suffix to the faultdb name.</p>

<p>
<a id="pgfId-980087"></a></p>
<div class="webflare-div-image">
<img width="668" height="403" src="images/chap7-40.gif" /></div>
<h4>
<a id="pgfId-957032"></a>Assert Checking and Autostop in Transient Fault Analysis</h4>

<p>
<a id="pgfId-957036"></a>Assert checking (see <a href="chap7.html#20420">Assert Checking</a>)evaluates the violation continuously over the transient time. Transient fault analysis does the same for fault methods of <code>timezero</code> and <code>leadtime</code>. For <code>linear</code>, <code>maxiters</code> and <code>onestep</code>, Spectre evaluates the assert checking only at fault times. </p>
<p>
<a id="pgfId-957037"></a>You can enable auto-stop by using the option <code>faultautostop=func|check|both|all</code> based on the detection of assert violation.</p>
<p>
<a id="pgfId-958742"></a>Assert detection is saved in a transient fault table file to provide assert compatibility for direct fault analysis.</p>
<p>
<a id="pgfId-968127"></a><a href="chap7.html#23282">Single Point Fault (SPF)</a> and <a href="chap7.html#32779">Latent Faults</a> (multiple points) are also applied to Transient Fault Analysis.</p>

<h4>
<a id="pgfId-957038"></a>Getting Started with Transient Fault Analysis</h4>
<h4><em>
<a id="pgfId-957039"></a>Preparing and Starting Transient Fault Analysis</em></h4>

<p>
<a id="pgfId-957040"></a>Spectre transient fault analysis requires a complete simulation test bench with fault list, fault time(s), test signal(s)/port(s), and the fault method defined using the <code>tran</code> analysis statement. Fault analysis is ignored when this critical information is missing.To perform transient fault analysis, you need to perform the following:</p>
<ul><li>
<a id="pgfId-957041"></a>Specify the test signals/ports to be checked using the <code>save</code> statement, as shown below.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id957042">
<a id="pgfId-957042"></a>save d g s</pre></li><li>
<a id="pgfId-957043"></a>Specify the fault times and fault method and some of the faults in the transient statement, as shown below.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id957044">
<a id="pgfId-957044"></a>leadtime tran start=0 stop=12e-3 errpreset=conservative maxiters=5 
+ faults=[fault_bridges fault_opens ]
+ faultsname=[fault_bridges_bridge_6 fault_bridges_bridge_1
...
...

+ faulttimes=[2.5m 5.5m 7.5m]
+ faultmethod=leadtime faultleadtime=0.1m</pre><br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-957045"></a>The <code>faultstop</code> time must not be beyond the transient stop time.</div></li><li>
<a id="pgfId-957046"></a>Run the simulation, as shown below.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id957047">
<a id="pgfId-957047"></a>%spectre +aps test_fault.scs +log test_fault.out -outdir out_faults</pre><br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-957048"></a>The command-line option to run the fault simulation is the same as transient simulation. All the commands to adjust accuracy and performance for transient simulation are also applied to transient fault simulation. </div></li><li>
<a id="pgfId-957049"></a>To run a full fault simulation with the faults injected at time zero and enable auto-stop, use the examples of the transient statement and the Spectre command, as shown below.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id957050">
<a id="pgfId-957050"></a>timezero tran start=0 stop=12e-3 errpreset=conservative maxiters=5 +annotate=status faulttimes=[7.5m] faultmethod=timezero +faultautostop=all</pre><pre class="webflare-pre-block webflare-courier-new" id="#id957051">
<a id="pgfId-957051"></a>%spectre test_fullfault.scs +log test_fullfault.out -outdir out_full/</pre></li></ul>











<h4><em>
<a id="pgfId-957052"></a>Viewing Data Output of Transient Fault Analysis</em></h4>

<p>
<a id="pgfId-957053"></a>In the log file, the list of faults is reported in circuit inventory, as shown below.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-957054"></a>Circuit inventory: </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957055"></a> nodes&#160;&#160;                 6 </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957056"></a> mos11010&#160;&#160;              1 </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957057"></a> resistor&#160;&#160;              5 </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957058"></a> vsource&#160;&#160;               2 </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957059"></a>Design checks inventory:</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-957060"></a>bridge 10</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-957061"></a>assert 3</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-957062"></a>open 12</pre>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-977195"></a>Fault parameter values:</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-977321"></a> faultmethod = leadtime</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-977322"></a> faultleadtime = 100 us</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-977323"></a> faulttimes = [ 5 ms 5.5 ms 6 ms 6.5 ms ]</pre>

<p>
<a id="pgfId-957063"></a>The Spectre log file also reports the transient fault simulation by printing the fault numbers which failed to converge at every fault time(s). The counting of time step for each fault is also monitored and printed. If the counting is too large, Spectre switches the <code>faultmethod</code> to <code>maxiters</code> automatically. </p>
<p>
<a id="pgfId-957064"></a>The following is an example of the Spectre log file: </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-957065"></a>************************************************** </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957066"></a>Transient Analysis `leadtime&#39;: time = (0 s -&gt; 12 ms) </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957067"></a>**************************************************** </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957068"></a>Opening the PSF file out_faults/test_fault.raw/leadtime.tran.tran ... </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957069"></a>Important parameter values: </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957070"></a>    start = 0 s </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957071"></a>    outputstart = 0 s </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957072"></a>    stop = 12 ms </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957073"></a>    step = 12 us </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957074"></a>    maxstep = 120 us </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957075"></a>    ... ... ... </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957076"></a>    relref = alllocal </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957077"></a>    cmin = 0 F </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957078"></a>    gmin = 1 fS </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957079"></a>    rabsshort = 1 mOhm </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957080"></a>... ... ... </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-996264"></a> leadtime: time = 300.5 us&#160;&#160;   (2.5 %), step = 3.067 us    (25.6 m%)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-996265"></a>    leadtime: time = 926.3 us    (7.72 %), step = 63.13 us     (526 m%)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-996266"></a>    leadtime: time = 1.526 ms    (12.7 %), step = 120 us          (1 %)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-996267"></a>    leadtime: time = 2.126 ms    (17.7 %), step = 120 us          (1 %)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-996268"></a>    leadtime: time = 2.726 ms    (22.7 %), step = 120 us          (1 %)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-996269"></a>    leadtime: time = 3.3 ms      (27.5 %), step = 6.726 us    (56.1 m%)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-996270"></a>    leadtime: time = 3.942 ms    (32.8 %), step = 58.15 us     (485 m%)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-996284"></a>  Transient fault analysis started at fault time 5 ms.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-996285"></a>Fault analysis for fault_bridges_bridge_1 :&#160;&#160;2 time steps</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-996286"></a>Fault analysis for fault_bridges_bridge_2 :&#160;&#160;5 time steps</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-996287"></a>Fault analysis for fault_bridges_bridge_3 :&#160;&#160;2 time steps</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-996288"></a>Fault analysis for fault_opens_open_1 :&#160;&#160;2 time steps</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-996289"></a>Fault analysis for fault_opens_open_2 :&#160;&#160;9 time steps</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-996290"></a>Fault analysis for fault_opens_open_3 :&#160;&#160;2 time steps</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-996291"></a>        Transient fault analysis finished at time 5 ms : 6 (100.00%) simulations succeeded.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-996292"></a>    leadtime: time = 5.1 ms      (42.5 %), step = 200 us       (1.67 %)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-996293"></a>        Transient fault analysis started at fault time 5.5 ms.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-996294"></a>Fault analysis for fault_bridges_bridge_1 :&#160;&#160;3 time steps</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-996295"></a>Fault analysis for fault_bridges_bridge_2 :&#160;&#160;6 time steps</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-996296"></a>Fault analysis for fault_bridges_bridge_3 :&#160;&#160;3 time steps</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-996297"></a>Fault analysis for fault_opens_open_1 :&#160;&#160;3 time steps</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-996298"></a>Fault analysis for fault_opens_open_2 :&#160;&#160;15 time steps</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-996299"></a>Fault analysis for fault_opens_open_3 :&#160;&#160;3 time steps</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-996300"></a>        Transient fault analysis finished at time 5.5 ms : 6 (100.00%) simulations succeeded.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-996301"></a>    leadtime: time = 5.815 ms    (48.5 %), step = 120 us          (1 %)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-996302"></a>        Transient fault analysis started at fault time 6 ms.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-996303"></a>Fault analysis for fault_bridges_bridge_1 :&#160;&#160;3 time steps</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-996304"></a>Fault analysis for fault_bridges_bridge_2 :&#160;&#160;6 time steps</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-996305"></a>Fault analysis for fault_bridges_bridge_3 :&#160;&#160;3 time steps</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-996306"></a>Fault analysis for fault_opens_open_1 :&#160;&#160;3 time steps</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-996307"></a>Fault analysis for fault_opens_open_2 :&#160;&#160;15 time steps</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-996308"></a>Fault analysis for fault_opens_open_3 :&#160;&#160;3 time steps</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-996309"></a>        Transient fault analysis finished at time 6 ms : 6 (100.00%) simulations succeeded.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-996310"></a>    leadtime: time = 6.302 ms    (52.5 %), step = 5.143 us    (42.9 m%)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-996311"></a>        Transient fault analysis started at fault time 6.5 ms.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-996312"></a>Fault analysis for fault_bridges_bridge_1 :&#160;&#160;11 time steps</pre>

<p>
<a id="pgfId-957097"></a>If some of the faults from the list take more time steps than the average step count, Spectre, by default, terminates that simulation and generates a message in the log file, as shown below.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-957098"></a>Warning from spectre at time = 79.024 us during transient analysis `Leadtime&#39;. </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957099"></a>    WARNING (SPECTRE-16872): Transient fault simulation is too slow for b_X123_fault_2 and was terminated at time 100 us. </pre>

<p>
<a id="pgfId-957100"></a>This approach, along with <code>faultlimsteps=yes</code>, allows you to avoid situations when some run sticks with minimal time stepping, or a fault triggers oscillations and number of steps increase multifold, and therefore, one fault may take hours to finish. It is applied to the <code>leadtime</code> and <code>timezero</code> test methods; however, sometimes, you may see the same warning message with the <code>onestep</code> method. You may note that the simulation finishes when the slow fault is run separately because of no average step count recorded.</p>
<p>
<a id="pgfId-957101"></a>To disable the termination of fault simulation due to slow performance, use the <code>faultlimsteps</code> parameter. </p>
<ul><li>
<a id="pgfId-957102"></a><code>faultlimsteps=yes</code>: Auto-stop slow simulation for the faults taking more than the average number of time steps. Possible values are <code>yes</code> and <code>no</code>. The default value is <code>yes</code>.</li><li>
<a id="pgfId-957103"></a><code>faultlimsteps=no</code>: Continue fault simulation even if it is slow.</li></ul>

<p>
<a id="pgfId-957104"></a>The data is saved in the raw directory (<code>out_test/tfa_test_fault.raw/</code>) with the following names in pairs: </p>
<ul><li>
<a id="pgfId-957105"></a>Transient analysis: <code>[</code><span class="webflare-courier-new" style="white-space:pre"><em>TranName</em></span><code>].tran.tran</code>, for example, <code>linear.tran.tran</code></li><li>
<a id="pgfId-957106"></a>Transient fault analysis: <code>[</code><span class="webflare-courier-new" style="white-space:pre"><em>TranName</em></span><code>_faults].tran</code>, for example, <code>linear_faults.tran</code></li></ul>

<p>
<a id="pgfId-957107"></a>The waveform plot below shows the fault data saved with the default setting <code>faultsave=testpoints</code>. </p>
<ul><li>
<a id="pgfId-957108"></a>The nominal transient (without faults) is consistent with the golden saved in the fault raw file only at fault times. </li><li>
<a id="pgfId-957109"></a>The fault result of <code>bridge_2</code> is the same as golden data indicating that the fault is not detectable while <code>bridge_1</code> and <code>bridge_3</code> are off golden, which shows that the faults are detectable. <br />
<a id="pgfId-957113"></a><div class="webflare-div-image">
<img width="668" height="399" src="images/chap7-41.gif" /></div></li></ul>





<p>
<a id="pgfId-957114"></a>With the option <code>faultsave=all</code>, in addition to the above fault waveforms, extra files are generated for each fault at every fault time in the format <br /><code>[</code><span class="webflare-courier-new" style="white-space:pre"><em>FaultName</em></span><code>-TestPointTime].tran.tran</code>. For example, <code>bridge_1-1.00e-03.tran.tran</code>. This option is not recommended because it generates a large data file. </p>
<p>
<a id="pgfId-957115"></a>In addition to the raw file, a textual fault table is generated with the name <code>[</code><span class="webflare-courier-new" style="white-space:pre"><em>Nelist</em></span><code>].[</code><span class="webflare-courier-new" style="white-space:pre"><em>TranName</em></span><code>].table</code>. For example, if the following statements are specified in the netlist, </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-957116"></a>leadtime tran start=0 stop=12e-3 faultstart=0.5m faultstep=0.5m faultstop=7.5m <br />+ faultmethod=leadtime faultleadtime=0.1m </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957117"></a>linear tran start=0 stop=12e-3 faultstart=0.5m faultstep=0.5m +faultstop=7.5m </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957118"></a>maxiters_rampstep tran start=0 stop=12e-3 faultstart=0.5m faultstep=0.5m +faultstop=7.5m faultmethod=maxiters faultrampsteps=10 </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957119"></a>onestep tran start=0 stop=12e-3 faultstart=0.5m faultstep=0.5m faultstop=7.5m + faultmethod=onestep </pre>

<p>
<a id="pgfId-957120"></a>the following four tables, corresponding to the four transient statements are generated in the <code>out_test</code> directory.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-957121"></a>tfa_test_fault.leadtime.table </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957122"></a>tfa_test_fault.linear.table </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957123"></a>tfa_test_fault.maxiters_rampstep.table </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957124"></a>tfa_test_fault.onestep.table</pre>
<h4><em>
<a id="pgfId-957125"></a>Post-Processing of Table File for Detection Matrix</em></h4>

<p>
<a id="pgfId-983769"></a>Spectre installation contains an executable file <code>spectre_ddmrpt</code> that evaluates the fault table file and generates the defect detection matrix. <code>spectre_ddmrpt</code> reads the fault result and compares the data with the nominal value. A fault is detected when the difference is greater than the tolerance. The criteria are set based on the relative (<code>-r</code>) and absolute (<code>-a</code>) tolerance in the command parameters.</p>
<p>
<a id="pgfId-983770"></a>The simplified use model is show below.</p>

<a id="pgfId-983772"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
spectre_ddmrpt [-h] [-t TIMEPT] [-s SIGNAL] [-a ABSTOL] [-r RELTOL] [-o OUTPUT] ... FILES [...]</pre>

<p>
<a id="pgfId-983775"></a>The following criteria are used to determine whether the fault is detected. The default value for ABSTOL is <code>0.005</code> and RELTOL is <code>5%</code>. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-983776"></a>delta(fault_result - nominal_result) &gt;= ABSTOL (5m) + RELTOL (5%) * nominal_result </pre>

<p>
<a id="pgfId-983778"></a>A convenient way is provided for you to generate the defect detection matrix report automatically right after fault simulation. You can define any option for running <code>spectre_ddmrpt</code> in a file, for example, <code>ddm_options.txt</code> and set <code>faultddm=ddm_options.txt</code>. Once the fault simulation is performed, <code>spectre_ddmrpt</code> is started automatically to generate the report with the options.</p>
<p>
<a id="pgfId-983780"></a>In <code>ddm_options.txt</code> file, the following are defined where the absolute value of <code>0.04V</code> and relative value of <code>5%</code> are used for generating the report.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-983781"></a>-a 0.04 -r 0.05 </pre>

<p>
<a id="pgfId-983783"></a>In the end of the Spectre log file, the command to run the defect detection report is shown as the following messages.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-983784"></a>Processing fault analysis data:</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-983785"></a>&#8230;/bin/spectre_ddmrpt fault_sim/myOPAMP.tranFault.table -a 0.04 -r 0.05 </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-983786"></a>-o fault_sim/myOPAMP.tranFault.ddmrpt -q</pre>

<p>
<a id="pgfId-983788"></a>The report name is generated in the format <code>[</code><span class="webflare-courier-new" style="white-space:pre"><em>Netlist</em></span><code>].[</code><span class="webflare-courier-new" style="white-space:pre"><em>TranName</em></span><code>].ddmrpt</code>.</p>
<p>
<a id="pgfId-983765"></a><code>spectre_ddmrpt</code> performs the following tasks:</p>
<ul><li>
<a id="pgfId-957127"></a>Output or save the detection matrix into <code>csv</code>, <code>xls</code>, or <code>sql</code> format for every test port, when the detection limit has the simple form as percentage difference from nominal (golden) solution</li><li>
<a id="pgfId-957128"></a>Compares the detection accuracy of several simulations saved in the table files and outputs the fault detection summary for a given test port, when the detection limit has the simple form as percentage difference from nominal (golden) solution</li><li>
<a id="pgfId-957129"></a>Transform the table data into <code>csv</code>, <code>xls</code>, or <code>sql</code> format (similar to the <code>faultdb</code> parameter in a transient statement)</li></ul>


<p>
<a id="pgfId-957130"></a>You can use the following command to find the description of all available options: </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-957131"></a>%&#8230;/bin/spectre_ddmrpt -h</pre>

<p>
<a id="pgfId-957132"></a>Below are some examples of the usage of <code>spectre_ddmrpt</code>.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-957133"></a>It is assumed that the transient fault simulation has been performed and the <code>tfa_test_fault.linear.table</code> file exists.</div>
<ol><li>
<a id="pgfId-957134"></a><code>%&#8230;/bin/spectre_ddmrpt tfa_test_fault.linear.table --cs SOL -s d</code><br />
<a id="pgfId-957135"></a>The above command processes the <code>tfa_test_fault.linear.table</code> file and saves all solutions for signal <code>d</code> into a <code>SOL.csv</code> file with the following annotations:<pre class="webflare-pre-block webflare-courier-new" id="#id957136">
<a id="pgfId-957136"></a>Time Points: 0.0005, 0.0045, 0.0075</pre><pre class="webflare-pre-block webflare-courier-new" id="#id957137">
<a id="pgfId-957137"></a>Signals: d</pre><pre class="webflare-pre-block webflare-courier-new" id="#id957138">
<a id="pgfId-957138"></a></pre><pre class="webflare-pre-block webflare-courier-new" id="#id957139">
<a id="pgfId-957139"></a>Detection Matrix:</pre><br />
<a id="pgfId-957143"></a><div class="webflare-div-image">
<img width="668" height="239" src="images/chap7-42.gif" /></div><pre class="webflare-pre-block webflare-courier-new" id="#id957144">
<a id="pgfId-957144"></a>Solution Matrix:</pre><br />
<a id="pgfId-957148"></a><div class="webflare-div-image">
<img width="668" height="191" src="images/chap7-43.gif" /></div><pre class="webflare-pre-block webflare-courier-new" id="#id957149">
<a id="pgfId-957149"></a></pre><pre class="webflare-pre-block webflare-courier-new" id="#id957150">
<a id="pgfId-957150"></a>Legend:</pre><pre class="webflare-pre-block webflare-courier-new" id="#id957151">
<a id="pgfId-957151"></a>   G      - Good, measurement consistent with fault-free circuit within error                  bound</pre><pre class="webflare-pre-block webflare-courier-new" id="#id957152">
<a id="pgfId-957152"></a>   D      - Detected with violations of error bound</pre><pre class="webflare-pre-block webflare-courier-new" id="#id957153">
<a id="pgfId-957153"></a>   N      - Not testable (error occurred during analysis, e.g. non-convergence)</pre><pre class="webflare-pre-block webflare-courier-new" id="#id957154">
<a id="pgfId-957154"></a>   -      - Unevaluated</pre><pre class="webflare-pre-block webflare-courier-new" id="#id957155">
<a id="pgfId-957155"></a></pre><pre class="webflare-pre-block webflare-courier-new" id="#id957156">
<a id="pgfId-957156"></a>Solution matrix saved to SOL.csv.</pre>
<a id="pgfId-957157"></a>The new <code>SOL.csv</code> file can be used to apply more advanced detection rules using Excel features. <br />
<a id="pgfId-957158"></a>If you have two or more table files (for example, <code>tfa_test_fault.tmezero.table</code>, <code>tfa_test_fault.linear.table</code>, and <code>tfa_test_fault.onestep.table</code>) that result from several fault simulations under the same conditions (same fault times and test ports) but with different methods, or different set of simulation parameters, you can compare the detection accuracy by taking the first table file as reference.</li><li>
<a id="pgfId-957159"></a><code>%.../bin/spectre_ddmrpt tfa_test_fault.timezero.table tfa_test_fault.linear.table tfa_test_fault.onestep.table -s g -t 1.5e-3 -r 5</code><br />
<a id="pgfId-957160"></a>This command compares the detection with 5% limit for signal <code>g</code> and testpoint at <code>1.5e-3</code>, and generates the following output:</li></ol>
























<ol><li>
<a id="pgfId-957159"></a><code>%.../bin/spectre_ddmrpt tfa_test_fault.timezero.table tfa_test_fault.linear.table tfa_test_fault.onestep.table -s g -t 1.5e-3 -r 5</code><br />
<a id="pgfId-957160"></a>This command compares the detection with 5% limit for signal <code>g</code> and testpoint at <code>1.5e-3</code>, and generates the following output:</li></ol>


<pre class="webflare-courier-new codeContent">
<a id="pgfId-957161"></a>Files: test_fault.leadtime.table (Golden), test_fault.onestep.table (Measured-1),</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957162"></a>test_fault.maxiters_rampstep.table (Measured-2)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957163"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957164"></a>***&#160;&#160;Analysis 1&#160;&#160;  Time Point: 0.0015    Signal: g  ***</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957165"></a>Summary:</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957166"></a>+--------------+--------------+--------------+</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957167"></a>|&#160;&#160;            | Measured-1   | Measured-2   |</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957168"></a>|--------------+--------------+--------------|</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957169"></a>| Matched&#160;&#160;    | 6 (100.00% ) | 6 (100.00% ) |</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957170"></a>| Missed&#160;&#160;     | 0 (  0.00% ) | 0 (  0.00% ) |</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957171"></a>| False Detect | 0 (&#160;&#160;0.00% ) | 0 (&#160;&#160;0.00% ) |</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957172"></a>+--------------+--------------+--------------+</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957173"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957174"></a>Detection Matrix:</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957175"></a>+----------+----------+--------------+--------------+--------------+--------------+</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957176"></a>|&#160;&#160;        | Golden   | Measured-1   | Matching-1   | Measured-2   | Matching-2   |</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957177"></a>|----------+----------+--------------+--------------+--------------+--------------|</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957178"></a>| bridge_1 | G&#160;&#160;      | G            | Matched      | G            | Matched      |</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957179"></a>| bridge_2 | G&#160;&#160;      | G            | Matched      | G            | Matched      |</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957180"></a>| bridge_3 | G&#160;&#160;      | G            | Matched      | G            | Matched      |</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957181"></a>| open_1&#160;&#160; | G&#160;&#160;      | G            | Matched      | G            | Matched      |</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957182"></a>| open_2&#160;&#160; | G&#160;&#160;      | G            | Matched      | G            | Matched      |</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957183"></a>| open_3&#160;&#160; | G&#160;&#160;      | G            | Matched      | G            | Matched      |</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957184"></a>+----------+----------+--------------+--------------+--------------+--------------+</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957185"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957186"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957187"></a>Legend:</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957188"></a> G&#160;&#160;    - Good, measurement consistent with fault-free circuit within error bound</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957189"></a> D&#160;&#160;    - Detected with violations of error bound</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957190"></a> N&#160;&#160;    - Not testable (error occurred during analysis, e.g. non-convergence)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957191"></a> -&#160;&#160;    - Unevaluated</pre>

<p>
<a id="pgfId-957192"></a>Here, <code>Matched</code> confirms that the detection status is similar to the reference (the first column). <code>Missed</code> means that this particular defect was not detected during the simulation unlike the reference data. <code>False_Detect</code> is set to mark the false detection, when the defect was detected despite not being in reference. </p>
<p>
<a id="pgfId-957193"></a>Using the file format options in the command line, you can save the matching data and solutions into <code>csv</code>, <code>xlsx</code>, or <code>sql</code> files. The file with the solutions can be used to compare the results with more realistic detection limits applying Excel or SQL functionality.</p>

<h4><em>
<a id="pgfId-995590"></a>Merging the Defect Detec<a id="detection_merge"></a>tion Report</em></h4>

<p>
<a id="pgfId-995628"></a>When the detection criteria are different for different signals saved in the table file, you can post-process the signal subsets based on the same criterion, and then merge the partial reports with the same fault list. The final report will contain the coverage rate re-calculated for all signals under consideration. To merge the reports, each partial report should be generated in one of xlsx, csv, or sql(db) formats.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-995676"></a>&#8230;/spectre_ddmrpt noSampling.tran.table -s IDDOUT -t 2.3e-6 -a 1e-6&#160;&#160;         \</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-995677"></a>      --xd report_ddmrpt_1 -o text_ddmrpt_1.txt</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-995678"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-995679"></a>&#8230;/spectre_ddmrpt noSampling.tran.table -s DELAY -t 2.3e-6 -a 5e-8&#160;&#160;           \</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-995680"></a>      --xd report_ddmrpt_2 -o text_ddmrpt_2.txt</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-995681"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-995682"></a>&#8230;/spectre_ddmrpt report_ddmrpt_1.xlsx report_ddmrpt_2.xlsx \<br />-o report_ddmrpt_final.txt</pre>
<p>
<a id="pgfId-995709"></a></p>
<div class="webflare-div-image">
<img width="668" height="280" src="images/chap7-44.gif" /></div>
<p>
<a id="pgfId-995735"></a></p>
<div class="webflare-div-image">
<img width="668" height="284" src="images/chap7-45.gif" /></div>
<p>
<a id="pgfId-995749"></a></p>
<div class="webflare-div-image">
<img width="668" height="190" src="images/chap7-46.gif" /></div>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-995672"></a>Reports based on random sampling are not compatible with report merging. </div>
<p>
<a id="pgfId-995810"></a>Another possibility to combine multiple reports is that reports are generated based on the fault simulation with the same design and detection limit but different fault lists. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-995812"></a>&#8230;/spectre_ddmrpt test_tfa_faultlist1/report_tfa_1.leadtime.table&#160;&#160;      \</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-995813"></a>      -s d -t 7.5e-3 --xd report_ddmrpt_f1 -o text_ddmrpt_f1.txt</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-995815"></a>&#8230;/spectre_ddmrpt test_tfa_faultlist2/report_tfa_2.leadtime.table&#160;&#160;      \</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-995816"></a>      -s d -t 7.5e-3 --xd report_ddmrpt_f2 -o text_ddmrpt_f2.txt</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-995818"></a>&#8230;/spectre_ddmrpt report_ddmrpt_f1.xlsx report_ddmrpt_f2.xlsx&#160;&#160;             \</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-995819"></a>      -o report_ddmrpt_fullList.txt</pre>
<p>
<a id="pgfId-995859"></a></p>
<div class="webflare-div-image">
<img width="668" height="222" src="images/chap7-47.gif" /></div>

<p>
<a id="pgfId-995874"></a></p>

<div class="webflare-div-image">
<img width="668" height="272" src="images/chap7-48.gif" /></div>
<h4><em>
<a id="pgfId-980149"></a>Defect Detection Report According to IEEE P2427 Standard</em></h4>

<p>
<a id="pgfId-980206"></a>IEEE committee has proposed the standard for some typical devices. For example, the bridge faults take place at terminals of drain, gate, source for MOS device. Spectre provides yu the flexibility to choose what terminal you want to select for bridges generation with parameter <code>faultterminals=[&#8230;]</code>. </p>
<p>
<a id="pgfId-980208"></a>In defect detection report (ddm report), Spectre follows the standard to list the coverage rate at the top of the report and separates the coverage rate for each type of the faults, shorts, opens and customs.</p>
<p>
<a id="pgfId-980173"></a></p>

<div class="webflare-div-image">
<img width="668" height="104" src="images/chap7-49.gif" /></div>
<h4><em>
<a id="pgfId-957194"></a>Performing Autostop in Transient Fault Analysis</em></h4>

<p>
<a id="pgfId-957195"></a>To enable the auto stop in transient fault analysis, you have to define assert checking, as shown below.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-957196"></a>LOAD_CAP2 assert safecheck=check expr=&quot;v(gg,g)&quot; min=-8e-8 max=2.501 message=&quot;Load Cap2 limit exceeded&quot; </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957197"></a>leadtime tran start=0 stop=12e-3 errpreset=conservative maxiters=5 </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957198"></a>        + faulttimes=[5m 6.5m] faultautostop=check </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-957199"></a>        + faultmethod=leadtime faultleadtime=0.1m faultsave=all</pre>

<p>
<a id="pgfId-957200"></a>Once the assert violation is triggered, fault simulation is stopped automatically. The following messages are printed in the log file. </p>

<p>
<a id="pgfId-995902"></a></p>
<div class="webflare-div-image">
<img width="668" height="248" src="images/chap7-50.gif" /></div>

<p>
<a id="pgfId-957212"></a>Note that in the above report, both <code>bridge_6</code> and <code>bridge_7</code> are stopped automatically due to assert detection.</p>

<h4><em>
<a id="pgfId-958932"></a>Assert Compatibility</em></h4>

<p>
<a id="pgfId-958933"></a>Starting with Spectre18.1 ISR1, the assert violation results are saved in the fault table file, which is used to store the signals and currents specified in the <code>save</code> statement.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-958928"></a>The following figure shows the fault result with asserts saved in the fault table file. The value 1 denotes that the fault is detected with the assert.</pre>
<p>
<a id="pgfId-958967"></a></p>
<div class="webflare-div-image">
<img width="668" height="197" src="images/chap7-51.gif" /></div>

<p>
<a id="pgfId-958949"></a>For the <code>timezero</code> method, transient fault analysis evaluates the asserts with <code>safecheck</code> throughout the simulation For the <code>leadtime</code> method, transient fault analysis evaluates the asserts with <code>safecheck</code> within the leadtime interval in the simulation. For <code>linear</code>, <code>maxiters</code>, and <code>onestep</code> methods, transient fault analysis evaluates the asserts with <code>safecheck</code> only at the fault times. In other words, for any given method, asserts with <code>safecheck</code> are evaluated at the same time point or for the same duration as the fault injection time point or duration for that method.</p>

<h4>
<a id="pgfId-957213"></a>Accuracy and Performance</h4>

<p>
<a id="pgfId-957214"></a>Spectre transient fault analysis provides a wide range of methods and parameters to perform defect-oriented test simulation. The choice of an appropriate method depends on the size or simulation time of the nominal design, number of defects taken into consideration, accuracy pre-requirements, and CPU resources available. Other factors, such as high circuit sensitivity to some defects, may affect convergence significantly and slow down performance, and, as a result, force changing the method for fault analysis.</p>

<h4><em>
<a id="pgfId-957215"></a>Linear method</em></h4>

<p>
<a id="pgfId-957216"></a><code>faultmethod=linear</code> is the default simulation method in Spectre. The simulation time in this case is comparable with the nominal simulation, and only for huge fault lists, it may affect performance. </p>
<p>
<a id="pgfId-957217"></a>The <code>linear</code> method is recommended for the initial evaluation of performance and defect detection. This is just a sensitivity approach, where the simulator provides the initial response of the circuit to a particular defect rather than the real solutions and waveforms. As a result, the linear method has the best performance and the worst accuracy.</p>
<p>
<a id="pgfId-957218"></a>The linear method always reports <code>&#8220;0% fault failed&#8221;</code> during simulation at each fault time.</p>

<h4><em>
<a id="pgfId-957219"></a>Timezero method</em></h4>

<p>
<a id="pgfId-957220"></a>If the simulation time for the nominal netlist is relatively short, or the number of defects is small, <code>faultmethod=timezero</code> method can be used. This method provides the best accuracy. Therefore, you can avoid the experimentation related to the choice of a proper method for the given design. However, the <code>timezero</code> method is the slowest and cannot be recommended for every case. </p>
<p>
<a id="pgfId-957221"></a>The status of simulation during timezero method is annotated by message <code>&#8220;Fault analysis for bridge_1:32 time steps&#8221;</code>. </p>
<p>
<a id="pgfId-957222"></a>Some of the defects can change the functionality of the circuit dramatically. For instance, oscillations can be triggered and simulation time may increase manifold. The <code>timezero</code> method monitors the number of time steps taken and terminates the simulation when the step count becomes huge in comparison to the nominal simulation. Such situation is annotated by the warning message <code>&#8220;Transient fault simulation is too slow for bridge_1 and was terminated at time 800us&#8221;</code>. You can collect the names of the failed faults and rerun the simulation within a separate analysis using the same fault list but specifying <code>faultsname=[bridge_1]</code>, or <code>faultsid=[1]</code> in the new analysis statement. </p>

<h4><em>
<a id="pgfId-957223"></a>Maxiters method</em></h4>

<p>
<a id="pgfId-957224"></a>The rest of the fault methods represent a variety of choices for accuracy versus performance in between <code>linear</code> and <code>timezero</code> methods.</p>
<p>
<a id="pgfId-957225"></a><code>faultmethod=maxiters</code> is also a sensitivity method. However, unlike <code>linear</code>, it provides better accuracy. The <code>maxiters</code> method can be useful when the dynamic response of the circuit is not very important.</p>
<p>
<a id="pgfId-957226"></a>You can use several options to control the quality of simulation results.</p>
<p>
<a id="pgfId-957227"></a>The transient analysis parameter <code>faultmaxiters</code> enables you to specify the maximum limit for the Newton iteration count while performing the simulation step, after a fault injection. The default value is <code>50</code>. Decreasing this number may improve performance but degrade accuracy for some faults.</p>
<p>
<a id="pgfId-957228"></a>The <code>faultrampsteps</code> parameter can be used with <code>maxiters</code> to improve convergence and reduce the number of iterations required. The recommended value is <code>10</code>. It represents the maximum number steps allowed in the R-stepping algorithm, when the resistance of the injected bridge is changing gradually from a large value (solution is close to nominal case) to a value specified in the fault list.</p>
<p>
<a id="pgfId-957229"></a>The quality of <code>maxiters</code> method can be monitored from annotations. The faults that have convergence issues generate warnings <code>&quot;Fault simulation failed for bridge_884&quot;</code>. The failure means that the convergence criteria was not satisfied for the fault simulation with the given parameters. The mentioned voltages are solution values for the nominal design before the fault was injected. The big difference may just serve as a confirmation of the fact that shorting these nodes can result in numerical difficulties.</p>
<p>
<a id="pgfId-957230"></a>When <code>faultrampsteps</code> is specified and a failure occurs, Spectre generates an extended version of this message, that is, <code>&quot;Fault simulation failed for bridge_44: 3.5V and 0V shorted.</code> <code>(Last converged fault with R=4.604e+03 Ohm)&quot;</code>.</p>
<p>
<a id="pgfId-957231"></a>The ending of fault simulation at each fault time is annotated as <code>&quot;Fault sensitivity analysis finished at time 2.000000e-04: 92 (7.99%) faults failed.&quot;</code> The high percentage of failures indicates that either the simulation parameters have to be adjusted (<code>faultmaxiters</code>, <code>faultrampsteps</code>, <code>faultlimiting</code>), or the fault method <code>maxiters</code> is not appropriate for this design.</p>

<h4><em>
<a id="pgfId-957232"></a>Onestep method</em></h4>

<p>
<a id="pgfId-957233"></a>When the dynamic response of a circuit is important, or the <code>maxiters</code> method does not provide the required accuracy, <code>faultmethod=onestep</code> can be used. This method performs as <code>maxiters</code> initially. If no convergence achieved, it reduces the time step and continues the iterations until convergence requirements are satisfied. Therefore, there can be multiple time steps taken until a solution is found at the fault time for every defect. This may affect the simulation performance significantly. You can adjust the simulation parameters (<code>faultmaxiters</code>, <code>faultrampsteps</code>, <code>faultlimiting</code>) to optimize performance.</p>

<h4><em>
<a id="pgfId-957234"></a>Leadtime method</em></h4>

<p>
<a id="pgfId-957235"></a>In some situations, the <code>onestep</code> method cannot provide the solution while the time step gets reduced to the minimum possible value. The simulation for such defect is considered as failed and is terminated. The final solution is based on the <code>maxiters</code> method. A warning similar to the <code>maxiters</code> method is also generated.</p>
<p>
<a id="pgfId-957236"></a>If the design under test (DUT) is time-sensitive, <code>faultmethod=leadtime</code> can be a better choice than the <code>onestep</code> method. The difference between these two methods is only the time where a defect gets injected during the simulation process. The <code>leadtime</code> method requires a mandatory parameter <code>leadtime</code> to specify the time interval to inject the fault. The <code>onestep</code> method takes the defect into consideration at a previous time point, right before the fault time. <code>leadtime</code> can use the same parameters as <code>onestep</code> and <code>maxiters</code>, and supports similar annotations.</p>
<p>
<a id="pgfId-957237"></a>The choice of <code>leadtime</code> value is limited by the distance between the fault times. The time interval <code>[faulttime-leadtime, faulttime]</code> cannot contain any other fault times. The operating frequency or a few clock periods may be considered as a choice of value for <code>leadtime</code>. You can use the parameter <code>faultstrobe=yes</code> with Spectre strobing options allows to save the multiple measurements into a table file within the lead time interval. As a result, the restriction of overlapping lead times can be avoided.</p>
<p>
<a id="pgfId-957238"></a>In many situations, the <code>leadtime</code> method has an advantage over <code>onestep</code>. As soon as the defect is taken into consideration ahead of time, it may improve the accuracy of results as well convergence. It is not unusual if <code>leadtime</code> takes less time steps than <code>onestep</code> for the same fault simulation.</p>

<h4>
<a id="pgfId-957240"></a>Comparing Accuracy and Performance of Various Methods</h4>

<p>
<a id="pgfId-957241"></a>For accuracy evaluation of fault methods and performance estimation of Spectre transient fault analysis, direct simulation with the fault injected is required as a reference. In many cases, the direct approach is not realistic for a very long simulation time. To start, it is recommended to select a representative small-to-medium sized design with the fault list that can be simulated within reasonable time by the fault method <code>timezero</code>, or by the direct approach (changing netlist for each defect). As an alternative, Spectre provides the <code>faultsinst</code> parameter that can be used in the transient statement. <code>faultsinst</code> allows you to select the faults for simulation from one or several blocks in the circuit, without modification of the original fault list. With limited number of injected faults, the <code>timezero</code> method can produce the reference data within reasonable time. </p>
<p>
<a id="pgfId-931859"></a>After performing the simulation for several methods, you can compare the accuracy by means of detection matching using the <code>spectre_ddmrpt</code> Spectre binary that is located in the <code>&lt;</code><span class="webflare-courier-new" style="white-space:pre"><em>installation</em></span><code>&gt;/bin</code> directory. </p>

<h4>
<a id="pgfId-968190"></a>Job Distributi<a id="job_tran_fault"></a>on in Transient Fault Analysis</h4>

<p>
<a id="pgfId-968334"></a>Like direct fault analysis, transient fault analysis also supports job distribution. The command to submit TFA jobs is the same as direct fault analysis. However, transient fault analysis does not save the fault result over the full transient time but only at the test points specified in <code>faulttimes</code> vector. Fault simulation results are saved in the raw file and the fault table file.</p>
<p>
<a id="pgfId-968338"></a>To submit the jobs on farm machine, you can specify the following:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-968339"></a>%bsub &#8211;R &#8220;(OSNAME==Linux)&#8221; &#8220;spectre +aps -mt +mp=3 tran_fault.scs &#8211;outdir fullpath/out_tfa_mp/&#8220;</pre>

<p>
<a id="pgfId-968341"></a>To run the distribution on one machine, you may use the following command with a single thread.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-968240"></a>%spectre +aps -mt +mp=3 tran_fault.scs &#8211;outdir out_tfa_mp/</pre>
<h2>
<a id="pgfId-855666"></a><a id="59567"></a>Pole Zero Analysis<a id="newpole"></a><a id="pz"></a></h2>

<p>
<a id="pgfId-879960"></a>The pole ze<a id="pz_analysis"></a>ro analysis linearizes the circuit about the DC operating point and computes the poles and zeros of the linearized network. The analysis generates a finite number of poles and zeros, each being a complex number. If you sweep a parameter, the parameter values corresponding to the current iteration are printed.</p>
<p>
<a id="pgfId-879961"></a>The pole zero analysis dense method works best on small to medium sized circuits (circuits with less than a thousand equations). You can use the arnoldi method (iterative sparse solver) on large circuits for better performance. </p>
<p>
<a id="pgfId-879962"></a>If you run a pole zero analysis on a frequency dependent component (element whose AC equivalent varies with frequency, such as transmission line or BJT with excess phases), the Spectre circuit simulator approximates the component as AC equivalent conductance and evaluates conductance at 1Hz.</p>
<p>
<a id="pgfId-849248"></a>You can set up and run a pole zero analysis through the Analog Design Environment. For more information, see the <em>Analog Design Environment User Guide</em>.</p>

<h3>
<a id="pgfId-849491"></a>Syntax</h3>
<a id="pgfId-849588"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
<code><em>analysisName </em></code>[(<code><em>pnode nnode</em></code>)] <code>pz</code><code><em> </em></code>[method=arnoldi numpoles=0 numzeros=0 sigmar=0.1 sigmai=0.0 ...] </pre>

<p>
<a id="pgfId-849551"></a>where</p>
<table class="webflareTable" id="#id877247">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-877249"></a><span class="webflare-courier-new" style="white-space:pre"><em>analysisName</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-877251"></a>Name of analysis.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-877253"></a><span class="webflare-courier-new" style="white-space:pre"><em>pnode</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>nnode</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-877255"></a>Nodes in the circuit whose difference is the output of the transfer function for which zeroes are to be calculated. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-877257"></a><code>method=arnoldi</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-877259"></a>Specifies that the method to be used for calculating poles and zeroes is arnoldi. Default value is <em>qz</em> (dense method).</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-877261"></a><code>numpoles=0</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-877263"></a>Limits the maximum number of poles in the arnoldi method to the specified value. Default value is 0, which indicates that the limit is the circuit size.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-877265"></a><code>numzeros=0</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-877267"></a>Limits the maximum number of zeroes in the arnoldi method to the specified value. Default value is 0, which indicates that the limit is the circuit size.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-877269"></a><code>sigmar=0.1</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-877271"></a>Specifies the root finding control parameter for the arnoldi method. If the interesting poles or zeros are around the value z, z=x+jy, setting <code>sigmar</code> to x and <code>sigmai</code> to y helps Spectre find the solution more accurately. Default value is <code>0.1</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-877273"></a><code>sigmai=0.0</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-877275"></a>Specifies the root finding control parameter for the arnoldi method. If the interesting poles or zeros are around the value z, z=x+jy, setting <code>sigmar</code> to x and <code>sigmai</code> to y helps Spectre find the solution more accurately. Default value is <code>0</code>.</p>
</td>
</tr>
</tbody></table>
<p>
<a id="pgfId-855151"></a>If you do not specify the input source, the Spectre circuit simulator performs only the pole analysis. For a detailed description of the parameters, see <code>spectre -h pz</code>.</p>

<h3>
<a id="pgfId-850121"></a>Example 1</h3>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-850147"></a>myPZ1 pz</pre>

<p>
<a id="pgfId-850227"></a>Performs pole analysis.</p>

<h3>
<a id="pgfId-850233"></a>Example 2</h3>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-855096"></a>myPZ2 pz method=arnoldi</pre>

<p>
<a id="pgfId-855097"></a>Performs pole analysis with the arnoldi method.</p>

<h3>
<a id="pgfId-855092"></a>Example 3</h3>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-850226"></a>mypz2 (n1 n2) pz iprobe=VIN</pre>

<p>
<a id="pgfId-850232"></a>Performs pole zero analysis for a circuit whose input is <code>VIN</code> and output is the voltage difference between nodes <code>n1</code> and <code>n2</code>.</p>

<h3>
<a id="pgfId-850331"></a>Example 4</h3>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-850332"></a>mypz3 (n1 n2) pz iprobe=I1 param=temp start=25 stop=100 step=25</pre>

<p>
<a id="pgfId-850333"></a>Performs pole zero analysis for a circuit whose input is <code>I1</code> and output is the voltage difference between nodes <code>n1</code> and <code>n2</code>.</p>

<h3>
<a id="pgfId-850308"></a>Output Log File</h3>

<p>
<a id="pgfId-849992"></a>The output log file contains the following information:</p>
<ul><li>
<a id="pgfId-849994"></a>Complex numbers for poles</li><li>
<a id="pgfId-849995"></a>Complex numbers for zeroes</li><li>
<a id="pgfId-849996"></a>Gain for zeroes</li><li>
<a id="pgfId-849997"></a>Quality factor Q, which can be defined as:</li></ul>




<p class="webflare-indent1">
<a id="pgfId-850001"></a><img width="218" height="43" src="images/chap7-52.gif" /></p>

<p class="webflare-indent1">
<a id="pgfId-850002"></a>where <span class="webflare-courier-new" style="white-space:pre"><em>sign</em></span> is 1 if <span class="webflare-courier-new" style="white-space:pre"><em>real</em></span>&lt;0 and <span class="webflare-courier-new" style="white-space:pre"><em>sign</em></span> is -1 if <span class="webflare-courier-new" style="white-space:pre"><em>real</em></span>&gt;0. When <span class="webflare-courier-new" style="white-space:pre"><em>real</em></span> is 0, Qfactor is not defined.</p>
<p>
<a id="pgfId-849800"></a>If the output of the pole zero analysis contains positive real part poles indicating an unstable circuit, the label <code>**RHP</code> is appended to those poles. An example is shown below:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-849808"></a>*****************</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-849809"></a>PZ Analysis &#8216;mypz&#8217;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-849810"></a>******************</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-849959"></a>                      Poles (Hertz)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-849814"></a>           Real                       Imaginary                 Qfactor</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-849816"></a>   1      4.5694e+10                  0             **RHP       -0.5</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-849817"></a>   2      4.2613e+10                  0             **RHP       -0.5</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-849818"></a>   3      1.4969e+10                  0             **RHP       -0.5</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-849819"></a>   4      1.4925e+10                  0             **RHP       -0.5</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-849820"></a>   5      1.0167e+10                  0             **RHP       -0.5</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-849821"></a>   6      1.0165e+10                  0             **RHP       -0.5</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-849822"></a>   7      7.3469e+09                  0             **RHP       -0.5</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-849823"></a>   8      7.3469e+09                  0             **RHP       -0.5</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-849824"></a>   9     -1.0061e+09                  0                         0.5</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-849825"></a>  10     -1.0061e+09                  0                         0.5</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-849826"></a>  11     -1.0235e+09                  0                         0.5</pre>
<h2>
<a id="pgfId-879076"></a><a id="29572"></a>Loopfin<a id="loopfinder"></a>der Analysis</h2>

<p>
<a id="pgfId-879098"></a>The loopfinder (<code>lf</code>) analysis linearizes the circuit about the DC operating point and identifies the loops that may potentially cause stability problems. The analysis does not require the identification of loops or the use of probes.</p>
<p>
<a id="pgfId-879120"></a>The analysis computes the impedance of the nodes at a frequency that is equal to the magnitude of the pole and identifies the high impedance nodes. It displays the impedance of all the high impedance nodes within a loop, sorted by the impedance value.</p>
<p>
<a id="pgfId-879967"></a>The loopfinder analysis, by default, uses the direct method to detect the suspected poles. However, this method is computationally intensive and works best on small-to-medium sized circuits. You can use the <code>krylov</code> method (iterative sparse solver) on large circuits for better performance.</p>
<p>
<a id="pgfId-879999"></a>Use the <code>dampmax</code> parameter to control the filtering of suspected poles. Setting the value of <code>dampmax</code> to 1 results in the inclusion of all poles. The default value of the <code>dampmax</code> parameter is 0.7. Use the <code>zmin</code> parameter to control the number of nodes in the output. A higher <code>zmin</code> value means that fewer nodes will be displayed in the output for a given loop.</p>
<p>
<a id="pgfId-880376"></a>For more information on loopfinder analysis, see <em><a actuate="user" class="URL" href="../spectreref/chap3.html#loopfinder" show="replace" xml:link="simple">LoopFinder Analysis</a></em> in the Spectre Circuit Simulator Reference manual.</p>

<h3>
<a id="pgfId-879159"></a>Syntax</h3>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-879215"></a>analysisName lf &lt;parameter=value&gt;</pre>
<h4><em>
<a id="pgfId-879225"></a>Example1 </em></h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-879248"></a>mylf lf</pre>

<p>
<a id="pgfId-879238"></a>Performs loopfinder analysis and computes the impedance of all nodes.</p>

<h4><em>
<a id="pgfId-879262"></a>Example 2</em></h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-879269"></a>mylf lf solver_method=krylov</pre>

<p>
<a id="pgfId-879276"></a>Performs loopfinder analysis using the krylov method for pole detection.</p>

<h4>
<a id="pgfId-879294"></a>Example 3</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-879304"></a>mylf lf dev=R0 param=r start=100 stop=300 step=1</pre>

<p>
<a id="pgfId-879317"></a>In the above example, loopfinder analysis is performed by sweeping the device parameter <code>r</code> of the device <code>R0</code> from <code>100</code> to <code>300</code> at an increment of <code>1</code>.</p>

<h3>
<a id="pgfId-879489"></a>Output of the Loopfinder Analysis</h3>

<p>
<a id="pgfId-879503"></a>Following is a sample output of the loopfinder analysis:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-879553"></a>Important complex poles - natural frequency and damping factor</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-879554"></a> 1.11e+03 MHz&#160;&#160;                  0.00175</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-879561"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-879592"></a>**********node impedance @wn**************</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-879593"></a>Natural Frequencies&#160;&#160;           1.11e+03M</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-879600"></a>net015                          589.<br />net23                           1.31e+03<br />net022                          1.31e+03<br />net14                           589.<br />net20                           5.37e+03<br />Vout&#160;&#160;                          5.37e+03</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-879743"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-879750"></a>******************Loop1*******************</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-879757"></a>Natural Frequency = 1.11e+03 MHz</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-879776"></a>Damping Factor = 0.00175</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-879783"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-879790"></a>Node Name&#160;&#160;               Impedance@wn</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-879818"></a>Vout                            5.37e+03<br />net20                           5.37e+03<br />net022                          1.31e+03<br />net23                           1.31e+03<br />net015                          589.<br />net14&#160;&#160;                         589.</pre>
<h2>
<a id="pgfId-879595"></a><a id="17816"></a>Other Analyses (sens, fourier, dcmatch, and stb)</h2>

<p>
<a id="pgfId-840868"></a>There are four analyses in this category: <code>sens</code>, <code>fourier</code>, dcmatch, and stb.</p>

<h3>
<a id="pgfId-840869"></a><a id="32788"></a>Sensi<a id="marker-841405"></a><a id="marker-843647"></a>tivity Analysis<a id="sens"></a></h3>

<p>
<a id="pgfId-841412"></a>You can supplement the analysis information you automatically receive with the AC and DC analyses by placing <code>sens</code> statements in the netlist. Output for the <code>sens</code> command is sent to the rawfile or to an ASCII file that you can specify with the <code>+sensdata</code> <span class="webflare-courier-new" style="white-space:pre"><em>&lt;filename&gt;</em></span> option of the <code>spectre</code> command.</p>
<ul><li>
<a id="pgfId-845895"></a>If you set <code>senstype=partial</code>, Spectre calculates partial sensitivity. This determines the sensitivity of output variables to input design parameters. Results are expressed as a ratio of the change in an output analysis variable to the change in an input design parameter. For example, if V is the output value, and P is the input design parameter, sensitivity is computed as follows:<br />
<a id="pgfId-865079"></a><br /><div class="webflare-div-image">
<img width="221" height="68" src="images/chap7-53.gif" /></div></li><li>
<a id="pgfId-845946"></a>If you set <code>senstype=normalized</code>, Spectre calculates normalized sensitivity, which removes the dependence of results on the magnitude of the output variable and input design parameters. Normalized sensitivity is computed as follows:<br />
<a id="pgfId-865201"></a><br /><div class="webflare-div-image">
<img width="221" height="72" src="images/chap7-54.gif" /></div>
<a id="pgfId-865202"></a><br /><div class="webflare-div-image">
<img width="258" height="71" src="images/chap7-55.gif" /></div>
<a id="pgfId-865227"></a><br /><div class="webflare-div-image">
<img width="273" height="77" src="images/chap7-56.gif" /></div>
<a id="pgfId-846043"></a>When both P and V are zero, partial sensitivity is used.</li></ul>



















<h4>
<a id="pgfId-841414"></a>Formatting the <a id="marker-841413"></a>sens Com<a id="sens_format"></a>mand</h4>

<p>
<a id="pgfId-841415"></a>You format the <code>sens</code> command, as follows:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-841416"></a>sens [ ( <code><em>output_variables_list</em></code> ) ] [ to <br />( <code><em>design_parameters_list</em></code> ) ] [ for ( <code><em>analyses_list</em></code> ) ]</pre>

<p>
<a id="pgfId-841417"></a>where:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-841418"></a><code><em>output_variables_list</em></code> = <code><em>ovar</em></code><sub>1</sub> <code><em>ovar</em></code><sub>2</sub> ...</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-841419"></a><code><em>design_parameters_list</em></code> = <code><em>dpar</em></code><sub>1</sub> <code><em>dpar</em></code><sub>2</sub> ...</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-841420"></a><code><em>analyses_list</em></code> = <code><em>ana</em></code>1 <code><em>ana</em></code>2 ...</pre>

<p>
<a id="pgfId-841421"></a>The <span class="webflare-courier-new" style="white-space:pre"><em>ovar</em></span><sub>i</sub> are the output variables whose sensitivities are calculated. These are normally node names, <code>deviceInstance:parameter</code> or <code>modelName:parameter</code> specifications. Examples are <code>5</code>, <code>n1</code>, and <code>Qout:betadc</code>.</p>
<p>
<a id="pgfId-841422"></a>The <span class="webflare-courier-new" style="white-space:pre"><em>dparj</em></span> are the design parameters to which the output variables are sensitive. You can specify them in a format similar to <span class="webflare-courier-new" style="white-space:pre"><em>ovari</em></span>. However, they must be input parameters that you can specify (for example, <code>R1:r</code>). You can use wildcard (<code>*</code>) for device instances and models (for example, <code>*:r</code>) in which case, sensitivity information of the output variables is computed with respect to the specified parameters for all device instances and models.</p>
<p>
<a id="pgfId-875245"></a>If you do not specify a <code>to</code> clause, sensitivities of output variables are calculated with respect to all available instance and model parameters.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-841423"></a>The method for specifying design parameters and output variables is described in more detail in the documentation for the <code>save</code> statement in Chapter 9, &#8220;Specifying Output Options.&#8221;</div>
<p>
<a id="pgfId-841427"></a>The following table shows you the types of design and output parameters that are normally used for both AC and DC analyses:</p>
<table class="webflareTable" id="#id841428">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id841430">
<a id="pgfId-841430"></a></span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id841432">
<a id="pgfId-841432"></a>AC Analysis</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id841434">
<a id="pgfId-841434"></a>DC Analysis</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841436"></a>Design parameters</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841438"></a>Instance parameters</p>
<p>
<a id="pgfId-841439"></a>Model parameters</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841441"></a>Instance parameters</p>
<p>
<a id="pgfId-841442"></a>Model parameters</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841444"></a>Output parameters</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841446"></a>Node voltages</p>
<p>
<a id="pgfId-841447"></a>Branch currents</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841449"></a>Node voltages</p>
<p>
<a id="pgfId-841450"></a>Branch currents</p>
<p>
<a id="pgfId-841451"></a>Instance operating-point parameters</p>
</td>
</tr>
</tbody></table>
<p>
<a id="pgfId-841452"></a>You can also specify device instances or models as design parameters without further specifying parameters, but this approach might result in a number of error messages. The Spectre simulator attempts sensitivity analysis for every device parameter and sends an error message for each parameter that cannot be varied. The Spectre simulator does, however, perform the requested sensitivity analysis for appropriate parameters.</p>
<p>
<a id="pgfId-841453"></a>The <span class="webflare-courier-new" style="white-space:pre"><em>anak</em></span> are the analyses for which sensitivities are calculated. These can be analysis instance names (for example, <code>opBegin</code> and <code>ac2</code>) or analysis type names (for example, <code>DC</code> and <code>AC</code>).</p>

<h4>
<a id="pgfId-841455"></a>Examples of the <a id="marker-841454"></a>sens Command</h4>

<p>
<a id="pgfId-841456"></a>The following examples illustrate <code>sens</code> command format: </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-841457"></a>sens (q1:betadc 2 Out) to (vcc:dc nbjt1:rb) for (analDC) </pre>

<p>
<a id="pgfId-841458"></a>This command computes DC sensitivities of the <code>betadc</code> operating-point parameter of transistor <code>q1</code> and of nodes <code>2</code> and <code>Out</code> to the <code>dc</code> voltage level of voltage source <code>vcc</code> and to the model parameter <code>rb</code> of <code>nbjt1</code>. The values are computed for DC analysis <code>analDC</code>. The results are stored in the files <code>analDC.vcc:dc</code> and <code>analDC.nbjt1:rb</code>. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-841459"></a>sens (1 n2 7) to (q1:area nbjt1:rb) for (analAC) </pre>

<p>
<a id="pgfId-841460"></a>This command computes AC sensitivities of nodes <code>1</code>, <code>n2</code>, and <code>7</code> to the area parameter of transistor <code>q1</code> and to the model parameter <code>rb</code> of <code>nbjt1</code>. The values are computed for each frequency of the AC analysis <code>analAC</code>. The results are stored in the files <code>analAC.q1:area</code> and <code>analAC.nbjt1:rb</code>. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-841461"></a>sens (vbb:p q1:int_c q1:gm 7) to (q1:area nbjt1:rb) for (analDC1) </pre>

<p>
<a id="pgfId-841462"></a>This command computes DC sensitivities of the branch current <code>vbb:p</code>, the operating-point parameter <code>gm</code> of transistor <code>q1</code>, the internal collector voltage <code>q1:int_c</code>, and the node <code>7</code> voltage to the instance parameter <code>q1:area</code> and the model parameter <code>nbjt:1:rb</code>. The values are computed for analysis <code>analDC1</code>.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-875285"></a>sens (1 n2 7) to (<code>*:area</code>) for (analAC)</pre>

<p>
<a id="pgfId-875301"></a>This command computes the AC sensitivites of nodes <code>1</code>, <code>n2</code>, and <code>7</code> to the <code>area</code> parameter of all device instances and models.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-841463"></a>sens (1 n2 7) for (analAC)</pre>

<p>
<a id="pgfId-841464"></a>This command computes the AC sensitivities of nodes <code>1</code>, <code>n2</code>, and <code>7</code> to all available device and model parameters.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-858744"></a>This can result in a lot of information.</div>

<h4>
<a id="pgfId-858745"></a>Sensitivity analysis for binned model in subckt</h4>

<p>
<a id="pgfId-858746"></a>To support sensitivity analysis for binned model defined in subckt, use the option <code>sensbinparam</code>.</p>
<p>
<a id="pgfId-858656"></a><span class="webflare-courier-new" style="white-space:pre"><em>sensbinparam=no</em></span>: default; feature disabled.</p>
<p>
<a id="pgfId-858657"></a><span class="webflare-courier-new" style="white-space:pre"><em>sensbinparam=uncorrelated</em></span>: uncorrelated method.</p>
<p>
<a id="pgfId-858658"></a><span class="webflare-courier-new" style="white-space:pre"><em>sensbinparam=correlated</em></span>: fully-correlated method.</p>

<h4>
<a id="pgfId-858659"></a>Example:</h4>

<p>
<a id="pgfId-858660"></a>model nch bsim3v3 </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-858661"></a><code><em>{</em></code></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-858662"></a><code><em>1: type=n vth0=0.59 lmin=3.5e-7 lmax=8.0e-7 wmin=4.0e-7 wmax=8.0e-7 xl=8.66e-8</em></code></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-858663"></a><code><em>xw=-2.1e-8</em></code></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-858664"></a><code><em>2: type=n vth0=0.51 +lmin=8.0e-7 lmax=1.2e-6 wmin=4.0e-7 wmax=8.0e-7 xl=8.66e-8</em></code></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-858665"></a><code><em>xw=-2.1e-8</em></code></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-858666"></a><code><em>}</em></code></pre>

<p>
<a id="pgfId-858667"></a>both bins are used by different instances in the netlist. Inside spectre, the model bin name will be <span class="webflare-courier-new" style="white-space:pre"><em>nch_1</em></span> and <span class="webflare-courier-new" style="white-space:pre"><em>nch_2</em></span>.</p>
<p>
<a id="pgfId-858668"></a>Assuming you want the sensitivity of <span class="webflare-courier-new" style="white-space:pre"><em>out</em></span> (output signal) vs <span class="webflare-courier-new" style="white-space:pre"><em>vth0</em></span> in the model group, the two methods produce results in the following manner:</p>

<h4><em>
<a id="pgfId-858669"></a>Uncorrelated</em></h4>

<p>
<a id="pgfId-858670"></a>Considering <span class="webflare-courier-new" style="white-space:pre"><em>nch_1</em></span> and <span class="webflare-courier-new" style="white-space:pre"><em>nch_2</em></span> are two totally independent uncorrelated models, Spectre treats <span class="webflare-courier-new" style="white-space:pre"><em>nch_1</em></span> and <span class="webflare-courier-new" style="white-space:pre"><em>nch_2</em></span> as two separated models.</p>
<p>
<a id="pgfId-858671"></a>Spectre perturbs <span class="webflare-courier-new" style="white-space:pre"><em>nch_1:vth0</em></span>, <span class="webflare-courier-new" style="white-space:pre"><em>nch_2:vth0</em></span> parameter values separately. </p>
<p>
<a id="pgfId-858672"></a>The sensitivity report will have </p>
<p>
<a id="pgfId-858673"></a><span class="webflare-courier-new" style="white-space:pre"><em>out vs nch_1:vth0</em></span></p>
<p>
<a id="pgfId-858674"></a><span class="webflare-courier-new" style="white-space:pre"><em>out vs nch_2:vth0</em></span></p>

<h4><em>
<a id="pgfId-858675"></a>Correlated</em></h4>

<p>
<a id="pgfId-858642"></a>Considering <span class="webflare-courier-new" style="white-space:pre"><em>nch_1</em></span> and <span class="webflare-courier-new" style="white-space:pre"><em>nch_2</em></span> are 100% correlated, Spectre perturbs<span class="webflare-courier-new" style="white-space:pre"><em> nch_1:vth0</em></span> and <span class="webflare-courier-new" style="white-space:pre"><em>nch_2:vth0</em></span> simultaneously, the sensitivity report will just have one <span class="webflare-courier-new" style="white-space:pre"><em>out</em></span> vs <span class="webflare-courier-new" style="white-space:pre"><em>nch:vth0</em></span>.</p>

<h3>
<a id="pgfId-841404"></a>Four<a id="marker-841406"></a><a id="marker-843559"></a>ier Analysis <a id="fourier"></a></h3>

<p>
<a id="pgfId-841489"></a><a id="40165"></a>The ratiometric Fourier analyzer measures the Fourier coefficients of two different signals at a specified fundamental frequency without loading the circuit. The algorithm used is based on the Fourier integral rather than the discrete Fourier transform and therefore is not subject to aliasing. Even on broad-band signals, it computes a small number of Fourier coefficients accurately and efficiently. Therefore, this Fourier analyzer is suitable on clocked sinusoids generated by sigma-delta converters, pulse-width modulators, digital-to-analog converters, sample-and-holds, and switched-capacitor filters as well as on the traditional low-distortion sinusoids produced by amplifiers or filters.</p>
<p>
<a id="pgfId-841490"></a>The analyzer is active only during a transient analysis. For each signal, the analyzer prints the magnitude and phase of the harmonics along with the total harmonic distortion at the end of the transient analysis. The total harmonic distortion is found by summing the power in all of the computed harmonics except DC and the fundamental. Consequently, the distortion is not accurate if you request an insufficient number of harmonics. The Fourier analyzer also prints the ratio of the spectrum of the first signal to the fundamental of the second, so you can use the analyzer to compute large signal gains and immittances directly.</p>
<p>
<a id="pgfId-841491"></a>If you are concerned about accuracy, perform an additional Fourier transform on a pure sinusoid generated by an independent source. Because both transforms use the same time points, the relative errors measured with the known pure sinusoid are representative of the errors in the other transforms. In practice, this second Fourier transform is performed on the reference signal. To increase the accuracy of the Fourier transform, use the <code>points</code> parameter to increase the number of points. Tightening <code>reltol</code> and setting <code>errpreset=conservative</code> are two other measures to consider. </p>
<p>
<a id="pgfId-841492"></a>The accuracy of the magnitude and phase for each harmonic is independent of the number of harmonics computed. Thus, increasing the number of harmonics (while keeping <code>points</code> constant) does not change the magnitude and phase of the low order harmonics, but it does improve the accuracy of the total harmonic distortion computation. However, if you do not specify <code>points</code>, you can increase accuracy by requesting more harmonics, which creates more points.</p>
<p>
<a id="pgfId-841493"></a>The large number of points required for accurate results is not a result of aliasing. Many points are needed because a quadratic polynomial interpolates the waveform between the time points. If you use too few time points, the polynomials deviate slightly from the true waveform between time points and all of the computed Fourier coefficients are slightly in error. The algorithm that computes the Fourier integral does accept unevenly spaced time points, but because it uses quadratic interpolation, it is usually more accurate using time steps that are small and nearly evenly spaced. </p>
<p>
<a id="pgfId-841494"></a>This device is not supported within <code>altergroup</code>.</p>

<h4>
<a id="pgfId-841496"></a>Instance Definition</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-841497"></a>Name&#160;&#160;[p]&#160;&#160;[n]&#160;&#160;[pr]&#160;&#160;[nr] ModelName parameter=value ...</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-841498"></a>Name&#160;&#160;[p]&#160;&#160;[n]&#160;&#160;[pr]&#160;&#160;[nr] fourier parameter=value ...</pre>

<p>
<a id="pgfId-841499"></a>The signal between terminals <code>p</code> and <code>n</code> is the test or numerator signal. The signal between terminals <code>pr</code> and <code>nr</code> is the reference or denominator signal. Fourier analysis is performed on terminal currents by specifying the <code>term</code> or <code>refterm</code> parameters. If both <code>term</code> and <code>p</code> or <code>n</code> are specified, then the terminal current becomes the numerator and the node voltages become the denominator. By mixing voltages and currents, it is possible to compute large signal immittances.</p>

<h4>
<a id="pgfId-841501"></a>Model Definition<a id="marker-841500"></a></h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-841502"></a>model <code><em>modelName</em></code> fourier <code><em>parameter</em></code>=<code><em>value</em></code> ...</pre>
<h3>
<a id="pgfId-843697"></a><a id="28552"></a>DC M<a id="dcmatch"></a>atch Analysis </h3>

<p>
<a id="pgfId-862822"></a>The DCMATCH analysis performs DC device matching analysis for a given output. It computes the deviation in the DC operating point of the circuit due to processing or environmental variation in modeled devices. If <code>method=standard</code> is specified, a set of dcmatch parameters in the model cards are required for each supported device contributing to the deviation. The analysis applies device mismatch models to construct equivalent mismatch current sources to all the devices that are modeled. These current sources will have zero mean and some variance. The variance of the current sources are computed according to device match models. It then computes the 3-sigma variance of dc voltages or currents at user specified outputs due to the mismatch current sources. The simulation results displays the devices rank ordered by their contributions to the outputs.</p>
<p>
<a id="pgfId-862823"></a>In addition, for MOSFET devices, it displays threshold voltage mismatch, current factor mismatch, gate voltage mismatch, and drain current mismatch. For bipolar devices, it displays base-emitter junction voltage mismatch. For resistors, it displays resistor mismatches.</p>
<p>
<a id="pgfId-862824"></a>The analysis replaces multiple simulation runs by circuit designers for accuracy vs. size analysis. It automatically identifies the set of critical matched components during circuit design. For example, when there are matched pairs in the circuit, the contribution of two matched transistors will be equal in magnitude and opposite in sign. Typical usage are to simulate the output offset voltage of operational amplifiers, estimate the variation in bandgap voltages, and predict the accuracy of current steering DACS.</p>
<p>
<a id="pgfId-855191"></a>For <code>method=standard</code>, DCMATCH analysis is available for BSIM3V3, BSIM4, BSIMSOI, EKV, PSP102, PSP103, BJT, VBIC, BHT, RESISTOR, PHY_RES, R3, and resistor-type bsource. If <code>method=statistics</code> is specified, a statistics block is required to list the parameters that are considered as randomly varying. By default, all statistics parameters found in the statistics block are considered in the computation, unless option <code>variations</code> is specified. In this case, device matching models are not used and dcmatch model parameters are not required.</p>

<h4>
<a id="pgfId-844708"></a>Model Definition</h4>
<a id="pgfId-844709"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
name [<code><em>pnode nnode</em></code>] dcmatch <code><em>parameter=value</em></code> ...</pre>
<h4>
<a id="pgfId-843782"></a>Examples of the <code>dcmatch</code> command </h4>

<p>
<a id="pgfId-844717"></a>The following example investigates the 3-sigma dc variation at the output of the current flowing through the device <code>vd</code>, which is a voltage source in the circuit netlist. <code>dcmm1</code> is the name of the analysis, <code>dcmatch</code> is a keyword indicating the dc mismatch analysis, and the parameter settings <code>oprobe=vd</code> and <code>porti=1</code> specify that the output current is measured at the first port of vd. Device mismatch contributions less than 0.1% of the maximum contribution of all mismatch devices to the output are not reported, as specified by the parameter mth. The mismatch (that is the equivalent mismatch current sources in parallel to all the devices that use model <code>n1</code>) is modeled by the model parameters <code>mvtwl</code>, <code>mvtwl2</code>, <code>mvt0</code>, <code>mbewl</code>, and <code>mbe0</code>.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-845678"></a>dcmm1 dcmatch mth=1e-3 oprobe=vd porti=1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-845679"></a>model n1 bsim3v3 type=n ...</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-845680"></a>+ mvtwl=6.15e-9 mvtwl2=2.5e-12 mvt0=0.0 mbewl=16.5e-9 mbe0=0.0</pre>

<p>
<a id="pgfId-843805"></a>The output of the analysis is displayed on the screen/logfile: </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-843806"></a><code>DC Device Matching Analysis &#8216;mismatch1&#8217; at vd</code></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-843835"></a>Local Variation = 3-sigma random device variation</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-843836"></a>sigmaOut&#160;&#160;  sigmaVth     sigmaBeta   sigmaVg     sigmaIds</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-843837"></a>-13.8 uA&#160;&#160;  2.21 mV      357 m%      2.26 mV     1.71 %      mp6</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-843813"></a>-6.99 uA&#160;&#160;  1.63 mV      269 m%      1.68 mV     1.08 %      m01</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-843814"></a>-2.71 uA&#160;&#160;  1.11 mV      187 m%      1.16 mV     648 m%      m02</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-843883"></a>-999 nA&#160;&#160;   769 uV       131 m%      807 uV      428 m%      m04x4_4</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-843884"></a>-999 nA&#160;&#160;   769 uV       131 m%      807 uV      428 m%      m04x4_3</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-843885"></a>-999 nA&#160;&#160;   769 uV       131 m%      807 uV      428 m%      m04x4_2</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-843818"></a>-999 nA&#160;&#160;   769 uV       131 m%      807 uV      428 m%      m04x4_1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-843819"></a>-999 nA&#160;&#160;   769 uV       131 m%      807 uV      428 m%      m04</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-843820"></a>-718 nA&#160;&#160;   1.09 mV      185 m%      1.15 mV     599 m%      m40x04</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-843821"></a>-520 nA&#160;&#160;   1.55 mV      263 m%      1.63 mV     835 m%      m20x04</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-843822"></a>-378 nA&#160;&#160;   2.21 mV      376 m%      2.34 mV     1.16 %      m10x04</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-843823"></a>-363 nA&#160;&#160;   539 uV       92 m%       567 uV      293 m%      m08</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-843824"></a>-131 nA&#160;&#160;   379 uV       64.9 m%     400 uV      203 m%      m16</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-843825"></a>-46.7 nA&#160;&#160;  267 uV       45.9 m%     283 uV      142 m%      m32</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-843826"></a>vd =-3.477 mA +/- 15.91 uA (3-sigma variation)</pre>

<p>
<a id="pgfId-844773"></a>This says that the 3-sigma variation at <code>i(vd)</code> due to the mismatch models is -3.477 mA ±15.91 μA. The -3.477 mA is the dc operating value of i(vdd), and 15.91 μA is the 3-sigma variation due to the device mismatches. The device mp6 contributes the most to the output variation at -13.8 μA followed by m01 which contributes -6.99 μA. The equivalent 3-sigma Vth variation of mp6 is 2.21 mV. The relative 3-sigma beta (current factor) variation of mp6 is 0.357%. The equivalent 3-sigma gate voltage variation is 2.26 mV. The relative 3-sigma Ids variation of mp6 is 1.71%.</p>
<p>
<a id="pgfId-845711"></a>The output can also be written in psf, and you can view the table using Analog Design Environment.</p>
<p>
<a id="pgfId-844358"></a>The following statement investigates the 3-sigma dc variation on output <code>v(n1,n2)</code>. The result of the analysis is printed in a psf file and the cpu statistics of the analysis are generated.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-844360"></a>dcmm2 n1 n2 dcmatch mth=1e-3 where=rawfile</pre>

<p>
<a id="pgfId-844362"></a>In the following example, the output is the voltage drop across the 1st port of r3. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-844364"></a>dcmm3 dcmatch mth=1e-3 oprobe=r3 portv=1</pre>

<p>
<a id="pgfId-844800"></a>For the following statement, the output of the analysis is printed to a file <span class="webflare-courier-new" style="white-space:pre"><em>circuitName</em></span><code>.info.what</code>.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-844801"></a>dcmm4 n3 0 dcmatch mth=1e-3 where=file file=&quot;%C:r.info.what&quot;</pre>

<p>
<a id="pgfId-844373"></a>You can use sweep parameters on the dcmatch analysis to perform sweeps of temperature, parameters, model/instance/subcircuit parameters etc.</p>
<p>
<a id="pgfId-845732"></a>In the following example, the device parameter <code>w</code> of the device x1.mp2 is swept from 15μm to 20μm at each increment of 1μm. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-845733"></a>dcmm6 n3 0 dcmatch mth=0.01 dev=x1.mp2 param=w&#160;&#160; </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-845734"></a>+ start=15e-6 stop=20e-6 step=1e-6 where=rawfile</pre>

<p>
<a id="pgfId-845727"></a>In the following example, a set of analyses is performed on output v(n3,0) by sweeping the device parameter <code>w</code> of the device mp6 from 80μm to 90μm at each increment of 2μm.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-844381"></a>sweep1 sweep dev=mp6 param=w start=80e-6 stop=90e-6 step=2e-6 {</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-844383"></a>dcmm5 n3 0 dcmatch mth=1e-3 where=rawfile</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-844384"></a>}</pre>

<p>
<a id="pgfId-844421"></a>In the following example, temperature is swept from 25°C to 100°C at increment of 25°C.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-844425"></a>dcmm7 n3 0 dcmatch mth=0.01 param=temp&#160;&#160; </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-844427"></a>+ start=25 stop=100 step=25</pre>

<p>
<a id="pgfId-845686"></a>For more information on the dcmatch parameters, see the <em>Spectre Circuit Simulator Reference.</em></p>
<p>
<a id="pgfId-845715"></a>If you run the dcmatch analysis in Analog Design Environment, you can access the output through the Results menu and create a table of mismatch contributors.</p>

<h4>
<a id="pgfId-855202"></a>DC Match Theory</h4>

<p>
<a id="pgfId-855203"></a>Statistical variation of drain current in a MOSFET is modeled by</p>

<p>
<a id="pgfId-856508"></a><img width="114" height="23" src="images/chap7-57.gif" /></p>

<p>
<a id="pgfId-855216"></a>where</p>
<p>
<a id="pgfId-855221"></a><span class="webflare-courier-new" style="white-space:pre"><em>Ids</em></span> is the total drain to source, </p>
<p>
<a id="pgfId-855223"></a><span class="webflare-courier-new" style="white-space:pre"><em>Ids</em></span><code><sub><em>o</em></sub></code> is the nominal current, and </p>
<p>
<a id="pgfId-855226"></a>Δ<span class="webflare-courier-new" style="white-space:pre"><em>Ids</em></span> is the variation in drain to source current due to local device variation.</p>
<p>
<a id="pgfId-855230"></a>If <span class="webflare-courier-new" style="white-space:pre"><em>Vout</em></span> is the output signal of interest, then the variance of <span class="webflare-courier-new" style="white-space:pre"><em>Vout</em></span> due to the <span class="webflare-courier-new" style="white-space:pre"><em>i</em></span><code><sup><em>th</em></sup></code> MOSFET is approximated by</p>

<p>
<a id="pgfId-856525"></a><img width="277" height="41" src="images/chap7-58.gif" /></p>

<p>
<a id="pgfId-855254"></a>The term</p>

<p>
<a id="pgfId-856538"></a><img width="80" height="40" src="images/chap7-59.gif" /></p>

<p>
<a id="pgfId-855920"></a>in the equation above is the sensitivity of the output to the drain to source current and can be efficiently obtained by the dcmatch analysis.</p>

<h4><em>
<a id="pgfId-855277"></a>Mismatch Models</em></h4>

<p>
<a id="pgfId-855287"></a>The term <img width="64" height="23" src="images/chap7-60.gif" /><span> is the variance of the mismatch current in MOSFET transistors. The mismatch in the current is assumed to be due to a mismatch in the threshold voltage (</span><img width="29" height="21" src="images/chap7-61.gif" /><span>) and the mismatch in the width to length ratio (</span><img width="13" height="21" src="images/chap7-62.gif" /><span>). When </span><code>version=0/2</code><span>, it is approximated as:</span></p>
<p>
<a id="pgfId-856564"></a><img width="255" height="60" src="images/chap7-63.gif" /></p>

<p>
<a id="pgfId-855304"></a>where</p>

<p>
<a id="pgfId-856577"></a><img width="114" height="36" src="images/chap7-64.gif" /></p>
<p>
<a id="pgfId-856578"></a><img width="256" height="46" src="images/chap7-65.gif" /></p>
<p>
<a id="pgfId-856579"></a><img width="180" height="46" src="images/chap7-66.gif" /></p>

<p>
<a id="pgfId-855340"></a>Note that <img width="32" height="23" src="images/chap7-67.gif" /><span> is computed at the DC bias solution from the device model equations, the values a, b, c, d and e are the mismatch parameters while </span><img width="18" height="21" src="images/chap7-68.gif" /><span> and </span><img width="13" height="21" src="images/chap7-69.gif" /><span> are device parameters.</span></p>
<p>
<a id="pgfId-869011"></a><img width="256" height="51" src="images/chap7-70.gif" /></p>

<p>
<a id="pgfId-869065"></a>There are several parameters that affect the mismatch model.</p>
<ul><li>
<a id="pgfId-856919"></a><code>mismatchmod</code> specifies the equations to be used for the mismatch model</li><li>
<a id="pgfId-856931"></a><code>mismatchdist</code> is the mismatch distance</li><li>
<a id="pgfId-856934"></a><code>mismatchvec1</code> specifies the mismatch Vth width and length parameters</li><li>
<a id="pgfId-856935"></a><code>mismatchvec2</code> specifies the mismatch Beta width and length parameters</li><li>
<a id="pgfId-856936"></a><code>mismatchvec3</code> specifies the mismatch Vth distance parameter</li><li>
<a id="pgfId-856937"></a><code>mismatchvec4</code> is the mismatch Beta distance parameter</li></ul>





<p>
<a id="pgfId-856724"></a>When <code>mismatchmod</code>=0, the default mismatch equations are used.</p>

<p>
<a id="pgfId-856742"></a><img width="256" height="46" src="images/chap7-71.gif" /></p>
<p>
<a id="pgfId-856788"></a><img width="178" height="51" src="images/chap7-72.gif" /></p>

<p>
<a id="pgfId-856743"></a>When <code>mismatchmod</code>=1, the unified mismatch equations are used.</p>

<p>
<a id="pgfId-856744"></a><img width="235" height="49" src="images/chap7-73.gif" /></p>
<p>
<a id="pgfId-856900"></a><img width="223" height="49" src="images/chap7-74.gif" /></p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-856906"></a>mismatchvec1= [A1, B1, C1, A2, B2, C2, A3 ]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-856901"></a>mismatchvec2 =[X1, Y1, Z1, X2, Y2, Z2, X3 ]</pre>

<p>
<a id="pgfId-857008"></a>When <code>mismatchmod</code>=2, the Pelgrow&#8217;s Law mismatch equations are used.</p>

<p>
<a id="pgfId-856762"></a><img width="133" height="38" src="images/chap7-75.gif" /></p>
<p>
<a id="pgfId-857034"></a><img width="119" height="40" src="images/chap7-76.gif" /></p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-857040"></a>mismatchvec1= [A, B ]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-857041"></a>mismatchvec2= [X, Y ]</pre>

<p>
<a id="pgfId-870528"></a>When <code>mismatchmod</code>=3, the universal mismatch equations are used.</p>

<p>
<a id="pgfId-870532"></a></p>
<div class="webflare-div-image">
<img width="329" height="72" src="images/chap7-77.gif" /></div>
<p>
<a id="pgfId-870536"></a></p>
<div class="webflare-div-image">
<img width="354" height="78" src="images/chap7-78.gif" /></div>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-857055"></a>mismatchvec1= [N, A1, B1, C1, &#8230;, An, Bn, Cn ]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-857056"></a>mismatchvec2= [M, X1, Y1, Z1, &#8230;, Xm, Ym, Zm ]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-857057"></a>mismatchvec3= [R, E1, F1, &#8230;, Er, Fr]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-857058"></a>mismatchvec4= [S, G1, H1, &#8230;, Gs, Hs]</pre>

<p>
<a id="pgfId-856700"></a>The bipolar <img width="51" height="18" src="images/chap7-79.gif" /><span>and the resistor </span><img width="50" height="18" src="images/chap7-80.gif" /><span> are computed for each device provided that the device size, bias point, and mismatch parameters are known.</span></p>
<p>
<a id="pgfId-856704"></a><img width="395" height="47" src="images/chap7-81.gif" /></p>
<p>
<a id="pgfId-865304"></a></p>
<div class="webflare-div-image">
<img width="264" height="81" src="images/chap7-82.gif" /></div>

<p>
<a id="pgfId-856712"></a>where gm0 is <img width="46" height="32" src="images/chap7-83.gif" />
, Ic</p><span>0 is the nominal collector current, and </span>
<span>.</span><h4><em>
<a id="pgfId-860638"></a><a id="78045"></a>Modified MOSFET Mismatch Models </em></h4>

<p>
<a id="pgfId-860639"></a>When <code>version=1/3</code>, the following DC mismatch model is used for BSIM models:</p>

<p>
<a id="pgfId-860643"></a><img width="405" height="71" src="images/chap7-85.gif" /></p>

<p>
<a id="pgfId-860625"></a>where <span class="webflare-courier-new" style="white-space:pre"><em>vth0</em></span> and <span class="webflare-courier-new" style="white-space:pre"><em>u0</em></span> are BSIM model parameters.</p>

<h4>
<a id="pgfId-867264"></a>New Method to Perform DC Match Analysis</h4>

<p>
<a id="pgfId-868054"></a>The existing DC Match analysis simulates the statistical mismatch based on device mismatch models and only supports resistor, BJT, and MOSFET devices.</p>
<p>
<a id="pgfId-868085"></a>Starting with the MMSIM 12.1.1 release, a new parameter <code>method</code> with possible values of <code>standard</code> and <code>statistics</code> has been added in dcmatch analysis. When <code>method</code> is set to <code>statistics</code>, Spectre computes the statistical variation by:</p>
<ol><li>
<a id="pgfId-867302"></a>Computing the sensitivity of the output signal to any parameters.</li><li>
<a id="pgfId-867326"></a>Considering the statistical definitions and computing the <code>sigmaOut</code> as results.</li></ol>

<p>
<a id="pgfId-867375"></a>The syntax for the new <code>method</code> is as follows:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-867416"></a>analysis_name [ (output_node_name)&#160;&#160;] dcmatch method=statistics | standard &#8230;</pre>

<p>
<a id="pgfId-868230"></a>The DC Match analysis prints the sensitivity and sigma output for each statistics parameter, and then prints the one sigma variation for output node <code>OUT</code>.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-868273"></a>**********************************************<br />DC Device Matching Analysis `dcmm&#39; at V(OUT,0)<br />**********************************************</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-868276"></a>DC simulation time: CPU = 1 ms, elapsed = 998.974 us.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-868277"></a>SigmaOut&#160;&#160;      Sensitivity         DesignParameter      Contribution </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-868278"></a>16.52 uV&#160;&#160;      1.168e-05           n_p1_sigma </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-868279"></a>9.866 uV&#160;&#160;      6.97615e-06         n_p2_sigma </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-868280"></a>6.776 uV&#160;&#160;      4.79167e-06         p_p1_sigma </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-868281"></a>858.6 nV&#160;&#160;      -6.07093e-07        p_p2_sigma</pre>

<p>
<a id="pgfId-874004"></a>There are four parameters that contribute zero (or below thresh <code>mth</code>) sensitivity to the output.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-874005"></a>V(OUT,0) = 1.649 V&#160;&#160; +/- 20.42 uV&#160;&#160;(1-sigma total variation)</pre>
<h3>
<a id="pgfId-874012"></a>ACMatch A<a id="acmatch"></a>nalysi<a id="marker-880111"></a>s</h3>

<p>
<a id="pgfId-874030"></a>ACMatch analysis linearizes the circuit about the DC operating point and computes the variations of AC responses due to statistical parameters defined in statistics blocks. Only mismatch parameters are considered. The analysis skips the process parameters.</p>
<p>
<a id="pgfId-874033"></a>ACMatch takes each parameter defined in the statistics blocks and applies variation one at a time to compute the sensitivity of the output signal with respect to the statistical parameter. Based on the sensitivities computed by this procedure, the total variation of the output is computed by adding the variation contributions from each statistical parameter, assuming that the parameters are mutually independent.</p>
<p>
<a id="pgfId-874068"></a>The output result is sorted based on the real part of the output sigma of each parameter (or instance).</p>
<p>
<a id="pgfId-874070"></a>You can specify two or less than two nodes with the ACMatch analysis. If you specify one node, the analysis outputs the AC response on that node. If you specify two nodes, the analysis outputs the difference in AC response between the two nodes.</p>

<h4>
<a id="pgfId-874089"></a>Model Definition</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-874099"></a>name node1 [node2] acmatch parameter=value...</pre>
<h4>
<a id="pgfId-874118"></a>Examples of Analysis</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-874139"></a>acmm OUTP acmatch start=1k stop=100G dec=1 where=rawfile groupby=inst</pre>

<p>
<a id="pgfId-874140"></a>The following statement investigates the 1-sigma ac variation on output <code>v(OUTP)</code>. The sweep points have been specified at 1k and 100G and the total sigma of each contributor is grouped by instance name. The results are saved in a psf file.</p>
<p>
<a id="pgfId-874131"></a>Following is the output generated by the ACMatch analysis:</p>

<p>
<a id="pgfId-874168"></a></p>
<div class="webflare-div-image">
<img width="668" height="374" src="images/chap7-86.gif" /></div>

<p>
<a id="pgfId-874264"></a>Following is the output generated by ACMatch analysis, grouped by parameter names:</p>

<p>
<a id="pgfId-880251"></a></p>
<div class="webflare-div-image">
<img width="668" height="445" src="images/chap7-87.gif" /></div>

<p>
<a id="pgfId-880253"></a>For more information on ACMatch Analysis, refer to the <em><a actuate="user" class="URL" href="../spectreref/chap3.html#acmatch" show="replace" xml:link="simple"> ACMatch Analysis</a></em> section in the <em>Spectre Circuit Simulator Reference</em> manual</p>

<h3>
<a id="pgfId-874007"></a>Stability Analysis<a id="stability"></a></h3>

<p>
<a id="pgfId-855279"></a>The loop-based and device-based algorithms are available in the Spectre circuit simulator for small-signal stability analysis. Both are based on the calculation of Bode&#8217;s return ratio. The analysis output are loop gain waveform, gain margin, and phase margin.</p>

<h4>
<a id="pgfId-844543"></a>Model Definition</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-844563"></a><code><em>name</em></code> stb <code><em>parameter=value</em></code> ...</pre>
<h4>
<a id="pgfId-844570"></a>Examples of the <code>stb</code> command</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-844571"></a>stbloop stb start=1.0 stop=1e12 dec=10 probe=Iprobe</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-844574"></a>stbdev stb start=1.0 stop=1e12 dec=10 probe=mos1</pre>

<p>
<a id="pgfId-844545"></a>The analysis parameters are similar to the small-signal ac analysis except for the probe parameter, which must be specified to perform stability analysis. When the <code>probe</code> parameter points to a current probe or voltage source instance, the loop based algorithm will be invoked; when it points to a supported active device instance, the device based algorithm will be invoked.</p>
<p>
<a id="pgfId-844550"></a>The gain margin and phase margin are automatically determined from the loop gain waveform by detecting zero-crossing in the gain plot and phase plot. If margins cannot be determined for a particular stability analysis, a log file displays the corresponding reason.</p>

<h4>
<a id="pgfId-844583"></a>Loop-Based Algorithm</h4>

<p>
<a id="pgfId-844584"></a>The loop-based algorithm is based on considering the feedback loop as a lumped model with normal and reverse loop transmission. It calculates the true loop gain, which consists of normal loop gain and reverse loop gain. Stability analysis approaches for low-frequency applications assume that signal flows unilaterally through the feedback loop, and they use the normal loop gain to assess the stability of the design. However, the true loop gain provides more accurate stability information for applications involving significant reverse transmission.</p>
<p>
<a id="pgfId-844585"></a>You can place a probe component (current probe or zero-DC-valued voltage source) on the feedback loop to identify the loop of interest. The probe component does not change any of the circuit characteristics, and there is no special requirement on the polarity configuration of the probe component.</p>
<p>
<a id="pgfId-844586"></a>The loop-based algorithm provides accurate stability information for single-loop circuits and multi-loop circuits in which a probe component can be placed on a critical wire to break all loops. For a multi-loop circuit in which such a wire may not be available, the loop based algorithm can be performed only on individual feedback loops to ensure they are stable. Although the stability of all feedback loops is only a necessary condition for the whole circuit to be stable, the multi-loop circuit tends to be stable if all individual loops are associated with reasonable stability margins.</p>

<h4>
<a id="pgfId-858791"></a>Stability <a id="stabilityanalysisdiffcircuit"></a>Analysis of Differential Circuit with Loop-based Algorithm</h4>

<p>
<a id="pgfId-858792"></a>For the multi-loop circuits, such as differential feedback circuit, a differential stability probe (<code>diffstbprobe</code>) should be inserted to perform the stability analysis by breaking all the feedback loops.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-876916"></a>It is recommended to use <code>diffstbprobe</code> instead of <code>cmdmprobe</code> for multi-loop circuits.</div>
<p>
<a id="pgfId-858779"></a>In ADE schematic, you can select the differential probe named as diffstbprobe in analogLib, see Figure <a href="chap7.html#64141">10-1</a>.</p>

<p><strong>Figure 10-1
<a id="pgfId-858804"></a><a id="64141"></a>Differential stb probe in analogLib</strong></p>
<p>
<a id="pgfId-858814"></a></p>
<div class="webflare-div-image">
<img width="670" height="344" src="images/chap7-88.gif" /></div>

<p>
<a id="pgfId-858851"></a>With that component of diffstbprobe, there are four nodes defined as<br /><code>Istbprobe</code> (<code>IN1 IN2 OUT1 OUT2</code>) <code>diffstbprobe</code></p>
<p>
<a id="pgfId-858843"></a>Figure <a href="chap7.html#75240">10-2</a> shows how to connect the probe to the differential circuit.</p>

<p><strong>Figure 10-2
<a id="pgfId-858863"></a><a id="75240"></a>Differential feedback circuit</strong></p>
<p>
<a id="pgfId-858873"></a></p>
<div class="webflare-div-image">
<img width="670" height="286" src="images/chap7-89.gif" /></div>
<h4><em>
<a id="pgfId-858950"></a>Example of differential mode:</em></h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-858951"></a>stbloop stb start=1 stop=10G probe= Istbprobe.IPRB_DM</pre>
<h4>
<a id="pgfId-844878"></a>The analysis parameter of probe has to specify as IPRB_DM of a probe instance for differential circuit.</h4>
<h4>
<a id="pgfId-858936"></a>Device Based Algorithm</h4>

<p>
<a id="pgfId-844879"></a>The device-based algorithm produces accurate stability information for circuits in which a critical active device can be identified such that nulling the dominant gain source of this device renders the whole network to be passive. Examples are multistage amplifier, single-transistor circuit, and S-parameter characterized microwave component. </p>
<p>
<a id="pgfId-845602"></a>This algorithm is often applied to assess the stability of circuit design in which local feedback loops cannot be neglected; the loop-based algorithm cannot be performed for these applications because the local feedback loops are inside the devices and are not accessible from the schematic level or netlist level to insert the probe component.</p>
<p>
<a id="pgfId-845486"></a>The supported active device and its dominant gain source are summarized in the table below.</p>
<table class="webflareTable" id="#id845487">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<p>
<a id="pgfId-845489"></a>Component</p>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<p>
<a id="pgfId-845491"></a>Dominant Controlled Source</p>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<p>
<a id="pgfId-845493"></a>Description</p>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-845495"></a>b3soipd</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-845497"></a>gm</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-845499"></a>Common-source transconductance</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-845501"></a>bjt</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-845503"></a>gm</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-845505"></a>Common-emitter transconductance</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-845507"></a>bsim1,2,3,3v3</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-845509"></a>gm</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-845511"></a>Common-source transconductance</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-845513"></a>btasoi</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-845515"></a>gm</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-845517"></a>Common-source transconductance</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-845519"></a>cccs</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-845521"></a>gain</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-845523"></a>Current gain</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-845525"></a>ccvs</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-845527"></a>rm</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-845529"></a>Transresistance</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-845531"></a>ekv</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-845533"></a>gm</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-845535"></a>Common-source transconductance</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-845537"></a>gaas</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-845539"></a>gm</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-845541"></a>Common-source transconductance</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-845543"></a>hbt</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-845545"></a>dice_dvbe</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-845547"></a>Intrinsic dIce/dVbe</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-845549"></a>hvmos</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-845551"></a>gm</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-845553"></a>Common-source transconductance</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-845555"></a>jfet</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-845557"></a>gm</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-845559"></a>Common-source transconductance</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-845561"></a>mos0,1,2,3</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-845563"></a>gm</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-845565"></a>Common-source transconductance</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-845567"></a>tom2</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-845569"></a>gm</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-845571"></a>Common-source transconductance</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-845573"></a>vbic</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-845575"></a>dic_dvbe</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-845577"></a>Intrinsic dIc/dVbe</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-845579"></a>vccs</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-845581"></a>gm</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-845583"></a>Transconductance</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-845585"></a>vcvs</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-845587"></a>gain</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-845589"></a>Voltage gain</p>
</td>
</tr>
</tbody></table>
<p>
<a id="pgfId-844695"></a>In general, the stability information produced by the device-based algorithm can be used to assess the stability of that particular device. Most often, a feedback network consists of a global feedback loop and numerous nested local loops around individual transistors. The loop-based algorithm can determine the stability of the whole network as long as all nested loops are stable, while the device-based algorithm can be used to ensure all local loops are stable.</p>
<p>
<a id="pgfId-881339"></a>For more information on the stability analysis parameters, see the <em>Spectre Circuit Simulator Reference.</em></p>

<h2>
<a id="pgfId-840870"></a><a id="20862"></a>Advanced Analyses (sweep and montecarlo)</h2>

<p>
<a id="pgfId-840871"></a>There are two advanced analyses: <code>sweep</code> and <code>montecarlo</code>.</p>

<h3>
<a id="pgfId-841521"></a><a id="32694"></a>Swee<a id="marker-977365"></a>p <a id="sweep"></a>Analysis</h3>

<p>
<a id="pgfId-841522"></a>The <code>sweep</code> analysis sweeps a parameter processing a list of analyses (or multiple analyses) for each value of the parameter.</p>
<p>
<a id="pgfId-841523"></a>The sweeps can be linear or logarithmic. Swept parameters return to their original values after the analysis. However, certain other analyses also allow you to sweep a parameter while performing that analysis. For more details, check <code>spectre -h</code> for each of the following analyses. The following table shows you which parameters you can sweep with different analyses.</p>
<table class="webflareTable" id="#id841524">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id841526">
<a id="pgfId-841526"></a></span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id841528">
<a id="pgfId-841528"></a>Time</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id841530">
<a id="pgfId-841530"></a> TEMP</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id841532">
<a id="pgfId-841532"></a>FREQ</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id841534">
<a id="pgfId-841534"></a>A component
instance 
parameter</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id841536">
<a id="pgfId-841536"></a>A component 
model
parameter</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id841538">
<a id="pgfId-841538"></a>A netlist parameter</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841540"></a>DC analysis (<code>dc</code>)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841542"></a>  </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id849102">
<a id="pgfId-849102"></a>•
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841546">
<a id="pgfId-841546"></a> 
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841548">
<a id="pgfId-841548"></a>•
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841550">
<a id="pgfId-841550"></a>•
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841552">
<a id="pgfId-841552"></a>•
</cell-cent-fg-></td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841554"></a>AC analysis (<code>ac</code>)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841556"></a>  </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841558">
<a id="pgfId-841558"></a>•
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841560">
<a id="pgfId-841560"></a>•
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841562">
<a id="pgfId-841562"></a>•
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841564">
<a id="pgfId-841564"></a>•
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841566">
<a id="pgfId-841566"></a>•
</cell-cent-fg-></td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841568"></a>Noise analysis (<code>noise</code>)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841570"></a>    </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841572">
<a id="pgfId-841572"></a>•
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841574">
<a id="pgfId-841574"></a>•
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841576">
<a id="pgfId-841576"></a>•
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841578">
<a id="pgfId-841578"></a>•
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841580">
<a id="pgfId-841580"></a>•
</cell-cent-fg-></td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841582"></a>S-parameter<br />analysis (<code>sp</code>)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841584"></a>   </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841586">
<a id="pgfId-841586"></a>•
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841588">
<a id="pgfId-841588"></a>•
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841590">
<a id="pgfId-841590"></a>•
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841592">
<a id="pgfId-841592"></a>•
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841594">
<a id="pgfId-841594"></a>•
</cell-cent-fg-></td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841596"></a>Transfer function<br />analysis (<code>xf</code>)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841598"></a>  </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841600">
<a id="pgfId-841600"></a>•
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841602">
<a id="pgfId-841602"></a>•
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841604">
<a id="pgfId-841604"></a>•
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841606">
<a id="pgfId-841606"></a>•
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841608">
<a id="pgfId-841608"></a>•
</cell-cent-fg-></td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841610"></a>Transient analysis (<code>tran</code>)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841612">
<a id="pgfId-841612"></a>•
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841614">
<a id="pgfId-841614"></a>  
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841616">
<a id="pgfId-841616"></a>  
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841618">
<a id="pgfId-841618"></a>  
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841620">
<a id="pgfId-841620"></a>  
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841622">
<a id="pgfId-841622"></a>  
</cell-cent-fg-></td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841624"></a>Time-domain reflectometer analysis (<code>tdr</code>)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841626">
<a id="pgfId-841626"></a>•
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841628">
<a id="pgfId-841628"></a>  
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841630">
<a id="pgfId-841630"></a>  
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841632">
<a id="pgfId-841632"></a>  
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841634">
<a id="pgfId-841634"></a>  
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841636">
<a id="pgfId-841636"></a>  
</cell-cent-fg-></td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841638"></a>Periodic steady state analysis (<code>pss</code>)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841640">
<a id="pgfId-841640"></a>•
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841642">
<a id="pgfId-841642"></a>  
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841644">
<a id="pgfId-841644"></a>  
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841646">
<a id="pgfId-841646"></a>  
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841648">
<a id="pgfId-841648"></a>  
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841650">
<a id="pgfId-841650"></a>  
</cell-cent-fg-></td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841652"></a>Periodic AC analysis (<code>pac</code>)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841654"></a>  </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841656">
<a id="pgfId-841656"></a>   
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841658">
<a id="pgfId-841658"></a>•
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841660">
<a id="pgfId-841660"></a>  
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841662">
<a id="pgfId-841662"></a>  
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841664">
<a id="pgfId-841664"></a>  
</cell-cent-fg-></td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841666"></a>Periodic transfer function analysis (<code>pxf</code>)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841668"></a>  </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841670">
<a id="pgfId-841670"></a>  
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841672">
<a id="pgfId-841672"></a>•
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841674">
<a id="pgfId-841674"></a>  
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841676">
<a id="pgfId-841676"></a>  
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841678">
<a id="pgfId-841678"></a>  
</cell-cent-fg-></td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841680"></a>Periodic noise analysis (<code>pnoise</code>)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841682"></a>  </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841684">
<a id="pgfId-841684"></a>  
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841686">
<a id="pgfId-841686"></a>•
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841688">
<a id="pgfId-841688"></a>  
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841690">
<a id="pgfId-841690"></a>  
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841692">
<a id="pgfId-841692"></a>  
</cell-cent-fg-></td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841694"></a>Envelope-following analysis (<code>envlp</code>)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841696"></a>•</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841698">
<a id="pgfId-841698"></a>  
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841700">
<a id="pgfId-841700"></a>  
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841702">
<a id="pgfId-841702"></a>  
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841704">
<a id="pgfId-841704"></a>  
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841706">
<a id="pgfId-841706"></a>  
</cell-cent-fg-></td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841708"></a>Sweep analysis (<code>sweep</code>)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841710"></a>  </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841712">
<a id="pgfId-841712"></a>•
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841714">
<a id="pgfId-841714"></a>  
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841716">
<a id="pgfId-841716"></a>•
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841718">
<a id="pgfId-841718"></a>•
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id841720">
<a id="pgfId-841720"></a>•
</cell-cent-fg-></td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-844453"></a>DC Match Analysis (<code>dcmatch</code>)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-844471"></a>  </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id844473">
<a id="pgfId-844473"></a>•
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id844475">
<a id="pgfId-844475"></a> 
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id844477">
<a id="pgfId-844477"></a>•
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id844479">
<a id="pgfId-844479"></a>•
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id844481">
<a id="pgfId-844481"></a>•
</cell-cent-fg-></td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-844503"></a>Stability Analysis (<code>stb</code>)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-844517"></a>  </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id844519">
<a id="pgfId-844519"></a>•
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id844533">
<a id="pgfId-844533"></a>•
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id844523">
<a id="pgfId-844523"></a>•
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id844525">
<a id="pgfId-844525"></a>•
</cell-cent-fg-></td>
<td class="webflareTd" colspan="1" rowspan="1">
<cell-cent-fg- id="#id844527">
<a id="pgfId-844527"></a>•
</cell-cent-fg-></td>
</tr>
</tbody></table>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-841722"></a>To generate transf<a id="marker-841721"></a><a id="marker-843665"></a>er curves with the DC analysis, specify a parameter and a sweep range. If you specify the <code>oppoint</code><a id="marker-841723"></a> parameter for a DC analysis, the Spectre simulator computes the linearized model for each nonlinear component. If you specify both a DC sweep and an operating point, the operating point information is generated for the last point in the sweep.</div>

<h4>
<a id="pgfId-841724"></a>Setting Up Parameter Sweeps</h4>

<p>
<a id="pgfId-841725"></a>To specify a parameter sweep, you must identify the component or circuit parameter you want to sweep and the sweep limits in an analysis statement. A parameter you sweep can be circuit temperature, a device instance parameter, a device model parameter, a netlist parameter, or a subcircuit parameter for a particular subcircuit instance.</p>
<p>
<a id="pgfId-841726"></a>Within the <code>sweep</code> analysis only, you specify child analyses statements. These statements must be bound with braces. The opening brace is required at the end of the line defining the sweep.</p>

<h4><em>
<a id="pgfId-841728"></a>Specifying the Parameter You Want to Sweep<a id="marker-841727"></a></em></h4>

<p>
<a id="pgfId-841729"></a>You specify the components and parameters you want to sweep with the following parameters:</p>
<table class="webflareTable" id="#id841730">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id841732">
<a id="pgfId-841732"></a>Parameter</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id841734">
<a id="pgfId-841734"></a>Description</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841737"></a><code>dev</code><a id="marker-841736"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841739"></a>The name of an instance whose parameter value you want to sweep</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841742"></a><code>sub</code><a id="marker-841741"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841744"></a>The name of the subcircuit instance whose parameter value you want to sweep</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841747"></a><code>mod</code><a id="marker-841746"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841749"></a>The name of a model whose parameter value you want to sweep</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841752"></a><code>param</code><a id="marker-841751"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841754"></a>The name of the component parameter you want to sweep</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841757"></a><code>freq</code><a id="marker-841756"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841759"></a>For analyses that normally sweep frequency (small-signal analyses such as <code>ac</code>), if you sweep some parameter other than frequency, you must still specify a fixed frequency value for that analysis using the <code>freq</code> parameter</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841762"></a><code>paramset</code><a id="marker-841761"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841764"></a>For the <code>sweep</code> analysis only; allows sweeping of multiple parameters defined by the <code>paramset</code> statement</p>
</td>
</tr>
</tbody></table>
<p>
<a id="pgfId-841765"></a>For all analyses that support sweeping, to sweep the circuit temperature, use <code>param=temp</code><a id="marker-841766"></a><a id="marker-843621"></a> with no <code>dev</code>, <code>mod</code>, or <code>sub</code> parameter. You can sweep a top-level netlist parameter by giving the parameter name with no <code>dev</code>, <code>mod</code>, or <code>sub</code> parameter. You can sweep a subcircuit parameter for a particular subcircuit instance by specifying the subcircuit instance name with the <code>sub</code> parameter and the subcircuit parameter name with the <code>param</code> parameter. You can do the same thing for a particular device instance by using <code>dev</code> for the device instance name or for a particular model by using <code>mod</code> for the device model name.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-841767"></a>If frequency is a sweep option for an analysis, the Spectre simulator sweeps frequency if you leave <code>dev</code>, <code>mod</code>, and <code>param</code> unspecified. That is, frequency is the default swept parameter for that analysis.</div>

<h4><em>
<a id="pgfId-841769"></a><a id="64060"></a>Specifying Parameter Sets You Want to Sweep<a id="marker-841768"></a></em></h4>

<p>
<a id="pgfId-841771"></a>For the <code>sweep</code> analysis only, the <code>paramset</code><a id="marker-841770"></a> statement allows you to specify a list of parameters and their values. This can be referred by a <code>sweep</code> analysis to sweep the set of parameters over the values specified. For each iteration of the sweep, the netlist parameters are set to the values specified by a row. The values have to be numbers, and the parameters&#8217; names have to be defined in the input file (netlist) before they are used. The <code>paramset</code> statement is allowed only in the top level of the input file.</p>
<p>
<a id="pgfId-841772"></a>The following is the syntax for the <code>paramset</code> statement:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-849117"></a><code><em>Name</em></code> paramset {
&#160;&#160;&#160;&#160;<code><em>list of netlist parameters<br /></em></code> <code><em>list of values foreach netlist parameter<br /></em></code> <code><em>list of values foreach netlist parameter</em></code> ...<br />}</pre>

<p>
<a id="pgfId-841774"></a>Here is an example of the <code>paramset</code> statement:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-841775"></a>parameters p1=1 p2=2 p3=3
data paramset {
&#160;&#160;&#160;&#160;p1 p2 p3
&#160;&#160;&#160;&#160;5  5  5
&#160;&#160;&#160;&#160;4  3  2<br />}</pre>

<p>
<a id="pgfId-841776"></a>Combining the <code>paramset</code> statement with the <code>sweep</code> analysis allows you to sweep multiple parameters simultaneously, for example, power supply voltage and temperature.</p>

<h4><em>
<a id="pgfId-841779"></a>Setting Swe<a id="marker-841777"></a>ep Limits</em></h4>

<p>
<a id="pgfId-841780"></a>For all analyses that support sweeping, you specify the sweep limits with the parameters in the following table:</p>
<table class="webflareTable" id="#id841781">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id841783">
<a id="pgfId-841783"></a>Parameter</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id841785">
<a id="pgfId-841785"></a>Value</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id841787">
<a id="pgfId-841787"></a>Comments</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841790"></a><code>start<br />stop</code><a id="marker-841789"></a><a id="marker-843651"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841792"></a>Start of sweep value (Default=0)<br />End of sweep value</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841794"></a><code>start</code> and <code>stop</code> are used together to specify sweep limits.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841797"></a><code>center<br />span</code><a id="marker-841796"></a><a id="marker-843525"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841799"></a>Center value of sweep<br />Span of sweep (Default=0)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841801"></a><code>center</code> and <code>span</code> are used together to specify sweep limits.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841804"></a><code>step<br />lin</code><a id="marker-841803"></a><a id="marker-843653"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841806"></a>Step size for linear sweeps<br />Number of steps for linear sweeps (Default is 50)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841808"></a><code>step</code> and <code>lin</code> are used to specify linear sweeps.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841811"></a><code>dec<br />
log</code><a id="marker-841810"></a><a id="marker-843533"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841813"></a>Number of points per decade for log sweeps<br />Number of steps for logarithmic sweeps (default is 50)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841815"></a><code>dec</code> and <code>log</code> are used to specify logarithmic sweeps.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841818"></a><code>values</code><a id="marker-841817"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841820"></a>Array of sweep values</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-841822"></a><code>values</code> specifies each sweep value with a vector of values.</p>
</td>
</tr>
</tbody></table>
<p>
<a id="pgfId-841823"></a>If you do not specify the step size, the sweep is linear when the ratio of the stop to the start values is less than 10 and logarithmic when this ratio is 10 or greater. If you specify sweep limits and a values array, the points for both are merged and sorted.</p>

<h4>
<a id="pgfId-841826"></a>Examples <a id="marker-841824"></a>of Parameter Sweep Requests</h4>

<p>
<a id="pgfId-841827"></a>This <code>sweep</code> statement uses braces to bound the child analyses statements.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-876638"></a>swp sweep param=temp values=[-50 0 50 100 125] {
&#160;&#160;&#160;&#160;oppoint dc oppoint=logfile<br />}</pre>

<p>
<a id="pgfId-876640"></a>This statement specifies a lin<a id="marker-876639"></a>ear sweep of frequencies from 0 to 0.3 MHz with 100 steps.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-876641"></a>Sparams sp stop=0.3MHz lin=100 </pre>

<p>
<a id="pgfId-841832"></a>The previous statement could be written like this and achieve the same result.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-841833"></a>Sparams sp center=0.15MHz span=0.3MHz lin=100 </pre>

<p>
<a id="pgfId-841835"></a>This statement specifies a logari<a id="marker-841834"></a>thmic sweep of frequencies from 1 kHz through 1 GHz with 10 steps per decade.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-841836"></a>cmLoopGain ac start=1k stop=1G dec=10</pre>

<p>
<a id="pgfId-841837"></a>This statement is identical to the previous one except that the number of steps is set to 55.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-841838"></a>cmLoopGain ac start=1k stop=1G log=55</pre>

<p>
<a id="pgfId-841840"></a>This statement specifies a linear sweep of te<a id="marker-841839"></a>mperatures from 0 to 50 degrees in 1-degree steps. The frequency for the analysis is 1 kHz.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-841841"></a>XferVsTemp xf start=0 stop=50 step=1 probe=Rload param=temp freq=1kHz</pre>

<p>
<a id="pgfId-841844"></a>This statement uses a vector to specify sweep values for device <code>Vcc</code>. The values specified for the sweep are 0, 2, 6, 7, 8 and 10.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-841845"></a>SwpVccDC dc dev=Vcc values=[0 2 6 7 8 10]</pre>
<h4>
<a id="pgfId-871741"></a>Distribu<a id="distributed_sweep"></a>ted Sweep</h4>

<p>
<a id="pgfId-871755"></a>You can use the <code>distribute</code> option with the sweep statement to distribute a sweep analysis to further speed up the run time for sweep analysis by using more computer cores across multiple computers. You can use the <code>distribute</code> option with possible values of <code>fork</code>, <code>rsh</code>, <code>ssh</code>, <code>lsf</code>, and <code>sge</code> to specify the method to be used to launch the child processes. In addition, you can use the <code>numprocesses</code> option to specify the number of child processes to be launched for each job.</p>
<p>
<a id="pgfId-871859"></a>In distributed sweep analysis, the master process splits the job into the number of tasks specified using the <code>numprocesses</code> option. Each subtask is simulated into its own child subprocess. Once a child process is completed, the results are returned and the master process merges the results including the raw files.</p>
<p>
<a id="pgfId-871879"></a>For rsh and ssh methods, you also need to specify the list of hosts to be used for the subprocesses using the <code>+hosts</code> command-line option.</p>
<p>
<a id="pgfId-871872"></a>For LSF and SGE methods, you need to use the <code>bsub</code> and <code>qsub</code> options respectively, to submit the job requests.</p>
<p>
<a id="pgfId-872690"></a>If any of the child process fails and you still want to have a scalar file by combining the distributed sweep results, you can set the following environment variable:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-872703"></a>setenv CDS_MMSIM_DISTRIBUTED_SWEEP_MERGE_RESULTS_ONLY</pre>

<p>
<a id="pgfId-874384"></a>If a sweep analysis is defined in the netlist and the <code>+mp &lt;</code><span class="webflare-courier-new" style="white-space:pre"><em>numprocesses</em></span><code>&gt;</code> command-line option is used, Spectre automatically detects the farm environment (LSF, SGE, RTDA, or Network Computer) and distributes the sweep analysis to the specified number of child processes. If a farm environment is not detected, Spectre uses the <code>fork</code> option to distribute a sweep analysis by creating multiple jobs on a single system.</p>

<h3>
<a id="pgfId-831396"></a><a id="39422"></a>Mon<a id="marker-831419"></a>te Car<a id="montecarlo"></a>lo Analysis</h3>

<p>
<a id="pgfId-836612"></a>The <code>montecarlo</code> analysis is a swept analysis with associated child analyses similar to the <code>sweep</code> analysis (see <code>spectre -h sweep</code>). The Monte Carlo analysis refers to &#8220;statistics blocks&#8221; where statistical distributions and correlations of netlist parameters are specified. (Detailed information on statistics blocks is given in <a href="chap7.html#31074">Specifying Parameter Distributions Using Statistics Blocks</a><a id="marker-838939"></a>.) For each iteration of the Monte Carlo analysis, new pseudorandom values are generated for the specified netlist parameters (according to their specified distributions) and the list of child analyses are then executed. </p>
<p>
<a id="pgfId-836621"></a>The Cadence design environment Monte Carlo option allows for scalar measurements to be linked with the Monte Carlo analysis. Calculator expressions are specified that can be used to measure circuit output or performance values (such as the slew rate of an operational amplifier). During a Monte Carlo analysis, these measurement statement results vary as the netlist parameters vary for each Monte Carlo iteration and are stored in a scalar data file for postprocessing. By varying netlist parameters and evaluating these measurement statements, the Monte Carlo analysis becomes a tool that allows you to examine and predict circuit performance variations that affect yield. </p>
<p>
<a id="pgfId-836705"></a>The statistics blocks allow you to specify batch-to-batch (process) and per- instance (mismatch) variations for netlist parameters. These statistically varying netlist parameters can be referenced by models or instances in the main netlist and can represent IC manufacturing process variation or component variations for board-level designs. The following description gives a simplified example of the Monte Carlo analysis flow: </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-836708"></a>perform nominal run if requested <br />if any errors in nominal run then stop </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-845853"></a>for each Monte Carlo iteration { <br />  if process variations specified then <br />    apply &#8220;process&#8221; variation to parameters <br />  if mismatch variations specified then <br />    for each subcircuit instance { <br />      apply &#8220;mismatch&#8221; variation to parameters<br />  } <br />  for each child analysis { <br />   run child analysis <br />      evaluate any <code>export</code> statements and<br />      store results in a scalar data file <br />  } <br />} </pre>

<p>
<a id="pgfId-836727"></a>The following is the syntax for the Monte Carlo analysis:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-849144"></a><code><em>Name</em></code> montecarlo <code><em>parameter</em></code>=<code><em>value</em></code> ... {
&#160;&#160;&#160;&#160;<code><em>analysis statements</em></code> ...
&#160;&#160;&#160;&#160;<code><em>export statements</em></code> ...<br />}</pre>

<p>
<a id="pgfId-836610"></a>The Monte Carlo analysis</p>
<ul><li>
<a id="pgfId-832904"></a>Refers to the statistics block(s) for how and which netlist parameters to vary</li><li>
<a id="pgfId-833365"></a>Generates statistical variation (random numbers according to the specified distributions)</li><li>
<a id="pgfId-833366"></a>Runs the specified child analyses (similar to the Spectre nested sweep analysis), where the child analyses are either<ul><li>
<a id="pgfId-833368"></a>Multiple data-producing child analyses (such as DC or AC analyses)</li><li>
<a id="pgfId-832939"></a>A single sweep child analysis, which itself has child analyses</li></ul></li><li>
<a id="pgfId-832911"></a>Calculates the export quantities<br />
<a id="pgfId-832942"></a>Each Monte Carlo run processes <code>export</code> statements that implicitly refer to the result of the child analyses. These statements calculate scalar circuit output values for performance characteristics, such as slew rate.</li><li>
<a id="pgfId-832912"></a>Organizes the export data appropriately<br />
<a id="pgfId-832924"></a>Scalar data, such as bandwidth or slew rate, is calculated from an <code>export</code> statement and saved to an ASCII file, which can be used later for plotting a histogram or scattergram. </li><li>
<a id="pgfId-836463"></a>After the Monte Carlo analysis is complete, all parameters are returned to their original values. </li></ul>










<h4>
<a id="pgfId-860765"></a>Monte Car<a id="marker-860763"></a>lo Analysis Parameters</h4>

<p>
<a id="pgfId-860860"></a>You use the following parameters for Monte Carlo analysis.</p>

<h4>
<a id="pgfId-861138"></a>Analysis Parameters</h4>
<p>
<a id="pgfId-861830"></a></p>
<table class="webflareTable" id="#id860766">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id860768">
<a id="pgfId-860768"></a>Parameter</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id860770">
<a id="pgfId-860770"></a>Description</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-860773"></a><code>numruns=100</code><a id="marker-860772"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-860869"></a>Number of Monte Carlo iterations to perform (not including nominal).</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-860778"></a><code>firstrun=1</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-860780"></a>Starting iteration number.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-883856"></a>runpoints=[...]</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-883858"></a>Specifies the iteration indices to be simulated. Two types of settings are accepted; integers and ranges. For example, runpoints=[10 range(15, 18) 20] is an acceptable setting. It specifies that simulation needs to be performed for the 10th, 15th, 16th, 17th, 18th, and 20th iterations. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-860785"></a><code>variations=process</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-860787"></a>Level of statistical variation to apply. Possible values are <code>process</code>, <code>mismatch</code>, or <code>all</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-860790"></a><code>sampling=standard</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-860792"></a>Method of statistical sampling to apply. Possible values are <code>standard</code>, <code>lhs</code>, <code>lds</code>, or <code>orthogonal</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-860795"></a><code>numbins=0</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-860797"></a>Number of bins for lhs (latin-hypercube) method. The number is checked against numruns + firstrun - 1, and Max( numbins, numruns + firstrun -1 ) is used for the lhs.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-860800"></a><code>seed</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-860802"></a>Optional starting seed for random number generator.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-860805"></a><code>scalarfile</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-860807"></a>Output file that will contain output scalar data.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-860810"></a><code>paramfile</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-860812"></a>Output file that will contain output scalar data labels.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-860815"></a><code>dut=[...]</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-860818"></a>If set, then the specified subcircuit or device instances will have process and mismatch variations applied, the unspecified instances will only have process variations applied. All subcircuits or devices instantiated under this instance will also have process and mismatch variations enabled. By default, mismatch variation is applied to all subcircuit or device instances in the design and process is applied globally. This parameter allows the testbench to change and not affect the variations seen by the actual design.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-861114"></a><code>ignore=[...]</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-861116"></a>If set, no variation is applied to the specified subcircuit or device instance(s). All subcircuits or devices instantiated under this instance will also have no variation enabled. By default, mismatch is applied to all subcircuit or device instances in the design and process is applied globally.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-867014"></a>dutparams<code>=[...]</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-867016"></a>If set, only the specified statistical parameters have process and mismatch variations applied.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-867018"></a>ignoreparams=[...]</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-867020"></a>If set, the specified statistical parameters are excluded from applying process and mismatch variation.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-865398"></a>accuracyaware=summary</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-865482"></a>Specifies the mode of runtime monitoring and early termination of a Monte Carlo simulation. Possible values are: </p>
<p>
<a id="pgfId-865483"></a><code>summary</code> - Prints the summary statistics in the Spectre log file only at the end of Monte Carlo simulation.</p>
<p>
<a id="pgfId-865484"></a><code>iteration</code> - Prints the statistics of measurements in the Spectre log file after each step of the Monte Carlo analysis.</p>
<p>
<a id="pgfId-865464"></a><code>autostop</code> - Terminates the simulation based on the criteria specified using the <code>minmaxpairs</code> and <code>smooththresh</code> options. </p>
<p>
<a id="pgfId-865503"></a>When you specify <code>accuracyaware=autostop</code>, you must also specify the <code>minmaxpairs [ x1_min x1_max....]</code> option, which defines pairs of values that correspond to <code>oceanEval</code> expression defined in the Monte Carlo statement.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-866666"></a>minmaxpairs [...]</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-866668"></a>Pairs of values that are used to specify the <code>min</code> and <code>max</code> measurements defined in ocean expressions. The simulation is terminated when the current iteration generates a measurement that resides outside the region of [<code>min</code> <code>max</code>]. It is not necessary that the number of pairs is equal to the number of measurements. However, each pair must be aligned with the corresponding ocean measurement. Extra number of pairs are ignored when the simulation is terminated. This parameter is active only when the <code>acurracyaware</code> parameter is set to <code>autostop</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-866725"></a>smooththresh=0.0</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-866727"></a>Specifies the smoothness threshold of an ocean measurement. The average takes place within consecutive non-overlapping 200 iteration windows. The recommended value is 1e-4 for a reasonably converged signal average. This parameter is active only when the <code>accuracyaware</code> parameter is set to <code>autostop</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-866747"></a>method=standard</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-866749"></a>Method used to run the Monte Carlo analysis. Possible values are:</p>
<p>
<a id="pgfId-866752"></a><code>standard</code>: Runs the standard Monte Carlo analysis.</p>
<p>
<a id="pgfId-866763"></a><code>VADE</code>: Runs Monte Carlo analysis on a variation-aware design with varying device parameters.</p>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-861216"></a>Saving Process Parameters</h4>
<p>
<a id="pgfId-883861"></a></p>
<table class="webflareTable" id="#id861170">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id861172">
<a id="pgfId-861172"></a>Parameter</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id861174">
<a id="pgfId-861174"></a>Description</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-861177"></a><code>saveprocessparams</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-861179"></a>Whether or not to save scalar data for statistically varying process parameters which are subject to process variation. Possible values are no or yes.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-861181"></a><code>processscalarfile</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-861183"></a>Output file that will contain process parameter scalar data.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-861185"></a><code>processparamfile</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-861187"></a>Output file that will contain process parameter scalar data labels.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-861189"></a><code>saveprocessvec=[...]</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-861191"></a>Array of statistically varying process parameters (which are subject to process variation) to save as scalar data in `processscalarfile&#39;.</p>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-861844"></a>Saving Mismatch Parameters</h4>
<p>
<a id="pgfId-883893"></a></p>
<table class="webflareTable" id="#id883897">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id883899">
<a id="pgfId-883899"></a>Parameter</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id883901">
<a id="pgfId-883901"></a>Description</span>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-883950"></a><code>savemismatchparams=no</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-883952"></a>Whether or not to save scalar data for statistically varying mismatch parameters which are subject to mismatch variation. Possible values are no or yes. Possible values are no or yes.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-883903"></a><code>mismatchscalarfile</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-883905"></a>Output file that will contain mismatch parameter scalar data.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-883907"></a><code>mismatchparamfile</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-883909"></a>Output file that will contain mismatch parameter scalar data labels.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-883911"></a>dumpdependency</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-883913"></a>Whether or not to save the dependency map. Possible values are <code>none</code> and <code>mismatch</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-883915"></a>dependencymapfile</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-883917"></a>Output file that contains a dependency map that indicates the pairing of mismatch parameters and subcircuit instances.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-883919"></a>dependencyscalarfile</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-883921"></a>Output random numbers to a file that are used by mismatch parameters.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-883923"></a>dependencyparamfile</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-883925"></a>Output the mapping from the mismatch parameters to the corresponding subcircuit instances to a file.</p>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-861466"></a>Flags</h4>
<p>
<a id="pgfId-861854"></a></p>
<table class="webflareTable" id="#id861433">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id861435">
<a id="pgfId-861435"></a>Parameter</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id861437">
<a id="pgfId-861437"></a>Description</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-861439"></a><code>donominal=yes</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-861441"></a>Whether or not to perform nominal run. Possible values are no or yes.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-861443"></a><code>addnominalresults=no</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-861445"></a>Whether or not to add nominal run results to MC run results. Possible values are no or yes.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-861447"></a><code>paramdumpmode=no</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-861449"></a>Whether or not to full dump process/mismatch parameters information. Possible values are no or yes.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-861451"></a><code>dumpseed=no</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-861453"></a>Whether or not to dump seed parameters information. Possible values are no or yes.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-861455"></a><code>nullmfactorcorrelation=no</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-861457"></a>Whether or not to set 0% correlation mismatch devices with m-factor. Possible values are no or yes.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-861605"></a><code>appendsd=no</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-861607"></a>Whether or not to append scalar data. Possible values are no or yes.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-861459"></a><code>savefamilyplots=no</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-861647"></a>Whether or not to save data for family plots. If yes, this could require a lot of disk space. Possible values are no or yes.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-861463"></a><code>savedatainseparatedir=no</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-861465"></a>Whether or not to save data for an each plot in a separate directory. Possible values are <code>no</code> or <code>yes</code>.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-871238"></a>Setting this parameter to <code>yes</code> may require a lot of disk space.</div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-874885"></a><code>evaluationmode=no</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-874887"></a>If set to <code>yes</code>, dumps random numbers used in montecarlo analysis without running any enclosed analyses. Possible values are <code>no</code> and <code>yes</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-874896"></a><code>diskstorage=no</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-874898"></a>If set to <code>yes</code>, mismatch data is stored on hard drive instead of memory while running a monte carlo analysis. Possible values are <code>no</code> and <code>yes</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-874909"></a><code>wfseparation=no</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-874911"></a>If set to <code>yes</code>, a separate directory for nominal run is created by the name <code>nom</code> and the directory names of individual iterations are simplified by removing the leading analysis names. Possible values are <code>no</code> and <code>yes</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-874958"></a><code>seedscramble=no</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-874972"></a>If set to <code>yes</code>, a scrambling procedure is applied to the seed value to generate a better random number sequence in the sense of randomness. Possible values are <code>no</code> and <code>yes</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-875002"></a><code>distribute</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-875004"></a>Distributes a montecarlo analysis to reduce simulation time by using more computer cores across multiple computers. Possible values are <code>no</code>, <code>fork</code>, <code>rsh</code>, <code>ssh</code>, <code>lsf</code>, <code>sge</code>, <code>nc</code>, and <code>auto</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-875473"></a>numprocesses</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-875475"></a>Specifies the number of jobs in distributed mode.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-875010"></a>usesamesequence=no</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-875012"></a>If set to <code>yes</code>, the random sequence is maintained for a seed even if there is an empty dut/ignore list. Possible values are <code>no</code> or <code>yes</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-875018"></a>rngversion</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-875024"></a>Version of random number generator. Possible values are default and <code>v151</code>.</p>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-861759"></a>Annotation Parameters</h4>
<p>
<a id="pgfId-861864"></a></p>
<table class="webflareTable" id="#id861722">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id861724">
<a id="pgfId-861724"></a>Parameter</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id861726">
<a id="pgfId-861726"></a>Description</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-861728"></a><code>annotate=sweep</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-861730"></a>Degree of annotation. Possible values are <code>no</code>, <code>title</code>, <code>sweep</code>, or <code>status</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-861756"></a><code>title</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-861758"></a>Analysis title.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-883981"></a>stdscale=default</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-883983"></a>Scale the standard deviation by the specified value. The default value is 1.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-884088"></a>dist=default</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-884090"></a>Force all MonteCarlo random variation distributions to the specified type. Possible values are <code>default</code>, <code>unif</code>, and <code>gauss</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-884240"></a>ignore_type=[...]</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-884242"></a>If set, no variation is applied to the specified types. The default value is <code>none</code>. Possible values are <code>none</code> and <code>memcell</code>.</p>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-860863"></a>Specifying the First <a id="marker-860861"></a><a id="marker-860862"></a>Iteration Number</h4>
<p>
<a id="pgfId-831962"></a>The advantages of using the <code>firstrun</code> parameter to specify the first iteration number are as follows:</p>

<ul><li>
<a id="pgfId-831963"></a>You can reproduce a particular run from a previous experiment when you know the starting seed and run number but not the corresponding seed.</li><li>
<a id="pgfId-831964"></a>If you are a standalone Spectre user, you can run a Monte Carlo analysis of 100 runs, analyze the results, decide they are acceptable, and then decide to do a second analysis of 100 runs to give a total of 200 runs. By specifying the <code>firstrun=101</code> for the second analysis, the Spectre simulator retains the data for the first 100 runs and runs only the second 100 runs. This gives the same results and random sequence as if you ran just a single Monte Carlo analysis of 200 runs. </li></ul>


<h4>
<a id="pgfId-832503"></a>Sample Mo<a id="marker-833066"></a>nte Carlo Analyses</h4>

<p>
<a id="pgfId-832504"></a>For a Monte Carlo analysis, the Spectre simulator performs a nominal run first, if requested, calculating the specified outputs. If there is any error in the nominal run or in evaluating the <code>export</code> statements after the nominal run, the Monte Carlo analysis stops.</p>
<p>
<a id="pgfId-832505"></a>If the nominal run is successful, then, depending on how the <code>variations</code> parameter is set, the Spectre simulator applies process variations to the specified parameters and mismatch variations (if specified) to those parameters for each subcircuit instance. If the <code>export</code> statements are specified, the corresponding performance measurements are saved as a new file or appended to an existing file.</p>
<p>
<a id="pgfId-832506"></a>The following Monte Carlo analysis statement specifies (using the default) that a nominal analysis is performed first. The <code>sweep</code> analysis (and all child analyses) are performed, and <code>export</code> statements are evaluated. If the nominal analysis fails, the Spectre simulator gives an error message and will not perform the Monte Carlo analysis. If the nominal analysis succeeds, the Spectre simulator immediately starts the Monte Carlo analysis. The <code>variations</code> parameter specifies that only process variations (<code>variations=process</code>) are applied; this is useful for looking at absolute performance spreads. There is a single child sweep analysis (<code>sw1</code>) so that for each Monte Carlo run, the Spectre simulator sweeps the temperature, performs the dc and transient analyses, and calculates the slew rate. The output of the slew rate calculation is saved in the scalar data file.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-837135"></a>mc1 montecarlo variations=process seed=1234 numruns=200 {
&#160;&#160;&#160;&#160;sw1 sweep param=temp values=[-50 27 100] {
&#160;&#160;&#160;&#160; dcop1 dc   // a &quot;child&quot; analysis<br />  tran1 tran start=0 stop=1u  // another &quot;child&quot; analysis<br />  // export calculations are sent to the scalardata file<br />  export slewrate=oceanEval(&quot;slewRate(v(\&quot;vout\&quot;),10n,t,30n,t,10,90 )&quot;<br /> }<br />}</pre>

<p>
<a id="pgfId-839562"></a>The following Monte Carlo analysis statement applies only mismatch variations, which are useful for detecting spreads in differential circuit applications. It does not perform a nominal run. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-839563"></a>No temperature sweep is performed.</div>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-832509"></a>mc2 montecarlo donominal=no variations=mismatch seed=1234 numruns=200 {
&#160;&#160;&#160;&#160;dcop2 dc
&#160;&#160;&#160;&#160;tran2 tran start=0 stop=1u
&#160;&#160;&#160;&#160;export slewrate=oceanEval(&quot;slewRate(v(\&quot;vout\&quot;),10n,t,30n,t,10,90 )&quot;</pre>
<pr-prog id="#id832510">
<a id="pgfId-832510"></a>}</pr-prog>

<p>
<a id="pgfId-832511"></a>The following Monte Carlo analysis statement applies both process and mismatch variations:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-832512"></a>mc3 montecarlo saveprocessparams=yes variations=all numruns=200 {
&#160;&#160;&#160;&#160;dcop3 dc
&#160;&#160;&#160;&#160;tran3 tran start=0 stop=1u
&#160;&#160;&#160;&#160;export slewrate=oceanEval(&quot;slewRate(v(\&quot;vout\&quot;),10n,t,30n,t,10,90 )&quot;<br />}</pre>
<h4>
<a id="pgfId-831468"></a><a id="31074"></a>Specifying Paramet<a id="marker-838940"></a>er Distributions Using Statistics Blocks</h4>

<p>
<a id="pgfId-837272"></a>The statistics blocks are used to specify the input statistical variations for a Monte Carlo analysis. A statistics block can contain one or more process blocks (which represent batch-to-batch type variations) and/or one or more mismatch blocks (which represent on-chip or device mismatch variations), in which the distributions for parameters are specified. Statistics blocks can also contain one or more correlation statements to specify the correlations between specified process parameters and/or to specify correlated device instances (such as matched pairs). Statistics blocks can also contain a <code>truncate</code> statement that can be used for generating truncated distributions. </p>
<p>
<a id="pgfId-833490"></a>The statistics block contains the distributions for parameters:</p>
<ul><li>
<a id="pgfId-833499"></a>Distributions specified in the proces<a id="marker-837694"></a>s block are sampled once per Monte Carlo run, are applied at global scope, and are used typically to represent batch-to-batch (process) variations. </li><li>
<a id="pgfId-833501"></a>Distributions specified in the misma<a id="marker-837695"></a>tch block are applied on a per-subcircuit instance basis, are sampled once per subcircuit instance, and are used typically to represent device-to-device (on chip) mismatch for devices on the same chip.</li></ul>

<p>
<a id="pgfId-837705"></a>When the same parameter is subject to both process and mismatch variations, the sampled process value becomes the mean for the mismatch random number generator for that particular parameter.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-837322"></a>Statistics blocks can be specified using combinations of the Spectre keywords <code>statistics</code>, <code>process</code>, <code>mismatch</code>, <code>vary</code>, <code>truncate</code>, and <code>correlate</code>. Braces (<code>{}</code>) are used to delimit blocks.</div>
<p>
<a id="pgfId-837201"></a>The following example shows some sample statistics blocks, which are discussed after the example along with syntax requirements.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-837157"></a>// define some netlist parameters to represent process parameters <br />// such as sheet resistance and mismatch factors <br />parameters rshsp=200 rshpi=5k rshpi_std=0.4K xisn=1 xisp=1 xxx=20000 uuu=200</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-837161"></a>// define statistical variations, to be used <br />// with a MonteCarlo analysis. <br />statistics { <br />    process {   // process: generate random number once per MC run <br />        vary rshsp dist=gauss std=12 percent=yes <br />        vary rshpi dist=gauss std=rshpi_std // rshpi_std is a parameter<br />        vary xxx dist=lnorm std=12 <br />        vary uuu dist=unif N=10 percent=yes <br />        ... <br />    } <br />    mismatch {  // mismatch: generate a random number per instance <br />        vary rshsp dist=gauss std=2     <br />        vary xisn dist=gauss std=0.5    <br />        vary xisp dist=gauss std=0.5    <br />    } <br />    // some process parameters are correlated <br />    correlate param=[rshsp rshpi] cc=0.6 <br />    // specify a global distribution truncation factor<br />    truncate tr=6.0     // +/- 6 sigma <br />}</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-837182"></a>//  a separate statistics block to specify correlated (i.e. matched) <br />//components</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-837269"></a>// where m1 and m2 are subckt instances.<br />statistics { <br />    correlate dev=[m1 m2] param=[xisn xisp] cc=0.8 <br />}</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-875077"></a>//  a separate statistics block to specify correlation with wildcard, where <br />// `I*.M3&#39; matches multiple subckt instances, for examples, I1.M3, I2.M3, I3.M3, etc..<br />// Only the asterisk (*) is recognized as a valid wildcard symbol.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-875117"></a>statistics { </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-875081"></a>    correlate dev=[ I*.M3 ] param=[misx mixy] cc=0.8 </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-875065"></a>}</pre>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-831533"></a>You can specify the same parameter (for example, <code>rshsp</code>) for both process and mismatch variations. </div>
<p>
<a id="pgfId-832448"></a>In the process block, the process parameter <code>rshsp</code> is varied with a Gaussian distribution, where the standard deviation is 12 percent of the nominal value (<code>percent=yes</code>). When <code>percent</code><a id="marker-836473"></a> is set to <code>yes</code>, the value for the standard deviation (<code>std</code>) is a percentage of the nominal value. When <code>percent</code> is set to <code>no</code>, the specified standard deviation is an absolute number. This means that parameter <code>rshsp</code> should be varied with a normal distribution, where the standard deviation is 12 percent of the nominal value of <code>rshsp</code>. The nominal or mean value for such a distribution is the current value of the parameter just before the Monte Carlo analysis starts. If the nominal value of the parameter <code>rshsp</code> was 200, the preceding example specifies a process distribution for this parameter with a Gaussian distribution with a mean value of 200 and a standard deviation of 24 (12 percent of 200). The parameter <code>rshpi</code> (sheet resistance) varies about its nominal value with a standard deviation of 0.4 K-ohms/square.</p>
<p>
<a id="pgfId-832450"></a>In the mismatch block, the parameter <code>rshsp</code> is then subject to <em>further</em> statistical variation on a per-subcircuit instance basis for on-chip variation. Here, it varies a little for each subcircuit instance, this time with a standard deviation of 2. For the first Monte Carlo run, if there are multiple instances of a subcircuit that references parameter <code>rshsp</code>, then (assuming <code>variations=all</code>) it might get a process random value of 210, and then the different instances might get random values of 209.4, 211.2, 210.6, and so on. The parameter <code>xisn</code> also varies on a per-instance basis, with a standard deviation of 0.5. In addition, the parameters <code>rshsp</code> and <code>rshpi</code> are correlated with a correlation coefficient (<code>cc</code>) of 0.6.</p>
<p>
<a id="pgfId-977372"></a>The <code>.mcdat</code> file, by default, displays the following statistics parameters in the Statistics section: <code>max</code>, <code>min</code>, <code>mean</code>, <code>variance</code>, <code>stddev</code>, <code>avgdev</code>, <code>avgdev</code>, and <code>failedtimes</code>. You can set the <code>mc_stat_list</code> option parameter to <code>all</code> to output all statistical parameters in the file.</p>

<h4>
<a id="pgfId-871193"></a>Multiple St<a id="marker-871191"></a>atistics Blocks</h4>

<p>
<a id="pgfId-871194"></a>You can use multiple statistics blocks, which accumulate or overlay each other. Typically, process variations, mismatch variations, and correlations between process parameters are specified in a single statistics block. This statistics block can be included in a &#8220;process&#8221; <code>include</code> file, such as the ones shown in the example in <xrefstd>&#8220;Process Modeling Using Inline Subcircuits&#8221;. A second statistics block can be specified in the main netlist where actual device instance correlations are specified as matched pairs.</xrefstd></p>
<p>
<a id="pgfId-871195"></a>The following statistics block can be used to specify the correlations between matched pairs of devices and probably is placed or included into the main netlist by the designer. These statistics are used in addition to those specified in the statistics block in the preceding section so that the statistics blocks &#8220;overlay&#8221; or &#8220;accumulate.&#8221; </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-871196"></a>// define correlations for &quot;matched&quot; devices q1 and q2</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-871197"></a>statistics {</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-871198"></a>  correlate dev=[q1 q2] param=[XISN...] cc=0.75 </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-871199"></a>}</pre>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-871200"></a>You can use a single statistics block containing both sets of statements; however, it is often more convenient to keep the topology-specific information separate from the process-specific information.</div>

<h4>
<a id="pgfId-837376"></a>Specifying Distributions</h4>

<p>
<a id="pgfId-837379"></a>Parameter variations are specified using the following syntax: </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-837381"></a>vary <code><em>PAR_NAME</em></code> dist=<code><em>type</em></code> {std=&lt;<code><em>value</em></code>&gt; | N=&lt;<code><em>value</em></code>&gt;} {percent=yes|no} </pre>

<p>
<a id="pgfId-837382"></a>Three types of parameter distributions are available: Gaussian, log normal, and uniform, corresponding to the <span class="webflare-courier-new" style="white-space:pre"><em>type </em></span>keywords <code>gauss</code>, <code>lnorm</code>, and <code>unif</code>, respectively. For both the <code>gauss</code> and the <code>lnorm</code> distributions, you specify a standard deviation using the <code>std</code> keyword.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-986395"></a>You can also specify a global parameter as a value for <code>dist</code>. For example:</div>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-986512"></a>parameters DIST_snd=gauss</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-986513"></a>statistics {</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-986514"></a> process {</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-986500"></a>  vary AGIDL_snd dist=DIST_snd std=1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-986545"></a> }</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-986548"></a>}</pre>

<p>
<a id="pgfId-837377"></a>The following distributions (and associated parameters) are supported:</p>
<ul><li>
<a id="pgfId-836540"></a>Gau<a id="marker-837658"></a>ssian<br />
<a id="pgfId-837407"></a>This distribution is specified using <code>dist=gauss</code><a id="marker-837660"></a>. For the Gaussian distribution, the mean value is taken as the current value of the parameter being varied, giving a distribution denoted by Normal(mean,std). Using the example in &#8220;<a href="chap7.html#31074">Specifying Parameter Distributions Using Statistics Blocks</a><a href="chap7.html#31074">,&#8221;</a> parameter <code>rshpi</code> is varied with a distribution of Normal(5k,0.4k). The nominal value for the Gaussian distribution is the value of the parameter before the Monte Carlo analysis is run. The standard deviation can be specified using the <code>std</code> parameter. If you do not specify the <code>percent</code> parameter, the standard deviation you specify is taken as an absolute value. If you specify <code>percent=yes</code>, the standard deviation is calculated from the value of the <code>std</code> parameter multiplied by the nominal value and divided by 100; that is, the value of the <code>std</code> parameter specifies the standard deviation as that percentage of the nominal value.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-873799"></a>If <code>std=0</code> or <code>std=&lt;</code><span class="webflare-courier-new" style="white-space:pre"><em>param_name</em></span><code>&gt;=0</code> is found in the statistics block, Spectre generates an error. You can specify the <code>ignorezerovar=yes</code> parameter in the <code>options</code> statement to bypass this check.</div></li><li>
<a id="pgfId-836533"></a>Log norm<a id="marker-837659"></a>al<br />
<a id="pgfId-837427"></a>This distribution is specified using <code>dist=lnorm</code><a id="marker-837661"></a>. The log normal distribution is denoted by <pre class="webflare-pre-block webflare-courier-new" id="#id837428">
<a id="pgfId-837428"></a>log(x) = Normal( log(mean), std ) </pre>
<a id="pgfId-837429"></a>where x is the parameter being specified as having a log normal distribution. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-837430"></a>log() is the natural logarithm function. For parameter <code>xxx</code> in the example in <strong>
&#8220;</strong>
<a href="chap7.html#31074">Specifying Parameter Distributions Using Statistics Blocks</a>,&#8221; the process variation is according to </div><pre class="webflare-pre-block webflare-courier-new" id="#id837444">
<a id="pgfId-837444"></a>log(xxx) = Normal( log(20000), 12)</pre>
<a id="pgfId-836542"></a>The nominal value for the log normal distribution is the natural log of the value of the parameter before the Monte Carlo analysis is run. If you specify a normal distribution for a parameter <code>P1</code> whose value is 5000 and you specify a standard deviation of 100, the actual distribution is produced such that</li></ul>










<p class="webflare-indent1">
<a id="pgfId-855858"></a><img width="165" height="18" src="images/chap7-90.gif" /></p>

<ul><li>
<a id="pgfId-836538"></a>Unifo<a id="marker-837662"></a>rm<br />
<a id="pgfId-837446"></a>This distribution is specified using <code>dist=unif</code><a id="marker-837663"></a>. The uniform distribution for parameter <code>x</code> is generated according to <br />
<a id="pgfId-837447"></a><code>x</code> = unif(mean-N, mean+N) <br />
<a id="pgfId-837449"></a>such that the mean value is the nominal value of the parameter <code>x</code>, and the parameter is varied about the mean with a range of + N. The standard deviation is not specified for the uniform distribution, but its value can be calculated from the formula std=N/sqrt(3). The nominal value for the uniform distribution is the value of the parameter before the Monte Carlo analysis is run. The uniform interval is specified using the parameter <code>N</code>. For example, specifying <code>dist=unif N=5</code> for a parameter whose value is 200 results is a uniform distribution in the range 200+<code>N</code>, that is, from 195 to 205. You can also specify <code>percent=yes</code>, in which case, the range is 200+<code>N</code>%, that is, from 190 to 210.</li></ul>



<p>
<a id="pgfId-836421"></a>Derived parameters that have their default values specified as expressions of other parameters cannot have distributions specified for them. Only parameters that have numeric values specified in their declaration can be subjected to statistical variation.</p>
<p>
<a id="pgfId-836423"></a>Parameters that are specified as correlated must have had an appropriate variation specified for them in the statistics block.</p>
<p>
<a id="pgfId-836424"></a>For example, if you have the parameters</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-836425"></a><code>XISN</code>=<code>XIS</code>+<code>XIB</code></pre>

<p>
<a id="pgfId-836426"></a>you cannot specify distribution for <code>XISN</code> or a correlation of this parameter with another.</p>
<p>
<a id="pgfId-837466"></a>The <code>percent</code><a id="marker-884584"></a> flag indicates whether the standard deviation <code>std</code> or uniform range <code>N</code> are specified in absolute terms (<code>percent=no</code>) or as a percentage of the mean value (<code>percent=yes</code>). For parameter <code>uuu</code> in the example in <h-hot>&#8220;</h-hot><a href="chap7.html#31074">Specifying Parameter Distributions Using Statistics Blocks</a><h-hot>,&#8221;</h-hot> the mean value is 200, and the variation is 200 +10%*(200), that is, 200 + 20. For parameter <code>rshsp</code>, the process variation is given by Normal( 200, 12%*(200) ), that is, Normal(200, 24). Cadence recommends that you do not use the <code>percent=yes</code> with the log normal distribution.</p>

<h4>
<a id="pgfId-884550"></a>Changing Parameter Distri<a id="change_param_dist"></a>butions at Runtime</h4>

<p>
<a id="pgfId-884600"></a>At times, you might want to reproduce the design failures with less MonteCarlo iterations and check the design robustness quickly. You can use the <code>dist=default|unif|gauss</code> parameter to force all parameter distributions to a specified type. In addition, you can use the <code>stdscale</code> parameter scale the deviation by a specified value. </p>
<p>
<a id="pgfId-893274"></a>The following examples show how to use <code>stdscale</code> and <code>dist</code> options to force a parameter distribution to the specified type.</p>
<ul><li>
<a id="pgfId-893406"></a><code>stdscale=k</code><br />
<a id="pgfId-893422"></a>Consider a scenario where you have the following in the statistics block:<pre class="webflare-pre-block webflare-courier-new" id="#id893527">
<a id="pgfId-893527"></a>statistics {</pre><pre class="webflare-pre-block webflare-courier-new" id="#id893528">
<a id="pgfId-893528"></a>mismatch {</pre><pre class="webflare-pre-block webflare-courier-new" id="#id893529">
<a id="pgfId-893529"></a>vary mymismatch1 dist=gauss std=1</pre><pre class="webflare-pre-block webflare-courier-new" id="#id893530">
<a id="pgfId-893530"></a>      }</pre><pre class="webflare-pre-block webflare-courier-new" id="#id893531">
<a id="pgfId-893531"></a>}</pre>
<a id="pgfId-893523"></a>If you specify <code>stdscale=k</code> in the MonteCarlo statement, <code>std=1</code> of all random variables will be multiplied by <code>k.</code>For example, if you specify the following in the Montecarlo statement:<pre class="webflare-pre-block webflare-courier-new" id="#id893757">
<a id="pgfId-893757"></a>mc1 montecarlo firstrun=1 numruns=5000 dist=unif stdscale=2 {</pre><pre class="webflare-pre-block webflare-courier-new" id="#id893758">
<a id="pgfId-893758"></a>dc dc</pre><pre class="webflare-pre-block webflare-courier-new" id="#id893759">
<a id="pgfId-893759"></a>}</pre>
<a id="pgfId-893753"></a>the statistics block will change to:<pre class="webflare-pre-block webflare-courier-new" id="#id893821">
<a id="pgfId-893821"></a>statistics {</pre><pre class="webflare-pre-block webflare-courier-new" id="#id893822">
<a id="pgfId-893822"></a>mismatch {</pre><pre class="webflare-pre-block webflare-courier-new" id="#id893823">
<a id="pgfId-893823"></a>vary mymismatch1 dist=gauss std=1*k</pre><pre class="webflare-pre-block webflare-courier-new" id="#id893824">
<a id="pgfId-893824"></a>      }</pre><pre class="webflare-pre-block webflare-courier-new" id="#id893825">
<a id="pgfId-893825"></a>}</pre></li><li>
<a id="pgfId-893817"></a><code>dist=unif|gauss</code><br />
<a id="pgfId-893747"></a>When you specify <code>dist=unif</code> or <code>dist=gauss</code>, distribution of all random variables is converted to <code>unif</code> or <code>gauss</code>.<br />
<a id="pgfId-894000"></a>Consider a scenario where you have the following in the statistics block:<pre class="webflare-pre-block webflare-courier-new" id="#id894093">
<a id="pgfId-894093"></a>statistics {</pre><pre class="webflare-pre-block webflare-courier-new" id="#id894094">
<a id="pgfId-894094"></a>mymismatch1 = p</pre><pre class="webflare-pre-block webflare-courier-new" id="#id894095">
<a id="pgfId-894095"></a>mismatch {</pre><pre class="webflare-pre-block webflare-courier-new" id="#id894096">
<a id="pgfId-894096"></a>vary mymismatch1 dist=gauss std=a</pre><pre class="webflare-pre-block webflare-courier-new" id="#id894097">
<a id="pgfId-894097"></a>}</pre><pre class="webflare-pre-block webflare-courier-new" id="#id894098">
<a id="pgfId-894098"></a>}</pre>
<a id="pgfId-894089"></a>If you specify the following MonteCarlo statement:<pre class="webflare-pre-block webflare-courier-new" id="#id894177">
<a id="pgfId-894177"></a>mc1 montecarlo numruns=100 variations=mismatch seed=12345 stdscale=k dist=unif</pre>
<a id="pgfId-893265"></a>the statistics block will change to:<pre class="webflare-pre-block webflare-courier-new" id="#id894250">
<a id="pgfId-894250"></a>statistics {</pre><pre class="webflare-pre-block webflare-courier-new" id="#id894251">
<a id="pgfId-894251"></a>mymismatch1 = p</pre><pre class="webflare-pre-block webflare-courier-new" id="#id894252">
<a id="pgfId-894252"></a>mismatch {</pre><pre class="webflare-pre-block webflare-courier-new" id="#id894253">
<a id="pgfId-894253"></a>vary mymismatch1 dist=unif N=a*sqrt(3)*k</pre><pre class="webflare-pre-block webflare-courier-new" id="#id894254">
<a id="pgfId-894254"></a>}</pre>
<a id="pgfId-894246"></a>}<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-893267"></a>When <code>stdscale=k</code> and <code>dist=unif</code>, is specified and if one parameter follows <code>gauss</code>, <code>std=a</code>, <code>mean=b</code>, Spectre automatically converts it into uniform distribution with <code>mean=b</code>, <code>unif(b-sqrt(3)*a*k, b+sqrt(3)*a*k)</code>.</div></li></ul>



































<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-885241"></a>By transforming the Gaussian distribution to Uniform, you can identify the design failure at high sigma-corner with small number of samples. However, you cannot predict the yield of the design with this approach.</div>

<h4>
<a id="pgfId-837635"></a>Truncation Fa<a id="marker-885053"></a>ctor</h4>

<p>
<a id="pgfId-837637"></a>The default truncation factor for Gaussian distributions (and for the Gaussian distribution underlying the log normal distribution) is 4.0 sigma. Randomly generated values that are outside the range of mean + 4.0 sigma are automatically rejected and regenerated until they fall inside the range. If the truncation factor is less than 0, Spectre does not generate truncated distributions and generates a warning. If the truncation factor is specified as 0, then Spectre generates an error.</p>
<p>
<a id="pgfId-869612"></a>You can change the truncation factor using the <code>truncate</code><a id="marker-837692"></a> statement. The following is the syntax:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-837643"></a>truncate tr=<code><em>value</em></code></pre>

<p>
<a id="pgfId-837644"></a>The value of the truncation factor can be a constant or an expression. In addition, you can specify the truncation factor in the process and mismatch blocks. However, if the truncation factor is not specified in the process or mismatch block, then the truncation factor in the statistics block is considered.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-837645"></a>Parameter correlations can be affected by using small truncation factors. </div>

<h4>
<a id="pgfId-837502"></a>Corr<a id="marker-837545"></a>elation Stateme<a id="correlation"></a>nts</h4>

<p>
<a id="pgfId-837504"></a>There are two types of correlation statements that you can use: </p>
<ul><li>
<a id="pgfId-837508"></a>Proce<a id="marker-837665"></a>ss parameter correlation statements<br />
<a id="pgfId-837509"></a>The following is the syntax of the process parameter correlation statement: <pre class="webflare-pre-block webflare-courier-new" id="#id837561">
<a id="pgfId-837561"></a>correlate param=[<code><em>list of parameters</em></code>] cc=<code><em>value</em></code></pre>
<a id="pgfId-837511"></a>This allows you to specify a correlation coefficient between multiple process parameters. You can specify multiple process parameter correlation statements in a statistics block to build a matrix of process parameter correlations. During a Monte Carlo analysis, process parameter values are randomly generated according to the specified distributions and correlations. </li><li>
<a id="pgfId-837517"></a>Ins<a id="marker-837666"></a><a id="marker-843573"></a>tance or mismatch correlation statements (matched devices) <br />
<a id="pgfId-837518"></a>The following is the syntax of the instance or mismatch correlation statement:<pre class="webflare-pre-block webflare-courier-new" id="#id837519">
<a id="pgfId-837519"></a>correlate dev=[<code><em>list of subckt instances</em></code>] {param=[<code><em>list of parameters</em></code>]} cc=<code><em>value</em></code></pre><pre class="webflare-pre-block webflare-courier-new" id="#id875124">
<a id="pgfId-875124"></a>correlate dev=[&lt;wildcard expr&gt;] {param=[list of parameters]} cc=&lt;value&gt;</pre>
<a id="pgfId-837521"></a>where the device or subcircuit instances to be matched are listed in <span class="webflare-courier-new" style="white-space:pre"><em>list of subckt instances</em></span>, or regular expressions with asterisk (<code>*</code>) and <span class="webflare-courier-new" style="white-space:pre"><em>list of parameters</em></span> specifies exactly which parameters with mismatch variations are to be correlated. Use the instance mismatch correlation statement to specify correlations for particular subcircuit instances. If a subcircuit contains a device, you can effectively use the instance correlation statements to specify that certain devices are correlated (matched) and give the correlation coefficient. You can optionally specify exactly which parameters are to be correlated by giving a list of parameters (each of which must have had distributions specified for it in a mismatch block) or by specifying no parameter list, in which case all parameters with mismatch statistics specified are correlated with the given correlation coefficient. The correlation coefficients are specified in the <code>&lt;</code><span class="webflare-courier-new" style="white-space:pre"><em>value</em></span><code>&gt;</code> field and must be between + 1.0.</li></ul>








<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-837535"></a>Correla<a id="marker-837667"></a>tion coefficients can be constants or expressions, as can <code>std</code> and <code>N</code> when specifying distributions. </div>

<h4>
<a id="pgfId-831423"></a>Characteriza<a id="marker-833075"></a>tion and Modeling</h4>

<p>
<a id="pgfId-838427"></a>The following statistics blocks can be used with the example in <xrefstd>&#8220;Process Modeling Using Inline Subcircuits&#8221;<code>parameters</code> statement. These statistics blocks are meant to be used in conjunction with the modeling and characterization equations in the inline subcircuit example, for a Monte Carlo analysis only.</xrefstd></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-838500"></a>statistics {<br />    process {<br />       vary RSHSP dist=gauss std=5<br />       vary RSHPI dist=lnorm std=0.15<br />       vary SPDW dist=gauss std=0.25<br />       vary SNDW dist=gauss std=0.25<br />    }<br />    correlate param=[RSHSP RSHPI] cc=0.6<br />    mismatch {<br />       vary XISN dist=gauss std=1<br />       vary XBFN dist=gauss std=1<br />       vary XRSP dist=gauss std=1<br />    }<br />}</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-860737"></a>statistics {<br />    correlate dev=[R1 R2] cc=0.75<br />    correlate dev=[TNSA1 TNSA2] cc=0.75<br />}</pre>
<h4>
<a id="pgfId-884408"></a>Creating same variation for same block in different simulations</h4>

<p>
<a id="pgfId-884426"></a>At times, it may be necessary to use the same variation of a design in different simulations. This can be achieved by using identical subcircuit and instance definitions for the design in both simulations, and by ordering the netlist with the <code>options</code> statement, as shown below.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-884471"></a>opt1 options sortinstance=yes</pre>
<h4>
<a id="pgfId-871929"></a>Distributed Monte Carlo An<a id="distributed_mc"></a>alysis</h4>

<p>
<a id="pgfId-871951"></a>You can use the <code>distribute</code> option with the <code>montecarlo</code> statement to distribute a Monte Carlo analysis to further speed up the run time for the analysis by using more computer cores across multiple computers. The <code>distribute</code> option with possible values of <code>lsf</code>, <code>sge</code>, <code>rsh</code>, <code>ssh</code>, <code>fork,</code> <code>nc</code>, and <code>auto</code> is used to specify the method to be used to launch the child processes. You can use the <code>numprocesses</code> option to specify the number of child processes to be launched for each job.</p>
<p>
<a id="pgfId-871952"></a>In distributed Monte Carlo analysis, the master process splits the job into the number of tasks specified using the <code>numprocesses</code> option. Each subtask is simulated in its own child subprocess. Once a child process is completed, it returns the results to the master process and the master process merges the results into a single file; including the scalar measurement files.</p>
<p>
<a id="pgfId-872278"></a>For <code>lsf</code> and <code>sge</code> methods, you need to use the <code>bsub</code> and <code>qsub</code> options respectively, to submit the initial master run. The master process uses the same settings to split the job into child processes.</p>
<p>
<a id="pgfId-887026"></a>In general, the master and child processes run on the same queue. You can use the <code>CDS_MMSIM_MP_QUEUE</code> environment variable to direct the master to run the child processes in alternative queues.</p>
<p>
<a id="pgfId-871953"></a>For <code>rsh</code> and <code>ssh</code> methods, you need to specify the list of hosts to be used for the subprocess using the <code>+hosts</code> command-line option.</p>
<p>
<a id="pgfId-872315"></a>You can use the <code>fork</code> option to create multiple jobs on a single system.</p>
<p>
<a id="pgfId-871990"></a>The following example runs a 2000 point Monte Carlo analysis by splitting the run points into 20 subprocesses. The master process is launched using <code>bsub</code> with four cores reserved. Each child process is launched by the master using the same bsub command arguments.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-872005"></a>mc1 montecarlo numruns = 2000 distribute=lsf numprocesses=20</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-872372"></a>% bsub -R &quot;(OSNAME==Linux) span[hosts=1]&quot; -n 4 &quot;spectre +aps input.scs&quot;</pre>

<p>
<a id="pgfId-872405"></a>The following example runs a 2000 point Monte Carlo analysis by splitting the run points into 20 subprocesses onto remote systems. The subprocesses are launched using the <code>rsh</code> method on three machines <code>host-1</code>, <code>host-2</code>, and <code>host-3</code>. Each subprocess uses one core.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-872406"></a>mc1 montecarlo numruns = 2000 distribute=rsh numprocesses=20</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-872407"></a>% spectre +aps &#8211;mt +hosts=&#39;host-1 host-2 host-3&#39; input.scs</pre>

<p>
<a id="pgfId-872127"></a>The following example is similar to the examples above, however, here, the master splits the 20 subprocesses on the same local machine. Each subprocess uses one core.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-872457"></a>mc1 montecarlo numruns = 2000 distribute=fork numprocesses=20 </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-872458"></a>% spectre +aps -mt input.scs</pre>

<p>
<a id="pgfId-872768"></a>If any of the child process fails and you still want to have a scalar file by combining the distributed Monte Carlo results, you can set the following environment variable:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-872769"></a>setenv CDS_MMSIM_DISTRIBUTED_MONTECARLO_MERGE_RESULTS_ONLY</pre>

<p>
<a id="pgfId-874420"></a>If a Monte Carlo analysis is defined in the netlist and the <code>+mp &lt;</code><span class="webflare-courier-new" style="white-space:pre"><em>numprocesses</em></span><code>&gt;</code> command-line option is used, Spectre automatically detects the farm environment (LSF, SGE, RTDA, or Network Computer) and distributes the montecarlo analysis to the specified number of child processes. If a farm environment is not detected, Spectre uses the <code>fork</code> option to distribute a Monte Carlo analysis by creating multiple jobs on a single system.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-996475"></a>Spectre APS supports distribution of Monte Carlo and Sweep analyses; however, any subset analysis defined within the Monte Carlo or Sweep analysis is not distributed.</div>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-881407"></a>You cannot use relative path (such as <code>scalarfile=../monteCarlo/mcdata</code>) to specify the location of file in distributed montecarlo. This is because distributed results are saved in the root directory. If you use a relative path to specify the location, all child processes will refer to the same directory.</div>

<h2>
<a id="pgfId-872772"></a><a id="52078"></a>Spectre <a id="SpectreReliabilityAnalysis"></a>Reliability Analysis</h2>

<p>
<a id="pgfId-860143"></a>Spectre reliability analysis for HCI, NBTI, and/or PBTI is a two-phase simulation flow. The first phase, fresh and stress simulation, calculates the device age or degradation. The second phase, post-stress or aging simulation, simulates the degradation effect on the circuit performance based on the device degradation information obtained during the first phase of stress simulation.</p>
<p>
<a id="pgfId-860144"></a>The following figure shows the reliability simulation flow in Spectre:</p>
<p>
<a id="pgfId-860148"></a></p>

<div class="webflare-div-image">
<img width="581" height="389" src="images/chap7-91.gif" /></div>
<h3>
<a id="pgfId-860149"></a>Reliability Simulation Block</h3>

<p>
<a id="pgfId-860150"></a>Reliability simulation in Spectre is specified by using a reliability block, which is similar to the block statement that is used for Monte Carlo simulation.</p>
<p>
<a id="pgfId-860151"></a>A reliability block contains the following control statements:</p>
<ul><li>
<a id="pgfId-860155"></a><a href="chap7.html#33213">Reliability Control Statements</a></li><li>
<a id="pgfId-860159"></a><a href="chap7.html#69953">Stress Statements</a></li><li>
<a id="pgfId-860163"></a><a href="chap7.html#86990">Aging/Post-Stress Statements</a> </li><li>
<a id="pgfId-862746"></a><a href="chap7.html#80908">Additional Notes</a></li></ul>



<p>
<a id="pgfId-860164"></a>The following example shows how these statements should be specified within a reliability block:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-860165"></a>reliability_run_name reliability [global_options]{</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-860166"></a>reliability control statements</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-860167"></a>stress statements</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-860168"></a>aging/post-stress statements</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-860169"></a>}</pre>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-860170"></a>Any fresh simulation settings are provided before the reliability block statements. The reliability block then provides the stress and post-stress simulation.</div>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-988777"></a>DC sweep is not supported inside the reliability block. If you add a DC sweep statement in the reliability block, Spectre generates an error during simulation.</div>

<h4>
<a id="pgfId-860172"></a><a id="33213"></a>Reliability Control Statements</h4>

<p>
<a id="pgfId-860173"></a>The reliability control statements control the reliability simulation. The RelXpert control statement syntax is also supported in the reliability block. For detailed information on the reliability control statements, see the <a href="chap7.html#39434">Reliability Control Statements Reference</a> section.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-876851"></a>Spectre XPS has been enhanced to support native reliability analysis. Currently, the Spectre XPS native reliability analysis supports the following control statements:</div>
<ul><li>
<a id="pgfId-876852"></a><code>age</code></li><li>
<a id="pgfId-876853"></a><code>report_model_param</code></li><li>
<a id="pgfId-876854"></a><code>relx_tran</code></li><li>
<a id="pgfId-876855"></a><code>maskdev</code></li><li>
<a id="pgfId-876856"></a><code>agelevel_only</code></li></ul>




<p>
<a id="pgfId-876857"></a>Currently, only the agemos model is supported. </p>

<h4>
<a id="pgfId-860179"></a><a id="69953"></a>Stress Statements</h4>

<p>
<a id="pgfId-860180"></a>The stress statements specify or change the stress conditions, and run the stress simulation. Stress statements can be categorized as stress testbench/vectors and simulation statements. Stress testbench statements specify the stress conditions during the stress simulation phase. This is done through <code>alter</code> statements. Stress testbench statements are optional. Stress simulation is performed through another transient statement. A transient statement is required for running stress simulation.</p>

<h4>
<a id="pgfId-860182"></a><a id="86990"></a>Aging/Post-Stress St<a id="aging_analysis"></a>atements</h4>

<p>
<a id="pgfId-860183"></a>The aging statements specify or change the post-stress or end-of-life simulation conditions, and run the aging simulation. Similar to stress statements, the end-of-life conditions are specified through alter statements and run with another transient simulation. You can use the <code>aging_analysis_name</code> reliability control statement to specify dc, ac, info, stb, S-parameter, HB, HBnoise, pss, pnoise, pac, or pxf analysis in addition to transient analysis.</p>
<p>
<a id="pgfId-878020"></a>Note: When you use the <code>simmode</code> reliability control statement, the <code>aging_analysis_name</code> control statement is ignored. In addition, for <code>simmode type=stress</code>, all analyses are considered as fresh analyses, and for<code> simmode type=aging</code>, all analyses are considered as aging analyses. This means that all analysis statements from the specified aging analysis to the end of the reliability block are considered as aging analysis with degradation.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-862678"></a>The aging transient conditions can be different from the stress transient conditions.</div>

<h4>
<a id="pgfId-862716"></a><a id="80908"></a>Additional Notes</h4>

<ul><li>
<a id="pgfId-882884"></a>The reliability feature only supports bsim4, bsim3v3, psp103, bsimsoi, bsimcmg, bsimimg, HiCUM (bht), bsim6 (bsimbulk), BJT, and URI models.</li><li>
<a id="pgfId-882885"></a>The reliability feature supports SpectreRF HB, PSS, Pnoise, and HBnoise analyses.</li><li>
<a id="pgfId-882886"></a>The two parameters <code>age</code> and <code>deltad</code> must be specified in the reliability block.</li></ul>



<h4>
<a id="pgfId-868506"></a>Examples of Reliability Block Setup</h4>
<h4><em>
<a id="pgfId-862845"></a>Example 1</em></h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-862846"></a>rel reliablity {</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-862847"></a>age time = [10y]</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-862848"></a>deltad value = 0.1</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-862849"></a>tran_stress tran start = 0.0n step = 1n stop = 10n</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-862850"></a>change1 alter param = temp value = 25</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-862851"></a>tran_aged tran start = 0.0n step = 1n stop = 10n</pre>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-862852"></a>}</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-860192"></a>The above example runs the stress simulation at the same fresh condition. Then, the aged simulation is run with temp=25C.</pre>
<h4><em>
<a id="pgfId-862868"></a>Example 2</em></h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-860194"></a>rel1 reliability {</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-860195"></a>/* control statements */</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-860196"></a>age time = [100h] </pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-860198"></a>deltad value=0.1</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-860199"></a>/* stress testbench */ </pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-860200"></a>Change0 alter param=temp value=125</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-860201"></a>Change1 alter dev=VDD1 value=1.5&#160;&#160; /* change VDD condition to 1.5V during stress */</pre>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-860202"></a></pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-860203"></a>/* stress simulation */</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-860204"></a>tran_stress tran start=0 stop=1us</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-860205"></a>/* aging testbench */</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-860206"></a>Change2 alter dev=VDD1 value=1.2&#160;&#160; /* change VDD condition in EOL simulation */</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-860207"></a>change3 alter param=temp value=25&#160;&#160;/* change temp value in EOL simulation */</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-860208"></a>/* aging simulation */</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-860209"></a>tran_age tran start=0.5u stop=1us</pre>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-860210"></a>}</pre>

<p>
<a id="pgfId-860211"></a>In the above example, reliability simulation is carried with stressing devices for <code>100h</code> with VDD at <code>1.5V</code> and temp at <code>125C</code>. After stress, end of life simulation (aging) is done with VDD at <code>1.2V</code> and temperature at <code>25C</code>.</p>

<h4><em>
<a id="pgfId-863975"></a>Example 3</em></h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-863997"></a>rel reliability {</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-863998"></a>age time=[8y]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-863999"></a>gradual_aging_agepoint points=[1y 5y 10y]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-864000"></a>tran_stress ...</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-864001"></a>tran_aged ...</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-863989"></a>}</pre>

<p>
<a id="pgfId-864027"></a>The above example:</p>
<ul><li>
<a id="pgfId-864362"></a>Runs the stress simulation for 1 year, calculates the device age, and updates the models.</li><li>
<a id="pgfId-864028"></a>Continues to run the stress simulation using the updated models for 4 years, calculates the device age, and updates the model again.</li><li>
<a id="pgfId-864029"></a>Continues to run the stress simulation using the updated models for 5 years (for total of 10 years), calculates the device age, and updates the model again. Next, runs <code>tran_aged</code> to generate the waveform.</li></ul>


<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-864016"></a><code>age</code> <code>time=[8y]</code> is not used if <code>gradual_aging_agepoint</code> is used.</div>

<h4><em>
<a id="pgfId-864048"></a>Example 4</em></h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-864063"></a>rel reliability {</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-864064"></a>age time=[8y]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-864065"></a>gradual_aging_agestep type=log start=1y stop=10y total_step=5</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-864066"></a>tran_stress ...</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-864067"></a>tran_aged ...</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-864055"></a>}</pre>

<p>
<a id="pgfId-864517"></a>The above example:</p>
<ul><li>
<a id="pgfId-864518"></a>Calculates the time step using the formula <code>(log(stop_time)-log(start_time))/(total_step-1)</code>.</li><li>
<a id="pgfId-864519"></a>Runs stress simulation for time step=2.25 years, calculates device age, and updates models.</li><li>
<a id="pgfId-864520"></a>Checks if the <code>total_step</code> number is reached. If not, runs stress simulation again.</li><li>
<a id="pgfId-864521"></a>If <code>total_step</code> number is reached, runs aging transient using the last updated model and generates the degraded waveform.</li></ul>



<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-864599"></a><code>age</code> <code>time=[8y]</code> is not used if <code>gradual_aging_agestep</code> is used.</div>

<h4><em>
<a id="pgfId-864145"></a>Example 5</em></h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-864154"></a>param=VDD value=3.5</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-864155"></a>param=temp value=125</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-864156"></a>rel reliability</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-864157"></a>{</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-864158"></a>// reliability control statements</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-864159"></a>age time = [10y]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-864160"></a>deltad value = 0.1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-864161"></a>gradual_aging_agepoint points = [1y, 3y, 5y, 10y]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-864162"></a>gradual_aging_alter time=3y param=VDD value=2.5</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-864163"></a>gradual_aging_alter time=3y param=TEMP value=100</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-864164"></a>// fresh/stress simulation.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-864165"></a>tran_fresh tran start = 0 step = 1us stop = 10us</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-864166"></a>// aging testbench statements.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-864167"></a>//change1 alter param=rel_temp value=125</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-864168"></a>// aging simulation statements.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-864146"></a>tran_aged tran start = 0 step = 1us stop = 10us }</pre>

<p>
<a id="pgfId-864201"></a>The above example:</p>
<ul><li>
<a id="pgfId-864435"></a>Supports multiple transient statements. Whenever a gradual aging statement is reached, it sets the stress time for the following transient statement.</li><li>
<a id="pgfId-864204"></a>Runs stress simulation for first 3 years at VDD=3.5V and temp=125, and updates the model.</li><li>
<a id="pgfId-864205"></a>Runs stress simulation with updated model for next 7 years at VDD=2.5V and temp=100, and updates the model.</li><li>
<a id="pgfId-864206"></a>Runs aging with updated model and generates degraded waveform.</li></ul>




<h4><em>
<a id="pgfId-882941"></a>Example 6</em></h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-882949"></a>rel reliability&#160;&#160;{</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-882950"></a> age time = [10yr]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-882951"></a>    uri_lib file=&quot;$OUTPATH/libURI.so&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-882952"></a>    report_model_param value = yes</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-882953"></a>    aging_analysis_name value=&quot;hb_age&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-882954"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-882955"></a>    hb_fresh  hb  oversample=[1]  funds=[&quot;FLO&quot;]  maxharms=[20]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-882956"></a>    +   errpreset=moderate  annotate=status</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-882957"></a>    hbnoise_fresh  (IFp IFn) hbnoise  start=1K  stop=10M  maxsideband=20 </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-882958"></a>    +        annotate=status</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-882959"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-882960"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-882961"></a>    tran_stress tran step=1ns stop=100ns</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-882962"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-882963"></a>    hb_age  hb  oversample=[1]  funds=[&quot;FLO&quot;]  maxharms=[20]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-882964"></a>    +   errpreset=moderate  annotate=status</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-882965"></a>    hbnoise_age  (IFp IFn) hbnoise  start=1K  stop=10M  maxsideband=20 </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-882966"></a>    +        annotate=status</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-883014"></a> tran_aged tran start = 0 step = 1us stop = 10us }</pre>

<p>
<a id="pgfId-882942"></a>The fresh RF analysis can be added inside the reliability block or before it.</p>
<p>
<a id="pgfId-883048"></a>For aged RF analysis, you must specify the aging analysis name using the <code>aging_analysis_name</code> control statement. This implies that from the specified aging analysis to the end of the reliability block, all included analyses are considered as aging analysis with degradation. In the above example, the aging analysis name is <code>hb_age</code>. As a result, <code>hb_age</code> and <code>hbnoise_age</code> will be considered as aging analysis.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-882943"></a>In the reliability block, the last transient statement should always be <code>tran_aged</code>, which generates the aging waveform.</div>

<h4><em>
<a id="pgfId-891738"></a>Example 7</em></h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-891763"></a>rel reliability&#160;&#160;{</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-891764"></a>    enable_ade_process value=yes</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-891765"></a>    age time=[10.0000y]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-891766"></a>    accuracy level=2</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-891767"></a>    aging_analysis_name value=&quot;sp_age&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-891768"></a>    uri_lib file=&quot;./relexpert/URILIB.so&quot; debug=0 uri_mode=appendage</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-891769"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-891770"></a>    tran_stress tran stop=1n errpreset=conservative write=&quot;spectre.ic&quot; \</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-891771"></a>    writefinal=&quot;spectre.fc&quot; annotate=status maxiters=5</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-891772"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-891773"></a>    sp_age sp ports=[PORTIN PORTOUT] start=1G stop=1.2G step=0.1G annotate=status</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-891774"></a>    //&#160;&#160;&#160;&#160;  export E_T=oceanEval(&quot;1&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-891790"></a>tran_aged tran start = 0 step = 1us stop = 10us</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-891749"></a>}</pre>
<h3>
<a id="pgfId-864148"></a><a id="39434"></a>Reliability Control Statements Reference</h3>

<ul><li>
<a id="pgfId-860217"></a><a href="chap7.html#39269">accuracy ( *relxpert: .accuracy )</a></li><li>
<a id="pgfId-860221"></a><a href="chap7.html#63713">age ( *relxpert: .age )</a></li><li>
<a id="pgfId-860225"></a><a href="chap7.html#59246">agelevel_only ( *relxpert: .agelevel_only )</a></li><li>
<a id="pgfId-873215"></a><a href="chap7.html#94797">check_neg_aging (*relxpert: .check_neg_aging)</a></li><li>
<a id="pgfId-882552"></a><a href="chap7.html#44268">degradation_check (*relxpert: .degradation_check)</a></li><li>
<a id="pgfId-882578"></a><a href="chap7.html#88666">degradation_check_exception (*relxpert: .degradation_check_exception)</a></li><li>
<a id="pgfId-882600"></a><a href="chap7.html#95665">degradation_check_output (*relxpert: .degradation_check_output)</a></li><li>
<a id="pgfId-860229"></a><a href="chap7.html#63440">degsort (*relxpert: .degsort)</a></li><li>
<a id="pgfId-873015"></a><a href="chap7.html#94837">deg_ratio (*relxpert: .deg_ratio)</a></li><li>
<a id="pgfId-860233"></a><a href="chap7.html#57147">deltad ( *relxpert: .deltad )</a></li><li>
<a id="pgfId-865738"></a><a href="chap7.html#52913">dumpagemodel (*relxpert: .dumpagemodel)</a></li><li>
<a id="pgfId-866305"></a><a href="chap7.html#87629">enable_negative_age (*relxpert .enable_negative_age)</a></li><li>
<a id="pgfId-874827"></a><a href="chap7.html#16248">enable_tmi_uri</a></li><li>
<a id="pgfId-864239"></a><a href="chap7.html#14907">gradual_aging_agepoint (*relxpert: .agepoint)</a></li><li>
<a id="pgfId-864266"></a><a href="chap7.html#33855">gradual_aging_agestep (*relxpert: .agestep)</a></li><li>
<a id="pgfId-860237"></a><a href="chap7.html#60901">idmethod ( *relxpert: .idmethod )</a></li><li>
<a id="pgfId-860241"></a><a href="chap7.html#87536">igatemethod (*relxpert: .igatemethod)</a></li><li>
<a id="pgfId-860245"></a><a href="chap7.html#64571">isubmethod (*relxpert: .isubmethod)</a></li><li>
<a id="pgfId-873629"></a><a href="chap7.html#18206">macrodevice (*relxpert: .macrodevice)</a></li><li>
<a id="pgfId-860249"></a><a href="chap7.html#38000">maskdev ( *relxpert: .maskdev )</a></li><li>
<a id="pgfId-860253"></a><a href="chap7.html#51624">minage ( *relxpert: .minage )</a></li><li>
<a id="pgfId-860257"></a><a href="chap7.html#43855">opmethod (*relxpert: .opmethod )</a></li><li>
<a id="pgfId-879003"></a><a href="chap7.html#57342">output_device_degrad ( *relxpert: .output_device_degrad )</a></li><li>
<a id="pgfId-954658"></a><a href="chap7.html#23482">output_subckt_degrad</a></li><li>
<a id="pgfId-860261"></a><a href="chap7.html#98313">relx_tran ( *relxpert: .relx_tran )</a></li><li>
<a id="pgfId-860265"></a><a href="chap7.html#39068">report_model_param (*relxpert: .report_model_param )</a></li><li>
<a id="pgfId-866084"></a><a href="chap7.html#36298">simmode</a></li><li>
<a id="pgfId-873435"></a><a href="chap7.html#20651">tmi_aging_mode (*relxpert: .tmi_aging_mode)</a></li><li>
<a id="pgfId-860269"></a><a href="chap7.html#94907">uri_lib ( *relxpert: .uri_lib )</a></li><li>
<a id="pgfId-952678"></a><a href="chap7.html#49955">vdsmethod</a></li><li>
<a id="pgfId-860273"></a><a href="chap7.html#50023">User-Defined Reliability Models</a></li></ul>































<h3>
<a id="pgfId-860275"></a><a id="39269"></a>accuracy ( *relxpert: .accuracy )</h3>
<a id="pgfId-860276"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
accuracy level={1 | 2}</pre>
<h4>
<a id="pgfId-860277"></a>Description</h4>

<p>
<a id="pgfId-860278"></a>Specifies methods used in the reliability simulation when performing integration and substrate current calculation.</p>

<h4>
<a id="pgfId-860279"></a>Arguments </h4>
<p>
<a id="pgfId-860286"></a></p>
<table class="webflareTable" id="#id860280">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-860282"></a><code>level={1 | 2}</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-860284"></a>Specifies trapezoidal integration when performing integrations and calculates Isub for Vgs &lt; Vth. When <code>level</code> is set to <code>1</code>, the software uses backward Euler integration and sets Isub=0 when Vgs &lt; Vth. When <code>level</code> is set to <code>2</code>, the software uses trapezoidal integration and calculates Isub when Vgs &lt; Vth. Setting <code>accuracy</code> to <code>2</code> is more accurate, but increases simulation time when compared to when <code>accuracy</code> is set to <code>1</code>.</p>
<p>
<a id="pgfId-860285"></a>Default: 1</p>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-860287"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-860288"></a>accuracy level = 2 </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-860289"></a>*relxpert: accuracy 2 </pre>

<p>
<a id="pgfId-860290"></a>Specifies that trapezoidal integration will be used and lsub will be calculated when Vgs &lt; Vth.</p>

<h3>
<a id="pgfId-860292"></a><a id="63713"></a>age ( *relxpert: .age )</h3>
<a id="pgfId-860293"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
age time = { value [<code><em>value1 value2...</em></code>]}</pre>
<h4>
<a id="pgfId-860294"></a>Description</h4>

<p>
<a id="pgfId-860295"></a>Specifies the time at which the transistor degradation and degraded SPICE model parameters are calculated.</p>

<h4>
<a id="pgfId-860296"></a>Arguments </h4>
<p>
<a id="pgfId-860304"></a></p>
<table class="webflareTable" id="#id860297">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-860299"></a><span class="webflare-courier-new" style="white-space:pre"><em>value</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-860301"></a>The duration in the future at which the transistor degradation and degraded SPICE model parameters are to be calculated. Attach the suffix y (year), h (hour) or m (minute).</p>
<p>
<a id="pgfId-860302"></a>There should be no space between the number and suffix. For example, 10m, 1e-5sec.</p>

</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-860305"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-860306"></a>age time = [10y]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-860307"></a>*relxpert: age 10y</pre>

<p>
<a id="pgfId-860308"></a>Specifies the age time as 10 years.</p>

<h3>
<a id="pgfId-860310"></a><a id="59246"></a>agelevel_only ( *relxpert: .agelevel_only )</h3>
<a id="pgfId-860311"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
agelevel_only value=[(<code><em>level_value</em></code> <code><em>model_name</em></code>) (<code><em>level_value</em></code> <code><em>model_name</em></code>) ...] type=include|exclude</pre>
<h4>
<a id="pgfId-860312"></a>Description</h4>

<p>
<a id="pgfId-860313"></a>Specifies the age level for performing reliability analysis on the specified model(s). You can specify different age levels for different set of models.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-860314"></a>This option also supports the URI defined <code>agelevel</code> statement. </div>
<p>
<a id="pgfId-860315"></a>If <em>model_name</em> is not specified, the simulation is performed on all of the devices at the specified age level. </p>

<h4>
<a id="pgfId-860316"></a>Arguments </h4>
<p>
<a id="pgfId-860330"></a></p>
<table class="webflareTable" id="#id860317">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-860319"></a><span class="webflare-courier-new" style="white-space:pre"><em>level_value</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-860321"></a>Sets the level for reliability analysis, which is essentially the age level number of the reliability analysis is to be performed.</p>

<p>
<a id="pgfId-860322"></a>The following levels can be used to specify Cadence internal ageMOS models:</p>
<ul><li>
<a id="pgfId-860323"></a><code>0</code>:  Specifies HCI reliability analysis.</li><li>
<a id="pgfId-860324"></a><code>1</code>:  Specifies NBTI reliability analysis.</li><li>
<a id="pgfId-860325"></a><code>2</code>:  Specifies PBTI reliability analysis. </li></ul>



</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-860327"></a><span class="webflare-courier-new" style="white-space:pre"><em>model_name</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-860329"></a>Lists the models at one age level to perform reliability analysis.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-956109"></a>type</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-956111"></a>Includes or excludes the specified aging levels. The default value is <code>include</code>.</p>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-860331"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-860332"></a>agelevel_only value=[(101 pmos1 pmos2) (112 pmos1 pmos2)] </pre>

<p>
<a id="pgfId-860333"></a>Runs reliability analysis on <code>pmos1</code> and <code>pmos2</code> models with age levels <code>101</code> and <code>112</code>.</p>

<h3>
<a id="pgfId-874541"></a>aging_analysis_name</h3>
<a id="pgfId-874563"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
aging_analysis_name value=analysis_name</pre>
<h4>
<a id="pgfId-874564"></a>Description</h4>

<p>
<a id="pgfId-874604"></a>Specifies the name of the analysis that needs to be used as aging analysis instead of transient analysis. You cannot specify a stress transient analysis as aging analysis in the reliability block.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-874605"></a>Currently, <code>aging_analysis_name</code> supports only ac and dc analyses. </div>

<h4>
<a id="pgfId-874568"></a>Arguments </h4>
<p>
<a id="pgfId-874582"></a></p>
<table class="webflareTable" id="#id874569">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-874579"></a><span class="webflare-courier-new" style="white-space:pre"><em>value</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-874581"></a>Name of the analysis to be used in aging simulation. Possible values are <code>ac</code> and <code>dc</code>.</p>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-874583"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-874584"></a>aging_analysis_name value=ac</pre>
<h3>
<a id="pgfId-873038"></a><a id="94797"></a>check_neg_aging (*relxpert: .check_neg_aging)</h3>
<a id="pgfId-873052"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
check_neg_aging type={warn|error|ignore} clamp={yes|no}</pre>
<h4>
<a id="pgfId-873074"></a>Description</h4>

<p>
<a id="pgfId-873081"></a>Reports the negative degradation values for a model.</p>

<h4>
<a id="pgfId-873112"></a>Arguments </h4>
<p>
<a id="pgfId-873126"></a></p>
<table class="webflareTable" id="#id873113">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-873115"></a><span class="webflare-courier-new" style="white-space:pre"><em>type</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-873121"></a>Specifies the type of message to be generated when negative aging occurs. Possible values are <code>error</code> and <code>warn</code>. The default value is <code>error</code>.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-873123"></a><span class="webflare-courier-new" style="white-space:pre"><em>clamp</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-873125"></a>Specifies whether or not to clamp the degradation values for negative aging. Default is <code>no</code>. If set to <code>yes</code>, Spectre clamps the degradation values to be the same as fresh values and generates a warning message for negative aging.</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-873098"></a>Example</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-873190"></a>check_neg_aging type=warn clamp=yes</pre>
<h3>
<a id="pgfId-881468"></a><a id="44268"></a>degradation_check (*relxpert: .degradation_check)</h3>
<a id="pgfId-881502"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
degradation_check type=[warn | error] parameter=[deltad | dvth | didlin | didsat | did | dgm | dgds] value=&lt;degradation_value&gt; {agelevel=agelevel_number} 
{sub=[sub1 sub2 sub3 &#8230;] | mod=[mod1 mod2 mod3&#8230;] | dev=[inst1 inst2 inst3&#8230;]}[error=<code><em>filename</em></code>]</pre>
<h4>
<a id="pgfId-881530"></a>Description</h4>

<p>
<a id="pgfId-881556"></a>Checks for device degradation and issues a warning or error if the device&#39;s degradation value (in <code>bo0</code> output) or <code>vth</code>, <code>idlin</code>, <code>idsat</code>, <code>gm</code>, and/or <code>gds</code> degradation (in <code>bt0</code> output) is greater than the value specified by the value argument. </p>
<p>
<a id="pgfId-882003"></a>You can also use reliability warning/error model parameters, such as <code>warn_dvth</code>, <code>error_dvth</code> and so on, to check for device degradation. However, if warning/error model parameters are also specified along with the <code>degradation_check</code> control statement, the <code>degradation_check</code> control statement takes precedence over the model parameters.</p>
<p>
<a id="pgfId-881746"></a>You can output the degradation check results to a file using the <code>degradation_check_output </code><span class="webflare-courier-new" style="white-space:pre"><em>filename</em></span> reliability control statement. You can use the <code>degradation_check_exception </code><span class="webflare-courier-new" style="white-space:pre"><em>filename</em></span> control statement to specify the devices for which degradation check needs to be skipped.</p>

<h4>
<a id="pgfId-881532"></a>Arguments </h4>
<p>
<a id="pgfId-881542"></a></p>
<table class="webflareTable" id="#id881533">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-881535"></a><span class="webflare-courier-new" style="white-space:pre"><em>type</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-881537"></a>Specifies the message type. Possible values are <code>error</code> or <code>warning</code>. For <code>type=warning</code>, only the first five warning messages are reported. For <code>type=error</code>, Spectre terminates with the error message.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-881539"></a><span class="webflare-courier-new" style="white-space:pre"><em>parameter</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-881541"></a>Specifies the model parameters for the device. Possible values are <code>deltad</code>, <code>dvth</code>, <code>didlin</code>, <code>didsat</code>, <code>did</code>, <code>dgm</code>, or <code>dgds</code>. <code>deltad</code> refers to the degradation value in the <code>bo0</code> output. <code>dvth</code>, <code>didlin</code>, <code>didsat</code>, <code>did</code>, <code>dgm</code>, <code>dgds</code> refer to <code>Vth</code>, <code>Idlin</code>, <code>Idsat</code>, either <code>Idlin</code> or <code>Idsat</code>, <code>Gm</code>, or <code>Gds</code> degradation in the <code>bt0</code> output.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-881712"></a>value</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-881714"></a>Specifies the degradation value for the model. An error or warning is issued if the degradation for the specified parameter is greater than the degradation value.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-881716"></a>agelevel</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-881718"></a>Specifies the age level for the model.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-883081"></a>sub</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-883083"></a>Specifies the name of the subcircuit.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-883085"></a>mod</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-883087"></a>Specifies the list of models.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-883089"></a>dev</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-883091"></a>Specifies the name of the instances.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-881720"></a>filename</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-881722"></a>Name of the file to which the error will be written.</p>
</td>
</tr>
</tbody></table>

<ul><li>
<a id="pgfId-883094"></a>You can specify only one of the <code>sub</code>, <code>mod</code>, or <code>dev</code> arguments in the control statement. A combination is not allowed. If none of these arguments is specified, then all devices are checked for degradation.</li><li>
<a id="pgfId-883123"></a>The <code>agelevel</code> argument can be specified only for the <code>deltad</code> parameter. In addition, if agelevel is specified for the <code>deltad</code> parameter, then degradation check is performed only at that agelevel. </li><li>
<a id="pgfId-883150"></a>Only one <code>degradation_check</code> control statement is allowed. If multiple statements are specified, only the last statement is considered by the simulator.</li></ul>



<h4>
<a id="pgfId-881543"></a>Example</h4>

<p>
<a id="pgfId-881522"></a>degradation_check type=warn parameter=deltad value=0.25</p>
<p>
<a id="pgfId-881775"></a>The above statement issues a warning if any device&#39;s total <code>deltad</code> in <code>bo0</code> is greater than <code>0.25</code>.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-883171"></a>degradation_check type=error parameter=dvth value=0.7 mod=[ nmos ]</pre>

<p>
<a id="pgfId-883172"></a>Issues an error if any device with model <code>nmos</code> has <code>d_Vth</code> value greater than 0.7 in <code>bt0</code>.</p>

<h3>
<a id="pgfId-882239"></a><a id="88666"></a>degradation_check_exception (*relxpert: .degradation_check_exception)</h3>
<a id="pgfId-882260"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
degradation_check_exception file=<code><em>filename</em></code></pre>
<h4>
<a id="pgfId-882276"></a>Description</h4>

<p>
<a id="pgfId-882286"></a>Excludes the devices specified in the file from degradation check.</p>

<h4>
<a id="pgfId-882307"></a>Arguments</h4>
<p>
<a id="pgfId-882314"></a></p>
<table class="webflareTable" id="#id882325">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-882327"></a><span class="webflare-courier-new" style="white-space:pre"><em>filename</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-882329"></a>Name of the file containing devices that need to be excluded from degradation check.</p>

</td>
</tr>
</tbody></table>
<h3>
<a id="pgfId-882354"></a><a id="95665"></a>degradation_check_output (*relxpert: .degradation_check_output)</h3>
<a id="pgfId-882371"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
degradation_check_output file = <code><em>filename</em></code></pre>
<h4>
<a id="pgfId-882392"></a>Description</h4>

<p>
<a id="pgfId-882412"></a>Outputs the device degradation errors and warnings generated by the <code>degradation_check</code> control statement or the reliability model parameters for degradation check to a specified file. The file contains the degradation information in the following format:</p>
<p>
<a id="pgfId-882432"></a></p>
<table class="webflareTable" id="#id882437">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id882439">
<a id="pgfId-882439"></a>Device</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id882441">
<a id="pgfId-882441"></a>Type</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id882443">
<a id="pgfId-882443"></a>Degradation_Value</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id882445">
<a id="pgfId-882445"></a>Limit_Value</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id882447">
<a id="pgfId-882447"></a>AgeLevel</span>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-882449"></a><code>X1.m1</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-882451"></a><code>warning</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-882453"></a><code>d_vth=0.3</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-882455"></a><code>warn_dvth=0.2</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-882457"></a><code>agelevel=0</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-882459"></a><code>X1.m2</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-882461"></a><code>error</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-882463"></a><code>d_idsat=0.004</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-882465"></a><code>error_didsat=0.003</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-882467"></a><code>agelevel=2</code></p>
</td>
</tr>
</tbody></table>

<h4>
<a id="pgfId-882394"></a>Arguments</h4>
<p>
<a id="pgfId-882400"></a></p>
<table class="webflareTable" id="#id882395">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-882397"></a><span class="webflare-courier-new" style="white-space:pre"><em>filename</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-882399"></a>Name of the file where the output needs to be written.</p>

</td>
</tr>
</tbody></table>
<h3>
<a id="pgfId-860335"></a><a id="63440"></a>degsort (*relxpert: .degsort)</h3>
<a id="pgfId-860336"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
degsort {threshold = <code><em>value</em></code> | number = <code><em>value</em></code> } [phys = <code><em>value</em></code>] [item = <code><em>value</em></code>] [value=yes|no}</pre>
<h4>
<a id="pgfId-860337"></a>Description</h4>

<p>
<a id="pgfId-860338"></a>Prints MOS transistors based on the threshold and number settings. The results are sorted in the descending order of degradation.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-860339"></a>The <code>threshold</code> and <code>number</code> arguments are mutually exclusive. Therefore, only one of them can be specified with <code>degsort</code> to print the sorted device degradation results.</div>

<h4>
<a id="pgfId-860340"></a>Arguments </h4>
<p>
<a id="pgfId-860350"></a></p>
<table class="webflareTable" id="#id860341">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-860343"></a><code>threshold=</code><span class="webflare-courier-new" style="white-space:pre"><em>value</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-860345"></a>Pints the transistors having degradation values greater than threshold value. <span class="webflare-courier-new" style="white-space:pre"><em>value</em></span> can be in decimal notation (xx.xx) or in engineering notation (x.xxe+xx).</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-860347"></a><code>number=</code><span class="webflare-courier-new" style="white-space:pre"><em>value</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-860349"></a>Prints only the first <span class="webflare-courier-new" style="white-space:pre"><em>value</em></span> transistors having the highest degradations. For example, if number=100, the software will print the first 100 transistors with highest degradations.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-882098"></a>phys</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-882100"></a>Reliability effect to be used for sorting. This parameter is available only for TMI aging flow.<br />Possible values are <code>hci_bti</code>, <code>hci</code>, and <code>bti</code>.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-882102"></a>item</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-882104"></a>Reliability item is used for sorting. It is only available for TMI aging flow. This parameter is available only for TMI aging flow. Possible values are <code>0</code> (or <code>didsat)</code>, <code>1</code> (or <code>didlin</code>), <code>2</code> (or <code>dvtlin</code>), and <code>3</code> (or <code>lifetime</code>).</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-948784"></a>value</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-948810"></a>Prints the transistors having degradation values sorted in decreasing order. It cannot be used for TMI aging model. The default value is <code>yes</code>.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-952725"></a>If the parameters <code>threshold</code> | <code>number</code>, or <code>item</code> are specified, the value is set to <code>yes</code> by default.</div>

</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-860351"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-860352"></a>degsort threshold = 0.1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-860353"></a>*relxpert: degsort -threshold 0.1</pre>

<p>
<a id="pgfId-860354"></a>Prints all MOS transistors that have degradation value greater than <code>0.1</code>.</p>

<h3>
<a id="pgfId-872830"></a><a id="94837"></a>deg_ratio (*relxpert: .deg_ratio)</h3>
<a id="pgfId-873658"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
deg_ratio type = { [ include | exclude ] [ hci = hci_ratio_value nbti = nbti_ratio_value pbti = pbti_ratio_value bti = bti_ratio_value hcin = nmos_hci_ratio_value hcip = pmos_hci_ratio_value btin = nmos_bti_ratio_value btip = pmos_bti_ratio_value] 
dev = [inst1 inst2 inst3...] }</pre>
<h4>
<a id="pgfId-872868"></a>Description</h4>

<p>
<a id="pgfId-950023"></a>Specifies the HCI, NBTI, and PBTI degradation weighting ratio for devices in a Spectre simulation. The HCI, NBTI, and PBTI ratio values are specified by using the <span class="webflare-courier-new" style="white-space:pre"><em>hci_ratio_value</em></span>, <span class="webflare-courier-new" style="white-space:pre"><em>nbti_ratio_value</em></span>, <span class="webflare-courier-new" style="white-space:pre"><em>pbti_ratio_value</em></span>, respectively. The HCI ratio values for nmos and pmos are specified using <span class="webflare-courier-new" style="white-space:pre"><em>nmos_hci_ratio_value</em></span> and <span class="webflare-courier-new" style="white-space:pre"><em>pmos_hci_ratio_value</em></span>, respectively. The BTI ratio values for nmos and pmos are specified using <span class="webflare-courier-new" style="white-space:pre"><em>nmos_bti_ratio_value</em></span> and <span class="webflare-courier-new" style="white-space:pre"><em>pmos_bti_ratio_value</em></span>, respectively. The new degradation values for the specified devices is obtained by multiplying the original degradation value.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-950095"></a>Specifying <code>nbti=</code><span class="webflare-courier-new" style="white-space:pre"><em>nbti_ratio_value</em></span> is the same as specifying <code>btip=</code><span class="webflare-courier-new" style="white-space:pre"><em>pmos_bti_ratio_value</em></span> and specifying <code>pbti=</code><span class="webflare-courier-new" style="white-space:pre"><em>pbti_ratio_value</em></span> is the same as specifying <code>btin=</code><span class="webflare-courier-new" style="white-space:pre"><em>nmos_bti_ratio_value</em></span>. If <code>hci</code> and <code>hcip</code>/<code>hcin</code> are specified, <code>hcip</code>/<code>hcin</code> will take precedence over <code>hci</code>.</div>

<h4>
<a id="pgfId-872905"></a>Arguments </h4>
<p>
<a id="pgfId-872965"></a></p>
<table class="webflareTable" id="#id872952">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-872954"></a><code>type=include</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-872956"></a>Include the specified devices during TMI aging simulation flow.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-872958"></a>type=exclude</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-872960"></a>Exclude the specified devices during TMI aging simulation flow.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-873678"></a>hci</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-873680"></a>Specifies the HCI degradation weighting ratio in total degradation. The specified value should be greater than 0.0. The default value is 1.0.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-873682"></a>nbti</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-873684"></a>Specifies the NBTI degradation weighting ratio in total degradation. The specified value should be greater than 0.0. The default value is 1.0.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-873686"></a>pbti</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-873688"></a>Specifies the PBTI degradation weighting ratio in total degradation. The specified value should be greater than 0.0. The default value is 1.0.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-873736"></a>bti</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-873742"></a>Specifies the NBTI/PBTI degradation weighting ratio in total degradation. The specified value should be greater than 0.0. The default value is 1.0.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-949803"></a>hcin</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-949840"></a>Specifies the HCI degradation weighting ratio for nmos in total degradation. The specified value should be greater than 0.0. The default value is 1.0.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-949807"></a>hcip</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-949885"></a>Specifies the HCI degradation weighting ratio for pmos in total degradation. The specified value should be greater than 0.0. The default value is 1.0.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-949811"></a>btin</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-949933"></a>Specifies the PBTI degradation weighting ratio for nmos in total degradation. The specified value should be greater than 0.0. The default value is 1.0.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-949815"></a>btip</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-949979"></a>Specifies the NBTI degradation weighting ratio for pmos in total degradation. The specified value should be greater than 0.0. The default value is 0.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-872962"></a><code>dev</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-872964"></a>Specify the instances that need to be included or excluded for degradation ratio during TMI aging simulation flow</p>

</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-872966"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-872967"></a>deg_ratio type=include [ hci = 0.5 nbti = 0.3 pbti = 0.2 ] dev = [I1]</pre>
<h3>
<a id="pgfId-860356"></a><a id="57147"></a>deltad ( *relxpert: .deltad )</h3>
<a id="pgfId-860357"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
deltad value = <code><em>deltad_value</em></code> <code><em>model_name </em></code>[item = <code><em>value</em></code>]</pre>
<h4>
<a id="pgfId-860358"></a>Description</h4>

<p>
<a id="pgfId-860359"></a>Requests the calculation of lifetime for each transistor under the circuit operating conditions. You can use multiple <code>deltad</code> statements for different types of transistors.</p>

<h4>
<a id="pgfId-860360"></a>Arguments </h4>
<p>
<a id="pgfId-860383"></a></p>
<table class="webflareTable" id="#id860361">
<tbody><tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-860363"></a><code>value=</code><span class="webflare-courier-new" style="white-space:pre"><em>deltad_value</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-860367"></a>  </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-860372"></a>The degradation value can be transconductance <img width="78" height="23" src="images/chap7-92.gif" /><span>, linear or saturation drain current degradation </span><img width="76" height="20" src="images/chap7-93.gif" /><span>, threshold voltage shift </span><img width="48" height="23" src="images/chap7-94.gif" /><span>, or any other degradation monitor, depending on the definitions of the lifetime parameters </span></p>
<em>H</em><em>m</em><span>. </span><span class="webflare-courier-new" style="white-space:pre"><em>deltad_value</em></span><span> can be in decimal notation (xx.xx) or in engineering notation (x.xxe+xx).</span></td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-860380"></a><span class="webflare-courier-new" style="white-space:pre"><em>model_name</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-860382"></a>Name of a specific model whose lifetime is calculated. The model name must be the same as specified in the <code>.model</code> card.</p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-862167"></a>
Currently, specifying the model name is not supported.</div>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-882052"></a>item</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-882054"></a>Name of electrical parameter for lifetime estimation. This parameter is available only for TMI aging flow. Possible values are <code>0</code> (or <code>didsat)</code>, <code>1</code> (or <code>didlin</code>), <code>2</code> (or <code>dvtlin</code>), and <code>3</code> (or <code>lifetime</code>).</p>

</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-860384"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-860385"></a>deltad value=0.1 pmos </pre>

<p>
<a id="pgfId-860386"></a>Specifies that the lifetime calculation will be done under the circuit operating conditions for <code>pmos</code> transistors.</p>

<h3>
<a id="pgfId-865529"></a><a id="52913"></a>dumpagemo<a id="dumpagemodel"></a>del (*relxpert: .dumpagemodel)</h3>
<a id="pgfId-865559"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dumpagemodel file = <code><em>filename</em></code> dev = [<code><em>devicelist</em></code>]</pre>
<h4>
<a id="pgfId-865580"></a>Description</h4>

<p>
<a id="pgfId-865604"></a>Outputs the model card information for aged devices into the specified file. </p>

<h4>
<a id="pgfId-865618"></a>Arguments</h4>
<p>
<a id="pgfId-865628"></a></p>
<table class="webflareTable" id="#id865645">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-865647"></a><code>file</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-865649"></a>Specifies the file name to which the model card information for the aged devices will be written.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-865668"></a><code>dev</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-865670"></a>Specifies the devices whose model card information will be output to the file. If <code>dev</code> is not specified, then the model card information for all the devices will be written to the specified file.</p>

</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-865673"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-865683"></a>dumpagemodel file = &#8220;agedModelFile&#8221;</pre>

<p>
<a id="pgfId-865716"></a>Specifies that the model card information for all the devices be written to the <code>agedModelFile</code> file.</p>

<h3>
<a id="pgfId-866111"></a><a id="87629"></a>enable_negativ<a id="enablenativeage"></a>e_age (*relxpert .enable_negative_age)</h3>
<a id="pgfId-866132"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
enable_negative_age value = { yes | no }</pre>
<h4>
<a id="pgfId-866144"></a>Description</h4>

<p>
<a id="pgfId-866154"></a>Enables the negative age value for customer URI output. For internal agelevel, the negative age values cannot be negative. If this option is not specified, all negative age values are set to 0.0.</p>

<h4>
<a id="pgfId-866188"></a>Arguments</h4>
<p>
<a id="pgfId-866198"></a></p>
<table class="webflareTable" id="#id866206">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-866286"></a><code>value</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-866210"></a>Specifies whether or not to enable the negative age value for the customer URI output. The default value is <code>no</code>.</p>

</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-881151"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-881152"></a>enable_negative_age value = yes</pre>
<h3>
<a id="pgfId-881155"></a><a id="16248"></a>enable_tm<a id="marker-881154"></a>i_uri</h3>
<a id="pgfId-874791"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
enable_tmi_uri value={yes|no} [tmishe=yes|no]</pre>
<h4>
<a id="pgfId-874792"></a>Description</h4>

<p>
<a id="pgfId-947310"></a>Enables the TMI and URI flow. By default (<code>value=no</code> and <code>tmishe=no</code>), Spectre only supports the TMI flow if the TMI library is present, otherwise, it supports the URI flow. </p>
<p>
<a id="pgfId-947311"></a>If both TMI or URI libraries are present and you want to enable both TMI and URI flow models (for example, TMI for normal SPICE and URI for aging calculation), you can set the value to <code>yes</code> to enable both calculations. If you want to also enable the TMI self-heating flow, set the value of the <code>tmishe</code> parameter to <code>yes</code>. Then, Spectre passes the TMI dtemp value to URI for reliability calculation.</p>

<h4>
<a id="pgfId-874794"></a>Arguments </h4>
<p>
<a id="pgfId-874804"></a></p>
<table class="webflareTable" id="#id874795">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-874797"></a><span class="webflare-courier-new" style="white-space:pre"><em>yes</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-874799"></a>Enable the TMI and URI flow.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-874801"></a><span class="webflare-courier-new" style="white-space:pre"><em>no</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-874803"></a>Support the TMI flow if TMI library is present.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-893020"></a>tmishe=yes</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-893022"></a>Enable the self-heating flow and pass the dtemp value to URI for reliability calculation. This option sets the values of the TMI aging parameters <code>tmiage</code> and <code>tmishe</code> to 1.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-893103"></a>tmishe=no</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-893105"></a>Do not perform TMI self heating.</p>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-874805"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-874806"></a>enable_tmi_uri value=yes tmishe=yes</pre>
<h3>
<a id="pgfId-863240"></a><a id="14907"></a>gradual_aging_agepoint (*relxpert: .agepoint)</h3>
<a id="pgfId-863304"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
gradual_aging_agepoint points=[<code><em>age_point_list</em></code>]</pre>
<h4>
<a id="pgfId-863618"></a>Description</h4>

<p>
<a id="pgfId-863619"></a>Specifies the agepoint method for the gradual aging flow. Use this option to define the selected age points to perform reliability simulation. The results files for each step are suffixed with age point values.</p>

<h4>
<a id="pgfId-863260"></a>Arguments </h4>
<p>
<a id="pgfId-863284"></a></p>
<table class="webflareTable" id="#id863261">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-863263"></a><span class="webflare-courier-new" style="white-space:pre"><em>age_point_list</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-863265"></a>Specifies the age point list. Note that the point&#8217;s value should be more than 0. The value in the list should be arranged in ascending order and no negative value should be specified.</p>

</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-863285"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-863286"></a>gradual_aging_agepoint points=[1y 3y 5y 8y]</pre>

<p>
<a id="pgfId-863287"></a>Specifies that the simulation be run for age points 1y, 3y, 5y, and 8y.</p>

<h3>
<a id="pgfId-863230"></a><a id="33855"></a>gradual_aging_agestep (*relxpert: .agestep)</h3>
<a id="pgfId-863553"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
gradual_aging_agestep type=[log|lin] start=<code><em>start_time</em></code> stop=<code><em>stop_time</em></code> total_step=<code><em>total_step_num</em></code></pre>
<h4>
<a id="pgfId-863568"></a>Description</h4>

<p>
<a id="pgfId-863569"></a>Specifies the agestep method for gradual aging flow. Use this option to define the reliability simulation from the start time to the stop time. The total steps of reliability simulation are specified by <span class="webflare-courier-new" style="white-space:pre"><em>total_step_num</em></span>. Two age step types, linear and logarithm, can be specified. </p>

<h4>
<a id="pgfId-863570"></a>Arguments </h4>
<p>
<a id="pgfId-863576"></a></p>
<table class="webflareTable" id="#id863571">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-863573"></a><code>type</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-863708"></a>Specifies the type of agestep, linear (<code>lin</code>) or logarithm (<code>log</code>). The default type is <code>lin</code>. When you specify <code>lin</code>, the time step is calculated using the following formula:</p>
<p>
<a id="pgfId-863709"></a><code>(stop_time-start_time)/total_step</code></p>
<p>
<a id="pgfId-863710"></a>When you specify <code>log</code>, the time step is calculated using the following formula:</p>
<p>
<a id="pgfId-863711"></a><code>[log(stop_time)-log(start_time)]/total_step</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-863752"></a><code>start</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-863754"></a>The start time of reliability simulation. Default is 0.0 for linear type and 1.0 for logarithm. </p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-863866"></a>The time unit can be set as y(year), d(day), h(hour), m(minute) and s(second).</div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-863793"></a><code>stop</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-863795"></a>The stop time for reliability simulation. </p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-863890"></a>The time unit can be set as y(year), d(day), h(hour), m(minute) and s(second).</div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-863817"></a><code>total_step</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-863819"></a>The total number of steps for reliability simulation. The value should be more than 1.</p>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-863577"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-863578"></a>gradual_aging_agestep type=log start=1y stop=10y total_step=6 </pre>

<p>
<a id="pgfId-863579"></a>Specifies that the agestep method will be used for the gradual aging flow where the type of agestep is logarithm, the start and stop time for simulation is 1 year and 10 years, respectively, and the total steps for reliability simulation is 6.</p>

<h3>
<a id="pgfId-863555"></a><a id="60901"></a>idmethod ( *relxpert: .idmethod )</h3>
<a id="pgfId-860389"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
idmethod type = { ids | idrain | idstatic }</pre>
<h4>
<a id="pgfId-860390"></a>Description</h4>

<p>
<a id="pgfId-860391"></a>Specifies how the simulator obtains the drain current (Id) to perform reliability calculations. The following types of drain currents, which are available from SPICE, are supported by reliability analysis:</p>
<ul><li>
<a id="pgfId-860392"></a>Dynamic drain current (also called AC drain current) - this is the current that flows in to the drain node.</li><li>
<a id="pgfId-860393"></a>Static drain current (also called channel drain current, DC drain current, or Ids).</li></ul>


<h4>
<a id="pgfId-860394"></a>Arguments </h4>
<p>
<a id="pgfId-860404"></a></p>
<table class="webflareTable" id="#id860395">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-860397"></a><code>type=ids</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-860399"></a>Instructs the reliability simulator to use Ids static current (Default).</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-860401"></a><code>type=idrain</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-860403"></a>Instructs the reliability simulator to use dynamic drain current.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-867077"></a>type=idstatic</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-867079"></a>Instructs the reliability simulator to use the terminal static current.</p>

</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-860405"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-860406"></a>idmethod type=idrain (new format)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-860407"></a>*relxpert: idmethod idrain</pre>

<p>
<a id="pgfId-860408"></a>Specifies the reliability simulator to print dynamic drain current.</p>

<h3>
<a id="pgfId-860410"></a><a id="87536"></a>igatemethod (*relxpert: .igatemethod)</h3>
<a id="pgfId-860411"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
igatemethod type={calc | spice}</pre>
<h4>
<a id="pgfId-860412"></a>Description</h4>

<p>
<a id="pgfId-860413"></a>Specifies the method used for obtaining the gate terminal current of a MOSFET. </p>
<p>
<a id="pgfId-861882"></a>During MOSFET HCI simulation, the gate terminal current is required for calculating the degradation value. The simulator can either calculate this value using internal Igate model, or obtain it from the built-in SPICE model such as BSIM4 or PSP Igate model.</p>
<p>
<a id="pgfId-860415"></a>If this command is not used, the simulator calculates the gate terminal current using internal Igate model. </p>

<h4>
<a id="pgfId-860416"></a>Arguments </h4>
<p>
<a id="pgfId-860428"></a></p>
<table class="webflareTable" id="#id860417">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-860419"></a>calc</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-861899"></a>Calculates the gate terminal current using the internal Igate model (Default).</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-860424"></a>spice</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-860427"></a>Obtains the gate terminal current value using built-in SPICE model.</p>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-860429"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-860430"></a>igatemethod type=spice</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-860431"></a>*relxpert: igatemethod spice</pre>

<p>
<a id="pgfId-860432"></a>Specifies that the gate terminal current value should be from built-in SPICE model.</p>

<h3>
<a id="pgfId-860434"></a><a id="64571"></a>isubmethod (*relxpert: .isubmethod)</h3>
<a id="pgfId-860435"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
isubmethod type={ calc | spice }</pre>
<h4>
<a id="pgfId-860436"></a>Description</h4>

<p>
<a id="pgfId-861954"></a>Specifies the method used for obtaining substrate terminal current of a MOSFET.</p>
<p>
<a id="pgfId-861955"></a>During MOSFET HCI simulation, the substrate terminal current is required for calculating the degradation value. The simulator can either calculate this value using internal Isub model, or obtain it from the built-in SPICE model such as BSIM4 or PSP Isub model.</p>
<p>
<a id="pgfId-860439"></a>If this command is not used, the simulator calculates the substrate terminal current using internal Isub model.</p>

<h4>
<a id="pgfId-860440"></a>Arguments </h4>
<p>
<a id="pgfId-860451"></a></p>
<table class="webflareTable" id="#id860441">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-860443"></a>calc</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-861975"></a>Calculates the substrate terminal current using the internal Isub model (Default).</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-860447"></a>spice</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-860450"></a>Obtains the substrate terminal current value using built-in SPICE model</p>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-860452"></a>Example </h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-860453"></a>isubmethod type=spice</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-860454"></a>*relxpert: isubmethod spice</pre>

<p>
<a id="pgfId-860455"></a>Specifies that the substrate terminal current value should be obtained from the built-in SPICE model.</p>

<h3>
<a id="pgfId-873462"></a><a id="18206"></a>macrod<a id="macrodevice"></a>evice (*relxpert: .macrodevice)</h3>
<a id="pgfId-873476"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
macrodevice type=[appendparams|agemos] sub = [sub1 sub2 sub3 &#8230;] </pre>
<h4>
<a id="pgfId-873510"></a>Description</h4>

<p>
<a id="pgfId-873520"></a>Identifies the subcircuits in the netlist that are actually macro devices and therefore require special handling. You must specify at least one subcircuit. </p>

<h4>
<a id="pgfId-873547"></a>Arguments </h4>
<p>
<a id="pgfId-873557"></a></p>
<table class="webflareTable" id="#id873548">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-873550"></a>type</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-873552"></a>Specifies the method to handle macro devices. Possible values are <code>appendparams</code> (default) and <code>agemos</code>. For <code>type=appendparams</code>, there is no change in SPICE model parameters and the degradation value is appended to the related macro device. You can specify the subcircuit instance parameters to be scaled using <code>scaled_params []</code> in the aging model card.</p>
<p>
<a id="pgfId-986170"></a>For <code>type=agemos</code>, Spectre performs degradation of SPICE model parameters for the related macro device.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-873554"></a>sub</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-873556"></a>Specifies the subcircuit name.</p>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-873558"></a>Example </h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-873559"></a>macrodevice type=appendparams sub=[inv]</pre>
<h3>
<a id="pgfId-860457"></a><a id="38000"></a>maskdev ( *relxpert: .maskdev )</h3>
<a id="pgfId-860458"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
maskdev type={include | exclude} { sub = [sub1 sub2 sub3 &#8230;] mod = [mod1 mod2 mod3 &#8230;] dev = [inst1 inst2 inst3 &#8230;] }</pre>
<h4>
<a id="pgfId-860459"></a>Description</h4>

<p>
<a id="pgfId-860460"></a>Includes or excludes:</p>
<ul><li>
<a id="pgfId-860461"></a>instances which belong to the subcircuit listed in the subckt list</li><li>
<a id="pgfId-860462"></a>devices which belong to the model listed in the model list</li><li>
<a id="pgfId-860463"></a>devices which are listed in the instance list</li></ul>



<h4>
<a id="pgfId-860464"></a>Arguments </h4>
<p>
<a id="pgfId-860486"></a></p>
<table class="webflareTable" id="#id860465">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-860467"></a><code>type=include</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-862548"></a>Performs reliability simulation on the specified devices, or the models that belong to the listed subcircuit, or devices that belong to the listed model only.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-860471"></a><code>type=exclude</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-862575"></a>Excludes the listed devices, or the models that belong to the listed subcircuit, or the devices that belong to the specified model during reliability simulation.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-860475"></a><code>sub</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-860477"></a>Specifies the subcircuit(s) for which the related instances should be included or excluded while performing reliability analysis.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-860479"></a><code>mod</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-860481"></a>Specifies the models for which the related devices should be included or excluded while performing reliability analysis.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-860483"></a><code>dev</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-860485"></a>Specifies the instances to be included or excluded during reliability analysis.</p>

</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-860487"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-860488"></a>maskdev type=include sub=[inv] mod=[nmos pmos] dev=[I1 I2 I3 I4]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-860489"></a>*relxpert: maskdev include subckt = [inv] model=[nmos pmos] instance=[I1 I2 I3 I4]</pre>

<p>
<a id="pgfId-860490"></a>Includes the models that belong to the <code>inv</code> subcircuit and the <code>pmos</code> and <code>nmos</code> models. In addition, it includes the <code>l1</code>, <code>l2</code>, <code>l3</code>, and <code>l4</code> devices.</p>

<h3>
<a id="pgfId-860492"></a><a id="51624"></a>minage ( *relxpert: .minage )</h3>
<a id="pgfId-860493"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
minage value = <code><em>minage_value</em></code></pre>
<h4>
<a id="pgfId-860494"></a>Description</h4>

<p>
<a id="pgfId-860495"></a>Sets the smallest Age value for which degraded SPICE model parameters are calculated. This statement speeds up aging calculation by using fresh SPICE model parameters if the transistor Age value is smaller than the specified <span class="webflare-courier-new" style="white-space:pre"><em>minage_value</em></span>.</p>

<h4>
<a id="pgfId-860496"></a>Arguments </h4>
<p>
<a id="pgfId-860502"></a></p>
<table class="webflareTable" id="#id860497">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-860499"></a><code>value=</code><span class="webflare-courier-new" style="white-space:pre"><em>minage_value</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-860501"></a>Specifies the smallest Age value for which degraded SPICE model parameters are calculated. <span class="webflare-courier-new" style="white-space:pre"><em>minage_value</em></span> can be in decimal notation (xx.xx) or in engineering notation (x.xxe+xx).</p>

</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-860503"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-860504"></a>minage value = 0.001</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-860505"></a>*relxpert: minage 0.001</pre>

<p>
<a id="pgfId-860506"></a>Specifies that the smallest Age value, 0.001, for which degraded SPICE model parameters are calculated.</p>

<h3>
<a id="pgfId-860508"></a><a id="43855"></a>opmethod  (*relxpert: .opmethod )</h3>
<a id="pgfId-860509"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
opmethod type = { calc | spice }</pre>
<h4>
<a id="pgfId-860510"></a>Description</h4>

<p>
<a id="pgfId-860511"></a>Specifies whether the Igate or Isub value should be obtained from the SPICE models (for example, BSIM3 or BSIM4) or the internal Igate or Isub equation should be used. </p>

<h4>
<a id="pgfId-860512"></a>Arguments </h4>
<p>
<a id="pgfId-860522"></a></p>
<table class="webflareTable" id="#id860513">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-860515"></a><code>calc</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-860517"></a>Calculates the gate and substrate terminal current using the Cadence Igate and Isub model equations (Default).</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-860519"></a><code>spice</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-860521"></a>Obtains the gate and substrate terminal current value from the SPICE model.</p>

</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-860523"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-860524"></a>opmethod type=spice</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-860525"></a>*relxpert: opmethod spice</pre>

<p>
<a id="pgfId-860526"></a>Specifies that the gate and substrate terminal current value should be obtained from the SPICE model.</p>

<h3>
<a id="pgfId-881839"></a>output_inst_param (*relxpert: .output_inst_param)</h3>
<a id="pgfId-881885"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
output_inst_param list=[param1 param2...]</pre>
<h4>
<a id="pgfId-881886"></a>Description</h4>

<p>
<a id="pgfId-881887"></a>Specify the names of the instance parameters, defined in URI shared library, to be output into <code>bo0</code> or <code>psf</code> file. </p>

<h4>
<a id="pgfId-881888"></a>Arguments </h4>
<p>
<a id="pgfId-881898"></a></p>
<table class="webflareTable" id="#id881889">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-881891"></a><code>list</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-881893"></a>Names of the URI instance parameters that need to be added to the <code>bo0</code> table. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-881971"></a>URI instance parameters must be specified, otherwise, Spectre generates a warning.</div>

</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-881899"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-881901"></a>output_inst_param list=[dtemp leff]</pre>

<p>
<a id="pgfId-881877"></a>The above statement adds the URI instance parameters <code>dtemp</code> and <code>leff</code> to the <code>bo0</code> file.</p>

<h3>
<a id="pgfId-892156"></a><a id="56846"></a>output_she_pow<a id="output_she_power"></a>er (*relxpert: .output_she_power)</h3>
<a id="pgfId-892218"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
output_she_power value=yes|no</pre>
<h4>
<a id="pgfId-892250"></a>Description</h4>

<p>
<a id="pgfId-892276"></a>Output the device power in the self-heating (SHE) flow. You must set the <code>rel_mode</code> reliability control statement to <code>she</code> or <code>all</code> for this control statement to work.</p>
<p>
<a id="pgfId-892278"></a>The device power is calculated using the <code>calcPower()</code> URI function and stored in the <code>.bw0</code> file.</p>

<h4>
<a id="pgfId-892313"></a>Argument</h4>
<p>
<a id="pgfId-892403"></a></p>
<table class="webflareTable" id="#id892330">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-892332"></a><code>value</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-892335"></a>If set to <code>yes</code>, outputs the device power in the self-heating flow. The default value is no.</p>

</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-892323"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-892412"></a>output_she_power value=yes</pre>
<h3>
<a id="pgfId-869216"></a>reset_analysis_param</h3>
<a id="pgfId-869217"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
reset_analysis_param type = { tran | dc | ac }</pre>
<h4>
<a id="pgfId-869218"></a>Description</h4>

<p>
<a id="pgfId-869219"></a>Replaces the stress and aging analysis parameters defined in the reliability analysis block with the specified analysis. </p>

<h4>
<a id="pgfId-869220"></a>Arguments </h4>
<p>
<a id="pgfId-869230"></a></p>
<table class="webflareTable" id="#id869221">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-869223"></a><code>type</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-869225"></a>Specifies the type of analysis that will replace the stress and aging parameters in the reliability analysis block.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-869285"></a>Currently, only the <code>tran</code> option is supported.</div>

</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-869231"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-869232"></a>reset_analysis_param type=tran</pre>
<h3>
<a id="pgfId-878059"></a><a id="57342"></a>output_device_de<a id="output_device_degrad"></a>grad ( *relxpert: .output_device_degrad )</h3>
<a id="pgfId-878471"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
output_device_degrad { vdd = &#8220;vdd_value1 [model_list...&#8221;] [ &#8220;vdd_value2 [model_list...&#8221;]]...} [ vdlin = vdlin_value1 [model_list...] [ vdlin_value2 [model_list...]...] [ vgsat = vgsat_value1 [model_list...] [ vgsat_value2 [model_list...]...] [ vglin = vglin_value1 [model_list...] [ vglin_value2 [model_list...]...] [ output_bias_voltage=yes|no ] [ correct_bias_voltage = no|yes ] tmi_lib_inc = <code><em>file_path </em></code>file = <code><em>file_path</em></code></pre>
<h4>
<a id="pgfId-878106"></a>Description</h4>

<p>
<a id="pgfId-878107"></a>Outputs the device degradation (gm, gds, Idlin, Idsat, Vth degradation) information to a <code>.bt0</code> file.</p>
<p>
<a id="pgfId-878631"></a>The device degradation calculation is based on following fixed bias conditions:</p>

<h4><em>
<a id="pgfId-878658"></a>NMOSFET</em></h4>

<ul><li>
<a id="pgfId-878659"></a><code>Idsat</code>: <code>Vds=Vdd</code>, <code>Vgs=Vgsat</code> if <code>Vgsat</code> is specified for the target model, otherwise <code>Vgs=Vdd</code>.</li><li>
<a id="pgfId-878661"></a><code>Idlin</code>: <code>Vds=Vdlin</code> if <code>Vdlin</code> is specified for the target model, otherwise <code>Vds=0.05V</code>; <code>Vgs=Vglin</code> if <code>Vglin</code> is specified for the target model, otherwise <code>Vgs=Vdd</code>.</li><li>
<a id="pgfId-878663"></a><code>gm</code>: <code>Vds=Vdlin</code> if <code>Vdlin</code> is specified for the target model, otherwise <code>Vds=0.05V</code>; <code>Vgs=Vglin</code> if<code> Vglin</code> is specified for the target model, otherwise <code>Vgs=Vdd</code>.</li><li>
<a id="pgfId-878665"></a><code>Vth</code>: <code>Vds=Vdlin</code> if <code>Vdlin</code> is specified for the target model, otherwise <code>Vds=0.05V</code>; <code>Vgs=Vglin</code> if <code>Vglin</code> is specified for the target model, otherwise <code>Vgs=Vdd</code>.</li><li>
<a id="pgfId-996360"></a><code>Gds</code>: <code>Vds=Vdlin</code> if <code>Vdlin</code> is specified for the target model, otherwise <code>Vds=0.05V</code>; <code>Vgs=Vglin</code> if <code>Vglin</code> is specified for the target model, otherwise <code>Vgs=Vdd</code>.</li></ul>





<h4><em>
<a id="pgfId-878790"></a>PMOSFET</em></h4>

<ul><li>
<a id="pgfId-878808"></a><code>Idsat</code>: <code>Vds=Vdd</code>, <code>Vgs=Vgsat</code> if <code>Vgsat</code> is specified for the target model, otherwise <code>Vgs=Vdd</code>.</li><li>
<a id="pgfId-878810"></a><code>Idlin</code>: <code>Vds=Vdlin</code> if <code>Vdlin</code> is specified for the target model, otherwise <code>Vds=-0.05V</code>; <code>Vgs=Vglin</code> if <code>Vglin</code> is specified for the target model, otherwise <code>Vgs=Vdd</code>.</li><li>
<a id="pgfId-878812"></a><code>gm</code>: <code>Vds=Vdlin</code> if <code>Vdlin</code> is specified for the target model, otherwise <code>Vds=-0.05V</code>; <code>Vgs=Vglin</code> if <code>Vglin</code> is specified for the target model, otherwise <code>Vgs=Vdd</code>.</li><li>
<a id="pgfId-878814"></a><code>Vth</code>: <code>Vds=Vdlin</code> if <code>Vdlin</code> is specified for the target model, otherwise <code>Vds=-0.05V</code>; <code>Vgs=Vglin</code> if <code>Vglin</code> is specified for the target model, otherwise <code>Vgs=Vdd</code>.</li><li>
<a id="pgfId-996421"></a><code>Gds</code>: <code>Vds=Vdlin</code> if <code>Vdlin</code> is specified for the target model, otherwise <code>Vds=-0.05V</code>; <code>Vgs=Vglin</code> if <code>Vglin</code> is specified for the target model, otherwise <code>Vgs=Vdd</code>.</li></ul>





<h4>
<a id="pgfId-878108"></a>Arguments </h4>
<p>
<a id="pgfId-878115"></a></p>
<table class="webflareTable" id="#id878109">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-987697"></a><code>vdd</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-987699"></a>Sets the bias voltage for the device to obtain <code>gm</code>, <code>gds</code>, <code>Idlin</code>, <code>Idsat</code>, and <code>Vth </code>degradation for the TMI aging flow. This argument is mandatory.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-878911"></a>vdlin</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-878913"></a>Vds value for Idlin/Vt/Gm measurement.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-878915"></a>vgsat</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-878917"></a>Vgs value for Idsat measurement</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-878919"></a>vglin</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-878921"></a>Vgs value for Idlin/Vt/Gm measurement.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-878177"></a>tmi_lib_inc</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-878179"></a>Specifies the path to the file containing TMI library path and include section. The following is the syntax of the file:</p>
<p>
<a id="pgfId-878191"></a><code>TMI include path [include section]</code></p>
<p>
<a id="pgfId-878204"></a>It is mandatory to specify the TMI include path. The include section is optional.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-987785"></a><code>file</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-987791"></a>Specifies the path of the include file.</p>
<p>
<a id="pgfId-987787"></a>The <code>output_device_degrad</code> options can be specified in the included file.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-987808"></a>output_bias_voltage</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-987810"></a>Specifies whether to print the model names and bias conditions for the specified devices in the <code>.bt0</code> and <code>,dpl</code> files. Possible values are <code>no</code> and <code>yes</code>. The default value is <code>no</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-987918"></a>correct_bias_voltage</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-988261"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-988263"></a>Specifies whether to correct the bias voltage of the specified devices. Possible values are <code>no</code> and <code>yes</code>. The default value is <code>yes</code>.</p>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-878116"></a>Example</h4>

<p>
<a id="pgfId-878097"></a>output_device_degrad vdd=[&#8220;1.2 nch1 nch2&#8221; &#8220;1.1 pch1 pch2&#8221;] tmi_lib_inc=&#8221;./model_bmg_1/BSIMCMG_TMI_Model_1_usage.l&#8221;</p>
<p>
<a id="pgfId-878223"></a>The above example sets the bias voltage for models <code>nch1</code> and <code>nch2</code> to <code>1.2</code>, and the bias voltage for models <code>pch1</code> and <code>pch2</code> to <code>1.1</code>.&#8217;</p>

<h3>
<a id="pgfId-952920"></a><a id="23482"></a>output_subckt_de<a id="output_subckt_degrad"></a>grad </h3>
<a id="pgfId-952921"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
output_subckt_degrad { sub= sub1 [sub2]...} { vdd = &#8220;vdd_value1 [subckt_list...&#8221;] [ &#8220;vdd_value2 [subckt_list...&#8221;]]...} [ vdlin = vdlin_value1 [subckt_list...] [ vdlin_value2 [subckt_list...]...] [ vgsat = vgsat_value1 [subckt_list...] [ vgsat_value2 [subckt_list...]...] [ vglin = vglin_value1 [subckt_list...] [ vglin_value2 [subckt_list...]...] { node = node_name1 [node1_terminals] [node2_name [node2_terminals]]... } { correct_bias_voltage = no|yes } {ivth = &#8220;value1 model1&#8221; [&#8220;value2 model2&#8221;]...} ivthn = value ivthp = value file = <code><em>file_path </em></code></pre>
<h4>
<a id="pgfId-952922"></a>Description</h4>

<p>
<a id="pgfId-952923"></a>Outputs the subcircuit degradation (Idlin, Idsat, Vth degradation) information to a <code>.bt0</code> file. Since a subcircuit is treated as a MOSFET device, it should have at least four terminals which map to drain (D), source (S), gain (G), and bulk (B) of the MOSFET.</p>
<p>
<a id="pgfId-952924"></a>The subcircuit degradation calculation is based on following fixed bias conditions:</p>

<h4><em>
<a id="pgfId-952925"></a>NMOSFET</em></h4>

<ul><li>
<a id="pgfId-952926"></a><code>Idsat</code>: <code>Vds=Vdd</code>, <code>Vgs=Vgsat</code> if <code>Vgsat</code> is specified for the target subcircuit, otherwise <code>Vgs=Vdd</code>.</li><li>
<a id="pgfId-952927"></a><code>Idlin</code>: <code>Vds=Vdlin</code> if <code>Vdlin</code> is specified for the target subcircuit, otherwise <code>Vds=0.05V</code>; <code>Vgs=Vglin</code> if <code>Vglin</code> is specified for the target subcircuit, otherwise <code>Vgs=0.05</code>.</li><li>
<a id="pgfId-952929"></a><code>Vth</code>: <code>Vds=Vdlin</code> if <code>Vdlin</code> is specified for the target subcircuit, otherwise <code>Vds=0.05V</code>; <code>Vgs=Vglin</code> if <code>Vglin</code> is specified for the target subcircuit, otherwise <code>Vgs=0.05</code>.</li></ul>



<h4><em>
<a id="pgfId-952930"></a>PMOSFET</em></h4>

<p>
<a id="pgfId-952931"></a><code>Idsat</code>: <code>Vds=Vdd</code>, <code>Vgs=Vgsat</code> if <code>Vgsat</code> is specified for the target subcircuit, otherwise <code>Vgs=Vdd</code>.</p>
<p>
<a id="pgfId-952932"></a><code>Idlin</code>: <code>Vds=Vdlin</code> if <code>Vdlin</code> is specified for the target subcircuit, otherwise <code>Vds=-0.05V</code>; <code>Vgs=Vglin</code> if <code>Vglin</code> is specified for the target subcircuit, otherwise <code>Vgs=0.05</code>.</p>
<p>
<a id="pgfId-952934"></a><code>Vth</code>: <code>Vds=Vdlin</code> if <code>Vdlin</code> is specified for the target subcircuit, otherwise <code>Vds=-0.05V</code>; <code>Vgs=Vglin</code> if <code>Vglin</code> is specified for the target subcircuit, otherwise <code>Vgs=0.05</code>.</p>

<h4>
<a id="pgfId-952935"></a>Arguments </h4>
<p>
<a id="pgfId-952959"></a></p>
<table class="webflareTable" id="#id952936">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-952938"></a><code>sub</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-952940"></a>List of subcircuits for which degradation needs to be performed. This argument is mandatory.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-953521"></a><code>vdd</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-953523"></a>Sets the bias voltage for the subcircuit to obtain <code>gm</code>, <code>gds</code>, <code>Idlin</code>, <code>Idsat</code>, and <code>Vth </code>degradation for the TMI aging flow. This argument is mandatory.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-952942"></a>vdlin</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-952944"></a>Vds value for Idlin/Vt measurement.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-952946"></a>vgsat</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-952948"></a>Vgs value for Idsat measurement.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-952950"></a>vglin</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-952952"></a>Vgs value for Idlin/Vt/ measurement.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-953707"></a>node</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-953709"></a>Specifies the four-terminal node name in the order D G S B for each subcircuit. If a node is not specified, the first four terminals of the subcircuit are taken as D G S B by default.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-954426"></a>ivth</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-954428"></a>Specifies the constant current value for the specified model.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-953952"></a>ivthn</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-953954"></a>Specifies the constant current value for NMOS. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-953956"></a>ivthp</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-953958"></a>Specifies the constant current value for PMOS.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-952954"></a>file</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-952956"></a>Specifies the path of the include file.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-954301"></a>The <code>output_subckt_degrad</code> options can be specified in the included file.</div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-988513"></a>correct_bias_voltage</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-988517"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-988519"></a>Specifies whether to correct the bias voltage of the specified devices. Possible values are <code>no</code> and <code>yes</code>. The default value is <code>yes</code>.</p>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-952960"></a>Example</h4>

<p>
<a id="pgfId-952961"></a>output_device_degrad sub = [sub1 sub2] vdd=[&#8220;1.2 sub1&#8221; &#8220;1.1 sub2&#8221;] tmi_lib_inc=&#8221;./model_bmg_1/BSIMCMG_TMI_Model_1_usage.l&#8221;</p>
<p>
<a id="pgfId-952915"></a>The above example sets the bias voltage for subcircuit <code>sub1</code> to <code>1.2</code> and for subcircuit <code>sub2</code> to <code>1.1</code>.</p>

<h3>
<a id="pgfId-968831"></a>preset (*relxpert: .preset)</h3>
<a id="pgfId-968847"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
preset {age|deg|lifetime} [agelevel=integer] mod=[mod1 mod2...] dev=[dev1 dev2...]</pre>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-972120"></a>The Spectre syntax for <code>preset</code> is currently not compatible with RelXpert.</div>

<h4>
<a id="pgfId-968848"></a>Description</h4>

<p>
<a id="pgfId-968849"></a>This statement is used to preset the total <code>age</code>, <code>deg</code> (degradation), or <code>lifetime</code> values of devices in the netlist file. If <code>preset</code> is set, Spectre uses the values directly, but does not calculate them. The <code>preset</code> statement is useful if you already know the <code>age</code>|<code>degradation</code>|<code>lifetime</code> of blocks or devices, and want to preset the values in order to speed up the calculation.</p>
<p>
<a id="pgfId-968850"></a>If the preset is <code>age</code>, the simulator does not perform age calculation for the specified devices, models, or blocks. Lifetime or degradation calculations are based on the preset <code>age</code> value. If the preset is <code>lifetime</code> or <code>deg</code>, the simulator derives the age from the preset lifetime or degradation values to calculate degradation or lifetime for the specified devices, models, or blocks.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-972247"></a>In the current release, the <code>preset</code> reliability option works only for aging analysis in the <code>appendage</code> flow.</div>

<h4>
<a id="pgfId-968852"></a>Arguments </h4>
<p>
<a id="pgfId-972242"></a></p>
<table class="webflareTable" id="#id968853">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-968855"></a><code>age</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-968857"></a>The age value of the device, model, or block.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-968859"></a><code>deg</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-968861"></a>The degradation value of the device, model, or block.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-968863"></a><code>lifetime</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-968865"></a>The lifetime value of the device, model, or block.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-968867"></a><code>agelevel</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-968871"></a>Defined for Hot-Carrier injection (HCI), negative bias temperature instability (NBTI), or positive bias temperature instability (PBTI) modeling. The following <code>agelevel</code> values are assigned for different modeling types:</p>

<ul><li>
<a id="pgfId-968872"></a>HCI: <code>agelevel=0</code> </li><li>
<a id="pgfId-968873"></a>NBTI: <code>agelevel=1</code> </li><li>
<a id="pgfId-968874"></a>PBTI: <code>agelevel=2</code></li></ul>



<p>
<a id="pgfId-968875"></a>The default behavior is to calculate both HCI and NBTI, or both HCI and PBTI. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-969081"></a>mod</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-969083"></a>The list of models. Wildcard (<code>*</code>) is supported.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-969088"></a>dev</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-969090"></a>The list of devices. Wildcard (<code>*</code>) is supported.</p>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-968877"></a>Examples</h4>

<p>
<a id="pgfId-968878"></a>The following example</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-968879"></a>preset age=1.0001e-5 agelevel=1 dev=x1.mp1</pre>

<p>
<a id="pgfId-968880"></a>tells the simulator to set the device <code>x1.mp1</code> NBTI age value to 1.001e-5.</p>
<p>
<a id="pgfId-968881"></a>The following example</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-968882"></a>preset deg=1.01e-02 mod=PMOS</pre>

<p>
<a id="pgfId-968883"></a>tells the simulator to set the degradation value to 1.01e-02 for all devices which use the <code>PMOS</code> model.</p>
<p>
<a id="pgfId-968884"></a>The following example</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-968885"></a>preset lifetime=10y agelevel=0 dev=X2*mp1</pre>

<p>
<a id="pgfId-968840"></a>tells the simulator to set the <code>lifetime</code> value to 10 years for all devices or for devices with hierarchical names that begin with the <code>X2</code> prefix and end with the <code>mp1</code> suffix (for example, <code>X2.mp1</code>, <code>X21.mp1</code>, and <code>X2.X22.mp1</code>).</p>

<h3>
<a id="pgfId-891863"></a><a id="56832"></a>rel_mod<a id="rel_mode"></a>e (*relxpert: .rel_mode)</h3>
<a id="pgfId-891864"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
rel_mode type=[aging|she|all]</pre>
<h4>
<a id="pgfId-891865"></a>Description</h4>

<p>
<a id="pgfId-891866"></a>Specifies the type of analysis to be used for obtaining the reliability values of MOSFETs. </p>
<p>
<a id="pgfId-891867"></a>For <code>type=she</code> and <code>type=all</code>, the specified device power and temperature rise are calculated using the <code>calcDeltaPower()</code>, <code>calcPower()</code>, and <code>calcTrise()</code> URI functions and stored in the <code>.bw0</code> and<code>.bh0</code> files.</p>
<p>
<a id="pgfId-933183"></a>You can output the device power (<code>.bw0</code>) in the self-heating flow by using the <a href="chap7.html#56846">output_she_power (*relxpert: .output_she_power)</a> control statement.</p>
<p>
<a id="pgfId-933203"></a>The URI library can be added using the <a href="chap7.html#94907">uri_lib ( *relxpert: .uri_lib )</a> control statement.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-947715"></a>For self-heating calculation, you can use URI or the internal self-heating model (agelevel=3). When using URI, ensure that a standalone <code>agelevel</code> is used for self-heating calculation. Do not use URI and the internal self-heating model for self-heating calculation at the same time.</div>

<h4>
<a id="pgfId-891868"></a>Arguments </h4>
<p>
<a id="pgfId-891869"></a></p>
<table class="webflareTable" id="#id891939">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-891941"></a><code>type=she</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-891943"></a>Uses the self-heating flow to obtain the reliability values.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-891945"></a><code>type=aging</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-891947"></a>Uses the aging flow to obtain the reliability values. This is the default flow.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-933275"></a>type=all</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-933277"></a>Use both self-heating and aging flows to obtain the reliability values.</p>

</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-891873"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-891859"></a>rel_mode type=all</pre>
<h3>
<a id="pgfId-866435"></a><a id="98313"></a>relx_tran ( *relxpert: .relx_tran )</h3>
<a id="pgfId-860529"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
relx_tran start=<code><em>start_time</em></code> stop=<code><em>stop_time </em></code>mult_win<code><em> </em></code>[<code><em>start_time1 stop_time1 start_time2 stop_time2...</em></code>]</pre>
<h4>
<a id="pgfId-860530"></a>Description</h4>

<p>
<a id="pgfId-860531"></a>Specifies the start and stop time for reliability simulation during transient simulation.</p>

<h4>
<a id="pgfId-860532"></a>Arguments </h4>
<p>
<a id="pgfId-860543"></a></p>
<table class="webflareTable" id="#id860533">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-860535"></a><code>start=</code><span class="webflare-courier-new" style="white-space:pre"><em>start_time</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-860537"></a>Specifies the start time of reliability analysis during transient simulation.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-860539"></a><code>stop=</code><span class="webflare-courier-new" style="white-space:pre"><em>stop_time</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-860541"></a>Specifies the stop time of reliability analysis during transient simulation.</p>
<p>
<a id="pgfId-860542"></a>Default: If <code>stop_time</code> is not specified, the software stops in <code>.tran</code> statement.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-986692"></a><code>mult_win</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-986694"></a>Specifies multiple time windows for reliability analysis during transient simulation. In the argument, <code>start_time</code> and <code>stop_time </code>values must be specified in pairs. The <code>start</code> and <code>stop</code> arguments and the <code>multi_win</code> argument are mutually exclusive and cannot be used together. If you specify them together, an error is generated.</p>

</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-860544"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-860545"></a>relx_tran start = 1n stop = 10n</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-860546"></a>*relxpert: relx_tran 1n 10n</pre>

<p>
<a id="pgfId-860547"></a>Specifies that the start time for reliability simulation during transient simulation is <code>1n</code> and the stop time for reliability simulation during transient simulation is <code>10n</code>.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-987033"></a>relx_tran start=100u stop=500n mult_win =[100n 200n 300n 400n 450n 500n]</pre>

<p>
<a id="pgfId-987055"></a>Perform reliability analysis in the following time windows during transient simulation:</p>
<p>
<a id="pgfId-987170"></a><code>(100n 200n)</code>, <code>(300n 400n)</code>, and <code>(450 500n)</code>.</p>

<h3>
<a id="pgfId-860549"></a><a id="39068"></a>report_model_param  (*relxpert: .report_model_param )</h3>
<a id="pgfId-860550"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
report_model_param value = {yes | no}</pre>
<h4>
<a id="pgfId-860551"></a>Description</h4>

<p>
<a id="pgfId-860552"></a>Determines whether to print the fresh and aged parameters in the<code>.bm#</code> file. When set to <code>yes</code>, the fresh and aged parameters are printed to the <code>.bm#</code> file.</p>

<h4>
<a id="pgfId-860553"></a>Arguments </h4>
<p>
<a id="pgfId-860563"></a></p>
<table class="webflareTable" id="#id860554">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-860556"></a><code>value=yes</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-860558"></a>Prints the fresh and aged parameters in the <code>.bm#</code> files. </p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-860560"></a><code>value=no</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-860562"></a>Skips printing of the fresh and aged parameters in the <code>.bm#</code> files.</p>

</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-860564"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-860565"></a>report_model_param value = yes</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-860566"></a>*relxpert: report_model_param yes</pre>

<p>
<a id="pgfId-860567"></a>Prints the fresh and aged parameters in the <code>.bm#</code> file.</p>

<h3>
<a id="pgfId-868865"></a><a id="36298"></a>simmo<a id="simmode"></a>de</h3>
<a id="pgfId-865809"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
simmode { type = [ stress | aging | all ] } file = <code><em>filename </em></code>[tmifile=<code><em>filename</em></code>]</pre>
<h4>
<a id="pgfId-865834"></a>Description</h4>

<p>
<a id="pgfId-865852"></a>Normally, reliability simulation includes stress and aging transient analysis. This option enables you to choose which transient analysis to run in the reliability simulation. The default value is <code>all</code> and runs both stress and aging transient analysis.</p>

<h4>
<a id="pgfId-865844"></a>Arguments</h4>
<p>
<a id="pgfId-865879"></a></p>
<table class="webflareTable" id="#id865887">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-865889"></a><code>type=stress</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-865918"></a>Runs only the stress transient analysis in reliability simulation.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-865893"></a><code>type=aging</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-865936"></a>Runs only the aging transient analysis in reliability simulation.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-865908"></a>type=all</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-865910"></a>Runs both stress and aging transient analyses in reliability simulation.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-865912"></a>file</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-865979"></a>Specifies the file name to which the scaled model parameter names and values will be saved. If the file name is not specified the results are saved in the default file <code>*.bs0</code>.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-866889"></a>tmifile</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-866945"></a>Specifies the file to which the scaled model parameter names and values will be saved in the TMI aging flow. If <code>type</code>=<code>stress</code> or <code>all</code>, the behavior of <code>tmifile</code> is the same as the <code>tmioutput</code> option in the TMI aging flow and the default value is <code>*_tmioutput</code>. If <code>type=aging</code>, the behavior of <code>tmifile</code> is the same as <code>tmiinput</code> option in the TMI aging flow and the default value is <code>*_tmiinput</code>.</p>

</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-866042"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-866043"></a>simmode&#160;&#160;type = aging file= input.bs0</pre>

<p>
<a id="pgfId-866065"></a>Specifies that the aging transient simulation be run and the results be saved in the file <code>input.bs0</code>.</p>

<h3>
<a id="pgfId-873242"></a><a id="20651"></a>tmi_aging_mode (*relxpert: .tmi_aging_mode)</h3>
<a id="pgfId-873263"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
tmi_aging_mode type=[aging|she|all]</pre>
<h4>
<a id="pgfId-873285"></a>Description</h4>

<p>
<a id="pgfId-873292"></a>This option is used to specify the TMI self-heating or aging mode for the TMI aging flow.</p>

<h4>
<a id="pgfId-873333"></a>Arguments</h4>
<p>
<a id="pgfId-873355"></a></p>
<table class="webflareTable" id="#id873334">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-873336"></a><code>type=aging</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-873338"></a>Enable only the TMI aging mode. This is the default.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-873340"></a><code>type=she</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-873342"></a>Enable only the TMI self-heating mode.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-873344"></a>type=all</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-873346"></a>Enable both TMI aging and self-heating modes.</p>

</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-873325"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-873408"></a>tmi_aging_mode type=all</pre>
<h3>
<a id="pgfId-873889"></a>tmi_she_min<a id="marker-873915"></a>dtemp (*relxpert: .tmi_she_mindtemp)</h3>
<a id="pgfId-873923"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
tmi_she_mindtemp value=<code><em>value</em></code></pre>
<h4>
<a id="pgfId-873924"></a>Description</h4>

<p>
<a id="pgfId-873925"></a>Sets the minimum delta temperature induced by self-heating for transistor devices. If the temperature change for a transistor is less than the minimum delta temperature value, the second self-heating run is not required.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-873981"></a>This option works only in the TMI self-heating flow. </div>

<h4>
<a id="pgfId-873926"></a>Arguments</h4>
<p>
<a id="pgfId-873932"></a></p>
<table class="webflareTable" id="#id873927">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-873929"></a>value</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-873931"></a>Sets the minimum delta temperature value. The default value is 0.0 and the unit is in celsius.</p>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-873933"></a>Example</h4>

<p>
<a id="pgfId-873910"></a>tmi_she_mindtemp value=10<br />*relxpert: .tmi_she_mindtemp value=10</p>

<h3>
<a id="pgfId-866045"></a><a id="94907"></a>uri_li<a id="uri_lib"></a>b ( *relxpert: .uri_lib )</h3>
<a id="pgfId-860570"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
uri_lib file = { &quot;<code><em>uri_lib_name</em></code>&quot; } uri_mode= [scaleparam | appendage | appendage1 | apendage2] debug = [ 0 | 1 ] scale_mode = [original | effective]</pre>
<h4>
<a id="pgfId-860571"></a>Description</h4>

<p>
<a id="pgfId-860572"></a>Loads the Unified Reliability interface (URI) shared library. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-860573"></a>For more information on the URI functions, see the <em>Unified Reliability Interface Functions</em> section in the <em>Spectre&#174; Unified Reliability Interface Reference</em>. </div>

<h4>
<a id="pgfId-860574"></a>Arguments </h4>
<p>
<a id="pgfId-860593"></a></p>
<table class="webflareTable" id="#id860575">
<tbody><tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-860577"></a><code>file=</code><span class="webflare-courier-new" style="white-space:pre"><em>uri_lib_name</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-860581"></a><code>&#160;&#160;</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-860583"></a>Specifies the shared library name.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-860585"></a>uri_mode</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-956249"></a>Specifies which method should be used to perform aging simulation. Possible values are <code>scaleparam</code> (default), <code>appendage</code> <code>appendage1</code>, and <code>appendage2</code>.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-956250"></a>The <code>appendage</code> method is not supported in the MMSIM11.1 and earlier releases.</div>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-956251"></a><code>uri_mode=appendage1</code> is equivalent to <code>uri_mode=appendage</code> in releases prior to SPECTRE18.1ISR3.</div>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-956252"></a>In Spectre18.1ISR3, the <code>appendage</code> method has been replaced by the <code>appendage2</code> method. Therefore, if you specify <code>uri_mode=appendage</code>, it is equivalent to <code>uri_mode=appendage2</code>. The <code>appendage1</code> method can be used for backward compatibility with earlier releases.</div>
<p>
<a id="pgfId-956253"></a>For the <code>appendage2</code> method, you are required to run the stress and aging simulations in a separate netlist. First, you need to run a stress simulation using the <code>simmode</code> option and then run the aging simulation using the intermediate file that is generated during the stress simulation.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-860590"></a>debug</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-860592"></a>Specifies whether to print the debug information. The default value is 0.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-968516"></a>scale_mode</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-968518"></a>Specifies the parameter scaling mode for URI library. If <code>scale_mode=effective</code> is specified, the effective parameter is passed to URI for scaling. If <code>scale_mode=original</code> is specified, the original parameter is passed to URI for scaling.</p>

</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-860594"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-860595"></a>uri_lib file = &quot;./libURI.so&quot; uri_mode = scaleparam debug =1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-860596"></a>*relxpert: uri_lib &quot;./libURI.so&quot; uri_mode = scaleparam debug=1</pre>

<p>
<a id="pgfId-860597"></a>Specifies the <code>libURI.so</code> URI library and the <code>agemos</code> URI mode. In addition, requests the debug information to be generated.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-868614"></a>You can also use the <code>RELXPERT_URI_LIBS</code> environment variable to set the URI library. If you use both the <code>RELXPERT_URI_LIBS</code> environment variable and the <code>uri_lib</code> control statement, the <code>RELXPERT_URI_LIBS</code> environment variable takes higher precedence over the <code>uri_lib</code> control statement.</div>

<h4>
<a id="pgfId-956284"></a>Example2</h4>

<p>
<a id="pgfId-956285"></a>The following is an example of using the <code>appendage2</code> method:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-956286"></a>//Reliability block setting for stress simulation</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956287"></a>rel reliability {</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956288"></a>  age time =[10yr]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956289"></a>  uri_lib file=&quot;uriLib.so&quot; uri_mode=appendage2</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956290"></a>  simmode type=stress</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956291"></a>  tran_stress tran stop=10n</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956292"></a>}</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956293"></a>//Reliability block setting for aging only netlist</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956294"></a>rel reliability {</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956295"></a>  age time =[10yr]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956296"></a>  uri_lib file=&quot;uriLib.so&quot; uri_mode=appendage2</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-956297"></a>  simmode type=aging file=&quot;input.bs0&quot; //input.bs0 is intermediate file generated
&#160;&#160;&#160;&#160;         in stress)</pre>

<p>
<a id="pgfId-956280"></a>  tran_stress tran stop=10n</p>

<h3>
<a id="pgfId-952099"></a><a id="49955"></a>vdsmethod</h3>
<a id="pgfId-952116"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
vdsmethod type = [internal | external]</pre>
<h4>
<a id="pgfId-952110"></a>Description</h4>

<p>
<a id="pgfId-952177"></a>Specifies how the simulator would use the <code>vds</code> values for reliability calculations. When set to <code>internal</code>, reliability simulation sets vds to use the internal value. If set to <code>external</code>, reliability simulation sets vds to use the external value. </p>

<h4>
<a id="pgfId-952452"></a>Arguments</h4>
<p>
<a id="pgfId-952597"></a></p>
<table class="webflareTable" id="#id952467">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-952477"></a>type=internal</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-952479"></a>Use the internal value for vds.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-952482"></a>type=external</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-952484"></a>Use the external value for vds. This is the default value.</p>

</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-952463"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-952606"></a>vdsmethod type=internal</pre>
<h3>
<a id="pgfId-904939"></a>Aging Monte<a id="aging_montecarlo"></a>Carlo Analysis</h3>

<p>
<a id="pgfId-904970"></a>Spectre reliability analysis supports the following two flows to perform aging MonteCarlo analysis for the agemos and appendage flow:</p>
<ul><li>
<a id="pgfId-905087"></a>1+N method: In this method, a nominal stress analysis is run first. Next, MonteCarlo analysis is performed on the aging analysis. No variations are performed on the stress analysis. <br />
<a id="pgfId-905382"></a>The reliability block for the stress simulation can be defined as follows:<pre class="webflare-pre-block webflare-courier-new" id="#id905474">
<a id="pgfId-905474"></a>rel reliability {</pre><pre class="webflare-pre-block webflare-courier-new" id="#id905476">
<a id="pgfId-905476"></a> // reliability control statements </pre><pre class="webflare-pre-block webflare-courier-new" id="#id905478">
<a id="pgfId-905478"></a> age time = [10y]            </pre><pre class="webflare-pre-block webflare-courier-new" id="#id905480">
<a id="pgfId-905480"></a> deltad value = 0.1    </pre><pre class="webflare-pre-block webflare-courier-new" id="#id905482">
<a id="pgfId-905482"></a> report_model_param value=yes </pre><pre class="webflare-pre-block webflare-courier-new" id="#id905484">
<a id="pgfId-905484"></a> simmode type=stress   </pre><pre class="webflare-pre-block webflare-courier-new" id="#id905485">
<a id="pgfId-905485"></a></pre><pre class="webflare-pre-block webflare-courier-new" id="#id905486">
<a id="pgfId-905486"></a> // fresh/stress simulation.  </pre><pre class="webflare-pre-block webflare-courier-new" id="#id905488">
<a id="pgfId-905488"></a> tran_stress tran start = 0 step = 1u stop = 10u    </pre><pre class="webflare-pre-block webflare-courier-new" id="#id905470">
<a id="pgfId-905470"></a>}</pre>
<a id="pgfId-905538"></a>The reliability block for the aging MonteCarlo simulation can be defined as follows:<pre class="webflare-pre-block webflare-courier-new" id="#id905655">
<a id="pgfId-905655"></a>mc1 montecarlo numruns=100 seed=12345    variations=all    sampling=standard \     savedatainseparatedir=yes savefamilyplots=yes {</pre><pre class="webflare-pre-block webflare-courier-new" id="#id905657">
<a id="pgfId-905657"></a> rel reliability {   </pre><pre class="webflare-pre-block webflare-courier-new" id="#id905659">
<a id="pgfId-905659"></a>  // reliability control statements   </pre><pre class="webflare-pre-block webflare-courier-new" id="#id905661">
<a id="pgfId-905661"></a>  age time = [10y]           </pre><pre class="webflare-pre-block webflare-courier-new" id="#id905663">
<a id="pgfId-905663"></a>  deltad value = 0.1   </pre><pre class="webflare-pre-block webflare-courier-new" id="#id905665">
<a id="pgfId-905665"></a>  report_model_param value=yes   </pre><pre class="webflare-pre-block webflare-courier-new" id="#id905667">
<a id="pgfId-905667"></a>  // fresh/stress simulation.   </pre><pre class="webflare-pre-block webflare-courier-new" id="#id905669">
<a id="pgfId-905669"></a>  simmode type=aging file=&quot;stress.bs0&quot;  </pre><pre class="webflare-pre-block webflare-courier-new" id="#id905671">
<a id="pgfId-905671"></a>  // aging simulation statements.   </pre><pre class="webflare-pre-block webflare-courier-new" id="#id905673">
<a id="pgfId-905673"></a>  tran_aged tran start = 0 step = 1us stop = 10us</pre><pre class="webflare-pre-block webflare-courier-new" id="#id905675">
<a id="pgfId-905675"></a> }   </pre><pre class="webflare-pre-block webflare-courier-new" id="#id905651">
<a id="pgfId-905651"></a>}</pre></li><li>
<a id="pgfId-905754"></a>N+N method: In this method, Monte Carlo analysis is performed on both stress and aging simulations. This method can be run on a single netlist or separate netlist. The following is an example of running stress and aging analyses in the same netlist:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id905984">
<a id="pgfId-905984"></a>mc1 montecarlo numruns=100 seed=12345 variations=all  sampling=standard \   </pre><pre class="webflare-pre-block webflare-courier-new" id="#id905988">
<a id="pgfId-905988"></a>savedatainseparatedir=yes savefamilyplots=yes {</pre><pre class="webflare-pre-block webflare-courier-new" id="#id905989">
<a id="pgfId-905989"></a></pre><pre class="webflare-pre-block webflare-courier-new" id="#id905990">
<a id="pgfId-905990"></a> rel reliability {  </pre><pre class="webflare-pre-block webflare-courier-new" id="#id905991">
<a id="pgfId-905991"></a>  // reliability control statements   </pre><pre class="webflare-pre-block webflare-courier-new" id="#id905993">
<a id="pgfId-905993"></a>  age time = [10y]            </pre><pre class="webflare-pre-block webflare-courier-new" id="#id905995">
<a id="pgfId-905995"></a>  deltad value = 0.1    </pre><pre class="webflare-pre-block webflare-courier-new" id="#id905996">
<a id="pgfId-905996"></a>  report_model_param value=yes   </pre><pre class="webflare-pre-block webflare-courier-new" id="#id905998">
<a id="pgfId-905998"></a>  // fresh/stress simulation.  </pre><pre class="webflare-pre-block webflare-courier-new" id="#id906000">
<a id="pgfId-906000"></a>  tran_stress tran start = 0 step = 1u stop = 10u      </pre><pre class="webflare-pre-block webflare-courier-new" id="#id906002">
<a id="pgfId-906002"></a>  // aging simulation statements.   </pre><pre class="webflare-pre-block webflare-courier-new" id="#id906004">
<a id="pgfId-906004"></a>  tran_aged tran start = 0 step = 1us stop = 10us</pre><pre class="webflare-pre-block webflare-courier-new" id="#id906006">
<a id="pgfId-906006"></a> } </pre><pre class="webflare-pre-block webflare-courier-new" id="#id905977">
<a id="pgfId-905977"></a>}</pre></li></ul>
























<ul><li>
<a id="pgfId-905754"></a>N+N method: In this method, Monte Carlo analysis is performed on both stress and aging simulations. This method can be run on a single netlist or separate netlist. The following is an example of running stress and aging analyses in the same netlist:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id905984">
<a id="pgfId-905984"></a>mc1 montecarlo numruns=100 seed=12345 variations=all  sampling=standard \   </pre><pre class="webflare-pre-block webflare-courier-new" id="#id905988">
<a id="pgfId-905988"></a>savedatainseparatedir=yes savefamilyplots=yes {</pre><pre class="webflare-pre-block webflare-courier-new" id="#id905989">
<a id="pgfId-905989"></a></pre><pre class="webflare-pre-block webflare-courier-new" id="#id905990">
<a id="pgfId-905990"></a> rel reliability {  </pre><pre class="webflare-pre-block webflare-courier-new" id="#id905991">
<a id="pgfId-905991"></a>  // reliability control statements   </pre><pre class="webflare-pre-block webflare-courier-new" id="#id905993">
<a id="pgfId-905993"></a>  age time = [10y]            </pre><pre class="webflare-pre-block webflare-courier-new" id="#id905995">
<a id="pgfId-905995"></a>  deltad value = 0.1    </pre><pre class="webflare-pre-block webflare-courier-new" id="#id905996">
<a id="pgfId-905996"></a>  report_model_param value=yes   </pre><pre class="webflare-pre-block webflare-courier-new" id="#id905998">
<a id="pgfId-905998"></a>  // fresh/stress simulation.  </pre><pre class="webflare-pre-block webflare-courier-new" id="#id906000">
<a id="pgfId-906000"></a>  tran_stress tran start = 0 step = 1u stop = 10u      </pre><pre class="webflare-pre-block webflare-courier-new" id="#id906002">
<a id="pgfId-906002"></a>  // aging simulation statements.   </pre><pre class="webflare-pre-block webflare-courier-new" id="#id906004">
<a id="pgfId-906004"></a>  tran_aged tran start = 0 step = 1us stop = 10us</pre><pre class="webflare-pre-block webflare-courier-new" id="#id906006">
<a id="pgfId-906006"></a> } </pre><pre class="webflare-pre-block webflare-courier-new" id="#id905977">
<a id="pgfId-905977"></a>}</pre></li></ul>














<p>
<a id="pgfId-936911"></a>The following is an example of running stress and aging analyses in separate netlists:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-937011"></a>mc1 montecarlo numruns=100 seed=12345 variations=all sampling=standard savedatainseparatedir=yes savefamilyplots=yes {</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-937012"></a>rel reliability {</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-937013"></a>// reliability control statements</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-937014"></a>age time = [10y]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-937015"></a>deltad value = 0.1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-937016"></a>uri_lib file=&#8220;libURI.so&#8221; uri_mode=appendage</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-937017"></a>report_model_param value=yes</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-937018"></a>simmode type=stress</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-937019"></a>// fresh/stress simulation.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-937020"></a>tran_stress tran start = 0 step = 1u stop = 10u</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-937021"></a>}</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-937007"></a>}</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-937049"></a>mc1 montecarlo numruns=100 seed=12345 variations=all sampling=standard savedatainseparatedir=yes savefamilyplots=yes {</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-937050"></a>rel reliability {</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-937051"></a>// reliability control statements</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-937052"></a>age time = [10y]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-937053"></a>deltad value = 0.1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-937054"></a>report_model_param value=yes</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-937055"></a>uri_lib file=&#8220;libURI.so&#8221; uri_mode=appendage</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-937056"></a>// fresh/stress simulation.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-937057"></a>simmode type=aging file=&quot;stress.bs0&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-937058"></a>// aging simulation statements.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-937059"></a>tran_aged tran start = 0 step = 1us stop =10us</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-937061"></a>}</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-937042"></a>}</pre>
<h3>
<a id="pgfId-860599"></a><a id="50023"></a>User-Defined Reliability Models</h3>

<p>
<a id="pgfId-860600"></a>Cadence provides a unified reliability interface (URI) to allow you to implement customized models for running reliability simulation. Contact Cadence support or refer to URI document for more information. </p>

<h3>
<a id="pgfId-867091"></a>Measuring the Reliability Analysis</h3>

<p>
<a id="pgfId-867105"></a>To measure the reliability analysis that is defined in the reliability block, you need to specify the .<code>measure</code> MDL statement right before or after the reliability block. For example:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-867142"></a>rel reliability {</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-867143"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-867144"></a>// reliability control statements</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-867145"></a>age time = [10y]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-867146"></a>deltad value = 0.1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-867147"></a>report_model_param value=yes</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-867148"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-867149"></a>// fresh/stress simulation.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-867150"></a>tran_stress tran start = 0 step = 1u stop = 10u // Need add the one parameter for identify the fresh tran.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-867151"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-867152"></a> // aging simulation statements.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-867153"></a>tran_aged tran start = 0 step = 1us stop = 10us // Need add the one parameter for identify the aged tran.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-867154"></a>}</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-867155"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-867156"></a>simulator lang = spice</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-867130"></a><strong>.measure</strong> tran nmos_width PARAM=&#39;(1e6)*wn&#39; </pre>

<p>
<a id="pgfId-867207"></a>In the above example, the <code>.measure</code> statement will work for the <code>tran_aged</code> transient analysis.</p>

<h2>
<a id="pgfId-894410"></a><a id="21857"></a>SpectreThe<a id="spectre_thermal"></a>rmal Analysis</h2>

<p>
<a id="pgfId-894453"></a>Spectre APS thermal analysis, Spectre Thermal, performs electrothermal simulation using Cadence&#174; Thermal Extractor and delivers true electrothermal co-simulation. In the Spectre thermal analysis flow, the thermal extractor is used to extract a thermal model of the die, based on the chip structure and thermal properties of the die stack.</p>
<p>
<a id="pgfId-895030"></a>Spectre thermal analysis is different from self-heating (SHE) analysis because it considers the thermal interactions between devices. In addition, it considers all the power sources in the chip, including transistors, resistors, and other devices.</p>
<p>
<a id="pgfId-895218"></a>This section discusses the following topics:</p>
<ul><li>
<a id="pgfId-903765"></a><a href="chap7.html#67962">Spectre Thermal Analysis Technology, Product, and Flow Overview</a></li><li>
<a id="pgfId-903776"></a><a href="chap7.html#54264">Thermal Control Files</a></li><li>
<a id="pgfId-903783"></a><a href="chap7.html#43360">Getting Started with Spectre Thermal Analysis</a></li></ul>



<h3>
<a id="pgfId-895265"></a><a id="67962"></a>Spectre Thermal Analysis Technology, Product, and Flow Overview</h3>
<h4>
<a id="pgfId-895367"></a><a id="17995"></a>Technology Overview</h4>

<p>
<a id="pgfId-895400"></a>In the Spectre thermal analysis flow, the first step is to generate a thermal model, which is a description of the thermal characteristics of a design. The thermal model is created using the chip structure, physical design and die stack, and thermal conductivity of materials. It is a thermal equivalent circuit of the die. Spectre thermal analysis uses the electrical and thermal descriptions of the circuit, the netlist, and the thermal model to perform electrothermal simulation. </p>
<p>
<a id="pgfId-936056"></a>Spectre thermal analysis starts with an electrical simulation and uses the instance power to drive a thermal solution to calculate the temperature of the instances on the die. If the temperatures converge, the simulation is complete. If not, the thermal and electrical simulation process continues until the results converge to a stable solution that satisfies both the circuit electrical power and the circuit temperature condition. This process is called electrothermal co-simulation or electrothermal simulation.</p>

<p>
<a id="pgfId-896466"></a></p>
<div class="webflare-div-image">
<img width="668" height="290" src="images/chap7-95.gif" /></div>

<p>
<a id="pgfId-896471"></a>The Spectre thermal analysis flow requires a complete testbench including stimuli, device models, and all files required for a regular Spectre simulation. The circuit information is included in the DSPF file (with instances and/or parasitic sections). To enable Spectre thermal analysis, add the testbench netlist in the <code>reliability</code> block using the thermal analysis statement, as shown below.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-896896"></a>rel reliability </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-897027"></a>{</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-896915"></a>myThermal <strong>thermal</strong> config &#8220;thermal.conf&#8221; &lt;options&gt;</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-896982"></a>{</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-896985"></a> tran_thermal tran stop=100n</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-897017"></a>}</pre>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-897020"></a>}</pre>

<p>
<a id="pgfId-896473"></a>Most of the thermal analysis control settings are specified as options in the <code>thermal</code> analysis statement. A <code>config</code> option is required to further specify the location of the thermal technology file and the location of the thermal package file.</p>
<p>
<a id="pgfId-897333"></a>Spectre thermal analysis supports both steady state and dynamic thermal analysis, which is controlled by the <code>method</code> option. You can use the following options to specify the control settings for the Spectre thermal analysis. These options may be relevant to the steady state thermal analysis, dynamic thermal analysis, or both.</p>

<p>
<a id="pgfId-897740"></a></p>
<table class="webflareTable" id="#id897741">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id897743">
<a id="pgfId-897743"></a>Option</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id897745">
<a id="pgfId-897745"></a>Description </span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id897747">
<a id="pgfId-897747"></a>Default Value</span>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-897749"></a>chip_bbox</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-897751"></a>A vector of four numbers <code>[llx</code> <code>lly</code> <code>urx</code> <code>ury]</code> representing a user-defined chip bounding box. By default, the chip bounding box is calculated from the device geometries so that a tight bounding box containing all the devices is used.</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-897753"></a>Calculated from device geometries</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-944083"></a>config</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-944085"></a>Specify the location of the thermal configuration file. This option is mandatory.</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-944087"></a>None</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-897755"></a>dbg_output</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-897757"></a>Generate <code>.dbg_trise_iter*</code> and <code>.thermal_pwr.iter*</code> files in the raw file directory for steady state thermal analysis. </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-897759"></a><code>0</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-898121"></a>dbg_output_sort</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-897757"></a>Device sorting order in debug reports (.<code>dbg_trise_iter*</code> and <code>.thermal_pwr.iter*)</code>for steady state thermal analysis. Possible values are <code>index</code>, <code>trise</code>, and <code>power</code>.</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-898125"></a>trise</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-898330"></a>maxinst</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-898332"></a>Specify the number of instances to be included in steady state thermal analysis reports</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-898334"></a>All devices</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-898374"></a>method</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-898376"></a>Select the thermal analysis mode, the options are either steady state (<code>steadystate</code>) or dynamic (<code>dynamic</code>) thermal analysis.</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-898378"></a>steadystate</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-898410"></a>numiter</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-898412"></a>Number of steady-state electrothermal iterations to be performed. </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-898414"></a>2</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-898510"></a>res_trise_rpt</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-898512"></a>Include resistor temperature for thermal reports. Possible values are <code>yes</code>, <code>no</code>, and <code>laststep</code>. Only instance temperatures are reported when this option is set to <code>no</code>. </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-898514"></a>no</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-898566"></a>save_inst</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-898568"></a>List of instance names for which temperature and power are to be included in dynamic thermal analysis reports.</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-898570"></a>Empty</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-898599"></a>sort</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-898601"></a>Sort the instances in steady state thermal analysis reports by Trise (<code>trise</code>) or power (<code>pwr</code>).</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-898603"></a>trise</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-898670"></a>trise_lmt</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-898706"></a>Limit the value of Trise used for updating the device temperatures. This helps to prevent device temperatures from going out of valid range during electrical simulation. Unit is degree centigrade.</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-898674"></a>300</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-898744"></a>Once the reliability block is set up in the input netlist, Spectre thermal analysis is automatically invoked when running Spectre APS simulation. For example, if the name of the input netlist is <code>input.scs</code>, you can use the following command to invoke Spectre thermal analysis:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-898770"></a>% spectre -64 +aps input.scs</pre>
<h4>
<a id="pgfId-898804"></a><a id="83455"></a>Product Overview and Spectre Thermal Analysis Flow</h4>

<p>
<a id="pgfId-898892"></a>The Spectre thermal analysis consists of the following three components:</p>
<ul><li>
<a id="pgfId-898974"></a>Spectre APS for electrical simulation<br />
<a id="pgfId-899174"></a>Spectre APS is used for electrical simulation, which computes the power of each power dissipating instances in the circuit: MOS transistors, resistors, diodes, and bipolar transistors.</li><li>
<a id="pgfId-899016"></a>Cadence&#174; Thermal Extractor<br />
<a id="pgfId-899199"></a>Cadence&#174; Thermal Extractor is called internally by Spectre APS to perform thermal extraction of the die and to create the thermal model used in electrothermal simulation.</li><li>
<a id="pgfId-899033"></a>Spectre APS for thermal simulation<br />
<a id="pgfId-899272"></a>Spectre APS is used for thermal simulation. It calculates the instance temperatures based on the power consumption of the instances. The thermal solver is built into the electrothermal simulation and is not available as a standalone offering.</li></ul>





<p>
<a id="pgfId-899310"></a>In addition to these components, Spectre thermal analysis also includes enhancement to Spectre APS for electrothermal simulation. Spectre APS automatically maps the information from the electrical simulator, power, to the thermal solver and maps the information from the thermal solver, temperature, back to the electrical simulator. After defining where the data is stored and how to perform the simulation, the electrothermal simulation runs automatically until completion.</p>

<h4><em>
<a id="pgfId-898888"></a>Spectre Steady State Analysis Flow</em></h4>

<p>
<a id="pgfId-899408"></a>For steady-state thermal simulation, electrothermal simulation starts with an electrical simulation with the device temperatures initially set to the ambient value. </p>
<p>
<a id="pgfId-899410"></a>Upon completion of the electrical simulation, the average power of all the devices is computed and sent to the thermal solver to compute the temperature rise for each device as a result of the steady-state instance power. The calculated instance temperatures are then used to update the instance temperatures for the next iteration of the electrothermal simulation. The process continues until the user-specified iteration count is reached. The output of the steady-state thermal simulation is a text report, which lists the temperature rise and the average power of each device in the DSPF netlist.</p>

<p>
<a id="pgfId-899451"></a></p>
<div class="webflare-div-image">
<img width="501" height="367" src="images/chap7-96.gif" /></div>
<h4><em>
<a id="pgfId-899438"></a>Spectre Dynamic Thermal Analysis Flow</em></h4>

<p>
<a id="pgfId-899590"></a>Dynamic thermal analysis is run by performing thermal solving at each time step of the Spectre transient analysis. Because thermal variation is usually much slower than electrical variation, it is assumed that convergence of electrothermal co-simulation is always achieved with just one iteration at each time step. Therefore, no iterations are needed for the electrothermal co-simulation during dynamic thermal analysis. This greatly increases the efficiency of the dynamic thermal analysis algorithm without introducing significant errors.</p>

<p>
<a id="pgfId-899623"></a></p>
<div class="webflare-div-image">
<img width="668" height="127" src="images/chap7-97.gif" /></div>
<h4>
<a id="pgfId-899604"></a>DSPF Requirements</h4>

<p>
<a id="pgfId-944203"></a>The Spectre thermal analysis flow is based on using DSPF. A DSPF file is required to include all electrical and geometric information needed for thermal analysis. The following figure shows a representative DSPF netlist with all important information for thermal model generation being marked in color.</p>

<p>
<a id="pgfId-949562"></a></p>
<div class="webflare-div-image">
<img width="668" height="775" src="images/chap7-98.gif" /></div>

<p>
<a id="pgfId-944205"></a>The location and dimension of parasitic resistors can be defined by one or both of the following two sets of data:</p>
<ul><li>
<a id="pgfId-944207"></a>Bounding box (<code>$LLX,</code> <code>$LLY,</code> <code>$URX,</code> <code>$URY</code>)</li><li>
<a id="pgfId-944208"></a>Box center location (<code>$X</code>, <code>$Y</code>) and dimension <code>$L</code> (length) and <code>$W</code> (width)</li></ul>

<p>
<a id="pgfId-944210"></a>For thermal simulation, the bounding box information is usually more accurate than location/dimension information because the dimension data often contains scaling factors that are intended for electrical modeling/computation and are not relevant for thermal modeling. Therefore, when both sets of information is provided in the DSPF file for parasitic resistors, the bounding box information is used and the location/dimension information is ignored.&#160;&#160; It is recommended that when generating DSPF files for Spectre thermal simulation, proper control switches are turned on so that bounding boxes are created for parasitic resistors. If Quantus QRC is used for DSPF netlist extraction, you can use the following options for the generation of parasitic resistor bounding boxes:</p>
<ul><li>
<a id="pgfId-944212"></a><code>include_parasitic_res_bonding_box</code></li><li>
<a id="pgfId-944213"></a><code>include_parasitic_res_via_array_bounding_box</code></li><li>
<a id="pgfId-944214"></a><code>include_parasitic_res_counductor_bounding_box</code></li></ul>



<h3>
<a id="pgfId-899701"></a><a id="54264"></a>Thermal Control Files</h3>

<p>
<a id="pgfId-899786"></a>Electrothermal analysis is performed based on the information contained in the <code>reliability</code> block of the testbench. The <code>reliability</code> block must contain a thermal statement that defines the thermal configuration file as well as other information, such as the <code>tran</code> analysis statement.</p>

<h4>
<a id="pgfId-899687"></a>Thermal Configuration File</h4>

<p>
<a id="pgfId-899839"></a>The thermal configuration file consists of two parts, the location of the data files required for thermal analysis, and additional options. The following two files are required for thermal analysis:</p>
<ul><li>
<a id="pgfId-899874"></a>Thermal technology file</li><li>
<a id="pgfId-899923"></a>Thermal package file</li></ul>

<p>
<a id="pgfId-899952"></a>The thermal technology file is defined with the keyword <code>tech_file</code> in the thermal configuration file and describes the die stack. It is the thermal equivalent of the ICT file and contains the thickness and the thermal properties of the materials of the die stack.</p>
<p>
<a id="pgfId-899985"></a>The thermal package file is defined with the keyword <code>package_file</code> in the thermal configuration file and describes the thermal characteristics of the package, which define the boundary conditions for thermal analysis. The following is the content of a sample thermal configuration file, where the location of the thermal technology and thermal package files are specified:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-900011"></a>thermal tech_file = &quot;tech.txt&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-900012"></a>thermal package_file = &quot;pkg.txt&quot;</pre>

<p>
<a id="pgfId-900007"></a>In addition to the technology file and package file, the thermal configuration file can also include other options, as shown in the following table:</p>

<p>
<a id="pgfId-900436"></a></p>
<table class="webflareTable" id="#id900542">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id900034">
<a id="pgfId-900034"></a>Keyword</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id900036">
<a id="pgfId-900036"></a>Options</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id900038">
<a id="pgfId-900038"></a>Description</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id900040">
<a id="pgfId-900040"></a>Default Value</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="2">
<p>
<a id="pgfId-900042"></a>thermal</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-900044"></a><code>tech_file</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-900046"></a>Location of technology file (required).</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-900048"></a>None</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-900052"></a><code>package_file</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-900054"></a>Location of package file (required).</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-900056"></a>None</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="3">
<p>
<a id="pgfId-900058"></a>spf</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-900060"></a><code>geounit</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-900062"></a>Scaling factor for <code>L</code> and <code>W</code> of transistor instances to convert the unit into meter.</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-900064"></a><code>1.0</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-900363"></a>geounit_xy</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-900365"></a>Scaling factor for <code>$X</code> and <code>$Y</code> of the transistor instances and resistors to convert the unit into meter.</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-900367"></a><code>1.0e-6</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-900454"></a>geounit_wl</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-900456"></a>Scaling factor for <code>$L</code> and <code>$W</code> of resistors to convert the unit into meter.</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-900458"></a><code>1.0e-6</code></p>
</td>
</tr>
</tbody></table>
<h4><em>
<a id="pgfId-900031"></a>Setting the values for geounit, geounit_xy, and geounit_wl</em></h4>

<p>
<a id="pgfId-900612"></a>Normally, the device dimensions in the DSPF file are expected to be provided in the following units:</p>

<p>
<a id="pgfId-900769"></a></p>
<table class="webflareTable" id="#id900628">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id900630">
<a id="pgfId-900630"></a>Parameters</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id900632">
<a id="pgfId-900632"></a>Units</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-900634"></a><code>L</code>, <code>W </code>for MOSFET devices</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-900636"></a>m</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-900638"></a><code>$X</code>, <code>$Y</code> for resistors and instances</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-900640"></a>um</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-900642"></a><code>$L</code>, <code>$W</code> for resistors</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-900644"></a>um</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-900773"></a>If the device geometries in the DSPF file are provided in the above units, using the default setting for <code>geounit</code>, <code>geounit_xy</code>, and <code>geounit_wl</code> is sufficient without any overrides for the default.</p>
<p>
<a id="pgfId-900627"></a>If the units in the DSPF file are different from the above, the default setting needs to be overwritten to convert the geometry values into the correct units. The following table lists a few scenarios of the geometry units in the DSPF file and the corresponding overrides for <code>geounit</code>, <code>geounit_xy</code>, or <code>geounit_wl</code>, that will convert the geometry values into the correct units:</p>

<p>
<a id="pgfId-900981"></a></p>
<table class="webflareTable" id="#id900832">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id900834">
<a id="pgfId-900834"></a>L, W Unit</span>
<span class="tbl-head" id="#id900893">
<a id="pgfId-900893"></a>(instances)</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id900937">
<a id="pgfId-900937"></a>$X, $Y unit</span>
<span class="tbl-head" id="#id900836">
<a id="pgfId-900836"></a>(instances &amp; resistors)</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id900950">
<a id="pgfId-900950"></a>$L, $W unit</span>
<span class="tbl-head" id="#id900838">
<a id="pgfId-900838"></a>(resistors)</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id900840">
<a id="pgfId-900840"></a>geounit, geounit_xy, and geounit_wl setting</span>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-900855"></a>m</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-900857"></a>um</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-900859"></a>um</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-900861"></a>Use default setting</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-900863"></a>um</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-900865"></a>um</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-900867"></a>um</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-900869"></a><code>geounit = 1.0e-6</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-900871"></a>m</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-900873"></a>nm</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-900875"></a>um</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-900877"></a><code>geounit_xy = 1.0e-9</code></p>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-900823"></a>Thermal Technology File</h4>

<p>
<a id="pgfId-901079"></a>The thermal technology file is defined by the <code>tech_file</code> keyword in the thermal configuration file. It contains the chip stackup and the corresponding thermal materials. The following is an example of the thermal technology file (<code>tech.txt</code>):</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-901080"></a>*Thermal_Layers</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-901075"></a>Substrate&#160;&#160;    804.5   (silicon 148 1658960)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-901139"></a>Channel&#160;&#160;       0.33   (silicon 148 1658960)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-901140"></a>poly_conn&#160;&#160;     0.10   (silicon 148 1658960) (oxide 12.4  2440000)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-901141"></a>cont_poly&#160;&#160;     0.05   (copper 390 3439205)  (oxide  2.4   440000)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-901142"></a>cont_ndiff_conn&#160;&#160; 10&#160;&#160; (copper 390 3439205)&#160;&#160;(oxide&#160;&#160;2.4&#160;&#160; 440000)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-901143"></a>cont_pdiff_conn&#160;&#160; 10&#160;&#160; (copper 390 3439205)&#160;&#160;(oxide&#160;&#160;2.4&#160;&#160; 440000)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-901144"></a>metal1_conn&#160;&#160;   0.15   (copper 390 3439205)  (oxide  2.4   440000)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-901145"></a>Via1&#160;&#160;          0.03   (copper 390 3439205)  (oxide  2.4   440000)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-901146"></a>metal2_conn&#160;&#160;   0.15   (copper 390 3439205)  (oxide  2.4   440000)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-901147"></a>Via2&#160;&#160;          0.15   (copper 390 3439205)  (oxide  2.4  2440000)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-901148"></a>metal3_conn&#160;&#160;   0.40   (copper 390 3439205)  (oxide  2.4   440000)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-901109"></a>Via3&#160;&#160;          0.15   (copper 390 3439205)  (oxide  2.4   440000)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-950955"></a>metal4_conn&#160;&#160;   0.15   (copper 390 3439205)  (oxide  2.4   440000)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-950975"></a>Via4&#160;&#160;          0.30   (copper 390 3439205)  (oxide  2.4  2440000)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-951000"></a>metal5_conn&#160;&#160;   0.15   (copper 390 3439205)  (oxide  2.4   440000)</pre>

<p>
<a id="pgfId-901229"></a>The definition of each layer, such as the following line is:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-901251"></a>poly_conn 0.10 (silicon 148 1658960) (oxide 12.4&#160;&#160;2440000)</pre>

<ol><li>
<a id="pgfId-901295"></a>conductor layer name (name of the layer in which a device resides)</li><li>
<a id="pgfId-901296"></a>conductor layer thickness (um)</li><li>
<a id="pgfId-901297"></a>conductor layer material name</li><li>
<a id="pgfId-901298"></a>conductor layer thermal conductivity W / (m * K)</li><li>
<a id="pgfId-901299"></a>conductor layer mass_density * specific_heat kg/m3 * J / (kg * K)</li><li>
<a id="pgfId-901300"></a>dielectric layer name</li><li>
<a id="pgfId-901301"></a>dielectric layer thermal conductivity W / (m * K)</li><li>
<a id="pgfId-901267"></a>dielectric layer <code>mass_density</code> * <code>specific_heat</code> <code>kg/m3</code> <code>* J/(kg*K)</code></li></ol>








<h4>
<a id="pgfId-901319"></a>Thermal Pa<a id="thermal_package_file"></a>ckage File</h4>

<p>
<a id="pgfId-901353"></a>The thermal package file is defined by the <code>package_file</code> keyword in the thermal configuration file. The thermal package file contains the thermal boundary conditions between the die and the ambient. The following is an example of a thermal package file with thermal boundary conditions specified:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-901409"></a>CUSTOM_IC_THERMAL_SIMULATION_SETUP</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-901410"></a>TR_bottom&#160;&#160;     1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-901411"></a>TR_top&#160;&#160;     1000</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-901412"></a>TR_left&#160;&#160;  530000</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-901413"></a>TR_right&#160;&#160; 530000</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-901414"></a>TR_back&#160;&#160;  200000</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-901415"></a>TR_front&#160;&#160; 200000</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-901382"></a>END_CUSTOM_IC_THERMAL_SIMULATION_SETUP</pre>

<p>
<a id="pgfId-901430"></a>In this example, the heat flows vertically into the die attach since the sidewall thermal resistances are much higher than the die attach thermal resistance on the top and bottom. The file starts with the keyword, <code>CUSTOM_IC_THERMAL_SIMULATION_SETUP</code>, and ends with the keyword, <code>END_CUSTOM_IC_THERMAL_SIMULATION_SETUP</code>. Each line of the file contains a keyword and a thermal resistance value. The boundary conditions are expressed as thermal resistance connected between the ambient temperature and one of the six sides of the die. In addition to the six boundary conditions, additional parameters can be specified in the package file. The following table lists supported parameters and their descriptions:</p>

<p>
<a id="pgfId-969678"></a></p>
<table class="webflareTable" id="#id901518">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id901520">
<a id="pgfId-901520"></a>Parameter Name</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id901522">
<a id="pgfId-901522"></a>Unit</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id901524">
<a id="pgfId-901524"></a>Description</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id901526">
<a id="pgfId-901526"></a>Default Value</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-901528"></a>TR_top</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-901530"></a>C/W</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-901532"></a>Thermal resistance between top surface and ambient.</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-901534"></a><code>infinity</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-901536"></a>TR_bottom</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-901538"></a>C/W</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-901540"></a>Thermal resistance between bottom surface and ambient.</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-901542"></a><code>infinity</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-901544"></a>TR_left</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-901546"></a>C/W</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-901548"></a>Thermal resistance between left surface and ambient.</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-901550"></a><code>infinity</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-901634"></a>TR_right</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-901636"></a>C/W</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-901638"></a>Thermal resistance between right surface and ambient.</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-901640"></a><code>infinity</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-901642"></a>TR_front</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-901644"></a>C/W</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-901646"></a>Thermal resistance between front surface and ambient.</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-901648"></a><code>infinity</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-901650"></a>TR_back</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-901652"></a>C/W</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-901654"></a>Thermal resistance between back surface and ambient.</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-901656"></a><code>infinity</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-970881"></a>TC_top</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-970883"></a>J/C</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-970885"></a>Thermal capacitance between top surface and ambient.</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-970887"></a><code>1e-12</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-970889"></a>TC_bottom</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-970891"></a>J/C</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-970893"></a>Thermal capacitance between bottom surface and ambient.</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-970895"></a><code>1e-12</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-970897"></a>TC_left</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-970899"></a>J/C</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-970901"></a>Thermal capacitance between left surface and ambient.</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-970903"></a><code>1e-12</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-970905"></a>TC_right</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-970907"></a>J/C</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-970909"></a>Thermal capacitance between right surface and ambient.</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-970911"></a>1e-12</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-970913"></a>TC_front</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-970915"></a>J/C</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-970917"></a>Thermal capacitance between front surface and ambient.</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-970919"></a>1e-12</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-970921"></a>TC_back</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-970923"></a>J/C</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-970925"></a>Thermal capacitance between back surface and ambient.</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-970927"></a>1e-12</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-970959"></a>Tamb_top</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-970961"></a>C</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-970963"></a>Ambient temperature for the top surface.</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-970965"></a><code>0</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-970967"></a>Tamb_bottom</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-970969"></a>C</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-970971"></a>Ambient temperature for the bottom surface.</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-970973"></a><code>0</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-970975"></a>Tamb_left</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-970977"></a>C</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-970979"></a>Ambient temperature for the left surface.</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-970981"></a><code>0</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-970983"></a>Tamb_right</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-970985"></a>C</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-970987"></a>Ambient temperature for the right surface.</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-970989"></a>0</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-970991"></a>Tamb_front</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-970993"></a>C</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-970995"></a>Ambient temperature for the front surface.</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-970997"></a>0</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-970999"></a>Tamb_back</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-971001"></a>C</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-971003"></a>Ambient temperature for the back surface.</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-971005"></a>0</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-901658"></a>NX</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-901660"></a>None</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-901662"></a>Number of width grid elements on the die used for thermal modeling.</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-901664"></a><code>10</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-901666"></a>NY</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-901668"></a>None</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-901670"></a>Number of depth grid elements on the die used for thermal modeling.</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-901672"></a><code>10</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-901674"></a>NZ_Substrate</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-901676"></a>None</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-901678"></a>Number of substrate thickness grid elements, not including the metal/via layers, on the die used for thermal modeling.</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-901680"></a><code>1</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-936348"></a>IGNORE_PARASITICS</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-936350"></a>None</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-936352"></a>Selection of approximation used for thermal modeling of heat sources due to parasitics.</p>
<p>
<a id="pgfId-936398"></a><code>0</code>: No approximation</p>
<p>
<a id="pgfId-936423"></a><code>1</code>: Ignore heat source due to parasitic devices</p>
<p>
<a id="pgfId-936473"></a><code>2</code>: Move the heat source location of parasitic devices to the channel layer</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-936354"></a>0</p>
</td>
</tr>
</tbody></table>
<h3>
<a id="pgfId-970402"></a>Trench Stru<a id="trench_support"></a>cture Support</h3>

<p>
<a id="pgfId-971149"></a>Trench structures can be specified in the package file using the following syntax:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-971173"></a>trench x0 y0 delta_x delta_y depth (trench material properties)</pre>

<p>
<a id="pgfId-971191"></a>Here:</p>
<p>
<a id="pgfId-971207"></a><code>trench</code> is the keyword to specify the trench structure</p>
<p>
<a id="pgfId-971268"></a><code>x0</code> and <code>y0</code> are the coordinates of lower-left corner of the rectangular shape (the coodinates use DSPF coordinates as reference)</p>
<p>
<a id="pgfId-971418"></a><code>delta_</code>x specifies the length of the trench in the X direction</p>
<p>
<a id="pgfId-971484"></a><code>delta_y</code> specifies the length of the trench in the Y direction</p>
<p>
<a id="pgfId-971552"></a><code>depth</code> specifies the thickness of the trench</p>
<p>
<a id="pgfId-971597"></a><code>trench material properties</code> specify the properties of the trench material, such as material name, thermal conductivity, mass density * specific heat.</p>
<p>
<a id="pgfId-971798"></a>A trench structure is usually made up of several rectangular shaped pieces, each of which can be specified with the above syntax.</p>
<p>
<a id="pgfId-971819"></a>For example, consider a 10um trench structure shown below.</p>

<p>
<a id="pgfId-971878"></a></p>
<div class="webflare-div-image">
<img width="668" height="400" src="images/chap7-99.gif" /></div>

<p>
<a id="pgfId-971840"></a>The above trench structure can be broken into the following rectangular pieces:</p>

<p>
<a id="pgfId-972011"></a></p>
<div class="webflare-div-image">
<img width="668" height="468" src="images/chap7-100.gif" /></div>

<p>
<a id="pgfId-972015"></a>Given that the trench walls are 10um in depth, you can specify the trench structure in the package file, as shown below:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-972017"></a>trench&#160;&#160;0 35 50 7 10 (siliconoxide 148 1658960)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-972018"></a>trench&#160;&#160;0&#160;&#160;5 5 30 10 (siliconoxide 148 1658960)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-972019"></a>trench&#160;&#160;45 5 5 30 10 (siliconoxide 148 1658960)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-972020"></a>trench&#160;&#160;0&#160;&#160;0 50 7 10 (siliconoxide 148 1658960)</pre>
<h3>
<a id="pgfId-901517"></a><a id="43360"></a>Getting Started with Spectre Thermal Analysis</h3>

<p>
<a id="pgfId-902109"></a>To perform Spectre thermal analysis, the first step is to prepare the simulation testbench including the postlayout data of the design, and the DSPF files with device location and dimension information for the transistors, resistors, diodes, and so on, in the instance section. A <code>dspf_include</code> statement is required in the Spectre thermal analysis flow to identify the DSPF data.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-902167"></a>dspf_include &#8220;sram.spf&#8221; (Spectre syntax)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-902163"></a>.dspf_include &#8220;sram.spf&#8221; (SPICE syntax)</pre>

<p>
<a id="pgfId-902209"></a><code>dspf_include </code>provides special features for reading the DSPF format data, for example, port order adjustments, or handling of duplicated subcircuits. Do not use the <code>include</code>/<code>.include</code> commands to read the DSPF format data because these commands do not have the special functions of the <code>dspf_include</code>/<code>.dspf_include</code> command. </p>
<p>
<a id="pgfId-902182"></a>After setting up the testbench, you should perform a regular (non-electrothermal) postlayout simulation with the <code>spectre</code> command to ensure that the testbench contains no error, and the circuit behaves as expected.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-902264"></a>% spectre +aps input.scs (Spectre test bench)</pre>

<p>
<a id="pgfId-902290"></a>To perform electrothermal simulation on the same design, to add a reliability block containing the thermal analysis statement which defines the thermal configuration file (see <a href="chap7.html#17995">Technology Overview</a>) and invoke the Spectre command the same way as a regular postlayout simulation:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-902316"></a>% spectre +aps input.scs (electrothermal analysis)</pre>

<p>
<a id="pgfId-902340"></a>The electrothermal analysis is enabled by the presence of the <code>reliability</code> block. All electrothermal related options are defined either as options to the thermal analysis statement or in the thermal configuration file.</p>

<h4>
<a id="pgfId-902379"></a>Following the Progress of Spectre Steady-State Thermal Analysis</h4>

<p>
<a id="pgfId-902457"></a>As the simulation runs, Spectre outputs messages to the screen and the simulation log file that shows the progress of the simulation and provides statistical information. The following sections describe the information that may be significant to you when using the steady-state thermal analysis flow.</p>

<h4><em>
<a id="pgfId-902518"></a>Hardware Configuration and Run-Time Machine Loading</em></h4>

<p>
<a id="pgfId-902556"></a>At the beginning of a simulation session, Spectre prints the hardware configuration (physical memory, CPU core specification) and runtime machine status (available memory, CPU core operating frequency, CPU loading). When running electrothermal analysis on large designs, ensure there is sufficient memory available, with CPU operating at full speed (not in power saving mode), and the machine loading is light.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-902578"></a>User: abc Host: xpspeneh8c-1 HostID: 14AC0820 PID: 1920</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-902579"></a>Memory available: 88.2909 GB physical: 202.6861 GB</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-902580"></a>Linux : Red Hat Enterprise Linux Client release 5.8 (Tikanga)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-902581"></a>CPU Type: Intel(R) Xeon(R) CPU X5680 @ 3.33GHz</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-902582"></a>All processors running at 3333.6 MHz</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-902583"></a>Socket: Processors</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-902584"></a>0: 0, 1, 2, 3, 4, 5</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-902585"></a>1: 6, 7, 8, 9, 10, 11</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-902574"></a>System load averages (1min, 5min, 15min) : 7.8 %, 7.5 %, 9.3 %</pre>
<h4><em>
<a id="pgfId-902601"></a>Reading the Thermal Configuration File</em></h4>

<p>
<a id="pgfId-902654"></a>Spectre reads the thermal configuration file before processing the circuit being analyzed. All valid options are reported in the following summary:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-902677"></a>Reading THERMAL configuration file: .../thermal.conf</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-902678"></a>~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-902679"></a>THERMAL Analysis Configuration</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-902680"></a>~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-902681"></a>Thermal tech_file = &quot;tech.txt&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-902673"></a>Thermal package_file = &quot;pkg.txt&quot;</pre>

<p>
<a id="pgfId-902693"></a>If one of the specified thermal configuration options is not displayed in the summary, check the related warnings and correct the syntax.</p>

<h4><em>
<a id="pgfId-902745"></a>Processing the DSPF Files</em></h4>

<p>
<a id="pgfId-902782"></a>Spectre processes the DSPF files and prepares a reduced circuit to be simulated if there are RC parasitics. This often includes identifying the power nets and reducing them to only include parasitic capacitors, as well as identifying the signal nets and reducing the parasitic resistors and capacitors according to accuracy requirement.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-902805"></a>Time for Processing DSPF file: CPU = 9.31258 s, elapsed = 10.6095 s.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-902806"></a>Time accumulated: CPU = 9.32858 s, elapsed = 10.6095 s.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-902807"></a>Peak resident memory used = 320 Mbytes.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-902808"></a>Time for Creating Parasitic Database: CPU = 3.62345 s, elapsed = 3.61969 s.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-902809"></a>Time accumulated: CPU = 12.952 s, elapsed = 14.2293 s.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-902801"></a>Peak resident memory used = 586 Mbytes.</pre>
<h4><em>
<a id="pgfId-902821"></a>Running Electrical Simulation to Produce Device Power Values</em></h4>

<p>
<a id="pgfId-902894"></a>At this point, Spectre is ready to perform electrical simulation to produce device power values required for electrothermal simulation. This step is simply a regular circuit simulation, where Spectre first parses the circuit, reports circuit inventory, initiates a DC analysis, and finishes the step with a transient analysis.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-902932"></a>************************************************************************************</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-902933"></a>Transient Analysis `myThermal-000_runThermal-001_tran_thermal&#39;: time = (0 s -&gt; 1 ns)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-902934"></a>************************************************************************************</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-902935"></a>......</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-902936"></a>......9......8......7......6......5......4......3......2......1......0</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-902937"></a>Number of accepted tran steps = 635</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-902938"></a>......</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-902939"></a>Initial condition solution time: CPU = 1.32797 ks, elapsed = 670.625 s.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-902928"></a>Intrinsic tran analysis time: CPU = 103.104 s, elapsed = 35.0529 s.</pre>

<p>
<a id="pgfId-902958"></a>The resulting device power values are stored in a file with the extension <code>.thermal_rpt1</code> in the output directory, and used as an input for the subsequent thermal simulation.</p>
<p>
<a id="pgfId-902951"></a>This step of the electrothermal simulation is fully multi-threaded. It uses the number of cores specified using <code>+mt</code> on the Spectre command line.</p>

<h4><em>
<a id="pgfId-902987"></a>Calling Cadence&#174; Thermal Extractor to Generate Thermal Model</em></h4>

<p>
<a id="pgfId-903028"></a>During the first iteration, Cadence&#174; Thermal Extractor is invoked to build the thermal model of the structure being analyzed using the device location information extracted from the DSPF file and the material and boundary conditions defined in the thermal technology and package files. Spectre reports the chip bounding box information and the thermal package file content as the information is read into Cadence&#174; Thermal Extractor, as well as the time spent building the thermal model:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-903097"></a>Initializing data base for thermal solver of electrical-thermal co-simulation...</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-903098"></a>Die size in x, y and z direction: 7um 8um 101um</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-903099"></a>HTC value at right(xmax) bounadry: 2335.14W/m^2-K 530000K/W 40</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-903100"></a>HTC value at left(xmin) boundary: 2335.14W/m^2-K 530000K/W 40</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-903101"></a>HTC value at back(ymax) boundary: 2668.73W/m^2-K 530000K/W 40</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-903102"></a>HTC value at front(ymin) boundary: 2668.73W/m^2-K 530000K/W 40</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-903103"></a>HTC value at top surface of layer channel: 41528.2W/m^2-K 430000K/W 200</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-903104"></a>HTC value at bottom surface of layer substrate: 357143W/m^2-K 50000K/W 200</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-903105"></a>Wave3D engine finished normally.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-903106"></a>Time for initiating and create thermal database: CPU = 149.8s (0h 2m 29s),</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-903107"></a>elapsed = 166.0s (0h 2m 46s).</pre>

<p>
<a id="pgfId-903093"></a>This step of the electrothermal simulation is executed only once during the first iteration of the run. The resulting thermal model is reused for subsequent iterations of the thermal solver.</p>

<h4><em>
<a id="pgfId-903122"></a>Running Thermal Simulation to get the Temperature Rise on Devices</em></h4>

<p>
<a id="pgfId-903169"></a>Once the thermal model is built, Spectre performs thermal simulation using the thermal model generated by Cadence&#174; Thermal Extractor:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-903199"></a>Solving for temperature in electrical-thermal co-simulation...</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-903195"></a>Time for solving thermal: CPU = 3.6s (0h 0m 3s), elapsed = 3.6s (0h 0m 3s).</pre>

<p>
<a id="pgfId-903218"></a>The resulting temperature rise on each device is then used to set the device temperature on each device for the next iteration of the electrothermal simulation.</p>
<p>
<a id="pgfId-903211"></a>At the end of each iteration, Spectre reports the runtime statistics, such as total and accumulated run times and memory usage. These are important measures when optimizing performance:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-903241"></a>Total time required for tran analysis</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-903242"></a>`myThermal-000_runThermal-000_tran_thermal&#39;: CPU = 1.48324 ks (24m 43.2s),</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-903243"></a>elapsed = 879.193 s (14m 39.2s).</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-903244"></a>Time accumulated: CPU = 1.87758 ks (31m 17.6s), elapsed = 1.28742 ks (21m 27.4s).</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-903237"></a>Peak resident memory used = 13.2 Gbytes.</pre>
<h4>
<a id="pgfId-903256"></a>Spectre Steady-State Thermal Analysis Data Flow</h4>

<p>
<a id="pgfId-903313"></a>The following figure shows the flow of a two-iteration run of electrothermal simulation with the number of iterations defined in the thermal analysis options as <code>numiter=2</code>. Note that the number of iterations is defined as the number of electrothermal simulations after the initial round of simulation. Therefore, with <code>numiter=2</code>, the total number of both electrical and thermal simulations is three. </p>

<p>
<a id="pgfId-903386"></a></p>
<div class="webflare-div-image">
<img width="668" height="570" src="images/chap7-101.gif" /></div>

<p>
<a id="pgfId-903363"></a>Three copies of thermal report are generated in the <code>raw</code> file directory, each corresponding to the result from one iteration, with the initial iteration number in the file name suffix being <code>0</code>.</p>

<h4>
<a id="pgfId-903514"></a>Spectre Steady-State Thermal Analysis Output Reports</h4>

<p>
<a id="pgfId-903572"></a>Spectre thermal analysis generates a report file with the extension <code>.thermal_rpt</code> and the iteration count in the <code>raw</code> file directory after each iteration. It reports the temperature rise and power value on each device in the DSPF file. The last of these reports can be used as the final result of the electrothermal analysis. The following is a sample report that is generated:</p>

<p>
<a id="pgfId-903637"></a></p>
<div class="webflare-div-image">
<img width="668" height="673" src="images/chap7-102.gif" /></div>
<h4>
<a id="pgfId-903622"></a>Spectre Dynamic Thermal Analysis Output</h4>

<p>
<a id="pgfId-903608"></a>With Spectre dynamic thermal analysis, the transient temperature waveforms on the designated instances are saved in a file in the <code>raw</code> file directory with the extension <code>.temp_probe.tran.tran</code>. The instances for which the temperature waveforms are desired are defined with the <code>save_inst</code> option to the thermal analysis statement in the testbench. Along with the temperature waveform, the instantaneous power waveform of the designated instances is also saved in the same file. Without providing a list of instances with the <code>save_inst</code> option, no instance temperature and power waveforms are saved. However, Spectre always save the minimum or maximum instance temperature rise and the total power of the entire design in the <code>.temp_probe.tran.tran</code> file regardless of whether any instance is provided in the <code>save_inst</code> option. The following is a temperature waveform of a device in a design plotted along with the input signal waveform:</p>

<p>
<a id="pgfId-936791"></a></p>
<div class="webflare-div-image">
<img width="668" height="317" src="images/chap7-103.gif" /></div>

<p>
<a id="pgfId-903733"></a></p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="chap6.html" id="prev" title="Modeling for Signal Integrity">Modeling for Signal Integrity</a></em></b><b><em><a href="chap8.html" id="nex" title="Control Statements">Control Statements</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2020, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>