
<html><head><title>Time-Saving Techniques</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="kamal" />
<meta name="CreateDate" content="2020-06-16" />
<meta name="CreateTime" content="1592307254" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the Spectre Circuit Simulator." />
<meta name="DocTitle" content="Spectre Classic Simulator, Spectre APS, Spectre X, and Spectre XPS User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Time-Saving Techniques" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.2" />
<meta name="Keyword" content="spectreuser" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2020-06-16" />
<meta name="ModifiedTime" content="1592307254" />
<meta name="NextFile" content="chap16.html" />
<meta name="Order" content="1" />
<meta name="Group" content="Spectre Simulator" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="chap14.html" />
<meta name="c_product" content="Spectre" />
<meta name="Product" content="Spectre" />
<meta name="ProductFamily" content="Spectre" />
<meta name="ProductVersion" content="19.1" />
<meta name="RightsManagement" content="Copyright 2012-2020 Cadence Design Systems Inc." />
<meta name="Title" content="Spectre Classic Simulator, Spectre APS, Spectre X, and Spectre XPS User Guide -- Time-Saving Techniques" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="Version" content="19.1" />
<meta name="SpaceKey" content="spectreuser191" />
<meta name="webflare-version" content="2.0" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="spectreuserTOC.html">Contents</a></li><li><a class="prev" href="chap14.html" title="Encryption">Encryption</a></li><li style="float: right;"><a class="viewPrint" href="spectreuser.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="chap16.html" title="Managing Files">Managing Files</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Spectre Classic Simulator, Spectre APS, Spectre X, and Spectre XPS User Guide<br />Product Version 19.1, June 2020</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>18
<a id="pgfId-517257"></a></h1>
<h1>
<a id="pgfId-517258"></a><hr />
<a id="31255"></a>Time-Saving Techniques<hr />
</h1>

<p>
<a id="pgfId-550776"></a><a id="38496"></a>In this chapter, you will learn about different methods to reduce simulation time. This chapter discusses the following topics:</p>
<ul><li>
<a id="pgfId-549671"></a><a href="chap15.html#22377">Specifying Efficient Starting Points</a></li><li>
<a id="pgfId-549847"></a><a href="chap15.html#29778">Reducing the Number of Simulation Runs</a></li><li>
<a id="pgfId-549848"></a><a href="chap15.html#15966">Adjusting Speed and Accuracy</a></li><li>
<a id="pgfId-549849"></a><a href="chap15.html#24618">Saving Time by Starting Analyses from Previous Solutions</a></li><li>
<a id="pgfId-549672"></a><a href="chap15.html#29842">Saving Time by Specifying State Information</a></li><li>
<a id="pgfId-549673"></a><a href="chap15.html#11158">Saving Time by Modifying Parameters during a Simulation</a></li><li>
<a id="pgfId-549674"></a><a href="chap15.html#20138">Saving Time by Selecting a Continuation Method</a></li></ul>







<h2>
<a id="pgfId-510920"></a><a id="22377"></a>Specifying Efficient Starting Points</h2>

<p>
<a id="pgfId-512184"></a>The Spectre<sup>&#174;</sup> circuit simulator arrives at a solution for a simulation by calculating successively more accurate estimates of the final result. You can increase simulation speed by providing information that the Spectre simulator uses to increase the accuracy of the initial solution estimate. There are three ways to provide a good starting point for a simulation:</p>
<ul><li>
<a id="pgfId-510925"></a>Start analyses from previous solutions</li><li>
<a id="pgfId-510958"></a>Specify initial conditions for components and nodes</li><li>
<a id="pgfId-511000"></a>Specify solution estimates with nodesets</li></ul>



<h2>
<a id="pgfId-512196"></a><a id="29778"></a>Reducing the Number of Simulation Runs</h2>

<p>
<a id="pgfId-512201"></a>With the Spectre simulator, you can run many analyses (including analyses of the same type) in a single simulation. With other SPICE-like simulators, you might require multiple simulations to complete the same tasks. In a single simulation run, you can run a set of Spectre analyses; modify the component, temperature, or <code>options</code> parameters; and then run additional analyses with the new parameters. </p>

<h2>
<a id="pgfId-510919"></a><a id="15966"></a>Adjusting Speed and Accuracy</h2>

<p>
<a id="pgfId-514063"></a>You can use the <code>errpreset</code> parameter to increase the speed of transient analyses, but this speed increase requires some sacrifice of accuracy. </p>

<h2>
<a id="pgfId-512178"></a><a id="24618"></a>Saving Time by Starting Analyses from Previous Solutions<a id="marker-512179"></a><a id="marker-551071"></a></h2>

<p>
<a id="pgfId-512180"></a>A solution for one analysis can be an appropriate starting point for the next analysis. For example, if a DC analysis precedes a transient analysis, you can use the DC solution as the first guess for the initial point in the transient analysis solution. There are two Spectre analysis parameters that let you start analyses from previous solutions. They are available for most Spectre analyses.</p>
<ul><li>
<a id="pgfId-510912"></a>The <code>restart</code><a id="marker-511759"></a> parameter<br />
<a id="pgfId-510929"></a>If you set this parameter to <code>restart=no</code> in an analysis statement, the Spectre simulator uses the DC solution of the previous analysis as an initial guess for the following analysis. </li><li>
<a id="pgfId-510931"></a>The <code>prevoppoint</code><a id="marker-511760"></a> parameter<br />
<a id="pgfId-510947"></a>If you set this parameter to <code>prevoppoint=yes</code> in an analysis statement, the Spectre simulator does not compute or recompute the operating point. Instead, it uses the operating point computed by the previous analysis.</li></ul>




<h2>
<a id="pgfId-510916"></a><a id="29842"></a>Saving Time by Specifying Stat<a id="marker-511763"></a><a id="marker-551085"></a>e Information</h2>

<p>
<a id="pgfId-510915"></a>The Spectre simulator lets you provide state information (the current or last-known status or condition of a process, transaction, or setting) to the DC and transient analyses. You can specify two kinds of state information:</p>
<ul><li>
<a id="pgfId-510914"></a>Initial conditions<br />
<a id="pgfId-510930"></a>The <code>ic</code> statement lets you specify values for the starting point of a transient analysis. The values you can specify are voltages on nodes and capacitors, and currents on inductors.</li><li>
<a id="pgfId-510933"></a>Nodesets<br />
<a id="pgfId-511179"></a>Nodesets are estimates of the solution you provide for the DC or transient analyses. Nodesets usually act only as aids in speeding convergence, but if a circuit has more than one solution, as with a latch, nodesets can bias the solution to the one closest to the nodeset values.</li></ul>




<h3>
<a id="pgfId-511190"></a>Setting Initial Conditions for All Transient <a id="marker-551069"></a>Analyses</h3>

<p>
<a id="pgfId-511184"></a>You can specify initial conditions that apply to all transient analyses in a simulation or to a single transient analysis. The <code>ic</code> statement and the <code>ic</code> parameter described in this section set initial conditions for all transient analyses in the netlist. In general, you use the <code>ic</code> parameter of individual components to specify initial conditions for those components, and you use the <code>ic</code> statement to specify initial conditions for nodes. You can specify initial conditions for inductors with either method. Specifying <code>cmin</code> for a transient analysis does not satisfy the condition that a node has a capacitive path to ground.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-510981"></a>Do not confuse the <code>ic</code> parameter for individual components with the <code>ic</code> parameter of the transient analysis. The latter lets you select from among different initial conditions specifications for a given transient analysis.</div>

<h4>
<a id="pgfId-511203"></a>Specifying Initial Conditio<a id="marker-553063"></a>ns for Components</h4>

<p>
<a id="pgfId-510940"></a>You can specify initial conditions in the instance statements of capacitors, inductors, and windings for magnetic cores. The <code>ic</code> parameter specifies initial voltage values for capacitors and current values for inductors and windings. In the following example, the initial condition voltage on capacitor <code>Cap13</code> is set to two volts:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-510937"></a>Cap13 11 9 capacitor c=10n ic=2</pre>
<h4>
<a id="pgfId-511224"></a>Specifying Initial Conditions for No<a id="marker-511805"></a>des</h4>

<p>
<a id="pgfId-510941"></a>You use the <code>ic</code> statement to specify initial conditions for nodes or initial currents for inductors. The nodes can be inside a subcircuit or internal nodes to a component. <a id="icstatement"></a><a id="marker-511815"></a></p>
<p>
<a id="pgfId-510948"></a>The following is the format for the <code>ic</code> statement:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-510950"></a>ic <code><em>signalName</em></code>=<code><em>value</em></code> &#8230;</pre>

<p>
<a id="pgfId-510951"></a>The format for specifying signals with the <code>ic</code> statement is similar to that used by the <code>save</code> statement. This method is described in detail in <xrefstd>&#8220;Saving Main Circuit Signals&#8221;. Consult this discussion if you need further clarification about the following example.</xrefstd></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-510952"></a>ic Voff=0 X3.7=2.5 M1:int_d=3.5 L1:1=1u</pre>

<p>
<a id="pgfId-510922"></a>This example sets the following initial conditions:</p>
<ul><li>
<a id="pgfId-510938"></a>The voltage of node <code>Voff</code> is set to 0.</li><li>
<a id="pgfId-510953"></a>Node 7 of subcircuit X3 is set to 2.5 V.</li><li>
<a id="pgfId-510955"></a>The internal drain node of component M1 is set to 3.5 V. (See the following table for more information about specifying internal nodes.)</li><li>
<a id="pgfId-510956"></a>The current for inductor <code>L1</code> is set to 1μ.</li></ul>



<p>
<a id="pgfId-548950"></a>Specifying initial node voltages requires some additional discussion. The following table tells you the internal voltages you can specify with different components.</p>

<p>
<a id="pgfId-551893"></a></p>
<table class="webflareTable" id="#id551898">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id551900">
<a id="pgfId-551900"></a>Component</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id551902">
<a id="pgfId-551902"></a>Internal Node Specifications</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-551904"></a>BJT</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-551906"></a><code>int_c</code>, <code>int_b</code>, <code>int_e</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-551908"></a>BSIM</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-551910"></a><code>int_d</code>, <code>int_s</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-551912"></a>MOSFET</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-551914"></a><code>int_d</code>, <code>int_s</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-551916"></a>GaAs MESFET</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-551918"></a><code>int_d</code>, <code>int_s</code>, <code>int_g</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-551920"></a>JFET</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-551922"></a><code>int_d</code>, <code>int_s</code>, <code>int_g</code>, <code>int_b</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-551924"></a>Winding for Magnetic Core</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-551926"></a><code>int_Rw</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-551928"></a>Magnetic Core with Hysteresis</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-551930"></a><code>flux</code></p>
</td>
</tr>
</tbody></table>
<h3>
<a id="pgfId-511251"></a>Supplying Solut<a id="marker-551043"></a><a id="marker-551041"></a>ion Estimates to Increase Speed</h3>

<p>
<a id="pgfId-517534"></a>You use the <code>nodeset</code> statement to supply estimates of solutions that aid convergence or bias the simulation towards a given solution. You can use nodesets for all DC and initial transient analysis solutions in the netlist. The <code>nodeset</code> statement has the following format:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-510924"></a>nodeset <code><em>signalName</em></code>=<code><em>value</em></code>&#8230;</pre>

<p>
<a id="pgfId-510917"></a>Values you can supply with the <code>nodeset</code> statement include voltages on topological nodes, including internal nodes, and currents through voltage sources, inductors, switches, transformers, N-ports, and transmission lines.</p>
<p>
<a id="pgfId-510921"></a>The format for specifying signals with the <code>nodeset</code> statement is similar to that used by the <code>save</code> statement. This method is described in detail in <xrefstd>&#8220;Saving Main Circuit Signals&#8221;</xrefstd></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-510928"></a>nodeset Vo<a id="marker-511838"></a>ff=0 X3.7=2.5 M1:int_d=3.5 L1:1=1u</pre>

<p>
<a id="pgfId-510942"></a>This example sets the following solution estimates:</p>
<ul><li>
<a id="pgfId-510944"></a>The voltage of node <code>Voff</code> is set to 0.</li><li>
<a id="pgfId-510945"></a>Node 7 of subcircuit X3 is set to 2.5 V.</li><li>
<a id="pgfId-514535"></a>The internal drain node of component M1 is set to 3.5 V. (See the table in the <a href="chap15.html#icstatement">ic statements</a> section of this chapter for more information about specifying internal nodes.)</li><li>
<a id="pgfId-514536"></a>The current for inductor <code>L1</code> is set to 1μ.</li></ul>




<h3>
<a id="pgfId-514725"></a>Specifying State Information for Individual Analyses</h3>

<p>
<a id="pgfId-514774"></a>You can specify state information for individual analyses in two ways:</p>
<ul><li>
<a id="pgfId-514817"></a>You can use the <code>ic</code> parameter of the transient analysis to choose which previous specifications are used.</li><li>
<a id="pgfId-514908"></a>You can create a state file that is read by an individual analysis.</li></ul>


<h4>
<a id="pgfId-514625"></a>Choosing Which Initial Conditions Specifications Are Used for a Transient Analysis</h4>

<p>
<a id="pgfId-514626"></a>The <code>ic</code> parameter in the transient analysis lets you select among several options for which initial conditions to use. You can choose the following settings:</p>

<p>
<a id="pgfId-553120"></a></p>
<table class="webflareTable" id="#id553099">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id553101">
<a id="pgfId-553101"></a>Parameter Setting</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id553103">
<a id="pgfId-553103"></a>Action Taken</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-553105"></a><code>dc</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-553107"></a>Initial conditions specifiers are ignored, and the existing DC solution is used.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-553109"></a><code>node</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-553111"></a>The <code>ic</code> statements are used, and the <code>ic</code> parameter settings on the capacitors and inductors are ignored.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-553113"></a><code>dev</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-553115"></a>The <code>ic</code> parameter settings on the capacitors and inductors are used, and the <code>ic</code> statements are ignored.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-553117"></a><code>all</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-553119"></a>Both the <code>ic</code> statements and the <code>ic</code> parameters are used. If specifications conflict, <code>ic</code> parameters override <code>ic</code> statements.</p>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-553122"></a>Specifying State Information with State Files</h4>

<p>
<a id="pgfId-553123"></a>You can also specify initial conditions and estimate solutions by creating a state file that is read by the appropriate analysis. You can create a sta<a id="marker-553124"></a>te file in two ways:</p>
<ul><li>
<a id="pgfId-510968"></a>You can instruct the Spectre simulator to create a state file in a previous analysis for future use.</li><li>
<a id="pgfId-510985"></a>You can create a state file manually in a text editor.</li></ul>


<h4>
<a id="pgfId-511285"></a>Telling the Spectre Simulator to Create a State File</h4>

<p>
<a id="pgfId-510986"></a>You can instruct the Spectre simulator to create a state file from either the initial point or the final point in an analysis. To write a state file from the initial point in an analysis, use the <code>write</code><a id="marker-511880"></a> parameter. To write a state file from the final point, use the <code>writefinal</code><a id="marker-551073"></a> parameter. Each of the following two examples writes a state file named <code>ua741.dc</code>. The first example writes the state file from the initial point in the DC sweep, and the second example writes the state file from the final point in the DC sweep.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-510926"></a>Drift dc param=temp start=0 stop=50.0 step=1 readns=&quot;ua741.dc&quot; write=&quot;ua741.dc&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-510963"></a>Drift dc param=temp start=0 stop=50.0 step=1 readns=&quot;ua741.dc&quot; writefinal=&quot;ua741.dc&quot;</pre>
<h4>
<a id="pgfId-511338"></a>Creating a State File Man<a id="marker-553152"></a>ually</h4>

<p>
<a id="pgfId-510990"></a>The syntax for creating a state file in a text editor is simple. Each line contains a signal name and a signal value. Anything after a pound sign (<code>#</code>) is ignored as a comment. The following is an example of a simple state file:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-510989"></a># State file generated by Spectre from circuit file &#39;wilson&#39;<br /># during &#39;stepresponse&#39; at 5:39:38 PM, jan 21, 1992.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-551091"></a>1     .588793510612534<br />2     1.17406247989272<br />3     14.9900516233357<br />pwr   15<br />vcc:p -9.9483766642647e-06</pre>
<h4>
<a id="pgfId-511359"></a>Reading State F<a id="marker-511934"></a><a id="marker-551081"></a><a id="marker-551079"></a><a id="marker-551077"></a>iles</h4>

<p>
<a id="pgfId-511572"></a>To read a state file as an initial condition, use the <code>readic</code><a id="marker-511947"></a> transient analysis parameter. To read a state file as a nodeset, use the <code>readns</code> parameter. This example reads the file <code>intCond</code> as initial conditions:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-511573"></a>DoTran_z12 tran start=0 stop=0.003 \<br /> step=0.00015 maxstep=6e-06 readic=&quot;intCond&quot;</pre>

<p>
<a id="pgfId-511620"></a>This second example reads the file <code>soluEst</code> as a nodeset.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-510994"></a>DoTran_z12 tran start=0 stop=0.003 \<br /> step=0.00015 maxstep=6e-06 readns=&quot;soluEst&quot;</pre>
<h4>
<a id="pgfId-511392"></a>Special Uses<a id="marker-511960"></a> for State Files</h4>

<p>
<a id="pgfId-510927"></a>State files can be useful for the following reasons:</p>
<ul><li>
<a id="pgfId-510995"></a>You can save state files and use them in later simulations. For example, you can save the solution at the final point of a transient analysis and then continue the analysis in a later simulation by using the state file as the starting point for another transient analysis.</li><li>
<a id="pgfId-510966"></a>You can use state files to create automatic updates of initial conditions and nodesets.</li></ul>

<p>
<a id="pgfId-510996"></a>The following example demonstrates the usefulness of state files:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-551202"></a>altTemp alter param=temp value=0<br />Drift dc param=temp start=0 stop=50.0 step=1 readns=&#8221;ua741.dc0&#8221; write=&#8221;ua741.dc<br />XferVsTemp xf param=temp start=0 stop=50 step=1 probe=Rload freq=1kHz \&#160;&#160;      readns=&#8221;ua741.dc0&#8221;</pre>

<p>
<a id="pgfId-551157"></a>The first analysis computes the DC solution at T=0C, saves it to a file called <code>ua741.dc0</code>, and then sweeps the temperature to T=50C. The transfer function analysis (<code>xf</code>) resets the temperature to zero. Because of the temperature change, the DC solution must be recomputed. Without the use of state files, this computation might slow the simulation because the only available estimate of the DC solution would be that computed at T=50C, the final point in the DC sweep. However, by using a state file to preserve the initial DC solution at T=0C, you can enable the Spectre simulator to compute the new DC solution quickly. The computation is fast because the Spectre simulator can use the DC solution computed at T=0C to estimate the new solution. You can also make future simulations of this circuit start quickly by using the state file to estimate the DC solution. Even if you have altered a circuit, it is usually faster to start the DC analysis from a previous solution than to start from the beginning. </p>

<h2>
<a id="pgfId-512243"></a><a id="11158"></a>Saving Time by Modifying Parameters during a Simulation</h2>

<p>
<a id="pgfId-512244"></a>The Spectre simulator lets you place specifications in the netlist to modify parameters and then resimulate. This lets you accomplish tasks with a single Spectre run that might require multiple runs with another simulator. To change parameter settings during a run, you use the following Spectre control statements:</p>
<ul><li>
<a id="pgfId-512245"></a>The <code>alter</code> statement<br />
<a id="pgfId-512246"></a>You use this statement to change the parameters of circuits, subcircuits, and individual models or components. You also use it to change the following <code>options</code> statement temperature parameters and scaling factors:<ul><li>
<a id="pgfId-512247"></a><code>temp</code></li><li>
<a id="pgfId-512248"></a><code>tnom</code></li><li>
<a id="pgfId-512249"></a><code>scale</code></li><li>
<a id="pgfId-512250"></a><code>scalem</code></li></ul><br />
<a id="pgfId-549944"></a>You can use the <code>altergroup</code> statement to specify device, model, and netlist parameter statements that you want to change the values of with analyses.</li><li>
<a id="pgfId-512251"></a>The <code>set</code> statement<br />
<a id="pgfId-512252"></a>Except for temperature parameters and scaling factors, you use the <code>set</code> statement to modify any <code>options</code> statement parameters you set at the beginning of the netlist. The new settings apply to all analyses that follow the <code>set</code> statement in the netlist.</li></ul>








<p>
<a id="pgfId-512253"></a>The <code>alter</code> and <code>set</code> statements are queued up with analysis statements and are processed in order.</p>

<h3>
<a id="pgfId-512254"></a>Changing Circuit or Component Parameter Values</h3>

<p>
<a id="pgfId-512255"></a>You modify parameters for devices, models, circuit, and subcircuit parameters during a simulation with the <code>alter</code> statement. The modifications apply to all analyses that follow the <code>alter</code> statement in your netlist until you request another parameter modification. </p>

<h4>
<a id="pgfId-512256"></a><a id="39897"></a>Changing Parameter Values for Component<a id="marker-512257"></a>s</h4>

<p>
<a id="pgfId-512258"></a>To change a parameter value for a component device or model, you specify the device or model name, the parameter name, and the new parameter value in the <code>alter</code> statement. You can modify only one parameter with each <code>alter</code> statement, but you can put any number of <code>alter</code> statements in a netlist. The following example demonstrates <code>alter</code> statement syntax:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-512260"></a>SetMag alter dev=Vt1 param=mag value=1</pre>

<ul><li>
<a id="pgfId-512262"></a><code>SetMag</code> is the unique netlist name for this <code>alter</code> statement. (Like many Spectre statements, each <code>alter</code> statement must have a unique name.)</li><li>
<a id="pgfId-512263"></a>The keyword <code>alter</code> is the primitive name for the <code>alter</code> statement.</li><li>
<a id="pgfId-512264"></a><code>dev=Vt1</code> identifies <code>Vt1</code> as the netlist name for the component statement you want to modify. You identify an instance statement with <code>dev</code> and a <code>model</code> statement with <code>mod</code>. When you use the <code>alter</code> statement to modify a circuit parameter, you leave both <code>dev</code> and <code>mod</code> unspecified.</li><li>
<a id="pgfId-512265"></a><code>param=mag</code> identifies <code>mag</code> as the parameter you are modifying. If you omit this parameter, the Spectre simulator uses the first parameter listed for each component in the Spectre online help as the default.</li><li>
<a id="pgfId-512266"></a><code>value=1</code> identifies <code>1</code> as the new value for the <code>mag</code> parameter. If you leave <code>value</code> unspecified, it is set to the default for the parameter.</li></ul>





<h4>
<a id="pgfId-549955"></a><a id="20150"></a>Changing Parameter Values for Model<a id="marker-549957"></a>s</h4>

<p>
<a id="pgfId-549968"></a>To change a parameter value for model files with the <code>altergroup</code> statement, you list the device, model, and circuit parameter statements as you do in the main netlist. Within an alter group, each model is first defaulted and then the model parameters are updated. You cannot nest alter groups. You cannot change from a model to a model group and vice versa. The following example demonstrates <code>altergroup</code> statement syntax:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-549970"></a>ag1 altergroup {<br />    parameters p1=1<br />    model myres resistor r1=1e3 af=p1<br />    model mybsim bsim3v3 lmax=p1 lmin=3.5e-7<br />}</pre>
<h4>
<a id="pgfId-512267"></a>Further Examples of Changing Component Parameter Values</h4>

<p>
<a id="pgfId-512268"></a>This example changes the <code>is</code> parameter of a model named <code>SH3</code> to the value <br /><code>1e-15</code>:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-512269"></a>modify2 alter mod=SH3 param=is value=1e-15</pre>

<p>
<a id="pgfId-512270"></a>The following examples show how to use the <code>param</code> default in an <code>alter</code> statement. The first parameter listed for resistors in the Spectre online help (<code>spectre -h</code>) is the default. For resistors, this is the resistance parameter <code>r</code>. </p>
<p>
<a id="pgfId-515600"></a>Consequently, if <code>R1</code> is a resistor, the following two <code>alter</code> statements are equivalent:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-512271"></a>change1 alter dev=R1 param=r value=50</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-512272"></a>change1 alter dev=R1 value=50</pre>
<h4>
<a id="pgfId-512273"></a>Changing Parameter Values for Circu<a id="marker-512274"></a>its</h4>

<p>
<a id="pgfId-512275"></a>When you change a circuit parameter, you use the same syntax as when you change a device or model parameter except that you do not enter a <code>dev</code> or a <code>mod</code> parameter. </p>
<p>
<a id="pgfId-512276"></a>This example changes the ambient temperature to 0°C:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-512277"></a>change2 alter param=temp value=0</pre>

<p>
<a id="pgfId-512279"></a>The following table describes the circuit parameters you can change with the <code>alter</code> statement:&#160;&#160;&#160;&#160;</p>

<p>
<a id="pgfId-551963"></a></p>
<table class="webflareTable" id="#id551968">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id551970">
<a id="pgfId-551970"></a>Parameter</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id551972">
<a id="pgfId-551972"></a>Description</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-551976"></a><code>temp</code><a id="marker-551974"></a><a id="marker-551975"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-551979"></a>Ambient temperature</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-551983"></a><code>tnom</code><a id="marker-551981"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-551985"></a>Default measurement temperature for component parameters</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-551989"></a><code>scalem</code><a id="marker-551987"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-551992"></a>Component model scaling factor</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-551996"></a><code>scale</code><a id="marker-551994"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-552001"></a>Component instance scaling factor</p>
</td>
</tr>
</tbody></table>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-550020"></a>If you change <code>temp</code> or <code>tnom</code> using an <code>alter</code> statement, all expressions with <code>temp</code> or <code>tnom</code> are reevaluated.</div>

<h3>
<a id="pgfId-550018"></a>Modifying Initial Settings of the State of the Simulator</h3>

<p>
<a id="pgfId-512310"></a>You can change the initial settings for the state of the simulator by placing a <code>set</code> statement in the netlist. The <code>set</code> statement is similar to the <code>options</code> statement that sets the state of the simulator, but it is queued with the analysis statements in the order you place them in the netlist. </p>
<p>
<a id="pgfId-514962"></a>You use the <code>set</code> statement to change previous <code>options</code> or <code>set</code> statement specifications. The modifications apply to all analyses that follow the <code>set</code> statement in the netlist until you request another parameter modification. The <code>set</code> and <code>options</code> statements have many identical parameters, but the <code>set</code> statement cannot modify all <code>options</code> statement parameters. The parameter listings in the Spectre online help (<code>spectre -h</code>) tell you which parameters you can reset with the <code>set</code> statement. </p>

<h4>
<a id="pgfId-514964"></a>Formatting the<a id="marker-514963"></a> set Statement</h4>

<p>
<a id="pgfId-512315"></a>The following example demonstrates the <code>set</code> statement syntax. This example turns off several annotation parameters.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-512317"></a>Quiet set narrate=no error=no info=no</pre>

<ul><li>
<a id="pgfId-512319"></a><code>Quiet</code> is the unique name you give to the <code>set</code> statement.</li><li>
<a id="pgfId-512320"></a>The keyword <code>set</code> is the primitive name for the <code>set</code> statement.</li><li>
<a id="pgfId-512321"></a><code>narrate</code>, <code>error</code>, and <code>info</code> are the parameters you are changing.</li></ul>


<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-550033"></a>If you want to change <code>temp</code> or <code>tnom</code>, use the <code>alter</code> statement.</div>

<h2>
<a id="pgfId-512233"></a><a id="20138"></a>Saving Time by Selecting a Contin<a id="marker-551033"></a>uation Method</h2>

<p>
<a id="pgfId-513779"></a>The Spectre simulator normally starts with an initial estimate and then tries to find the solution for a circuit using the Newton-Rap<a id="marker-549145"></a>hson method. If this attempt fails, the Spectre simulator automatically tries several continuation methods to find a solution and tells you which method was successful. Continuation methods modify the circuit so that the solution is easy to compute and then gradually change the circuit back to its original form. Continuation methods are robust, but they are slower than the Newton-Raphson method.</p>
<p>
<a id="pgfId-513814"></a>If you need to modify and resimulate a circuit that was solved with a continuation method, you probably want to save simulation time by directly selecting the continuation method you know was previously successful.</p>
<p>
<a id="pgfId-513827"></a>You select the continuation method with the <code>homotopy</code><a id="marker-513953"></a> parameter of the <code>set</code> or <code>options</code> statements. In addition to the default setting, <code>all</code>, six settings are possible for this parameter: gmin stepping (<code>gmin</code>), source stepping (<code>source</code>), the pseudotransient method (<code>ptran</code>), damped pseudotransient method (<code>dptran</code>), <code>arclength</code>, and transient rampup method (<code>tranrampup</code>). You can also prevent the use of continuation methods by setting the <code>homotopy</code> parameter to <code>none</code>.</p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="chap14.html" id="prev" title="Encryption">Encryption</a></em></b><b><em><a href="chap16.html" id="nex" title="Managing Files">Managing Files</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2020, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>