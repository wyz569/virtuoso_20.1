
<html><head><title>SPICE Compatibility</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="kamal" />
<meta name="CreateDate" content="2020-06-16" />
<meta name="CreateTime" content="1592307258" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the Spectre Circuit Simulator." />
<meta name="DocTitle" content="Spectre Classic Simulator, Spectre APS, Spectre X, and Spectre XPS User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="SPICE Compatibility" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.2" />
<meta name="Keyword" content="spectreuser" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2020-06-16" />
<meta name="ModifiedTime" content="1592307258" />
<meta name="NextFile" content="chap4.html" />
<meta name="Order" content="1" />
<meta name="Group" content="Spectre Simulator" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="spectrexps.html" />
<meta name="c_product" content="Spectre" />
<meta name="Product" content="Spectre" />
<meta name="ProductFamily" content="Spectre" />
<meta name="ProductVersion" content="19.1" />
<meta name="RightsManagement" content="Copyright 2012-2020 Cadence Design Systems Inc." />
<meta name="Title" content="Spectre Classic Simulator, Spectre APS, Spectre X, and Spectre XPS User Guide -- SPICE Compatibility" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="Version" content="19.1" />
<meta name="SpaceKey" content="spectreuser191" />
<meta name="webflare-version" content="2.0" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="spectreuserTOC.html">Contents</a></li><li><a class="prev" href="spectrexps.html" title="The Spectre XPS Circuit Simulator">The Spectre XPS Circuit Simula ...</a></li><li style="float: right;"><a class="viewPrint" href="spectreuser.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="chap4.html" title="Spectre Netlists">Spectre Netlists</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Spectre Classic Simulator, Spectre APS, Spectre X, and Spectre XPS User Guide<br />Product Version 19.1, June 2020</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>6
<a id="pgfId-531507"></a></h1>
<h1>
<a id="pgfId-635359"></a><hr />
SPICE Compatibility<hr />
</h1>

<p>
<a id="pgfId-641501"></a>The Spectre<sup>&#174;</sup> circuit simulator provides a SPICE compatibility mode, which eliminates the need for any netlist conversion in your flow.</p>
<p>
<a id="pgfId-641502"></a>For migration issues, see <em><a actuate="user" class="URL" href="../migration/migrationTOC.html#firstpage" show="replace" xml:link="simple">Spectre Circuit Simulator Migration Guide</a></em>.</p>
<p>
<a id="pgfId-641641"></a>You can add the <code>+spice </code>option to the <code>spectre</code> command line option:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-641654"></a>spectre +spice <code><em>options</em></code> <code><em>inputfile</em></code> </pre>

<p>
<a id="pgfId-641652"></a>The <code>+spice</code> option </p>
<ul><li>
<a id="pgfId-641662"></a>sets <code>tnom</code> and <code>temp</code> to 25C.</li><li>
<a id="pgfId-641663"></a>sets parameter inheritance to global rather than the Spectre default of local. This means that global parameter definitions override local ones.</li><li>
<a id="pgfId-641664"></a>sets flags on files that do not have an <code>.scs</code> extension or those that have sections with <code>simulator lang=spice</code> to be HSPICE compatible. This maps models in the SPICE sections to their Spectre equivalents, but does not modify Spectre files or sections.</li><li>
<a id="pgfId-641665"></a>enforces .IC statements and initial conditions on elements for DC and OP analyses. By default, Spectre only forces initial conditions if the DC analysis <code>force</code> option is set.</li><li>
<a id="pgfId-643618"></a>allows duplicate parameter definitions.<br />
<a id="pgfId-643811"></a>By default, Spectre does not allow duplicate parameter definitions. The <code>+spice</code> command-line option automatically sets the value of <code>redefinedparams</code> to <code>warning</code> and generates a warning for the redefined parameters.</li><li>
<a id="pgfId-643629"></a>sets <code>auto_minconductor</code> to <code>yes</code>.</li><li>
<a id="pgfId-643642"></a>sets the default resistance to 1e-5, if it is not specified for the resistor.</li><li>
<a id="pgfId-643658"></a>errors out if linear CCCS does not have coefficients.</li><li>
<a id="pgfId-643665"></a>sets the sources to be vcrspice instead of vcr.</li></ul>












<h2>
<a id="pgfId-641521"></a><a id="22358"></a><a id="63001"></a>Support for SPICE Netlists</h2>

<p>
<a id="pgfId-641522"></a>The Spectre circuit simulator can read syntax that is consistent with other commercial SPICE simulators. These features include, but are not limited to.</p>
<ul><li>
<a id="pgfId-641523"></a>Hierarchical identifiers<br />
<a id="pgfId-641524"></a>These are used to allow a parasitic device to connect to an internal node of the subcircuit. </li><li>
<a id="pgfId-641525"></a>Miscellaneous SPICE syntax<br />
<a id="pgfId-641526"></a>Identifiers (instances, nodes, parameters, etc.) can include characters such as #, @ and |.</li><li>
<a id="pgfId-641527"></a>Multiple namespaces<br />
<a id="pgfId-641528"></a>The same identifier can be used for different types of objects. In the following example,<pre class="webflare-pre-block webflare-courier-new" id="#id641529">
<a id="pgfId-641529"></a>.param res=1k
res res 0 res
.model res r r=res</pre>
<a id="pgfId-641530"></a>res is an instance, node, model, and parameter. </li><li>
<a id="pgfId-641531"></a>Global nodes<br />
<a id="pgfId-641532"></a>You can now have multiple global statements in a design.</li><li>
<a id="pgfId-641533"></a>Mixed Spectre and SPICE syntax<br />
<a id="pgfId-641534"></a>You can include both Spectre and SPICE languages in a design, as long as you insert simulator <code>lang</code> switches.</li><li>
<a id="pgfId-641537"></a>Behavioral primitives<br />
<a id="pgfId-641538"></a>The Spectre circuit simulator supports the SPICE feature that allows a source, resistor, capacitor and/or inductance value to be expressed as a behavioral expression.</li><li>
<a id="pgfId-641539"></a>Library files and sections<br />
<a id="pgfId-641540"></a>The Spectre circuit simulator supports the <code>.lib</code> card for model inclusion.</li><li>
<a id="pgfId-641541"></a>Model binning<br />
<a id="pgfId-641542"></a>With the new parser, the Spectre circuit simulator supports the syntax of popular SPICE models, including the syntax that allows you to bin models according to geometry size.</li></ul>


































<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-643778"></a>All models in SPICE netlist sections are SPICE compatible. </div>
<h2>
<a id="pgfId-644391"></a>Simulation Flow Compatible Options</h2>

<p>
<a id="pgfId-644409"></a>Spectre also supports an extension of options used in the SPICE flow to better fit the existing simulation flow. These options are discussed below.</p>

<h3>
<a id="pgfId-644470"></a>Options to Specify the Output Format</h3>
<p>
<a id="pgfId-644484"></a></p>
<table class="webflareTable" id="#id644471">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id644473">
<a id="pgfId-644473"></a>Option</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id644475">
<a id="pgfId-644475"></a>Description</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-644477"></a>outputcase=original</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-644479"></a>Outputs all signal names in lower case or upper case. Possible values are <code>original</code>, <code>lower</code>, and <code>upper</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-644481"></a>dotprobefmt=flat</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-644483"></a>Prints the<code>.probe</code> signals with original name or hierarchical name. Possible values are <code>flat</code> and <code>hier</code>.</p>
</td>
</tr>
</tbody></table>
<h3>
<a id="pgfId-644485"></a>Options to Specify the Hierarchy Delimiter</h3>
<p>
<a id="pgfId-644499"></a></p>
<table class="webflareTable" id="#id644486">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id644488">
<a id="pgfId-644488"></a>Option</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id644490">
<a id="pgfId-644490"></a>Description</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-644492"></a><code>hier_delimiter=&quot;.&quot;</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-644494"></a>Sets the hierarchical delimiter. The length of <code>hier_delimiter</code> should not be greater than 1, except the lead escape character.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-644496"></a><code>hier_ambiguity=strict</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-644498"></a>The default value is <code>strict</code>. When set to <code>lower</code>, the simulator partially flattens the hierarchy name from the back to check if an object can be found. As a result, the delimiter specified using <code>hier_delimiter</code> is treated as normal node name for signal matching. Possible values are <code>strict</code> and <code>lower</code>.</p>
<p>
<a id="pgfId-644746"></a>Example:</p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-644791"></a>.options hier_delimiter=&quot;/&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-644792"></a>.options hier_ambiguity=lower</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-644793"></a>.probe v(x1/x2/xnand/a)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-644756"></a>.ic v(x1/x2/xcell/mt)=1.2</pre>

<p>
<a id="pgfId-644824"></a>In the above example, x1/x2 is an instance name and <code>xnand/</code> a and <code>xcell/mt</code> are node names inside it. This typically happens in a DSPF file. When <code>hier_ambiguity=lower</code>, the character / is treated as a hierarchical delimiter for the instance x1/x2; however, it will be treated as part of the node name for nodes<code> xand/a</code> and <code>xcell/mt</code>. As a result, the node names in <code>.ic</code> and <code>.probe</code> can be correctly matched.</p>

</td>
</tr>
</tbody></table>
<h3>
<a id="pgfId-644500"></a>Options to Control Duplicated Subcircuits, Measures, Instances, and Parameters </h3>

<p>
<a id="pgfId-644501"></a>Spectre may generate an error for duplicate instance names, subcircuits, ports in a subcircuit, measures, models, and modules, based on strict and conservative rules. Spectre XPS provides the following options to modify the behavior and parse such duplicated definitions: </p>

<p>
<a id="pgfId-644549"></a></p>
<table class="webflareTable" id="#id644502">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id644504">
<a id="pgfId-644504"></a>Option</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id644506">
<a id="pgfId-644506"></a>Description</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-644508"></a><code>duplicate_subckt=error</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-644510"></a>Specifies whether duplicate subcircuit definitions are allowed. When set to <code>warning</code> or <code>ignore</code>, the simulator allows duplicate subcircuit definitions. If multiple subcircuit definitions are specified, the last one takes precedence. Possible values are <code>error</code>, <code>ignore</code>, and <code>warning</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-644512"></a><code>duplicateports=error</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-644514"></a>Specifies whether duplicate ports are allowed in the subcircuit definition. When set to <code>warning</code> or <code>ignore</code>, duplicate ports are shorted. Depending on the value set, the simulator displays warning messages for duplicate ports, or does not display any message. When set to <code>error</code>, the simulator does not allow duplicate ports in the subcircuit definition and displays an error message. Possible values are <code>error</code>, <code>ignore</code>, and <code>warning</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-644516"></a><code>duplicatemodel=error</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-644518"></a>Specifies whether duplicate model definitions are allowed. When set to <code>warning</code> or <code>ignore</code>, the simulator allows duplicate model definitions. However, it honors only the last model definition.</p>
<p>
<a id="pgfId-644519"></a>Depending on the value set, the simulator displays warning messages for duplicate model definitions, or does not display any message. When set to <code>error</code>, the simulator does not allow duplicate model definitions and displays an error message. Possible values are <code>error</code>, <code>ignore</code>, and <code>warning</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-644521"></a><code>duplicate_measure=error|first_win|last_win</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-644525"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-644527"></a>Specifies whether duplicate measures are allowed. When set to <code>first_win</code>, the simulator allows duplicate measures, however, it honors only the first measure. When set to <code>last_win</code>, the simulator honors the last measure. When set to <code>error</code>, the simulator does not allow duplicate measure and displays an error message.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-644529"></a><code>duplicateinstance=error|warning|ignore</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-644533"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-644535"></a>Specifies whether duplicate instance definitions are allowed. When set to <code>warning</code> or <code>ignore</code>, the simulator allows duplicate instance definitions. If multiple instance definitions are specified, the last one takes precedence.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-644537"></a><code>redefinedparams=error | warning | ignore</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-644541"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-644543"></a>Specifies whether parameters can be redefined in the netlist. If a parameter is redefined multiple times, the last parameter definition takes precedence. The default value is <code>warning</code> in SPICE compatibility mode (<code>+spice</code>) and <code>error</code> in Spectre mode.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-644545"></a><code>duplicate_module=error</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-644547"></a>Specifies whether duplicate module definitions are allowed. When set to <code>warning</code> or <code>ignore</code>, the simulator allows duplicate module definitions. However, it honors only the last module definition.</p>
<p>
<a id="pgfId-644548"></a>Depending on the value set, the simulator displays warning messages for duplicate module definitions. When set to <code>error</code>, the simulator does not allow duplicate module definitions and displays an error message. Possible values are <code>error</code>, <code>ignore</code>, and <code>warning</code>.</p>

</td>
</tr>
</tbody></table>
<h3>
<a id="pgfId-644550"></a>Option to not Save the Waveform</h3>

<p>
<a id="pgfId-644551"></a>Spectre XPS does not support SPICE options .<code>post</code> and .<code>probe</code>. In some situations, you may want to output only the measure file and not the waveform files, to save disk space. To do this, you can use the option <code>save=none</code>.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-644552"></a>The <code>save=none</code> option does not save any waveform; however, measure results, such as <code>.measure</code> and <code>.mt0</code> are still created for <code>.measure</code>.</div>
<h3>
<a id="pgfId-644553"></a>Option to Enable or Disable the Safe Operation Area (SOA) Check</h3>

<p>
<a id="pgfId-644554"></a>Spectre XPS supports the Safe Operation Area (SOA) check and its parameters that are often defined in the foundry model files. The SOA check is enabled by default. However, for large designs, the check may introduce performance overhead. You can use the <code>soa_warn</code> option with possible values of <code>yes</code> (default) and <code>no</code> to control the SOA check behavior. When <code>soa_warn=no</code> is specified, Spectre does not generate any warning for the SOA check. As a result, there is no performance overhead.</p>

<h2>
<a id="pgfId-642757"></a>PSpice Netlist and De<a id="pspice"></a>vice Model Support</h2>

<p>
<a id="pgfId-642786"></a>Spectre supports PSpice<sup>&#174;</sup> netlist format targeting to include PCB components modeled in PSpice format into a Spectre integrated circuit simulation. This solution does not support PSpice-only designs. The top-level netlist and control statement need to be defined in Spectre, or SPICE format. The recommended approach is to define a subcircuit in PSpice netlist format and to instantiate the subcircuit in the Spectre netlist.</p>
<p>
<a id="pgfId-642788"></a>You can include a PSpice netlist in Spectre using the following statement. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-642790"></a>pspice_include &lt;file&gt; (Spectre format)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-642791"></a>.pspice_include &lt;file&gt; (SPICE format)</pre>

<p>
<a id="pgfId-642793"></a>All content of the included file is required to be in PSpice format. If the file includes files, they are required to be in PSpice format. Elements and device models used in the PSpice netlist are simulated using PSpice default values and equations.</p>
<p>
<a id="pgfId-643185"></a>The Spectre PSpice feature does not support digital PSpice elements.</p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="spectrexps.html" id="prev" title="The Spectre XPS Circuit Simulator">The Spectre XPS Circuit Simula ...</a></em></b><b><em><a href="chap4.html" id="nex" title="Spectre Netlists">Spectre Netlists</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2020, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>