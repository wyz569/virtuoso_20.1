
<html><head><title>AHDL Linter Checks</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="kamal" />
<meta name="CreateDate" content="2020-06-16" />
<meta name="CreateTime" content="1592307230" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the Spectre Circuit Simulator." />
<meta name="DocTitle" content="Spectre Classic Simulator, Spectre APS, Spectre X, and Spectre XPS User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="AHDL Linter Checks" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.2" />
<meta name="Keyword" content="spectreuser" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2020-06-16" />
<meta name="ModifiedTime" content="1592307230" />
<meta name="NextFile" content="chap12.html" />
<meta name="Order" content="1" />
<meta name="Group" content="Spectre Simulator" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="chap10.html" />
<meta name="c_product" content="Spectre" />
<meta name="Product" content="Spectre" />
<meta name="ProductFamily" content="Spectre" />
<meta name="ProductVersion" content="19.1" />
<meta name="RightsManagement" content="Copyright 2012-2020 Cadence Design Systems Inc." />
<meta name="Title" content="Spectre Classic Simulator, Spectre APS, Spectre X, and Spectre XPS User Guide -- AHDL Linter Checks" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="Version" content="19.1" />
<meta name="SpaceKey" content="spectreuser191" />
<meta name="webflare-version" content="2.0" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="spectreuserTOC.html">Contents</a></li><li><a class="prev" href="chap10.html" title="Running a Simulation">Running a Simulation</a></li><li style="float: right;"><a class="viewPrint" href="spectreuser.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="chap12.html" title="Device and Circuit Checks">Device and Circuit Checks</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Spectre Classic Simulator, Spectre APS, Spectre X, and Spectre XPS User Guide<br />Product Version 19.1, June 2020</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>14
<a id="pgfId-457829"></a></h1>
<h1>
<a id="pgfId-470138"></a><hr />
<a id="81091"></a>AHDL Linter Checks<hr />
</h1>

<p>
<a id="pgfId-470106"></a>This chapter co<a id="ahdl_linter"></a>ntains the following topics:</p>
<ul><li>
<a id="pgfId-470161"></a><a href="chap11.html#14702">About the AHDL Linter Feature</a></li><li>
<a id="pgfId-470186"></a><a href="chap11.html#70632">Using the AHDL Linter Feature</a></li><li>
<a id="pgfId-471801"></a><a href="chap11.html#21314">Identifying AHDL Linter Messages</a></li><li>
<a id="pgfId-471224"></a><a href="chap11.html#44160">Filtering AHDL Linter Messages</a></li><li>
<a id="pgfId-471225"></a><a href="chap11.html#89997">Using the ahdlhelp Utility</a></li></ul>





<h2>
<a id="pgfId-471227"></a><a id="14702"></a>About the AHDL Linter Feature</h2>

<p>
<a id="pgfId-471228"></a>The <a id="marker-471428"></a>AHDL Linter technology offers a powerful set of capabilities for upfront identification of issues that worry designers even well beyond the model creation stage. The AHDL Linter feature helps identify complex design modeling issues and can be used on block simulation or SOC verifications performed just before tape out. Early warnings enable designers to avoid expensive design iterations, and meeting quality and time-to-market goals.</p>
<p>
<a id="pgfId-470887"></a>You can use the AHDL Linter feature to analyze Spectre, Spectre APS and Spectre XPS test cases containing Verilog-A models.</p>
<p>
<a id="pgfId-470402"></a>AHDL Linter checks each behavioral model in the design and suggests which line should be improved to:</p>
<ul><li>
<a id="pgfId-470257"></a>Avoid potential convergence or performance problems</li><li>
<a id="pgfId-471888"></a>Improve model accuracy, reusability, and portability</li></ul>

<p>
<a id="pgfId-470231"></a>AHDL linter consists of static and dynamic lint checks. Static lint checks are performed at compilation stage. Dynamic lint checks are performed during analysis for dynamic modeling issues that may cause convergence or performance problems during simulation.</p>

<h2>
<a id="pgfId-470320"></a><a id="70632"></a>Using the AHDL Linter Feature</h2>

<p>
<a id="pgfId-470349"></a>The AHDL Linter feature is activated in Spectre, Spectre APS, and Spectre XPS using the following command-line options:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-470451"></a>% spectre -ahdllint netlist.scs</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-472487"></a>% spectre +aps -ahdllint netlist.scs</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-472126"></a>% spectre +xps +cktpreset=sram -ahdllint netlist.scs</pre>

<p>
<a id="pgfId-470445"></a>where <code>netlist.scs</code> is written using Spectre, SPICE, or eSpice syntax and includes one or more Verilog-A models.</p>
<p>
<a id="pgfId-472066"></a>You can perform static lint checks on a netlist file that includes one or more Verilog-A models, as follows:</p>
<p>
<a id="pgfId-472067"></a>spectre +aps -ahdllint=static test.scs // test.scs includes the Verilog-A files</p>
<p>
<a id="pgfId-472068"></a>Spectre, in this case, performs only lint checks on all Verilog-A files and does not run the simulation.</p>
<p>
<a id="pgfId-472069"></a>You can also perform static lint checks on a Verilog-A file directly without specifying the top-level netlist file (<code>.scs</code>), as follows:</p>
<p>
<a id="pgfId-472054"></a>spectre +aps -ahdllint=static test.va //perform static lint check on test.va</p>
<p>
<a id="pgfId-470463"></a>The <code>-ahdllint</code> option accepts the following arguments:</p>

<p>
<a id="pgfId-470476"></a></p>
<table class="webflareTable" id="#id470484">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-470486"></a>no</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-470488"></a>Disables lint checks. There is no change in the existing compilation or simulation error messages.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-470490"></a>warn</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-470492"></a>(default) Turns on the static lint and dynamic lint checks. Except the models with attribute (<code>*</code> <code>ahdllint = &quot;no&quot;</code> <code>*</code>), the static lint checks all models, continues the simulation, and then performs dynamic lint checks.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-470494"></a>error</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-470496"></a>Turns on the static lint check. Dynamic lint checks are performed only when static lint issues are not detected. Except the models with attribute <br />(<code>*</code> <code>ahdllint = &quot;no&quot;</code> <code>*</code>), the static lint checks all models. The simulator generates an error and exits if there is any static lint warning reported after compiling all the models of the circuit. If there are no static lint warnings, the simulator continues the simulation and performs dynamic lint checks. However, in the case of dynamic lint issues, the simulator does not error out.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-471874"></a>force</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-471876"></a>Similar to <code>warn</code>, but this option overrides the model attribute<br />(<code>*</code> <code>ahdllint = &quot;no&quot;</code> <code>*</code>), and forces to check all models, continue the simulation, and perform dynamic lint checks.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-472084"></a>static</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-472086"></a>Performs static lint checks on a Verilog-A file directly.</p>
</td>
</tr>
</tbody></table>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-470584"></a>The <code>-ahdllint</code> option can be used without any argument, which is equivalent to specifying <code>-ahdlint=warn</code>. You can also set the <code>-ahdllint</code> option as default by setting the <code>SPECTRE_DEFAULTS</code> environment variable, as follows:</div>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-471367"></a>setenv SPECTRE_DEFAULTS &quot;-ahdllint=warn&quot;</pre>

<p>
<a id="pgfId-471353"></a>You can use the <code>-ahdllint_maxwarn =n</code> command-line option to control the maximum number of static and dynamic warnings. The default value is 5. </p>
<p>
<a id="pgfId-470815"></a>You can also control the maximum number of warnings by using the environment variable <code>SPECTRE_DEFAULTS</code>, as show below. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-470817"></a>setenv SPECTRE_DEFAULTS &quot;-ahdllint -ahllint_maxwarn=10&quot;</pre>

<p>
<a id="pgfId-472156"></a>You can use the <code>-ahdllint_warn_id=&lt;</code><span class="webflare-courier-new" style="white-space:pre"><em>ID</em></span><code>&gt;</code> option to control the warning messages for a specific message ID. <span class="webflare-courier-new" style="white-space:pre"><em>ID</em></span> should be a positive integer value between 5001 and 6000 or 8001 and 9999. In addition, the <code>-ahdllint_warn_id</code> option should always be used with the <code>-ahdllint_maxwarn</code> option and should be directly specified after it in the command line, otherwise, the option will be ignored. For example:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-472203"></a>spectre +aps -ahdllint -ahdllint_maxwarn=2 -ahdllint_warn_id=5001 input.scs</pre>

<p>
<a id="pgfId-472213"></a>In the above example, Spectre will display only two warning messages related to the message ID 5001.</p>
<p>
<a id="pgfId-472284"></a>You can specify the <code>-ahdllint_maxwarn</code> and <code>-ahdllint_warn_id</code> options multiple times at the command line. For example:</p>
<p>
<a id="pgfId-472229"></a>spectre +aps -ahdllint -ahdllint_maxwarn=1 -ahdllint_warn_id=5001 -ahdllint_maxwarn=3 -ahdllint_warn_id=8001 input.scs</p>
<p>
<a id="pgfId-472254"></a>In the above example, only one warning message related to the message ID 5001 will be displayed. In addition, three warning messages related to the message ID 8001 will be displayed.</p>
<p>
<a id="pgfId-472379"></a>You can also specify multiple IDs with the <code>-ahdllint_warn_id</code> option. However, the IDs must be specified using double quotes with a space between them. For example:</p>
<p>
<a id="pgfId-472371"></a>spectre +aps -ahdllint -ahdllint_maxwarn=2 -ahdllint_warn_id=&quot;5001 5003 5005&quot; input.scs</p>
<p>
<a id="pgfId-470631"></a>Use the <code>-ahdllint_minstep=value</code> command-line option to set the minimal time step size boundary that will trigger an AHDL Linter warning, when the step size imposed by a Verilog-AMS filter or function, such as <code>transition</code>, <code>cross</code>, <code>above</code>, <code>$bound_step</code>, and <code>timer</code> is smaller than <code>value</code>. The default value is <code>1e-12</code>.</p>
<p>
<a id="pgfId-472542"></a>You can use the <code>-ahdllint_summary_maxentries=&lt;</code><span class="webflare-courier-new" style="white-space:pre"><em>value</em></span><code>&gt;</code> command-line option to control the maximum number of messages to be displayed in dynamic lint summary. The default value is 25. For example:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-472543"></a>spectre -ahdllint_summary_maxentries=20 input.scs</pre>

<p>
<a id="pgfId-470684"></a>By default, the static and dynamic lint warnings and the dynamic lint summary output are sent to the simulation log file. You can use the <code>-ahdllint_log=file</code> command-line option to output all the information to a specified file instead of the output log file.</p>
<p>
<a id="pgfId-471555"></a>The following figure displays the AHDL Linter usage summary with Spectre APS.</p>

<p>
<a id="pgfId-471441"></a></p>
<div class="webflare-div-image">
<img width="668" height="445" src="images/chap11-2.gif" /></div>
<h2>
<a id="pgfId-471598"></a><a id="21314"></a>Identifying AHDL Linter Messages</h2>

<p>
<a id="pgfId-471599"></a>The messages generated from AHDL Linter (static or dynamic) have the AHDL Linter message identifier <code>AHDLLINT</code> at the beginning of the message followed by the message id.</p>
<p>
<a id="pgfId-471609"></a>The following examples show the static and dynamic AHDL linter messages generated by Spectre, Spectre APS, and Spectre XPS:</p>

<h3>
<a id="pgfId-471620"></a>Static AHDL Linter Message</h3>
<p>
<a id="pgfId-471630"></a></p>
<div class="webflare-div-image">
<img width="668" height="220" src="images/chap11-3.gif" /></div>
<h3>
<a id="pgfId-471714"></a>Dynamic AHDL Linter Message</h3>
<p>
<a id="pgfId-471724"></a></p>
<div class="webflare-div-image">
<img width="668" height="220" src="images/chap11-4.gif" /></div>
<h2>
<a id="pgfId-471601"></a><a id="44160"></a>Filtering AHDL Linter Messages</h2>

<p>
<a id="pgfId-470796"></a>You can filter the AHDL Linter messages using the <code>options</code> control statement, as follows:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-470918"></a><code><em>Name</em></code><code> options warning_limit=num warning_id=id</code></pre>

<p>
<a id="pgfId-470950"></a>where:</p>
<p>
<a id="pgfId-470960"></a><code>warning_limit</code> specifies the number of messages to be printed.</p>
<p>
<a id="pgfId-470999"></a><code>warning_id</code> specifies the message id that needs to be printed.</p>
<p>
<a id="pgfId-470994"></a><strong>Example1</strong></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-471008"></a>myoptions options warning_limit=0 warning_id=[AHDLLINT-8004 AHDLLINT-8005]</pre>

<p>
<a id="pgfId-471027"></a>In the above example, Spectre, Spectre APS, or Spectre XPS will not print any message with the id <code>AHDLLINT-8004</code> and <code>AHDLLINT-8005</code>.</p>
<p>
<a id="pgfId-471045"></a><strong>Example2</strong></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-471052"></a>myoptions2 options warning_limit=1 warning_id=[AHDLLINT-8005]</pre>

<p>
<a id="pgfId-471077"></a>In the above example, Spectre, Spectre APS, or Spectre XPS will print only one message with the id <code>AHDLLINT-8005</code>.</p>
<p>
<a id="pgfId-471093"></a>For more information about the <code>options</code> control statement, see <a href="chap8.html#19878">The options Statement</a>.</p>

<h2>
<a id="pgfId-471166"></a><a id="89997"></a>Using the ahdlhelp Utility</h2>

<p>
<a id="pgfId-471128"></a>You can use the <code>ahdlhelp</code> utility to view the extended help on various messages reported by AHDL Linter. To view the extended help, you need to provide the AHD Linter id number as an argument, as shown below.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-471194"></a>% ahdlhelp 8005</pre>

<p>
<a id="pgfId-471187"></a>The following is an example of the <code>ahdlhelp</code> utility:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-471266"></a>% ahdlhelp 5012</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-471267"></a>AHDLLINT-5012: Detected $abstime in an equality expression inside a conditional.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-471269"></a>Analog simulations select timepoints using a variable timestep size algorithm based on accuracy considerations, so the value of &quot;time&quot; only changes between discrete real values.&#160;&#160;In order to perform an event at a particular time, the @(timer) construct must be used to tell the simulator to step to a particular timepoint and execute the desired code when that event actually occurs.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-471276"></a>example:</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-471277"></a>  if ($abstime==50n) xval=2;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-471279"></a>solution:</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-471280"></a>  @(timer(50n)) xval=2;</pre>

<p>
<a id="pgfId-471254"></a></p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="chap10.html" id="prev" title="Running a Simulation">Running a Simulation</a></em></b><b><em><a href="chap12.html" id="nex" title="Device and Circuit Checks">Device and Circuit Checks</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2020, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>