
<html><head><title>The Spectre XPS Circuit Simulator</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="kamal" />
<meta name="CreateDate" content="2020-06-16" />
<meta name="CreateTime" content="1592307311" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the Spectre Circuit Simulator." />
<meta name="DocTitle" content="Spectre Classic Simulator, Spectre APS, Spectre X, and Spectre XPS User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="The Spectre XPS Circuit Simulator" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.2" />
<meta name="Keyword" content="spectreuser" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2020-06-16" />
<meta name="ModifiedTime" content="1592307311" />
<meta name="NextFile" content="chap3.html" />
<meta name="Order" content="1" />
<meta name="Group" content="Spectre Simulator" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="spectrex.html" />
<meta name="c_product" content="Spectre" />
<meta name="Product" content="Spectre" />
<meta name="ProductFamily" content="Spectre" />
<meta name="ProductVersion" content="19.1" />
<meta name="RightsManagement" content="Copyright 2012-2020 Cadence Design Systems Inc." />
<meta name="Title" content="Spectre Classic Simulator, Spectre APS, Spectre X, and Spectre XPS User Guide -- The Spectre XPS Circuit Simulator" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="Version" content="19.1" />
<meta name="SpaceKey" content="spectreuser191" />
<meta name="webflare-version" content="2.0" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="spectreuserTOC.html">Contents</a></li><li><a class="prev" href="spectrex.html" title="The Spectre X Circuit Simulator">The Spectre X Circuit Simulato ...</a></li><li style="float: right;"><a class="viewPrint" href="spectreuser.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="chap3.html" title="SPICE Compatibility">SPICE Compatibility</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Spectre Classic Simulator, Spectre APS, Spectre X, and Spectre XPS User Guide<br />Product Version 19.1, June 2020</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>5
<a id="pgfId-1065082"></a></h1>
<h1>
<a id="pgfId-1065083"></a><hr />
<a id="36930"></a>The Spectre XPS Circuit Simulator<hr />
</h1>

<p>
<a id="pgfId-1065499"></a>Spectre&#174; eXtensive Partitioning Simulator (Spectre XPS) is the next generation transistor-level circuit simulator of Cadence that provides high simulation performance and large simulation capacity. It addresses the design and verification needs of full-chip low-power designs at advanced process nodes. In addition, it incorporates a completely new circuit partitioning and multirate technology, and provides reasonable accuracy for timing and power to meet the tighter design margins. </p>
<p>
<a id="pgfId-1065523"></a>This chapter discusses the following topics:</p>
<ul><li>
<a id="pgfId-1074283"></a><a href="spectrexps.html#78103">Starting Spectre XPS Simulation Run</a></li><li>
<a id="pgfId-1074405"></a><a href="spectrexps.html#67550">Reviewing the Log File</a></li><li>
<a id="pgfId-1074295"></a><a href="spectrexps.html#91155">Output Files</a></li><li>
<a id="pgfId-1077172"></a><a href="spectrexps.html#94766">Multithreading Support</a></li><li>
<a id="pgfId-1078420"></a><a href="spectrexps.html#84633">Spectre XPS Options</a></li><li>
<a id="pgfId-1078454"></a><a href="spectrexps.html#18969">Post-layout simulation</a></li><li>
<a id="pgfId-1078473"></a><a href="spectrexps.html#57653">Spectre XPS SRAM Simulation</a></li><li>
<a id="pgfId-1078507"></a><a href="spectrexps.html#13496">Spectre XPS DRAM Simulation</a></li><li>
<a id="pgfId-1078511"></a><a href="spectrexps.html#43686">Spectre XPS Flash Simulation</a></li></ul>









<h2>
<a id="pgfId-1073982"></a><a id="78103"></a>Starting Spectre XPS Simulation Run</h2>

<p>
<a id="pgfId-1073983"></a>Most of the command-line options that are used to run Spectre XPS simulation are the same as Spectre and Spectre APS. </p>
<p>
<a id="pgfId-1073984"></a>To start a Spectre XPS simulation run, type the following at the command line:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1073985"></a> spectre +xps +cktpreset=dram -64 -f fsdb +spice +mt=N -outdir run1 -outname xps_out top.sp</pre>

<p>
<a id="pgfId-1073986"></a>The following table lists the command-line options and their descriptions:</p>

<p>
<a id="pgfId-1074028"></a></p>
<table class="webflareTable" id="#id1073987">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1073989">
<a id="pgfId-1073989"></a>Option</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1073991">
<a id="pgfId-1073991"></a>Description</span>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1073993"></a>+xps</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1073995"></a>Enables the Spectre XPS simulator. The default simulator is Spectre baseline.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1073997"></a>+cktpreset=dram</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1073999"></a>Specifies the Spectre XPS preset for DRAM simulation. The other presets include <code>pcram</code>, <code>sram</code>, and <code>flash</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1074001"></a>-64</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1074003"></a>Enables the 64-bit version of Spectre, which is required to run the simulation with memory greater than 4GB.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1074005"></a>-f fsdb</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1074007"></a>Generates the waveform file in <code>fsdb</code> format.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1074009"></a>+mt=N</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1074011"></a>Specifies the number of cores for multithreading. The default is a single thread.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1074013"></a>+spice</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1074015"></a>Ensures that the netlist convention and device models are interpreted consistently as traditional SPICE, instead of Spectre.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1074017"></a>-outdir run1</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1074019"></a>Defines the output directory for the simulation results and the simulation log file.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1074021"></a>-outname xps_out</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1074023"></a>Defines the names of output files, including log file, waveform, and measure. The default name is the name of the top-level netlist file. If this option is specified, waveforms are saved in the output directory instead of the raw directory.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1074025"></a>top.sp</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1074027"></a>Specifies the top-level netlist for simulation.</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1074029"></a>You can also get more information about command options, components, analyses, controls, and other selected topics by using the <code>spectre -h</code> command to access the Spectre online help.</p>

<h2>
<a id="pgfId-1074077"></a><a id="67550"></a>Reviewing the Log File </h2>

<p>
<a id="pgfId-1074078"></a>Spectre XPS shares the same format for the output log file as Spectre and Spectre APS. The log file provides important information about the Spectre XPS simulation run. Therefore, it is recommended to review the log file after starting the simulation.</p>
<p>
<a id="pgfId-1074079"></a>The output log file displays the following information:</p>
<ul><li>
<a id="pgfId-1074080"></a>Warning/Info/Error messages related to netlist parsing, models, and MDL (<code>.measure</code>)</li><li>
<a id="pgfId-1074081"></a>Staged run time and memory consumption information</li><li>
<a id="pgfId-1074082"></a>Circuit inventory details</li><li>
<a id="pgfId-1074083"></a>Output statistics for probe/save and measurement</li><li>
<a id="pgfId-1074084"></a>Simulation mode and important parameters/options used</li><li>
<a id="pgfId-1074085"></a>Detailed transient simulation information, which is controlled by the <code>annotate</code> parameter in the <code>tran</code> statement</li></ul>





<p>
<a id="pgfId-1074086"></a>The following sections discuss some of the important information stored in the log file and the options to control the log file in detail.</p>

<h3>
<a id="pgfId-1074087"></a>Spectre XPS cktpreset Mode Information</h3>

<p>
<a id="pgfId-1074088"></a>In the Spectre XPS log file, the following message indicates that DRAM mode with multithreading is successfully enabled:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074089"></a>Notice from spectre during initial setup.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074090"></a>XPS Enabled ( cktpreset=dram ).</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074091"></a>&#8230;&#8230;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074092"></a>Multithreading Enabled: 8 threads in the system with 20 available processors.</pre>
<h3>
<a id="pgfId-1074093"></a>File Reading and Parsing Related Information</h3>

<p>
<a id="pgfId-1074094"></a>The Spectre XPS log file provides information on the files read in a simulation run, as shown below.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074095"></a>Reading file:&#160;&#160;/projects/p100/simulation/xps_run/top.sp&#160;&#160;                                                                                                           </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074096"></a>Reading file:&#160;&#160;/projects/p100/simulation/xps_run/netlist.cdl&#160;&#160;                                                                                                                </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074097"></a>Reading file:&#160;&#160;/projects/p100/simulation/xps_run//PDK/Spectre/v1.1/16nm_model.scs</pre>

<p>
<a id="pgfId-1074098"></a>Spectre XPS provides an option, <code>print_section</code>, with possible values of <code>no</code> and <code>yes</code> that enables you to print information about the library files read in the simulation, When this option is set to <code>no</code>, only the library file information is printed in the log file. However, when this option is set to <code>yes</code>, detailed sections of the library files read in the simulation are printed in the log file.</p>
<p>
<a id="pgfId-1074099"></a>For example, if you specify <code>print_section=yes</code>, the log file displays the following information for the same example:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074100"></a>Reading file:&#160;&#160;/projects/p100/simulation/xps_run/top.sp&#160;&#160;                                                                                                           </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074101"></a>Reading file:&#160;&#160;/projects/p100/simulation/xps_run/netlist.cdl&#160;&#160;                                                                                                                </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074102"></a>Loading section:&#160;&#160;SS from file:&#160;&#160;/projects/p100/simulation/xps_run//PDK/Spectre/v1.1/16nm_model.scs&#160;&#160;                                                     </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074103"></a>Loading section:&#160;&#160;TT_BIP_DIO from file:&#160;&#160;/projects/p100/simulation/xps_run//PDK/Spectre/v1.1/16nm_model.scs&#160;&#160;                                                     </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074104"></a>Loading section:&#160;&#160;TT_RES_DISRES from file:&#160;&#160;/projects/p100/simulation/xps_run//PDK/Spectre/v1.1/16nm_model.scs </pre>
<h3>
<a id="pgfId-1074105"></a>Output and IC/Nodeset Related Information </h3>

<p>
<a id="pgfId-1074106"></a>Spectre XPS provides useful information in the log file for the signals probed, measured, or set with IC/nodeset, especially with wildcards. </p>
<p>
<a id="pgfId-1074107"></a>An example of the log file and the messages is given below.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074108"></a>Output statements:</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074109"></a>             .probe 4</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074110"></a>           .measure 1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074111"></a>               save 0</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074112"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074113"></a>Design checks inventory:</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074114"></a>         dyn_dcpath 2</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074115"></a>            dyn_exi 1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074116"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074117"></a>Wildcard match summary:</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074118"></a>              probe x(XI0.xTOP_0.xIO_SLICE.xio_right.*.vddpe) : 67</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074119"></a>              probe i(vv*) depth= 1:     3</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074120"></a>              probe i(XI0.*.x_mxmi41.mxppua) : 0</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074121"></a>              probe v(*) depth= 5:       3938</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074122"></a>                ic *.sao                64</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074123"></a>                 ic *.ncored             32768</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074124"></a>                 ic *.cored              32768</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074125"></a>                 ic *.bl                 0</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074126"></a>                 ic *.nbl                0</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074127"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074128"></a>Output and IC/nodeset summary:</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074129"></a>                 probe  4008</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074130"></a>                 measure        1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074131"></a>                 ic     65600</pre>
<h3>
<a id="pgfId-1074132"></a>Options to Control Warning/Error Messages in Spectre XPS</h3>

<p>
<a id="pgfId-1074133"></a>Messages in the Spectre XPS simulator, like Spectre and Spectre APS, are categorized based on three severity levels: INFO, WARNING, and ERROR. In addition, each message includes a unique alphanumeric message ID enclosed in parentheses.</p>
<p>
<a id="pgfId-1074134"></a>You can use the following global options to customize the number of messages and their severity based on ID:</p>

<p>
<a id="pgfId-1074152"></a></p>
<table class="webflareTable" id="#id1074135">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1074137">
<a id="pgfId-1074137"></a>Option</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1074139">
<a id="pgfId-1074139"></a>Description</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1074141"></a>maxwarns=5</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1074143"></a>Specifies the maximum number of times a warning message, with the same message ID, is generated per analysis. The default value is 5.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1074145"></a>maxwarnstologfile=5</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1074147"></a>Specifies the maximum number of times a warning message, with the same message ID, is printed to the log file per analysis. The default value is 5.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1074149"></a>maxnotestologfile=5</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1074151"></a>Specifies the maximum number of times an INFO message, with the same message ID, is printed to the log file per analysis. The default value is 5.</p>
</td>
</tr>
</tbody></table>
<h4><em>
<a id="pgfId-1074153"></a>Examples</em></h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074154"></a>.option maxwarns=1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074155"></a>.option maxwarnstologfile=10</pre>

<p>
<a id="pgfId-1074156"></a>You can use the following options to control the number of messages or change the severity of a message based on ID:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074157"></a>.option warning_id=[SFE-3013] warning_limit=10</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074158"></a>.option warning_id=[SPECTRE-17100] warning_change_severity=error&#160;&#160;&#160;&#160;</pre>
<h3>
<a id="pgfId-1074159"></a>Transient Simulation Information </h3>

<p>
<a id="pgfId-1074160"></a>Use the parameter <code>annotate</code> in the <code>tran</code> statement to display the status of the transient simulation in the log file. It is recommended to set the value of the <code>annotate</code> parameter to <code>estimated</code> to display detailed information in the log file. For example:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074161"></a>.tran 1n 1u annotate=estimated</pre>

<p>
<a id="pgfId-1074162"></a>The following is an example of the transient simulation information that is displayed in the log file:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074163"></a>transient0: time = 10.15 ns&#160;&#160;  (10.6 ), step = 735.2 fs     (764 u)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074164"></a>          cpu = 223.4 s, elapsed = 83.7 s, steps = 0, mem = 11770.8 MB</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074165"></a>          estimated completion time:  00:11:49</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074166"></a>transient0: time = 10.23 ns&#160;&#160;  (10.6 ), step = 3.639 ps    (3.78 m)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074167"></a>          cpu = 348.9 s, elapsed = 106.4 s, steps = 0, mem = 11771.8 MB</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074168"></a>          estimated completion time:  00:14:54</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074169"></a>transient0: time = 10.45 ns&#160;&#160;  (10.9 ), step = 69 ps       (71.7 m)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074170"></a>          cpu = 403.9 s, elapsed = 117.2 s, steps = 0, mem = 11773.2 MB</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074171"></a>          estimated completion time:  00:16:01</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074172"></a>    transient0: time = 11.5 ns       (12 ), step = 413.6 ps     (430 m)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074173"></a>          cpu = 416.4 s, elapsed = 119.7 s, steps = 0, mem = 11774.0 MB</pre>

<p>
<a id="pgfId-1074174"></a>The above log file contains the following information related to transient simulation:</p>
<ul><li>
<a id="pgfId-1074175"></a>The current CPU time/elapsed time for transient simulation </li><li>
<a id="pgfId-1074176"></a>The estimated time required to complete the rest of transient simulation.</li><li>
<a id="pgfId-1074177"></a>The time step of Spectre XPS. This information can be helpful to debug performance issues. Spectre XPS takes bigger time steps if there is no activity in the circuit.</li></ul>



<h2>
<a id="pgfId-1074179"></a><a id="91155"></a>Output Files </h2>

<p>
<a id="pgfId-1074180"></a>After a simulation completes, Spectre XPS writes the following output files based on the design setup:</p>
<ul><li>
<a id="pgfId-1074181"></a>Log file: Defined using the <code>+log</code>/<code>=log</code>/<code>-log</code> command-line options</li><li>
<a id="pgfId-1074182"></a>Measure results: *.measure and *.mt0 files</li><li>
<a id="pgfId-1074183"></a>Waveform files and format: Defined using the <code>-format</code> (or <code>-f</code>) command-line option</li><li>
<a id="pgfId-1074184"></a>Operating point files: <code>*.ic0</code> and <code>*.op0</code> files</li><li>
<a id="pgfId-1074185"></a>Circuit check results</li></ul>





<h3>
<a id="pgfId-1074434"></a>Using the Command-Line Option -outdir</h3>

<p>
<a id="pgfId-1074477"></a>You can use the <em>-</em><code>outdir</code> command-line option to specify the output directory for the simulation files.</p>
<p>
<a id="pgfId-1074186"></a>The following example demonstrates the location and names of the output files.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074187"></a> spectre -64 +xps +cktpreset=sram +speed=2 +spice -outdir xps_x4_out top.sp</pre>

<p>
<a id="pgfId-1074188"></a>The following are the file names and their locations:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074189"></a>xps_x4_out/</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074190"></a>|-- top.log</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074191"></a>|-- top.mt0</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074192"></a>|-- top.measure</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074193"></a>|-- top.ic0</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074194"></a>|-- top.op0</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074195"></a>|-- top.raw</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074196"></a>    |-- logFile</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074197"></a>    |-- transient1.tran.fsdb</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074198"></a>    |-- transient1.meas_tran</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074199"></a>    |-- top.sqldb</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074200"></a>    |-- mmcheck2html.xsl</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074201"></a>    |-- traverse.css</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074202"></a>    |-- sorttable.js</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074203"></a>    |-- top.dynamic.xml</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074204"></a>    `-- top.dynamic.rpt</pre>
<h3>
<a id="pgfId-1074625"></a>Using the Command-Line Option -outname</h3>

<p>
<a id="pgfId-1074205"></a>You can use the command-line option <code>-outname</code> to change the names of output files and their locations. When you use this option, the waveform files are moved from the <code>raw</code> directory to the specified output directory. The following is the syntax to specify the <code>-outname</code> command-line option:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074744"></a>-outname &lt;<code><em>out_dir_name</em></code>&gt;/&lt;<code><em>new_file_name</em></code>&gt;</pre>

<p>
<a id="pgfId-1074785"></a>Here, <span class="webflare-courier-new" style="white-space:pre"><em>out_dir_name</em></span> is the name of the output directory and <span class="webflare-courier-new" style="white-space:pre"><em>new_file_name</em></span> is the name of the new file. You can specify either of the two or both the options in a single statement.</p>
<p>
<a id="pgfId-1074991"></a>Following are some of the examples of using the <em>-outname</em> command-line option.</p>
<p>
<a id="pgfId-1075099"></a><strong>Example1</strong></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074206"></a> spectre -64 +xps +cktpreset=sram +speed=x4 +spice -outname xps_x4_out/ top.sp</pre>

<p>
<a id="pgfId-1075139"></a>In the above example, the value, <code>xps_sp2_out/</code>, of the command-line option <code>-outname</code> contains a slash (<code>/</code>), which means it is a directory name. Specifying this option will cause the waveform files to move outside the raw directory. </p>
<p>
<a id="pgfId-1074207"></a>The file names and their locations are changed as follows:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074208"></a>xps_x4_outname/</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074209"></a>|-- top.fsdb</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074210"></a>|-- top.log</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074211"></a>|-- top.measure</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074212"></a>|-- top.mt0</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074213"></a>|-- top.ic0</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074214"></a>|-- top.op0</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074215"></a>|-- top.raw</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074216"></a>    |-- logFile</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074217"></a>    |-- transient1.meas_tran</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074218"></a>    |-- mmcheck2html.xsl</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074219"></a>    |-- traverse.css</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074220"></a>    |-- sorttable.js</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074221"></a>    |-- top.sqldb</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074222"></a>    |-- top.dynamic.xml</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074223"></a>    `-- top.dynamic.rpt</pre>

<p>
<a id="pgfId-1074428"></a><strong>Example2</strong></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1075301"></a> spectre -64 +xps +cktpreset=sram +speed=x4 +spice -outname out_newname top.sp</pre>

<p>
<a id="pgfId-1075330"></a>In the above example, only a name is specified with the <code>-outname</code> command-line option. This will cause the file name of the output files to change to the new one and the waveform files to move outside the raw directory. The file names and their locations are changed as follows:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1075455"></a>./</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1075456"></a>|-- new_outname.fsdb</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1075457"></a>|-- new_outname.log</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1075458"></a>|-- new_outname.measure</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1075459"></a>|-- new_outname.mt0</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1075460"></a>|-- new_outname.ic0</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1075461"></a>|-- new_outname.op0</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1075462"></a>|-- top.raw</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1075463"></a>    |-- logFile</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1075464"></a>    |-- transient1.meas_tran</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1075465"></a>    |-- mmcheck2html.xsl</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1075466"></a>    |-- traverse.css</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1075467"></a>    |-- sorttable.js</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1075468"></a>    |-- top.sqldb</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1075469"></a>    |-- top.dynamic.xml</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1075619"></a> `-- top.dynamic.rpt</pre>

<p>
<a id="pgfId-1075633"></a><strong>Example 3</strong>:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1075634"></a> spectre -64 +xps +cktpreset=sram +speed=2 +spice -outname xps_x4_out/new_outname top.sp</pre>

<p>
<a id="pgfId-1075622"></a>In the above example, both output directory and output file name are specified with the <code>-outname</code> command-line option. The file names and their locations are changed as follows:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1075827"></a>xps_x4_out/ </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1075828"></a>|-- new_outname.fsdb</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1075829"></a>|-- new_outname.log</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1075830"></a>|-- new_outname.measure</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1075831"></a>|-- new_outname.mt0</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1075832"></a>|-- new_outname.ic0</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1075833"></a>|-- new_outname.op0</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1075834"></a>|-- top.raw</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1075835"></a>    |-- logFile</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1075836"></a>    |-- transient1.meas_tran</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1075837"></a>    |-- mmcheck2html.xsl</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1075838"></a>    |-- traverse.css</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1075839"></a>    |-- sorttable.js</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1075840"></a>    |-- top.sqldb</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1075841"></a>    |-- top.dynamic.xml</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1075842"></a>    `-- top.dynamic.rpt</pre>
<h2>
<a id="pgfId-1074031"></a><a id="94766"></a>Multithreading Support</h2>

<p>
<a id="pgfId-1074032"></a>The Spectre XPS technology supports multithreading on multicore computer platforms. The default behavior is to use a single thread for Spectre XPS. You can enable the multithreading feature by using the <code>+mt</code> command-line option of the Spectre binary, as shown below.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074033"></a> spectre +xps +mt...</pre>

<p>
<a id="pgfId-1074034"></a>To manually specify the number of threads to be used, use the following command: </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074035"></a> spectre +xps +mt=8 ...</pre>

<p>
<a id="pgfId-1075862"></a>When multithreading is enabled, the Spectre XPS log file displays the following information:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1075957"></a>Multithreading Enabled: 8 threads in the system with 20 available processors.</pre>

<p>
<a id="pgfId-1074036"></a>To get maximum performance gain from multithreading, it is recommended that the CPU cores for Spectre XPS are within one socket. This is because the CPU cores in one socket have less communication overhead. Spectre XPS automatically selects the CPU cores for optimized performance. You just need to ensure that the number of CPU cores in one socket is greater than the number of specified threads.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1079042"></a>The licensing requirement for Spectre XPS multi-threading is the same as Spectre APS.</div>
<p>
<a id="pgfId-1074037"></a>To get the server information, use the following command: </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074038"></a>  spectre +query=sysinfo</pre>

<p>
<a id="pgfId-1074039"></a>The following hardware and OS platform information is generated. The server in this example has two sockets with 14 CPU cores in both. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074040"></a>OS&#160;&#160;    : Linux 2.6.18-194.el5 x86_64</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074041"></a>Linux&#160;&#160; : Red Hat Enterprise Linux Client release 5.5 (Tikanga)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074042"></a>Memory&#160;&#160;: available 145.8051 GB&#160;&#160;       physical 405.6638 GB</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074043"></a>Swap&#160;&#160;  : available 94.4486 GB  physical 137.4389 GB</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074044"></a>CPU type: Intel(R) Xeon(R) CPU E5-2697 v3 @ 2.60GHz</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074045"></a>Hyperthreading is disabled</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074046"></a>Socket&#160;&#160;Proc&#160;&#160;  Core</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074047"></a> 0&#160;&#160;     0       0      2600.1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074048"></a>         2       1      2600.1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074049"></a>         4       2      2600.1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074050"></a>         6       3      2600.1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074051"></a>         8       4      2600.1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074052"></a>        10       5      2600.1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074053"></a>        12       6      2600.1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074054"></a>        14       8      2600.1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074055"></a>        16       9      2600.1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074056"></a>        18      10      2600.1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074057"></a>        20      11      2600.1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074058"></a>        22      12      2600.1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074059"></a>        24      13      2600.1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074060"></a>        26      14      2600.1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074061"></a> 1&#160;&#160;     1       0      2600.1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074062"></a>         3       1      2600.1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074063"></a>         5       2      2600.1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074064"></a>         7       3      2600.1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074065"></a>         9       4      2600.1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074066"></a>        11       5      2600.1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074067"></a>        13       6      2600.1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074068"></a>        15       8      2600.1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074069"></a>        17       9      2600.1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074070"></a>        19      10      2600.1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074071"></a>        21      11      2600.1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074072"></a>        23      12      2600.1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074073"></a>        25      13      2600.1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074074"></a>        27      14      2600.1</pre>

<p>
<a id="pgfId-1074075"></a>To benefit from multithreading technology, a circuit should have at least 500 nodes. When a circuit is too small, multithreading is turned off automatically.</p>

<h2>
<a id="pgfId-1073243"></a><a id="84633"></a>Spectre XPS Options</h2>

<p>
<a id="pgfId-1076158"></a>Spectre XPS can be configured to obtain optimized simulation results, performance, accuracy, and waveform file size. The general naming convention for the XPS configuration options is <code>sim_opt_</code><span class="webflare-courier-new" style="white-space:pre"><em>optName</em></span>, which can be specified with:</p>
<p>
<a id="pgfId-1076159"></a>Spectre format:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1076160"></a>opt1 options sim_opt_optName=optValue {subckt=[subcktName]} </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1076161"></a>opt2 options sim_opt_optName=optValue {inst=[instanceName]} </pre>

<p>
<a id="pgfId-1076162"></a>SPICE format:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1076163"></a>.options sim_opt_optName=optValue {subckt=[subcktName]}</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1076164"></a>.options sim_opt_optName=optValue {inst=[instanceName]}</pre>
<h3>
<a id="pgfId-1076166"></a><a id="44313"></a>Options Related to Circuit Partitioning</h3>

<p>
<a id="pgfId-1076167"></a>Spectre XPS supports the following two fundamental technologies for circuit partitions:</p>
<ul><li>
<a id="pgfId-1076168"></a>Arbitrary partition can break the channel connections of transistors. Therefore, you should not tune this partition.</li><li>
<a id="pgfId-1076169"></a>To maintain good accuracy, a dynamic group is created for the partitions and their nodes with current conducting path and strong coupling. When the conditions are changed, the group may be destroyed to minimize the impact on performance.</li></ul>

<p>
<a id="pgfId-1076170"></a>Spectre XPS provides good usability with less user interfere on circuit partitions. However, you can use the <code>sim_opt_one_part</code> and <code>sim_opt_analog</code> options to fine-tune it for better accuracy/performance trade-off. </p>
<ul><li>
<a id="pgfId-1076171"></a><code>sim_opt_one_part=2 subckt=[subckt_name*]</code><br />
<a id="pgfId-1076172"></a>Specifies the name of the subcircuit to be partitioned. It is recommended to set this option locally for sensitive blocks. Wildcard can be used with the parameter <code>subckt</code>. Possible values are:<ul><li>
<a id="pgfId-1076173"></a><code>0</code>: Uses the arbitrary partition algorithm to perform circuit partitioning. This is the default value.</li><li>
<a id="pgfId-1076174"></a><code>1</code>: Treats the subcircuit as one partition. This is a conservative setting and is recommended for subcircuits with less than 100 MOSFETs.</li><li>
<a id="pgfId-1076175"></a><code>2</code>: Performs channel connect partitioning inside the subcircuit. The subcircuit may contain several hundreds of MOSFETs.</li></ul></li><li>
<a id="pgfId-1076176"></a><code>sim_opt_analog=6</code> <code>|</code> <code>7 subckt=[subckt_name*]</code><br />
<a id="pgfId-1076177"></a>The <code>sim_opt_analog</code> option with possible values of 6 and 7 can be set on analog blocks to obtain high accuracy. The subcircuits with this option are forced to create a dynamic group during the whole transient. <ul><li>
<a id="pgfId-1076178"></a><code>sim_opt_analog=6</code> can be set on bias, charge pumps, regular blocks, or other sensitive analog blocks (500-10k devices) to obtain good accuracy. For example:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1076179">
<a id="pgfId-1076179"></a>.options sim_opt_analog=6 subckt=[myCP myReg]</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1076180">
<a id="pgfId-1076180"></a>.options sim_opt_analog=6 inst=[xiCP xiReg]</pre></li><li>
<a id="pgfId-1076181"></a><code>sim_opt_analog=7</code> is more conservative than value <code>6</code> and improves Spectre XPS accuracy further. However, it is targeted at smaller blocks to minimize the impact on performance. For example:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1076182">
<a id="pgfId-1076182"></a>.options sim_opt_analog=7 subckt=[myCP myReg]</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1076183">
<a id="pgfId-1076183"></a>.options sim_opt_analog=7 inst=[xiCP xiReg]</pre></li></ul></li><li>
<a id="pgfId-1079590"></a><code>sim_opt_circuit_detect</code><br />
<a id="pgfId-1079621"></a>The <code>sim_opt_circuit_detect=1</code> option enables Spectre XPS to detect sense amplifier and place it in one partition to obtain high accuracy. The default value is <code>0</code>. For example:<pre class="webflare-pre-block webflare-courier-new" id="#id1079815">
<a id="pgfId-1079815"></a>.options sim_opt_circuit_detect=1</pre></li><li>
<a id="pgfId-1079867"></a><code>sim_opt_analog_rc_part_merge</code><br />
<a id="pgfId-1079907"></a>By default, Spectre XPS places the RC network from other devices in a separate partition. You can use the <code>sim_opt_analog_rc_part_merge=1</code> option to enable Spectre XPS to place RC and other devices in the same partition to obtain high accuracy. The default value is <code>0</code>. <pre class="webflare-pre-block webflare-courier-new" id="#id1080065">
<a id="pgfId-1080065"></a>.options sim_opt_analog_rc_part_merge=1</pre></li></ul>

























<h3>
<a id="pgfId-1076184"></a>Options Related to RC</h3>

<p>
<a id="pgfId-1076185"></a>For postlayout simulation, RC reduction is one of the fundamental technology. Spectre XPS optimizes RC reduction based on the circuit type. It provides two high-level options, <code>sim_opt_rcr_sram</code> and <code>sim_opt_rcr_dram</code>, for SRAM and DRAM designs.</p>
<ul><li>
<a id="pgfId-1076186"></a><code>sim_opt_rcr_sram=&quot;NULL&quot;</code><br />
<a id="pgfId-1076187"></a>Flag to set a group of RC reduction options for SRAM simulation. The greater the value the more aggressive is RC reduction. You can set the following values with the <code>sim_opt_rcr_sram</code> option:<ul><li>
<a id="pgfId-1076188"></a><code>NULL</code>: The RC Reduction algorithm is enabled only for a SRAM application by specifying <code>+cktpreset=sram</code> at the command line. For the other applications, the value of this option is <code>NULL</code>, which means RC reduction is not enabled for SRAM.</li><li>
<a id="pgfId-1076189"></a><code>1</code>: Performs conservative RC reduction for SRAM simulation at advanced technology nodes (below 10nm) and with smaller design margin, especially for designs with RC on power net. This value is set while using <code>speed=1</code> for SRAM simulation</li><li>
<a id="pgfId-1076190"></a><code>2</code>: Performs moderate RC reduction for SRAM general timing simulation. This value is set while using <code>speed=2</code> for SRAM simulation.</li><li>
<a id="pgfId-1076191"></a><code>3</code>: Performs liberal RC reduction for SRAM simulation with loose timing accuracy requirement, like function verification. This value is set while using <code>speed=5</code> for SRAM simulation.</li></ul></li><li>
<a id="pgfId-1076192"></a><code>sim_opt_rcr_dram=&quot;NULL&quot;</code><br />
<a id="pgfId-1076193"></a>Flag to set a group of RC reduction options for DRAM simulation. The greater the value the more aggressive is RC reduction. You can set the following values with the <code>sim_opt_rcr_sram</code> option:<ul><li>
<a id="pgfId-1076194"></a><code>NULL</code>: The RC Reduction algorithm is enabled only for a DRAM application by specifying <code>+cktpreset=dram</code> at the command line. For the other applications, the value of this option is <code>NULL</code>, which means RC reduction is not enabled for DRAM.</li><li>
<a id="pgfId-1076195"></a><code>1</code>: Performs conservative RC reduction for DRAM simulation for better timing accuracy. This value is set while using <code>speed=1</code> for DRAM simulation.</li><li>
<a id="pgfId-1076196"></a><code>2</code>: Performs moderate RC reduction for DRAM general timing simulation. This value is set while using <code>speed=2</code> for DRAM simulation.</li><li>
<a id="pgfId-1076197"></a>3: Performs liberal RC reduction for DRAM simulation with loose timing accuracy requirement, like function verification. This value is set while using <code>speed=5</code> for DRAM simulation.</li></ul></li></ul>











<p>
<a id="pgfId-1076198"></a>The following are some other RC-related options to control SRAM and DRAM simulation runs:</p>

<p>
<a id="pgfId-1076224"></a></p>
<table class="webflareTable" id="#id1076199">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1076201">
<a id="pgfId-1076201"></a>Option</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1076203">
<a id="pgfId-1076203"></a>Type</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1076205">
<a id="pgfId-1076205"></a>Description</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076207"></a><code>sim_opt_fcapl</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076209"></a>Local</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076211"></a>Splits the coupling caps smaller than the specified value to ground. The default value is <code>1e-17</code> for XPS SRAM <code>speed=2</code> and <code>1e-16</code> for XPS DRAM <code>speed=2</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076213"></a><code>sim_opt_rmin</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076215"></a>Local</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076217"></a>Shorts the resistors with value less than the specified value. The default value is <code>0.01</code> for SRAM, <code>0.1</code> for DRAM, and <code>1</code> for others.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076219"></a><code>sim_opt_rmax</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076221"></a>Local</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076223"></a>Discards the resistors if the resistance is greater than the specified value. The default value is <code>1E+07</code> for SRAM and <code>9.9E+08</code> for DRAM.</p>
</td>
</tr>
</tbody></table>
<h3>
<a id="pgfId-1076225"></a>Options Related to Models</h3>

<p>
<a id="pgfId-1076226"></a>For MOSFETs in postlayout simulation, a model is with Layout Dependent Effect (LDE). As a result, its instance parameters or model parameters may have unique values for each MOSFET instance. Spectre XPS uses two levels of table model to enable sharing between MOSFET instances with good accuracy:</p>
<ul><li>
<a id="pgfId-1076227"></a><em>Reference table model</em> &#8211; A fully dense model that is accurate. Spectre XPS models all the required model effects in it.</li><li>
<a id="pgfId-1076228"></a><em>Ratio table</em> &#8211; While building the model with mini-SPICE solver, Spectre XPS checks its coefficient with the reference table. If the accuracy meets the pre-defined criteria, this MOSFET instance is referred to the reference table, and a ratio table is built to model the mismatch. Ratio table is a sparse table and its size is much smaller than the reference table. </li></ul>

<p>
<a id="pgfId-1076229"></a>You can use the <code>sim_opt_model</code> option to control the accuracy of the table. This option accepts the following four possible values. The greater the value the more conservative is the table model.</p>
<ul><li style="list-style-type: none;background-image: none;"><ul><li>
<a id="pgfId-1076230"></a><code>1</code>: This is the default value. It uses the default table model for the generation of reference table and ratio table.</li><li>
<a id="pgfId-1076231"></a><code>2</code>: Uses a tighter criteria to perform sharing using the ratio table by adding more checks on current and charge.</li><li>
<a id="pgfId-1076232"></a><code>3</code>: Disables the ratio table. You may set it for pre-layout cases because there is no Layout Dependent Effect. For postlayout cases it increases the memory.</li><li>
<a id="pgfId-1076233"></a><code>4</code>: Uses the equation model instead of the table model. It affects both performance and memory consumption. Set this option locally and use it for debugging purposes only. </li></ul></li></ul>



<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1076234"></a>The conservative table model increases memory consumption because denser tables need to be saved. Therefore, it is recommended to use a greater value locally.</div>
<p>
<a id="pgfId-1076235"></a>The following are some other model-related options that you can use:</p>

<p>
<a id="pgfId-1076430"></a></p>
<table class="webflareTable" id="#id1076236">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1076238">
<a id="pgfId-1076238"></a>Option</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1076240">
<a id="pgfId-1076240"></a>Type</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1076242">
<a id="pgfId-1076242"></a>Description</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076244"></a>sim_opt_bmodel</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076246"></a>Local</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076248"></a>Specifies which blocks are behavioral blocks (containing bsources, Verilog-A, and so on) so that Spectre XPS can use specialized algorithms at these blocks to improve convergence. For example:</p>
<p>
<a id="pgfId-1079528"></a><code>sim_opt_bmodel=1 subckt=[flash_cell]</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076250"></a>sim_opt_tbl_vdd</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076252"></a>Local</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076254"></a>Specifies the typical voltage scope of the table model building in the circuit. For example, <code>sim_opt_tbl_vdd=1.5</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076256"></a>sim_opt_vpp</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076258"></a>Local</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076260"></a>Specifies the extended voltage scope of the table model building. It should be set to a possible high voltage of the circuit. For example, <code>sim_opt_vpp=5</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076262"></a>sim_opt_avg_cap</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076264"></a>Local</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076266"></a>Defines the MOSFET core device capacitance model. A linear model can provide significant performance improvement over a nonlinear model. Since this option may introduce accuracy loss, especially for timing, it is recommended to use it only for designs that are not sensitive to nonlinear device capacitances. Possible values are:</p>
<p>
<a id="pgfId-1076267"></a><code>0</code>: Do not use average capacitance. This is the default value.</p>
<p>
<a id="pgfId-1076268"></a><code>1</code>: Enable the linear model for MOSFET device capacitance.</p>
<p>
<a id="pgfId-1076269"></a><code>4</code>: Enable the linear model with conditions. Devices with big width or length are excluded, but still use nonlinear device capacitances.</p>
</td>
</tr>
</tbody></table>
<h3>
<a id="pgfId-1076270"></a>Option Related to SRAM Bitcell</h3>

<p>
<a id="pgfId-1076474"></a>To speed up SRAM simulation, especially for function verification, you can use the <code>detect_memcell</code> option to detect the bitcell for better performance. The <code>detect_memcell</code> option accepts the following two values:</p>
<ul><li>
<a id="pgfId-1076662"></a><code>0</code>: Disables bitcell detection. This is the default in XPS, except SRAM function verification mode specified using <code>+xps</code> <code>+cktpreset=sram</code> <code>+speed=x6</code>. </li><li>
<a id="pgfId-1076751"></a><code>1</code>: Enables bitcell detection. It speeds up SRAM simulation; however, it may cause some timing accuracy loss. Therefore, it is recommended to use this option for SRAM function verification.</li></ul>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1076971"></a>Multithreading does not work if you specify <code>detect_memcell=1</code>. </div>

<h3>
<a id="pgfId-1076271"></a>Options to Control Error Tolerance</h3>

<p>
<a id="pgfId-1076272"></a>You can use the following options to control error tolerance:</p>

<p>
<a id="pgfId-1076292"></a></p>
<table class="webflareTable" id="#id1076273">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1076275">
<a id="pgfId-1076275"></a>Option</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1076277">
<a id="pgfId-1076277"></a>Type</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1076279">
<a id="pgfId-1076279"></a>Description</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076281"></a><code>sim_opt_step_ratio</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076283"></a>Local</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076285"></a>If set to a positive value, it scales the error tolerance in XPS FastSPICE mode. The greater the value, the more aggressive is the scaling. It is recommended to set the option between <code>0.5</code> and <code>2</code> for XPS DRAM and XPS SRAM <code>speed=2</code> setting. The default value is <code>1</code>, which means that the option has no effect.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076287"></a>sim_opt_time_unit</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076289"></a>Local</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076291"></a>Specifies the minimum time steps for Spectre XPS transient simulation. The default value is <code>1</code> <code>ps</code>.</p>
</td>
</tr>
</tbody></table>
<h3>
<a id="pgfId-1076293"></a>Option to Report DC Non-Convergence</h3>

<p>
<a id="pgfId-1076294"></a>You can use the <code>sim_opt_dump_dc_report</code> option, with possible values of <code>0</code> (default) and <code>1</code>, to print the DC non-convergence information. <code>sim_opt_dump_dc_report=1</code> prints detailed DC non-convergence information to a report file, <code>&lt;</code><span class="webflare-courier-new" style="white-space:pre"><em>netlist</em></span><code>&gt;.dcrpt</code>.</p>
<p>
<a id="pgfId-1076295"></a>The criteria to write DC non-convergence is based on the sum of node currents. Based on Kirchhoff&#39;s Current Law (KCL), this current should be zero. If Spectre XPS DC does not converge fully for these nodes, their sum current is not zero. Spectre XPS reports the nodes with current larger than <code>0.1uA</code> with the number of events (like time steps) in DC.</p>
<p>
<a id="pgfId-1076296"></a>The following is an example of the <code>&lt;</code><span class="webflare-courier-new" style="white-space:pre"><em>netlist</em></span><code>&gt;.dcrpt</code> report with the lines sorted by node current value.</p>

<p>
<a id="pgfId-1076338"></a></p>
<table class="webflareTable" id="#id1076297">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076299"></a><code>Node</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076301"></a><code>Voltage</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076303"></a><code>Current</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076305"></a><code>#event</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076307"></a>Node not converged</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076309"></a><code>x1.net1</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076311"></a><code>1.1</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076313"></a><code>5e-6</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076315"></a><code>18</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076317"></a>x1.net1</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076319"></a><code>x1.net2</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076321"></a><code>0.5</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076323"></a><code>1e-7</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076325"></a><code>22</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076327"></a>x1.net2</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076329"></a><code>...</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076331"></a><code></code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076333"></a><code></code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076335"></a><code></code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076337"></a></p>
</td>
</tr>
</tbody></table>
<h3>
<a id="pgfId-1076339"></a>Options to Control Waveform and Output</h3>

<p>
<a id="pgfId-1076340"></a>You can use the following global options to control the waveform and output:</p>

<p>
<a id="pgfId-1076388"></a></p>
<table class="webflareTable" id="#id1076341">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1076343">
<a id="pgfId-1076343"></a>Option</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1076345">
<a id="pgfId-1076345"></a>Type</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1076347">
<a id="pgfId-1076347"></a>Description</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076349"></a><code>sim_opt_compress_output</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076351"></a>Global</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076353"></a>If set to <code>1</code>, compresses the waveform file by eliminating the points close to a straight line. If set to <code>0</code>, keeps all data points.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076355"></a><code>sim_opt_compress_abstolv</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076357"></a>Global</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076359"></a>Specifies the voltage tolerance for waveform compression. The default value is <code>0.001</code>.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1076360"></a>This option must be used with <code>sim_opt_compress_output=1</code>.</div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076362"></a><code>sim_opt_compress_abstoli</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076364"></a>Global</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076366"></a>Specifies the current tolerance for waveform compression. The default value is <code>1e-8</code>. </p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1076367"></a>This option must be used with <code>sim_opt_compress_output=1</code>.</div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076369"></a><code>sim_opt_compress_reltolv</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076371"></a>Global</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076373"></a>Specifies the relative voltage tolerance for waveform compression. The default value is <code>0</code>. </p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1076374"></a>This option must be used with <code>sim_opt_compress_output=1</code>.</div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076376"></a><code>sim_opt_compress_reltoli</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076378"></a>Global</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076380"></a>Specifies the relative current tolerance for waveform compression. The default value is <code>0</code>. </p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1076381"></a>This option must be used with <code>sim_opt_compress_output=1</code>.</div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076383"></a><code>sim_opt_cur_wf</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076385"></a>Global</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076387"></a>If set to <code>1</code>, outputs the current probes to a separate waveform file. The default value is <code>0</code>. </p>
</td>
</tr>
</tbody></table>
<h2>
<a id="pgfId-1076001"></a><a id="18969"></a>Post-layout simulation</h2>

<p>
<a id="pgfId-1077166"></a>Postlayout simulation with parasitic effects is essential for verification of memory designs like SRAM and DRAM, especially for timing accuracy. Like most of the postlayout simulations, two major effects need to be considered:</p>
<ul><li>
<a id="pgfId-1077195"></a>The parasitic elements, especially resistors and capacitors. Effective RC Reduction algorithm of Spectre XPS, empowered by the port merge technology, improves the run time significantly while maintaining good accuracy.</li><li>
<a id="pgfId-1077196"></a>The Layout Dependent Effect (LDE) for transistors introduces challenges for the table model in FastSPICE technology since each transistor may have unique model parameters.</li></ul>

<p>
<a id="pgfId-1077191"></a>Spectre XPS effectively addresses the challenges of advanced process nodes. Postlayout simulation is one of them. For more information, refer to <a href="chap13.html#38263">Chapter 16, &#8220;Postlayout Simulation,&#8221;</a>.</p>

<h2>
<a id="pgfId-1077273"></a><a id="57653"></a>Spectre XPS SR<a id="sram_sim"></a>AM Simulation</h2>

<p>
<a id="pgfId-1077274"></a>For SRAM simulation, Spectre XPS supports a high performance/capacity FastSPICE mode (<code>+xps</code>) and a high accuracy SPICE mode (<code>+xps=s</code>). Each of these modes can be further optimized for timing simulation (<code>+cktpreset=sram</code>) and power simulation (<code>+cktpreset=sram_pwr</code>). In addition, there is a speed option (<code>+speed</code>) that can be used to trade-off accuracy and performance; <code>speed=1</code> is the most accurate while <code>speed=5</code> is the fastest.</p>
<p>
<a id="pgfId-1077278"></a>The following table summarizes all available settings where <img width="31" height="21" src="images/spectrexps-2.gif" /><span> indicates the availability of a particular setting:</span></p>
<p>
<a id="pgfId-1077364"></a></p>
<table class="webflareTable" id="#id1077279">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="2">
<p>
<a id="pgfId-1077281"></a>Speed</p>
<p>
<a id="pgfId-1077282"></a>(<code>+speed=#</code>)</p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1077284"></a>Spectre XPS FastSpice (<code>+xps</code>)</p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1077288"></a>Spectre XPS Spice (<code>+xps=s</code>)</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077294"></a>Timing</p>
<p>
<a id="pgfId-1077295"></a>(<code>+cktpreset=sram</code>)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077297"></a>Power</p>
<p>
<a id="pgfId-1077298"></a>(<code>+cktpreset=sram_pwr</code>)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077300"></a>Timing</p>
<p>
<a id="pgfId-1077301"></a>(<code>+cktpreset=sram</code>)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077303"></a>Power</p>
<p>
<a id="pgfId-1077304"></a>(<code>+cktpreset=sram_pwr</code>)</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077306"></a>1</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077311"></a><img width="31" height="21" src="images/spectrexps-3.gif" /></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077313"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077315"></a>Obsolete</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077317"></a>Obsolete</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077319"></a>2</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077324"></a><img width="31" height="21" src="images/spectrexps-4.gif" /></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077329"></a><img width="31" height="21" src="images/spectrexps-5.gif" /></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077331"></a>Obsolete</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077333"></a>Obsolete</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077335"></a>3</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077337"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077339"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077341"></a>Default</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077343"></a>Default</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077345"></a>4</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077347"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077349"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077351"></a>Obsolete</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077353"></a>Obsolete</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077355"></a>5</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077357"></a>Default</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077359"></a>Default</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077361"></a>Obsolete</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077363"></a>Obsolete</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1077365"></a>The Spectre XPS use model has been updated for SRAM timing simulation. The updated use model combines the high performance/capacity and high accuracy modes. You can now use the <code>+speed=x#</code> option to control accuracy/performance. Legacy modes are also supported.</p>
<p>
<a id="pgfId-1077366"></a>For example, to run a high-precision SRAM timing simulation, you can use the following command:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1077367"></a> spectre +xps +cktpreset=sram +speed=x2...</pre>

<p>
<a id="pgfId-1077368"></a>To relax the accuracy criteria and obtain high performance, use the following command:</p>
<p>
<a id="pgfId-1077369"></a> spectre +xps +cktpreset=sram +speed=x4...</p>
<p>
<a id="pgfId-1077370"></a>The following table summarizes all the available speeds and their corresponding legacy modes:</p>

<p>
<a id="pgfId-1077422"></a></p>
<table class="webflareTable" id="#id1077371">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1077373">
<a id="pgfId-1077373"></a>+speed</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1077375">
<a id="pgfId-1077375"></a>Legacy Mode</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1077377">
<a id="pgfId-1077377"></a>Suggested Application</span>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077386"></a><code>x1</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077388"></a>Open slot</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077390"></a>NA</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077392"></a><code>x2</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1077394"></a>+xps=s +speed=3</pre>
<p>
<a id="pgfId-1077395"></a>With optimized RCR options</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077397"></a>Very high-precision timing simulation</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077399"></a><code>x3</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077401"></a>Open slot</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077403"></a>NA</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077405"></a><code>x4</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077407"></a>+xps +speed=1</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077409"></a>Optimized timing accuracy, especially for &lt;=10nm process node with IR-drop of power net impact to timing</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077411"></a><code>x5</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077413"></a>+xps +speed=2</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077415"></a>High-performance timing simulation</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077417"></a><code>x6</code> (default)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077419"></a>+xps +speed=5</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077421"></a>Function verification</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1077423"></a>When using a SPICE runset, add the <code>+spice</code> option to ensure that the netlist convention and device models are consistently interpreted as traditional SPICE, instead of Spectre.</p>
<p>
<a id="pgfId-1077424"></a>Since most Spectre XPS applications are large postlayout designs, use the <code>-64</code> command-line option to enable the 64-bit version of Spectre. </p>
<p>
<a id="pgfId-1077425"></a>The high accuracy SPICE mode (<code>+speed=x2</code>) supports multithreading computation on multi-core platforms. Multithreading is enabled by default in Spectre XPS SPICE mode and the default number of threads used is 8. The maximum number of threads allowed is 64. You can turn off multithreading by using the following command:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1077426"></a> spectre +xps +cktpreset=sram +speed=x2 -mt ....</pre>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1077427"></a>Like Spectre APS, there is no need to specify <code>+mt</code> at the command line for Spectre XPS SPICE mode. However, if you want to manually specify the number of threads to be used, instead of the default maximum threads, you can use the <code>+mt</code> command-line option, as follows:</div>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1077428"></a> spectre +xps=s +mt=4....</pre>
<h3>
<a id="pgfId-1077429"></a>XPS SRAM Timing Simulation</h3>

<p>
<a id="pgfId-1077430"></a>When simulation speed is the primary concern, the default (<code>speed=x6</code>) FastSPICE mode (<code>+xps</code>) can be invoked in an SRAM simulation, as shown below.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1077431"></a> spectre +xps +cktpreset=sram input.scs &#8230;</pre>

<p>
<a id="pgfId-1077432"></a>The accuracy of the FastSPICE mode can be increased by using the <code>speed</code> option, as shown below.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1077433"></a> spectre +xps +speed=x5|x4 +cktpreset=sram input.scs &#8230; //(new use model)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1077434"></a> spectre +xps +speed=2|1 +cktpreset=sram input.scs &#8230; //(legacy use model)</pre>

<p>
<a id="pgfId-1077435"></a>To further increase the timing simulation accuracy, particularly for critical cut SRAM simulation, or small-medium sized full macro SRAM simulation, the SPICE mode (<code>speed=x2</code>) can be used, as follows:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1077436"></a> spectre +xps +cktpreset=sram +speed=x2 input.scs &#8230; //(new use model)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1077437"></a> spectre +xps=s +cktpreset=sram input.scs &#8230; //(legacy use model)</pre>
<h3>
<a id="pgfId-1077438"></a>XPS SRAM Power Simulation</h3>

<p>
<a id="pgfId-1077439"></a>The SRAM timing simulation settings can be used in both timing and power simulation; however, a power simulation mode is available that further optimizes power and current accuracy and simulation performance. </p>
<p>
<a id="pgfId-1077440"></a>To invoke power optimization in the FastSPICE simulation mode, use the following command:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1077441"></a> spectre +xps +cktpreset=sram_pwr +speed=2 input.scs &#8230;</pre>

<p>
<a id="pgfId-1078805"></a>This mode targets better performance with less physical memory consumption, and still maintains good accuracy for average current.</p>
<p>
<a id="pgfId-1078856"></a>A more accurate mode is often used in power and current simulation if the peak current is also critical. The recommended setting is the same as accurate mode for timing simulation as follows: </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1078857"></a> spectre +xps +cktpreset=sram +speed=x2 input.scs &#8230; //(only in the new use model)</pre>
<h3>
<a id="pgfId-1077444"></a><a id="90224"></a>XPS SRAM Postlayout Simulation</h3>

<p>
<a id="pgfId-1077445"></a>Spectre XPS is optimized to handle large postlayout SRAM designs. It directly simulates a flat DSPF/DPF/SPEF postlayout netlist by including the file that is commonly used in SRAM designs, as shown below. </p>
<p>
<a id="pgfId-1077446"></a>Spectre format:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1077447"></a>include &quot;file.spf&quot; </pre>

<p>
<a id="pgfId-1077448"></a>SPICE format:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1077449"></a>.include &quot;file.spf&quot; (SPICE syntax)</pre>

<p>
<a id="pgfId-1077450"></a>Due to the tight timing requirement for SRAM memory, backannotation postlayout simulation flow is not supported in SRAM.</p>

<h3>
<a id="pgfId-1077452"></a><a id="63136"></a>XPS SRAM Leakage Current Simulation</h3>

<p>
<a id="pgfId-1077453"></a>Leakage current and power are measured in various standby and power-down modes. Traditionally, these simulations require a careful selection of measurement time points, where the circuit signals have to settle down to a steady state. Spectre XPS accelerates the leakage current and power simulation by deploying a new methodology that requires you to only provide the time point where all input signals are at their steady state. For SRAM designs, the algorithm for leakage simulation has been enhanced, especially for power-off modes, including retention, array shutdown, and total shutdown. </p>
<p>
<a id="pgfId-1077454"></a>To enable the leakage current and power simulation in Spectre XPS in multiple power mode, use the following options:</p>
<p>
<a id="pgfId-1077455"></a>Spectre format:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1077456"></a><code>opt1 options leaki_times=[4u 10u]</code> //(defines input-steady state time points in&#160;&#160;                                    multiple power mode)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1077457"></a>save v1:p vdd:p //(current probes on power supplies)</pre>

<p>
<a id="pgfId-1077458"></a>SPICE format:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1077459"></a><code>.options leaki_times=[4u 10u]</code> //(defines input-steady state time points in&#160;&#160;                               multiple power mode)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1077460"></a><code>.probe tran i(v1) i(vdd)</code> //(current probes on power supplies)</pre>

<p>
<a id="pgfId-1077461"></a>Following is an example of the command-line option to run the leakage simulation using SPICE runset:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1077462"></a> spectre -64 +xps +cktpreset=sram_pwr +spice input.sp... </pre>

<p>
<a id="pgfId-1077463"></a>As a result of the above settings, Spectre XPS performs a transient simulation till <code>4us</code>. It also performs a leakage analysis with the circuit biased at the <code>4us</code> condition to calculate the leakage currents<code> i(v1)</code> and <code>i(vdd)</code>. Spectre XPS then continues transient simulation till <code>10us</code> and performs another leakage analysis with the circuit biased at the <code>10us</code> condition. The result of the leakage current simulation is reported in a file with the extension <code>leaki</code>, as shown below.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1077464"></a>i(v1): t= 4.0000e-06&#160;&#160; val= -2.1293e-10</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1077465"></a>i(vdd): t= 4.0000e-06&#160;&#160; val= -3.1166e-09</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1077466"></a>i(v1): t= 1.0000e-05&#160;&#160; val= -4.3421e-10</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1077467"></a>i(vdd): t= 1.0000e-05&#160;&#160; val= -6.9654e-09</pre>

<p>
<a id="pgfId-1077468"></a>To enable the leakage current and power simulation in single power mode, use the following options:</p>
<p>
<a id="pgfId-1077469"></a>Spectre format:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1077470"></a><code>opt1 options sim_opt_auto_leaki=1</code> //(defines input-steady state time points in&#160;&#160;                                    single power mode)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1077471"></a>save v1:p vdd:p //(current probes on power supplies)</pre>

<p>
<a id="pgfId-1077472"></a>SPICE format:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1077473"></a><code>.options sim_opt_auto_leaki=1</code> //(defines input-steady state time points in&#160;&#160;                               single power mode)</pre>

<p>
<a id="pgfId-1077474"></a><code>.probe tran i(v1) i(vdd)</code> //(current probes on power supplies)</p>

<h3>
<a id="pgfId-1077475"></a>Handling SRAM Designs at Advanced Technology Nodes</h3>

<p>
<a id="pgfId-1077476"></a>With shrinking process nodes, such as 7nm, there are several challenges for FastSPICE simulators to meet the tighter accuracy requirements of SRAM designs. The XPS SRAM <code>speed=1</code> setting has been enhanced to handle the following challenges from the advanced process nodes, and provides the required timing accuracy:</p>
<ul><li>
<a id="pgfId-1077477"></a>The IR drop caused by resistors and capacitors on a power net or a virtual power net (VPN) can significantly impact the timing accuracy. IR drop of several milivolts may result in 10+ps timing discrepancy of SRAM designs. You can use the XPS SRAM <em>speed=1</em> setting to simulate the IR drop accurately to meet the final timing accuracy. To reduce the performance overhead, it is recommended to use RC reduction while extracting the RCs on power net or VPN nodes.</li><li>
<a id="pgfId-1077478"></a>The voltage of power supply for advance process nodes may decrease under 500mV. You can use the XPS SRAM <code>speed=1</code> setting to provide good accuracy for most of the situations. For best accuracy results, set the option <code>sim_opt_step_ratio</code> option to a value between <code>0.5</code> to <code>1</code> (the smaller the value, the more conservative is the result). </li><li>
<a id="pgfId-1077479"></a>Due to the smaller size, the coupling effect is even stronger. This means that the number of coupling capacitors is greatly increased for the advanced process nodes. For better accuracy for coupling effect, set the option <code>sim_opt_fcapl</code> to <code>1e-18</code> (the default value is <code>1e-17</code> for XPS SRAM <code>speed=1</code> setting). </li><li>
<a id="pgfId-1077480"></a>For RC on signal net, such as bit line, word line, and sense amplifier, you can use the XPS SRAM <code>speed=1</code> setting for better timing and tighter accuracy requirements.</li></ul>




<h2>
<a id="pgfId-1077481"></a><a id="13496"></a>Spectre XPS DR<a id="dram_sim"></a>AM Simulation</h2>

<p>
<a id="pgfId-1077613"></a>With advancing process technology nodes and high capacity of DRAM chips (including PCRAM), designers are facing increasing challenges to simulate and validate large full-chip DRAM designs with the extracted parasitic elements. The simulation accuracy requirement is tighter due to shrinking design margin. </p>
<p>
<a id="pgfId-1077614"></a>Spectre XPS provides the following advantages for DRAM applications:</p>
<ul><li>
<a id="pgfId-1077615"></a>Competitive performance empowered by multithreading support &#8212; The fundamental FastSPICE technology of Spectre XPS, including arbitrary partition, dynamic group, table model, and effective multirate, can work well for DRAM postlayout simulation. </li><li>
<a id="pgfId-1077616"></a>Accurate results for timing, voltage, and current signals &#8212; As the new generation FastSPICE simulator, Spectre XPS has been optimized to meet the accuracy challenges introduced by advanced process nodes and lower voltage supplies. Both areas that are critical for accuracy are handled effectively in Spectre XPS: RC reduction empowered by port merge for parasitic RC and the core solver with partition enabled. </li><li>
<a id="pgfId-1077617"></a>Simple and consistent use model &#8212; Spectre XPS provides a consistent use model for DRAM applications. A more conservative mode, <code>+speed=1</code>, is provided for better accuracy with acceptable performance degradation; normally less than 2X. </li><li>
<a id="pgfId-1077618"></a>Better handling of large DRAM designs &#8212; Spectre XPS reduces memory consumption, and therefore, it is suitable for big DRAM designs.</li></ul>




<h3>
<a id="pgfId-1077619"></a>Spectre XPS DRAM Postlayout Simulation</h3>

<p>
<a id="pgfId-1077620"></a>Postlayout simulation with parasitic effects is essential for DRAM verification, especially for timing accuracy. Like most of the postlayout simulation scenarios, the following two major effects should be considered:</p>
<ul><li>
<a id="pgfId-1077621"></a>Parasitic elements, especially resistors and capacitors. Effective RC Reduction algorithm of Spectre XPS, empowered by the port merge technology, greatly improves the run time while maintaining good accuracy.</li><li>
<a id="pgfId-1077622"></a>The Layout Dependent Effect (LDE) for transistors introduces the challenge for the table model of FastSPICE technology since each transistor may have unique model parameters.</li></ul>

<p>
<a id="pgfId-1077623"></a>Spectre XPS is optimized to address the challenges introduced by the advanced process nodes. Postlayout simulation is one of them.</p>
<p>
<a id="pgfId-1077626"></a>For more information on the Postlayout simulation flow, refer to <a href="chap13.html#38263">Chapter 16, &#8220;Postlayout Simulation,&#8221;</a>.</p>

<h3>
<a id="pgfId-1077628"></a>Starting an XPS DRAM Simulation Run</h3>

<p>
<a id="pgfId-1077629"></a>The Spectre XPS DRAM simulation can be run using the following command:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1077630"></a>spectre -64 +xps +cktpreset=dram +speed=2 +mt=8 top.sp....</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1080165"></a>spectre -64 +xps +cktpreset=pcram +mt=8 top.sp...</pre>

<p>
<a id="pgfId-1080221"></a>Alternatively, you can specify the <code>+cktpreset</code> and <code>+speed</code> options in the netlist, as shown below.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1080328"></a>.options cktpreset=dram#1|2|5</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1080371"></a>.options cktpreset=pcram</pre>

<p>
<a id="pgfId-1077631"></a>When the simulation is run, the following message in the Spectre XPS log file indicates that DRAM mode with multithreading capability is successfully enabled:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1077632"></a>Notice from spectre during initial setup.</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1077633"></a>XPS Enabled ( cktpreset=dram ).</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1077634"></a>&#8230;&#8230;</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1077635"></a>Multithreading Enabled: 8 threads in the system with 20 available processors.</pre>

<p>
<a id="pgfId-1077636"></a>The Spectre XPS DRAM mode supports multithreading computation on multicore platforms. Multithreading is enabled by using the <code>+mt</code> option at the command line.</p>

<h3>
<a id="pgfId-1077637"></a>Overall Accuracy/Performance Tuning Strategy in Spectre XPS</h3>

<p>
<a id="pgfId-1077638"></a>Spectre XPS provides an application-based solution by using the <code>+cktpreset</code> command-line option. For example, to run a DRAM simulation, specify the <code>+cktpreset=dram</code> command-line option. The accuracy and performance can be optimized using the <code>+speed</code> option, which includes error tolerance definition for the simulator. For tuning error tolerance, it is important to first understand the accuracy requirement, and then choose the different values for the <code>+speed</code> option. Spectre XPS provides a complete set of simulation modes or high-level <code>+speed</code> settings that you specify at the command line to meet different requirements. These models are listed below in the order of increased accuracy.</p>

<p>
<a id="pgfId-1077697"></a></p>
<table class="webflareTable" id="#id1077639">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1077641">
<a id="pgfId-1077641"></a>Simulation Mode</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1077643">
<a id="pgfId-1077643"></a>Target Application</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1077645">
<a id="pgfId-1077645"></a>Spectre Command-Line Options</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1077647">
<a id="pgfId-1077647"></a>Note</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077649"></a>Spectre XPS</p>
<p>
<a id="pgfId-1077650"></a>(<code>speed=5</code>)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077652"></a>Functional Verification</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077654"></a><code>+xps</code></p>
<p>
<a id="pgfId-1077655"></a><code>+cktpreset=dram</code></p>
<p>
<a id="pgfId-1077656"></a><code>+speed=5</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077658"></a>Optimized for performance</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077660"></a>Spectre XPS </p>
<p>
<a id="pgfId-1077661"></a>(<code>speed=2</code>)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077663"></a>General timing and power simulation</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077665"></a><code>+xps</code></p>
<p>
<a id="pgfId-1077666"></a><code>+cktpreset=dram</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077668"></a>Can be used for general simulation</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077670"></a>Spectre XPS DRAM</p>
<p>
<a id="pgfId-1077671"></a>(<code>speed=1</code>)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077673"></a>Better accuracy for timing and power simulation</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077675"></a><code>+xps</code></p>
<p>
<a id="pgfId-1077676"></a><code>+cktpreset=dram</code></p>
<p>
<a id="pgfId-1077677"></a><code>+speed=1</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077679"></a>Provides better accuracy than the default mode with reasonable slow down</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077681"></a>Spectre XPS SPICE model for DRAM</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077683"></a>SPICE-level accuracy</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077685"></a>+xps=s</p>
<p>
<a id="pgfId-1077686"></a>+cktpreset=dram</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077688"></a>Uses the SPICE engine, but with optimization for RC in postlayout and provides better default trade-off accuracy/performance for DRAM applications. It targets the same accuracy level as the SPICE simulator, but with better performance and accuracy.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077690"></a>Spectre APS simulator</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077692"></a>Golden accuracy</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077694"></a>+aps</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077696"></a>By default, no simplification or RC reduction is performed. Use this option as accuracy reference, if the simulation can be finished within reasonable time.</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1077703"></a>You can use the following high-level options for different simulation modes:</p>

<p>
<a id="pgfId-1077775"></a></p>
<table class="webflareTable" id="#id1077704">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077706"></a>Modes</p>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077708"></a>XPS SPICE mode</p>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077710"></a>XPS DRAM <code>speed=1</code></p>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077712"></a>XPS DRAM <code>speed=2</code> (default)</p>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077714"></a>XPS DRAM <code>speed=5</code></p>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077716"></a>Solver</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077718"></a>SPICE</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077720"></a>FastSPICE</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077722"></a>FastSPICE</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077724"></a>FastSPICE</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077736"></a>sim_opt_model</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077738"></a><code>4</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077740"></a><code>2</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077742"></a><code>1</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077744"></a><code>1</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077746"></a>sim_opt_step_ratio</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077748"></a>NA</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077750"></a><code>0.5</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077752"></a><code>1</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077754"></a><code>2</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077756"></a>sim_opt_rcr_dram</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077758"></a>NA</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077760"></a><code>1</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077762"></a><code>2</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077764"></a><code>5</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077766"></a>sim_opt_fcap1</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077768"></a>NA</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077770"></a><code>1e-18</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077772"></a><code>1e-16</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1077774"></a><code>1e-16</code></p>
</td>
</tr>
</tbody></table>
<h3>
<a id="pgfId-1077776"></a>High Accuracy Mode</h3>

<p>
<a id="pgfId-1077777"></a>One of the targets of Spectre XPS, including the DRAM application, is to simplify the use model by reducing the tuning effort on a case-by-case basis. However, to maintain the flexibility of better accuracy/performance trade-off, you can use any of the following methods for a DRAM application:</p>
<ul><li>
<a id="pgfId-1077778"></a>Specify <code>+speed=1</code> at the Spectre command line, as shown below.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1077779">
<a id="pgfId-1077779"></a> spectre -64 +xps +cktpreset=dram +speed=1 +spice &#8230;</pre></li><li>
<a id="pgfId-1077780"></a>Specify the <code>cktpreset</code> and <code>speed</code> options in the netlist file, as shown below.<br />
<a id="pgfId-1077781"></a>Spectre format:<pre class="webflare-pre-block webflare-courier-new" id="#id1077782">
<a id="pgfId-1077782"></a>Opt options cktpreset=dram#1</pre>
<a id="pgfId-1077783"></a>SPICE format:<pre class="webflare-pre-block webflare-courier-new" id="#id1077784">
<a id="pgfId-1077784"></a>.options cktpreset=dram#1</pre></li></ul>












<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1077785"></a>Command-line options override the options specified in the netlist.</div>
<p>
<a id="pgfId-1077786"></a>The above methods improve Spectre XPS accuracy by providing:</p>
<ul><li>
<a id="pgfId-1077787"></a>Tighter error tolerance, especially for the lower voltage of power supply.</li><li>
<a id="pgfId-1077788"></a>Tighter time step control.</li><li>
<a id="pgfId-1077789"></a>Reduced threshold for coupling capacitor by splitting it from <code>1e-17 F</code> to <code>1e-18 F</code>. This threshold is defined using the <code>sim_opt_fcapl</code> option.</li><li>
<a id="pgfId-1077790"></a>Better accuracy for table model; however, it may increase memory consumption.</li></ul>




<h3>
<a id="pgfId-1077791"></a>Function Verification Mode</h3>

<p>
<a id="pgfId-1077792"></a>The default speed option is <code>+speed=2</code> for Spectre XPS DRAM application. It can be applied to general timing and power simulation. For function verification, the timing accuracy requirement may be relaxed using a reasonable range; however, you still need to keep the correct function. Spectre XPS provides the following two methods to define the function verification mode for DRAM simulation:</p>
<ul><li>
<a id="pgfId-1077793"></a>Specify <code>+speed=5</code> at the Spectre command line, as shown below.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1077794">
<a id="pgfId-1077794"></a> spectre -64 +xps +cktpreset=dram +speed=5 +spice &#8230;</pre></li><li>
<a id="pgfId-1080505"></a>Specify the <code>cktpreset</code> and <code>speed</code> options in the netlist file, as shown below.<br />
<a id="pgfId-1080506"></a>Spectre format:<pre class="webflare-pre-block webflare-courier-new" id="#id1080507">
<a id="pgfId-1080507"></a>Opt options cktpreset=dram#5</pre>
<a id="pgfId-1080508"></a>SPICE format:<pre class="webflare-pre-block webflare-courier-new" id="#id1077799">
<a id="pgfId-1077799"></a>.options cktpreset=dram#5</pre></li></ul>












<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1077800"></a>Command-line options override the options specified in the netlist.</div>

<h3>
<a id="pgfId-1077801"></a>Accuracy for Analog Block in DRAM Simulation</h3>

<p>
<a id="pgfId-1077802"></a>In DRAM applications, most of the elements are from the DRAM bank or the peripheral logic blocks. However, there may still be some sensitive analog blocks inside it. You can set the <code>sim_opt_one_part</code> and <code>sim_opt_analog</code> options locally on such analog blocks to obtain high accuracy. It is recommended to set these options on small blocks to minimize the performance impact. </p>
<p>
<a id="pgfId-1077806"></a>See <a href="spectrexps.html#44313">Options Related to Circuit Partitioning</a> for information on these options.</p>
<p>
<a id="pgfId-1077807"></a>Examples of local options for analog blocks in DRAM simulation </p>
<ul><li>
<a id="pgfId-1077808"></a><code>.option sim_opt_analog=7 subckt=[comparator SA]</code><br />
<a id="pgfId-1077809"></a>Use <code>sim_opt_analog=7</code> on comparator and sense amplifier for better accuracy, if required. </li><li>
<a id="pgfId-1077810"></a><code>.option sim_opt_analog=7 subckt=[bandgap chg_pump]</code><br />
<a id="pgfId-1077811"></a>Use <code>sim_opt_analog=7</code> on bandgap and charge pump for better accuracy. </li><li>
<a id="pgfId-1077812"></a><code>.option sim_opt_one_part=1 subckt=[vco delay_cell]</code><br />
<a id="pgfId-1077813"></a>Use <code>sim_opt_one_part=1</code> on oscillator or delay block for SPICE-like timing. </li><li>
<a id="pgfId-1080533"></a><code>.option sim_opt_circuit_detection=1</code><br />
<a id="pgfId-1080560"></a>There is no need to set the local scope.</li><li>
<a id="pgfId-1080605"></a><code>.option sim_opt_analog_rc_part_merge=1</code><br />
<a id="pgfId-1080648"></a>There is no need to set the local scope.</li></ul>










<h2>
<a id="pgfId-1077266"></a><a id="43686"></a>Spectre XPS Flash Simulation</h2>

<p>
<a id="pgfId-1078276"></a>Spectre XPS has been designed to significantly reduce the simulation time of flash memory designs. In addition, the target is to complete a fully extracted postlayout simulation on full chip design within acceptable accuracy degradation. </p>
<p>
<a id="pgfId-1078277"></a>For flash simulation, Spectre XPS supports a high performance/capacity FastSPICE mode (<code>+xps</code>), and an accurate SPICE mode for small blocks in a flash design. The <code>+speed</code> command-line option that is used in SRAM application is not supported for flash designs. </p>

<h3>
<a id="pgfId-1078278"></a>Adjusting Speed and Accuracy of Spectre XPS Flash <a id="flash_accuracy"></a>Memory Simulation </h3>

<p>
<a id="pgfId-1078280"></a>You can use two global options, <code>sim_opt_acc</code> and <code>sim_opt_analog</code>, to adjust the speed and accuracy settings of a Spectre XPS flash memory simulation.</p>
<p>
<a id="pgfId-1078281"></a>The <code>sim_opt_acc</code> option with possible values of 2, 4, and 8 can be used to get better speed and accuracy.</p>
<ul><li>
<a id="pgfId-1078282"></a><code>sim_opt_acc=2</code> can be set on larger logic blocks (&gt;10k devices) to get better performance.</li><li>
<a id="pgfId-1078283"></a><code>sim_opt_acc=4</code> can be set to get accurate power simulation or postlayout backannotation run.</li><li>
<a id="pgfId-1078284"></a><code>sim_opt_acc=8</code> can be set on smaller blocks (&lt;500 devices) to get better timing accuracy.</li></ul>


<p>
<a id="pgfId-1078285"></a>The <code>sim_opt_analog</code> option with possible values of 6 and 7 can be set on pump/regulator blocks to obtain high accuracy.</p>
<ul><li>
<a id="pgfId-1078286"></a><code>sim_opt_analog=6</code> can be set on charge pumps, regular blocks, or other sensitive analog blocks (500-10k devices) to obtain good accuracy. For example:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1078287">
<a id="pgfId-1078287"></a>.options sim_opt_analog=6 subckt=[myCP myReg]</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1078288">
<a id="pgfId-1078288"></a>.options sim_opt_analog=6 inst=[xiCP xiReg]</pre></li><li>
<a id="pgfId-1078289"></a><code>sim_opt_analog=7</code> is more conservative than value <code>6</code> and improves Spectre XPS accuracy further. However, it is targeted at smaller blocks to minimize the impact on performance. For example:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1078290">
<a id="pgfId-1078290"></a>.options sim_opt_analog=7 subckt=[myCP myReg]</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1078291">
<a id="pgfId-1078291"></a>.options sim_opt_analog=7 inst=[xiCP xiReg]</pre></li></ul>








<h3>
<a id="pgfId-1078292"></a>Starting a Spectre XPS Flash Memory Simulation</h3>

<p>
<a id="pgfId-1078293"></a>You can invoke Spectre XPS flash simulation in FastSPICE mode, as shown below.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1078294"></a> spectre +xps +cktpreset=flash input.scs &#8230;</pre>

<p>
<a id="pgfId-1078295"></a>For small block-level designs that require high accuracy tolerance, the default SPICE mode can be used. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1078296"></a> spectre +xps=s +cktpreset=flash input.scs &#8230;</pre>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1078297"></a>The SPICE mode is not recommended for medium-to-large blocks in a flash design. </div>
<p>
<a id="pgfId-1078298"></a>When using a SPICE runset, add the <code>+spice</code> option to ensure that netlist convention and device models are interpreted in a consistent manner as traditional SPICE, instead of Spectre. For large mixed-signal applications, it is recommended to use the 64-bit version of the tool with the <code>-64</code> command-line option.</p>
<p>
<a id="pgfId-1078299"></a>A configuration file may be used (<code>+config </code><span class="webflare-courier-new" style="white-space:pre"><em>file</em></span><code>.cfg</code>) to obtain optimized simulation results. All control options can be specified either in netlist file <code>input.scs</code> or the configuration file.</p>

<h3>
<a id="pgfId-1078300"></a>Flash Memory Postlayout Simulation</h3>

<p>
<a id="pgfId-1078301"></a>Spectre XPS is optimized to handle large postlayout flash memory designs. It annotates the DSPF/DPF/SPEF file back to the pre-layout netlist through parasitic backannotation options, as shown below.</p>
<p>
<a id="pgfId-1078302"></a>Spectre format:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1078303"></a>Opt1 options spf=&quot;scope filename&quot; </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1078304"></a>Opt2 options dpf=&quot;scope filename&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1078305"></a>Opt3 options spef=&quot;scope filename&quot;</pre>

<p>
<a id="pgfId-1078306"></a>SPICE format:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1078307"></a>.options spf=&quot;scope filename&quot; </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1078308"></a>.options dpf=&quot;scope filename&quot; </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1078309"></a>.options spef=&quot;scope filename&quot; </pre>

<p>
<a id="pgfId-1078310"></a>Here, <code>scope</code> can be a subcircuit or an instance.</p>
<p>
<a id="pgfId-1078311"></a>The Spectre XPS parasitic backannotation flow shares the same methodology and controls as Spectre APS. For more information on the parasitic backannotation related control options, such as <code>spfscale</code>, <code>spfxtorprefix</code>, and <code>spfaliasterm</code>, refer to <a href="chap13.html#38263">Chapter 16, &#8220;Postlayout Simulation,&#8221;</a>.</p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="spectrex.html" id="prev" title="The Spectre X Circuit Simulator">The Spectre X Circuit Simulato ...</a></em></b><b><em><a href="chap3.html" id="nex" title="SPICE Compatibility">SPICE Compatibility</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2020, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>