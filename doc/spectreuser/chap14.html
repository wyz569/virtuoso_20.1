
<html><head><title>Encryption</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="kamal" />
<meta name="CreateDate" content="2020-06-16" />
<meta name="CreateTime" content="1592307253" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the Spectre Circuit Simulator." />
<meta name="DocTitle" content="Spectre Classic Simulator, Spectre APS, Spectre X, and Spectre XPS User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Encryption" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.2" />
<meta name="Keyword" content="spectreuser" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2020-06-16" />
<meta name="ModifiedTime" content="1592307253" />
<meta name="NextFile" content="chap15.html" />
<meta name="Order" content="1" />
<meta name="Group" content="Spectre Simulator" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="chap13.html" />
<meta name="c_product" content="Spectre" />
<meta name="Product" content="Spectre" />
<meta name="ProductFamily" content="Spectre" />
<meta name="ProductVersion" content="19.1" />
<meta name="RightsManagement" content="Copyright 2012-2020 Cadence Design Systems Inc." />
<meta name="Title" content="Spectre Classic Simulator, Spectre APS, Spectre X, and Spectre XPS User Guide -- Encryption" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="Version" content="19.1" />
<meta name="SpaceKey" content="spectreuser191" />
<meta name="webflare-version" content="2.0" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="spectreuserTOC.html">Contents</a></li><li><a class="prev" href="chap13.html" title="Postlayout Simulation">Postlayout Simulation</a></li><li style="float: right;"><a class="viewPrint" href="spectreuser.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="chap15.html" title="Time-Saving Techniques">Time-Saving Techniques</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Spectre Classic Simulator, Spectre APS, Spectre X, and Spectre XPS User Guide<br />Product Version 19.1, June 2020</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>17
<a id="pgfId-1032955"></a></h1>
<h1>
<a id="pgfId-1033512"></a><hr />
Encryption<hr />
</h1>

<p>
<a id="pgfId-1037338"></a>En<a id="marker-1039285"></a>cryption allows you to protect your proprietary parameters, subcircuits, models, and netlists, and release your libraries to your customers without revealing sensitive information. Your customers can run simulations in the Spectre<sup>&#174;</sup> circuit simulator with the encrypted netlists &#8211; the Spectre circuit simulator does not print any data inside the encrypted blocks. Messages about the encrypted portions of your circuit are suppressed.</p>
<p>
<a id="pgfId-1036972"></a>You can encrypt netlists that are in the Spectre and Berkeley SPICE formats. </p>
<p>
<a id="pgfId-1037424"></a>You cannot use encryption if you are using the Spectre Compiled-Model Interface (CMI).</p>
<p>
<a id="pgfId-1036902"></a>This chapter covers the following topics:</p>
<ul><li>
<a id="pgfId-1036903"></a><a href="chap14.html#24001">&#8220;New key for Encryption&#8221;</a>.</li><li>
<a id="pgfId-1038886"></a><a href="chap14.html#99159">&#8220;Encrypting a Netlist&#8221;</a></li><li>
<a id="pgfId-1036985"></a><a href="chap14.html#57945">&#8220;Encrypted Information During Simulation&#8221;</a>.</li></ul>



<h2>
<a id="pgfId-1038912"></a><a id="24001"></a>New key for Encryption</h2>

<p>
<a id="pgfId-1038929"></a>Starting with the SPECTRE19.1 release, Spectre uses a new key (<code>k</code> <code>-4</code>) as default. You can use the <code>k-3</code> option to invoke the old key. The following table lists the usage of the key in the SPECTRE18.1 ISR8 and SPECTRE19.1 releases.</p>

<p>
<a id="pgfId-1038966"></a></p>
<table class="webflareTable" id="#id1042614">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<p>
<a id="pgfId-1038977"></a></p>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<p>
<a id="pgfId-1039029"></a><strong>Old Key</strong></p>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<p>
<a id="pgfId-1039031"></a><strong>New Key</strong></p>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1038981"></a><strong>SPECTRE18.1 ISR8</strong></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1038983"></a>default</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1039023"></a><code>k-4</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1038985"></a><strong>SPECTRE19.1</strong></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1038987"></a><code>k-3</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1039025"></a>default</p>
</td>
</tr>
</tbody></table>
<h2>
<a id="pgfId-1034532"></a><a id="99159"></a>Encrypting a <a id="marker-1042635"></a>Netlist</h2>

<p>
<a id="pgfId-1037160"></a>To encrypt a netlist,</p>
<ol><li>
<a id="pgfId-1037526"></a>Open the netlist you want to encrypt in a text editor.</li><li>
<a id="pgfId-1037528"></a>Type <code>PROTect</code> above the data you want to protect. The capital letters indicate the shortest legal abbreviation, so you achieve the same affect by typing prote or protec for example.</li><li>
<a id="pgfId-1037165"></a>Type <code>UNPROTect</code> after the last line of the data you want to protect. The capital letters indicate the shortest legal abbreviation, so you achieve the same affect by typing unprote or unprotec for example.<br />
<a id="pgfId-1038003"></a>You must use the <code>protect</code> and <code>unprotect</code> keywords in pairs. </li><li>
<a id="pgfId-1037166"></a>Save the netlist.</li><li>
<a id="pgfId-1037167"></a>In a terminal window, type<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1037168">
<a id="pgfId-1037168"></a>spectre_encrypt [-i <code><em>input_file</em></code>]<code><em> </em></code>[-o <code><em>output_file</em></code>] [-all] [-key 1|2|3|4]</pre>
<a id="pgfId-1037169"></a>where<br />
<a id="pgfId-1037847"></a><table class="webflareTable" id="#id1037834">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037836"></a><span class="webflare-courier-new" style="white-space:pre"><em>input_file</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037838"></a>The path and name of the netlist to be encrypted. If you do not specify the input file, the netlist from standard input is encrypted.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037840"></a><span class="webflare-courier-new" style="white-space:pre"><em>output_file</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-1037842"></a>The path and name of a file to hold the encrypted netlist. The extension that you use for <code>output_file</code> must be the same extension used on input_file.<br />If you do not specify the output file, the encrypted netlist is displayed as standard output in the terminal window. </p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037844"></a>-all</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-1037846"></a>Encrypts the entire netlist, ignoring the <code>protect</code> and <code>unprotect</code> keywords.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1039134"></a>-key</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-1039136"></a>By default, the netlist encrypted in SPECTRE19.1 release onwards cannot be decrypted using earlier versions. </p>

</td>
</tr>
</tbody></table></li></ol>













<p>
<a id="pgfId-1037851"></a>The Spectre circuit simulator uses the SSL CRYPTO library to encrypt your netlist. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1039190"></a><code>spectre_encrypt</code> does not require any license, however, it checks for the existence of any of the 32500, <em>Virtuoso_Multi_mode_Simulation</em>, <em>Virtuoso_Spectre</em>, <em>Virtuoso_Spectre_XL</em>, or <em>Virtuoso_Spectre_GXL</em> licenses. If any of these licenses is not available, it generates an error.</div>
<p>
<a id="pgfId-1037247"></a>The <code>protect</code> and <code>unprotect</code> keywords are replaced with <code>pragma</code> statements in the output netlist. The <code>pragma</code> statements contain important information about encryption such as the method used, the key name, and the beginning and end of the encrypted block. The Spectre circuit simulator uses this information while decrypting the netlist. Hence it is important that you do not modify any <code>pragma</code> statement or the encrypted text between the <code>pragma</code> statements in the output file.</p>

<div class="webflare-information-macro webflare-macro-video">
<a id="pgfId-1039321"></a>
To view a demonstration on encrypting a Spectre netlist, see <em><a actuate="user" class="URL" href="https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1Od0000007MVxREAW&amp;pageName=ArticleContent&amp;sq=005d0000001T3sVAAS_2016122020319656" show="replace" xml:link="simple">Protecting Proprietary Information in a Spectre Netlist</a></em> video.</div>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1039359"></a>Access to this video will depend on the availability of a web browser and a Cadence Online Support account.</div>

<h3>
<a id="pgfId-1037159"></a><a id="98876"></a>What You can Encrypt<a id="marker-1037553"></a></h3>

<p>
<a id="pgfId-1037567"></a>You can encrypt signals, netlist and subcircuit parameters, files, devices, and model cards. You can use multiple pairs of <code>protect</code>, <code>unprotect</code> to encrypt different portions of your netlist. The content inside the <code>protect</code>, <code>unprotect</code> block is encrypted and the content outside this block remains the same as the original netlist. </p>

<h4>
<a id="pgfId-1037569"></a>Encrypting a File</h4>

<p>
<a id="pgfId-1037570"></a>You can encrypt a file by adding <code>protect</code> at the beginning and <code>unprotect</code> at the end of the file. </p>

<h4>
<a id="pgfId-1034743"></a>Encrypting Sub<a id="marker-1039274"></a>circuits</h4>

<p>
<a id="pgfId-1034747"></a>As described in the following sections, you can encrypt an entire subcircuit, part of a subcircuit, or multiple subcircuit blocks.</p>

<h4><em>
<a id="pgfId-1034751"></a>Encrypting an Entire Subcircuit</em></h4>

<p>
<a id="pgfId-1034756"></a>To encrypt an entire subcircuit, place <code>protect</code> before the <code>subckt</code> and <code>unprotect</code> after the <code>ends</code> statement. This encrypts the subcircuit name as well as the I/O pins. Since the interfaces are not readable after encryption, Cadence recommends that you add some information on how the interface works outside the protected block so that your users can create Composer symbols for simulation.</p>
<p>
<a id="pgfId-1036604"></a>All flattened primitive devices expanded from a protected subcircuit are also protected.</p>
<p>
<a id="pgfId-1035001"></a><strong>Example</strong></p>

<p>
<a id="pgfId-1035692"></a></p>
<table class="webflareTable" id="#id1035693">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1035695">
<a id="pgfId-1035695"></a>Original Netlist</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1035697">
<a id="pgfId-1035697"></a>Encrypted Netlist</span>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1035743"></a>* subckt name :inv, I/O pins:2 </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1035744"></a>* parameters wi, le</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1035714"></a>protect</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1037666"></a>subckt inv out in </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1037667"></a>parameters wi=1u le=3u</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1035719"></a>mp1 mid in vd vd pmos w=wi l=le</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1035720"></a>mn1 mid in 0 0 nmos w=wi l=le</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1035721"></a>r1 mid out resistor r=2k</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1037685"></a>model pmos bsim3v3 type=p tnom=27.0 tox=2.9e-09</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1037686"></a>model nmos bsim3v3 type=n tnom=27.0 tox=2.8e-09</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1035724"></a>ends</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1035725"></a>unprotect</pre>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1042728"></a>* subckt name :inv, I/O pins:2</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1042729"></a>* parameters wi, le</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1042730"></a>//pragma protect begin_protected</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1042731"></a>//pragma protect data_method&#160;&#160; = AES</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1042732"></a>//pragma protect data_keyowner = Cadence Design Systems.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1042733"></a>//pragma protect data_keyname&#160;&#160;= CDS_KEY</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1042734"></a>//pragma protect data_keyversion = 4</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1042735"></a>//pragma protect data_block</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1042736"></a>fajdfejwrADFASDfdhfjadfahd</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1042737"></a>QERWfdjau77r42jagadfhjkuer</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1042738"></a>jdfejwrADFASDfdhfjad</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1042739"></a>jdfejwrADFASDfdhfjad</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1042740"></a>//pragma protect end_protected</pre>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1035815"></a>* open latch module</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1035816"></a>subckt latch q qbar clk d</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1035818"></a>...</pre>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1035829"></a>* open latch module</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1035830"></a>subckt latch q qbar clk d</pre>
<p>
<a id="pgfId-1035705"></a>...</p>
</td>
</tr>
</tbody></table>
<h4><em>
<a id="pgfId-1034767"></a>Encrypting a Subcircuit without Interfaces</em></h4>

<p>
<a id="pgfId-1034811"></a>To encrypt the contents of a subcircuit leaving its name and I/O pins public, place <code>protect</code> after <code>subckt</code> and <code>unprotect</code> before <code>ends</code>.</p>
<p>
<a id="pgfId-1034814"></a><strong>Example</strong></p>

<p>
<a id="pgfId-1035842"></a></p>
<table class="webflareTable" id="#id1035852">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1037223">
<a id="pgfId-1037223"></a>Original Netlist</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1037225">
<a id="pgfId-1037225"></a>Encrypted Netlist</span>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1035861"></a>subckt inv out in</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1038013"></a>protect</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1037694"></a>parameters wi=1u le=3u</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1037695"></a>mp1 mid in vd vd pmos w=wi l=le</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1037696"></a>mn1 mid in 0 0 nmos w=wi l=le</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1037697"></a>r1 mid out resistor r=2k</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1037698"></a>model pmos bsim3v3 type=p tnom=27.0 tox=2.9e-09</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1037699"></a>model nmos bsim3v3 type=n tnom=27.0 tox=2.8e-09</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1037700"></a>unprotect</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1037701"></a>ends</pre>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1042767"></a>subckt inv out in</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1042768"></a>//pragma protect begin_protected</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1042769"></a>//pragma protect data_method&#160;&#160; = AES</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1042770"></a>//pragma protect data_keyowner = Cadence Design Systems.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1042771"></a>//pragma protect data_keyname&#160;&#160;= CDS_KEY</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1042772"></a>//pragma protect data_keyversion = 4</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1042773"></a>//pragma protect data_block</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1042774"></a>fajdfejwrADFASDfdhfjadfahd</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1042775"></a>QERWfdjau77r42jagadfhjkuer</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1042776"></a>//pragma protect end_protected</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1042777"></a>ends</pre>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1035884"></a>* open latch module</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1035885"></a>subckt latch q qbar clk d</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1035887"></a>...</pre>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1035889"></a>* open latch module</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1035890"></a>subckt latch q qbar clk d</pre>
<p>
<a id="pgfId-1035892"></a>...</p>
</td>
</tr>
</tbody></table>
<h4><em>
<a id="pgfId-1034812"></a>Encrypting Portions of a Subcircuit or Multiple Subcircuits</em></h4>

<p>
<a id="pgfId-1034838"></a>You can use multiple pairs of <code>protect</code> and <code>unprotect</code> in a subcircuit to protect portions of it. See the example below.</p>
<p>
<a id="pgfId-1035031"></a><strong>Example</strong></p>

<p>
<a id="pgfId-1035944"></a></p>
<table class="webflareTable" id="#id1035949">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1037227">
<a id="pgfId-1037227"></a>Original Netlist</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1037229">
<a id="pgfId-1037229"></a>Encrypted Netlist</span>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1035989"></a>subckt inv out in </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1037715"></a>parameters wi=1u le=3u</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1037716"></a>protect</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1037717"></a>mp1 mid in vd vd pmos w=wi l=le</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1037718"></a>mn1 mid in 0 0 nmos w=wi l=le</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1037719"></a>unprotect</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1037720"></a>r1 mid out resistor r=2k</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1037721"></a>protect</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1037722"></a>model pmos bsim3v3 type=p tnom=27.0 tox=2.9e-09</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1037723"></a>model nmos bsim3v3 type=n tnom=27.0 tox=2.8e-09</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1037724"></a>unprotect</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1037725"></a>ends inv</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1037726"></a>...</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1035958"></a></pre>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1035997"></a>subckt inv out </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1035998"></a>parameters wi=1u le=3u</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1035999"></a>global vd</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1036793"></a>//pragma protect begin_protected</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1036794"></a>//pragma protect data_method&#160;&#160; = RC5</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1036795"></a>//pragma protect data_keyowner= Cadence Design Systems.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1037646"></a>//pragma protect data_keyname&#160;&#160;= CDS_KEY</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1036797"></a>//pragma protect data_block</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1036006"></a>QERWfdjau77r42jagadfhjkuer</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1035978"></a>//pragma protect end_protected</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1036011"></a>r1 mid out 2k</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1036015"></a>//pragma protect begin_protected</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1036022"></a>etu45j6jgfly5po765t8tnji5j5i76k</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1036023"></a>// pragma protect end_protected</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1036024"></a>ends inv</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1035979"></a>...</pre>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1037054"></a>If you have multiple subcircuits in your netlist, you can encrypt them by using multiple pairs of <code>protect</code> and <code>unprotect</code> as shown in the example above.</p>

<h4>
<a id="pgfId-1035633"></a><a id="marker-1037555"></a>Encrypting a Model Card</h4>

<p>
<a id="pgfId-1035637"></a>You can encrypt one or more model cards with a pair of <code>protect</code> and <code>unprotect</code> keywords. The keywords do not have to be within or outside the model card. Even if you encrypt only a portion of the model card, the entire model card is protected during simulation. In case there are no parameters within a protected block, the Spectre circuit simulator displays a warning message, but still encrypts the model card.</p>
<p>
<a id="pgfId-1036186"></a><strong>Example 1</strong></p>
<p>
<a id="pgfId-1036190"></a>In the following example, the encryption keywords are around the model card definition. The model name and all parameters are encrypted.</p>

<p>
<a id="pgfId-1036191"></a></p>
<table class="webflareTable" id="#id1036193">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1037231">
<a id="pgfId-1037231"></a>Original Netlist</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1037233">
<a id="pgfId-1037233"></a>Encrypted Netlist</span>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1036251"></a>* The 1st model name is pmos, type is p</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1036256"></a>* The 2nd model name is nmos, type is n</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1037740"></a>subckt inv out in </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1037741"></a>paramemters wi=lu le=3u</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1037742"></a>mp1 mid in vd vd pmos w=wi l-le</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1037743"></a>mn1 mid in 0 0 nmos w=wi l=le</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1037744"></a>ends inv</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1037745"></a>protect</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1037746"></a>model pmos bsim3v3 type=p tnom=27.0 tox=2.9e-09</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1037747"></a>model nmos bsim3v3 type=n tnom=27.0 tox=2.8e-09</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1036266"></a>unprotect</pre>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1042834"></a>* The 1st model name is pmos, type is p</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1042835"></a>* The 2nd model name is nmos, type is n</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1042836"></a>subckt inv out in</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1042837"></a>parameters wi=1u le=3u</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1042838"></a>mp1 mid in vd vd pmos w=wi l=le</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1042839"></a>mn1 mid in 0 0 nmos w=wi l=le</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1042840"></a>ends inv</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1042841"></a>//pragma protect begin_protected</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1042842"></a>//pragma protect data_method&#160;&#160; = AES</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1042843"></a>//pragma protect data_keyowner = Cadence Design Systems.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1042844"></a>//pragma protect data_keyname&#160;&#160;= CDS_KEY</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1042845"></a>//pragma protect data_keyversion = 4</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1042846"></a>//pragma protect data_block</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1042847"></a>QERWfdjau77r42jagadfhjkuer</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1042848"></a>//pragma protect end_protected</pre>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1036309"></a><strong>Example 2</strong></p>
<p>
<a id="pgfId-1036319"></a>In the following example, the <code>protect</code> keyword is within the model card definition, leaving a number of parameters outside the protection block. The model name and parameters outside the protection block remain public, but the whole model is protected for message and parameter output during simulation.</p>

<p>
<a id="pgfId-1036327"></a></p>
<table class="webflareTable" id="#id1036332">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1037235">
<a id="pgfId-1037235"></a>Original Netlist</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1037237">
<a id="pgfId-1037237"></a>Encrypted Netlist</span>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1037767"></a>model pmos bsim3v3 type=p tnom=27.0 tox=2.9e-09</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1036379"></a>protect</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1036380"></a>Nch=2.498E+17 Tox=27.0 tox=2.9e-09 Xj=1.00000E-07</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1036388"></a>+Lint=9.36e-8 Wint=1.47e-7</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1036392"></a>+Vth0=.6322 K1=.756 K2=-3.83e-2</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1036393"></a>+Dvt2=-9.17e-2 Nlx=3.52291E-08</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1036394"></a>Dwg=-6.0E-09 Dwb=-3.56E-09</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1036395"></a>+Cit=1.622527E-04 Cdsc=-2.147181E-05</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1036396"></a>unprotect</pre>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1042869"></a>model pmos bsim3v3 type=p tnom=27.0</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1042870"></a>tox=2.9e-09</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1042871"></a>//pragma protect begin_protected</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1042872"></a>//pragma protect data_method&#160;&#160; = AES</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1042873"></a>//pragma protect data_keyowner = Cadence Design Systems.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1042874"></a>//pragma protect data_keyname&#160;&#160;= CDS_KEY</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1042875"></a>//pragma protect data_keyversion = 4</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1042876"></a>//pragma protect data_block</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1042877"></a>fajdfejwrADFASDfdhfjadfahd</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1042878"></a>//pragma protect end_protected</pre>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-1036320"></a>Encrypting an Include File</h4>

<p>
<a id="pgfId-1036321"></a>If there is an include file in the encrypted portion of your netlist, you must encrypt it separately.</p>

<h2>
<a id="pgfId-1036942"></a><a id="57945"></a><a id="40784"></a>Encrypted Information During Simulation</h2>

<p>
<a id="pgfId-1037410"></a>When you simulate an encrypted netlist, all warnings, error messages, and <code>info</code> statements about the encrypted portions of your netlist are suppressed. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1041235"></a>Spectre cannot parse an encrypted file when C preprocessor (CPP) is enabled. Therefore, do not use the <em>-</em><code>E</code>, <code>-D</code>, and -<code>U</code> options in the file, since these options enable CPP. In addition, wildcards are not supported in CPP.</div>
<p>
<a id="pgfId-1041232"></a>The following sections describe how the Spectre circuit simulator handles the encrypted portions of your netlist.</p>

<h3>
<a id="pgfId-1036592"></a>Protected Device</h3>

<p>
<a id="pgfId-1036596"></a>A device is encrypted if any of the following conditions are met:</p>
<ul><li>
<a id="pgfId-1036597"></a>It is a primitive and inside a protected block.</li><li>
<a id="pgfId-1036601"></a>It is an instance of a subcircuit. The instance is not in a protected block, but the subcircuit is protected. Here is an example:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1036605">
<a id="pgfId-1036605"></a>X1 in out INV</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1036610">
<a id="pgfId-1036610"></a>subckt INV (in out)</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1036611">
<a id="pgfId-1036611"></a>protect</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1036612">
<a id="pgfId-1036612"></a>mp1 vdd in vdd pmos W=1.0e-6 L=1.0e-6</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1036613">
<a id="pgfId-1036613"></a>mn1 out in 0 0 nmos W=1.0e-6 L=1.0e-6</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1036614">
<a id="pgfId-1036614"></a>unprotect</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1036615">
<a id="pgfId-1036615"></a>ends INV</pre>
<a id="pgfId-1036616"></a>In the flattened netlist, devices X1/mp1 and X1/mn1 are protected.</li><li>
<a id="pgfId-1036606"></a>It is an instance of a subcircuit, and the instance is in a protected block. Whether the subcircuit is protected or not, all the flattened primitive devices from that hierarchical level are protected. An example is given below.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1036631">
<a id="pgfId-1036631"></a>protect</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1036638">
<a id="pgfId-1036638"></a>X1 in out INV</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1036639">
<a id="pgfId-1036639"></a>unprotect</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1036654">
<a id="pgfId-1036654"></a>subckt INV (in out)</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1036641">
<a id="pgfId-1036641"></a>mp1 vdd in vdd pmos W=1.0e-6 L=1.0e-6</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1036642">
<a id="pgfId-1036642"></a>mn1 out in 0 0 nmos W=1.0e-6 L=1.0e-6</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1036644">
<a id="pgfId-1036644"></a>ends INV</pre>
<a id="pgfId-1036663"></a>In the flattened netlist, devices <code>X1</code>/<code>mp1</code> and <code>X1</code>/<code>mn1</code> are protected.</li></ul>






















<p>
<a id="pgfId-1037795"></a>For a device meeting any of the above criteria, its name and instance parameters are protected. The instance parameters of a protected device cannot be modified through an <code>alter</code> statement, but the protected device can be replaced through an <code>altergroup</code> statement. Information about a protected device is filtered out in all analyses outputs.</p>
<p>
<a id="pgfId-1037796"></a>Encrypted devices are not included in the circuit inventory. </p>

<h3>
<a id="pgfId-1037791"></a>Protected Node</h3>

<p>
<a id="pgfId-1036677"></a>A node contained exclusively within a protected block is protected, and its name and value is not displayed in the output file. If you request an <code>ic</code> file or restart a simulation, protected nodes are displayed in encrypted format in the <code>ic</code>, checking point, and restart output files.</p>

<h3>
<a id="pgfId-1036678"></a>Protected Global and Netlist Parameters</h3>

<p>
<a id="pgfId-1036682"></a>Global and netlist parameters defined inside a protected block are encrypted. However, you can alter or sweep a protected parameter. All device instance and model parameters dependent on the altered parameter are updated even if the device or model is protected.</p>

<h3>
<a id="pgfId-1036683"></a>Protected Subcircuit Parameters</h3>

<p>
<a id="pgfId-1036684"></a>Subcircuit parameters are protected if they appear exclusively within a protected block. All devices or model cards that refer to encrypted parameters must be in a protected block to protect the parameter values. If protected parameters are referred to by an unprotected device or model card, the parameter values are printed in the info statements for this device or model card. </p>
<p>
<a id="pgfId-1037065"></a>You can alter or sweep a protected subcircuit parameter. All device instance and model parameters dependent on the altered parameter are updated even if the device or model is protected.</p>

<h3>
<a id="pgfId-1036723"></a>Protected Model Parameters</h3>

<p>
<a id="pgfId-1036724"></a>For a model card inside a protected block (where the <code>protect</code> keyword appears before the <code>model</code> statement), the model card and all model parameters are encrypted. If you place <code>protect</code> after the model definition and leave some parameters outside a protection block, only parameters inside the protection block are encrypted. During simulation, all parameters inside the model card are encrypted since encryption is done on the basis of the model card, not individual parameters. Warning messages and <em>info</em> statements for all model parameters and values of a protected model card are suppressed.</p>
<p>
<a id="pgfId-1037493"></a>Even if the model name is protected, you can instantiate primitives using that model. You cannot alter or sweep protected model parameters, but you can replace a protected model through an <code>altergroup</code> statement.</p>

<h3>
<a id="pgfId-1036738"></a>Multiple Name Spaces</h3>

<p>
<a id="pgfId-1036742"></a>Names of parameters, subcicuits, models, and devices that appear exclusively within protected blocks are encrypted. However, identical names appearing outside the protected blocks are bound to their encrypted counterparts. Hence, Cadence recommends that you give unique names to the parameters, subcircuits, models, and devices you want to protect.</p>

<h3>
<a id="pgfId-1037825"></a>Displaying Messages Ge<a id="show_encrypt_msgs"></a>nerated From an Encrypted Block</h3>

<p>
<a id="pgfId-1039632"></a>By default, messages generated from an encrypted block are not displayed in the Spectre log file. You can use the <code>simulator</code> <code>visible=messages</code> and <code>simulator visible=none </code>keywords to show or hide messages that are generated from an encrypted block. </p>
<p>
<a id="pgfId-1039937"></a>Consider the following example:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1039977"></a>simulator lang=spectre</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1039978"></a>parameters c1=1p c2=2p c10=c1+c2</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1039979"></a>parameters res=10k</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1039980"></a>protect</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1039981"></a>simulator visible=messages</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1039982"></a>r1 1 0 resistor r=res</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1039983"></a>simulator visible=none</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1039984"></a>c1 1 0 capacitor c=c10</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1039985"></a>unprotect</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1039986"></a>run dc</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1039987"></a>spectre2 options currents=all</pre>

<p>
<a id="pgfId-1039973"></a>In the above example, <code>r1</code> and <code>c1</code> are specified in a protected block and both have errors. However, because <code>r1</code> has been specified using the keyword <code>simulator</code> <code>visible=messsages</code>, the message related to <code>r1</code> will be displayed in the Spectre log file. On the other hand, the message related to <code>c1</code> will not be displayed in the log file because it has been specified using the keyword <code>simulator visible=none</code>.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1040861"></a>Currently, this feature is applicable only to SFE messages. </div>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="chap13.html" id="prev" title="Postlayout Simulation">Postlayout Simulation</a></em></b><b><em><a href="chap15.html" id="nex" title="Time-Saving Techniques">Time-Saving Techniques</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2020, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>