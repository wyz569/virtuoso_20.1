
<html><head><title>Working with the Calculator</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="urajput" />
<meta name="CreateDate" content="2020-09-20" />
<meta name="CreateTime" content="1600588008" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the Virtuoso Visualization and Analysis XL Tool." />
<meta name="DocTitle" content="Virtuoso Visualization and Analysis XL User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Working with the Calculator" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.2.1" />
<meta name="Keyword" content="vivaxlug" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2020-09-20" />
<meta name="ModifiedTime" content="1600588008" />
<meta name="NextFile" content="chap5.html" />
<meta name="Order" content="0" />
<meta name="Group" content="Virtuoso Visualization and Analysis XL" />
<meta name="Platform" content="Custom IC Design,Custom IC Design" />
<meta name="PrevFile" content="aapJ.html" />
<meta name="c_product" content="Spectre,Virtuoso Analog Design Environment" />
<meta name="Product" content="Spectre,Virtuoso Analog Design Environment" />
<meta name="ProductFamily" content="Spectre,Virtuoso Analog Design Environment" />
<meta name="ProductVersion" content="ICADVM20.1" />
<meta name="RightsManagement" content="Copyright 2012-2020 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Visualization and Analysis XL User Guide -- Working with the Calculator" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="ICADVM20.1" />
<meta name="SpaceKey" content="vivaxlugICADVM201" />
<meta name="webflare-version" content="2.0" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="vivaxlugTOC.html">Contents</a></li><li><a class="prev" href="aapJ.html" title="Working with Graphs">Working with Graphs</a></li><li style="float: right;"><a class="viewPrint" href="vivaxlug.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="chap5.html" title="Working with Virtuoso Visualization and Analysis XL Table">Working with Virtuoso Visualiz ...</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Visualization and Analysis XL User Guide<br />Product Version ICADVM20.1, October 2020</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>


<h1>4
<a id="pgfId-1121031"></a> </h1>

<h1>
<a id="pgfId-1121033"></a><hr />
<a id="22110"></a>Working with the Calculator<hr />
</h1>
<p>
<a id="pgfId-1121035"></a>The <a id="calc"></a>Virtuoso<sup>&#174;</sup> Visualizatiion and Analysis XL Calculator is a tool that you use to perform calculations on the data generated by a simulator. <a id="calculatorwindow"></a></p>
<p>
<a id="pgfId-1077075"></a>This chapter includes the following topics:</p>
<ul><li>
<a id="pgfId-1107653"></a><a href="chap4.html#41439">About the Calculator</a></li><li>
<a id="pgfId-1107911"></a><a href="chap4.html#55168">Using the Calculator Graphical User Interface (GUI)</a></li><li>
<a id="pgfId-1107921"></a><a href="chap4.html#33145">Working with Expressions</a></li><li>
<a id="pgfId-1107931"></a><a href="chap4.html#73233">Working with the Calculator in ADE</a></li></ul>




<h2>
<a id="pgfId-1031936"></a><a id="41439"></a>About the Calculator</h2>
<p>
<a id="pgfId-1099385"></a>Virtuoso Visualization and Analysis XL Calculator is a tool that you use to perform calculations on signals and datasets generated by a simulator. You can also use the Calculator to build expressions on simulation data and can save these expressions for future use. </p>

<p>
<a id="pgfId-1110016"></a></p>
<div class="webflare-div-image">
<img src="images/viva_calc.gif" /></div>
<p>
<a id="pgfId-1110017"></a>You can run the Calculator from Virtuoso Visualization and Analysis XL tool or from the Analog Design Environment (ADE). When you run the Calculator from Virtuoso Visualization and Analysis XL tool, you can open the Calculator in the SKILL mode. In both the modes, you use the Results Browser to access simulation results. The simulation results are the signals generated after the simulation is run in a simulation environment, such as ADE and Spectre. To analyze these signals for a particular condition set, you can build expressions in the Calculator and evaluate them. </p>
<p>
<a id="pgfId-1104983"></a>For example, if you want to calculate the difference between the output signal (Vout) and the input signal (Vin) for a simulation, you can build an expression Vout-Vin by using the Calculator. To build this expression, you can get the expressions for Vin and Vout using the Results Browser. </p>
<p>
<a id="pgfId-1110062"></a>However, if you are working in ADE and want to build expressions for the latest simulation run to analyze design specifications, you can open the Calculator directly from ADE. You then build the required expressions in the Calculator and import the expressions to ADE before you run the simulation. The expressions are evaluated immediately after you run the simulation. The generated output helps you to modify the simulation circuit.</p>
<p>
<a id="pgfId-1110073"></a>In ADE, you can use the Calculator to build expressions, which are then evaluated in ADE after the simulation is run. When you run the Calculator from Virtuoso Visualization and Analysis XL tool, you can use the Calculator to both build and evaluate expressions. </p>
<p>
<a id="pgfId-1110387"></a>When you run the Calculator from Virtuoso Visualization and Analysis XL tool, you work on signals, whereas when you run the Calculator from ADE, you typically work on schematic objects, such as nets and terminals. In addition, when you run the Calculator from ADE, you can open the Results Browser from the Calculator and work on the saved simulation results, if required. </p>
<p>
<a id="pgfId-1110388"></a>Calculator works in two modes&#8212;RPN Mode and Algebraic Mode. The two Calculator modes provide different sets of operations for building and evaluating expressions. The default Calculator type is set to RPN Mode.</p>
<p>
<a id="pgfId-1114259"></a>Calculator contains various dockable assistants, a menu bar, a Buffer, and toolbars that you can use to build and evaluate expressions. For more details about these GUI elements, see <a href="chap4.html#55168">Using the Calculator Graphical User Interface (GUI)</a>.</p>


<h3>
<a id="pgfId-1075006"></a><a id="38985"></a>Opening the Calculator Window<a id="marker-1075005"></a></h3>
<p>
<a id="pgfId-1091437"></a>This section describes the different methods that you can use to open the Calculator.</p>
<ul><li>
<a id="pgfId-1091438"></a><a href="chap4.html#14511">Opening the Calculator from Virtuoso Visualization and Analysis XL Tool</a><ul><li>
<a id="pgfId-1091804"></a><a href="chap4.html#91319">Opening the Calculator from Virtuoso Visualization and Analysis XL in SKILL Mode</a></li></ul></li><li>
<a id="pgfId-1113972"></a><a href="chap4.html#65640">Opening the Calculator from CIW in Stand-Alone Mode</a></li><li>
<a id="pgfId-1113713"></a><a href="chap4.html#55932">Opening the Calculator from ADE</a></li></ul>






<h4>
<a id="pgfId-1099011"></a><a id="14511"></a>Opening the Calculator from Virtuoso Visualization and Analysis XL Tool</h4>
<p>
<a id="pgfId-1099021"></a>Depending upon the simulation environment you are working in, you can open the Calculator in the SKILL mode from the Virtuoso Visualization and Analysis XL tool. When you run the Virtuoso Visualization and Analysis XL tool, the Results Browser appears. In the Results Browser, you select the saved simulation results on which you want to build and evaluate expressions.</p>

<h4><em>
<a id="pgfId-1110132"></a><a id="91319"></a>Opening the Calculator from Virtuoso Visualization and Analysis XL in SKILL Mode</em></h4>
<p>
<a id="pgfId-1110133"></a>Perform the following steps to open the Calculator from Virtuoso Visualization and Analysis XL in the SKILL mode:</p>


<ol><li>
<a id="pgfId-1110134"></a>Start the Virtuoso Visualization and Analysis XL tool by typing the following command in a terminal window:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1110140">
<a id="pgfId-1110140"></a>viva -expr skill &amp;</pre>
<a id="pgfId-1110554"></a>The Virtuoso Visualization and Analysis XL window appears. This window consists of Results Browser as an assistant.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1110555"></a>If you type only viva &amp; in the terminal window, the default mode is SKILL.</div></li><li>
<a id="pgfId-1110556"></a>In the Results Browser, select the required signal and do one of the following:<ul><li>
<a id="pgfId-1105421"></a>Right-click the signal and choose Calculator. </li><li>
<a id="pgfId-1113798"></a>Choose <em>Tools</em> &#8211; <em>Calculator</em>.</li></ul><br />
<a id="pgfId-1113800"></a>The Calculator window appears. The signal you have selected in the Results Browser appears in the Buffer. <br />
<a id="pgfId-1119122"></a>See <a href="chap4.html#56552">Selecting Signals and Waveforms to Build Expressions</a> to know how to select a signal in the Results Browser. <br />
<a id="pgfId-1119127"></a><div class="webflare-div-image">
<img width="576" height="700" src="images/chap4-3.gif" /></div></li></ol>





















<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1119128"></a>To verify which result data directory is currently in use, view the In Context Results DB field in the Calculator window.</div>




<h4>
<a id="pgfId-1114000"></a><a id="65640"></a>Opening the Calculator from CIW in Stand-Alone Mode </h4>
<p>
<a id="pgfId-1114001"></a>To open the Calculator in the stand-alone mode, perform the following:</p>

<ul><li>
<a id="pgfId-1114002"></a>In the CIW, choose Tools &#8211; Calculator.<br />
<a id="pgfId-1115336"></a>The Calculator window appears. Click the <img src="images/OpenIcon.gif" />
 button to open the Results Browser and select the signal for which you want to build expressions.</li></ul>




<h4>
<a id="pgfId-1115338"></a><a id="55932"></a>Opening the Calculator from ADE</h4>
<p>
<a id="pgfId-1099211"></a>The Calculator can be opened in ADE L or ADE XL to build expressions to analyze simulation output. For detailed information about how to open and work with the Calculator in ADE, see <a href="chap4.html#52519">Working with the Calculator in ADE</a>.</p>




<h2>
<a id="pgfId-1080958"></a><a id="55168"></a><a id="calculator"></a>Using the Calculator Graphical User Interface (GUI)</h2>
<p>
<a id="pgfId-1115626"></a>The Calculator graphical user interface (GUI) consists of various toolbars, a menu bar, a Buffer, a status bar, toolbars, and dockable assistants&#8212;Expression Editor, Function Panel, Stack, and Keypad&#8212; that you use to build and evaluate expressions. You can show, hide, move, and place the dockable assistants and toolbars anywhere inside or outside the main Calculator window. For example, by default, the Keypad is placed in the lower-right corner of the Calculator window. However, if required, you can drag the Keypad to place it next to the Buffer. When you perform drag-and-drop operations on assistants and toolbars, they are automatically positioned according to the available space.</p>
<p>
<a id="pgfId-1115874"></a>Choose File &#8211; Reset GUI anytime during the session to restore the default placement of toolbars and assistants. </p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1119154"></a>In the IC 6.1.5 release, the improved version of the Calculator helps you open more than one assistant simultaneously. </div>

<p>
<a id="pgfId-1119270"></a></p>
<div class="webflare-div-image">
<img width="666" height="817" src="images/chap4-5.gif" /></div>
<p>
<a id="pgfId-1119271"></a>This topic describes the following components of the Virtuoso Visualization and Analysis XL Calculator.</p>
<ul><li>
<a id="pgfId-1088776"></a><a href="chap4.html#62770">Menu Bar</a></li><li>
<a id="pgfId-1090859"></a><a href="chap4.html#22530">Toolbars</a></li><li>
<a id="pgfId-1114095"></a><a href="chap4.html#60861">Buffer</a></li><li>
<a id="pgfId-1090874"></a><a href="chap4.html#15715">Assistants</a></li></ul>




<h3>
<a id="pgfId-1089803"></a><a id="62770"></a>Menu <a id="menu"></a>Bar</h3>
<p>
<a id="pgfId-1089804"></a>The menu bar displays the various menus that contain commands for working with the Calculator.</p>

<p>
<a id="pgfId-1095210"></a></p>
<div class="webflare-div-image">
<img src="images/menubar.gif" /></div>
<p>
<a id="pgfId-1089920"></a>The table below lists a description of the various Calculator menus.</p>


<p>
<a id="pgfId-1090196"></a></p>
<table class="webflareTable" id="#id1089921">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1092552">
<a id="pgfId-1092552"></a>Menu Name </span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1092554">
<a id="pgfId-1092554"></a>Commands</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1092556">
<a id="pgfId-1092556"></a>Description</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1092558">
<a id="pgfId-1092558"></a>For More Information, See</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092560"></a><em>File</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092562"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092564"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092566"></a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092568"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092570"></a>Reset GUI</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092572"></a>Resets the Calculator GUI to default settings</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092574"></a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092576"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092578"></a><em>Close</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092580"></a>Closes the Calculator window</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092582"></a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092584"></a><em>Tools</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092586"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092588"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092590"></a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092592"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092594"></a><em>Plot</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092596"></a>Plots the signal in the selected graph window</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092600"></a><a href="aapJ.html#78672">Chapter 3, &#8220;Working with Graphs.&#8221;</a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092603"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092605"></a><em>Table</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092607"></a>Opens the Virtuoso Visualization and Analysis XL Table.</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092611"></a><a href="chap4.html#47830">Working with the Calculator in ADE</a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092614"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092616"></a><em>Browser</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092618"></a>Opens the Results Browser window if you want to work on the saved simulation data in ADE</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092620"></a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092622"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092624"></a>Send to ADE Outputs</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092626"></a>Displays the expression created in the Buffer on the ADE Explorer/Assembler Output Setup section</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092628"></a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092630"></a><em>View</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092632"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092634"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092636"></a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092638"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092640"></a><em>Display Results Dir</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092642"></a>Displays the In Context Results DB field on the Result Directory toolbar</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092644"></a><a href="chap4.html#24126">Results Toolbar</a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092646"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092648"></a>Show Keypad</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092650"></a>Displays the Keypad in the lower-right corner of the Calculator window</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092652"></a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092654"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092656"></a>Show Stack</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092658"></a>Displays the Stack assistant, which lists expressions that you pushed into the Stack assistant from the Expression Editor and Buffer assistants</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092660"></a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092662"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092664"></a>Math Toolbar</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092666"></a>Displays the Math toolbar that includes mathematical functions such as ln and exp</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092668"></a> </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092670"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092672"></a>Trig Toolbar</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092674"></a>Displays the Trigonometry toolbar that includes trigonometric functions such as sin and cos</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092676"></a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092678"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092680"></a>Custom Toolbar</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092682"></a>Displays the Custom toolbar that includes buttons to select the mode in which you want to display the output</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092686"></a><a href="chap4.html#89530">Custom Toolbar</a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092689"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092691"></a>Schematic Selection Toolbar</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092693"></a>Displays the Schematic Selection toolbar in ADE L and ADE XL</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092697"></a><a href="chap4.html#36215">Schematic Selection Toolbar</a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092700"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092702"></a>Configure Schematic Selection Toolbar</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092704"></a>Displays the Configure Schematic Selection toolbar form, in which you select the types of simulation analyses, such as tran, ac, dc, and so on. The function buttons for the selected simulation analyses are displayed on the Schematic Selection toolbar.</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092706"></a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092708"></a>Options</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092710"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092712"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092714"></a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092716"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092718"></a>Mode</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092720"></a>Sets the Calculator mode</p>
<p>
<a id="pgfId-1092721"></a><em>RPN Mode&#8212;</em>Sets the Calculator mode to RPN. Turning this option off changes the Calculator mode to Algebraic</p>
<p>
<a id="pgfId-1092722"></a><em>Algebraic Mode&#8212;</em>Sets the Calculator mode to algebraic. Turning this option off changes the Calculator mode to RPN</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092724"></a><a href="chap4.html#61158">Building Expressions in the Buffer</a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092726"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092728"></a>Notation</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1112860"></a>Specifies the notation type to be used for displaying data. You can specify one of the following three notation types:</p>
<p>
<a id="pgfId-1109624"></a>Engineering - Displays data by using the engineering notation</p>
<p>
<a id="pgfId-1109603"></a>Suffix - Displays data by using the suffix notation</p>
<p>
<a id="pgfId-1109604"></a>Scientific - Displays data by using the scientific notation</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092738"></a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092740"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092742"></a>Significant Digits</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092744"></a>Sets the number of significant digits for the results displayed in the table</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092748"></a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092751"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092753"></a>Edit color</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092755"></a>Sets the colors for the various types of Buffer contents, including Results Dir, DataSet name, Calc Function, Node names, Data Access Functions, Number, Brackets, Operators, and Strings</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092757"></a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092759"></a><em>Constants</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092761"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092763"></a>Displays a list of constants, such as boltzmann, charge, degPerRad, epp0, pi, twopi, and sqrt2. These constants are used while building expressions.</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092767"></a><a href="chap4.html#42527">Adding Constants to Expressions</a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092770"></a><em>Help</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092772"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092774"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092776"></a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092778"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092780"></a><em>Contents</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092782"></a>Displays the <em>Virtuoso Visualization and Analysis Tool User Guide</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092784"></a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092786"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092788"></a>Cadence Online Support</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092790"></a>Displays the Cadence customer support website in your default Web browser</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092792"></a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092794"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092796"></a>Online User Forum (cdnusers.org)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092798"></a>Displays the online users&#8217; forum website in your default Web browser</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092800"></a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092802"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092804"></a><em>Known Problems and Solutions</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092806"></a>Displays <em>Virtuoso Visualization and Analysis Tool Known Problems and Solutions</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092808"></a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092810"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092812"></a><em>What&#8217;s new</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092814"></a>Displays <em>Virtuoso Visualization and Analysis Tool What&#8217;s New</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092816"></a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092818"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092820"></a><em>About Visualization and Analysis</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092822"></a>Displays the version number of the Virtuoso Visualization and Analysis XL tool</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1092824"></a></p>
</td>
</tr>
</tbody></table>



<h3>
<a id="pgfId-1090209"></a><a id="22530"></a>Toolbars</h3>
<p>
<a id="pgfId-1090211"></a>Do one of the following to display the Calculator toolbars that are currently hidden:</p>

<ul><li>
<a id="pgfId-1109722"></a>From the <em>View</em> menu, choose the toolbar you want to display.</li><li>
<a id="pgfId-1109723"></a>Right-click any toolbar and choose the toolbar you want to display.</li></ul>



<p>
<a id="pgfId-1109724"></a>Calculator has the following toolbars:</p>
<ul><li>
<a id="pgfId-1091129"></a><a href="chap4.html#24126">Results Toolbar</a></li><li>
<a id="pgfId-1118745"></a><a href="chap4.html#19463">Test Toolbar</a></li><li>
<a id="pgfId-1119806"></a><a href="chap4.html#84806">Special Functions Toolbar</a></li><li>
<a id="pgfId-1119876"></a><a href="chap4.html#60507">Buffer</a></li><li>
<a id="pgfId-1119828"></a><a href="chap4.html#77623">Trig Toolbar</a></li><li>
<a id="pgfId-1119852"></a><a href="chap4.html#69248">Math Toolbar</a></li><li>
<a id="pgfId-1119902"></a><a href="chap4.html#89530">Custom Toolbar</a></li><li>
<a id="pgfId-1091137"></a><a href="chap4.html#59657">Favorites Toolbar</a></li><li>
<a id="pgfId-1119782"></a><a href="chap4.html#36215">Schematic Selection Toolbar</a></li><li>
<a id="pgfId-1123125"></a><a href="chap4.html#60394">Selection Toolbar</a></li><li>
<a id="pgfId-1123129"></a><a href="chap4.html#54185">Buffer and Stack Toolbar</a></li></ul>












<h4>
<a id="pgfId-1123133"></a><a id="test"></a><a id="24126"></a>Results T<a id="Results_toolbar"></a>oolbar</h4>
<p>
<a id="pgfId-1123072"></a>The Results toolbar displays the <em>In Context Results DB</em> field. </p>

<p>
<a id="pgfId-1123076"></a></p>
<div class="webflare-div-image">
<img src="images/In_context_db.gif" /></div>

<h4><em>
<a id="pgfId-1123078"></a><a id="results"></a>In Context Results DB</em></h4>
<p>
<a id="pgfId-1123079"></a>You build expressions using the data files stored in the results directory. A data file contains output signals that are generated after a simulation is run. </p>
<p>
<a id="pgfId-1123080"></a>The<em> In Context Results DB</em> drop-down list box contains the results directories that are currently open in the Results Browser. By default, the results directory that is set as in-context in the Results Browser is displayed on the top of the list. </p>
<p>
<a id="pgfId-1123081"></a>You may need to build expressions by using data from one results directory and evaluate the same expression against other results directories. In this case, you can directly open a new results directory from the Calculator by clicking the <img src="images/folder.gif" />
 (Open Results) button displayed on the right of the Results toolbar. When you click this button, the <em>Select Waveform Database</em> form appears. In this form, browse and select the results directory that you want to open. For more information about this form, see <a href="chap2.html#77963">Opening a Results Directory</a>. The results directory that you open from the Calculator becomes the in-context result directory in the Results Browser and Calculator. This new in-context results directory is now used to build or evaluate the expressions.</p>
<div class="webflare-information-macro webflare-macro-tip">
<a id="pgfId-1123088"></a>
Alternatively, you can also type the complete results directory path name in this field and press the <code>Enter</code> or the <code>Tab</code> key.</div>
<p>
<a id="pgfId-1123089"></a>When you change the in-context directory in the Results Browser, the <em>In Context Results DB</em> field on the Result toolbar displays the path of the changed in-context directory.</p>
<p>
<a id="pgfId-1123090"></a>It is recommended that you set the database context to the directory you want to use to build expressions because expressions created using any other result directory may result in an error when evaluated.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1123091"></a>The database context in the ADE L results toolbar does not change when you open a new in-context results directory from the Calculator. </div>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1122990"></a>
It is recommended that you set the database context to the directory you want to use to build expressions because expressions created using any other result directory may result in an error when evaluated.</div>
<p>
<a id="pgfId-1117789"></a>If you do not specify a database context directory, the results directory from which you select the first signal becomes the context results directory, and the directory path is displayed in the <em>In Context Results DB</em> field on the Result toolbar.</p>
<p>
<a id="pgfId-1117790"></a>You can open multiple results directories in the Results Browser, but the <em>In Context Results DB</em> field displays the path of the database context directory. For example, if the database context directory is set to the <code>psf</code> results directory, this field displays the following value:</p>
<p class="webflare-indent1">
<a id="pgfId-1117964"></a><code>/home/ashuv/psf</code></p>
<p>
<a id="pgfId-1117968"></a>Now, if you select a signal from the <code>psf</code> results directory, the corresponding expression in the Buffer does not include the results directory name.</p>
<p class="webflare-indent1">
<a id="pgfId-1117969"></a><code>v(I7.net7&#8221; ?result &#8220;tran)</code></p>
<p>
<a id="pgfId-1114838"></a>However, if you select a signal from a results directory that is not the database context directory, the corresponding expression in the Buffer includes the results directory name.</p>
<p class="webflare-indent1">
<a id="pgfId-1114898"></a><code>v(\\7.net7&#8221; ?result &#8220;tran&#8221; ?resultsDir &#8220;./viva_psf)</code></p>
<p class="webflare-indent1">
<a id="pgfId-1117649"></a>Here,<code> ?resultsDir &#8220;./viva_psf&#8221;</code> is the name of the results directory from which the signal is selected.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1117651"></a>If the Calculator is opened from ADE, the <em>In Context Results DB</em><em> value </em>is determined by the results directory currently selected in ADE. </div>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1122577"></a>
Starting IC6.1.5ISR3, when you create expressions, the expressions include alias name for the analysis to display the results directory name. For example, the expression <code>v(I7.net7&#8221; ?result &#8220;tran)</code>is now displayed as <code>v(I7.net7&#8221; ?result &#8220;tran)</code>.</div>




<h4>
<a id="pgfId-1122579"></a><a id="84806"></a>Special Functions Toolbar</h4>

<p>
<a id="pgfId-1119530"></a></p>
<div class="webflare-div-image">
<img src="images/Special_function.gif" /></div>
<p>
<a id="pgfId-1119531"></a>The Special Functions toolbar displays all special functions, such as <code>analog2digital</code>, <code>average</code> and <code>bandwidth</code>. By default, this toolbar is hidden and when you select to show the toolbar, it is displayed next to the Result toolbar. To view the complete list of functions, click the arrow button on the toolbar.</p>
<p>
<a id="pgfId-1119517"></a>The Function Panel displays the special functions by default. </p>



<h4>
<a id="pgfId-1119553"></a>RF Functions Toolbar</h4>
<p>
<a id="pgfId-1119554"></a>This toolbar displays the set of RF functions, such as <code>Rn</code>, that can be used while building expressions in the Buffer. This toolbar is hidden by default.</p>

<p>
<a id="pgfId-1119558"></a></p>
<div class="webflare-div-image">
<img src="images/RF_tb.gif" /></div>



<h4>
<a id="pgfId-1119594"></a><a id="trig"></a><a id="77623"></a>Trig Toolbar</h4>
<p>
<a id="pgfId-1119595"></a>This toolbar displays the set of trigonometric functions, such as acos, that can be used while building expressions in the Buffer.</p>

<p>
<a id="pgfId-1119599"></a></p>
<div class="webflare-div-image">
<img src="images/trig_tb.gif" /></div>
<p>
<a id="pgfId-1119575"></a>The Trig toolbar is hidden by default. You can set the <a href="appA.html#trig">trigToolBar</a> <code>.cdsenv</code> variable to hide or show the toolbar.</p>



<h4>
<a id="pgfId-1119625"></a><a id="69248"></a>Math Toolbar</h4>
<p>
<a id="pgfId-1119626"></a>This toolbar displays the set of mathematical functions, such as log, that can be used while building expressions in the Buffer. </p>

<p>
<a id="pgfId-1119630"></a></p>
<div class="webflare-div-image">
<img src="images/math_tb.gif" /></div>
<p>
<a id="pgfId-1119616"></a>The Math toolbar is hidden by default. You can set the <a href="appA.html#math">mathToolBar</a> <code>.cdsenv</code> variable to hide or show the toolbar.</p>



<h4>
<a id="pgfId-1119680"></a><a id="89530"></a>Custom Toolbar</h4>
<p>
<a id="pgfId-1119681"></a>This toolbar displays the modes in which the results generated by evaluating expressions can be plotted. With the Custom toolbar, you can also work on the expressions that are saved in Stack or Expression Editor. This toolbar is hidden by default.</p>

<p>
<a id="pgfId-1119685"></a></p>
<div class="webflare-div-image">
<img src="images/Custom_tb.gif" /></div>
<p>
<a id="pgfId-1119686"></a><em>app</em></p>
<p>
<a id="pgfId-1119687"></a>When you click this button, the Buffer contents are appended to the expression table in the Expression Editor. The Buffer is populated with the latest entry in the Stack. To plot or calculate an expression listed in the expression table, select the expression and click the <em>Eval </em>button.</p>
<p>
<a id="pgfId-1119688"></a><em>plot</em></p>
<p>
<a id="pgfId-1119689"></a>When you click this button, the expression in the Buffer is plotted in the append mode in the selected graph window.</p>
<p>
<a id="pgfId-1119690"></a>The <em>plot </em>command is also available in the <em>Tools</em> menu.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1119691"></a>This command overrides the option selected in the <em>plot destination</em> list box in the signal selection toolbar.</div>

<p>
<a id="pgfId-1119692"></a><em>erplot</em></p>
<p>
<a id="pgfId-1119693"></a>When you click this button, the Buffer contents are plotted in the selected graph in the replace mode.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1119671"></a>This button overrides the <em>plot destination </em>selected on the Selection toolbar.</div>




<h4>
<a id="pgfId-1106450"></a><a id="59657"></a>Favorites Toolbar</h4>
<p>
<a id="pgfId-1083068"></a>The Favorites toolbar displays the functions that are set as favorite functions in the Function Panel. By default, this toolbar is displayed next to the Custom toolbar and does not contain any function. You can add frequently used functions to this toolbar for quick access.</p>
<p>
<a id="pgfId-1086840"></a>To add a function to the Favorites toolbar:</p>

<ul><li>
<a id="pgfId-1121365"></a>Right-click the function in the Function Panel and choose <em>Add to Favorites</em>. </li></ul>
<p>
<a id="pgfId-1121366"></a>To delete a function from the Favorites toolbar:</p>


<ul><li>
<a id="pgfId-1121367"></a>Right-click the function in the Function Panel and choose <em>Delete From Favorites</em>.</li></ul>
<p>
<a id="pgfId-1127490"></a>When you add a function as a favorite, it is simultaneously added to the Favorites toolbar and to the <em>Favorites category </em>in the Function Panel.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1127510"></a>The functions you specify as favorite are saved in the <code>wsFavorite</code> file in the <code>cdssearch</code> path or in the<code>.cadence</code> directory available under your home directory. When you open a favorite function, the tool first checks this file in the <code>cdssearch</code> path, and if this it is not found, it checks the <code>.cadence</code> directory.</div>




<h4>
<a id="pgfId-1120149"></a><a id="19463"></a>Test Toolbar</h4>
<p>
<a id="pgfId-1120136"></a>The Test toolbar is available only when the Calculator is opened from ADE L or ADE XL. For more information, see <a href="chap4.html#53274">Test Toolbar</a>.</p>


<h4>
<a id="pgfId-1119722"></a><a id="schematic"></a><a id="36215"></a>Schematic Selection Toolbar</h4>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1119723"></a>The Schematic Selection toolbar is available only when the Calculator is opened from ADE L or ADE XL.</div>

<p>
<a id="pgfId-1119724"></a>This toolbar displays a set of function buttons, such as <em>vt</em> (voltage transient), that you can apply to schematic objects to build expressions. For more information about the Schematic Selection toolbar, see <a href="chap4.html#99113">Schematic Selection Toolbar</a>.</p>

<p>
<a id="pgfId-1119731"></a></p>
<div class="webflare-div-image">
<img src="images/Calc_sstb.gif" /></div>
<p>
<a id="pgfId-1122169"></a>Following are the four cases that describe how <em>vdc</em> and <em>vs</em> work based on the fields selected in the DC Analysis form in ADE L:</p>


<p>
<a id="pgfId-1122170"></a></p>
<div class="webflare-div-image">
<img src="images/dcAnalysis.gif" /></div>
<ul><li>
<a id="pgfId-1122171"></a>Case 1&#8212;When the <em>Save DC Operating Point</em> check box is selected and a Sweep Variable is set, <code>vdc(&quot;node_name&quot;)</code> returns the voltage of the DC operating point, which is a scalar value, and <code>vs(&quot;node_name&quot;)</code> returns a waveform of the DC sweep. </li><li>
<a id="pgfId-1122172"></a>Case 2 and 3&#8212;When the <em>Save DC Operating Point</em> check box is enabled or disabled and no variable is swept, <code>vs(&quot;node_name&quot;)</code> returns the voltage of the DC operating point, which is a scalar value, and <code>vdc(&quot;node_name&quot;)</code> also returns a scalar value.</li><li>
<a id="pgfId-1122173"></a>Case 4&#8212;When <em>Save DC Operating Point</em> check box is disabled and a Sweep Variable is set, <code>vdc(&quot;node_name&quot;)</code> returns a waveform of the DC sweep and <code>vs(&quot;node_name&quot;)</code> also returns a waveform.</li></ul>





<h4>
<a id="pgfId-1099756"></a><a id="60394"></a>Selection Toolbar</h4>
<p>
<a id="pgfId-1083096"></a>You can use the Selection toolbar to select a signal from the Results Browser or the graph window. The selected signal is displayed in the Buffer. You then use the tools available on the Selection toolbar to evaluate the selected signal and to define the simulation output format.</p>

<p>
<a id="pgfId-1095071"></a></p>
<div class="webflare-div-image">
<img src="images/Selection_tb.gif" /></div>
<p>
<a id="pgfId-1085636"></a>The Selection toolbar includes the following options:</p>

<h4><em>
<a id="pgfId-1090400"></a>Off</em></h4>
<p>
<a id="pgfId-1090401"></a>If selected, the Calculator does not import the following to the Buffer:</p>
<ul><li>
<a id="pgfId-1090402"></a>Signals selected in the Results Browser</li><li>
<a id="pgfId-1085565"></a>Nets selected in the schematic design</li><li>
<a id="pgfId-1085572"></a>Traces selected in the waveform graph window</li></ul>




<h4><em>
<a id="pgfId-1061996"></a>Family</em></h4>
<p>
<a id="pgfId-1061760"></a>If selected, it prompts you to select a signal from a parametric dataset in the Results Browser or a trace from a set of parametric leaf waveforms. This option is used to build expressions for the entire signal family.</p>


<h4><em>
<a id="pgfId-1061761"></a>Wave</em></h4>
<p>
<a id="pgfId-1075286"></a>If selected, it prompts you to select a signal in the Results Browser or a trace in the graph window. This option is used to build expressions for the selected trace.</p>


<h4><em>
<a id="pgfId-1075287"></a><em>Clip</em></em></h4>
<p>
<a id="pgfId-1075288"></a>If selected, the Calculator works on the visible x-axis range of the trace. When you plot the trace after selecting <em>Clip</em>, the graph window displays only the clipped part of the trace. If you want the Calculator to work on the complete trace, clear the <em>clip </em>check box before importing the signal to the Buffer.</p>
<p>
<a id="pgfId-1083713"></a>The <em>Clip </em>check box is selected by default. However, you can use the <code>clipSelectionMode</code> <code>.cdsenv</code> variable to change the default behavior of the check box.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1113001"></a>All these options are selected by default. However, you can set the <code>signalSelection</code> <code>.cdsenv</code> variable to disable the options.</div>

<p>
<a id="pgfId-1083717"></a><img src="images/EvaluateIcon.gif" />
 <em>Evaluate &amp; Plot Expression</em></p>
<p>
<a id="pgfId-1083718"></a>This button is used to evaluate the expression displayed in the Buffer. If the result is scalar, it is displayed in the Buffer. If the result is a waveform, it is plotted in the graph window.</p>
<p>
<a id="pgfId-1099684"></a><img src="images/Evaluate1Icon.gif" />
 <em>Send to Table</em></p>
<p>
<a id="pgfId-1099685"></a>This button is used to display the results of the evaluated expressions in a table. </p>
<p>
<a id="pgfId-1063792"></a><img src="images/DestinationIcon.gif" />
 <em>Plot Destination</em></p>
<p>
<a id="pgfId-1063804"></a>You can use this drop-down list box to specify the window used to plot the result. The list has the following destination options:</p>
<ul><li>
<a id="pgfId-1063807"></a><em>Append </em>&#8211; Adds the result to the selected graph window</li><li>
<a id="pgfId-1063808"></a><em>Replace</em> &#8211; Replaces the graph in the selected graph window (or subwindow) with the result</li><li>
<a id="pgfId-1063809"></a><em>New Subwindow</em> &#8211; Plots the result in a new subwindow in the selected graph window</li><li>
<a id="pgfId-1122023"></a><em>New Window </em>&#8211; Plots the result in a new graph window</li></ul>



<p>
<a id="pgfId-1122028"></a><img src="images/graph_type_icon.gif" />
 <strong>Graph Type</strong></p>
<p>
<a id="pgfId-1122038"></a>You can use this drop-down list box to specify the type of graph to be used to plot the result. The list has the following graph types available:</p>
<ul><li>
<a id="pgfId-1122045"></a><em>Rectangular</em></li><li>
<a id="pgfId-1122056"></a><em>Polar</em></li><li>
<a id="pgfId-1122063"></a><em>Impedance</em></li><li>
<a id="pgfId-1122070"></a><em>Admittance</em></li></ul>



<p>
<a id="pgfId-1121986"></a><img src="images/OpenIcon.gif" />
 <em>Open Browser </em></p>
<p>
<a id="pgfId-1119643"></a>You can use this button to reopen the Results Browser.</p>




<h4>
<a id="pgfId-1119662"></a><a id="54185"></a>Buffer and Stack Toolbar<a id="marker-1119661"></a></h4>
<p>
<a id="pgfId-1090958"></a>This toolbar contains the buttons that help to perform operations on the Buffer and Stack contents. By default this toolbar is displayed below the Buffer and next to the keypad. </p>
<p>
<a id="pgfId-1119461"></a>The table below describes all the toolbar buttons.</p>
<div class="webflare-div-image">
<img src="images/Buffer_tb.gif" /></div>

<p>
<a id="pgfId-1091048"></a></p>
<table class="webflareTable" id="#id1090960">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1090962">
<a id="pgfId-1090962"></a>Button</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1090964">
<a id="pgfId-1090964"></a>Description</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1090969"></a><img src="images/calcIcon1.gif" /></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1090971"></a>Displays the Stack assistant</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1090976"></a><img src="images/calcIcon2.gif" /></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1090978"></a>Pushes the Buffer contents into the Stack</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1090983"></a><img src="images/calcIcon3.gif" /></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1090985"></a>Swaps the Buffer contents and the first Stack item</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1090987"></a><img src="images/toolbar_icon.gif" /></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1090989"></a>Pops the selected Stack item and appends it to the Buffer contents</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1090994"></a><img src="images/calcIcon4.gif" /></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1090996"></a>Moves the Buffer contents to the bottom of the Stack and moves the first Stack item to the Buffer</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091001"></a><img src="images/calcIcon5.gif" /></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091003"></a>Moves the Buffer contents to the top of the Stack and moves the last Stack item to the Buffer</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091008"></a><img src="images/calcIcon7.gif" /></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091010"></a>Clears the Buffer</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091015"></a><img src="images/calcIcon15.gif" /></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091017"></a>Clears the Buffer and the Stack</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091033"></a><img src="images/toolbar_icon3.gif" /></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091035"></a>Adds the expression displayed in the Buffer to the Expression Editor</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091037"></a><img src="images/toolbar_icon4.gif" /></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091039"></a>Opens the Expression Editor</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091045"></a><img src="images/toolbar_icon2.gif" /></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1091047"></a>Displays the Function Panel</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119473"></a><img src="images/Buffer_undo.gif" /></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119475"></a>Undo the last command. The maximum number of commands that can be undone is 8, which is set by the <code>undoStackSize</code> <code>.cdsenv</code> variable.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119469"></a><img src="images/Buffer_redo.gif" /></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1119471"></a>Redo the last undo command.</p>
</td>
</tr>
</tbody></table>




<h3>
<a id="pgfId-1114249"></a><a id="60507"></a><a id="60861"></a>Bu<a id="CalcBuffer"></a>ffer<a id="marker-1114248"></a></h3>
<p>
<a id="pgfId-1114250"></a>The Buffer provides an area where you can create or edit expressions that are used to analyze the output data or signals generated after a simulation is run. Buffer is a fixed assistant and is displayed next to the Keypad. When you select a signal from the Results Browser, the signal appears in the Buffer. You can now use this signal to build an expression.</p>
<p>
<a id="pgfId-1114126"></a>While creating or editing expressions in the Buffer, you can use the Keypad, Stack, Function Panel, and Expression Editor assistants or use the keyboard.</p>
<p>
<a id="pgfId-1114131"></a>After you have created or evaluated the expressions, you can save the expressions by moving them from the Buffer to the Stack or Expression Editor. </p>
<ul><li>
<a id="pgfId-1118341"></a>To push the Buffer contents to the Stack, press <em>Enter </em>or select <img src="images/calcIcon2.gif" />
 on the Buffer and Stack toolbar. </li><li>
<a id="pgfId-1118342"></a>To move the Buffer contents to the Expression Editor, click the <img src="images/toolbar_icon3.gif" />
 button on the Buffer and Stack toolbar.</li></ul>

<p>
<a id="pgfId-1114141"></a>After you move the Buffer contents to the Stack or Expression Editor, the Buffer still displays those contents. When you provide a new input to the Buffer to build another expression, the Buffer displays the new entry. </p>
<p>
<a id="pgfId-1114142"></a>To delete a single character in the Buffer, press the <code>Backspace</code> or <code>Delete</code> key.</p>
<p>
<a id="pgfId-1122517"></a>If you want to edit an expression saved in the Stack, move the expressions to the Buffer. When you double-click an expression in the Stack, the expression is moved to the Buffer replacing the previous Buffer contents. You can also drag expressions from Stack or Expression Editor to the Buffer.</p>
<p>
<a id="pgfId-1122524"></a>Expressions saved in the Expression Editor are edited in the expression table. </p>
<p>
<a id="pgfId-1114144"></a>The Buffer supports the following features:</p>
<ul><li>
<a id="pgfId-1114148"></a><a href="chap4.html#72018">Function Names Auto-Completion</a></li><li>
<a id="pgfId-1114152"></a><a href="chap4.html#42898">Multiline Expressions</a></li><li>
<a id="pgfId-1114156"></a><a href="chap4.html#40545">Color Coding</a></li><li>
<a id="pgfId-1114160"></a><a href="chap4.html#99681">Dependent Expressions</a></li><li>
<a id="pgfId-1114164"></a><a href="chap4.html#22631">Incomplete Parentheses, Quotation Marks, and Expressions</a></li></ul>





<h4><em>
<a id="pgfId-1114166"></a><a id="72018"></a>Function Names Auto-Completion </em></h4>
<p>
<a id="pgfId-1114167"></a>The Buffer supports auto-completion of function names. When you type the first three letters of a function name in the Buffer, all function names starting with these letters are displayed. You select the required function to complete the function name.</p>
<p>
<a id="pgfId-1114168"></a>To display a list of functions starting with a particular letter, type the letter in the Buffer and press Ctrl+E from the keyboard. </p>


<h4><em>
<a id="pgfId-1114170"></a><a id="42898"></a>Multiline Expressions</em></h4>
<p>
<a id="pgfId-1114171"></a>Long expressions that cannot fit in one line in the Buffer can be created as multiline expressions. To create multiline expressions, place the insertion point before the character where you want to start a new line and press Alt+Enter from the keyboard.</p>
<p>
<a id="pgfId-1114172"></a>Multiline expressions are moved to the Stack or Expression Editor as a single expression. They are saved and maintained in multiple lines but are treated as a single expression when run.</p>


<h4><em>
<a id="pgfId-1114174"></a><a id="40545"></a>Color Coding </em></h4>
<p>
<a id="pgfId-1114175"></a>To differentiate between the various parts of an expression in the Buffer, you can specify different display colors for different parts of the expression, such as results directory, dataset names, functions, node names, data access functions, numbers, brackets, operators, and strings. </p>


<ol><li>
<a id="pgfId-1114176"></a>To set the Buffer color coding, click Options &#8211; Edit Buffer Color.<br />
<a id="pgfId-1114177"></a>The Select Color form appears. <br />
<a id="pgfId-1114182"></a><div class="webflare-div-image">
<img src="images/buffercolor.gif" /></div></li><li>
<a id="pgfId-1114183"></a>Select the category for which you want to set the color.</li><li>
<a id="pgfId-1114184"></a>Click the color button on the right to display the available color set.</li><li>
<a id="pgfId-1114185"></a>Click the ellipses (...) button to expand the color set.</li><li>
<a id="pgfId-1114186"></a>Select the required color.</li><li>
<a id="pgfId-1114187"></a>Click Apply.</li></ol>



















<p>
<a id="pgfId-1114188"></a>If you do not specify the color settings, the expression is displayed in the default color set. </p>

<h4><em>
<a id="pgfId-1114190"></a><a id="99681"></a>Dependent Expressions</em></h4>
<p>
<a id="pgfId-1114191"></a>Dependent expressions are the expressions that contain more than one expression. For example, E2=4+E1, where E1=2+3. In this case E2 is a dependent expression because to evaluate the value of E2, you first need to calculate expression E1. </p>
<p>
<a id="pgfId-1114192"></a>You can create dependent expressions using the Buffer and can store them in the expression table in the Expression Editor. </p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1114193"></a>To avoid errors, ensure that all expressions required to calculate a dependent expression exist in the expression.</div>

<p>
<a id="pgfId-1114196"></a>For more information about how to work with dependent expressions, see <a href="chap4.html#90097">Building Dependent Expressions</a>.</p>


<h4><em>
<a id="pgfId-1114199"></a><a id="22631"></a>Incomplete Parentheses, Quotation Marks, and Expressions</em></h4>
<p>
<a id="pgfId-1114201"></a>When you build an expression in the Buffer, the Calculator checks for missing parentheses, incomplete quotation marks, and incomplete expressions. For example, when you type the opening (left) parenthesis, it is highlighted in red to indicate that it needs to be closed. After you type the closing (right) parenthesis, the parenthesis pair is highlighted in green or in a color that you have configured for parentheses. If you do not correctly close a pair of parenthesis, the Buffer considers the expression as incomplete. </p>
<p>
<a id="pgfId-1114483"></a>Similarly, expressions that do not contain the closing quotation mark are also considered incomplete, and the entire string after the opening quotation mark, including the quotation mark, is displayed in red. In addition, expressions ending with an operator are also considered incomplete.</p>
<p>
<a id="pgfId-1114453"></a>You cannot push incomplete expressions to the Stack or Expression Editor. If you press Enter to move the incomplete expression in the Buffer to the Stack, the insertion point is placed in the next line in the Buffer assuming that you are building a multiline expression.</p>
<p>
<a id="pgfId-1114204"></a>To check if all parenthesis pairs in an expression are complete, place the insertion point after each opening parenthesis and observe the color of the highlight&#8212;if the pair is complete, it is highlighted in green.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1120700"></a>While an expression is being built in the Buffer, the Buffer background color is set to light gray. This indicates that the expression in the Buffer is not yet complete and cannot be moved to the Stack. After the expression is complete, the background color changes to the default color.</div>

<div class="webflare-information-macro webflare-macro-video">
<a id="pgfId-1120701"></a>
The <a actuate="user" class="URL" href="../vivaxlug/avSrc/CalculatorBuffer.html" show="replace" xml:link="simple">Using Calculator Buffer - New Features </a>video demonstrates the new features of the Calculator Buffer.</div>





<h3>
<a id="pgfId-1091196"></a><a id="15715"></a>Assistants</h3>
<p>
<a id="pgfId-1091201"></a>Calculator contains the following assistants, which help in building and evaluating expressions:</p>
<ul><li>
<a id="pgfId-1091245"></a><a href="chap4.html#62304">Stack</a></li><li>
<a id="pgfId-1091255"></a><a href="chap4.html#84727">Function Panel</a></li><li>
<a id="pgfId-1091275"></a><a href="chap4.html#35093">Expression Editor</a></li><li>
<a id="pgfId-1091285"></a><a href="chap4.html#66776">Keypad</a></li><li>
<a id="pgfId-1091295"></a><a href="chap4.html#38875">Status Bar</a></li></ul>





<h4>
<a id="pgfId-1095442"></a><a id="62304"></a><a id="buffer"></a>Stack </h4>
<p>
<a id="pgfId-1095149"></a>Stack is an area where you can store the expressions created in the Buffer. </p>

<p>
<a id="pgfId-1100553"></a></p>
<div class="webflare-div-image">
<img src="images/stack.gif" /></div>
<p>
<a id="pgfId-1118514"></a>The table below describes the buttons available to the left of the Stack window.</p>


<p>
<a id="pgfId-1118548"></a></p>
<table class="webflareTable" id="#id1118515">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1118517">
<a id="pgfId-1118517"></a>Button</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1118519">
<a id="pgfId-1118519"></a>Description</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1118524"></a><img src="images/stack1.gif" /></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1118526"></a>Moves the selected item(s) up in the Stack.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1118531"></a><img src="images/stack2.gif" /></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1118533"></a>Moves the selected item to the Buffer. Alternatively, you can double-click the selected Stack item to move it to the Buffer.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1118538"></a><img src="images/stack3.gif" /></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1118540"></a>Deletes the selected item(s) from the Stack. Alternatively, you can also use the Delete key to delete the Stack items.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1118545"></a><img src="images/stack4.gif" /></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1118547"></a>Moves the selected item(s) down in the Stack.</p>
</td>
</tr>
</tbody></table>

<h4><em>
<a id="pgfId-1118549"></a>Pushing Expressions onto the Stack</em></h4>
<p>
<a id="pgfId-1110834"></a>After you make an entry into the Buffer, you can move the contents to the Stack. To push the current expression onto the Stack click the Enter key or the <img src="images/calcIcon2.gif" />
 button.</p>


<h4><em>
<a id="pgfId-1110839"></a>Displaying the Stack </em></h4>
<p>
<a id="pgfId-1103757"></a>Click <img src="images/calcIcon1.gif" />
 on the Buffer and Stack toolbar to show or hide the Stack.</p>


<h4><em>
<a id="pgfId-1103659"></a>Clearing Stack and Buffer</em></h4>
<p>
<a id="pgfId-1110877"></a>There are several ways to clear the Buffer and Stack:</p>
<ul><li>
<a id="pgfId-1110878"></a>To remove an item from the Stack without deleting the item from the Buffer, press the Delete Key.</li><li>
<a id="pgfId-1110882"></a>To clear the Buffer without deleting the item from the Stack, click the <img src="images/calcIcon7.gif" />
 button.</li><li>
<a id="pgfId-1103670"></a>To delete an item from both the Buffer and the Stack, click the <img src="images/calcIcon15.gif" />
 button.</li></ul>


<p>
<a id="pgfId-1103594"></a>For more information about the buttons that help you perform Stack and Buffer operations, see the <a href="chap4.html#54185">Buffer and Stack Toolbar</a>.</p>
<p>
<a id="pgfId-1067543"></a>The <code>showStack</code> <code>.cdsenv</code> variable determines whether the Stack is displayed by default.</p>
<p>
<a id="pgfId-1110893"></a>The default number of items stored in the Stack is 8. However, you can set the <code>StackSize</code> <code>.cdsenv</code> variable to define the Stack size. <a id="stackbar"></a></p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1110895"></a>To differentiate between items in the Stack, alternate Stack rows are coded in different colors. </div>





<h4>
<a id="pgfId-1085991"></a><a id="math"></a><a id="84727"></a><a id="destination"></a><a id="function"></a><a id="69345"></a>Function Panel</h4>
<p>
<a id="pgfId-1085992"></a>This assistant displays a list of functions. The functions displayed are determined by the function category selected in the Function Panel drop-down list box. </p>

<p>
<a id="pgfId-1094999"></a></p>
<div class="webflare-div-image">
<img src="images/FP.gif" /></div>

<h4><em>
<a id="pgfId-1101486"></a>Function Categories in the SKILL Mode</em></h4>
<p>
<a id="pgfId-1101488"></a>The following table lists the function categories available in the SKILL mode.</p>



<p>
<a id="pgfId-1101541"></a></p>
<table class="webflareTable" id="#id1101489">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1101491">
<a id="pgfId-1101491"></a>Category</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1101493">
<a id="pgfId-1101493"></a>Functions Available</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1101495"></a>All</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1101497"></a>Displays all the available functions, except for the user-defined functions</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1101499"></a>Favorites</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1101501"></a>Displays the functions that you specify as favorites. To add a function to the Favorites list, right-click the required function in the Function Panel and choose <em>Add to Favorites.</em></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1101503"></a>Math</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1101505"></a>1/x, 10**x, abs, dB10, dB20, exp, int, ln, log10, sqrt, x**2, and y**x</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1101507"></a>Modifier</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1101509"></a>db10, db20, imag, mag, phase, real, phaseDeg, phaseDegUnwrapped, phaseRad, phaseRadUnwrapped, and conjugate</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1101511"></a>RF Functions</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1101513"></a>Rn, b1f, ga, gac_freq, gac_gain, gmax, gmin, gmsg, gp, gpc_freq, gpc_gain, gt, gumx, kf, loadStability, nc_freq, nc_gain, nf, nfmin, rn, s11, s12, s21, s22, and sourceStability</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1101515"></a>Special Functions</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1102237"></a>average, bandwitdth, clip, compare, compression, compressionVRI, convolve, cross, dBm, delay, deriv, dft, dftbb, dnl, dutyCyle, evmQAM, evmQpsk, eyeDiagram, falltime, flip, fourEval, freq, freq_jitter, frequency, gainBwProd, gainMargin, getAsciiWave, getData, groupDelay, harmonic, harmonicFreq, histogram2D, iinteg, integ, intersect, ipn, ipnVRI, lshift, overshoot, peak, peakToPeak, period_jitter, phaseMargin, phaseNoise,pow, psd, psdbb, pzbode, pzfilter, riseTime, rms, rmsNoise, root, rshift, sample, settlingTime, slewRate, spectralPower, stddev, tangent, thd, unityGainFreq, value, xmax, xmin, xval, ymax, and ymin</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1121890"></a>Spectre RF Functions</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1121892"></a>ifreq, ih, it, pir, pmNoise, pn, pvi, pvr, spm, totalNoise, vf, vh, vt, ypm, and zpm</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1101519"></a>Trigonometric</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1101521"></a>acos, acosh, asin, asinh, atan, atanh, cos, cosh, sin, sinh, tan, and tanh</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1101523"></a>AWD Programmed Keys</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1101525"></a>f1, f2, f3, f4, rf1, rf2, rf3, rf4, rf5, rf6, rf7, and rf8</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1101527"></a>SKILL User Defined Functions</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1101529"></a>Includes the functions you define. For more information, see <a href="appG.html#51291">Appendix E, &#8220;Defining New SKILL Functions,&#8221;</a>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1101538"></a>Expressions</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1101540"></a>Displays the Expression Editor where you can save and build expressions. For more information, see<a href="chap4.html#35093">Expression Editor</a>.</p>
</td>
</tr>
</tbody></table>
<p>
<a id="pgfId-1101545"></a>For more information about the listed above, see <a href="appD.html#44786">Appendix B, &#8220;Calculator Functions.&#8221;</a></p>
<p>
<a id="pgfId-1101546"></a>The category displayed by default in the Function Panel is <em>Special Functions. You</em> can change the default category by using the <code>defaultCategory</code> <code>.cdsenv</code> variable. </p>

<h4><em>
<a id="pgfId-1101573"></a><a id="36533"></a>Using Functions in the Function Panel</em></h4>
<p>
<a id="pgfId-1101478"></a>The Function Panel has two types of functions:</p>

<ol><li>
<a id="pgfId-1100643"></a>Single parameter Function</li><li>
<a id="pgfId-1100644"></a>Multi-parameter Function</li></ol>


<p>
<a id="pgfId-1100789"></a>If you select a single-parameter function, it can be applied directly to the Buffer contents. For example, average is a single parameter function. When you select this function, it is displayed in the Buffer and the Buffer contents become the function arguments.</p>



<p>
<a id="pgfId-1100793"></a></p>
<div class="webflare-div-image">
<img src="images/single_parameter_function.gif" /></div>
<p>
<a id="pgfId-1100786"></a>If you select a multi-parameter function, the parameter panel for the function appears.</p>
<p>
<a id="pgfId-1100843"></a>For example, if you select the multi-parameter function, <code>slewRate</code>, the various parameters that the function requires appear in the parameter panel, grouped under the function name as shown in the figure below. You can now specify the various parameter values. By default, the parameters contain the values that are set as defaults for that function. </p>


<p>
<a id="pgfId-1100847"></a></p>
<div class="webflare-div-image">
<img src="images/FP_example.gif" /></div>
<p>
<a id="pgfId-1095493"></a>The <em>Signal</em> drop-down list maintains a record of all previously selected signals in the current session. It also includes Buffer as one of the options. If you select <em>Buffer</em>, the Buffer contents are displayed as the <em>Signal</em> parameter value. </p>
<p>
<a id="pgfId-1093795"></a>The default number of signals stored in the drop-down list is <em>8</em>. However, you can set the <code>signalHistorySize</code> <code>.cdsenv</code> variable to change the number of signals stored.</p>
<p>
<a id="pgfId-1101438"></a>After you specify the parameter values for the selected function, you can do one of the following:</p>


<p>
<a id="pgfId-1101464"></a></p>
<table class="webflareTable" id="#id1101439">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1101441">
<a id="pgfId-1101441"></a>Action</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1101443">
<a id="pgfId-1101443"></a>Description</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1101445"></a>Click OK</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1101447"></a>Creates the expression, adds the expression to the Buffer, and again displays the list of functions in the Function Panel</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1101449"></a>Click Apply</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1101451"></a>Creates the expression, adds the expression to the Buffer, and keeps the parameter list for the same function open</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1101453"></a><em>Click Defaults</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1101455"></a>Discards the changes that you have made and resets the parameters to the default values</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1101457"></a>Click Close</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1101459"></a>Closes the parameter panel and displays the list of functions in the Function Panel</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1101461"></a><em>Click Help</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1101463"></a>Displays more information about the selected function</p>
</td>
</tr>
</tbody></table>

<h4><em>
<a id="pgfId-1097827"></a><a id="filter"></a><a id="63362"></a>Searching for a Function</em></h4>
<p>
<a id="pgfId-1073008"></a>You can use the Search field in the Function Panel to search for any function. </p>
<p>
<a id="pgfId-1101645"></a>The function search supports category-based search. For example, if you select Math in the function category drop-down list and search for a specific function, the search is run only on the Math category. To search for a function all the categories, select All. </p>
<p>
<a id="pgfId-1117718"></a>The function search also supports regular-expressions-based search, for example, you can specify a to search for the function names that contain the letter a or A and specify ^a to search for function names that begin with the letter a. </p>
<p>
<a id="pgfId-1117272"></a>To view the online help for a function, right-click the required function in the Function Panel and choose Help.</p>




<h4>
<a id="pgfId-1117274"></a><a id="35093"></a>Expression Editor</h4>
<p>
<a id="pgfId-1117297"></a>You can move expressions from the Buffer or Stack assistants to the Expression Editor and can store them for future use. The Expression Editor stores expressions in an expression table.</p>
<div class="webflare-div-image">
<img width="599" height="208" src="images/chap4-54.gif" /></div>
<p>
<a id="pgfId-1094132"></a>To open the Expression Editor, do the following:</p>

<ul><li>
<a id="pgfId-1094133"></a>Click the <img width="31" height="31" src="images/chap4-55.gif" />
 button on the Buffer and Stack toolbar.</li></ul>
<p>
<a id="pgfId-1111069"></a>The following table describes the buttons available in the Expression Editor.</p>
<table class="webflareTable" id="#id1134192">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1111073">
<a id="pgfId-1111073"></a>Button</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1111075">
<a id="pgfId-1111075"></a>Description</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1111077"></a><img src="images/toolbar_icon3.gif" /></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1111079"></a>Adds the expression created in the Buffer to the Expression Editor</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1111081"></a><img src="images/EE_icon.gif" /></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1111083"></a>Deletes the selected expressions from the expression table</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1133630"></a><code>EP</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1133632"></a>Copies the expression selected in the expression table to the Buffer</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1111085"></a><img src="images/memory_icon3.gif" /></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1111087"></a>Copies the name of the expression selected in the expression table to the Buffer</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1111093"></a><img src="images/memory_icon1.gif" /></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1111095"></a>Saves the expressions selected in the Expression Editor to a file</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1111097"></a><img src="images/memory_icon2.gif" /></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1111099"></a>Restores expressions from a file</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1111101"></a>Eval</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1111103"></a>Evaluates the expression selected in the expression table. </p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1111126"></a>To cancel the evaluation, press Ctrl+C</div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1133739"></a><img width="35" height="30" src="images/chap4-61.gif" /></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1133741"></a>Evalu<a id="sendToTableEE"></a>ates the expressions selected in the expression table and displays the results in the Virtuoso Visualization and Analysis XL Table.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1133735"></a><img width="35" height="30" src="images/chap4-62.gif" /></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1133737"></a>Sends the expressions selected in the expression table to the Outputs table in ADE Assembler or ADE Explorer.</p>
</td>
</tr>
</tbody></table>

<h4><em>
<a id="pgfId-1104765"></a>Adding Expressions to the Expression Editor</em></h4>
<p>
<a id="pgfId-1104766"></a>To add an expression to the Expression Editor, do one of the following:</p>
<ul><li>
<a id="pgfId-1120024"></a>From the Buffer. click the <img src="images/toolbar_icon3.gif" />
 command on the Buffer and Stack toolbar.</li><li>
<a id="pgfId-1120025"></a>From the Stack, select the required expression and click the expr+ command on the left to move the selected expression to the Expression Editor.<br />
<a id="pgfId-1119988"></a><div class="webflare-div-image">
<img width="495" height="188" src="images/chap4-64.gif" /></div></li></ul>







<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1119989"></a>You can also drag expressions from the Stack to the Expression Editor. </div>

<p>
<a id="pgfId-1117309"></a>When you add an expression to the expression table, the Expression Editor associates a name (signal alias) with the expression&#8212;the default expression names are E1, E2, and E3, and so on. If required, you can modify the default expression names. Expression names support alphanumeric values and the first letter of an expression name must be an alphabet.</p>
<p>
<a id="pgfId-1122110"></a>In Expression Editor, you can also plot circular graphs by selecting the required circular graph type from the <em>Graph Type</em> drop-down list on the Selection toolbar.</p>

<h4><em>
<a id="pgfId-1104694"></a>Editing Expressions in the Expression Editor</em></h4>
<p>
<a id="pgfId-1104695"></a>To edit an expression in the Expression Editor, double-click the row you want to edit.</p>


<h4><em>
<a id="pgfId-1104697"></a>Deleting Expressions<a id="marker-1104696"></a> from the Expression Editor</em></h4>
<p>
<a id="pgfId-1104698"></a>To delete an expression from the Expression Editor, select the expression you want to delete by selecting the check box associated with the expression and click the <img src="images/e-icon.gif" />
 button or press the Delete key.</p>
<p>
<a id="pgfId-1104429"></a>For more information about how to work with expressions in the Expression Editor, see <a href="chap4.html#32567">Working with Expressions</a>. </p>


<h4><em>
<a id="pgfId-1124102"></a>Sorting Ex<a id="sortExp"></a>pressions in the Expression Editor </em></h4>
<p>
<a id="pgfId-1124995"></a>You can sort the expressions listed in Expression Editor based on the expression names or text. To sort the expressions in increasing or decreasing order, click the arrow symbol displayed with each column heading in the expression table.</p>



<p>
<a id="pgfId-1124996"></a></p>
<div class="webflare-div-image">
<img width="645" height="179" src="images/chap4-66.gif" /></div>



<h4>
<a id="pgfId-1124999"></a><a id="keypad"></a><a id="66776"></a>Keypad</h4>
<p>
<a id="pgfId-1106183"></a>The Keypad contains buttons for numbers and simple arithmetic functions. If you define any function buttons, they too are displayed on the Keypad. </p>

<p>
<a id="pgfId-1106187"></a></p>
<div class="webflare-div-image">
<img src="images/keypad.gif" /></div>
<p>
<a id="pgfId-1122388"></a>To define a function button and associate a function with it, type the following command in the CIW:</p>
<p>
<a id="pgfId-1122389"></a>userButton=envSetVal(&#8220;viva.calculator&#8221; &#8220;userButtonX&#8221; &#8216;string &#8220;button_name;function_name&#8221;)</p>
<p>
<a id="pgfId-1101858"></a>Here, </p>
<p>
<a id="pgfId-1111320"></a>userButtonX defines button number that you want to map to a function. You can define a maximum of 12 function buttons. Therefore, the value of X can be a number from 1 through 12</p>
<p>
<a id="pgfId-1101889"></a>button_name is the name of the function button that you want to display on the Keypad.</p>
<p>
<a id="pgfId-1101896"></a>function_name is the name of the function that you want to associate with the button.</p>
<p>
<a id="pgfId-1098670"></a>For example, if you want to display the average function on the Keypad with the button name MyAvg, in the CIW type:</p>
<p>
<a id="pgfId-1098677"></a>userButton=envSetVal(&#8220;viva.calculator&#8221; &#8220;userButton1&#8221; &#8216;string &#8220;MyAvg;average)</p>
<p>
<a id="pgfId-1098606"></a>The defined function button is displayed on the Keypad. &#160;&#160;&#160;&#160; </p>
<p>
<a id="pgfId-1115124"></a>The Keypad is displayed by default. You can change the default behavior by using the <code>showKeypad</code> <code>.cdsenv</code> variable. &#160;&#160;&#160;&#160;                                                            </p>



<h4>
<a id="pgfId-1115128"></a><a id="38875"></a>Status <a id="marker-1115127"></a>Bar</h4>
<p>
<a id="pgfId-1094070"></a>The status bar displays the status of the action performed in the Calculator window. It also displays warning and error messages. An example is shown in the figure below.</p>

<p>
<a id="pgfId-1094074"></a></p>
<div class="webflare-div-image">
<img src="images/cal16.gif" /></div>




<h3>
<a id="pgfId-1111388"></a>Setting <a id="76608"></a>Calculator GUI Using .cdsenv Variables</h3>
<p>
<a id="pgfId-1111390"></a>The variables in the <code>.cdsenv</code> file determine the default behavior of the Calculator. Thereafter, the local defaults override the <code>.cdsenv</code> variables if <h-hot><a href="appA.html#gui">usePreviousGuiSettings</a></h-hot> <code>.cdsenv</code> is set to true:</p>
<p>
<a id="pgfId-1087617"></a>Following are the environment variables that you use to define the settings for Calculator assistants:</p>
<ul><li>
<a id="pgfId-1067373"></a><a href="appA.html#showkeypad">showKeyPad</a></li><li>
<a id="pgfId-1067375"></a><a href="appA.html#showstack">showStack</a></li><li>
<a id="pgfId-1067376"></a><a href="appA.html#rpn">rpnMode</a></li><li>
<a id="pgfId-1067377"></a><a actuate="user" class="URL" href="../vivaxlug/appA.html#clipSelecM" show="replace" xml:link="simple">clipSelectionMode</a></li><li>
<a id="pgfId-1067378"></a><a href="appA.html#sig">signalSelection</a></li><li>
<a id="pgfId-1067379"></a><a href="appA.html#auto">plotStyle</a></li><li>
<a id="pgfId-1067380"></a><a href="appA.html#category">defaultCategory</a></li><li>
<a id="pgfId-1067381"></a><a href="appA.html#math">mathToolBar</a></li><li>
<a id="pgfId-1067382"></a><a href="appA.html#trig">TrigToolBar</a></li><li>
<a id="pgfId-1067383"></a><a href="appA.html#schematictoolbar">schematicToolBar</a></li><li>
<a id="pgfId-1067839"></a><a href="appA.html#schematicanalysis">schematicAnalyses</a></li><li>
<a id="pgfId-1067384"></a><a href="appA.html#userbutton">userButton</a></li><li>
<a id="pgfId-1067386"></a><a href="appA.html#xlocation">xLocation</a></li><li>
<a id="pgfId-1067385"></a><a href="appA.html#ylocation">yLocation</a></li><li>
<a id="pgfId-1067387"></a><a href="appA.html#width">width</a></li><li>
<a id="pgfId-1067388"></a><a href="appA.html#height">height</a></li></ul>
















<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1067374"></a>If <code>usePreviousGuiSettings</code> is set to false, the <code>.cshrc</code> settings override the local defaults.</div>




<h2>
<a id="pgfId-1076267"></a><a id="33145"></a><a id="32567"></a>Working with Expressions</h2>
<p>
<a id="pgfId-1103324"></a>You can build expressions in the Calculator in the RPN and algebraic modes. After the expressions are created, you can edit, save, load, or delete them using the Expression Editor, Stack, and Buffer.</p>
<p>
<a id="pgfId-1103325"></a>This section contains the following topics which explain how you can work with expressions:</p>
<ul><li>
<a id="pgfId-1103329"></a><a href="chap4.html#56552">Selecting Signals and Waveforms to Build Expressions</a></li><li>
<a id="pgfId-1123978"></a><a href="chap4.html#61158">Building Expressions in the Buffer</a></li><li>
<a id="pgfId-1123979"></a><a href="chap4.html#59258">Editing an Expression in Buffer</a></li><li>
<a id="pgfId-1123983"></a><a href="chap4.html#90097">Building Dependent Expressions</a></li><li>
<a id="pgfId-1107674"></a><a href="chap4.html#12392">Saving Expressions</a></li><li>
<a id="pgfId-1107685"></a><a href="chap4.html#35042">Dragging Expressions across Buffer and Assistants</a></li><li>
<a id="pgfId-1107800"></a><a href="chap4.html#30785">Loading Expressions from an Expression File</a></li><li>
<a id="pgfId-1107811"></a><a href="chap4.html#90599">Evaluating and Plotting Expressions</a></li><li>
<a id="pgfId-1126489"></a><a href="chap4.html#81840">Creating Custom Calculator Functions</a></li><li>
<a id="pgfId-1107822"></a><a href="chap4.html#47830">Working with the Calculator in ADE</a></li></ul>










<h3>
<a id="pgfId-1103142"></a><a id="56552"></a>Selecting Signals and <a id="marker-1103141"></a>Waveforms to Build Expressions</h3>
<p>
<a id="pgfId-1103143"></a>To build and evaluate an expression, you need to select a signal in the Results Browser or in the graph window. This section describes the following two ways that you can use to select signals:</p>
<ul><li>
<a id="pgfId-1103147"></a><a href="chap4.html#33412">Selecting Signals from the Results Browser</a></li><li>
<a id="pgfId-1103151"></a><a href="chap4.html#46360">Selecting Traces from the Graph Window</a></li></ul>


<h4>
<a id="pgfId-1103158"></a><a id="marker-1103156"></a><a id="33412"></a>Selecting Signals from the Results Browser</h4>

<ol><li>
<a id="pgfId-1103159"></a>Ensure that the <em>Family, which is a</em> set of parametric leaf waveforms, or <em>Wave </em>option on the Selection toolbar is selected.</li><li>
<a id="pgfId-1103160"></a>Choose <em>Tools</em> &#8211; <em>Browser</em>.<br />
<a id="pgfId-1103161"></a>The Results Browser window appears.</li><li>
<a id="pgfId-1103162"></a>In the left panel of the Results Browser, double-click the required results directory.<br />
<a id="pgfId-1103163"></a>The associated datasets appear in the list view to the right.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1103167"></a>You can double-click the directory to expand (display the subdirectories) or collapse (hide the subdirectories) it.</div></li><li>
<a id="pgfId-1103168"></a>Double-click the required dataset. <br />
<a id="pgfId-1111415"></a>The associated signals are displayed.</li><li>
<a id="pgfId-1111416"></a>Right-click the required signal and choose Calculator.<br />
<a id="pgfId-1111417"></a>The signal is displayed in the Buffer along with the dataset name. For example:<br />
<a id="pgfId-1103935"></a><code>v(&quot;vin&quot; ?result &quot;tran&quot;)</code><br />
<a id="pgfId-1103936"></a>Here, vin is the name of the signal.<br />
<a id="pgfId-1103938"></a>?result &#8220;tran is the dataset from which the signal is selected. This tran dataset contains the signals generated during the transient analysis of a simulation. </li></ol>






















<p>
<a id="pgfId-1118089"></a>When you send a signal from the Results Browser to the Calculator, the selected signal is displayed in the Buffer. Now, when you send another signal from the Results Browser to the Calculator, the previous signal is pushed onto the stack and the new signal is displayed in the Buffer. </p>
<p>
<a id="pgfId-1118610"></a>When you select multiple signals in the Result Browser and send them to the Calculator window, the recently selected signal is displayed in the Buffer and all other signals are pushed to the Stack.</p>


<p>
<a id="pgfId-1118090"></a></p>
<div class="webflare-div-image">
<img src="images/Results_Browser.gif" /></div>
<p>
<a id="pgfId-1118154"></a>For example, if you select three signals in the order&#8212;<code>net9, net12</code>, and <code>out</code>&#8212; in the Results Browser (as shown in the figure), the signal <code>out</code><em> </em>is displayed in the buffer and the signals <code>net9</code> and <code>net12</code> are pushed to the stack.</p>



<h4>
<a id="pgfId-1118093"></a><a id="marker-1118091"></a><a id="46360"></a>Selecting Traces from the Graph Window</h4>
<p>
<a id="pgfId-1103178"></a>Perform the following steps to select a trace:</p>

<ol><li>
<a id="pgfId-1103179"></a>Ensure that the<em> Wave </em>option on the Selection toolbar is selected.</li><li>
<a id="pgfId-1103180"></a>In the graph window, select the trace for the signal you want to add to the Calculator. By default, the Calculator works on the visible X-axis range of a zoomed-in trace. If you want the Calculator to work on the complete trace, deselect the <em>clip </em>check box before importing the signal to the Buffer.<br />
<a id="pgfId-1103181"></a>An expression for the selected trace appears in the Buffer. <ul><li>
<a id="pgfId-1103182"></a>If the selected trace is a leaf parametric waveform, an expression for the leaf is added to the Buffer.</li><li>
<a id="pgfId-1105010"></a>In the ADE, if the selected trace is the result of an evaluated expression, the SKILL function name for that trace is displayed in the Buffer.</li></ul></li></ol>









<p>
<a id="pgfId-1111443"></a>To select a family of traces:</p>



<ol><li>
<a id="pgfId-1111444"></a>Ensure that the <em>Family </em>option on the Selection toolbar is selected.</li><li>
<a id="pgfId-1111445"></a>In the graph window, select a parametric trace.<br />
<a id="pgfId-1103187"></a>An expression for the parametric family appears in the Buffer.</li></ol>








<h3>
<a id="pgfId-1104143"></a><a id="61158"></a>Building Expressions in the Buffer</h3>
<p>
<a id="pgfId-1105306"></a>You can build expression in the Calculator in the following two modes:</p>
<ul><li>
<a id="pgfId-1105313"></a>RPN Mode</li><li>
<a id="pgfId-1105329"></a>Algebraic Mode</li></ul>

<p>
<a id="pgfId-1105336"></a>To set the Calculator to work in RPN or Algebraic mode, choose Options &#8211; Mode &#8211; RPN Mode/Algebraic Mode.</p>
<p>
<a id="pgfId-1075786"></a>This section describes how to build expressions in the RPN and Algebraic modes, how to use functions from the Function Panel while building expressions, and how to add constants or design variables to the expressions.</p>
<ul><li>
<a id="pgfId-1094358"></a><a href="chap4.html#78791">Building Expressions in the RPN Mode</a></li><li>
<a id="pgfId-1094376"></a><a href="chap4.html#73480">Building Expressions in the Algebraic Mode</a></li><li>
<a id="pgfId-1094387"></a><a href="chap4.html#57285">Examples of Building Expressions</a></li><li>
<a id="pgfId-1105359"></a><a href="chap4.html#42527">Adding Constants to Expressions</a></li><li>
<a id="pgfId-1107721"></a><a href="chap4.html#72964">Adding Design Variables to the Buffer</a></li></ul>





<h4>
<a id="pgfId-1105362"></a><a id="78791"></a>Building Expressions in the RPN Mode<a id="marker-1105361"></a></h4>
<p>
<a id="pgfId-1105364"></a>RPN is the default Calculator mode, which can also be set by using the <h-hot><a href="appA.html#rpn">rpnMode</a></h-hot> <code>.cdsenv</code> variable.</p>
<p>
<a id="pgfId-1111491"></a>In the RPN mode, you write expressions without using parenthesis to define priorities for evaluating operators. </p>
<p>
<a id="pgfId-1111492"></a>To understand this better, consider the following expression:</p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1054886"></a>(3 + 5) * (7 - 2)</pre>
<p>
<a id="pgfId-1071740"></a>In this expression, the parentheses tell you to first add 3 to 5, then subtract 2 from 7, and finally multiply the two results. In the RPN mode, you list the numbers and operators one after the other to form a stack, instead of using parentheses. For example, the above expression is written as follows in the RPN mode:</p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1054889"></a>3 5 + 7 2 - *</pre>
<p>
<a id="pgfId-1111542"></a>To build this expression, you perform the following Buffer and Stack operations:</p>

<ol><li>
<a id="pgfId-1111543"></a>Add 3 to the Buffer and press Enter to push it to the Stack. </li><li>
<a id="pgfId-1111544"></a>Add 5 to the Buffer. </li><li>
<a id="pgfId-1095584"></a>Apply the + operation. This pops the topmost item, 3, from the Stack and moves it to the Buffer. The Buffer now has the following expression: 3+5. Now when you press any key from the keypad, this expression is pushed to the Stack.</li><li>
<a id="pgfId-1054894"></a>Add 7 to the Buffer and push it to the Stack. The Stack contains: 7, 3+5</li><li>
<a id="pgfId-1054895"></a>Add 2 to the Buffer. </li><li>
<a id="pgfId-1054896"></a>Apply the - operation. This pops the topmost item, 7, from the Stack and moves it to the Buffer. The Buffer now contains the expression: 7-2.</li><li>
<a id="pgfId-1114618"></a>Apply the * operation. This pops the topmost item, 3+5, from the Stack and moves it to the Buffer and the following expression is created in the Buffer: (3+5)*(7-2).<br /><div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1120401"></a>
In the RPN mode, if the Buffer contains a complete expression and you click a number button on the Keypad, the expression is pushed to the Stack. However, if you press any key from the keyboard, the character associated with the key is appended to the expression in the Buffer.</div></li></ol>




















<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1120402"></a>It is must to add parenthesis to the expression that you want to fetch from the Buffer.</div>




<h4>
<a id="pgfId-1120398"></a><a id="73480"></a>Building Expressions in the Algebraic Mode<a id="marker-1120397"></a></h4>
<p>
<a id="pgfId-1097080"></a>To change the Calculator mode to algebraic, choose Options &#8211; <em>Algebraic Mode</em>.</p>
<p>
<a id="pgfId-1111553"></a>In the Algebraic mode you build expressions from left to right. When you click an operator or a function, the operator or function is added to the Buffer to the right of the cursor. </p>
<p>
<a id="pgfId-1111554"></a>To build an expression in the Algebraic mode:</p>

<ol><li>
<a id="pgfId-1111555"></a>Ensure that the <em>Wave </em>button on the Selection toolbar is selected.</li><li>
<a id="pgfId-1055059"></a>Select a signal. For more information, see <a href="chap4.html#56552">Selecting Signals and Waveforms to Build Expressions</a></li><li>
<a id="pgfId-1065209"></a>Click the function you want to use.<ul><li>
<a id="pgfId-1065210"></a>If you select a single-parameter function, it appears in the Buffer.</li><li>
<a id="pgfId-1065211"></a>If you select a multi-parameter function, the parameter panel for the function appears. Enter the required information and click <em>OK</em>. <br />
<a id="pgfId-1065212"></a>The expression is displayed in the Buffer. For more information, see <a href="chap4.html#36533">Using Functions in the Function Panel</a>.</li></ul></li><li>
<a id="pgfId-1065213"></a>On the Selection toolbar, click the <img src="images/EvaluateIcon.gif" />
 button to evaluate the expression.<br />
<a id="pgfId-1065214"></a>If the expression evaluates to a scalar, the result appears in the Buffer. If the expression evaluates to a signal, the graph window appears with a trace for the evaluated expression.</li></ol>




















<h4>
<a id="pgfId-1062651"></a><a id="57285"></a>Examples of Building Expressions</h4>
<p>
<a id="pgfId-1102528"></a>This section describes how you can build expressions in the RPN and Algebraic mode. </p>

<h4><em>
<a id="pgfId-1111614"></a>Example of Building Expressions in the RPN Mode</em></h4>
<p>
<a id="pgfId-1111615"></a>Suppose you want to build an expression in the RPN mode that multiplies two signals:</p>

<ol><li>
<a id="pgfId-1111616"></a>Select the first signal, signal1, from the Results Browser. The signal is displayed in the Buffer. </li><li>
<a id="pgfId-1102513"></a>Select another signal, signal2, from the Results Browser. This pushes signal1 to the Stack and the Buffer displays signal2.</li><li>
<a id="pgfId-1102514"></a>Click * on the Keypad to multiply signal1 and signal2. This pops signal1 from the Stack and the following expression is created in the Buffer:<br />
<a id="pgfId-1102502"></a>signal1*signal2</li><li>
<a id="pgfId-1102823"></a>Click <img src="images/EvaluateIcon.gif" /><span> on the Selection toolbar to evaluate the expression. If the result is a scalar, it is displayed in the Buffer. If the result is a waveform, it is plotted in the graph window.</span></li></ol>








<h4><em>
<a id="pgfId-1102541"></a>Example of Building Expressions in the Algebraic Mode</em></h4>
<p>
<a id="pgfId-1104222"></a>To build the same expression in the Algebraic mode, you perform the following steps:</p>

<ol><li>
<a id="pgfId-1102548"></a>Select the first signal, signal1, from the Results Browser. The signal is displayed in the Buffer. </li><li>
<a id="pgfId-1102590"></a>Press Enter to move signal1 to the Stack.</li><li>
<a id="pgfId-1102612"></a>Select another signal, signal2, from the Results Browser. The signal is displayed in the Buffer.</li><li>
<a id="pgfId-1102631"></a>Click * on the Keypad to multiply signal1 and signal2. The Buffer now contains the following expression: Signal2*</li><li>
<a id="pgfId-1102643"></a>Pop Signal1 from the Stack. This creates the following expression in the Buffer: signal2*signal1</li><li>
<a id="pgfId-1102809"></a>Click <img src="images/EvaluateIcon.gif" />
 on the Selection toolbar to evaluate the expression. If the result is a scalar, it is displayed in the Buffer. If the result is a waveform, it is plotted in the graph window.</li></ol>









<h4><em>
<a id="pgfId-1102704"></a>Example of Building Expressions Using Functions in Function Panel</em></h4>
<p>
<a id="pgfId-1053883"></a>Suppose you want to build an expression for measuring the delay between an input and output signal by using the delay function. This example assumes you are working with the SKILL Calculator in the RPN mode:</p>



<ol><li>
<a id="pgfId-1102776"></a>Ensure that the <em>Wave </em>option on the selection toolbar is selected.</li><li>
<a id="pgfId-1103912"></a>In the Results Browser window, right-click the required input signal and choose Calculator. The following signal is displayed in the Buffer.<br />
<a id="pgfId-1111739"></a><code>v(&quot;vin&quot; ?result &quot;tran&quot;)</code></li><li>
<a id="pgfId-1111740"></a>In the Function panel, select the <code>delay</code> function from the Special Functions category. The parameter panel for <code>delay</code> appears.<br />
<a id="pgfId-1103087"></a><code>In the parameter panel, v(&quot;vin&quot; ?result &quot;tran&quot;)</code>, which is the last selected signal, appears in the<em> Signal1</em> field.</li><li>
<a id="pgfId-1103091"></a>In the Results Browser, right-click the <code>out</code> signal and choose Calculator. The following signal appears in the Buffer:<br /><span class="indent-as-level2">
<a id="pgfId-1103031"></a><code>v(&quot;out&quot; ?result &quot;tran&quot;)</code></span></li><li>
<a id="pgfId-1103061"></a>In the Function Panel, do the following:<ol><li>
<a id="pgfId-1103062"></a>In the <em>Signal 2</em> drop-down list, select Buffer. The Buffer content, which is the out signal that you selected, appears in Signal2.</li><li>
<a id="pgfId-1043356"></a>In the <em>Edge Type1</em> field, choose <em>rising</em> </li><li>
<a id="pgfId-1043370"></a>In the <em>Edge Type 2</em> field, choose <em>rising</em>.</li></ol><br />
<a id="pgfId-1111767"></a>Ensure that the following values appear in the parameter list:<br />
<a id="pgfId-1111809"></a><table class="webflareTable" id="#id1111768">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1111770">
<a id="pgfId-1111770"></a>Field Name</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1111772">
<a id="pgfId-1111772"></a>Value</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1111774">
<a id="pgfId-1111774"></a>Field Name</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1111776">
<a id="pgfId-1111776"></a>Value</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1111778"></a><em>Signal1</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1111780"></a><code>vin</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1111782"></a><em>Edge Type 1</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1111784"></a><em>rising</em></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1111786"></a><em>Signal2</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1111788"></a><code>out</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1111790"></a>Threshold Value 2</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1111792"></a>2.5</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1111794"></a><em>Threshold Value 1</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1111796"></a><code>2.5</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1111798"></a><em>Edge Number 2</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1111800"></a><code>1</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1111802"></a><em>Edge Number 1</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1111804"></a><code>1</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1111806"></a><em>Edge Type 2</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1111808"></a><em>rising</em></p>
</td>
</tr>
</tbody></table>
<a id="pgfId-1111810"></a><div class="webflare-div-image">
<img src="images/Exp_example.gif" /></div></li><li>
<a id="pgfId-1111815"></a>Click <em>Apply</em>. The following expression appears in the Buffer:<br />
<a id="pgfId-1102865"></a><code>delay(v(&quot;vin&quot; ?result &quot;tran&quot;) 2.5 1 &quot;rising&quot; v(&quot;out&quot; ?result &quot;tran&quot;) 2.5 1 &quot;rising&quot; 0 0 nil nil)</code></li><li>
<a id="pgfId-1102869"></a>Click <img src="images/EvaluateIcon.gif" /><span> on the Selection toolbar to evaluate the expression. If the result is a scalar, it is displayed in the Buffer. If the result is a waveform, it is plotted in the graph window.</span></li></ol>



































<h4><em>
<a id="pgfId-1075944"></a><a id="42527"></a>Adding Constants<a id="marker-1075943"></a> to Expressions</em></h4>
<p>
<a id="pgfId-1075945"></a>To add a constant to an expression in the Buffer:</p>


<ul><li>
<a id="pgfId-1075946"></a>From the <em>Constants</em> menu, select a constant. The constant appears in the Buffer. <br />
<a id="pgfId-1103833"></a>For example, if you want to add the Boltzmann constant to a signal displayed in the Buffer, select Bolzmann from the Constants menu. Boltzmann appears in the Buffer and the signal is pushed to the top of the Stack. Apply the + operation. This pops the signal from the top of the Stack and builds the following expression in the Buffer:<br />
<a id="pgfId-1103791"></a>v(&quot;\\vss! &quot; ?result &quot;tran&quot;)+boltzmann</li></ul>


<p>
<a id="pgfId-1105591"></a>For more information about constants, see <a href="appE.html#59803">Appendix D, &#8220;Constants.&#8221;</a></p>

<h4><em>
<a id="pgfId-1105592"></a><a id="72964"></a>Adding Design Variables to the Buffer</em></h4>
<p>
<a id="pgfId-1105593"></a>You can use design variables in the expressions when the Calculator is opened in the SKILL mode. When you open a simulation result in the Results Browser, the Results Browser displays a directory named variables that contains design variables for the simulation. To select design variables, do the following:</p>
<ol><li>
<a id="pgfId-1105546"></a>Select the <em>Wave</em> option on the Selection toolbar.</li><li>
<a id="pgfId-1105526"></a>In the Results Browser, select the required design variable from the variables directory.</li></ol>

<p>
<a id="pgfId-1105515"></a>The selected design variable appears in the Buffer as shown in the figure below.</p>





<p>
<a id="pgfId-1105567"></a></p>
<div class="webflare-div-image">
<img src="images/design_variables.gif" /></div>
<h3>
<a id="pgfId-1124062"></a><a id="59258"></a>Editing an E<a id="clickableFn"></a>xpression in Buffer</h3>
<p>
<a id="pgfId-1124063"></a>After an expression is created in the Buffer, you can do one of the following to modify the argument values of function applied in the expression:</p>
<ul><li>
<a id="pgfId-1123817"></a>Type the new values for the function arguments in the Buffer. To do this, you must know the function syntax and the valid argument values. </li><li>
<a id="pgfId-1123807"></a>Press the <code>Ctrl</code> key and click the function name in the Buffer. The function is opened for editing in the Function Panel, where you can modify the argument values. After the changes are done, click the <em>Update</em> button to update the expression in the Buffer. <br />
<a id="pgfId-1123308"></a>Consider the example below in which the <code>abs_jitter</code> function is applied on the <code>out</code> signal in the Buffer. <br />
<a id="pgfId-1123204"></a><div class="webflare-div-image">
<img src="images/ClickableFn.gif" /></div>
<a id="pgfId-1123536"></a>When you place the pointer on the function name, the expression becomes an active link. Now, if you click the function name, the function is opened in edit mode in the Function Panel, as shown in the figure below: <br />
<a id="pgfId-1123292"></a><div class="webflare-div-image">
<img width="636" height="286" src="images/chap4-77.gif" /></div><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1123343"></a>To edit the function manually in the Buffer, click the function name. The cursor appears at the position where you clicked in the Buffer. You can then edit the function manually.</div>
<a id="pgfId-1127373"></a>You can next modify the values of the function arguments. When done, click the <em>Update</em> button to update the expression in the Buffer.<br />
<a id="pgfId-1123354"></a>The method explained above is useful in the following cases:<ul><li>
<a id="pgfId-1123606"></a>When you do not know the syntax and the valid values of the function arguments you want to edit.</li><li>
<a id="pgfId-1123789"></a>When you work on long expressions that include nested functions. For example, the expression below includes four functions: <code>loadpull</code>, <code>compression</code>, <code>dB20</code>, and <code>harmonic</code>. If you want to modify the argument values of a particular function in this expression, you need to click only the function name and the function appears in the Function Panel in edit mode. <br /><ffi2-fig-frame-in-2 id="#id1123793">
<a id="pgfId-1123793"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img src="images/ClickableFn2.gif" /></div>
<a id="pgfId-1123997"></a>If you want to calculate harmonic on some other signal, you just need to click the <code>harmonic</code> function in the Buffer and it is opened for editing in the Function Panel, where you can specify a different signal. </li></ul><br />
<a id="pgfId-1123794"></a><strong>Important Points to Note:</strong><ul><li>
<a id="pgfId-1123681"></a>The function template cannot be opened upon clicking the function in the Buffer if a function is applied incorrectly in the Buffer or if the function arguments do not match the original arguments in the template. An error message is displayed in this case. </li><li>
<a id="pgfId-1123636"></a>You can edit only predefined functions in the Buffer using this functionality. If you have defined your own function, you need to edit the function manually in the Buffer.</li><li>
<a id="pgfId-1123653"></a>You cannot edit a function expression if it is invalid or blank. </li></ul></li></ul>







































<h3>
<a id="pgfId-1123437"></a><a id="90097"></a>Building Depend<a id="depexp"></a>ent Expressions</h3>
<p>
<a id="pgfId-1117328"></a>Dependent expressions are the expressions that contain more than one expression.</p>
<p>
<a id="pgfId-1116977"></a>Suppose you want to compare the clip results of input and output signals that are generated during transient analysis. To create a single expression for this task is a tedious process because the task is complex and requires you to perform multiple operations. Therefore, you can divide the task into subtasks and create separate expressions for each subtask. You can then use the names associated with the expressions for the various subtasks to create the final expression. </p>

<ol><li>
<a id="pgfId-1122504"></a>Select the input and output signals from the Results Browser. The expressions for the signals are displayed in the Buffer. Move the expressions for the signals from the Buffer to the Expression Editor and save them with names sig1 and sig2 in the expression table.<br />
<a id="pgfId-1122505"></a>sig1=v(&quot;in_p&quot; ?result &quot;tran&quot;)<br />
<a id="pgfId-1122506"></a>sig2=v(&quot;out&quot; ?result &quot;tran&quot;)</li><li>
<a id="pgfId-1117374"></a>Next, in the Buffer, create expressions to apply the clip function on both the signals, sig1 and sig2. Store the expressions created for the clip function in the Expression Editor with names cl_s1 and cl_s2.<br />
<a id="pgfId-1117375"></a>cl_s1=clip(sig1 150n 200n )<br />
<a id="pgfId-1116942"></a>cl_s2=&quot;clip(sig2 150n 200n )</li><li>
<a id="pgfId-1116943"></a>Finally, in the Buffer, create an expression to compare the clip results for sig1 and sig2 by using the expression names cl_s1 and cl_s2. Move this expression from the Buffer to the Expression Editor and save it with the name comp_s1s2.<br />
<a id="pgfId-1116944"></a>comp_s1s2=compare(cl_s1 cl_s2 0.0 0.0 )</li></ol>











<p>
<a id="pgfId-1116945"></a>The expressions created in the expression table for each step are shown in the figure below.</p>


<p class="webflare-indent1">
<a id="pgfId-1116949"></a></p>
<div class="webflare-div-image">
<img src="images/Dependent_expression_eg.gif" /></div>
<p>
<a id="pgfId-1116985"></a>From this example, you can see how dependent expressions simplify the task of creating long and complex expressions.</p>
<p>
<a id="pgfId-1116996"></a>Note the following when you create dependent expressions:</p>
<ul><li>
<a id="pgfId-1116636"></a>Expressions can be created in any order, irrespective of the dependencies. In the above example, it is not necessary to define expression E1 before expression E2.</li><li>
<a id="pgfId-1116637"></a>An expression can be dependent on multiple expressions. For example, E2=E1+E3. Similarly, multiple expressions can be dependent on the same expression. For example, E2=5*E1 and E3=2+E1. Here, both E2 and E3 are dependent on E1.</li><li>
<a id="pgfId-1116638"></a>While creating dependent expressions, ensure that there is no cyclic dependency between the expressions. The following are expressions with cyclic dependency because the expressions are dependent on each other:<br />
<a id="pgfId-1116639"></a>E1=2+E2,<br />
<a id="pgfId-1116640"></a>E2=5*E1</li><li>
<a id="pgfId-1116641"></a>While evaluating or plotting a dependent expression, it is not required to evaluate or plot all expressions on which the dependent expression is based.</li><li>
<a id="pgfId-1116642"></a>Error messages and warnings, if any, are displayed in the CIW.</li></ul>






<p>
<a id="pgfId-1116643"></a>By default, the plot check box in the expression table is selected for all expressions, indicating that the expressions have already been evaluated and plotted. If the expression is scalar, the result is displayed in the expression table and if the expression is a waveform, the result is plotted in the graph window.</p>
<p>
<a id="pgfId-1116644"></a>To plot an expression again or to edit an expression, move the expression from the Expression Editor to the Buffer. To do this, deselect the plot check box and click the Copy Expression to Calculator Buffer button in the Expression Editor. This moves the expression name (signal alias) to the Buffer. To move the entire expression to the Buffer, drag the expression from the Expression Editor to the Buffer.</p>
<p>
<a id="pgfId-1116645"></a>To evaluate expressions in the expression table, click the Eval button. The corresponding result column displays the results generated. If you do not want to evaluate any expression, clear the corresponding plot check box.</p>
<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1120624"></a>
Ensure that all expressions that are used in calculating a dependent expression exist in the expression table else an error occurs.</div>
<div class="webflare-information-macro webflare-macro-video">
<a id="pgfId-1120732"></a>
The <a actuate="user" class="URL" href="../vivaxlug/avSrc/DependentExpressions.html" show="replace" xml:link="simple">Building Dependent Expressions Using the Expression Editor </a>video demonstrates how to create and use dependent expressions using the Expression Editor.</div>



<h3>
<a id="pgfId-1120627"></a><a id="12392"></a>Saving Expressions </h3>
<p>
<a id="pgfId-1106699"></a><a id="marker-1106698"></a>This section describes how you can save expression created in the Buffer to a file and to the Expression Editor. This section covers the following topics:</p>
<ul><li>
<a id="pgfId-1107746"></a><a href="chap4.html#27027">Saving Expressions to a File</a></li><li>
<a id="pgfId-1107756"></a><a href="chap4.html#95541">Saving Expressions to the Expression Editor</a></li></ul>


<h4>
<a id="pgfId-1105713"></a><a id="27027"></a>Saving Expressions to a File</h4>
<p>
<a id="pgfId-1104812"></a>To save an expression in the Expression Editor to a file, perform the following steps:</p>

<ol><li>
<a id="pgfId-1104816"></a>In the Expression Editor, click the <img src="images/saveexpreesionicon.gif" />
<em> button.</em><br />
<a id="pgfId-1117366"></a>The Save expressions to file form appears.<br />
<a id="pgfId-1117370"></a><div class="webflare-div-image">
<img src="images/saveexpressionstofile.gif" /></div></li><li>
<a id="pgfId-1117371"></a>In the <em>Look in</em> field, select the directory where you want to save the expression file.</li><li>
<a id="pgfId-1076504"></a>Do one of the following:<ul><li>
<a id="pgfId-1076505"></a>To overwrite an existing expression file, select that file from the list box below the <em>Look in</em> field.</li><li>
<a id="pgfId-1076506"></a>To create a new file, in the <em>File name</em> field, type a name for the expression file that you want to create.</li></ul></li><li>
<a id="pgfId-1105956"></a>Click <em>Save</em>.<br />
<a id="pgfId-1105957"></a>The Virtuoso Visualization and Analysis XL tool saves the expression list to the file.</li></ol>





















<p>
<a id="pgfId-1105966"></a>To automatically save the expressions in the current session to the <code>defaultVarFileName</code> file when you close the Calculator or exit the Virtuoso Visualization and Analysis XL tool, set the <code>writeDefaultVarFileOnExit.cdsenv</code> variable to <code>true</code>.</p>



<h4>
<a id="pgfId-1112072"></a><a id="95541"></a>Saving Expressions to the Expression Editor</h4>
<p>
<a id="pgfId-1114598"></a>You can save expressions created in the Buffer to the Expression Editor. To add an expression from the Buffer to the Expression Editor, click the <img src="images/toolbar_icon3.gif" />
 command on the Buffer and Stack toolbar. For more information, see <a href="chap4.html#35093">Expression Editor</a>.</p>



<h3>
<a id="pgfId-1114606"></a><a id="35042"></a>Dragging Expressions across Buffer and Assistants</h3>
<p>
<a id="pgfId-1114607"></a>Calculator supports the following drag-and-drop operations:</p>
<ul><li>
<a id="pgfId-1106676"></a>You can drag expressions from the Expression Editor and place them into any text area. If you drag expressions outside the Calculator window without specifying any destination text file, you are prompted to provide a filename and its location. You can create a new text file or you can append expressions to an existing text file.</li><li>
<a id="pgfId-1106677"></a>You can drag expressions from the Expression Editor to the Buffer.</li><li>
<a id="pgfId-1106678"></a>You can drag expressions from the Stack to the Expression Editor to add these expressions to the expression table in the Expression Editor. However, you cannot drag expressions from the Expression Editor to add them to the Stack. To drag expressions from the Expression Editor to the Stack, you need to first drag the expressions from the Expression Editor to the Buffer. You can then press Enter to push the expressions to the Stack.</li><li>
<a id="pgfId-1106679"></a>If you drag multiple expressions at a time from the Expression Editor to the Buffer, the first expression is added to the Buffer and the remaining expressions are moved to the Stack.</li><li>
<a id="pgfId-1106680"></a>When you drag expressions from the Expression Editor or Stack to the Buffer, the expressions are appended to the current expression in the Buffer.</li></ul>




<p>
<a id="pgfId-1106665"></a>You cannot perform drag-and-drop operation on expressions in the Buffer. To move expressions from the Buffer to the Expression Editor or Stack, use Buffer and Stack toolbar buttons. </p>


<h3>
<a id="pgfId-1105953"></a><a id="30785"></a>Loading Expressions from an Expression File</h3>
<p>
<a id="pgfId-1076510"></a>You can load an expression file to the expression table in the Expression Editor. The file that you load replaces the current set of expressions in a session, and you lose any unsaved information.</p>
<p>
<a id="pgfId-1076511"></a>To load an expression file to the Expression Editor, perform the following steps:</p>

<ol><li>
<a id="pgfId-1076515"></a>In the Expression Editor, click <img src="images/reloadexpressionicon.gif" />
.<br />
<a id="pgfId-1076516"></a>The Read expressions from file form appears.<br />
<a id="pgfId-1076520"></a><div class="webflare-div-image">
<img src="images/readexpressionsfromfile.gif" /></div></li><li>
<a id="pgfId-1076521"></a>In the <em>Look in </em>field, select the directory which contains the required expression file.</li><li>
<a id="pgfId-1076522"></a>Do one of the following:<ul><li>
<a id="pgfId-1076523"></a>From the list box below the <em>Look in</em> field, select the expression file you want to open.</li><li>
<a id="pgfId-1076524"></a>In the <em>File name</em> field, type the name of the file you want to open.</li></ul></li><li>
<a id="pgfId-1076525"></a>Click <em>Open</em>.<br />
<a id="pgfId-1104937"></a>The Virtuoso Visualization and Analysis XL tool loads the specified expression file.</li></ol>





















<p>
<a id="pgfId-1106078"></a>If the <code>readDefaultVarFileOnStartup.cdsenv</code> variable is set to <code>true</code>, The Virtuoso Visualization and Analysis tool automatically loads the <code>defaultVarFileName</code> file.</p>



<h3>
<a id="pgfId-1104939"></a><a id="90599"></a>Evaluating and Plotting Expressions<a id="marker-1132085"></a></h3>
<p>
<a id="pgfId-1104940"></a>You can evaluate or plot the expressions in the Buffer and the Expression Editor. When you evaluate or plot expressions in the Buffer and if the result is a scalar, it is displayed in the Buffer. If the result is a waveform, it is displayed in the graph window.</p>
<p>
<a id="pgfId-1104945"></a>When you evaluate or plot expressions in the Expression Editor and if the result is a scalar, it is displayed in the Value column in the expression table. If the result is a waveform, it is displayed in the graph window.</p>
<p>
<a id="pgfId-1076539"></a>To evaluate and plot an expression in the Expression Editor,</p>

<ol><li>
<a id="pgfId-1076540"></a>In the Expression Editor, select the expressions you want to evaluate and plot by selecting the plot check box corresponding to the expression.</li><li>
<a id="pgfId-1076544"></a>Click the <img src="images/evalicon.gif" />
 button.<br />
<a id="pgfId-1076545"></a>The Calculator evaluates and plots the selected expressions.</li></ol>







<h3>
<a id="pgfId-1121139"></a>Displaying Results in a Table<a id="marker-1121138"></a></h3>
<p>
<a id="pgfId-1121140"></a>You can display the results in a table after evaluating expressions.</p>
<p>
<a id="pgfId-1121141"></a>On the Selection toolbar, you can use the following options to select the destination table where the results are displayed:</p>
<ul><li>
<a id="pgfId-1121142"></a>Append&#8212;Adds the result to an existing table</li><li>
<a id="pgfId-1121143"></a>Replace&#8212;Replaces the existing table with the result</li><li>
<a id="pgfId-1121144"></a>New Window&#8212;Displays the result in a new table</li><li>
<a id="pgfId-1121145"></a>New Subwindow&#8212;Displays the result in a new table</li></ul>



<p>
<a id="pgfId-1121146"></a>You can display the expressions or results evaluated by the Buffer in a table.</p>
<p>
<a id="pgfId-1121147"></a>To display results in a table, do one of the following</p>

<ul><li>
<a id="pgfId-1121151"></a>Click the <img src="images/Evaluate1Icon.gif" />
 button on the Selection toolbar. <br />
<a id="pgfId-1121152"></a>The <em>Results Display Window </em>appears.</li><li>
<a id="pgfId-1121153"></a>Choose <em>Tools</em> &#8211; <em>Table. </em><br />
<a id="pgfId-1121154"></a>The Results Display <em>Window</em> appears. <br />
<a id="pgfId-1121158"></a><div class="webflare-div-image">
<img src="images/Results_display_window.gif" /></div></li></ul>









<h3>
<a id="pgfId-1125130"></a><a id="81840"></a>Creating Cus<a id="addSkillFunctions"></a>tom Calculator Functions </h3>
<p>
<a id="pgfId-1125160"></a>The Function Panel in Calculator provides a set of standard functions that you can use to evaluate and analyze waveform results. You can also create your own functions (custom functions) and add them in the Function Panel. Before you start, you must have a SKILL file in which the SKILL definition of the function you want to create is defined. </p>
<p>
<a id="pgfId-1128484"></a>The creation of custom Calculator function involves two parts:</p>
<ul><li>
<a id="pgfId-1128493"></a>Specify a SKILL file, which includes the SKILL definitions of the functions you want to create. This SKILL file is mandatory, which means if a SKILL file is not available, you cannot create the custom function. </li><li>
<a id="pgfId-1128503"></a>Create the user-interface template for the custom function, which includes information about function arguments and their valid values. You can either use the same SKILL file, or specify a separate <code>.ocn</code> file to add the UI template. </li></ul>

<p>
<a id="pgfId-1128576"></a>This section includes the following topics to describe the custom Calculator functions in detail:</p>
<ul><li>
<a id="pgfId-1128620"></a><a href="chap4.html#77831">Adding Custom Calculator Functions</a></li><li>
<a id="pgfId-1128635"></a><a href="chap4.html#24192">Using the Calculator Function Template UI Builder Form</a></li><li>
<a id="pgfId-1128645"></a><a href="chap4.html#37654">Viewing Custom Functions</a></li><li>
<a id="pgfId-1128656"></a><a href="chap4.html#93823">Sharing Custom Functions</a></li></ul>



<div class="webflare-information-macro webflare-macro-video">
<a id="pgfId-1128898"></a>
The <a actuate="user" class="URL" href="http://support.cadence.com/wps/mypoc/cos?uri=deeplinkmin:VideoViewer;DocumentType=video,norcfeat;q=Video/Custom_IC_Design/vdn/CustomCalculatorFunctions.html;src=wp" show="replace" xml:link="simple">Custom Calculator Functions</a> video is available on Cadence Online Support that explains this feature in detail.</div>
<p class="webflare-indent1">
<a id="pgfId-1130513"></a>Also see: <a actuate="user" class="URL" href="https://community.cadence.com/cadence_blogs_8/b/cic/posts/virtuosity-sharing-custom-skill-calculator-functions" show="replace" xml:link="simple">Sharing Custom SKILL Calculator Functions</a></p>


<h4>
<a id="pgfId-1128577"></a><a id="77831"></a>Adding Cu<a id="AddCustomCalCulator"></a>stom Calculator Functions</h4>
<p>
<a id="pgfId-1128578"></a>To add a custom function, perform the following steps:</p>

<ol><li>
<a id="pgfId-1125218"></a>In the Function Panel, click the <img src="images/CustomFunc1.gif" />
 button. The <em>Add Custom Calculator Function</em> form is displayed.<br />
<a id="pgfId-1125219"></a><div class="webflare-div-image">
<img src="images/customFunc2.gif" /></div></li><li>
<a id="pgfId-1127699"></a>In this form, in the <em>Function SKILL File/ UI Template File (.il)</em> field, specify the name of the SKILL (<code>.il</code>) or SKILL++ (<code>.ils</code>) file in which the SKILL code of the function to be created is defined.
You can also click the ellipses button to select the SKILL file from the Select SKILL File form. All the files that you specified in the previous session are listed in this drop-down. As an example, consider that a <code>test.il</code> SKILL file is specified in this field that includes the definition of the <code>psd</code> (power spectral density) function. After you specify the SKILL file, the <em>Create New</em> button appears next to this field.<br />
<a id="pgfId-1128603"></a><div class="webflare-div-image">
<img width="641" height="140" src="images/chap4-90.gif" /></div></li><li>
<a id="pgfId-1128605"></a>To define or use the template UI file, which includes the information about the template (user-interface) of the function to be created, you have the following two options:<ul><li>
<a id="pgfId-1127787"></a>Use the SKILL file selected in the <em>Function SKILL/UI Template File</em> field.<br />
<a id="pgfId-1128282"></a>This option is useful when you have multiple functions defined in the SKILL file. It helps you create or use the same UI template for all the SKILL functions, without the need to create or use individual <code>.ocn</code> files for each function. <br />
<a id="pgfId-1128729"></a>When you use this option, if the UI template does not exist in the specified SKILL file, click the <em>Create New </em>button displayed next to this field to define the UI template. When you click this button, the Calculator Function Template UI Builder form appears, as shown in the figure below. For more information about how to use this form, see <a href="chap4.html#24192">Using the Calculator Function Template UI Builder Form</a>.<br />
<a id="pgfId-1128286"></a><div class="webflare-div-image">
<img src="images/UIBuilder_SKILL.gif" /></div></li><li>
<a id="pgfId-1127788"></a>Specify a new UI template <code>.ocn</code> file in the <em>Separate UI Template File (.ocn)</em> field, which includes information about the template (user-interface) of the function to be created. You can also click the ellipses button to select the SKILL file from the Select Template File form.<br />
<a id="pgfId-1127828"></a><div class="webflare-div-image">
<img src="images/CustomFunc_NewOCN.gif" /></div>
<a id="pgfId-1126439"></a>If you do not have an existing <code>.ocn</code> file corresponding to the function that you want to create, click the <em>Create New</em> button, which is displayed next to this field, to create a new <code>.ocn</code> file based on the definitions in the specified SKILL file. This button becomes active after you specify the SKILL file.<br />
<a id="pgfId-1126449"></a>If you already have an <code>.ocn</code> file, you can specify the path of the file. The <em>Create New</em> button is then changed to <em>Edit UI</em>, as shown in the figure below. You can click the <em>Edit UI</em> button to edit the UI defined in the specified SKILL file.<br />
<a id="pgfId-1126403"></a><div class="webflare-div-image">
<img width="651" height="140" src="images/chap4-93.gif" /></div>
<a id="pgfId-1128255"></a>When you click <em>Create New</em> or <em>Edit UI</em> button, the <em>Calculator Function Template UI Builder</em><a id="calculatorFuncTemplateUIBuilder"></a> form appears. For more information about how to use this form, see the next section.</li></ul></li></ol>








































<h4>
<a id="pgfId-1128257"></a><a id="24192"></a>Using the Calculator Function Template UI Builder Form</h4>
<p>
<a id="pgfId-1128355"></a>You can use this form to define the UI template for the custom Calculator function. This form includes a list of argument values as specified in the given SKILL file. For example, for the <code>customPsd</code> function defined in the <code>test.il</code> SKILL file selected in step1, the following form fields appear:</p>

<p>
<a id="pgfId-1125445"></a></p>
<div class="webflare-div-image">
<img src="images/CustomFunc3.gif" /></div>
<p>
<a id="pgfId-1125446"></a>In this form, specify the following field values:</p>
<ul><li>
<a id="pgfId-1129761"></a><em>Function Name</em>&#8212;From this drop-down list, select the name of the function for which you want to create the UI template. It includes the names of all the functions defined in the SKILL file you selected in the <em>Add SKILL Functions</em> form.</li><li>
<a id="pgfId-1129762"></a><em>Description</em>&#8212;Provide a brief description about the function you selected in the previous step.</li><li>
<a id="pgfId-1126577"></a><em>Category</em>&#8212;In this drop-down list, select the category in which you want to list the function in the Function Panel. When you are defining a user-defined custom function, select <code>Custom Functions</code>. You can also add a new category in the Function Panel by typing the name of the category in this field. The function you create is displayed under this category.<br />
<a id="pgfId-1126578"></a>An argument table is displayed below the category fields that by default displays the argument and their attributes, such as name, type, value, and so on, which are defined in the SKILL file. You can modify these arguments according to your requirements.</li><li>
<a id="pgfId-1125591"></a><em>Argument Name</em>&#8212;Lists the argument names specified in the SKILL file for the selected function. You cannot change the argument name values. In most of the functions, the first argument is always a waveform.</li><li>
<a id="pgfId-1125540"></a><em>Prompt Name</em>&#8212;Lists the UI names corresponding to the argument names that you want to display in the function template. By default, prompt names are the same as the argument names; however, you can modify them and make them more informative.</li><li>
<a id="pgfId-1125555"></a><em>Data Type</em>&#8212;Includes a drop-down list box to select the data types you want to use for the given argument. The data types can be as follows:<ul><li>
<a id="pgfId-1125598"></a><code>Signal</code>&#8212;Represents the primary waveform or a signal.</li><li>
<a id="pgfId-1125609"></a><code>Text</code>&#8212;Respresents a text box.</li><li>
<a id="pgfId-1125616"></a><code>Cyclic</code>&#8212;Represents a drop-down list box. When you specify the data type as cyclic, you must provide a value in the <em>Default Value</em> field. </li><li>
<a id="pgfId-1128870"></a><code>Integer</code>&#8212;Represents an integer value.</li><li>
<a id="pgfId-1128881"></a><code>float</code>&#8212;Represents a floating point value.</li><li>
<a id="pgfId-1125623"></a><code>Net</code>&#8212;Represents a waveform or a signal.</li><li>
<a id="pgfId-1126616"></a><code>Terminal</code>&#8212;Represents a terminal value.</li><li>
<a id="pgfId-1126627"></a><code>Port</code>&#8212;Represents a port.</li></ul></li><li>
<a id="pgfId-1125220"></a><em>Default Value</em>&#8212;Lists the default value that you want to specify for each field. The value you specify in this field is displayed in the function UI. To specify the options for the cyclic data type fields, you can specify a comma-separated list of options in this field. For example, the Window Type is a cyclic field and you can specify the values in the following format: <code>&#8220;Hanning&#8221;, &#8220;Kaiser&#8221;, &#8220;Rectangular&#8221;</code>. The first value you specify becomes the default value.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1126871"></a>The <em>Default Value</em> field is not available when the <em>Data Type</em> field is set to <code>Signal</code>.</div></li><li>
<a id="pgfId-1125723"></a><em>Tooltip</em>&#8212;Specifies the tooltip that you want to display when you hover the pointer on the given field.</li><li>
<a id="pgfId-1125740"></a><em>Row Hint</em>&#8212;Specifies the row number in which you want to place a given field. If you want to display two or more fields side-by-side in the same row, you can specify the same row number in this field.</li><li>
<a id="pgfId-1125772"></a><em>Argument Type</em>&#8212;Lists the type of the argument fields that are defined in the SKILL file. Argument types can be <code>Required</code>, <code>Optional</code>, and <code>Keyed</code>. You cannot change these argument types. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1126658"></a>The argument types of the fields are the same as specified in the function definition in given SKILL file.</div></li><li>
<a id="pgfId-1125785"></a><em>Use Default Template Location</em>&#8212;Select this check box if you want to save the <code>.ocn</code> file at the default location, which is the same directory in which the SKILL file is saved. If you want to specify another location to save the <code>.ocn</code> file, browse and specify the new location in the <em>Function template (.ocn)</em> field. By default, this check box is selected, which means that the UI template is saved with the SKILL file.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1128743"></a>This check box is available only when you select the Separate UI Template File (.ocn) option. </div></li></ul>











































<p>
<a id="pgfId-1128187"></a>This form includes the following buttons:</p>
<ul><li>
<a id="pgfId-1128188"></a><em>OK</em>&#8212;Apply the changes and close the form.</li><li>
<a id="pgfId-1128189"></a><em>Save All</em>&#8212;Save the UI template settings for all the SKILL functions defined in the specified SKILL file. For example, if the SKILL file contains four functions, the UI template is created for all the four functions.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1128030"></a>This button is displayed only when you open this form to define the UI template in the specified SKILL file. </div></li><li>
<a id="pgfId-1127971"></a><em>Save</em>&#8212;Save the UI template for only the function you selected in the <em>Function Name</em> field.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1129772"></a>This button is displayed only when you open this form to define the UI template in the specified SKILL file. </div></li><li>
<a id="pgfId-1129773"></a><em>Close</em>&#8212;Close the form without saving.</li><li>
<a id="pgfId-1129774"></a><em>Preview</em>&#8212;View the structure of the new UI that you have specified in the above fields. For example, for the <code>customPsd</code> function UI defined in the above fields, the following preview appears. To close the preview, click <em>OK.</em><br />
<a id="pgfId-1125961"></a><div class="webflare-div-image">
<img src="images/CustomFuncPreview.gif" /></div></li><li>
<a id="pgfId-1128112"></a><em>Help</em>&#8212;Opens the documentation.</li></ul>
















<p>
<a id="pgfId-1126119"></a>The specified <code>customPsd</code> function and its template is added to the Function Panel of the Calculator. To view this function, open Function Panel and select the <code>Custom Functions</code> category. </p>


<p>
<a id="pgfId-1126130"></a></p>
<div class="webflare-div-image">
<img width="504" height="157" src="images/chap4-96.gif" /></div>



<h4>
<a id="pgfId-1128445"></a><a id="37654"></a>Viewing Custom Functions</h4>
<p>
<a id="pgfId-1128418"></a>When you add the custom functions, they appear in blue in the Function Panel as shown in the figure above. For example, when you click the <code>customPsd</code> function, the function UI is opened in Function Panel with the arguments you specified in the <code>.ocn</code> file.<br /></p>
<div class="webflare-div-image">
<img src="images/CustomFuncUI.gif" /></div>
<p>
<a id="pgfId-1128423"></a>Now, you can use this function to create and evaluate expressions. By default, the information about custom functions is saved at the following location: <code>~/.cadence/dfII/viva/customCalcFunctions.ini</code>.</p>
<p>
<a id="pgfId-1128819"></a>In addition, you can also use the following SKILL function to add a function template to the Function Panel of Calculator:</p>
<p>
<a id="pgfId-1128820"></a><code>awvLoadCustomCalcFunction(?fileName filename ?funcName funcName ?templateFileName templateFileName)</code></p>
<p>
<a id="pgfId-1128822"></a>For more information about this SKILL command, see <a href="../vivaxlskill/chap2.html#awvLoadCustomCalcFunction">awvLoadCustomCalcFunction</a> in <em>Virtuoso Visualization and Analysis XL SKILL Reference</em>.</p>


<h4>
<a id="pgfId-1128428"></a><a id="93823"></a>Sharing Custom Functions</h4>
<p>
<a id="pgfId-1128429"></a>You can also create custom functions and share them between multiple users. To do this, perform the following steps:</p>

<ol><li>
<a id="pgfId-1127334"></a>Create a central file, <code>central.ini</code>. </li><li>
<a id="pgfId-1127307"></a>In this file, add the <code>awvLoadCustomCalcFunction</code> function to create the custom functions. </li><li>
<a id="pgfId-1127308"></a>In the <code>.cdsinit</code> file, add the <code>awvLoadSharedCustomFunctionsFile</code> function to share and load the custom function created in the previous step.<br />
<a id="pgfId-1127309"></a><code>awvLoadSharedCustomFunctionsFile(&quot;~/central.ini&quot;)</code><br />
<a id="pgfId-1126961"></a>The shared custom function appears in red on Function Panel.</li></ol>













<h2>
<a id="pgfId-1126540"></a><a id="47830"></a><a id="73233"></a><a id="Expressions"></a><a id="62433"></a><a id="82631"></a><a id="52519"></a>Working with the Calculator in ADE </h2>
<p>
<a id="pgfId-1098826"></a>While working in ADE, if you want to analyze simulation results, you can directly build expressions by opening the Virtuoso Visualization and Analysis XL Calculator from the ADE window and build expressions by using the simulation data generated during the latest run. </p>
<p>
<a id="pgfId-1107357"></a>This section covers the following topics:</p>
<ul><li>
<a id="pgfId-1106711"></a><a href="chap4.html#52585">Opening the Calculator using ADE</a></li><li>
<a id="pgfId-1106766"></a><a href="chap4.html#30675">Additional Features in ADE</a></li><li>
<a id="pgfId-1106773"></a><a href="chap4.html#84360">Working with Expressions in ADE</a></li><li>
<a id="pgfId-1107848"></a><a href="chap4.html#67346">Example of Building an Expression in ADE L</a></li></ul>




<h3>
<a id="pgfId-1106295"></a><a id="52585"></a>Opening the Calculator using ADE</h3>
<p>
<a id="pgfId-1112129"></a>When you open the Calculator from ADE, it displays some additional GUI components, such as Schematic Selection toolbar, Test toolbar. The Schematic Selection toolbar contains a set of standard functions, such as vt for voltage transient, that can be applied on the schematic objects, such as nets, terminals, and flip-flops, to build expressions. The Test toolbar contains the path of the simulation directories available for the current simulation run.</p>
<p>
<a id="pgfId-1112152"></a>When you select a function on the Schematic Selection toolbar, the schematic design view opens. In the schematic design view, select a schematic object on which you want to perform this function. The complete expression for the selected function and the selected schematic object is created in the Buffer. For more information about how to select a schematic object, see <a href="chap4.html#84360">Working with Expressions in ADE</a>.</p>
<p>
<a id="pgfId-1098827"></a>While working in the ADE environment, you can open the Calculator by using any of the following two methods:</p>
<ul><li>
<a id="pgfId-1098831"></a><a href="chap4.html#68198">Opening the Calculator from ADE Explorer</a></li><li>
<a id="pgfId-1098835"></a><a href="chap4.html#13534">Opening the Calculator from ADE Assembler</a></li></ul>


<h4>
<a id="pgfId-1098836"></a><a id="68198"></a>Opening the Calculator from ADE Explorer</h4>
<p>
<a id="pgfId-1098837"></a>To open the Calculator from the ADE Explorer, open ADE Explorer and do one of the following: </p>

<ul><li>
<a id="pgfId-1098838"></a>Choose Tools <em>&#8211; </em>Calculator</li><li>
<a id="pgfId-1098839"></a>In the ADE Explorer Output Setup pane:<ol><li>
<a id="pgfId-1098840"></a>Click <em>Expression</em> from the drop-down list. A new row of type <code>expr</code> is added in the Outputs Setup tab.<br />
<a id="pgfId-1129508"></a><div class="webflare-div-image">
<img src="images/Expression_output.gif" /></div></li><li>
<a id="pgfId-1129543"></a>In the <em>Details</em> column, either directly type an output expression or click the ellipses button to open the Calculator to add an output expression. </li><li>
<a id="pgfId-1129643"></a>To move the expression created in the Buffer to ADE Explorer, click click the <img src="images/pasteBuffer.gif" /><span> button.</span></li></ol><br />
<a id="pgfId-1098850"></a>The Calculator window appears. Notice the Schematic Selection toolbar and the Send to ADE button on the Selection toolbar in the figure below, which appear when the Calculator is opened from ADE Explorer.</li></ul>














<p>
<a id="pgfId-1129500"></a></p>
<div class="webflare-div-image">
<img width="670" height="799" src="images/chap4-100.gif" /></div>
<p>
<a id="pgfId-1107315"></a>For more information about the Schematic Selection toolbar, see <a href="chap4.html#36215">&#8220;Schematic Selection Toolbar&#8221;</a>. </p>
<p>
<a id="pgfId-1118847"></a>For more information about Send to ADE toolbar button, see <a href="chap4.html#46853">Send to ADE Button</a>.</p>
<p>
<a id="pgfId-1098863"></a>For information about the Calculator menu and toolbar options, see <a href="chap4.html#55168">&#8220;Using the Calculator Graphical User Interface (GUI)&#8221;</a>.</p>



<h4>
<a id="pgfId-1098866"></a><a id="13534"></a>Opening the Calculator from ADE Assembler</h4>
<p>
<a id="pgfId-1098867"></a>To open the Calculator in ADE Assembler, open the ADE Assembler window and do one of the following: </p>

<ul><li>
<a id="pgfId-1098868"></a>Choose <em>Tools</em> &#8211; <em>Calculator</em> <br />
<a id="pgfId-1098872"></a>Alternatively, you can open the Calculator window by clicking the <img src="images/CalcIcon.gif" />
 button in the ADE Assembler window. </li><li>
<a id="pgfId-1098873"></a>On the Outputs Setup tab:<ol><li>
<a id="pgfId-1098874"></a>Select Type as expr.</li><li>
<a id="pgfId-1098875"></a>Double-click anywhere in the <em>Expression/Signal/File</em> column and then click the ellipses (...) button.<br />
<a id="pgfId-1109318"></a><div class="webflare-div-image">
<img src="images/opening_ADEXL.gif" /></div></li></ol>
<a id="pgfId-1120164"></a>The Calculator window appears. Notice the Schematic Selection toolbar and the Test directory displayed on the Result toolbar in the figure below. Also, note an additional toolbar button on the Selection toolbar that can be used to send expressions displayed in the Buffer to the ADE Assembler Outputs Setup. These appear when the Calculator is opened from ADE Assembler. For more information, see <a href="chap4.html#30675">Additional Features in ADE</a>.</li></ul>













<p>
<a id="pgfId-1120191"></a></p>
<div class="webflare-div-image">
<img width="662" height="820" src="images/chap4-103.gif" /></div>
<p>
<a id="pgfId-1120192"></a>After you have created the required expression in the Buffer, you can move the expression to ADE Assembler for evaluation. To move the expression to ADE XL, in the Calculator window, choose Tools &#8211; Send Buffer to ADE Outputs. The expression is displayed in the Output Setup window of ADE Assembler and is evaluated after you run the simulation.</p>
<p>
<a id="pgfId-1109525"></a>In ADE Assembler, you can simultaneously work on multiple test directories in a session. To select a test directory, select it from the Test drop-down list in the Calculator window.</p>
<p>
<a id="pgfId-1109519"></a>For more information about the Schematic Selection toolbar, see <a href="chap4.html#99113">Schematic Selection Toolbar</a>. </p>
<p>
<a id="pgfId-1098893"></a>For more information about the Calculator menus and toolbar options, see <a href="chap4.html#55168">&#8220;Using the Calculator Graphical User Interface (GUI)&#8221;</a>.</p>




<h3>
<a id="pgfId-1109062"></a><a id="30675"></a>Additional Features in ADE</h3>
<p>
<a id="pgfId-1109069"></a>When you open the Calculator in ADE, the Calculator GUI displays the following additional features:</p>
<ul><li>
<a id="pgfId-1109077"></a><a href="chap4.html#99113">Schematic Selection Toolbar</a></li><li>
<a id="pgfId-1118790"></a><a href="chap4.html#53274">Test Toolbar</a></li><li>
<a id="pgfId-1118804"></a><a href="chap4.html#46853">Send to ADE Button</a></li></ul>



<h4>
<a id="pgfId-1106465"></a><a id="99113"></a>Schem<a id="SchematicFns"></a>atic Selection Toolbar</h4>
<p>
<a id="pgfId-1107581"></a>This toolbar displays a set of standard functions that can be applied on the schematic objects to build expressions. When you click a function button on the toolbar, the schematic design view appears. In the schematic design view, select a schematic object on which you want to apply the selected function. When you select the schematic object, an expression is created and displayed in the Buffer. </p>

<p>
<a id="pgfId-1106507"></a></p>
<div class="webflare-div-image">
<img src="images/Calc_sstb.gif" /></div>
<p>
<a id="pgfId-1106466"></a>By default, the toolbar displays the function buttons for all simulation analyses types. However, you can configure the Schematic Selection toolbar to display function buttons for the selected analyses types. </p>
<p>
<a id="pgfId-1106467"></a>To display the function button for a particular analysis type, do one of the following:</p>

<ul><li>
<a id="pgfId-1106468"></a>Right-click in the toolbar area and choose Configure selections. </li><li>
<a id="pgfId-1106469"></a>Choose <em>View</em> &#8211; <em>Configure Schematic Selection Toolba</em>r.</li></ul>



<p>
<a id="pgfId-1106470"></a>The Configure Schematic Selections form appears. Select the simulation analyses types for which you want to display function buttons on the Schematic Selection toolbar.</p>



<p>
<a id="pgfId-1106474"></a></p>
<div class="webflare-div-image">
<img src="images/configure_sstb.gif" /></div>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1106478"></a>You can click the <img src="images/hideicon.gif" /><span> button shown in the Result toolbar to hide the Schematic Selection toolbar.</span></div>
<p>
<a id="pgfId-1106540"></a>The following table lists the available function buttons:</p>


<p>
<a id="pgfId-1106641"></a></p>
<table class="webflareTable" id="#id1106541">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1106543">
<a id="pgfId-1106543"></a>Button</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1106545">
<a id="pgfId-1106545"></a>Description</span>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1106547"></a><em>vt</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1106549"></a>Transient voltage</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1106551"></a><em>it</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1106553"></a>Transient current</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1106555"></a><em>vf</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1106557"></a>Frequency voltage</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1106559"></a><em>if</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1106561"></a>Frequency current</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1106563"></a><em>vdc</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1106565"></a>DC voltage</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1106567"></a><em>idc</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1106569"></a>DC terminal current</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1106571"></a><em>vs</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1106573"></a>Source sweep voltage</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1106575"></a><em>is</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1106577"></a>Source sweep current (I compared to V graphs)</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1106579"></a><em>op</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1106581"></a>DC operating point</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1124150"></a>os</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1124152"></a>DC operating point</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1124146"></a>ot</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1124148"></a>Transient operating point</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1106583"></a><em>opt</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1106585"></a>Transient operating point</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1106587"></a><em>var</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1106590"></a>Design variables (ADE design variables)<a id="marker-1106589"></a>. For information about using design variables with Calculator functions, see <a href="chap4.html#65676">Adding Design Variables to Expressions</a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1106598"></a><em>mp</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1106600"></a>Model parameter</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1106602"></a><em>vn</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1106604"></a>Noise voltage</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1106606"></a>vn2</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1106608"></a>Noise voltage square</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1106610"></a><em>sp</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1106612"></a>Scattering parameters</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1106614"></a><em>zp</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1106616"></a>Impedance parameters</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1106618"></a><em>vswr</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1106620"></a>Voltage standing wave ratio</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1106622"></a><em>yp</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1106624"></a>Admittance parameters</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1106626"></a><em>hp</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1106628"></a>H-parameters</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1106630"></a><em>gd</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1106632"></a>Group delay</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1106634"></a><em>zm</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1106636"></a>Input impedance if all other ports are matched</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1106638"></a><em>data</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1106640"></a>Plots a previous analysis</p>
</td>
</tr>
</tbody></table>
<p>
<a id="pgfId-1109042"></a>The Schematic Selection toolbar can also be displayed using the <code>schematicToolbar</code> <code>.cdsenv</code> variable.</p>
<p>
<a id="pgfId-1129002"></a>The function buttons for all analyses types are displayed by default which can be changed by setting the <code>schematicAnalyses</code> <code>.cdsenv</code> variable.</p>
<h3>
<a id="pgfId-1129015"></a>Creating E<a id="DCFunctions"></a>xpressions For DC Operating Point Functions</h3>
<p>
<a id="pgfId-1129016"></a>You can use Calculator to create expressions for DC operating point functions, such as OS and OT, that you want to save during a simulation run in ADE Explorer. After the expressions are created, you can send them back to the Outputs Setup pane of the ADE Explorer window. These expressions are then evaluated, saved, or plotted after the simulation run is complete.</p>
<p>
<a id="pgfId-1124779"></a>As a prerequisite step, do one of the following:</p>
<ul><li>
<a id="pgfId-1124810"></a>Specify the operating points that you want to save in the <em>Save Operating Points</em> pane of the ADE Explorer window. The operating points are listed as shown in the figure below.<br />
<a id="pgfId-1129155"></a><div class="webflare-div-image">
<img src="images/saveOpPoint.gif" /></div>
<a id="pgfId-1124793"></a>For more information about how to add operating points and specify parameters to be saved for each operating point, see <a actuate="user" class="URL" href="../Explorer/chap4.html#SaveOP" show="replace" xml:link="simple">Saving Operating Points</a> in <em>Virtuoso ADE Explorer User Guide</em>.</li><li>
<a id="pgfId-1124834"></a>Run a simulation in ADE Explorer without specifying the operating points.</li><li>
<a id="pgfId-1124841"></a>In the <em>In Context Results DB</em> field in Calculator, specify the results directory path that contains the simulation results.</li></ul>







<p>
<a id="pgfId-1124802"></a>Now, perform the following steps to create expressions for DC operating point functions:</p>

<ol><li>
<a id="pgfId-1129219"></a>In the Outputs Setup tab of ADE Explorer, click <em>Expression</em> from the drop-down list. A new row of type <code>expr</code> is added in the Outputs Setup tab. <br />
<a id="pgfId-1129300"></a><div class="webflare-div-image">
<img src="images/Expression_output.gif" /></div></li><li>
<a id="pgfId-1129301"></a>In the <em>Name</em> column, specify the name for the expression output.</li><li>
<a id="pgfId-1129302"></a>In the <em>Details</em> column, either directly type an output expression or click the ellipses button to open the Calculator to add an output expression. Alternatively, choose <em>Tools &#8211; Calculator</em> to open the Calculator.<br />
<a id="pgfId-1129267"></a>The Calculator window appears with the <em>In Context Results DB</em> field set to the results directory that has been saved in the current ADE Explorer setup.<br />
<a id="pgfId-1124390"></a><div class="webflare-div-image">
<img width="555" height="505" src="images/chap4-109.gif" /></div></li><li>
<a id="pgfId-1124722"></a>To create an expression for the <code>OT</code> function, select <em>ot</em> on the Schematic Selection toolbar. The design is opened in the schematic window as shown in the figure below.<br />
<a id="pgfId-1124732"></a><div class="webflare-div-image">
<img src="images/opPointFn3.gif" /></div></li><li>
<a id="pgfId-1124733"></a>Select an instance. The <em>OT parameters for &lt;instance_name&gt; </em>form appears. This form lists all the operating point parameters in a drop-down list. If you select an instance that is not added to the Save Operating Points tab of the ADE Explorer window, the drop-down list in this form contains<code> None</code>. <br />
<a id="pgfId-1129102"></a><div class="webflare-div-image">
<img width="315" height="136" src="images/chap4-111.gif" /></div>
<a id="pgfId-1129116"></a>If you already have some operating points saved for the OS and OT instances, they are displayed with an asterisk (*) prefix in the drop-down list (see the figure below).<br />
<a id="pgfId-1129106"></a><div class="webflare-div-image">
<img width="355" height="103" src="images/chap4-112.gif" /></div></li><li>
<a id="pgfId-1124539"></a>Select the parameter for which you want to build expressions. For example, if you select current (<code>i</code>), the following expression is created in the Buffer: <code>OT(&quot;/R1&quot;,&quot;i&quot;)</code></li><li>
<a id="pgfId-1129371"></a>After building an expression, do one of the following:<ul><li>
<a id="pgfId-1129372"></a>In the Calculator window, choose <em>Tools &#8211; Send Buffer Exploression to ADE Outputs</em>.</li><li>
<a id="pgfId-1129415"></a>Click the <em>Send Buffer Exploression to ADE Outputs</em> button <img src="images/Send_to_ADEXL.gif" />
 available on the Schematic Selection toolbar.</li><li>
<a id="pgfId-1129376"></a>In the ADE Explorer Outputs Setup pane, click the <img src="images/pasteBuffer.gif" />
 to paste the expression from the Buffer.</li></ul><br />
<a id="pgfId-1129377"></a>The expression appears in the <em>Details</em> field.</li><li>
<a id="pgfId-1129363"></a>Change the <em>Plot</em> and <em>Save</em> check boxes for the expression, if required.</li><li>
<a id="pgfId-1124913"></a>Run the simulation. The specified expressions are plotted in the graph window if the corresponding <em>Plot</em> check box is selected.</li></ol>




























































<h4>
<a id="pgfId-1124518"></a><a id="53274"></a>Test Toolbar</h4>
<p>
<a id="pgfId-1120245"></a>This field is displayed on the left of the Schematic Selection toolbar if you open the Calculator from ADE Asembler. </p>

<p>
<a id="pgfId-1120246"></a></p>
<div class="webflare-div-image">
<img src="images/Test_toolbar.gif" /></div>
<p>
<a id="pgfId-1120247"></a>The Test field lists the different set of results directories available in the current session, which you can use to build expressions. The results directory in which you are working currently is displayed on the In Context Results DB field. If you select another test directory from the Test list, the In Context results DB field displays continues to display the results directory for which the context in ADE XL is set. </p>
<p>
<a id="pgfId-1109018"></a>The <h-hot><a href="appA.html#test">displayContext</a></h-hot><code>.cdsenv</code> variable controls the display of the <em>Test</em> field.</p>



<h4>
<a id="pgfId-1118773"></a><a id="46853"></a>Send to ADE Button</h4>
<p>
<a id="pgfId-1118780"></a>This toolbar button is displayed on the Selection toolbar.</p>

<p>
<a id="pgfId-1120263"></a></p>
<div class="webflare-div-image">
<img src="images/Send_to_ADEXL.gif" /></div>
<p>
<a id="pgfId-1118832"></a>You can use this toolbar button to move expressions that you create in the Buffer by using the simulation data for the current run to the ADE Outputs section for further analysis.</p>




<h3>
<a id="pgfId-1112691"></a><a id="84360"></a>Working with Expressions in ADE</h3>
<p>
<a id="pgfId-1112761"></a>This section describes how to select a schematic object to build an expression and how to evaluate expressions in ADE.</p>

<h4>
<a id="pgfId-1112754"></a>Selecting Schematic Objects</h4>
<p>
<a id="pgfId-1112702"></a>Before you build an expression in the Calculator, you first need to select a schematic object in the schematic design view. After you select the schematic object, the corresponding expression is created in the Buffer.</p>
<p>
<a id="pgfId-1112289"></a>Perform the following steps to select a schematic object:</p>

<ol><li>
<a id="pgfId-1104158"></a>On the Schematic Selection toolbar, click the required schematic function button.<br />
<a id="pgfId-1104159"></a>The schematic design view appears.</li><li>
<a id="pgfId-1104160"></a>Select an object in the schematic design view. The function selected in the Calculator is applied to the selected schematic object and an expression is created in the Buffer.<br />
<a id="pgfId-1104161"></a>For some function, such as var, a form with additional options appears before the object is sent to the Buffer. </li></ol>






<h4><em>
<a id="pgfId-1106263"></a><a id="65676"></a>Adding Design Variables to Expressions</em></h4>
<p>
<a id="pgfId-1106264"></a>In ADE, you can add design variables from the schematic to the expression that you build in the Calculator.</p>
<p>
<a id="pgfId-1106265"></a>To add a design variable to the expression, perform the following steps:</p>
<ol><li>
<a id="pgfId-1106231"></a>On the Schematic Selection toolbar, select the <em>var</em> option.<br />
<a id="pgfId-1106232"></a>The Virtuoso Schematic Editing window opens and a form named Select an Instance appears.</li><li>
<a id="pgfId-1106233"></a>Select an instance on the schematic. <br />
<a id="pgfId-1107600"></a>The design variables for the instance are displayed in the Select an Instance form.</li><li>
<a id="pgfId-1106235"></a>Select the design variable that you want to add to your expression and click <em>OK</em>.<br />
<a id="pgfId-1106236"></a>The selected design variable appears in the Buffer as follows:<br />
<a id="pgfId-1106218"></a><code>VAR(&quot;CAP&quot;)</code></li></ol>










<h4>
<a id="pgfId-1106788"></a><a id="60263"></a>Evaluating Expressions </h4>
<p>
<a id="pgfId-1106800"></a>You can load the expressions created using the Calculator into the ADE Outputs Setup window. The purpose of Virtuoso Visualization and Analysis XL Calculator in ADE is to build expressions for the current simulation run. </p>
<p>
<a id="pgfId-1112356"></a>When the Calculator is opened from ADE, the expressions are based on the schematic objects; therefore the expressions cannot be evaluated in the Buffer. Instead the expressions are evaluated in ADE immediately after the simulation is run and the results are displayed in the ADE Outputs Setup window. You can use the results to analyze the circuit design. For more information about how to import results to the ADE, see <a href="chap4.html#52585">Opening the Calculator using ADE</a>.</p>


<h4>
<a id="pgfId-1118916"></a>Reloading Expressions using ADE</h4>
<p>
<a id="pgfId-1118927"></a>You can reload a saved expression in the Calculator while running simulation in ADE Explorer and Assembler.</p>
<p>
<a id="pgfId-1118975"></a>For example, if you run a simulation in ADE and create expressions in the Expression Editor, such as <code>E0 = VT(&quot;/vin&quot;) </code>and <code>E1 = E0 + 1</code>, where expression <code>E1</code> is dependent on <code>E0</code> and evaluate these expressions by clicking the <em>Eval</em> button in the Expression Editor. The output signals are plotted in a graph window. </p>
<p>
<a id="pgfId-1118987"></a>Now, if you run the simulation again with different dataset values, the new values for <code>E0</code> and <code>E1</code> are generated in the ADE Outputs section. To update these expression values in the Virtuoso Visualization and Analysis XL graph window, choose <em>File &#8211; Reload</em>. The updated values for <code>E1</code> and <code>E0</code> are displayed in the graph window.</p>



<h3>
<a id="pgfId-1112358"></a><a id="67346"></a>Example of Building an Expression in ADE L</h3>
<p>
<a id="pgfId-1112359"></a>Suppose you want to build an expression to calculate dB20 of the magnitude of the frequency voltage of a schematic object, such as net3. For this, you perform the following steps:</p>

<ol><li>
<a id="pgfId-1106903"></a>In the ADE L Setting Outputs window, click Calculator &#8211; Open. The Virtuoso Visualization and Analysis XL Calculator appears.</li><li>
<a id="pgfId-1106926"></a>In the Calculator window, select vf on the Schematic Selection toolbar. The schematic design view appears.</li><li>
<a id="pgfId-1106965"></a>Select a schematic object, such as net3, in the schematic design view. The following expression is displayed in the Buffer:<br />
<a id="pgfId-1106981"></a>VF(&quot;/net3&quot;)</li><li>
<a id="pgfId-1107012"></a>To calculate the magnitude, select the single parameter mag function from the ALL function category in the Function Panel. The Buffer now has the following expression:<br />
<a id="pgfId-1107272"></a>mag(VF(&quot;/net3&quot;))</li><li>
<a id="pgfId-1107273"></a>To calculate dB20, select the single parameter dB20 function in the ALL function category in the Function Panel. The expression in the Buffer is updated to:<br />
<a id="pgfId-1107117"></a>dB20(mag(VF(&quot;/net3&quot;)))</li><li>
<a id="pgfId-1107256"></a>To move this expression to ADE L, click Get Expression in the ADE L Setting Outputs window. The expression is displayed in the Expression field in this window.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1118887"></a>You can also save the expression in the Expression Editor that you have created. The expression is saved with an expression name. If the expression name already exists in ADE L, a warning message is displayed when you send the expression to ADE L.</div>
<a id="pgfId-1107257"></a><div class="webflare-div-image">
<img src="images/Eg_ADE.GIF" /></div></li><li>
<a id="pgfId-1107258"></a>Enter a name for the expression in Name (opt) field and click Add. The expression is added to the Table of Outputs. The expression is also displayed in the Outputs section of the ADE L window.</li></ol>





















<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1112410"></a>Follow the same sequence of steps to build an expression in the ADE XL. </div>

<p>
<a id="pgfId-1112411"></a>You can similarly build more expressions. These expressions are added to the Outputs section of the ADE L window. After you run the simulation, all expressions are evaluated and the results are displayed in the Value column.</p>


<p>
<a id="pgfId-1107198"></a></p>
<div class="webflare-div-image">
<img src="images/eg_ADE1.GIF" /></div>





<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="aapJ.html" id="prev" title="Working with Graphs">Working with Graphs</a></em></b><b><em><a href="chap5.html" id="nex" title="Working with Virtuoso Visualization and Analysis XL Table">Working with Virtuoso Visualiz ...</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2020, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>