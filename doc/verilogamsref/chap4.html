
<html><head><title>Data Types and Objects</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="jommy" />
<meta name="CreateDate" content="2019-09-18" />
<meta name="CreateTime" content="1568827700" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the analog and mixed-signal aspects of the Cadence Verilog-AMS language. With Verilog-AMS, you can create and use modules that describe the high-level behavior and structure of analog, digital, and mixed-signal components and systems." />
<meta name="DocTitle" content="Cadence Verilog-AMS Language Reference" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Data Types and Objects" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.1" />
<meta name="Keyword" content="verilogamsref" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2019-09-18" />
<meta name="ModifiedTime" content="1568827700" />
<meta name="NextFile" content="chap5.html" />
<meta name="Group" content="Analog Mixed-Signal Simulation" />
<meta name="Platform" content="Functional Verification" />
<meta name="PrevFile" content="chap3.html" />
<meta name="Product" content="Xcelium" />
<meta name="ProductFamily" content="Xcelium" />
<meta name="ProductVersion" content="19.09" />
<meta name="RightsManagement" content="Copyright 2012-2019 Cadence Design Systems Inc." />
<meta name="Title" content="Cadence Verilog-AMS Language Reference -- Data Types and Objects" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="product_feature" content="" />
<meta name="product_subfeature" content="" />
<meta name="Version" content="19.09" />
<meta name="SpaceKey" content="verilogamsref1909" />
<meta name="webflare-version" content="1.4" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="verilogamsrefTOC.html">Contents</a></li><li><a class="prev" href="chap3.html" title="Lexical Conventions">Lexical Conventions</a></li><li style="float: right;"><a class="viewPrint" href="verilogamsref.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="chap5.html" title="Statements for the Analog Block">Statements for the Analog Bloc ...</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Cadence Verilog-AMS Language Reference<br />Product Version 19.09, September 2019</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;">

<h1>4
<a id="pgfId-1031799"></a></h1>
<h1>
<a id="pgfId-1031801"></a><hr />
<a id="31499"></a>Data Types and Objects<hr />
</h1>

<p>
<a id="pgfId-1031802"></a>The Cadence<sup>&#174;</sup> Verilog<sup>&#174;</sup>-AMS language defines these data types and objects. For information about how to use them, see the indicated locations.</p>
<ul><li>
<a id="pgfId-1031809"></a><a href="chap4.html#15828">Real Numbers</a></li><li>
<a id="pgfId-1031813"></a><a href="chap4.html#39933">Parameters</a></li><li>
<a id="pgfId-1140743"></a><a href="chap4.html#52801">Dynamic Parameters</a></li><li>
<a id="pgfId-1118535"></a><a href="chap4.html#47846">Local Parameters</a></li><li>
<a id="pgfId-1129302"></a><a href="chap4.html#43033">Genvars</a></li><li>
<a id="pgfId-1044160"></a><a href="chap4.html#86015">Natures</a></li><li>
<a id="pgfId-1031821"></a><a href="chap4.html#36963">Disciplines</a></li><li>
<a id="pgfId-1031825"></a><a href="chap4.html#33223">Net Disciplines</a></li><li>
<a id="pgfId-1138038"></a><a href="chap4.html#42243">Ground Nodes</a></li><li>
<a id="pgfId-1138042"></a><a href="chap4.html#24779">Real Nets</a></li><li>
<a id="pgfId-1044572"></a><a href="chap4.html#28929">Named Branches</a></li><li>
<a id="pgfId-1044579"></a><a href="chap4.html#32432">Implicit Branches</a></li><li>
<a id="pgfId-1105340"></a>Digital Nets and Registers<br />
<a id="pgfId-1143266"></a><a id="marker-1143265"></a>For information about digital nets and registers, see the &#8220;Registers and Nets&#8221; section, in the &#8220;Data Types&#8221; chapter of the <em>Verilog-XL Reference</em>.</li></ul>














<h2>
<a id="pgfId-1143267"></a>Output Variables</h2>

<p>
<a id="pgfId-1143276"></a></p>

<h2>
<a id="pgfId-1143271"></a><a id="28457"></a>Integer <a id="marker-1143269"></a>Num<a id="integer_numbers"></a>bers<a id="marker-1143270"></a></h2>

<p>
<a id="pgfId-1036039"></a>Use the <code>integer</code><a id="marker-1036038"></a> declaration to declare variables of type integer.</p>

<pre class="webflare-courier-new">
<a id="pgfId-1143296"></a>integer_declaration ::=
&#160;&#160;&#160;&#160;    <strong>integer</strong> list_of_identifiers <strong>;</strong></pre>
<pre class="webflare-courier-new">
<a id="pgfId-1143297"></a>list_of_identifiers ::=
&#160;&#160;&#160;&#160;    var_name { <strong>,</strong> var_name}</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1143298"></a>var_name ::=
&#160;&#160;&#160;&#160;    variable_identifier [ =integer_constant_expression ]
&#160;&#160;&#160;&#160;|&#160;&#160; array_identifier <strong>[</strong> range <strong>] </strong>[=integer_constant_arrayinit<strong> </strong>]</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1143299"></a>range ::=
&#160;&#160;&#160;&#160;    upper_limit_const_exp <strong>:</strong> lower_limit_const_exp</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1143300"></a>integer_constant_arrayinit ::=<br />        &#39;<strong>{</strong> integer_array_init_element_list <strong>}</strong></pre>
<pre class="webflare-courier-new">
<a id="pgfId-1055327"></a>integer_array_init_element_list ::=<br />        integer_constant_expression { , integer_constant_expression }</pre>

<p>
<a id="pgfId-1031840"></a>In Verilog-AMS, you can declare an integer number in a range <a id="marker-1031838"></a>at least <a id="marker-1031839"></a>as great as -2<sup>31</sup> (-2,147,483,648) to 2<sup>31</sup>-1 (2,147,483,647). </p>
<p>
<a id="pgfId-1031842"></a>To declare an array<a id="marker-1031841"></a>, specify the upper and lower indexes of the range. Be sure that each index is a constant expression that evaluates to an integer value.</p>

<pre class="webflare-courier-new">
<a id="pgfId-1143313"></a>integer a[1:64] ;          // Declares array of 64 integers<br />integer b, c, d[-20:0] ;&#160;&#160; // Declares 2 integers and an array</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1143314"></a>parameter integer max_size = 15 from [1:50] ;<br />integer cur_vector[1:max_size] ; <br />/* If the max_size parameter is not overridden, the <br />previous two statements declare an array of 15 integers. */</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1055329"></a>integer x=13; //Declare an integer variable x and assign a value 13 to it<br />integer arr[1:3]={1,2,3}; // Declare an integer array and assign it the values {1,2,3}</pre>

<p>
<a id="pgfId-1117218"></a><a id="marker-1119937"></a><a id="marker-1119938"></a><a id="marker-1119992"></a>The standard attributes for descriptions and units can be used with integer declarations. For example,</p>

<pre class="webflare-courier-new">
<a id="pgfId-1117219"></a><a id="marker-1139335"></a>(* desc=&quot;index number&quot;, units=&quot;index&quot; *) integer indx;</pre>

<p>
<a id="pgfId-1124485"></a>Although the <code>desc</code> and <code>units</code> attributes are allowed, Cadence tools, in this release, do nothing with the information.</p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1138052"></a>
<a id="marker-1112626"></a>Integers have different default initial values depending on how they are used. Integer variables whose values are assigned in an <a href="glossary.html#56602">analog context</a> default to an initial value of zero. Integer variables whose values are assigned in a digital context default to an initial value of <code>x</code>.</div>
<h2>
<a id="pgfId-1031846"></a><a id="15828"></a>Real <a id="marker-1031845"></a>Num<a id="real_numbers"></a>bers</h2>

<p>
<a id="pgfId-1031849"></a>Use the <a id="marker-1031847"></a><code>real</code><a id="marker-1031848"></a> declaration to declare variables of type real.</p>

<pre class="webflare-courier-new">
<a id="pgfId-1143347"></a>real_declaration ::=
&#160;&#160;&#160;&#160;    <strong>real</strong> list_of_identifiers <strong>;</strong></pre>
<pre class="webflare-courier-new">
<a id="pgfId-1143348"></a>list_of_identifiers ::=
&#160;&#160;&#160;&#160;    var_name { <strong>,</strong> var_name }</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1143349"></a>var_name ::=
&#160;&#160;&#160;&#160;    variable_identifier [<strong> </strong>=real_constant_expression ]
&#160;&#160;&#160;&#160;|&#160;&#160; array_identifier <strong>[</strong> range <strong>] </strong>[<strong> </strong>=real_constant_arrayinit<strong> </strong>]</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1143350"></a>range ::=
&#160;&#160;&#160;&#160;    upper_limit_const_exp <strong>:</strong> lower_limit_const_exp</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1143351"></a>real_constant_arrayinit ::=<br />        &#39;<strong>{</strong> real_array_init_element_list <strong>}</strong></pre>
<pre class="webflare-courier-new">
<a id="pgfId-1143352"></a>real_array_init_element_list ::=<br />        real_constant_expression { , real_constant_expression }</pre>

<p>
<a id="pgfId-1031853"></a>In Verilog-AMS, you can declare real numbers in a <a id="marker-1031851"></a>range <a id="marker-1031852"></a>at least as great as 10<sup>-37</sup> to 10<sup>+37</sup>. To declare an <a id="marker-1031854"></a>array of real numbers, specify the upper and lower indexes of the range. Be sure that each index is a constant expression that evaluates to an integer value. </p>

<pre class="webflare-courier-new">
<a id="pgfId-1143374"></a>real a[1:64] ;         // Declares array of 64 reals<br />real b, c, d[-20:0] ;&#160;&#160;// Declares 2 reals and an array of reals</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1143375"></a>parameter integer min_size = 1, max_size = 30 ;<br />real cur_vector[min_size:max_size] ; <br />/* If the two parameters are not overridden, the <br />previous two statements declare an array of 30 reals. */</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1143376"></a>real x=13.1; //Declare an real variable x and assign a value 13.1 to it<br />real arr[1:3]={1.1,2.2,3.3}; // Declare an real array and assign it the values {1.1,2.2,3.3}</pre>

<p>
<a id="pgfId-1041387"></a>Real variables have default initial values of zero.</p>
<p>
<a id="pgfId-1117224"></a><a id="marker-1119940"></a><a id="marker-1119941"></a><a id="marker-1119996"></a>The standard attributes for descriptions and units can be used with real declarations. For example,</p>

<pre class="webflare-courier-new">
<a id="pgfId-1117225"></a><a id="marker-1139338"></a>(* desc=&quot;gate-source capacitance&quot;, units=&quot;F&quot; *) real cgs;</pre>

<p>
<a id="pgfId-1124497"></a>Although the <code>desc</code> and <code>units</code> attributes are allowed, Cadence tools, in this release, do nothing with the information.</p>

<h3>
<a id="pgfId-1031858"></a><a id="marker-1031856"></a><a id="23864"></a>Converting Real Numbers to Integer Numbers</h3>

<p>
<a id="pgfId-1031860"></a>Verilog-AMS <a id="marker-1031859"></a>converts a real number to an integer number by rounding the real number to the nearest integer. If the real number is equally distant from the two nearest integers, Verilog-AMS converts the real number to the integer farthest from zero. The following code fragment illustrates what happens when real numbers are assigned to integer numbers.</p>

<pre class="webflare-courier-new">
<a id="pgfId-1031861"></a>integer     intvalA, intvalB, intvalC ;<br />real&#160;&#160;      realvalA, realvalB, realvalC ;</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1055339"></a>realvalA = -1.7 ;<br />intvalA = realvalA ; // intvalA is -2</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1055341"></a>realvalB = 1.5 ;<br />intvalB = realvalB ; // intvalB is 2</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1055343"></a>realvalC = -1.5 ;<br />intvalC = realvalC ; // intvalC is -2</pre>

<p>
<a id="pgfId-1031862"></a>If either operand in an expression is real, Verilog-AMS converts the other operand to real before applying the operator. This conversion process can result in a loss of information.</p>

<pre class="webflare-courier-new">
<a id="pgfId-1031863"></a>real realvar ;<br />realvar = 9.0 ;<br />realvar = 2/3 * realvar ; // realvar is 9.0, not 6.0</pre>

<p>
<a id="pgfId-1031864"></a>In this example, both 2 and 3 are integers, so 1 is the result of the division. Verilog-AMS converts 1 to 1.0 before multiplying the converted number by 9.0. </p>

<h2>
<a id="pgfId-1142197"></a>Strings</h2>

<p>
<a id="pgfId-1142207"></a>Us<a id="stringdatatype"></a>e the <code>string</code><a id="marker-1142277"></a> declaration to declare the variables of type string.</p>

<pre class="webflare-courier-new">
<a id="pgfId-1142222"></a>string_declaration ::=
&#160;&#160;&#160;&#160;string list_of_identifiers ;</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1142224"></a>list_of_identifiers ::=
&#160;&#160;&#160;&#160;variable_identifier { , variable_identifier}</pre>

<p>
<a id="pgfId-1142226"></a>A string is defined as follows:</p>

<pre class="webflare-courier-new">
<a id="pgfId-1142227"></a>string ::=
&#160;&#160;&#160;&#160;&quot; { Any_ASCII_character_except_newline } &quot;</pre>

<p>
<a id="pgfId-1142266"></a>The following are some examples of the string variable:</p>

<pre class="webflare-courier-new">
<a id="pgfId-1142339"></a>string s1=&#8221;mystring&#8221;; //sets s1 to mystring</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1142346"></a>string s1; // sets s1 to a null value</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1142353"></a>initial s2=s1 // assigns s2 the value of string variable s1</pre>

<p>
<a id="pgfId-1142332"></a>You can use the string variable in both digital and analog blocks. In addition, the string variable written in analog block can be read in the digital block and vice versa. However, you cannot have a string variable specified in both digital and analog blocks in the same module.</p>
<p>
<a id="pgfId-1142654"></a>The following example shows a string variable written in the analog block and read in the digital block:</p>

<pre class="webflare-courier-new">
<a id="pgfId-1142295"></a>module top;</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1142296"></a>   electrical e;</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1142297"></a>   string ab;</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1142298"></a>   initial begin</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1142299"></a>      #2 $display(&quot;digital block: &quot;, ab);</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1142300"></a>   end</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1142301"></a>   analog begin</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1142302"></a>      ab = &quot;atest string&quot;;</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1142303"></a>      V(e) &lt;+ 1.4;</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1142304"></a>   end</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1142287"></a>endmodule</pre>

<p>
<a id="pgfId-1142639"></a>You can use the<code> ==</code>, <code>!=</code>, <code>&lt;</code>, <code>&lt;=</code>, <code>&gt;</code>, <code>&gt;=</code> <code>{Str1, Str2.... Strm}</code>, and <code>{multiplier{Str}}</code> operators with the string variable. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1142664"></a>Currently, the Verilog-AMS string data type does not support built-in functions.</div>

<h2>
<a id="pgfId-1137217"></a><a id="marker-1112630"></a><a id="39933"></a>Parameters<a id="marker-1031866"></a></h2>

<p>
<a id="pgfId-1040528"></a><a id="marker-1031868"></a>Use the <code>parameter</code><a id="marker-1031869"></a> declaration to specify the parameters of a module.</p>

<pre class="webflare-courier-new">
<a id="pgfId-1041395"></a>parameter_declaration ::=
&#160;&#160;&#160;&#160;    <strong>parameter</strong> [opt_type] list_of_param_assignments<strong> ;</strong></pre>
<pre class="webflare-courier-new">
<a id="pgfId-1142094"></a>opt_type ::=
&#160;&#160;&#160;&#160;    <strong>real<br /></strong> |&#160;&#160; <strong>integer
&#160;&#160;&#160;&#160;</strong>|<strong>   string</strong></pre>
<pre class="webflare-courier-new">
<a id="pgfId-1142095"></a>list_of_param_assignments ::=
&#160;&#160;&#160;&#160;    declarator_init {<strong>,</strong> declarator_init }</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1136835"></a>declarator_init ::=
&#160;&#160;&#160;&#160;    <code><em>parameter_id</em></code> <strong>=</strong> <code><em>constant_exp</em></code> { opt_value_range }
&#160;&#160;&#160;&#160;|&#160;&#160; <code>parameter_array_init</code></pre>

<p>
<a id="pgfId-1045804"></a><code>opt_type</code> is described in <a href="chap4.html#26874">&#8220;Specifying a Parameter Type&#8221;</a>. Note that for parameter arrays, however, you must specify a type.</p>
<p>
<a id="pgfId-1041402"></a><code>opt_value_range</code> is described in <a href="chap4.html#22352">&#8220;Specifying Permissible Values&#8221;</a>.</p>
<p>
<a id="pgfId-1040589"></a><span class="webflare-courier-new" style="white-space:pre"><em>parameter_id</em></span> is the name of a parameter being declared.</p>
<p>
<a id="pgfId-1134219"></a><code>param_array_init</code> is described in <a href="chap4.html#66781">&#8220;Specifying Parameter Arrays&#8221;</a>.</p>
<p>
<a id="pgfId-1040575"></a>As specified in the syntax, the right-hand side of each <code>declarator_init</code> assignment must be a constant expression. You can include in the constant expression only constant numbers and previously defined parameters<a id="marker-1040551"></a> or dynamic parameters.</p>
<p>
<a id="pgfId-1031874"></a>Parameters are constants, so you cannot change the value of a parameter at runtime. However, you can <a id="marker-1031875"></a>customize module instances by changing parameter values during compilation. See <a href="chap10.html#40611">&#8220;Overriding Parameter Values in Instances&#8221;</a> for more information.</p>
<p>
<a id="pgfId-1031880"></a>Consider the following code fragment. <a id="marker-1031879"></a>The parameter <code>superior</code> is defined by a constant expression that includes the parameter <code>subord</code>.</p>

<pre class="webflare-courier-new">
<a id="pgfId-1031881"></a>parameter integer subord = 8 ;<br />parameter integer superior = 3 * subord ;</pre>

<p>
<a id="pgfId-1031882"></a>In this example, changing the value of <code>subord</code> changes the value of <code>superior</code> too because the value of <code>superior</code> depends on the value of <code>subord</code>.</p>
<p>
<a id="pgfId-1117242"></a><a id="marker-1119952"></a><a id="marker-1119953"></a><a id="marker-1119994"></a>The standard attributes for descriptions and units can be used with parameter declarations. For example,</p>

<pre class="webflare-courier-new">
<a id="pgfId-1117243"></a><a id="marker-1139342"></a>(* desc=&quot;Resistance&quot;, units=&quot;ohms&quot; *) parameter real res = 1.0 from [0:inf);</pre>

<p>
<a id="pgfId-1124505"></a>Although the <code>desc</code> and <code>units</code> attributes are allowed, Cadence tools, in this release, do nothing with the information.</p>

<h3>
<a id="pgfId-1128750"></a><a id="marker-1112632"></a><a id="26874"></a>Specifying a Parameter Type</h3>

<p>
<a id="pgfId-1031886"></a>You must specify a <a id="marker-1031884"></a><a id="marker-1031885"></a>default for each parameter you define, but the parameter <a id="marker-1031887"></a>type specifier is optional (except that you must specify a type for parameter arrays). If you omit the parameter <a id="marker-1031888"></a>type specifier, Verilog-AMS determines the parameter <a id="marker-1031889"></a>type from the constant expression. If you do specify a type, and it conflicts with the type of the constant expression, your specified type takes precedence. </p>
<p>
<a id="pgfId-1138084"></a>Implicitly declared types and explicitly declared types can make parameter values look different when you examine their values. For example, you create a module <code>testtype</code>.</p>

<pre class="webflare-courier-new">
<a id="pgfId-1138085"></a>module testtype;<br />parameter  c= {3&#8217;b000, 3&#8217;b111}, f= 3.4;<br />parameter integer c1 = {3&#8217;b000, 3&#8217;b111}, f1 = 3.4;<br />endmodule</pre>

<p>
<a id="pgfId-1138086"></a>You then use Tcl commands to examine the values:</p>

<pre class="webflare-courier-new">
<a id="pgfId-1138087"></a>xcelium&gt; describe c<br />c..........parameter [5:0] = 6&#8217;h07<br />xcelium&gt; describe c1<br />c1.........parameter (integer) = 7<br />xcelium&gt; describe f<br />f..........parameter (real) = 3.4<br />xcelium&gt; describe f1<br />f1.........parameter (integer) = 3</pre>

<p>
<a id="pgfId-1138088"></a>These results occur because <code>c</code> is a 6-bit value but <code>c1</code> is a 32-bit value (because it is explicitly declared as an integer).</p>
<p>
<a id="pgfId-1031890"></a>The three parameter declarations in the following examples all have the same effect. The first example illustrates a case where the type of the expression agrees with the type specified for the parameter.</p>

<pre class="webflare-courier-new">
<a id="pgfId-1031891"></a>parameter integer rate = 13 ;</pre>

<p>
<a id="pgfId-1031892"></a>The second example omits the parameter type, so Verilog-AMS derives it from the integer type of the expression.</p>

<pre class="webflare-courier-new">
<a id="pgfId-1031893"></a>parameter rate = 13 ;</pre>

<p>
<a id="pgfId-1031894"></a>In the third example, the expression type is real, which conflicts with the specified parameter type. The specified type, integer, takes precedence.</p>

<pre class="webflare-courier-new">
<a id="pgfId-1031895"></a>parameter integer rate = 13.0</pre>

<p>
<a id="pgfId-1031896"></a>In all three cases, <code>rate</code> is declared as an integer parameter with the value 13.</p>

<h3>
<a id="pgfId-1031898"></a><a id="marker-1112634"></a><a id="22352"></a>Specifying<a id="marker-1031897"></a> Permissible Values</h3>

<p>
<a id="pgfId-1031900"></a>Use the optional range specification to designate <a id="marker-1031899"></a>permissible values for a parameter. If you need to, you can specify more than one range.</p>

<pre class="webflare-courier-new">
<a id="pgfId-1031901"></a>opt_value_range ::=
&#160;&#160;&#160;&#160;    <strong>from</strong> value_range_specifier
&#160;&#160;&#160;&#160;|&#160;&#160; <strong>exclude</strong> value_range_specifier
&#160;&#160;&#160;&#160;|&#160;&#160; <strong>exclude</strong> <code><em>value_constant_expression</em></code></pre>
<pre class="webflare-courier-new">
<a id="pgfId-1055351"></a>value_range_specifier ::=
&#160;&#160;&#160;&#160;    start_paren expression1 <strong>:</strong> expression2 end_paren</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1055353"></a>start_paren ::=
&#160;&#160;&#160;&#160;    <strong>[<br /></strong> |&#160;&#160; <strong>(</strong></pre>
<pre class="webflare-courier-new">
<a id="pgfId-1055355"></a>end_paren ::=
&#160;&#160;&#160;&#160;    <strong>]<br /></strong> |&#160;&#160; <strong>)</strong></pre>
<pre class="webflare-courier-new">
<a id="pgfId-1055357"></a>expression1 ::=
&#160;&#160;&#160;&#160;    <code><em>constant_expression<br /></em></code> |&#160;&#160; <strong>-inf</strong></pre>
<pre class="webflare-courier-new">
<a id="pgfId-1055359"></a>expression2 ::=
&#160;&#160;&#160;&#160;    <code><em>constant_expression<br /></em></code> |&#160;&#160; <strong>inf</strong></pre>

<p>
<a id="pgfId-1031903"></a>Ensure that the first expression in each range specifier is smaller than the second expression. Use a bracke<a id="marker-1031904"></a><a id="marker-1031905"></a><a id="marker-1031906"></a>t, either &#8220;[&#8221; for the lower bound or &#8220;]&#8221; for the upper, to <a id="marker-1031907"></a>include<a id="marker-1031908"></a> an end point in the range. Use <a id="marker-1031909"></a>a <a id="marker-1031910"></a>parenthesi<a id="marker-1031911"></a>s, either &#8220;(&#8221; for the lower bound or &#8220;)&#8221; for the upper, to exclude an end point from the range. To indicate the value <a id="marker-1031912"></a>infinity in a range, use the keyword <code>inf</code>. To indicate negative infinity, use <code>-inf</code><a id="marker-1031913"></a>.</p>
<p>
<a id="pgfId-1031914"></a>For example, the following declaration gives the parameter <code>cur_val</code> the default of -15.0. The range specification allows <code>cur_val</code> to acquire values in the range -∞ &lt; <code>cur_val</code> &lt; 0. </p>

<pre class="webflare-courier-new">
<a id="pgfId-1031918"></a>parameter real maxval = 0.0 ;<br />parameter real cur_val = -15.0 from (-inf:maxval) ;</pre>

<p>
<a id="pgfId-1031919"></a>The following declaration</p>

<pre class="webflare-courier-new">
<a id="pgfId-1031920"></a>parameter integer pos_val = 30 from (0:40] ;</pre>

<p>
<a id="pgfId-1031921"></a>gives the parameter <code>pos_val</code> the default of 30. The range specification for <code>pos_val</code> allows it to acquire values in the range 0 &lt; <code>pos_val</code> &lt;= 40. </p>
<p>
<a id="pgfId-1031922"></a>In addition to defining a range of permissible values for a parameter, you can use the keyword <code>exclude</code><a id="marker-1031923"></a> to define certain values as illegal. </p>

<pre class="webflare-courier-new">
<a id="pgfId-1031924"></a>parameter low = 10 ;<br />parameter high = 20 ;<br />parameter integer intval = 0 from [0:inf) exclude (low:high] exclude 5 ;</pre>

<p>
<a id="pgfId-1031925"></a>In this example, both a range of values, 10 &lt; value &lt;= 20, and the single value 5 are defined as illegal for the parameter <code>intval</code>.</p>

<h3>
<a id="pgfId-1134223"></a><a id="66781"></a>Specifying <a id="marker-1137049"></a>Parameter Arrays</h3>

<p>
<a id="pgfId-1136824"></a>Use the parameter array initiation part of the parameter declaration (<a href="chap4.html#39933">&#8220;Parameters&#8221;</a>) to specify information for parameter arrays.</p>

<pre class="webflare-courier-new">
<a id="pgfId-1136873"></a>parameter_array_init ::=
&#160;&#160;&#160;&#160; <code><em>parameter_array_id</em></code> range <strong>=</strong> constant_param_arrayinit {opt_value_range}</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1136876"></a>range ::=
&#160;&#160;&#160;&#160; <strong>[</strong> constant_expression <strong>:</strong> constant_expression <strong>]</strong></pre>
<pre class="webflare-courier-new">
<a id="pgfId-1136936"></a>constant_param_arrayinit ::= 
&#160;&#160;&#160;&#160;    <strong>{</strong> param_arrayinit_element_list <strong>}<br /></strong> |&#160;&#160; <strong>&#8216;{</strong> param_arrayinit_element_list <strong>}<br /></strong> |&#160;&#160; <strong>&#8216;{</strong> replicator_element_list <strong>}</strong></pre>
<pre class="webflare-courier-new">
<a id="pgfId-1136931"></a>param_arrayinit_element_list ::=
&#160;&#160;&#160;&#160;    constant_expression { <strong>,</strong> constant_expression }</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1134232"></a>replicator_element_list ::=  
&#160;&#160;&#160;&#160;|&#160;&#160; <code>replicator_constant_expression</code> <strong>{</strong>constant_expression<strong>}</strong></pre>

<p>
<a id="pgfId-1137044"></a><span class="webflare-courier-new" style="white-space:pre"><em>parameter_array_id</em></span> is the name of a parameter array being declared.</p>
<p>
<a id="pgfId-1136894"></a><code>opt_value_range</code> is described in <a href="chap4.html#22352">&#8220;Specifying Permissible Values&#8221;</a>.</p>
<p>
<a id="pgfId-1135601"></a><code>replicator_constant_expression</code> is an integer constant with a value greater than zero that specifies the number of times the associated <code>constant_expression</code> is to be included in the element list. </p>
<p>
<a id="pgfId-1136944"></a>For example, parameter arrays might be declared and used as follows:</p>

<pre class="webflare-courier-new">
<a id="pgfId-1136945"></a>parameter integer<br />   IVgc_length = 4;</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1136951"></a>parameter real<br />   I_gc[1:IVgc_length] = &#8216;{4{0.00}};<br />   V_gc[1:IVgc_length] = &#8216;{-5.00, -1.00,  5.00, 10.00};</pre>

<p>
<a id="pgfId-1137009"></a>Parameter arrays are subject to the following restrictions:</p>
<ul><li>
<a id="pgfId-1137010"></a>The type of a parameter array must be specified in the declaration.</li><li>
<a id="pgfId-1137012"></a>An array assigned to an instance of a module must be of the exact size of the array bounds of that instance.</li><li>
<a id="pgfId-1137014"></a>If the array size is changed via a parameter assignment, the parameter array must be assigned an array of the new size from the same module as the parameter assignment that changed the parameter array size.</li></ul>



<h2>
<a id="pgfId-1142452"></a>String Param<a id="stringparameter"></a>eters</h2>

<p>
<a id="pgfId-1142470"></a>Use the string parameter declaration to declare a parameter of type string.</p>

<pre class="webflare-courier-new">
<a id="pgfId-1142471"></a>string_parameter_declaration ::=</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1142472"></a> <strong>parameter string</strong> stringparam = constant_expression {value_range};</pre>

<p>
<a id="pgfId-1142473"></a><code>stringparam</code> is the name of the string parameter being declared.</p>
<p>
<a id="pgfId-1142474"></a><code>constant_expression</code> is the value to be assumed by stringparam.</p>
<p>
<a id="pgfId-1142475"></a>For example, the following code declares a string parameter named <code>tmdata</code> and assigns the value <code>table1.dat</code> to it.</p>

<pre class="webflare-courier-new">
<a id="pgfId-1142477"></a>parameter string tmdata = &quot;table1.dat&quot; ;</pre>

<p>
<a id="pgfId-1142527"></a>In Verilog-AMS, the string parameter supports a range value. The range value must be enclosed in curly braces and preceded with an apostrophe (&#8216;), as shown in the following example:</p>

<pre class="webflare-courier-new">
<a id="pgfId-1142537"></a>parameter string transistortype = &quot;NMOS&quot; from &#39;{ &quot;NMOS&quot;, &quot;PMOS&quot; };</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1142556"></a>parameter string filename = &quot;output.dat&quot; exclude &#39;{ &quot;&quot; };</pre>

<p>
<a id="pgfId-1142588"></a>The string parameter can be used in both digital and analog blocks.</p>
<p>
<a id="pgfId-1143119"></a>The parameter values can be overridden by using the <code>defparam</code> statement or by using the module instantiation statement (see <a href="chap10.html#40611">Overriding Parameter Values in Instances</a>).</p>

<h2>
<a id="pgfId-1143131"></a>Parameter Ali<a id="param_alias"></a>ases</h2>

<p>
<a id="pgfId-1143132"></a>Use the <code>aliasparam</code> declaration to define one or more aliases for a parameter. With this capability, you can define alternative names that can be used for overriding module parameter values.</p>

<pre class="webflare-courier-new">
<a id="pgfId-1143133"></a>aliasparam_declaration ::=</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1143134"></a>     <strong>aliasparam</strong> alias_identifier = parameter_identifier <strong>;</strong></pre>

<p>
<a id="pgfId-1143135"></a>Parameter aliases are subject to the following restrictions.</p>
<ul><li>
<a id="pgfId-1143136"></a>The type of <code>alias_identifier</code> (real, integer, or string) is determined by the <code>parameter_identifier</code>, and its range of permissible values, if they are specified. </li><li>
<a id="pgfId-1143137"></a>There can be multiple aliases pointing to the same <code>parameter_identifier</code>.</li><li>
<a id="pgfId-1143138"></a>The <code>alias_identifier</code> must not conflict with a different <code>parameter_identifier</code>.</li><li>
<a id="pgfId-1143139"></a>The <code>alias_identifier</code> must not be used for any other object in the module. Equations in the module must reference <code>parameter_identifier</code>, not <code>alias_identifier</code>.</li></ul>



<p>
<a id="pgfId-1143140"></a>You must not use both <code>alias_identifier</code> and its corresponding <code>parameter_identifier</code> to specify a parameter override. Similarly, you must not use multiple aliases corresponding to a single <code>parameter_identifier</code> to specify a parameter override.</p>
<p>
<a id="pgfId-1143141"></a>For example, the module nmos includes the following declarations.</p>

<pre class="webflare-courier-new">
<a id="pgfId-1143142"></a>parameter real dtemp = 0 from [-&#8216;P_CELSIUS0:inf) ;</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1143143"></a>aliasparam trise = dtemp ;</pre>

<p>
<a id="pgfId-1143144"></a>The first two instantiations of the module below are valid, but the third is not.</p>

<pre class="webflare-courier-new">
<a id="pgfId-1143145"></a>nmos #(.trise(5)) m1(.d(d), .g(g), .s(s), .b(b)) ;</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1143146"></a>nmos #(.dtemp(5)) m2(.d(), .g(g), .s(s), .b(b)) ;</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1143147"></a>nmos #(.trise(5), .dtemp(5)) m3(.d(d), .g(g), .s(s), .b(b)) ; // Illegal.</pre>

<p>
<a id="pgfId-1143148"></a>The third instantiation is illegal because overrides are specified for the parameter dtemp and also its alias trise.</p>
<p>
<a id="pgfId-1143149"></a>You can also define an alias for the hierarchical system parameter function <code>$mfactor</code>, as shown below.</p>

<pre class="webflare-courier-new">
<a id="pgfId-1143123"></a>aliasparam my_m = $mfactor</pre>
<h2>
<a id="pgfId-1143125"></a><a id="52801"></a>Dynamic Parameters</h2>

<p>
<a id="pgfId-1140352"></a>Use the <code>dynamicparam</code><a id="marker-1140360"></a> declaration to specify the parameters of a module.</p>

<pre class="webflare-courier-new">
<a id="pgfId-1140380"></a>parameter_declaration ::=
&#160;&#160;&#160;&#160;    <strong>dynamicparam</strong> [opt_type] list_of_param_assignments<strong> ;</strong></pre>

<p>
<a id="pgfId-1140372"></a>The use of dynamic parameters enables you to change the value of a parameter during simulation. It also allows you to reference global parameters without having their values passed down through the hierarchy. This is done by supporting OOMR parameter references in <code>defparam</code> value expressions and parameter default value expressions.</p>
<p>
<a id="pgfId-1140474"></a>Following are some important points that must be kept in mind while using dynamic parameters in Verilog-AMS.</p>
<ul><li>
<a id="pgfId-1140434"></a>Dynamic parameters can be used at all places where normal parameters can be used. They are set exactly like normal parameters. In addition, dynamic parameters are evaluated as part of the normal parameter evaluation process as if they were normal parameters.</li><li>
<a id="pgfId-1140484"></a>In contrast to normal parameters, OOMR references to dynamic parameters are allowed in <code>defparams</code>.<br />
<a id="pgfId-1140509"></a>Example:<pre class="webflare-pre-block webflare-courier-new" id="#id1140534">
<a id="pgfId-1140534"></a>module top();</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1140535">
<a id="pgfId-1140535"></a>dynamicparam myvar = 0.133;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1140536">
<a id="pgfId-1140536"></a></pre><pre class="webflare-pre-block webflare-courier-new" id="#id1140537">
<a id="pgfId-1140537"></a>Boo B1;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1140538">
<a id="pgfId-1140538"></a>...</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1140539">
<a id="pgfId-1140539"></a>...</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1140540">
<a id="pgfId-1140540"></a>endmodule</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1140541">
<a id="pgfId-1140541"></a></pre><pre class="webflare-pre-block webflare-courier-new" id="#id1140542">
<a id="pgfId-1140542"></a>module Boo</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1140543">
<a id="pgfId-1140543"></a>Foo F1;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1140544">
<a id="pgfId-1140544"></a></pre><pre class="webflare-pre-block webflare-courier-new" id="#id1140545">
<a id="pgfId-1140545"></a>defparam top.B1.F1.param1 = top.myvar*3; // defparam usage</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1140546">
<a id="pgfId-1140546"></a></pre><pre class="webflare-pre-block webflare-courier-new" id="#id1140526">
<a id="pgfId-1140526"></a>endmodule</pre></li><li>
<a id="pgfId-1140580"></a>Although OOMR references are not allowed in parameter assignments, the same effect can be achieved by having a local <code>defparam</code>.<br />
<a id="pgfId-1140583"></a>Example:<pre class="webflare-pre-block webflare-courier-new" id="#id1140584">
<a id="pgfId-1140584"></a>module Foo();</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1140585">
<a id="pgfId-1140585"></a>parameter param1 = 0;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1140586">
<a id="pgfId-1140586"></a></pre><pre class="webflare-pre-block webflare-courier-new" id="#id1140587">
<a id="pgfId-1140587"></a>defparam param1 = top.myvar*2; // equivalent to allowing defparams to default
                               // parameter values</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1140516">
<a id="pgfId-1140516"></a>endmodule</pre></li><li>
<a id="pgfId-1140618"></a>It is illegal for a dynamic parameter to affect design topology.</li><li>
<a id="pgfId-1140929"></a>It is illegal for a parameter value that is dependent on dynamic parameters to affect design topology. A parameter is dependent on a dynamic parameter if the value of the dynamic parameter has an affect on the final computed value of that parameter.</li><li>
<a id="pgfId-1140690"></a>It is illegal for a parameter value that is dependent on dynamic parameters to be referenced from a digital context.</li></ul>































<h2>
<a id="pgfId-1118132"></a><a id="47846"></a>Local Parameters</h2>

<p>
<a id="pgfId-1118136"></a><a id="marker-1118130"></a>Use the <code>localparam</code><a id="marker-1118131"></a> declaration to specify the parameters of a module.</p>

<pre class="webflare-courier-new">
<a id="pgfId-1118133"></a>parameter_declaration ::=
&#160;&#160;&#160;&#160;    <strong>localparam</strong> [opt_type] list_of_param_assignments<strong> ;</strong></pre>

<p>
<a id="pgfId-1139261"></a>You cannot directly modify local parameters using ordered or named parameter value assignments or the <code>defparam</code> statement. </p>
<p>
<a id="pgfId-1137635"></a>Paramsets are subject to the following <a id="marker-1139278"></a>restrictions:</p>
<ul><li>
<a id="pgfId-1137373"></a>You cannot use the <code>alter</code> and <code>altergroup</code> statements when you use paramsets. </li><li>
<a id="pgfId-1137636"></a>You cannot store paramsets in the Cadence library.cell:view configurations (or &#8220;5x&#8221; configurations). </li></ul>


<h2>
<a id="pgfId-1129373"></a><a id="marker-1112638"></a><a id="43033"></a>Genvars</h2>

<p>
<a id="pgfId-1129374"></a>Use the <code>genvar</code> declaration to specify a list of integer-valued variables used to compose static expressions for use with behavioral loops.</p>

<pre class="webflare-courier-new">
<a id="pgfId-1129375"></a>genvar_declaration ::=
&#160;&#160;&#160;&#160;<strong>genvar</strong> <code><em>genvar_identifier</em></code> {<strong>,</strong> <code><em>genvar_identifier</em></code>}</pre>

<p>
<a id="pgfId-1129376"></a>Genvar variables can be assigned only in limited contexts, such as accessing analog signals within behavioral looping constructs. For example, in the following fragment, the genvar variable <code>i</code> can only be assigned within the control of the <code>for</code> loop. Assignments to the genvar variable <code>i</code> can consist of only expressions of static values, such as parameters, literals, and other genvar variables.</p>

<pre class="webflare-courier-new">
<a id="pgfId-1129377"></a>genvar i ;
analog begin
&#160;&#160;&#160;&#160;...
&#160;&#160;&#160;&#160;for (i = 0; i &lt; 8; i = i + 1) begin
&#160;&#160;&#160;&#160;     V(out[i]) &lt;+ transition(value[i], td, tr) ;
&#160;&#160;&#160;&#160;end
&#160;&#160;&#160;&#160;...<br />end</pre>

<p>
<a id="pgfId-1130306"></a>The next example illustrates how genvar variables can be nested.</p>

<pre class="webflare-courier-new">
<a id="pgfId-1130309"></a>module gen_case(in,out);<br />input [0:1] in;<br />output [0:1] out;<br />electrical [0:1] in;<br />electrical [0:1] out;<br />genvar i, j;</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1130338"></a>  analog begin<br />    for( i=1 ; i&lt;0 || i &lt;= 4; i = i + 1 ) begin<br />      for( j = 0 ; j &lt; 4 ; j = j + 1 ) begin<br />        $strobe(&quot;%d %d&quot;, j, i);<br />      end<br />    end</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1130340"></a>    for( j = 0; j &lt; 2; j = j + 1 ) begin<br />      V(out[j], in[j]) &lt;+ I(out[j], in[j]);<br />    end<br />  end</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1130348"></a>endmodule</pre>

<p>
<a id="pgfId-1129378"></a>A <em>genvar expression</em> is an expression that consists of only literals and genvar variables. You can also use the <code>$param_given</code> function in genvar expressions.</p>

<h2>
<a id="pgfId-1104861"></a><a id="marker-1112640"></a><a id="86015"></a>Natures</h2>

<p>
<a id="pgfId-1031931"></a>Use the <a id="marker-1031928"></a>natur<a id="marker-1031929"></a>e declaration to define a collection of attributes as a <a id="marker-1031930"></a>nature. The attributes of a nature characterize the analog quantities that are solved for during a simulation. Attributes define the units (such as meter, gram, and newton), access symbols and tolerances associated with an analog quantity, and can define other characteristics as well. After you define a nature, you can use it as part of the definition of disciplines and other natures.</p>

<pre class="webflare-courier-new">
<a id="pgfId-1031932"></a>nature_declaration ::=
&#160;&#160;&#160;&#160;    <strong>nature</strong> nature_name
&#160;&#160;&#160;&#160;    [ nature_descriptions ]
&#160;&#160;&#160;&#160;    <strong>endnature</strong></pre>
<pre class="webflare-courier-new">
<a id="pgfId-1055367"></a>nature_name ::=
&#160;&#160;&#160;&#160;    nature_identifier</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1055369"></a>nature_descriptions ::=
&#160;&#160;&#160;&#160;    nature_description
&#160;&#160;&#160;&#160;|&#160;&#160; nature_description nature_descriptions</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1055371"></a>nature_description ::=
&#160;&#160;&#160;&#160;    attribute <strong>=</strong> constant_expression <strong>;</strong></pre>
<pre class="webflare-courier-new">
<a id="pgfId-1055373"></a>attribute ::=
&#160;&#160;&#160;&#160;    <strong>abstol<br /></strong> |&#160;&#160; <strong>access<br /></strong> |&#160;&#160; <strong>ddt_nature<br /></strong> |&#160;&#160; <strong>idt_nature<br /></strong> |&#160;&#160; <strong>units<br /></strong> |&#160;&#160; <em>
identifier
&#160;&#160;&#160;&#160;
|&#160;&#160; Cadence_specific_attribute</em></pre>
<pre class="webflare-courier-new">
<a id="pgfId-1055375"></a>Cadence_specific_attribute ::=
&#160;&#160;&#160;&#160;    <strong>huge<br /></strong> |&#160;&#160; <strong>blowup<br /></strong> |&#160;&#160; <strong>maxdelta</strong></pre>

<p>
<a id="pgfId-1031934"></a>Each of your nature declarations <a id="marker-1031933"></a>must</p>
<ul><li>
<a id="pgfId-1031935"></a>Be named with a unique identifier</li><li>
<a id="pgfId-1031938"></a>Include all the required attributes listed in <a href="chap4.html#34483">Table&#160;4-3</a>.</li><li>
<a id="pgfId-1031940"></a>Be declared at the top level<br />
<a id="pgfId-1043835"></a>This requirement means that you cannot nest nature declarations inside other nature, discipline, or module declarations.</li></ul>





<p>
<a id="pgfId-1043839"></a>The Verilog-AMS language specification allows you to define a nature in two ways. One way is to define the nature directly by describing its attributes. A nature defined in this way is a <a id="marker-1043840"></a><a id="marker-1043841"></a><em>base</em> <em>nature</em>, one that is not derived from another already declared nature or discipline.</p>
<p>
<a id="pgfId-1031945"></a>The other way you can define a nature is to derive it from another nature or a discipline. In this case, the new nature is called a <a id="marker-1031946"></a><a id="marker-1031947"></a><em>derived nature</em>.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1038207"></a>This release of Verilog-AMS does not support derived natures. </div>

<h3>
<a id="pgfId-1031949"></a><a id="marker-1112642"></a>Declaring a Base Nature</h3>

<p>
<a id="pgfId-1031954"></a>To declare a <a id="marker-1031950"></a><a id="marker-1031951"></a>base nature, you define the <a id="marker-1031952"></a>attributes of the <a id="marker-1031953"></a>nature. For example, the following code declares the nature <code>current</code> by specifying five attributes. As required by the syntax, the expression associated with each attribute must be a constant expression.</p>

<pre class="webflare-courier-new">
<a id="pgfId-1031955"></a>nature Mycurrent
&#160;&#160;&#160;&#160;units = &quot;A&quot; ;
&#160;&#160;&#160;&#160;access = I ;
&#160;&#160;&#160;&#160;idt_nature = charge ;
&#160;&#160;&#160;&#160;abstol = 1e-12 ;
&#160;&#160;&#160;&#160;huge = 1e6 ;<br />endnature </pre>

<p>
<a id="pgfId-1042288"></a>Verilog-AMS provides the predefined attributes described in the &#8220;Predefined Attributes&#8221; table. Cadence provides the additional attributes described in <a href="chap4.html#33147">Table&#160;4-2</a>. You can also declare user-defined attributes by declaring them just as you declare the predefined attributes. The <a id="marker-1042292"></a>Cadence AMS Designer simulator ignores user-defined attributes, but other simulators might recognize them. When you code user-defined attributes, be certain that the name of each attribute is unique in the nature you are defining. </p>
<p>
<a id="pgfId-1032010"></a>The following table describes the predefined attributes.</p>

<p>
<a id="pgfId-1081335"></a></p>
<table class="webflareTable" id="#id1031961">
<caption style="text-align:left;"><p>
</p><h4>Table 4-1
<a id="pgfId-1031966"></a><a id="41791"></a>Predefined Attributes </h4></caption>
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1031971">
<a id="pgfId-1031971"></a>Attribute</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1031973">
<a id="pgfId-1031973"></a>Description </span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1031977"></a><code>abstol</code><a id="marker-1031975"></a><a id="marker-1031976"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1031979"></a>Specifies a tolerance measure used by the simulator to determine when potential or flow calculations have converged. <code>abstol</code> specifies the maximum negligible value for signals associated with the nature. For more information, see <a href="appA.html#30937">&#8220;Convergence&#8221;</a>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1031986"></a><code>access</code><a id="marker-1031984"></a><a id="marker-1031985"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1031989"></a>Identifies the name of the access function for this <a id="marker-1031988"></a>nature. When this nature is bound to a potential value, <code>access</code> is the access function for the potential. Similarly, when this nature is bound to a flow value, <code>access</code> is the access function for the flow. Each access function must have a unique name. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1031993"></a><code>units</code><a id="marker-1031991"></a><a id="marker-1031992"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1031995"></a>Specifies the units to be used for the value accessed by the access function.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1031999"></a><code>idt_nature</code><a id="marker-1031997"></a><a id="marker-1031998"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1038825"></a>Specifies a nature to apply when the <code>idt</code> or <code>idtmod</code> operators are used. </p>
<p>
<a id="pgfId-1032002"></a><strong>Note</strong>: This release of Verilog-AMS ignores this attribute.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032006"></a><code>ddt_nature</code><a id="marker-1032004"></a><a id="marker-1032005"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1038836"></a>Specifies a nature to apply when the <code>ddt</code> operator is used. </p>
<p>
<a id="pgfId-1032009"></a><strong>Note</strong>: This release of Verilog-AMS ignores this attribute.</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1032033"></a>The next table describes the Cadence-specific attributes.</p>

<p>
<a id="pgfId-1081342"></a></p>
<table class="webflareTable" id="#id1032011">
<caption style="text-align:left;"><p>
</p><h4>Table 4-2
<a id="pgfId-1032014"></a><a id="33147"></a>Cadence-Specific Attributes</h4></caption>
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1032018">
<a id="pgfId-1032018"></a>Attribute</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1032020">
<a id="pgfId-1032020"></a>Description </span>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032024"></a><code>huge</code><a id="marker-1032022"></a><a id="marker-1032023"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032026"></a>Specifies the maximum change in signal value allowed during a single iteration. The simulator uses <code>huge</code> to facilitate convergence when signal values are very large. Default: 45.036e06</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1032030"></a><code>blowup</code><a id="marker-1032028"></a><a id="marker-1032029"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1042313"></a>Specifies the maximum allowed value for signals associated with the nature. If the signal exceeds this value, the simulator reports an error and stops running. Default: 1.0e09</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1042318"></a><code>maxdelta</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1042320"></a>Specifies the maximum change allowed on a Newton-Raphson iteration. Default: 0.3</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1038212"></a>The next table specifies the requirements for the predefined and Cadence-specific attributes.</p>

<p>
<a id="pgfId-1072869"></a></p>
<table class="webflareTable" id="#id1038213">
<caption style="text-align:left;"><p>
</p><h4>Table 4-3
<a id="pgfId-1038217"></a><a id="marker-1038215"></a><a id="34483"></a>Attribute Requirements</h4></caption>
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1038223">
<a id="pgfId-1038223"></a>Attribute</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1038225">
<a id="pgfId-1038225"></a>Required or optional?</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1038227">
<a id="pgfId-1038227"></a>The constant expression must be </span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1038230"></a><code>abstol</code><a id="marker-1038229"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1038232"></a>Required</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1038234"></a>A real value</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1038237"></a><code>access</code><a id="marker-1038236"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1038239"></a>Required for all base natures</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1038241"></a>An identifier</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1038244"></a><code>units</code><a id="marker-1038243"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1038246"></a>Required for all base natures</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1038248"></a>A string</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1038251"></a><code>idt_nature</code><a id="marker-1038250"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1038253"></a>Optional</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1038255"></a>The name of a nature defined elsewhere</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1038258"></a><code>ddt_nature</code><a id="marker-1038257"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1038260"></a>Optional</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1038262"></a>The name of a nature defined elsewhere</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1038264"></a><code>huge</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1038266"></a>Optional</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1038268"></a>A real value</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1038270"></a><code>blowup</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1038272"></a>Optional</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1038274"></a>A real value</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1042322"></a><code>maxdelta</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1042324"></a>Optional</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1042326"></a>A real value</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1032178"></a>Consider the following code fragment, which declares two base natures. </p>

<pre class="webflare-courier-new">
<a id="pgfId-1032179"></a>nature Charge
&#160;&#160;&#160;&#160;abstol = 1e-14 ;
&#160;&#160;&#160;&#160;access = Q ;
&#160;&#160;&#160;&#160;units = &quot;coul&quot; ;
&#160;&#160;&#160;&#160;blowup = 1e8 ;<br />endnature<br /></pre>
<pre class="webflare-courier-new">
<a id="pgfId-1032180"></a>nature Current
&#160;&#160;&#160;&#160;abstol = 1e-12 ;
&#160;&#160;&#160;&#160;access = I ;
&#160;&#160;&#160;&#160;units = &quot;A&quot; ;<br />endnature</pre>

<p>
<a id="pgfId-1032181"></a>Both nature declarations specify all the required attributes: <code>abstol</code>, <code>access</code>, and <code>units</code>. In each case, <code>abstol</code> is assigned a real value, <code>access</code> is assigned an identifier, and <code>units</code> is assigned a string. </p>
<p>
<a id="pgfId-1032182"></a>The <code>Charge</code> declaration includes an optional Cadence-specific attribute called <code>blowup</code> that ends the simulation if the charge exceeds the specified value. </p>

<h2>
<a id="pgfId-1032223"></a><a id="marker-1112644"></a><a id="marker-1032221"></a><a id="36963"></a><a id="disciplinedeclaration"></a>Disciplines</h2>

<p>
<a id="pgfId-1032229"></a>Use the disciplin<a id="marker-1032224"></a>e <a id="marker-1032225"></a>declaration to specify the characteristics of a discipline. You can then use the discipline to declare nets and regs. You can also associate disciplines with ports, as discussed in <a href="chap11.html#34962">Chapter 11, &#8220;Mixed-Signal Aspects of Verilog-AMS.&#8221;</a> Cadence provides definitions of many commonly used disciplines in the <code>disciplines.vams</code> file installed in <span class="webflare-courier-new" style="white-space:pre"><em>your_install_dir</em></span><code>/tools/spectre/etc/ahdl</code>.</p>

<pre class="webflare-courier-new">
<a id="pgfId-1043466"></a>discipline_declaration ::=
&#160;&#160;&#160;&#160;    <strong>discipline</strong> discipline_identifier
&#160;&#160;&#160;&#160;        [ discipline_description { discipline_description } ]
&#160;&#160;&#160;&#160;    <strong>enddiscipline</strong></pre>
<pre class="webflare-courier-new">
<a id="pgfId-1055377"></a>discipline_description ::=
&#160;&#160;&#160;&#160;    nature_binding
&#160;&#160;&#160;&#160;|&#160;&#160; domain_binding</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1055379"></a>nature_binding ::=
&#160;&#160;&#160;&#160;    <strong>potential</strong> <code><em>nature_identifier</em></code> <strong>;<br /></strong> |&#160;&#160; <strong>flow </strong><code><em>nature_identifier</em></code> <strong>;</strong></pre>
<pre class="webflare-courier-new">
<a id="pgfId-1055381"></a>domain_binding ::=
&#160;&#160;&#160;&#160;    <strong>domain continuous ;<br /></strong> |&#160;&#160; <strong>domain discrete ;</strong></pre>

<p>
<a id="pgfId-1043468"></a>You must declare a discipline at the top level. In other words, you cannot nest a discipline declaration inside other discipline, nature, or module declarations. <a id="marker-1043469"></a>Discipline identifiers have global <a id="marker-1043470"></a>scope, so you can use discipline identifiers to associate nets with disciplines (declare nets) inside any module.</p>

<h3>
<a id="pgfId-1056736"></a><a id="marker-1112646"></a>Binding Natures with Potential and Flow</h3>

<p>
<a id="pgfId-1032236"></a>The disciplines that you declare can bind</p>
<ul><li>
<a id="pgfId-1032237"></a>One nature with potential</li><li>
<a id="pgfId-1032238"></a>One nature with potential and a different nature with flow</li><li>
<a id="pgfId-1032239"></a>Nothing with either potential or flow<br />
<a id="pgfId-1032242"></a>A declaration of this latter form defines an <em>empty discipline</em><a id="marker-1032240"></a><a id="marker-1032241"></a>.</li></ul>





<p>
<a id="pgfId-1032243"></a>The following examples illustrate each of these forms.</p>
<p>
<a id="pgfId-1032244"></a>The first example defines a single binding, one between potential and the nature <code>Voltage</code>. A discipline with a single binding is called a <em>signal-flow</em><a id="marker-1032245"></a> discipline<a id="marker-1032246"></a>.</p>

<pre class="webflare-courier-new">
<a id="pgfId-1032247"></a>discipline voltage
&#160;&#160;&#160;&#160;potential Voltage ; // A signal-flow discipline must be bound to potential.<br />enddiscipline</pre>

<p>
<a id="pgfId-1032248"></a>The next declaration, for the <code>electrical</code> discipline, defines two bindings. Such a declaration is called a <em>conservative discipline</em><a id="marker-1032249"></a><a id="marker-1032250"></a>.</p>

<pre class="webflare-courier-new">
<a id="pgfId-1032251"></a>discipline electrical
&#160;&#160;&#160;&#160;potential Voltage ;
&#160;&#160;&#160;&#160;flow Current ;<br />enddiscipline</pre>

<p>
<a id="pgfId-1032252"></a>When you define a conservative discipline, you must be sure that the nature bound to potential is different from the nature bound to flow.</p>
<p>
<a id="pgfId-1032255"></a>The third declaration defines an <a id="marker-1032253"></a><a id="marker-1032254"></a>empty discipline. If you do not explicitly specify a domain for an empty discipline, the domain is determined by the connectivity of the net.</p>

<pre class="webflare-courier-new">
<a id="pgfId-1032256"></a>discipline neutral<br />enddiscipline</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1034970"></a>discipline interconnect
&#160;&#160;&#160;&#160;domain continuous<br />enddiscipline</pre>

<p>
<a id="pgfId-1138287"></a>In addition to declaring empty disciplines, you can also use a Verilog-AMS predefined <a id="marker-1032258"></a>empty discipline called <code>wire</code><a id="marker-1032259"></a>. </p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1056262"></a>
A <code>wire</code> in Verilog-AMS has no specified domain, so do not assume that it is digital.</div>

<p>
<a id="pgfId-1032260"></a>Use an empty discipline when you want to let the components connected to a net determine which potential and flow natures are used for the net.</p>

<h3>
<a id="pgfId-1138296"></a>Binding Domains with Disciplines</h3>

<p>
<a id="pgfId-1138297"></a>The domain binding of a discipline indicates whether the signal value is an analog signal to be represented in continuous time or a digital signal to be represented in discrete time. The default domain is <code>continuous</code> for disciplines that are not empty. Signals in the continuous domain always have real values. Signals in the discrete domain can have real, integer, or binary (0, 1, x, or z) values.</p>
<p>
<a id="pgfId-1138315"></a><a id="marker-1112648"></a>The following example illustrates how to define a discipline for an analog signal. Because the default value for domain is <code>continuous</code>, the domain line in this example could be omitted.</p>

<pre class="webflare-courier-new">
<a id="pgfId-1138316"></a>discipline electrical
&#160;&#160;&#160;&#160;domain continuous ;
&#160;&#160;&#160;&#160;potential Voltage ;
&#160;&#160;&#160;&#160;flow Current ;<br />enddiscipline</pre>

<p>
<a id="pgfId-1138317"></a>The next example defines a discipline for a digital signal.</p>

<pre class="webflare-courier-new">
<a id="pgfId-1138318"></a>discipline logic
&#160;&#160;&#160;&#160;domain discrete ;<br />enddiscipline</pre>
<h3>
<a id="pgfId-1138319"></a>Disciplines and Domains of Wires and Undeclared Nets</h3>

<p>
<a id="pgfId-1138320"></a>Nets that do not have declared disciplines are evaluated as though they have empty disciplines. The effective domain of such nets is determined by how the nets are used.</p>
<ul><li>
<a id="pgfId-1138321"></a>If the net is referenced in the digital context behavioral code or if its net type is other than <code>wire</code>, then the domain of the net is assumed to be <code>discrete</code>.</li><li>
<a id="pgfId-1138322"></a>If the net is bound only to ports and either has no declared net type or has a net type of <code>wire</code>, then the net has no domain binding.</li></ul>


<h3>
<a id="pgfId-1138323"></a>Discipline Precedence</h3>

<p>
<a id="pgfId-1138324"></a>Disciplines can be declared in several ways and if more than one of these ways applies to a single net, discipline conflicts can arise. Verilog-AMS resolves conflicts with the following precedence.</p>

<p>
<a id="pgfId-1138356"></a></p>
<table class="webflareTable" id="#id1138328">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1138330">
<a id="pgfId-1138330"></a>Kind of Discipline Declaration</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1138332">
<a id="pgfId-1138332"></a>Precedence</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1138334"></a>A declaration from a module other than the module to which the net belongs using an out-of-module reference. For example,</p>
<pre class="webflare-courier-new">
<a id="pgfId-1138335"></a>module example1 ;<br />    electrical example2.net ;<br />endmodule</pre>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1138337"></a>Highest<br />precedence</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1138339"></a>A local declaration of a net in the module to which it belongs. For example,</p>
<pre class="webflare-courier-new">
<a id="pgfId-1138340"></a>module example2 ;<br />    electrical net ;<br />endmodule</pre>
</td>
<td class="webflareTd" colspan="1" rowspan="2">
<p>
<a id="pgfId-1138345"></a><img width="99" height="173" src="images/chap4-3.gif" /></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1138347"></a><code>`default_discipline</code> used with qualifier only.</p>
<pre class="webflare-courier-new">
<a id="pgfId-1138348"></a><strong>`</strong>default_discipline logic trireg ;</pre>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1138352"></a><code>`default_discipline</code> without qualifier or scope.</p>
<pre class="webflare-courier-new">
<a id="pgfId-1138353"></a><strong>`</strong>default_discipline logic ;</pre>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1138355"></a>Lowest<br />precedence</p>
</td>
</tr>
</tbody></table>
<h3>
<a id="pgfId-1040930"></a><a id="marker-1040808"></a><a id="20963"></a>Compatibility of <a id="marker-1040810"></a>Disciplines</h3>

<p>
<a id="pgfId-1058123"></a>Certain operations in Verilog-AMS, such as declaring branches, are allowed only if the disciplines involved are <a id="marker-1058124"></a>compatible. Apply the following rules to determine whether any two disciplines are compatible.</p>
<ul><li>
<a id="pgfId-1032274"></a>Any discipline is compatible with itself.</li><li>
<a id="pgfId-1038852"></a>An <a id="marker-1038851"></a>empty discipline is compatible with all disciplines.</li><li>
<a id="pgfId-1138394"></a>Disciplines with the <code>discrete</code> domain attribute and the same signal value type, such as <code>bit</code>, <code>real</code>, or <code>integer</code>, are compatible.</li><li>
<a id="pgfId-1138395"></a>Disciplines with different domain attributes are incompatible.</li><li>
<a id="pgfId-1038853"></a>Other kinds of continuous disciplines are compatible or not compatible, as determined by following paths through <a href="chap4.html#25777">Figure&#160;4-1</a>.<br /><strong class="webflare-fig-line-height">Figure 4-1
<a id="pgfId-1040508"></a><a id="25777"></a>Analog Discipline Compatibility</strong>
<a id="pgfId-1036056"></a><div class="webflare-div-image">
<img width="444" height="620" src="images/chap4-4.gif" /></div></li></ul>









<p>
<a id="pgfId-1032451"></a><a id="11049"></a>Consider the following declarations.</p>

<pre class="webflare-courier-new">
<a id="pgfId-1032459"></a>nature Voltage
&#160;&#160;&#160;&#160;access = V ;
&#160;&#160;&#160;&#160;units = &quot;V&quot; ;
&#160;&#160;&#160;&#160;abstol = 1u ;<br />endnature</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1055383"></a>nature Current
&#160;&#160;&#160;&#160;access = I ;
&#160;&#160;&#160;&#160;units = &quot;A&quot; ;
&#160;&#160;&#160;&#160;abstol = 1p ;<br />endnature</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1055385"></a>discipline emptydis<br />enddiscipline</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1055387"></a>discipline electrical
&#160;&#160;&#160;&#160;potential Voltage ;
&#160;&#160;&#160;&#160;flow Current ;<br />enddiscipline</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1055389"></a>discipline sig_flow_v
&#160;&#160;&#160;&#160;potential Voltage ;<br />enddiscipline</pre>

<p>
<a id="pgfId-1032460"></a>To determine whether the <code>electrical</code> and <code>sig_flow_v</code> disciplines are compatible, follow through the discipline compatibility chart:</p>
<ol><li>
<a id="pgfId-1032461"></a>Both <code>electrical</code> and <code>sig_flow_v</code> have defined natures for potential. Take the <em>Yes</em> branch.</li><li>
<a id="pgfId-1032462"></a>In fact, <code>electrical</code> and <code>sig_flow_v</code> have the same nature for potential. Take the <em>Yes</em> branch.</li><li>
<a id="pgfId-1032463"></a><code>electrical</code> has a defined nature for flow, but <code>sig_flow_v</code> does not. Take the <em>No</em> branch to the <em>Disciplines are compatible</em> end point.</li></ol>


<p>
<a id="pgfId-1032464"></a>Now add these declarations to the previous lists.</p>

<pre class="webflare-courier-new">
<a id="pgfId-1032465"></a>nature Position
&#160;&#160;&#160;&#160;access = x ;
&#160;&#160;&#160;&#160;units = &quot;m&quot; ;
&#160;&#160;&#160;&#160;abstol = 1u ;<br />endnature</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1055391"></a>nature Force
&#160;&#160;&#160;&#160;access = F ;
&#160;&#160;&#160;&#160;units = &quot;N&quot; ;
&#160;&#160;&#160;&#160;abstol = 1n ;<br />endnature</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1055393"></a>discipline mechanical
&#160;&#160;&#160;&#160;potential Position ;
&#160;&#160;&#160;&#160;flow force ;<br />enddiscipline</pre>

<p>
<a id="pgfId-1032466"></a>The <code>electrical</code> and <code>mechanical</code> disciplines are not compatible.</p>
<ol><li>
<a id="pgfId-1032467"></a>Both disciplines have defined natures for potential. Take the <em>Yes</em> branch.</li><li>
<a id="pgfId-1032468"></a>The <code>Position</code> nature is not the same as the <code>Voltage</code> nature. Take the <em>No</em> branch to the <em>Disciplines not compatible</em> end point.<a id="marker-1032469"></a> </li></ol>


<h2>
<a id="pgfId-1032473"></a><a id="marker-1112650"></a><a id="marker-1032470"></a><a id="33223"></a>Net Disciplines</h2>

<p>
<a id="pgfId-1032476"></a>Use <a id="nodesdeclaration"></a>the <a id="marker-1032475"></a>net discipline declaration to associate nets and regs with previously defined disciplines.</p>

<pre class="webflare-courier-new">
<a id="pgfId-1032477"></a>net_discipline_declaration ::=
&#160;&#160;&#160;&#160;    <code><em>discipline_identifier</em></code> [range] list_of_nets <strong>;<br /></strong> |&#160;&#160; <strong>wire</strong> [range] list_of_nets <strong>;</strong></pre>
<pre class="webflare-courier-new">
<a id="pgfId-1055395"></a>range ::=
&#160;&#160;&#160;&#160;<strong>[</strong> msb_expr <strong>:</strong> lsb_expr <strong>]</strong></pre>
<pre class="webflare-courier-new">
<a id="pgfId-1055397"></a>list_of_nets ::=
&#160;&#160;&#160;&#160;    net_type
&#160;&#160;&#160;&#160;|&#160;&#160; net_type <strong>,</strong> list_of_nets</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1055399"></a>msb_expr ::=
&#160;&#160;&#160;&#160;    <code><em>constant_expr</em></code></pre>
<pre class="webflare-courier-new">
<a id="pgfId-1055401"></a>lsb_expression ::=
&#160;&#160;&#160;&#160;    <code><em>constant_expr</em></code></pre>
<pre class="webflare-courier-new">
<a id="pgfId-1106741"></a>net_type ::=
&#160;&#160;&#160;&#160;    <code><em>net_identifier</em></code> [range] [<strong>=</strong> <code><em>constant_expr</em></code> | <code><em>constant_array_expr</em></code>]</pre>

<p>
<a id="pgfId-1117261"></a><a id="marker-1119971"></a><a id="marker-1119972"></a>The standard attribute for descriptions can be used with net discipline declarations. For example,</p>

<pre class="webflare-courier-new">
<a id="pgfId-1117262"></a><a id="marker-1139349"></a>(* desc=&quot;drain terminal&quot; *) electrical d;</pre>

<p>
<a id="pgfId-1124513"></a>Although the <code>desc</code> attribute is allowed, Cadence tools, in this release, do nothing with the information.</p>
<p>
<a id="pgfId-1106744"></a>The initializers specified with the equals sign in the <code>net_type</code> can be used only when the <span class="webflare-courier-new" style="white-space:pre"><em>discipline_identifier</em></span> is a continuous discipline. The solver uses the initializer, if provided, as a nodeset value for the potential of the net. A null value in the <span class="webflare-courier-new" style="white-space:pre"><em>constant_array_expr</em></span> means that no nodeset value is being specified for that element of the bus. The initializers cannot include out-of-module references.</p>
<p>
<a id="pgfId-1032482"></a>A net declared without a range is called a <em>scalar net</em><a id="marker-1032480"></a><a id="marker-1032481"></a>. A net declared with a range is called a <em>vector net</em><a id="marker-1032483"></a><a id="marker-1032484"></a><a id="marker-1032485"></a><a id="marker-1032487"></a>. In this release of Verilog-AMS, you cannot use parameters to define range limits.</p>

<pre class="webflare-courier-new">
<a id="pgfId-1032488"></a>magnetic inductor1, inductor2 ;         //Declares two scalar nets<br />electrical [1:10] node1 ;               //Declares a vector net<br />wire [3:0] connect1, connect2 ;         //Declares two vector nets<br />electrical [0:4] bus = {2.3,4.5,,6.0} ; //Declares vector net with nodeset values</pre>

<p>
<a id="pgfId-1032489"></a>The following example is illegal because a range, if defined, must be the first item after the discipline identifier and then applies to all of the listed net identifiers.</p>

<pre class="webflare-courier-new">
<a id="pgfId-1032490"></a>electrical AVDD, AVSS, BGAVSS, PD, SUB, [6:1] TRIM ;&#160;&#160;  // Illegal</pre>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1032492"></a>Cadence recommends that you specify the direction of a port before you specify the discipline. For example, in the following example the directions for <code>out</code> and <code>in</code> are specified before the <code>electrical</code> discipline declaration.</div>
<p>
<a id="pgfId-1049874"></a>Consider the following declarations.</p>

<pre class="webflare-courier-new">
<a id="pgfId-1032493"></a>discipline emptydis<br />enddiscipline</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1055403"></a>module comp1 (out, in, unknown1, unknown2) ;
output out ;
input in ;
electrical out, in ;
emptydis unknown1 ;        // Declared with an empty discipline
analog
&#160;&#160;&#160;&#160;V(out) &lt;+ 2 * V(in)<br />endmodule</pre>

<p>
<a id="pgfId-1032494"></a>Module <code>comp1</code> has four ports: <code>out</code>, <code>in</code>, <code>unknown1</code>, and <code>unknown2</code>. The module declares <code>out</code> and <code>in</code> as <code>electrical</code> ports and uses them in the analog block. The port <code>unknown1</code> is declared with an <code>empty</code><a id="marker-1032495"></a> discipline and cannot be used in the analog block because there is no way to access its signals. However, <code>unknown1</code> can be used in the list of ports, where it inherits natures from the ports of module instances that connect to it.</p>
<p>
<a id="pgfId-1032496"></a>Because <code>unknown2</code> appears in the list of ports without being declared in the body of the module, Verilog-AMS implicitly declares <code>unknown2</code> as a scalar port with the default discipline. The default discipline type is <code>wire</code>, unless you use the <code>`default_discipline</code> compiler directive to specify a different discipline. (For more information, see <a href="chap12.html#28899">&#8220;Setting a Default Discrete Discipline for Signals&#8221;</a>.)</p>
<p>
<a id="pgfId-1044968"></a>Now consider a different example.</p>

<pre class="webflare-courier-new">
<a id="pgfId-1032501"></a>module five_inputs( portbus );
input [0:5] portbus;
electrical [0:5] portbus;
real x;
analog begin 
&#160;&#160;&#160;&#160;generate i ( 0,4 )
&#160;&#160;&#160;&#160;    V(portbus[i]) &lt;+ 0.0;<br />end<br />endmodule</pre>

<p>
<a id="pgfId-1032503"></a>The <code>five_inputs</code> module uses a port bus. Only one port name, <code>portbus</code><a id="marker-1032502"></a>, appears in the list of ports but inside the module <code>portbus</code> is defined with a range.</p>
<p>
<a id="pgfId-1032505"></a>Modules <code>comp1</code> and <code>five_inputs</code> illustrate the two ways you can use <a id="marker-1032504"></a>nets in a module.</p>
<ul><li>
<a id="pgfId-1032508"></a>You can define the <a id="marker-1032506"></a>ports of a module by giving a list of <a id="marker-1032507"></a>nets on the module statement.</li><li>
<a id="pgfId-1032510"></a>You can describe the behavior of a <a id="marker-1032509"></a>module by declaring and using nets within the body of the module construct.</li></ul>

<p>
<a id="pgfId-1032512"></a>As you might expect, if you want to describe a <a id="marker-1032511"></a>conservative system, you must use conservative disciplines to define nets. If you want to describe a <a id="marker-1032513"></a>signal-flow or mixed signal-flow and conservative system, you can define nets with signal-flow disciplines.</p>
<p>
<a id="pgfId-1040473"></a>As a result of port connections of analog nets, a single node can be bound to a number of nets of different disciplines. </p>
<p>
<a id="pgfId-1058214"></a>Current contributions to a node that is bound only to disciplines that have only potential natures, are illegal. The potential of such a node is the sum of all potential contributions, but flow for such a node is not defined.</p>
<p>
<a id="pgfId-1040496"></a>Nets of signal flow disciplines in modules must not be bound to inout ports and you must not contribute potential to input ports.</p>
<p>
<a id="pgfId-1032514"></a>To access the <code>abstol</code> associated with a nets&#8217;s potential or flow natures, use the form </p>

<pre class="webflare-courier-new">
<a id="pgfId-1032515"></a><code><em>net</em></code>.potential.abstol</pre>

<p>
<a id="pgfId-1032516"></a>or</p>

<pre class="webflare-courier-new">
<a id="pgfId-1032517"></a><code><em>net</em></code>.flow.abstol</pre>

<p>
<a id="pgfId-1032521"></a>For an example, see <a href="chap8.html#35461">&#8220;Cross Event&#8221;</a>.</p>

<h2>
<a id="pgfId-1138419"></a><a id="marker-1112652"></a>Ground Nodes<a id="42243"></a></h2>

<p>
<a id="pgfId-1138420"></a>Use the ground declaration to declare global reference nodes.</p>

<pre class="webflare-courier-new">
<a id="pgfId-1138421"></a>ground_declaration ::=
&#160;&#160;&#160;&#160;    <strong>ground</strong> list_of_nets ;</pre>

<p>
<a id="pgfId-1138422"></a>You use the ground declaration to specify an already declared net of continuous discipline. The node associated with that net then becomes the global reference node in the circuit. If used in behavioral code, the net must be used in only the differential source and probe forms. This requirement means that a form like <code>V(gnd)</code> is illegal but a form like <code>V(in, gnd)</code> is legal.</p>
<p>
<a id="pgfId-1138423"></a>For example,</p>

<pre class="webflare-courier-new">
<a id="pgfId-1138424"></a>module loadedsrc(out);
output out;
electrical out;
electrical gnd;    // Declare a net of continuous discipline.
ground gnd;        // Declare the ground.
parameter real srcval = 5.0;
resistor #(.r(10K)) r1(out,gnd);
analog begin
&#160;&#160;&#160;&#160;V(out) &lt;+ V(in,gnd)*2;  // Probe the voltage difference 
&#160;&#160;&#160;&#160;                        // between in and gnd.<br />end<br />endmodule</pre>
<h2>
<a id="pgfId-1138426"></a>Real Nets<a id="24779"></a><a id="wreal"></a><a id="marker-1138541"></a></h2>

<p>
<a id="pgfId-1138427"></a>Use the real net declaration to declare a data type that represents a real-valued physical connection between structural entities.</p>

<pre class="webflare-courier-new">
<a id="pgfId-1138428"></a>real_net_declaration ::=
&#160;&#160;&#160;&#160;    <strong>wreal</strong> list_of_nets <strong>;</strong></pre>

<p>
<a id="pgfId-1138921"></a>In the following example, the real variable, <code>stim</code>, connects to the <code>wreal</code> net, <code>in</code>: </p>

<pre class="webflare-courier-new">
<a id="pgfId-1138922"></a>module foo(in, out);
input in;
output out;
wreal in;  // Declares in as a wreal net.
electrical out;
analog begin
&#160;&#160;&#160;&#160;V(out) &lt;+ in; <br />end<br />endmodule</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1138923"></a>module top();
real stim;  // Declares stim as a real variable.
wreal wr_stim;
assign wr_stim = stim;
electrical load;
foo f1(wr_stim, load);  // Connects stim to in.
always begin
&#160;&#160;&#160;&#160;#1 stim = stim + 0.1;<br />end <br />endmodule // top</pre>

<p>
<a id="pgfId-1139749"></a>See also the following topics: </p>
<ul><li>
<a id="pgfId-1139753"></a><a href="chap4.html#72842">Arrays of Real Nets</a> </li><li>
<a id="pgfId-1139761"></a><a href="chap4.html#45590">Real Nets with More than One Driver</a> </li></ul>


<h3>
<a id="pgfId-1138547"></a><a id="72842"></a>Arrays of Real <a id="wrealArray"></a>Nets</h3>

<p>
<a id="pgfId-1139741"></a>To declare an array<a id="marker-1139740"></a> of real nets, specify the upper and lower indexes of the range. Be sure that each index is a constant expression that evaluates to an integer value. For example: </p>

<pre class="webflare-courier-new">
<a id="pgfId-1139742"></a>wreal w[3:2]; // Declares w as a wreal array. </pre>

<p>
<a id="pgfId-1139776"></a>The software supports full usage of part-selects of <code>wreal</code> arrays, including part-selects which refer to only a part of the full array.</p>

<h3>
<a id="pgfId-1139911"></a><a id="45590"></a>Real Nets with More than One <a id="wrealStates"></a>Driver</h3>

<p>
<a id="pgfId-1139733"></a>The Cadence implementation of the Verilog-AMS language supports more than one driver on a <code>wreal</code> net and the following states for <code>wreal</code> values: </p>

<p>
<a id="pgfId-1138610"></a></p>
<table class="webflareTable" id="#id1138617">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1138619">
<a id="pgfId-1138619"></a>State</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1138621">
<a id="pgfId-1138621"></a>Description</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1138623"></a><code>wrealZState</code><a id="marker-1139681"></a> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1138625"></a>High-impedance state equivalent to the <code>hiZ</code> discrete logic state </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1138627"></a><code>wrealXState</code><a id="marker-1139682"></a> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1138629"></a>Unknown state equivalent to the <code>X</code> state in discrete logic </p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1138935"></a>The software sets the value of a <code>wreal</code> net to this state (<code>wrealXState</code>) if it cannot determine the resolved value of the net. </div>

</td>
</tr>
</tbody></table>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1139239"></a>Any <code>wreal</code> net that has no driver has a value of 0.0. </div>
<p>
<a id="pgfId-1139241"></a>These state values are global values such that you can reference them in your Verilog-AMS code. For example: </p>

<pre class="webflare-courier-new">
<a id="pgfId-1140129"></a>module foo(x);<br />    inout x;<br />    wreal x;<br />    integer error_cnt;<br />    real result;<br />
&#160;&#160;  initial error_cnt = 0;<br />    always @(x)<br />    begin<br />        if(x === `wrealZState)<br />            result = 1.234;<br />        if(x === `wrealXState)<br />            error_cnt = error_cnt + 1;<br />    end<br />    assign x = result;<br />endmodule<br /></pre>

<p>
<a id="pgfId-1138675"></a>Here is another example comparing a real value (<code>aout</code>) to <code>`wrealZState</code>: </p>

<pre class="webflare-courier-new">
<a id="pgfId-1139489"></a>module dac (out, in, clk);<br />  parameter integer bits = 8 from [1:24]; // resolution (bits)<br />  parameter real fullscale = 1.0;      // output range is from 0 to fullscale (V)<br />

&#160;&#160;output out;<br />  wreal out;<br />  input [0:bits-1] in;<br />  input clk;<br />  logic in, clk;<br />
&#160;&#160;real result, aout;<br />
&#160;&#160;real bitvalue;<br />  integer i;<br />
&#160;&#160;always @(posedge clk) begin <br />    bitvalue = fullscale;<br />    // aout = 0.0;<br />    aout = `wrealZState;<br />    for (i=bits-1; i&gt;=0; i=i-1) begin<br />      bitvalue = bitvalue / 2;<br />      if (in[i])<br />        if (aout === `wrealZState)     &lt;--- this line<br />            aout = bitvalue;<br />        else<br />            aout = aout + bitvalue;<br />    end<br />    result = aout;<br />  end<br />
&#160;&#160;assign out = result;<br />
endmodule
</pre>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1139480"></a>You cannot redefine the values of these state values. </div>
<p>
<a id="pgfId-1140328"></a>The program uses these the <code>wrealZState</code> and <code>wrealXState</code> state values to determine the resolved value of a <code>wreal</code> net with more than one driver. You can use the <code>-wreal_resolution </code>command-line option to select the <code>wreal</code> resolution function you want to use. If you do not use the <code>-wreal_resolution</code> command-line option to specify a resolution function, or if you specify <code>-wreal_resolution default</code>, the program uses the default resolution algorithm, which is as follows: </p>

<p>
<a id="pgfId-1138905"></a></p>
<table class="webflareTable" id="#id1138989">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1138991">
<a id="pgfId-1138991"></a>Conditions</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1138993">
<a id="pgfId-1138993"></a>Resolution</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1138995"></a>All drivers are driving <code>wrealZState</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1139035"></a>Drive the receivers using <code>wrealZState</code> </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1139021"></a>Exactly one driver is not driving <code>wrealZState</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1139041"></a>Drive the receivers using the only non-<code>wrealZState</code> value </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1139047"></a>More than one driver is not driving <code>wrealZState</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1139057"></a>Drive the receivers using <code>wrealXState</code> and issue a runtime error message </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1139065"></a>Any driver is driving <code>wrealXState</code> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1139072"></a>Drive the receivers using <code>wrealXState</code> </p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1139079"></a><a actuate="user" class="URL" href="../amssimug/wrealModeling.html#wreal_resolution" show="replace" xml:link="simple">See &#8220;Selecting a wreal Resolution Function&#8221; in the </a><em>Virtuoso&#174; AMS Designer Simulator User Guide</em> for other resolution functions you can specify. </p>
<p>
<a id="pgfId-1139442"></a>See also the following topics in the <em>Virtuoso AMS Designer Simulator User Guide</em>: </p>
<ul><li>
<a id="pgfId-1138558"></a><a actuate="user" class="URL" href="../amssimug/chap4.html#directConnections" show="replace" xml:link="simple">&#8220;Connecting VHDL and VHDL-AMS Blocks to Verilog and Verilog-AMS Blocks&#8221; </a></li><li>
<a id="pgfId-1138569"></a><a actuate="user" class="URL" href="../amssimug/wrealModeling.html#wrealToElectrical" show="replace" xml:link="simple">&#8220;Connecting Verilog-AMS wreal Signals to Analog Signals&#8220; </a></li><li>
<a id="pgfId-1139374"></a><a actuate="user" class="URL" href="../amssimug/wrealModeling.html#wrealDisciplineResolution" show="replace" xml:link="simple">&#8220;Resolving Disciplines for Verilog-AMS wreal Nets&#8220; </a></li><li>
<a id="pgfId-1139379"></a><a actuate="user" class="URL" href="../amssimug/wrealModeling.html#wrealVHDL" show="replace" xml:link="simple">&#8220;Using wreal Nets at Mixed-Language Boundaries&#8220; </a></li></ul>




<h2>
<a id="pgfId-1035905"></a><a id="28929"></a>Named <a id="namedBranches"></a>Branches</h2>

<p>
<a id="pgfId-1032527"></a>Use the <a id="marker-1032524"></a>branc<a id="marker-1032525"></a>h declaration<a id="marker-1032526"></a> to declare a path between two nets of continuous discipline. Cadence recommends that you use named branches, especially when debugging with Tcl commands because, for example, it is easier to type <code>value branch1</code> than it is to type <code>value \vect1[5] vec2[1]</code> and then compute the difference between the returned value. </p>

<pre class="webflare-courier-new">
<a id="pgfId-1032528"></a>branch_declaration ::=
&#160;&#160;&#160;&#160;    <strong>branch</strong> list_of_branches <strong>;</strong></pre>
<pre class="webflare-courier-new">
<a id="pgfId-1055407"></a>list_of_branches ::=
&#160;&#160;&#160;&#160;    terminals list_of_branch_identifiers</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1055409"></a>terminals ::=
&#160;&#160;&#160;&#160;    <strong>(</strong> <code><em>scalar_net_identifier</em></code> <strong>)<br /></strong> |&#160;&#160; <strong>(</strong> <code><em>scalar_net_identifier</em></code> <strong>,</strong> <code><em>scalar_net_identifier</em></code> <strong>)</strong></pre>
<pre class="webflare-courier-new">
<a id="pgfId-1055411"></a>list_of_branch_identifiers ::=
&#160;&#160;&#160;&#160;    <code><em>branch_identifier<br /></em></code> |&#160;&#160; <code><em>branch_identifier</em></code> <strong>,</strong> list_of_branch_identifiers</pre>

<p>
<a id="pgfId-1038735"></a><span class="webflare-courier-new" style="white-space:pre"><em>scalar_net_identifier</em></span> must be either a scalar net or a single element of a vector net.</p>
<p>
<a id="pgfId-1034064"></a>You can declare branches only in a module. You must not combine explicit and implicit branch declarations for a single branch. For more information, see <a href="chap4.html#32432">&#8220;Implicit Branches&#8221;</a>.</p>
<p>
<a id="pgfId-1032535"></a>The scalar nets that the branch declaration associates with a branch are called the<em> branch terminals</em><a id="marker-1032536"></a><a id="marker-1032537"></a>. If you specify only one net, Verilog-AMS assumes that the other is ground. The branch terminals must have compatible disciplines. For more information, see <a href="chap4.html#20963">&#8220;Compatibility of Disciplines&#8221;</a><a id="marker-1032538"></a>.</p>
<p>
<a id="pgfId-1032588"></a>Consider the following declarations. </p>

<pre class="webflare-courier-new">
<a id="pgfId-1038803"></a>voltage [5:0] vec1 ;        // Declares a vector net<br />voltage [1:6] vec2 ;        // Declares a vector net<br />voltage sca1 ;              // Declares a scalar net<br />voltage sca2 ;              // Declares a scalar net<br />branch (vec1[5],vec2[1]) branch1, (sca1,sca2) branch2 ;</pre>

<p>
<a id="pgfId-1038804"></a><code>branch1</code> is legally declared because each branch terminal is a single element of a vector net. The second branch, <code>branch2</code>, is also legally declared because nodes <code>sca1</code> and <code>sca2</code> are both scalar nets. </p>

<h2>
<a id="pgfId-1032605"></a><a id="32432"></a>Implicit <a id="implicitBranches"></a>Branches<a id="marker-1140104"></a></h2>

<p>
<a id="pgfId-1032606"></a>As Cadence recommends, you can refer to a named branch with only a single identifier. Alternatively, you might find it more convenient or clearer to refer to branches by their branch terminals. Most of the examples in this reference, including the following example, use this form of implicit branch declaration. You must not, however, combine named and implicit branch declarations for a single branch.</p>

<pre class="webflare-courier-new">
<a id="pgfId-1032607"></a>module diode (a, c) ;<br />inout a, c ;<br />electrical a, c ;<br />parameter real rs=0, is=1e-14, tf=0, cjo=0, phi=0.7 ;<br />parameter real kf=0, af=1, ef=1 ;</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1055413"></a>analog begin
&#160;&#160;&#160;&#160;I(a, c) &lt;+ is*(limexp((V(a, c)-rs*I(a, a))/$vt) - 1);
&#160;&#160;&#160;&#160;I(a, c) &lt;+ white_noise(2* `P_Q * I(a, c)) ;
&#160;&#160;&#160;&#160;I(a, c) &lt;+ flicker_noise(kf*pow(abs(I(a, c)),af),ef);<br />end<br />endmodule</pre>

<p>
<a id="pgfId-1032608"></a>The previous example using implicit branches is equivalent to the following example using named branches. </p>

<pre class="webflare-courier-new">
<a id="pgfId-1032609"></a>module diode (a, c) ;<br />inout a, c ;<br />electrical a, c ;<br />branch (a,c) diode, (a,a) anode ; // Declare named branches<br />parameter real rs=0, is=1e-14, tf=0, cjo=0, phi=0.7 ;<br />parameter real kf=0, af=1, ef=1 ;</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1055415"></a>analog begin
&#160;&#160;&#160;&#160;I(diode) &lt;+ is*(limexp((V(diode)-rs*I(anode))/$vt) - 1);
&#160;&#160;&#160;&#160;I(diode) &lt;+ white_noise(2* `P_Q * I(diode)) ;
&#160;&#160;&#160;&#160;I(diode) &lt;+ flicker_noise(kf*pow(abs(I(diode)),af),ef);<br />end<br />endmodule</pre>
<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="chap3.html" id="prev" title="Lexical Conventions">Lexical Conventions</a></em></b><b><em><a href="chap5.html" id="nex" title="Statements for the Analog Block">Statements for the Analog Bloc ...</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2019, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>