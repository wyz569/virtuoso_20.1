
<html><head><title>Controlling the Compiler</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="jommy" />
<meta name="CreateDate" content="2019-09-18" />
<meta name="CreateTime" content="1568827693" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the analog and mixed-signal aspects of the Cadence Verilog-AMS language. With Verilog-AMS, you can create and use modules that describe the high-level behavior and structure of analog, digital, and mixed-signal components and systems." />
<meta name="DocTitle" content="Cadence Verilog-AMS Language Reference" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Controlling the Compiler" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.1" />
<meta name="Keyword" content="verilogamsref" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2019-09-18" />
<meta name="ModifiedTime" content="1568827693" />
<meta name="NextFile" content="appA.html" />
<meta name="Group" content="Analog Mixed-Signal Simulation" />
<meta name="Platform" content="Functional Verification" />
<meta name="PrevFile" content="chap11.html" />
<meta name="Product" content="Xcelium" />
<meta name="ProductFamily" content="Xcelium" />
<meta name="ProductVersion" content="19.09" />
<meta name="RightsManagement" content="Copyright 2012-2019 Cadence Design Systems Inc." />
<meta name="Title" content="Cadence Verilog-AMS Language Reference -- Controlling the Compiler" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="product_feature" content="" />
<meta name="product_subfeature" content="" />
<meta name="Version" content="19.09" />
<meta name="SpaceKey" content="verilogamsref1909" />
<meta name="webflare-version" content="1.4" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="verilogamsrefTOC.html">Contents</a></li><li><a class="prev" href="chap11.html" title="Mixed-Signal Aspects of Verilog-AMS">Mixed-Signal Aspects of Verilo ...</a></li><li style="float: right;"><a class="viewPrint" href="verilogamsref.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="appA.html" title="Nodal Analysis">Nodal Analysis</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Cadence Verilog-AMS Language Reference<br />Product Version 19.09, September 2019</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;">

<h1>12
<a id="pgfId-1031799"></a></h1>
<h1>
<a id="pgfId-1031801"></a><hr />
<a id="39019"></a>Controlling the Compiler<hr />
</h1>

<p>
<a id="pgfId-1031802"></a>This chapter describes how to use the Cadence<sup>&#174;</sup> Verilog<sup>&#174;</sup>-AMS compiler directives for a range of tasks. The following <a id="marker-1037506"></a><a id="marker-1037507"></a>compiler <a id="marker-1037508"></a>directives are available in Verilog-AMS. You can identify them by the initial <a id="marker-1037513"></a>accent grave ( <code>`</code><a id="marker-1037514"></a> ) character, which is different from the single quote character ( <code>&#39;</code> ). </p>

<p>
<a id="pgfId-1037590"></a></p>
<table class="webflareTable" id="#id1037515">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037517"></a><strong>Compiler Directive</strong></p>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037519"></a><strong>Task</strong></p>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="2">
<p>
<a id="pgfId-1037521"></a><code>`define<br />`undef</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="2">
<p>
<a id="pgfId-1037533"></a><a href="chap12.html#35902">&#8220;Implementing Text Macros&#8221;</a> </p>
</td>
</tr>
<tr />
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037535"></a><code>`ifdef</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037540"></a><a href="chap12.html#30256">&#8220;Compiling Code Conditionally&#8221;</a> </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037542"></a><code>`include</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037547"></a><a href="chap12.html#17175">&#8220;Including Files at Compilation Time&#8221;</a> </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037549"></a><code>`timescale</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037554"></a><a href="chap12.html#29875">&#8220;Adjusting the Time Scale&#8221;</a> </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037563"></a><code>`default_discipline</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037567"></a><a href="chap12.html#28899">&#8220;Setting a Default Discrete Discipline for Signals&#8221;</a> </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037570"></a><code>`default_transition</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037575"></a><a href="chap12.html#42106">&#8220;Setting Default Rise and Fall Times&#8221;</a> </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037670"></a><code>`resetall</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037675"></a><a href="chap12.html#85463">&#8220;Resetting Directives to Default Values&#8221;</a> </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="2">
<p>
<a id="pgfId-1037577"></a><code>`begin_keywords<br />`end_keywords</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="2">
<p>
<a id="pgfId-1037588"></a><a href="chap12.html#38259">&#8220;Specifying Which Reserved Keyword List to Use&#8221;</a> </p>
</td>
</tr>
<tr />
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037704"></a><code>`remove_keyword<br />`restore_keyword</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037706"></a><a href="chap12.html#33256">&#8220;Removing and Restoring Specific Keywords&#8221;</a> </p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1035446"></a>See also <a href="chap12.html#11856">&#8220;Checking Support for Compact Modeling Extensions&#8221;</a> for information about a predefined macro that you can use to determine whether your simulator supports the compact modeling extensions. </p>

<h2>
<a id="pgfId-1031842"></a><a id="35902"></a>Implementing Text <a id="textMacros"></a>Macros</h2>

<p>
<a id="pgfId-1031846"></a>By using the <a id="marker-1031843"></a>text <a id="marker-1031844"></a><a id="marker-1031845"></a>macro substitution capability provided by the <code>`define</code> and <code>`undef</code> compiler directives, you can simplify your code and facilitate necessary changes. For example, you can use a text macro to represent a constant you use throughout your code. If you need to change the value of the constant, you can then change it in a single location. </p>

<h3>
<a id="pgfId-1031847"></a><a id="35977"></a>`define Compiler <a id="define"></a>Directive</h3>

<p>
<a id="pgfId-1031851"></a>Use the<a id="marker-1031848"></a><a id="marker-1031849"></a> <a id="marker-1031850"></a><code>`define</code> compiler directive to create a macro for text substitution. </p>

<pre class="webflare-courier-new">
<a id="pgfId-1031852"></a>text_macro_definition ::=
&#160;&#160;&#160;&#160;    <strong>`define</strong> text_macro_name <code><em>macro_text</em></code></pre>
<pre class="webflare-courier-new">
<a id="pgfId-1034604"></a>text_macro_name ::=
&#160;&#160;&#160;&#160;    <code><em>text_macro_identifier</em></code>[<strong>(</strong> list_of_formal_arguments <strong>)</strong> ]</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1034606"></a>list_of_formal_arguments ::=
&#160;&#160;&#160;&#160;    <code><em>formal_argument_identifier</em></code> { <strong>,</strong> <code><em>formal_argument_identifier</em></code> }</pre>

<p>
<a id="pgfId-1031853"></a><span class="webflare-courier-new" style="white-space:pre"><em>macro_text</em></span> is any text specified on the same line as <code>text_macro_name</code>. If <span class="webflare-courier-new" style="white-space:pre"><em>macro_text</em></span> is more than a single line in length, precede each new-line character with a backslash ( <strong></strong><strong>\</strong><a id="marker-1031854"></a> ). The first new-line character not preceded by a backslash ends <span class="webflare-courier-new" style="white-space:pre"><em>macro_text</em></span>. You can include arguments from the <code>list_of_formal_arguments</code> in <span class="webflare-courier-new" style="white-space:pre"><em>macro_text</em></span>.</p>
<p>
<a id="pgfId-1031855"></a>Subject to the restrictions in the next paragraph, you can include one-line <a id="marker-1031856"></a>comments in <span class="webflare-courier-new" style="white-space:pre"><em>macro_text</em></span>. If you do, the comments do not become part of the text that is substituted. <span class="webflare-courier-new" style="white-space:pre"><em>macro_text</em></span> can also be blank, in which case using the macro has no effect.</p>
<p>
<a id="pgfId-1031858"></a>You <a id="marker-1031857"></a>must not split <span class="webflare-courier-new" style="white-space:pre"><em>macro_text</em></span> across comments, numbers, strings, identifiers, keywords, or operators.</p>
<p>
<a id="pgfId-1031859"></a><span class="webflare-courier-new" style="white-space:pre"><em>text_macro_identifier</em></span> is the name you want to assign to the macro. You refer to this name later when you refer to the macro. <span class="webflare-courier-new" style="white-space:pre"><em>text_macro_identifier</em></span> must not be the same as any of the compiler directive keywords but can be the same as an ordinary identifier. For example, <code>signal_name</code> and <code>`signal_name</code> are different.</p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1031860"></a>
If your macro includes arguments, there must be no space between <span class="webflare-courier-new" style="white-space:pre"><em>text_macro_identifier</em></span> and the left parenthesis.</div>

<p>
<a id="pgfId-1031861"></a>To use a macro you have created with the <code>`define</code> compiler directive, use this syntax:</p>

<pre class="webflare-courier-new">
<a id="pgfId-1031862"></a>text_macro_usage ::=
&#160;&#160;&#160;&#160;    <strong>`</strong><code><em>text_macro_identifier</em></code>[<strong>(</strong> list_of_actual_arguments <strong>)</strong> ]</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1034608"></a>list_of_actual_arguments ::=
&#160;&#160;&#160;&#160;    <code><em>actual_argument</em></code> { <strong>,</strong> <code><em>actual_argument</em></code> }</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1034610"></a>actual_argument ::=
&#160;&#160;&#160;&#160;    expression</pre>

<p>
<a id="pgfId-1031863"></a><span class="webflare-courier-new" style="white-space:pre"><em>text_macro_identifier</em></span> is a name assigned to a macro by using the <code>`define</code> compiler directive. To refer to the name, precede it with the accent grave ( <code>`</code> ) character.</p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1031864"></a>
If your macro includes arguments, there must be no space between <span class="webflare-courier-new" style="white-space:pre"><em>text_macro_identifier</em></span> and the left parenthesis. </div>

<p>
<a id="pgfId-1031865"></a><code>list_of_actual_arguments</code> corresponds with the list of formal arguments defined with the <code>`define</code> compiler directive. When you use the macro, each actual argument substitutes for the corresponding formal argument.</p>
<p>
<a id="pgfId-1031866"></a>For example, the following code fragment defines a macro named <code>sum</code>:</p>

<pre class="webflare-courier-new">
<a id="pgfId-1031867"></a>`define sum(a,b) ((a)+(b)) // Defines the macro</pre>

<p>
<a id="pgfId-1032149"></a>To use <code>sum</code>, you might code something like this.</p>

<pre class="webflare-courier-new">
<a id="pgfId-1031869"></a>if (`sum(p,q) &gt; 5) begin
&#160;&#160;&#160;&#160;c = 0 ;<br />end</pre>

<p>
<a id="pgfId-1032154"></a>The next example defines an adc with a variable delay.</p>

<pre class="webflare-courier-new">
<a id="pgfId-1032155"></a>`define var_adc(dly) adc #(dly)</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1034612"></a>`var_adc(2) g121 (q21, n10, n11) ;<br />`var_adc(5) g122 (q22, n10, n11) ;</pre>
<h3>
<a id="pgfId-1031870"></a><a id="56492"></a>`undef Compiler <a id="undef"></a>Directive</h3>

<p>
<a id="pgfId-1031876"></a>Use the <a id="marker-1031871"></a><a id="marker-1031872"></a><a id="marker-1031873"></a><code>`undef</code> compiler directive to undefine a macro previously defined with the <code>`define</code><a id="marker-1031874"></a><a id="marker-1031875"></a> compiler directive.</p>

<pre class="webflare-courier-new">
<a id="pgfId-1031877"></a>undefine_compiler_directive ::=
&#160;&#160;&#160;&#160;    <strong>`undef</strong> <code><em>text_macro_identifier</em></code></pre>

<p>
<a id="pgfId-1031878"></a>If you attempt to undefine a compiler directive that was not previously defined, the compiler issues a warning.</p>

<h2>
<a id="pgfId-1031880"></a><a id="30256"></a>Compiling Code <a id="ifdef"></a>Conditionally</h2>

<p>
<a id="pgfId-1031884"></a>Use the <a id="marker-1031881"></a><a id="marker-1031882"></a><a id="marker-1031883"></a><code>`ifdef</code> compiler directive to control the inclusion or exclusion of code at compilation time.<a id="marker-1031885"></a><a id="marker-1031886"></a></p>

<pre class="webflare-courier-new">
<a id="pgfId-1031887"></a>conditional_compilation_directive ::=
&#160;&#160;&#160;&#160;    <strong>`ifdef</strong> <code><em>text_macro_identifier
&#160;&#160;&#160;&#160;    </em></code>    first_group_of_lines
&#160;&#160;&#160;&#160;    [<strong>`else
&#160;&#160;&#160;&#160;    </strong>    second_group_of_lines ]
&#160;&#160;&#160;&#160;    <strong>`endif</strong></pre>

<p>
<a id="pgfId-1031888"></a><span class="webflare-courier-new" style="white-space:pre"><em>text_macro_identifier</em></span> is a Verilog-AMS identifier. <code>first_group_of_lines</code> and <code>second_group_of_lines</code> are parts of your Verilog-AMS source description.</p>
<p>
<a id="pgfId-1031890"></a>If you defined <span class="webflare-courier-new" style="white-space:pre"><em>text_macro_identifier</em></span> by using the <code>`define</code><a id="marker-1031889"></a> directive, the compiler compiles <code>first_group_of_lines</code> and ignores <code>second_group_of_lines</code>. If you did not define <span class="webflare-courier-new" style="white-space:pre"><em>text_macro_identifier</em></span> but you include an <code>`else</code>, the compiler ignores <code>first_group_of_lines</code> and compiles <code>second_group_of_lines</code>.</p>
<p>
<a id="pgfId-1031891"></a>You can use an <code>`ifdef</code> compiler directive anywhere in your source description. You can, in fact, nest an <code>`ifdef</code> directive inside another <code>`ifdef</code> directive.</p>
<p>
<a id="pgfId-1031893"></a>You must ensure that all your code, including code <a id="marker-1031892"></a>ignored by the compiler, follows the Verilog-AMS lexical conventions for white space, comments, numbers, strings, identifiers, keywords, and operators.</p>

<h2>
<a id="pgfId-1031895"></a><a id="17175"></a>Including Files at Compilation <a id="include"></a>Time</h2>

<p>
<a id="pgfId-1031900"></a>Use the <a id="marker-1031896"></a><a id="marker-1031897"></a><a id="marker-1031898"></a><code>`include</code> compiler directive to insert the entire contents of a file into a source file during compilation. <a id="marker-1031899"></a></p>

<pre class="webflare-courier-new">
<a id="pgfId-1031901"></a>include_compiler_directive ::=
&#160;&#160;&#160;&#160;    <strong>`include</strong> <strong>&quot;</strong><code><em>file</em></code><strong>&quot;</strong></pre>

<p>
<a id="pgfId-1031902"></a><span class="webflare-courier-new" style="white-space:pre"><em>file</em></span> is the full or relative path of the file you want to include in the source file. <span class="webflare-courier-new" style="white-space:pre"><em>file</em></span> can contain additional <code>`include</code> directives. You can add a comment after the filename.</p>
<p>
<a id="pgfId-1031903"></a>When you use the <code>`include</code> compiler directive, the result is as though the contents of the included source file appear in place of the directive. For example, </p>

<pre class="webflare-courier-new">
<a id="pgfId-1031904"></a>`include &quot;parts/resistors/standard/count.va&quot; // Include the counter.</pre>

<p>
<a id="pgfId-1031905"></a>would place the entire contents of file <code>count.va</code> in the source file at the place where the <code>`include</code> directive is coded. </p>
<p>
<a id="pgfId-1031906"></a>Where the compiler looks for <span class="webflare-courier-new" style="white-space:pre"><em>file</em></span> depends on whether you specify an absolute path, a relative path, or a simple filename. If the compiler does not find the file, the compiler generates an error message.</p>

<h2>
<a id="pgfId-1035675"></a><a id="29875"></a>Adjusting the Time <a id="timescale"></a>Scale</h2>

<p>
<a id="pgfId-1035680"></a>Use the <code>`timescale</code><a id="marker-1035676"></a><a id="marker-1035677"></a> compiler directive to specify the time unit and time precision of the modules that follow it. This directive affects only digital contexts.<a id="marker-1035678"></a><a id="marker-1035679"></a></p>

<pre class="webflare-courier-new">
<a id="pgfId-1035681"></a>timescale_compiler_directive ::=
&#160;&#160;&#160;&#160;    <strong>`timescale</strong> time_period <strong>/</strong> time_precision</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1035682"></a>time_period ::= 
&#160;&#160;&#160;&#160;    <code><em>time_integer</em></code> <code><em>time_unit</em></code></pre>
<pre class="webflare-courier-new">
<a id="pgfId-1035683"></a>time_precision ::=
&#160;&#160;&#160;&#160;    <code><em>time_integer</em></code> <code><em>time_unit</em></code></pre>

<p>
<a id="pgfId-1035684"></a><span class="webflare-courier-new" style="white-space:pre"><em>time_integer</em></span> is one of the three integers: 1, 10, or 100. </p>
<p>
<a id="pgfId-1035685"></a><span class="webflare-courier-new" style="white-space:pre"><em>time_unit</em></span> is one of the following:</p>

<p>
<a id="pgfId-1035715"></a></p>
<table class="webflareTable" id="#id1035686">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1035688">
<a id="pgfId-1035688"></a>time_unit</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1035690">
<a id="pgfId-1035690"></a>Meaning</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035692"></a><code>s</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035694"></a>seconds</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035696"></a><code>ms</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035698"></a>milliseconds</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035700"></a><code>us</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035702"></a>microseconds</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035704"></a><code>ns</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035706"></a>nanoseconds</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035708"></a><code>ps</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035710"></a>picoseconds</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035712"></a><code>fs</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035714"></a>femtoseconds</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1035716"></a>The <code>time_unit</code> specifies the unit of measurement for time values such as the simulation time and delay values.</p>
<p>
<a id="pgfId-1035717"></a>The <code>time_precision</code> specifies how delay values are rounded before being used in simulation. The values used in simulation are accurate to within the unit of time specified by <code>time_precision</code>. The <code>time_precision</code> you specify must be less than or equal to <code>time_period</code>. The smallest <code>time_precision</code> argument of all the <code>`timescale</code> compiler directives in the design determines the time unit of the simulation.</p>
<p>
<a id="pgfId-1035380"></a>The <code>`timescale</code> directive sets the transition time in the <code>transition</code> filter and in Z-transform filters when neither local transition settings nor a <code>`default_transition</code> directive is used. However, Cadence recommends using the <code>`default_transition</code> directive instead.</p>
<p>
<a id="pgfId-1035722"></a>The following example illustrates how to use the <code>`timescale</code> directive.</p>

<pre class="webflare-courier-new">
<a id="pgfId-1035723"></a>`timescale 1 ns / 1 ps</pre>

<p>
<a id="pgfId-1035724"></a>In this example, all time values in the modules which follow the directive are multiples of 1 ns because the <code>time_unit</code> argument is <code>1 ns</code>. Delays are rounded to a precision of one-thousandth of a nanosecond because the <code>time_precision</code> argument is <code>1 ps</code>, or one-thousandth of a nanosecond.</p>

<h2>
<a id="pgfId-1035730"></a><a id="28899"></a><a id="31624"></a>Setting a Default Discrete Discipline for <a id="default_discipline"></a>Signals</h2>

<p>
<a id="pgfId-1035734"></a>Use the <a id="marker-1035731"></a><a id="marker-1035732"></a><a id="marker-1035733"></a><code>`default_discipline</code> compiler directive to specify a default discrete discipline for signals that do not have an explicit discipline declaration. You must not use this directive inside a module definition. </p>

<pre class="webflare-courier-new">
<a id="pgfId-1035735"></a>default_discipline_compiler_directive ::=
&#160;&#160;&#160;&#160;    <strong>`default_discipline</strong> [ <code><em>discipline_identifier</em></code> [qualifier] [scope]]</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1035736"></a>qualifier ::=
&#160;&#160;&#160;&#160;|&#160;&#160; <strong>reg<br /></strong> |&#160;&#160; <strong>wire<br /></strong> |&#160;&#160; <strong>tri<br /></strong> |&#160;&#160; <strong>wand<br /></strong> |&#160;&#160; <strong>triand<br /></strong> |&#160;&#160; <strong>wor<br /></strong> |&#160;&#160; <strong>wreal<br /></strong> |&#160;&#160; <strong>trior<br /></strong> |&#160;&#160; <strong>trireg<br /></strong> |&#160;&#160; <strong>tri0<br /></strong> |&#160;&#160; <strong>tri1<br /></strong> |&#160;&#160; <strong>supply0<br /></strong> |&#160;&#160; <strong>supply1</strong></pre>
<pre class="webflare-courier-new">
<a id="pgfId-1035737"></a>scope ::=
&#160;&#160;&#160;&#160;    <code><em>instance_identifier</em></code></pre>

<p>
<a id="pgfId-1035738"></a><span class="webflare-courier-new" style="white-space:pre"><em>discipline_identifier</em></span> is the discrete discipline to be associated with signals that do not have explicit discipline declarations. Using the <code>`default_discipline</code> directive without specifying a <span class="webflare-courier-new" style="white-space:pre"><em>discipline_identifier</em></span> turns off the directive, so subsequent signals without a discipline are associated with the empty discipline.</p>
<p>
<a id="pgfId-1035739"></a><code>qualifier</code> indicates the kind of signal to be acted upon by the <code>`default_discipline</code> directive. If you do not specify a qualifier, the <code>`default_discipline</code> compiler directive is in effect for every signal that lacks an explicit discipline declaration.</p>
<p>
<a id="pgfId-1035740"></a><span class="webflare-courier-new" style="white-space:pre"><em>instance_identifier</em></span> is the name of a module. The <code>`default_discipline</code> compiler directive is effective only in the indicated module. If you do not specify a module, the <code>`default_discipline</code> is effective in every module.</p>
<p>
<a id="pgfId-1035741"></a>You can have more than one <code>`default_discipline</code> directive in effect at a time, provided that each differs in scope, qualifier, or both. Each directive remains in effect until the compiler encounters another <code>`default_discipline</code> with the same combination of qualifier and scope.</p>
<p>
<a id="pgfId-1035742"></a>For example, the following statement illustrates how to use both a qualifier and a scope.</p>

<pre class="webflare-courier-new">
<a id="pgfId-1035743"></a>`default_discipline logic trireg example1.instance5 ;</pre>

<p>
<a id="pgfId-1035744"></a>In the following module, the signals <code>in1</code>, <code>in2</code>, and <code>out</code> are all associated with the discipline <code>logic</code> by default.</p>

<pre class="webflare-courier-new">
<a id="pgfId-1035745"></a>&#8216;default_discipline logic // No qualifier or scope so affects all signals.</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1037639"></a>module behavnand(in1, in2, out);
input in1, in2;           // Not associated with any explicit discipline.
output out;
reg out;
always begin
&#160;&#160;&#160;&#160;out = ~(in1 &amp;&amp; in2);<br />end <br />endmodule</pre>
<h2>
<a id="pgfId-1037685"></a><a id="42106"></a>Setting Default Rise and Fall <a id="default_transition"></a>Times</h2>

<p>
<a id="pgfId-1037691"></a>Use the <code>`default_transition</code><a id="marker-1037686"></a><a id="marker-1037687"></a> compiler directive to specify default rise and fall times for the <code>transition</code><a id="marker-1037688"></a><a id="marker-1037689"></a><a id="marker-1037690"></a> and Z-transform filters. This directive affects only analog contexts.</p>

<pre class="webflare-courier-new">
<a id="pgfId-1037692"></a>default_transition_compiler_directive ::=
&#160;&#160;&#160;&#160;    <strong>`default_transition</strong> <code><em>transition_time</em></code></pre>

<p>
<a id="pgfId-1037693"></a><span class="webflare-courier-new" style="white-space:pre"><em>transition_time</em></span> is an integer value that specifies the default rise and fall times for <code>transition</code> and Z-transform filters that do not have specified rise and fall times.</p>
<p>
<a id="pgfId-1037694"></a>If your description includes more than one <code>`default_transition</code> directive, the effective rise and fall times are derived from the immediately preceding directive. </p>
<p>
<a id="pgfId-1037695"></a>The <code>`default_transition</code> directive takes precedence over <code>`timescale</code> directives for setting the transition time in the <code>transition</code> and Z-transform transform filters when local transition settings are not provided.</p>
<p>
<a id="pgfId-1037696"></a>If you include neither a <code>`default_transition</code> directive nor a <code>`timescale</code> directive in your description, the default rise and fall times for <code>transition</code> and Z-transform filters is <code>0</code>.</p>

<h2>
<a id="pgfId-1037642"></a><a id="85463"></a>Resetting Directives to Default <a id="resetall"></a>Values</h2>

<p>
<a id="pgfId-1037648"></a>Use the <code>`resetall</code><a id="marker-1037643"></a><a id="marker-1037644"></a><a id="marker-1037645"></a> compiler directive to set all compiler directives, except the <code>`timescale</code><a id="marker-1037646"></a><a id="marker-1037647"></a> directive, to their default values.</p>

<pre class="webflare-courier-new">
<a id="pgfId-1037649"></a>resetall_compiler_directive ::=
&#160;&#160;&#160;&#160;    <strong>`resetall</strong></pre>

<p>
<a id="pgfId-1037650"></a>Placing the <code>`resetall</code> compiler directive at the beginning of each of your source text files, followed immediately by the directives you want to use in that file, ensures that only desired directives are active.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1037651"></a>Use the <code>`resetall</code> directive with care because it resets the </div>

<pre class="webflare-courier-new">
<a id="pgfId-1037652"></a><strong>`</strong>define DISCIPLINES_VAMS</pre>

<p>
<a id="pgfId-1037656"></a>directive in the <code>discipline.vams</code> file, which is included by most Verilog-AMS files. </p>

<h2>
<a id="pgfId-1037659"></a><a id="38259"></a>Specifying Which Reserved Keyword List to <a id="begin_keywords"></a>Use</h2>

<p>
<a id="pgfId-1037660"></a>Use the <code>`begin_keywords</code> and <code>`end_keywords</code> compiler directives to specify the active reserved keyword list for the parser. With these directives, you can mix Verilog (digital) and Verilog-AMS modules, even when the Verilog code uses identifiers that are Verilog-AMS keywords. </p>

<pre class="webflare-courier-new">
<a id="pgfId-1035428"></a>begin_keywords_compiler_directive ::=<br />    <strong>`begin_keywords &quot;</strong><code><em>version_specifier</em></code><strong>&quot;</strong></pre>
<pre class="webflare-courier-new">
<a id="pgfId-1036935"></a>version_specifier ::= <br />    |<strong>1364-1995 <br /></strong>    |<strong>1364-2001 <br /></strong>    |<strong>1364-2005 <br /></strong>    |<strong>1800-2005</strong></pre>
<pre class="webflare-courier-new">
<a id="pgfId-1036333"></a>end_keywords_compiler_directive ::=<br />    <strong>`end_keywords</strong></pre>

<p>
<a id="pgfId-1037287"></a>Each <span class="webflare-courier-new" style="white-space:pre"><em>version_specifier</em></span> value specifies an active subset of the default keyword list. The software determines the default keyword list depending on the options you specify on the <code>xmvlog</code> or <code>xrun</code> command line as follows: </p>

<p>
<a id="pgfId-1036574"></a></p>
<table class="webflareTable" id="#id1036553">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036949"></a><strong>Option</strong></p>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036951"></a><strong>Default Keyword List</strong></p>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036972"></a>Active Reserved Keywords</p>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036953"></a><code>-v95</code> or -<code>v1995</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036955"></a>1364-1995</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036974"></a>The subset of the default list that is part of the IEEE 1364-1995 standard </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036957"></a><code>-ams</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036959"></a>1364-2005 and the Cadence AMS keywords</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036976"></a>The subset of the default list that appears in <a href="appE.html#18036">Appendix D, &#8220;Verilog-AMS Keywords&#8221;</a> </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036961"></a><code>-sv31</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036963"></a>1800-2005</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036978"></a>The subset of the default list that is part of the IEEE 1800-2005 standard </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036965"></a>None of the above </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036967"></a>1364-2005</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036980"></a>The subset of the default list that is part of the IEEE 1364-2005 standard </p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1036134"></a>You must pair each <code>`begin_keywords</code> directive with a <code>`end_keywords</code> directive. The pair of directives defines a region of source code to which a specified <span class="webflare-courier-new" style="white-space:pre"><em>version_specifier</em></span> applies. The <code>`begin_keywords</code> directive affects all design elements (module, primitive, configuration, paramset, connectrules, and connectmodule) that follow the directive, even across source code file boundaries, until the software encounters its matching <code>`end_keywords</code> directive. These directives do not affect the semantics, tokens, and other aspects of the Verilog-AMS language. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1037421"></a>You must not specify the <code>`begin_keywords</code> and <code>`end_keywords</code> directives inside a design element (module, primitive, configuration, paramset, connectrules, or connectmodule). </div>
<p>
<a id="pgfId-1036142"></a>You can nest directive pairs. When the software encounters a <code>`end_keywords</code> directive, the compiler returns to using the <span class="webflare-courier-new" style="white-space:pre"><em>version_specifier</em></span> that was in effect prior to the matching <code>`begin_keywords</code> directive. </p>
<p>
<a id="pgfId-1036490"></a>The following example shows how you might use a Verilog (digital) module together with a Verilog-AMS module in a design. The Verilog module uses a parameter called <code>sin</code>, which is a Verilog-AMS keyword. To tell the compiler not to see <code>sin</code> as a keyword, you use the <code>&#8216;begin_keywords</code> directive to change the active set of keywords to a set that does not include the <code>sin</code> keyword.</p>

<pre class="webflare-courier-new">
<a id="pgfId-1036360"></a>// Use IEEE Std 1364-2001 Verilog keywords. Do not use Verilog-AMS keywords.
`begin_keywords &quot;1364-2001&quot;

module digital_module;
parameter sin = &quot;hello&quot;; // Uses a Verilog-AMS keyword as an identifier.
                         // sin is not a keyword in 1364-2001.
initial begin
&#160;&#160;&#160;&#160;$strobe(&quot;%s&quot;,sin);<br />end<br />endmodule<br />
// Restore the Verilog-AMS keywords now.
`end_keywords</pre>

<p>
<a id="pgfId-1037081"></a>Here is another similar example: </p>

<pre class="webflare-courier-new">
<a id="pgfId-1037398"></a>`begin_keywords &quot;1364-2005&quot; // Use IEEE Std 1364-2005 Verilog keywords.<br />module m2 (sin ...);<br />input sin // Uses Verilog-AMS keyword sin as a port name.<br />          // sin is not a keyword in 1364-2005.<br />...<br />endmodule<br />`end_keywords</pre>

<p>
<a id="pgfId-1037394"></a>The following example shows a definition of module <code>m1</code> that does not have a <code>`begin_keywords</code> directive before it. Without this directive, the set of reserved keywords in effect for this module is the default set of reserved keywords for Cadence&#8217;s implementation of Verilog-AMS. </p>

<pre class="webflare-courier-new">
<a id="pgfId-1037085"></a>module m1; // module definition with no `begin_keywords directive<br />...<br />endmodule</pre>
<h2>
<a id="pgfId-1035827"></a><a id="33256"></a>Removing and Restoring <a id="remove_keyword"></a>Specific <a id="restore_keyword"></a>Keywords</h2>

<p>
<a id="pgfId-1037814"></a>You can use the <code>`remove_keyword</code> and <code>`restore_keyword</code> compiler directives to remove and restore specific keywords from the set of reserved keywords that the parser recognizes. </p>
<p>
<a id="pgfId-1037815"></a>You might use the <code>`remove_keyword</code> directive to remove one or more specific keywords from the set of reserved keywords you specify using the<code>`begin_keywords</code> and <code>`end_keywords</code> compiler directives. </p>
<p>
<a id="pgfId-1037822"></a>You can also use the <code>-rmkeyword</code> command-line option (for<code> xmvlog</code> or<code> xrun</code>) in a similar fashion. </p>

<h2>
<a id="pgfId-1037710"></a><a id="11856"></a>Checking Support for Compact Modeling Extensions</h2>

<p>
<a id="pgfId-1035828"></a>Use the <code>__VAMS_COMPACT_MODELING__</code> macro to determine whether the simulator supports the compact modeling extensions. The AMS Designer simulator supports these extensions and sets the value of this macro to <code>t</code>.</p>

<pre class="webflare-courier-new">
<a id="pgfId-1035829"></a>VAMS_COMPACT_MODELING_macro_call::=
&#160;&#160;&#160;&#160;    <vlog-bold>
`ifdef __VAMS_COMPACT_MODELING__</vlog-bold>
</pre>

<p>
<a id="pgfId-1035830"></a>The <code>__VAMS_COMPACT_MODELING__</code> macro is predefined, so all you need to do is reference the macro name. (Notice the double underscore characters at both the beginning and the end of the macro name.) The returned value is <code>t</code> if the simulator supports the compact modeling extensions, which are:</p>
<ul><li>
<a id="pgfId-1035988"></a>Attributes consistent with <em>Verilog-AMS Language Reference Manual</em> version 1364-2001</li><li>
<a id="pgfId-1035989"></a>Output variables</li><li>
<a id="pgfId-1035908"></a>Attributes for parameter descriptions and units (<code>desc</code>, <code>units</code>)</li><li>
<a id="pgfId-1035996"></a>Net descriptions</li><li>
<a id="pgfId-1036003"></a>Modules (module description attribute)</li><li>
<a id="pgfId-1035911"></a>String parameters</li><li>
<a id="pgfId-1035912"></a>Parameter aliases</li><li>
<a id="pgfId-1036004"></a>Environment parameter functions (<code>$simparam</code>)</li><li>
<a id="pgfId-1035913"></a>Derivative operator (<code>ddx</code>)</li><li>
<a id="pgfId-1035914"></a>Limiting function (<code>%limit</code>)</li><li>
<a id="pgfId-1036007"></a>Hierarchy detections functions (<code>$param_given</code>)</li><li>
<a id="pgfId-1036008"></a>Display tasks (<code>$debug</code>)</li><li>
<a id="pgfId-1036009"></a>Format specifications (<code>%r</code>, <code>%R</code>)</li><li>
<a id="pgfId-1036010"></a>Local parameters (<code>localparam</code>)</li></ul>













<p>
<a id="pgfId-1035910"></a>If the simulator does not support the compact modeling extensions, the returned value is <code>nil</code>. </p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="chap11.html" id="prev" title="Mixed-Signal Aspects of Verilog-AMS">Mixed-Signal Aspects of Verilo ...</a></em></b><b><em><a href="appA.html" id="nex" title="Nodal Analysis">Nodal Analysis</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2019, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>