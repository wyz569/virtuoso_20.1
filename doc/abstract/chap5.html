
<html><head><title>Abstract Step</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="umap" />
<meta name="CreateDate" content="2020-08-16" />
<meta name="CreateTime" content="1597635245" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the Virtuoso Abstract Generator that you can use to create abstracts from layout data." />
<meta name="DocTitle" content="Virtuoso Abstract Generator User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Abstract Step" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.2.1" />
<meta name="Keyword" content="abstract" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2020-08-16" />
<meta name="ModifiedTime" content="1597635245" />
<meta name="NextFile" content="iAG.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Layout" />
<meta name="PrevFile" content="chap4.html" />
<meta name="c_product" content="Virtuoso Layout Suite" />
<meta name="Product" content="Virtuoso Layout Suite" />
<meta name="ProductFamily" content="Virtuoso Layout Suite" />
<meta name="ProductVersion" content="ICADVM20.1" />
<meta name="RightsManagement" content="Copyright 2012-2020 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Abstract Generator User Guide -- Abstract Step" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="ICADVM20.1" />
<meta name="SpaceKey" content="abstractICADVM201" />
<meta name="webflare-version" content="2.0" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="abstractTOC.html">Contents</a></li><li><a class="prev" href="chap4.html" title="Extract Step">Extract Step</a></li><li style="float: right;"><a class="viewPrint" href="abstract.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="iAG.html" title="Integrated Abstract Generator">Integrated Abstract Generator</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Abstract Generator User Guide<br />Product Version ICADVM20.1, October 2020</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>5
<a id="pgfId-1008781"></a></h1>
<h1>
<a id="pgfId-1011663"></a><hr />
<a id="46430"></a>Abstract Step<hr />
</h1>

<p>
<a id="pgfId-1033905"></a>This chapter describes the third stage of the abstract generation process: the Abstract step. Abstract Generator performs the following functions during the Abstract step:</p>
<ul><li>
<a id="pgfId-1033906"></a>Adjusts pin shapes</li><li>
<a id="pgfId-1033907"></a>Performs blockage modeling</li><li>
<a id="pgfId-1033908"></a>Creates sites</li><li>
<a id="pgfId-1033909"></a>Calculates overlap layers</li></ul>



<p>
<a id="pgfId-1033920"></a>To access the <em>Running step Abstract</em> form, select one or more cells in the main window and click the <em>Abstract</em> button. Alternatively, select <em>Flow &#8211; Abstract</em>. This opens the <em>Running step Abstract</em> form. You can select the options you need on this form and click the <em>Run</em> button. The <em>Percent Complete</em> message box reports the progress of the step.</p>
<p>
<a id="pgfId-1033922"></a>If there are no valid Pins or Extract views for a cell, Abstract Generator automatically runs the Pins and Extract steps prior to running the Abstract step. For information about the Pins and Extract steps, see <a href="chap3.html#36318">Pins Step</a> and <a href="chap4.html#31602">Extract Step</a>.</p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1050909"></a>
The QuickAbstract option enables you to improve the performance of Abstract Generator by 30 percent for small and medium sized designs. If this option is set to true, Abstract Generator does not generate intermediate cellviews namely Pin and Extract cellviews; it generates only Abstract cellviews. By default, the QuickAbstract option is set to false.</div>

<p>
<a id="pgfId-1033929"></a>When the Abstract step is complete, Abstract Generator places a symbol against the cell in the <em>Cell</em> pane to indicate the status of the Abstract view that was created. For information about these icons, see <a href="chap2.html#33253">Viewing Status Information</a>.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1070189"></a><a id="wsp"></a>Abstract Generator automatically detects shapes placed in WSP regions and ignores these shapes while creating blockages. </div>
<p>
<a id="pgfId-1014140"></a>This chapter describes the following tabs on the <em>Running step Abstract</em> form:</p>
<ul><li>
<a id="pgfId-1015353"></a><a href="chap5.html#42336">Adjust Tab</a></li><li>
<a id="pgfId-1015356"></a><a href="chap5.html#60249">Blockage Tab</a></li><li>
<a id="pgfId-1031823"></a><a href="chap5.html#96035">Density Tab</a></li><li>
<a id="pgfId-1030524"></a><a href="chap5.html#63804">Fracture Tab</a></li><li>
<a id="pgfId-1015357"></a><a href="chap5.html#15681">Site Tab</a></li><li>
<a id="pgfId-1015358"></a><a href="chap5.html#21992">Overlap Tab</a></li></ul>





<p>
<a id="pgfId-1031058"></a>The chapter also discusses the following:</p>
<ul><li>
<a id="pgfId-1073527"></a><a href="chap5.html#55921">Retaining Layout Information in the Abstract View</a></li><li>
<a id="pgfId-1073530"></a><a href="chap5.html#54373">Creating Fill Blockages Automatically on Specific Layers</a></li><li>
<a id="pgfId-1073541"></a><a href="chap5.html#64301">Bus Annotation in Abstract Generator</a></li><li>
<a id="pgfId-1073548"></a><a href="chap5.html#51905">Supporting EXCEPTPGNET LEF Attribute</a></li><li>
<a id="pgfId-1073555"></a><a href="chap5.html#31641">Supporting Layout Dual View</a></li><li>
<a id="pgfId-1073562"></a><a href="chap5.html#96396">Support for Copying Mixed Signal Routing Constraints from Layout to Abstract View</a></li><li>
<a id="pgfId-1073569"></a><a href="chap5.html#28821">Suppressing Messages Issued by Abstract Generator</a></li></ul>






<p>
<a id="pgfId-1030859"></a>In the <em>Running step Abstract</em> form, use the radio buttons on the left to navigate the options pages for the different steps and bins you are using.</p>
<p>
<a id="pgfId-1059745"></a>For information about the other abstract generation steps, see the following:</p>
<ul><li>
<a id="pgfId-1034861"></a><a href="chap3.html#36318">Pins Step</a></li><li>
<a id="pgfId-1034865"></a><a href="chap4.html#31602">Extract Step</a></li></ul>


<h3>
<a id="pgfId-1059835"></a><a id="40516"></a>Multi-P<a id="dpt_ag"></a>atterning Technology (ICADVM20.1 Only)</h3>

<p>
<a id="pgfId-1059836"></a>To support Multi-Patterning Technology (MPT), the options on the various tabs of the <em>Running step Abstract</em> form now recognize the colors of the original shapes in the layout editor. Therefore, the shapes created in the abstract inherit the colors from the original shapes. For example, two pin shapes created by fracturing a single rectilinear shape will inherit the color of the original rectilinear shape.</p>
<p>
<a id="pgfId-1060158"></a>Abstract Generator respects color shifts and layers that are present on instances or shapes. For information about color and layer shift functions, see <h-hot><a actuate="user" class="URL" href="../vmptuser/mptSKILL.html#DPTColorShiftingControls" show="replace" xml:link="simple">Virtuoso Database Access SKILL Functions for MPT</a></h-hot>.</p>
<p>
<a id="pgfId-1059859"></a>For more information about MPT support in Abstract Generator, see <a href="20nm_Support_AG.html#90986">Multi-Patterning Technology Support in Abstract Generator (ICADVM20.1 Only)</a>.</p>

<h2>
<a id="pgfId-1015504"></a><a id="42336"></a>Adj<a id="marker-1027344"></a>us<a id="AdjustOptions"></a>t Ta<a id="marker-1037725"></a>b</h2>

<p>
<a id="pgfId-1059736"></a>To access the <em>Adjust</em> tab, select <em>Flow &#8211; Abstract</em>. The <em>Adjust </em>tab is the first tab in the <em>Running step Abstract</em> form.</p>

<p>
<a id="pgfId-1059740"></a></p>
<div class="webflare-div-image">
<img width="668" height="701" src="images/chap5-3.gif" /></div>

<p>
<a id="pgfId-1015600"></a>The options on this tab control how pin shapes are adjusted during connectivity extraction for creating the final required pin shapes. These pin shapes are then fractured into rectangles. The options help you ensure that if a pin shape is reduced in any way, the discarded part of the pin is turned into a blockage, and the blockage is spaced sufficiently away from the reduced pin shape.</p>
<p>
<a id="pgfId-1034022"></a>The <em>Adjust</em> tab provides you options to perform the following tasks:</p>
<ul><li>
<a id="pgfId-1034024"></a><a actuate="user" class="URL" href="../abstract/chap5.html#creatingboundarypins" show="replace" xml:link="simple">Specify the creation of square boundary pins for signal and power nets</a></li><li>
<a id="pgfId-1034025"></a><a actuate="user" class="URL" href="../abstract/chap5.html#creatingringpins" show="replace" xml:link="simple">Specify the creation of ring pins for power nets</a></li><li>
<a id="pgfId-1034384"></a><a actuate="user" class="URL" href="../abstract/chap5.html#creatingfollowringpins" show="replace" xml:link="simple">Specify the creation of follow ring pins for power nets</a></li><li>
<a id="pgfId-1064347"></a><a actuate="user" class="URL" href="../abstract/chap5.html#singnalNets" show="replace" xml:link="simple">Group the signal nets</a></li><li>
<a id="pgfId-1034038"></a><a actuate="user" class="URL" href="../abstract/chap5.html#groupingpowergeometries" show="replace" xml:link="simple">Group the power geometries</a></li><li>
<a id="pgfId-1034423"></a><a actuate="user" class="URL" href="../abstract/chap5.html#classcoreports" show="replace" xml:link="simple">Set the options for CLASS CORE ports</a></li><li>
<a id="pgfId-1049918"></a><a actuate="user" class="URL" href="../abstract/chap5.html#classbumpports" show="replace" xml:link="simple">Create CLASS BUMP ports</a></li><li>
<a id="pgfId-1034039"></a><a actuate="user" class="URL" href="../abstract/chap5.html#specifypowerrailwidths" show="replace" xml:link="simple">Specify power rail widths, offsets, and shapes</a></li><li>
<a id="pgfId-1034040"></a><a actuate="user" class="URL" href="../abstract/chap5.html#assignlayerpingeom" show="replace" xml:link="simple">Assign layers for pin geometry</a></li></ul>









<h3>
<a id="pgfId-1014371"></a><a id="creatingboundarypins"></a>Creating<a id="marker-1027345"></a> Bounda<a id="marker-1037727"></a>ry Pins</h3>

<p>
<a id="pgfId-1014372"></a>The <em>Create boundary pins</em> option exists at two locations on the <em>Adjust</em> tab &#8212; <em>Signal Nets</em> and <em>Power Nets</em> groups. By default, this option is off for all bins except the <em>Block</em> bin and is disabled and off for <em>Core</em> bin.</p>

<h4>
<a id="pgfId-1036644"></a>Square Boundar<a id="marker-1037728"></a>y Pins</h4>

<p>
<a id="pgfId-1034104"></a>The <em>Create boundary pins</em><a id="createboundarypins"></a> option lets you adjust the pin shapes created during extraction to be square and on the cell boundary. This can be useful when processing blocks where pin geometry extends deep inside the block after extraction. If the <em>Create boundary pins</em> option is turned off, the pin will retain the shape generated by the Extract step, which can still be modified using the <a href="chap4.html#91779">Assigning Layers for Signal Extraction</a> options.</p>
<p>
<a id="pgfId-1034045"></a>The method used by Innovus to check width-dependent spacing rules might lead to false violations, so you should restrict the pin geometry to be a square near the boundary of the block by using the <em>Create boundary pins</em> option.</p>
<p>
<a id="pgfId-1014388"></a>Consider the following net inside a block.</p>

<p>
<a id="pgfId-1014405"></a></p>
<div class="webflare-div-image">
<img width="421" height="175" src="images/chap5-4.gif" /></div>

<p>
<a id="pgfId-1022767"></a>With the <em>Create boundary pins</em> option turned on, this becomes:</p>

<p>
<a id="pgfId-1022785"></a></p>
<div class="webflare-div-image">
<img width="410" height="176" src="images/chap5-5.gif" /></div>

<p>
<a id="pgfId-1058382"></a>The pins that originally extended inside the block are transformed into squares of the same dimension as the original width of the pin.</p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1058383"></a>
If the area of the metal wire from which a boundary pin is cut is less than the minArea constraint defined in the technology file for that layer, a warning message indicating the minimum area rule violation is displayed. </div>

<p class="webflare-indent1">
<a id="pgfId-1058536"></a>In other words, when verifying the boundary pin size, Abstract Generator does not calculate the metal area of the square boundary pin generated in the abstract. Instead, it calculates the area of the metal wire from which the boundary pin is cut. If the area of the metal wire is less than the minArea constraint, a warning message is generated indicating that the minimum area rule is violated.</p>

<h4>
<a id="pgfId-1034785"></a><a id="41223"></a>Non-Square Bounda<a id="marker-1034784"></a>ry Pins</h4>

<p>
<a id="pgfId-1034786"></a>Sometimes, the resultant pin shape might not be square even when <em>Create boundary pins</em> is turned on. This can happen when you do not run any extraction but instead use preset pins. Abstract Generator might need to stretch the pin because it might not be positioned right at the edge of the underlying geometry.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1031036"></a>Abstract Generator stretches pins only up to the PR boundary and not beyond it.</div>
<p>
<a id="pgfId-1014411"></a><strong>Example</strong></p>
<p>
<a id="pgfId-1014426"></a>Consider the following figure.</p>

<p>
<a id="pgfId-1022806"></a></p>
<div class="webflare-div-image">
<img width="501" height="132" src="images/chap5-6.gif" /></div>

<p>
<a id="pgfId-1017774"></a>The pin does not extend right to the edge of the underlying geometry but the distance &#8216;<code>d</code>&#8217; is less than the minimum allowed: a separation plus the minimum wire width.</p>

<p>
<a id="pgfId-1022825"></a></p>
<div class="webflare-div-image">
<img width="668" height="221" src="images/chap5-7.gif" /></div>

<p>
<a id="pgfId-1017775"></a>When the <em>Create boundary pins</em> option is selected, Abstract Generator first squares off the pin to the right, maintaining the existing left boundary and adjusting the right boundary (the darker hatched area). Then, because distance &#8216;<code>d</code>&#8217; is too small to accommodate a visible spaced blockage, Abstract Generator stretches the pin back to the boundary (the lighter hatched area).</p>
<p>
<a id="pgfId-1014453"></a>When the <em>Create boundary pins</em> option is not selected, the pin is not squared off first, and the right-most edge is the same as that of the original pin shape. However, Abstract Generator still stretches the pin to the left edge of the underlying geometry as shown in the figure below.</p>

<p>
<a id="pgfId-1022853"></a></p>
<div class="webflare-div-image">
<img width="668" height="150" src="images/chap5-8.gif" /></div>

<p>
<a id="pgfId-1019270"></a>For more information and another example of pin stretching, see <a href="chap5.html#23921">Automatic Pin Stretching</a>.</p>

<h4>
<a id="pgfId-1031107"></a>Specifying the Distance of the Boundary Pin from the Boundary</h4>

<p>
<a id="pgfId-1031108"></a>The <em>Boundary pin max distance to boundary</em> field in both the <em>Signal Nets</em> and <em>Power Nets</em> groups on the <em>Adjust</em> tab allows you to specify the maximum distance (in microns) of the signal net or power net geometries from the boundary so that they can be considered as boundary pins. The geometries that are within the specified distance from the boundary are squared. By default, the shape(s) closest to the boundary is squared.</p>
<p>
<a id="pgfId-1031109"></a>This option is available only when the <em>Create boundary pins</em> option is selected.</p>

<h3>
<a id="pgfId-1034091"></a><a id="56129"></a>Creat<a id="marker-1073741"></a>ing Ri<a id="marker-1073742"></a>ng P<a id="creatingringpins"></a>ins</h3>

<p>
<a id="pgfId-1034092"></a>The<em> Create ring pins</em><a id="createringpins"></a> option is available only if you are processing a block cell. The selection of this option is also mutually exclusive from the <em><a actuate="user" class="URL" href="../abstract/chap5.html#createboundarypins" show="replace" xml:link="simple">Create boundary pins</a></em> option within the shared <em>Power Nets</em> section. By default, this option is turned off.</p>
<p>
<a id="pgfId-1018601"></a>If you select this option, ring pins will be created where any extreme shapes (that are close to the cell boundary) existing in a power net are found to form a ring.</p>
<p>
<a id="pgfId-1036668"></a>To create ring pins for these power rings, you must ensure that this option, along with the <em><a actuate="user" class="URL" href="../abstract/chap4.html#extractpowernets" show="replace" xml:link="simple">Extract power nets</a></em> option on the <em>Power</em> tab in the Extract step, is turned on.</p>
<p>
<a id="pgfId-1018736"></a>If a block cell is processed with this option selected, Abstract Generator will display a message box informing you whether or not the ring pins were successfully created.</p>

<h4>
<a id="pgfId-1019013"></a><a id="54629"></a>Specifying the Distance of the Ring Pin from the Boundary</h4>

<p>
<a id="pgfId-1031122"></a>The <em>Ring pin max distance to boundary</em><a id="ringpinmaxdist"></a> field is only available if you are processing a block cell and when the <em><a actuate="user" class="URL" href="../abstract/chap5.html#creatingringpins" show="replace" xml:link="simple">Create ring pins</a></em> option is already selected.</p>
<p>
<a id="pgfId-1031123"></a>In this field, you can specify (in microns) the maximum distance within which the extracted power net geometry can be from the boundary in order for it to be considered as part of the ring, and therefore, be included in the abstract as pin geometry.</p>
<p>
<a id="pgfId-1019028"></a>Any <code>vdd</code> and <code>vss</code> net geometry found further than the specified distance from the boundary is not considered part of the ring geometry but is instead treated as an obstruction.</p>
<p>
<a id="pgfId-1019080"></a>The default value for this field is <code>0</code>, which means that Innovus finds the closest power shape to the boundary for each net, and that becomes the criterion distance used in determining the ring pin geometry for that net.</p>

<h3>
<a id="pgfId-1031132"></a><a id="creatingfollowringpins"></a>Creating Follo<a id="marker-1037736"></a>w Rin<a id="marker-1037737"></a>g Pins</h3>

<p>
<a id="pgfId-1031189"></a>The <em>Follow ring pin</em> option is available only if you are processing a block cell and when the <em><a actuate="user" class="URL" href="../abstract/chap5.html#createringpins" show="replace" xml:link="simple">Create ring pins</a></em> option is already selected. If you select this option, all pin shapes, including the ones that are not part of the ring, are considered as pins in the final abstract.</p>
<p>
<a id="pgfId-1036670"></a>The pins that are not part of the ring (&#8216;follow rings pins&#8217;) are included in the final abstract based on the value specified in the <em><a actuate="user" class="URL" href="../abstract/chap5.html#ringpinmaxdist" show="replace" xml:link="simple">Ring pin max distance to boundary</a></em> field. When no value is specified, only the pin shapes whose distance from the boundary is the same or less than the distance of the farthest edge of the ring pin shape are included in the abstract. On the other hand, when a value is specified in the <em>Ring pin max distance to boundary</em> field, pin shapes are included in the abstract only if their distance from the boundary is within the distance specified in the field.</p>
<p>
<a id="pgfId-1031194"></a>To prevent any filtering based on the distance, you can specify an arbitrarily large value in the <em>Ring pin max distance to boundary</em> field.</p>

<h3>
<a id="pgfId-1064183"></a>Groupin<a id="marker-1064380"></a>g Sign<a id="singnalNets"></a>al Nets</h3>

<p>
<a id="pgfId-1064273"></a>The <em>Signal geometry groups</em> option controls how signal net shapes are grouped into LEF PORTS. This is useful for blocks with numerous signal pins on different layers. Usually, the presence of overlapping shapes on different layers means that the router should connect to only one of the overlapping shapes. This is achieved by grouping the overlapping shapes into the same LEF PORT.</p>
<p>
<a id="pgfId-1064223"></a><em>Signal geometry groups</em> is a cyclic field and provides the following options:</p>

<p>
<a id="pgfId-1064237"></a></p>
<table class="webflareTable" id="#id1064224">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1064226"></a><em>single</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1064228"></a>Creates a single LEF <code>PORT</code> for all the signal net shapes</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1064230"></a><em>separate</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1064232"></a>Creates a separate LEF <code>PORT</code> for each signal net shape</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1064234"></a><em>overlap</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1064236"></a>Forms LEF <code>PORTS</code> from groups of overlapping signal net shapes, that is, signal net shapes that overlap go into the same LEF <code>PORT</code>.</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1064238"></a>The default value for this option is <em>single</em> for <em>Core</em>, <em>IO</em>, and <em>Corner</em> bins and <em>overlap</em> for <em>Block</em> bins. </p>

<div class="webflare-information-macro webflare-macro-tip">
<a id="pgfId-1064239"></a>
Set a value for this option after you have selected the Create boundary pins option for signal nets.</div>
<h3>
<a id="pgfId-1064080"></a><a id="58566"></a>Grou<a id="groupingpowergeometries"></a>ping Power Geome<a id="marker-1064079"></a>tries</h3>

<p>
<a id="pgfId-1064082"></a>The <em>Power geometry groups</em><a id="powergeometrygroups"></a> option controls how power shapes are grouped into LEF <code>PORTS</code>. This is useful for blocks with numerous power pins on different layers.</p>
<p>
<a id="pgfId-1014483"></a>Usually, the presence of overlapping power shapes on different layers means that the router should connect to only one of the overlapping shapes. This is achieved by grouping the overlapping shapes into the same LEF <code>PORT</code>. </p>
<p>
<a id="pgfId-1017782"></a><em>Power geometry group</em> is a cyclic field and provides the following options:</p>

<p>
<a id="pgfId-1023597"></a></p>
<table class="webflareTable" id="#id1023599">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1023601"></a><em>single</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1023603"></a>Creates a single LEF <code>PORT</code> for all the power shapes</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1023605"></a><em>separate</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1023607"></a>Creates a separate LEF <code>PORT</code> for each power shape</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1023609"></a><em>overlap</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1023611"></a>Forms LEF <code>PORTS</code> from groups of overlapping power pins, that is, power shapes that overlap go into the same LEF <code>PORT</code>.</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1014503"></a>The default value for this option is <em>single</em> for <em>Core</em>, <em>IO</em>, and <em>Corner</em> bins and <em>overlap</em> for <em>Block</em> bins. </p>

<div class="webflare-information-macro webflare-macro-tip">
<a id="pgfId-1014504"></a>
Set a value for this option after you have selected the Create boundary pins option for power nets.</div>
<h4>
<a id="pgfId-1050209"></a>Examples</h4>
<p>
<a id="pgfId-1050218"></a></p>
<div class="webflare-div-image">
<img width="643" height="550" src="images/chap5-10.gif" /></div>

<p>
<a id="pgfId-1050546"></a></p>

<div class="webflare-div-image">
<img width="520" height="305" src="images/chap5-11.gif" /></div>
<h4>
<a id="pgfId-1015758"></a>Power Terminal Shape Checks</h4>

<p>
<a id="pgfId-1015759"></a>Abstract Generator also examines the standard cell power pin shapes and sets the shape to either feedthrough or abutment.</p>
<p>
<a id="pgfId-1015760"></a>Additionally, checks are made at this time to ensure the following:</p>
<ul><li>
<a id="pgfId-1014523"></a>The selected standard cells have the same power rail width and the same ground rail width.</li><li>
<a id="pgfId-1014524"></a>The selected standard cells have the power rails at the same offset from the cell origin so that the power rails can be connected by feedthrough or abutment.</li><li>
<a id="pgfId-1014525"></a>The rail width is the same at the right and left edges of standard cells.</li><li>
<a id="pgfId-1014526"></a>The rail width is an even number when converted to LEF database units. </li></ul>



<p>
<a id="pgfId-1014527"></a>The <em><a actuate="user" class="URL" href="../abstract/chap5.html#powerrailwidthoffset" show="replace" xml:link="simple">Power rail widths, offsets and shape</a></em> table provides an option to specify the characteristics of the power and ground rails for the current bin.</p>
<p>
<a id="pgfId-1026048"></a>The Abstract step does not assign feedthrough or abutment shape properties if there are no power terminal shapes that touch the prboundary. For example, a voltage translator cell could have <code>vdd</code> and <code>vss</code> net geometry, but may also have an internal <code>vdd</code> net that cannot be classified under any shape class.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1018532"></a>You can set the shape manually using <em><a href="appA.html#20434">Viewing and Editing Cell Terminal Properties</a><em></em></em>.</div>

<h3>
<a id="pgfId-1026296"></a><a id="classcoreports"></a><a id="47972"></a>Setting Options for CLASS CORE Ports</h3>

<p>
<a id="pgfId-1034354"></a>The subsequent sections will describe options to specify the following CLASS CORE-specific information to Abstract Generator:</p>
<ul><li>
<a id="pgfId-1034362"></a><a actuate="user" class="URL" href="../abstract/chap5.html#CellEdgeFacingCore" show="replace" xml:link="simple">Direction of the core-facing cell edge</a></li><li>
<a id="pgfId-1034531"></a><a actuate="user" class="URL" href="../abstract/chap5.html#specifyingpowergroundnetsclasscore" show="replace" xml:link="simple">Power or ground nets to have CLASS CORE ports</a></li><li>
<a id="pgfId-1034533"></a><a actuate="user" class="URL" href="../abstract/chap5.html#AllowMultipleCLASSCOREPorts" show="replace" xml:link="simple">Multiple ports to be defined as CLASS CORE</a></li><li>
<a id="pgfId-1034534"></a><a actuate="user" class="URL" href="../abstract/chap5.html#copyingclasscore" show="replace" xml:link="simple">CLASS CORE ports to be duplicated in LEF</a></li><li>
<a id="pgfId-1034537"></a><a actuate="user" class="URL" href="../abstract/chap5.html#specifyingpinsinclasscore" show="replace" xml:link="simple">Pins to be included in CLASS CORE ports</a></li></ul>




<p>
<a id="pgfId-1034425"></a>These options apply only to the cells in the <em>IO</em> bin.</p>

<h4>
<a id="pgfId-1034355"></a>Specifying the Direction of the <a id="CellEdgeFacingCore"></a>Core-Facing Cell Edge<a id="marker-1034255"></a></h4>

<p>
<a id="pgfId-1026297"></a>The <em>Cell edge facing core</em> is a text field, which is enabled only when you process a pad cell in the <em>IO</em> bin. This option is used to specify the direction in which the <code>CORE</code>-facing edge is pointing, <em>north</em>, <em>south</em>, <em>east</em>, <em>west, or a combination of any of the four core edges</em>. The default value is<em> north</em>. You can specify multiple <code>CORE</code>-facing edges. </p>
<p>
<a id="pgfId-1034288"></a>Abstract Generator uses this value to determine the edge of the pad cell that it should check for locating the port to be classified as <code>CLASS</code> <code>CORE</code> in the LEF file.</p>
<p>
<a id="pgfId-1026301"></a>For example, the IO pad shown in the following figure will be placed to the left of the core. Therefore, the <em>Cell edge facing core</em> option for this pad should be set to <em>east</em> so that the correct port is identified as CLASS CORE in the LEF file.</p>

<p>
<a id="pgfId-1026303"></a></p>
<div class="webflare-div-image">
<img width="264" height="114" src="images/chap5-12.gif" /></div>
<h4>
<a id="pgfId-1026361"></a><a id="specifyingpowergroundnetsclasscore"></a>Specifying the Power/Grou<a id="marker-1027352"></a>nd Nets with CLASS CORE Ports</h4>

<p>
<a id="pgfId-1026362"></a>The <em>Power/ground net to have CLASS CORE ports</em><a id="powergroundnetsclasscore"></a> field allows you to specify the nets that should have <code>CLASS</code> <code>CORE</code> ports. This can be specified by entering a regular expression in the field. This field is related with the <em>Cell edge facing core</em> option and therefore, available only when you process a pad cell in the <em>IO</em> bin.</p>
<p>
<a id="pgfId-1026363"></a>The default entry for this field is <code>^((V(DD|CC))|(v(dd|cc)))(!)?$</code></p>
<p>
<a id="pgfId-1034332"></a>For more information about completing and understanding regular expressions, see <a href="appC.html#46386">Using Regular Expressions in Abstract Generator</a>.</p>

<h4>
<a id="pgfId-1030902"></a>Allowing the Creatio<a id="marker-1037744"></a>n of Mult<a id="AllowMultipleCLASSCOREPorts"></a>iple CLASS CORE Ports</h4>

<p>
<a id="pgfId-1030903"></a>The <em>Allow multiple CLASS CORE ports</em> option is intended for pad cells processed in the <em>IO</em> bin. If selected, this option specifies that two ports equidistant from the core-facing edge of a pad are both assigned the <code>CLASS</code> <code>CORE</code> statement in LEF. Only geometries with center lines perpendicular to the core-facing edge are considered.</p>
<p>
<a id="pgfId-1030904"></a>The option is off by default, which means that only the geometry closest to the core-facing edge becomes a <code>CLASS</code> <code>CORE</code> port. In the figure below, the geometry that becomes a <code>CLASS</code> <code>CORE</code> port is the one on the right (<code>VDD2</code>).</p>

<p>
<a id="pgfId-1030923"></a></p>
<div class="webflare-div-image">
<img width="334" height="198" src="images/chap5-13.gif" /></div>

<p>
<a id="pgfId-1030924"></a>When the option is off and there are two power geometries equidistant from the core-facing edge, only the geometry closer to the center line of the pad is defined as a <code>CLASS</code> <code>CORE</code> port in LEF. In the figure below, the geometry that becomes a <code>CLASS</code> <code>CORE</code> port is the one on the right (<code>VDD2</code>).</p>

<p>
<a id="pgfId-1030942"></a></p>
<div class="webflare-div-image">
<img width="334" height="198" src="images/chap5-14.gif" /></div>

<p>
<a id="pgfId-1030946"></a>When you select this option<em>,</em> the behavior depends on the <em><a actuate="user" class="URL" href="../abstract/chap5.html#powergeometrygroups" show="replace" xml:link="simple">Power geometry groups</a></em> setting, as described below:</p>
<ul><li>
<a id="pgfId-1030947"></a>If you select <em>separate</em>, the geometries shown in the second picture above appear in two separate <code>CLASS</code> <code>CORE</code> ports in LEF.</li><li>
<a id="pgfId-1030948"></a>If you select <em>single</em>, they appear in the same <code>CLASS</code> <code>CORE</code> port.</li><li>
<a id="pgfId-1019960"></a>If you select <em>overlap</em>, they appear in two separate <code>CLASS</code> <code>CORE</code> ports <em>unless</em> they overlap, in which case they will appear in the same <code>CLASS</code> <code>CORE</code> port.</li></ul>



<h4>
<a id="pgfId-1030899"></a><a id="copyingclasscore"></a>Copying CLA<a id="CopyCLASSCOREPorts"></a>SS CO<a id="marker-1027353"></a>RE Ports to LEF</h4>

<p>
<a id="pgfId-1030072"></a>The <em>Copy CLASS CORE ports</em> option is enabled only when you process a pad cell in the <em>IO</em> bin and is switched off by default.</p>

<p>
<a id="pgfId-1030687"></a>This option duplicates any geometry found to belong to a <code>CLASS</code> <code>CORE</code> port on the net (set by using the <em><a actuate="user" class="URL" href="../abstract/chap5.html#powergroundnetsclasscore" show="replace" xml:link="simple">Power/ground net to have CLASS CORE ports</a></em><em> </em>option) in a non-<code>CLASS CORE</code> port to the exported abstract LEF.</p>

<p>
<a id="pgfId-1028571"></a>When this option is off, Abstract Generator will find the power geometry group port (<em>single</em>, <em>separate</em>, <em>overlap</em>) whose geometry is closest to the core-facing edge and set it to <code>CLASS CORE</code>. Then, when exported to LEF, the port will only be represented once with the <code>CLASS CORE</code> property.</p>

<h4>
<a id="pgfId-1028581"></a><a id="specifyingpinsinclasscore"></a>Specifying the Pins to <a id="marker-1037746"></a>be Included in CLASS CORE Ports</h4>

<p>
<a id="pgfId-1047617"></a>The options <em>Create CLASS CORE ports only if pin meets cell boundary</em> and <em>Create CLASS CORE ports if pin meets non-core facing edge</em> are enabled only when you process a pad cell in the <em>IO</em> bin.</p>

<h4><em>
<a id="pgfId-1047619"></a><strong>Create </strong><strong>CLASS CORE ports only if pin meets cell boundary</strong><a id="marker-1047618"></a></em></h4>

<p>
<a id="pgfId-1047620"></a>The option <em>Create CLASS CORE ports only if pin meets cell boundary</em> is switched off by default.</p>
<p>
<a id="pgfId-1061925"></a>When this option is selected, only the pins that either touch or cross the core-facing edge of the boundary become <code>CLASS</code> <code>CORE</code> ports in LEF. If the option is not selected, the pin closest to the core-facing edge becomes the <code>CLASS</code> <code>CORE</code> port.</p>
<p>
<a id="pgfId-1061926"></a>Consider the situation as shown in the figure below. In this situation, if the option is selected, then only <code>pinB</code> will become a <code>CLASS</code> <code>CORE</code> pin.</p>

<p>
<a id="pgfId-1047661"></a></p>
<div class="webflare-div-image">
<img width="569" height="198" src="images/chap5-15.gif" /></div>
<h4>
<a id="pgfId-1047669"></a>Example</h4>

<p>
<a id="pgfId-1047670"></a>Consider a situation in which the cell-edge facing core is set to south so the VDD pin on the right of the south edge becomes CLASS CORE in the LEF. Here is how this would look in the LEF file:</p>

<p>
<a id="pgfId-1049541"></a></p>
<div class="webflare-div-image">
<img width="297" height="319" src="images/chap5-16.gif" /></div>
<h4><em>
<a id="pgfId-1047674"></a><strong>Create CLASS CORE ports if pin meets non-core facing edge</strong><a id="marker-1047673"></a></em></h4>

<p>
<a id="pgfId-1047675"></a>The option <em>Create CLASS CORE ports if pin meets non-core facing edge</em> is switched on by default. When this option is selected, pins that touch the non-core facing edge &#8212; left or right (when the core-facing edge is north or south) &#8212; become eligible to be included as CLASS CORE ports. The eligible pins become CLASS CORE ports if they satisfy other criteria (settings of other options on the <em>Adjust</em> tab).</p>
<p>
<a id="pgfId-1050198"></a>When the <em>Create CLASS CORE ports if pin meets non-core facing edge</em> option is off, pins touching the non-core facing edge are not considered for the CLASS CORE port creation.</p>
<p>
<a id="pgfId-1050074"></a><strong>Examples:</strong></p>
<p>
<a id="pgfId-1050075"></a>Consider the following scenarios.</p>
<ul><li>
<a id="pgfId-1047677"></a><em>Create CLASS CORE ports if pin meets non-core facing edge </em>= ON<br />
<a id="pgfId-1049955"></a><em>Create CLASS CORE ports only if pin meets cell boundary</em> = ON<br />
<a id="pgfId-1062003"></a><div class="webflare-div-image">
<img width="235" height="188" src="images/chap5-17.gif" /></div>
<a id="pgfId-1062004"></a>Assume that both pinA and pinB touch non-core facing edges. With the option <em>Create CLASS CORE ports if pin meets non-core facing edge</em> selected, both pinA and pinB are eligible to be considered as CLASS CORE ports<br />
<a id="pgfId-1050091"></a>Since in this situation the <em>Create CLASS CORE ports only if pin meets cell boundary </em>option is also ON, only the pin touching the non-core facing edge that also touches the core-facing edge becomes the CLASS CORE port, which in this case is pinA.</li><li>
<a id="pgfId-1050065"></a><em>Create CLASS CORE ports if pin meets non-core facing edge </em>= ON<br />
<a id="pgfId-1049978"></a><em>Create CLASS CORE ports only if pin meets cell boundary</em> = ON<br />
<a id="pgfId-1049990"></a><div class="webflare-div-image">
<img width="235" height="188" src="images/chap5-18.gif" /></div>
<a id="pgfId-1050141"></a>In the above figure, only pinA touches the non-core facing edge. However, since both <em>Create CLASS CORE ports if pin meets non-core facing edge </em>and <em>Create CLASS CORE ports only if pin meets cell boundary </em>options are ON, both pinA and pinB become the CLASS CORE ports.</li><li>
<a id="pgfId-1050045"></a><em>Create CLASS CORE ports if pin meets non-core facing edge </em>= OFF<br />
<a id="pgfId-1050046"></a><em>Create CLASS CORE ports only if pin meets cell boundary</em> = ON</li></ul>
















<p>
<a id="pgfId-1050157"></a></p>

<div class="webflare-div-image">
<img width="235" height="188" src="images/chap5-19.gif" /></div>

<p class="webflare-indent1">
<a id="pgfId-1050161"></a>In the above figure, though pinA touches the non-core facing edge but it will not be considered for creating CLASS CORE port because the <em>Create CLASS CORE ports if pin meets non-core facing edge </em>option is OFF. In this case, with the <em>Create CLASS CORE ports only if pin meets cell boundary</em> option ON, only pinB becomes the CLASS CORE port.</p>
<ul><li>
<a id="pgfId-1049975"></a><em>Create CLASS CORE ports if pin meets non-core facing edge </em>= ON<br />
<a id="pgfId-1050034"></a><em>Create CLASS CORE ports only if pin meets cell boundary</em> = OFF<br />
<a id="pgfId-1047691"></a>In this situation, only the pin touching the non-core facing edge that is also the closest to the core-facing edge becomes the CLASS CORE port. In the following figure, the pin that qualifies this criteria is pinB.<br />
<a id="pgfId-1047702"></a><div class="webflare-div-image">
<img width="235" height="186" src="images/chap5-20.gif" /></div></li></ul>





<h3>
<a id="pgfId-1047665"></a>C<a id="classbumpports"></a>reating CLASS BUMP Ports</h3>

<p>
<a id="pgfId-1049922"></a>The <em>Create CLASS BUMP ports</em> option is enabled only when you process a pad cell in the <em>IO</em> bin and is switched off by default.</p>
<p>
<a id="pgfId-1049937"></a>If you select this option, power nets of cell type IO are considered for creating the CLASS BUMP ports. The largest shapes (with the largest Area/Aspect ratio) on the top routing layer are created as bump ports. A CLASS BUMP pin can be used either for power or ground nets.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1049951"></a>A power net can have both CLASS CORE and CLASS BUMP ports.</div>

<h3>
<a id="pgfId-1049919"></a>Specifying Powe<a id="specifypowerrailwidths"></a>r and Groun<a id="marker-1047664"></a>d Rail Characteristics</h3>

<p>
<a id="pgfId-1019946"></a>The <em>Power rail widths, offsets and shape</em><a id="powerrailwidthoffset"></a> table provides an option to specify the characteristics of the power and ground rails for the current bin. The table contains a separate row for each power rail. You can insert or delete rows from the table by selecting the appropriate button, <em>Add</em> or <em>Delete</em>. Check the box to the left of a row to mark it for deletion.</p>

<p>
<a id="pgfId-1021996"></a></p>
<div class="webflare-div-image">
<img width="667" height="187" src="images/chap5-21.gif" /></div>

<p>
<a id="pgfId-1021445"></a>The <em>Power rail widths, offsets and shape</em> option will be unavailable if the <em><a actuate="user" class="URL" href="../abstract/chap5.html#createringpins" show="replace" xml:link="simple">Create ring pins</a></em><em> </em>option is selected. The <em>Create ring pins</em> option is available only if you are processing a block.</p>

<div class="webflare-information-macro webflare-macro-warning">
<a id="pgfId-1062151"></a>
If you try to process a block in the Core bin, the Power rail widths, offsets and shape option will lead to a long run time. To avoid this, process blocks in the Block bin.</div>

<p>
<a id="pgfId-1034959"></a>The fields of the table are described below.</p>

<h4>
<a id="pgfId-1034644"></a>Ne<a id="marker-1037749"></a>t</h4>

<p>
<a id="pgfId-1034648"></a>Specify the net name in this column.</p>

<h4>
<a id="pgfId-1034658"></a>S<a id="marker-1037750"></a>ha<a id="marker-1037751"></a>pe</h4>

<p>
<a id="pgfId-1034659"></a>This is a cyclic field and you can select from <em>feedthru</em>, <em>abutment</em>, <em>calculate </em>and <em>none.</em></p>
<p>
<a id="pgfId-1034973"></a>The table below describes the impact and resultant of selecting one of these values in the <em>Shape</em> column.</p>

<p>
<a id="pgfId-1049569"></a></p>
<table class="webflareTable" id="#id1049570">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1049722">
<a id="pgfId-1049722"></a>Net <strong><em>Shape</em></strong> </span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1049724">
<a id="pgfId-1049724"></a>Implication</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1049726">
<a id="pgfId-1049726"></a>Default Setting</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049729"></a><em>feedthru</em><a id="marker-1049728"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="2">
<p>
<a id="pgfId-1049731"></a>The <em>Width</em> and <em>Offset</em> values do not need to be set because no calculation is performed.</p>
<p>
<a id="pgfId-1049732"></a>The terminal associated with that net will be given this shape property</p>
<p>
<a id="pgfId-1049733"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="2">
<p>
<a id="pgfId-1049735"></a>Available for <em>IO</em>, <em>Corner</em>, and <em>Block</em> bins.</p>
<p>
<a id="pgfId-1049736"></a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049739"></a><em>abutment</em><a id="marker-1049738"></a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049745"></a><em>calculate</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049747"></a>The <em>Width</em> and <em>Offset</em> values must be entered for ALL nets because all power rail nets must be calculated.</p>
<p>
<a id="pgfId-1049748"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049750"></a>Available only for cells in the <em>Core</em> bin.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049752"></a><em>none</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049754"></a>No calculation will be performed.</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049756"></a>Available for <em>IO</em>, <em>Corner</em>, and <em>Block</em> bins.</p>
</td>
</tr>
</tbody></table>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1035061"></a>You cannot set the same power rail net more than once with different <em>Shape</em> values associated with it.</div>
<p>
<a id="pgfId-1035062"></a>If the <em>Power rail widths, offsets and shape</em> option is set to <em>feedthru, abutment</em> or<em> none, </em>Abstract Generator will only use the specified values to set terminal properties. That is, if only one power rail net is entered into the table, that will be the only rail used to set terminal properties.</p>
<p>
<a id="pgfId-1035063"></a>If Abstract Generator establishes that a rail can be represented by either a feedthru or an abutment rail, it will always choose the abutment shape, as shown below.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1035064"></a><code>Abstract: 2001/10/31 14:51:52:<br />
Info:&#160;&#160;   Power Rail Analysis: <br />
===============================================================================
Rails found
===============================================================================
rail&#160;&#160;type    net  layer   width  offset  shape     direction   cells<br />-------------------------------------------------------------------------------<br />1     power   vdd  met1    2.5    10.87   abutment  horizontal  all<br />2     power   vdd  met1    5.645  7.725   feedthru  horizontal  all<br />3     ground  vss  met1    2.8    1.51    abutment  horizontal  all<br />4     ground  vss  met1    3.965  1.51    feedthru  horizontal  all<br />
Abstract: 2001/10/31 14:51:52:

Info: Using power rails 1 and 3 to set terminal properties.These settings can be altered using the Adjust &#8220;Power rail widths and offsets&#8221;&#160;&#160;table.</code></pre>
<h4>
<a id="pgfId-1035066"></a>Wid<a id="marker-1037756"></a>th</h4>

<p>
<a id="pgfId-1035067"></a>Specify the rail width (in μ) in this column.</p>

<h4>
<a id="pgfId-1035068"></a>Off<a id="marker-1037757"></a>set</h4>

<p>
<a id="pgfId-1035069"></a>Specify the rail position (in μ) in this column.</p>
<p>
<a id="pgfId-1035070"></a>If the table is left empty, Abstract Generator will try to determine the rail data for the <em>Core</em> bin, including calculating the rail and its shape. However, for <em>Block</em> and <em>IO</em> bins, no calculations are performed if the table is left empty. This is the default situation.</p>

<h4>
<a id="pgfId-1035076"></a>Example Pow<a id="marker-1037758"></a>er Rail Scenarios</h4>

<p>
<a id="pgfId-1035077"></a>To establish a better understanding of how this functionality operates, consider the following scenarios:</p>
<ul><li>
<a id="pgfId-1035079"></a><a actuate="user" class="URL" href="../abstract/chap5.html#scenario1" show="replace" xml:link="simple">Scenario 1</a>: No rail data has been specified</li><li>
<a id="pgfId-1035081"></a><a actuate="user" class="URL" href="../abstract/chap5.html#scenario2" show="replace" xml:link="simple">Scenario 2</a>: No rail data has been specified</li><li>
<a id="pgfId-1035084"></a><a actuate="user" class="URL" href="../abstract/chap5.html#scenario3" show="replace" xml:link="simple">Scenario 3</a>: Values are specified for the net name and rail width and offset</li><li>
<a id="pgfId-1035086"></a><a actuate="user" class="URL" href="../abstract/chap5.html#scenario4" show="replace" xml:link="simple">Scenario 4</a>: No rail data has been specified</li></ul>



<p>
<a id="pgfId-1035088"></a><strong>Scenario 1:</strong><a id="scenario1"></a> In this scenario, no rail data has been specified and the power rail analyser has attempted to find rails in each of the cells. </p>
<p>
<a id="pgfId-1021448"></a>At the end of the analysis phase, a table is produced listing the rails found and the cells that contain them. Also listed in the table are those cells where no rails were found, along with any cells that did not have power or ground nets (in this case there are no such cells).</p>
<p>
<a id="pgfId-1020099"></a>The cells share common rails, so they are used to initialize the power rail table option.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1020111"></a><code>Abstract: 2001/10/26 08:18:59:<br />
Info:&#160;&#160;   Power Rail Analysis:<br />
===============================================================================
Rails found
===============================================================================
rail&#160;&#160;type    net  layer   width  offset  shape     direction   cells<br />-------------------------------------------------------------------------------<br />1     power   vdd  METAL1  6      46.5    abutment  horizontal  all<br />2     ground  vss  METAL1  6      -1.5    abutment  horizontal  all<br />
Abstract: 2001/10/26 08:18:59:

Info: Using power rails 1 and 2 to set terminal properties. These settings can be altered using the Adjust &#8220;Power rail widths, offsets and shape&#8221;&#160;&#160;table.<br /></code></pre>

<p>
<a id="pgfId-1062211"></a><strong>Scenario 2:</strong><a id="scenario2"></a> In this scenario, no rail data has been specified by the user in the <em>Power rail widths, offsets and shape </em>option table.</p>
<p>
<a id="pgfId-1062212"></a>Viewing the table below, it can be established that no common rails were found, therefore, the option table was not initialized. This usually occurs when cells have mismatched rails and should be in different bins.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1020322"></a><code>Abstract: 2001/10/26 08:55:27:<br />
Info:&#160;&#160;   Power Rail Analysis: <br />
===============================================================================
Rails found
===============================================================================
rail&#160;&#160;type    net  layer   width  offset  shape     direction   cells<br />-------------------------------------------------------------------------------<br />1     power   vdd  METAL1  4      48.5    abutment  horizontal  sc_a2iaia<br />                                                                sc_a2iaia_10<br />                                                                sc_a2iaia_11<br />                                                                sc_a2iaia_12<br />                                                                sc_a2iaia_2<br />                                                                sc_a2iaia_3<br />                                                                sc_a2iaia_4<br />                                                                sc_a2iaia_5<br />                                                                sc_a2iaia_6<br />                                                                sc_a2iaia_7<br />                                                             more ... total of 12<br />
2&#160;&#160;   power   vdd  METAL1  6      46.5    abutment  horizontal  sc_and8b<br />                                                                sc_and8b_10<br />                                                                sc_and8b_11<br />                                                                sc_and8b_12<br />                                                                sc_and8b_2<br />                                                                sc_and8b_3<br />                                                                sc_and8b_4<br />                                                                sc_and8b_5<br />                                                                sc_and8b_6<br />                                                                sc_and8b_7<br />                                                             more ... total of 12<br />
3&#160;&#160;   ground  vss  METAL1  4      -1.5    abutment  horizontal  sc_a2iaia<br />                                                                sc_a2iaia_10<br />                                                                sc_a2iaia_11<br />                                                                sc_a2iaia_12<br />                                                                sc_a2iaia_2<br />                                                                sc_a2iaia_3<br />                                                                sc_a2iaia_4<br />                                                                sc_a2iaia_5<br />                                                                sc_a2iaia_6<br />                                                                sc_a2iaia_7<br />                                                             more ... total of 12<br />
4&#160;&#160;   ground  vss  METAL1  6      -1.5    abutment  horizontal  sc_and8b<br />                                                                sc_and8b_10<br />                                                                sc_and8b_11<br />                                                                sc_and8b_12<br />                                                                sc_and8b_2<br />                                                                sc_and8b_3<br />                                                                sc_and8b_4<br />                                                                sc_and8b_5<br />                                                                sc_and8b_6<br />                                                                sc_and8b_7<br />                                                             more ... total of 12<br />
Abstract: 2001/10/26 08:55:27:

Warning: Cannot find power and ground rails common to all cells in the bin. Specify using the Adjust &#8220;Power rail widths, offsets and shape&#8221;&#160;&#160;table.<br /></code></pre>

<p>
<a id="pgfId-1035107"></a><strong>Scenario 3:</strong><a id="scenario3"></a> Using the same library used in Scenario 2, the <em>Power rail widths, offsets and shape </em>option table is set with values of (<code>vdd 6 46.5</code>) and (<code>vss 6 -1.5</code>). </p>
<p>
<a id="pgfId-1021493"></a>This time cells are split into two separate tables, depending on whether they contain the <br />user- specified rails.</p>
<p>
<a id="pgfId-1027796"></a><code>Abstract: 2001/10/26 10:52:47:<br />
Info:&#160;&#160;   Power Rail Analysis:<br />
===============================================================================
User specified rails
===============================================================================
rail&#160;&#160;type    net  layer   width  offset  shape     direction   cells<br />-------------------------------------------------------------------------------<br />1     power   vdd  METAL1  6      46.5    abutment  horizontal  sc_and8b<br />                                                                sc_and8b_10<br />                                                                sc_and8b_11<br />                                                                sc_and8b_12<br />                                                                sc_and8b_2<br />                                                                sc_and8b_3<br />                                                                sc_and8b_4<br />                                                                sc_and8b_5<br />                                                                sc_and8b_6<br />                                                                sc_and8b_7<br />                                                             more ... total of 12<br />
2&#160;&#160;   ground  vss  METAL1  6      -1.5    abutment  horizontal  sc_and8b<br />                                                                sc_and8b_10<br />                                                                sc_and8b_11<br />                                                               </code> <code>sc_and8b_2<br />                                                               </code> <code>sc_and8b_3<br />                                                               </code> <code>sc_and8b_4<br />                                                               </code> <code>sc_and8b_5<br />                                                               </code> <code>sc_and8b_6<br />                                                               </code> <code>sc_and8b_7<br />                                                             more ... total of 12<br />
===============================================================================
Rails found in cells not containing user specified rails
===============================================================================
rail&#160;&#160;type    net  layer   width  offset  shape     direction   cells<br />-------------------------------------------------------------------------------<br />1     power   vdd  METAL1  4      48.5    abutment  horizontal  sc_a2iaia<br />                                                               </code> <code>sc_a2iaia_10<br />                                                               </code> <code>sc_a2iaia_11<br />                                                               </code> <code>sc_a2iaia_12<br />                                                               </code> <code>sc_a2iaia_2<br />                                                               </code> <code>sc_a2iaia_3<br />                                                               </code> <code>sc_a2iaia_4<br />                                                               </code> <code>sc_a2iaia_5<br />                                                               </code> <code>sc_a2iaia_6<br />                                                               </code> <code>sc_a2iaia_7<br />                                                             more ... total of 12<br />
2&#160;&#160;   ground  vss  METAL1  4      -1.5    abutment  horizontal  sc_a2iaia<br />                                                               </code> <code>sc_a2iaia_10<br />                                                               </code> <code>sc_a2iaia_11<br />                                                               </code> <code>sc_a2iaia_12<br />                                                               </code> <code>sc_a2iaia_2<br />                                                               </code> <code>sc_a2iaia_3<br />                                                               </code> <code>sc_a2iaia_4<br />                                                               </code> <code>sc_a2iaia_5<br />                                                               </code> <code>sc_a2iaia_6<br />                                                               </code> <code>sc_a2iaia_7<br />                                                             more ... total of 12<br /></code></p>
<p>
<a id="pgfId-1021223"></a><strong>Scenario 4:</strong><a id="scenario4"></a> In this scenario, the user has not specified any rail data.</p>
<p>
<a id="pgfId-1021479"></a>Because common rails have not been found in all cells in the bin, the <em>Power rail widths, offsets and shape</em> option table is not initialized. Note, however, that cells containing no rails at all were found, as were cells that did not contain power and ground nets.</p>
<p>
<a id="pgfId-1021234"></a>The scenario where a cell has no rail identified can arise because the net geometry does not extend far enough out to the edge of the cell. Abstract Generator looks for rail geometry in a corridor within 10% of the dimension of the place-and-route boundary.</p>

<p>
<a id="pgfId-1027329"></a></p>
<div class="webflare-div-image">
<img width="535" height="231" src="images/chap5-23.gif" /></div>

<p>
<a id="pgfId-1021484"></a>Cells that do not contain at least one power <em>and</em> ground net pair are also flagged. This might occurs if an incorrect text to pin map has been used during the Pins step, or if text labels do not overlap metal geometry.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1021272"></a><code>Abstract: 2001/10/26 11:55:41:<br />
Info:&#160;&#160;   Power Rail Analysis:<br />
===============================================================================
Rails found
===============================================================================
rail&#160;&#160;type    net  layer   width  offset  shape     direction   cells<br />-------------------------------------------------------------------------------<br />1     power   vdd  METAL1  6      46.5    abutment  horizontal  sc_a2iaia<br />                                                               </code> <code>sc_a2iaia_10<br />                                                               </code> <code>sc_a2iaia_11<br />                                                               </code> <code>sc_a2iaia_12<br />                                                               </code> <code>sc_a2iaia_13<br />                                                               </code> <code>sc_a2iaia_14<br />                                                               </code> <code>sc_a2iaia_15<br />                                                               </code> <code>sc_a2iaia_16<br />                                                               </code> <code>sc_a2iaia_17<br />                                                               </code> <code>sc_a2iaia_18<br />                                                             more ... total of 25<br />
2&#160;&#160;   ground  vss  METAL1  6      -1.5    abutment  horizontal  sc_a2iaia<br />                                                               </code> <code>sc_a2iaia_10<br />                                                               </code> <code>sc_a2iaia_11<br />                                                               </code> <code>sc_a2iaia_12<br />                                                               </code> <code>sc_a2iaia_13<br />                                                               </code> <code>sc_a2iaia_14<br />                                                               </code> <code>sc_a2iaia_15<br />                                                               </code> <code>sc_a2iaia_16<br />                                                               </code> <code>sc_a2iaia_17<br />                                                               </code> <code>sc_a2iaia_18<br />                                                             more ... total of 25<br />

No rails found in any of the following cells:
---------------------------------------------
sc_and2a sc_and2a_10 sc_and2a_11 sc_and2a_12
sc_and2a_13 sc_and2a_14 sc_and2a_15 sc_and2a_16
sc_and2a_17 sc_and2a_18 sc_and2a_19 sc_and2a_2
sc_and2a_20 sc_and2a_21 sc_and2a_22 sc_and2a_23
sc_and2a_24 sc_and2a_25 sc_and2a_3 sc_and2a_4
sc_and2a_5 sc_and2a_6 sc_and2a_7 sc_and2a_8 sc_and2a_9


None of the following cells have power and ground nets:
------------------------------------------------------- 
sc_syncdflop sc_syncdflop_10 sc_syncdflop_11 sc_syncdflop_12
sc_syncdflop_13 sc_syncdflop_14 sc_syncdflop_15 sc_syncdflop_16
sc_syncdflop_17 sc_syncdflop_18 sc_syncdflop_19 sc_syncdflop_2
sc_syncdflop_20 sc_syncdflop_21 sc_syncdflop_22sc_syncdflop_23
sc_syncdflop_24 sc_syncdflop_25 sc_syncdflop_3 sc_syncdflop_4
sc_syncdflop_5 sc_syncdflop_6 sc_syncdflop_7 sc_syncdflop_8
sc_syncdflop_9</code></pre>
<h3>
<a id="pgfId-1034930"></a><a id="assignlayerpingeom"></a>Generating Ab<a id="GeneratingAbstractsforRoutedBlockswithPowerRings"></a>stracts for Routed Blocks with Power Rings</h3>

<p>
<a id="pgfId-1036925"></a>There might be situations in which the cell data imported comes from a DEF file. This is usually a routed block for which you might want to create an abstract to use at a higher level of a design.</p>
<p>
<a id="pgfId-1036922"></a>Abstract Generator can generate abstracts from routed blocks. This includes the ability to create abstracts for blocks with ring power pins, for blocks with cover blockages inside the power ring, and for blocks with detailed obstructions for signal nets crossing the power rings.</p>

<h4>
<a id="pgfId-1027015"></a>Power Pins</h4>

<p>
<a id="pgfId-1027016"></a>Consider the following points when deciding which approach to use when dealing with power ring pins:</p>
<ol><li>
<a id="pgfId-1027017"></a>Before you decide whether or not power extraction is necessary.<br />
<a id="pgfId-1027018"></a>Power extraction is not required if, after running the Pins step, the power pins contain at least the power pin geometry. They will contain power pin geometry if the power ring shapes were defined as physical pins in the imported DEF file. This, however, is unlikely, and in the case where no physical pins were defined in the DEF file, the Pins step will create pins from all of the power routing in the block (including the power ring).<br />
<a id="pgfId-1034920"></a>If extraction is required, perform a limited power extraction by limiting the hierarchy depth. This will result in the extraction of the power ring plus some other top level shapes. As a recommendation, set extraction depth to <code>1</code> so that Abstract Generator finds the ring pins plus the via geometry. Go to step 2.<br />
<a id="pgfId-1027020"></a>If there is no need to extract, leave power extraction turned off and consider the Abstract step requirements in step 2.</li><li>
<a id="pgfId-1027024"></a>In the Abstract step, ensure that the <em><a actuate="user" class="URL" href="../abstract/chap5.html#createringpins" show="replace" xml:link="simple">Create ring pins</a></em> option is turned on. The algorithm to determine if a power pin should be preserved as a ring pin is based on <em>distance to boundary</em>. The closest power pin to the boundary is selected along with any others that are equidistant. Therefore, if a power ring is equidistant to the boundary on all sides, then everything should be fine.<br />
<a id="pgfId-1027028"></a>Otherwise, you will have to manually control the settings in the <em><a actuate="user" class="URL" href="../abstract/chap5.html#ringpinmaxdist" show="replace" xml:link="simple">Ring pin max distance to boundary</a></em><em> </em>field, setting it to be equal to the maximum distance from the boundary within which you want any power shapes to be considered as ring pins.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1027030"></a>You must set this based on the distance to the <em>inner ring</em> (VDD or VSS, whichever is inner).</div></li></ol>







<h4>
<a id="pgfId-1027031"></a>Signal Pins</h4>

<p>
<a id="pgfId-1027032"></a>If the signal pins read in from the DEF file are sufficient, there is no need to perform connectivity extraction, and no requirement to have boundary pins turned on. Therefore, turn the <em><a actuate="user" class="URL" href="../abstract/chap5.html#createboundarypins" show="replace" xml:link="simple">Create boundary pins</a></em><em> </em>option off since it is on by default in the <em>Block</em> bin.</p>
<p>
<a id="pgfId-1027036"></a>Alternatively, if your signal pins are insufficient, you would run connectivity extraction and leave the <em>Create boundary pins</em> option turned on.</p>

<h4>
<a id="pgfId-1027037"></a>Obstructions</h4>

<p>
<a id="pgfId-1027038"></a>To form the necessary obstructions with the region inside the power ring as a solid obstruction and with the signals that cross the ring into obstructions in that region, set the <em><a actuate="user" class="URL" href="../abstract/chap5.html#blockage" show="replace" xml:link="simple">Blockage</a></em> option to <em>Cover</em> in the <em><a actuate="user" class="URL" href="../abstract/chap5.html#layerassblockages" show="replace" xml:link="simple">Layer Assignment for Blockages</a></em> table and specify the cover blockage distance to <em><a actuate="user" class="URL" href="../abstract/chap5.html#blockageboundary" show="replace" xml:link="simple">Boundary</a></em> value.</p>

<h2>
<a id="pgfId-1044503"></a><a id="60249"></a>B<a id="marker-1044500"></a>lo<a id="BlockageOptions"></a>ck<a id="marker-1044502"></a>age Tab</h2>

<p>
<a id="pgfId-1059922"></a>To access the <em>Blockage</em> tab, select <em>Flow &#8211; Abstract</em> and then click the <em>Blockage</em> tab in the <em>Running step Abstract</em> form.</p>

<p>
<a id="pgfId-1059925"></a></p>
<div class="webflare-div-image">
<img width="668" height="584" src="images/chap5-24.gif" /></div>

<p>
<a id="pgfId-1059926"></a>The options on this tab control the final blockage geometry in the abstract view.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1044510"></a>Any blockage geometry already existing in the view is preserved and added to the final calculated blockages.</div>

<h3>
<a id="pgfId-1044491"></a>Assign<a id="marker-1027367"></a>ing La<a id="marker-1037770"></a>yers for Blockages</h3>

<p>
<a id="pgfId-1028810"></a>The <em>Layer Assignment for Blockages</em><a id="layerassblockages"></a> table is used to specify how blockages are to be modeled in the abstract. This table consists of the following columns:</p>
<ul><li>
<a id="pgfId-1035178"></a><em><a href="chap5.html#41061">Layer</a><em></em></em></li><li>
<a id="pgfId-1035181"></a><em><a href="chap5.html#14780">Geometry Specification</a><em></em></em></li><li>
<a id="pgfId-1035179"></a><em><a href="chap5.html#35833">Blockage</a><em></em></em></li><li>
<a id="pgfId-1045107"></a><em><a href="chap5.html#77254">Pin Cutout</a><em></em></em></li><li>
<a id="pgfId-1045112"></a><em><a href="chap5.html#34535">Max Space</a><em></em></em></li><li>
<a id="pgfId-1045117"></a><em><a href="chap5.html#71032">Corridor Cut</a><em></em></em></li><li>
<a id="pgfId-1045122"></a><em><a href="chap5.html#27743">Cut Same</a><em></em></em></li><li>
<a id="pgfId-1045126"></a><em><a href="chap5.html#75277">Cut Below</a><em></em></em></li><li>
<a id="pgfId-1045131"></a><em><a href="chap5.html#67358">Shrink Dist</a><em></em></em></li><li>
<a id="pgfId-1045135"></a><em><a href="chap5.html#63131">Shrink Track</a><em></em></em></li><li>
<a id="pgfId-1045140"></a><em><a href="chap5.html#86547">Boundary</a><em></em></em></li></ul>











<h4>
<a id="pgfId-1035210"></a><a id="blockagelayer"></a><a id="41061"></a>Layer</h4>

<p>
<a id="pgfId-1035211"></a>Specify the layers on which you want to create blockages. You can do one of the following:</p>
<ul><li>
<a id="pgfId-1035212"></a>Select a layer from the drop-down list available from the technology file.<br />
<a id="pgfId-1028929"></a>After you have selected a layer from the drop-down list, it is removed from the list for the next layer row.</li><li>
<a id="pgfId-1028861"></a>Type the layer name directly in the <em>Layer</em> column.<br />
<a id="pgfId-1028858"></a>Specify each layer only once. If you enter an invalid layer, Abstract Generator will issue a warning.</li></ul>



<p>
<a id="pgfId-1028938"></a>If you do not create a table entry for a particular layer, Abstract Generator will not create any blockages on that layer in the final abstract.</p>

<h4>
<a id="pgfId-1023266"></a><a id="blockagegspec"></a><a id="14780"></a>Geometry Specification</h4>

<p>
<a id="pgfId-1035245"></a>Enter the <em><a href="chap4.html#60784"></a><h-hot>Geometry Specification</h-hot><em></em></em> for the layers on which you want the blockage to be implemented.</p>

<h4>
<a id="pgfId-1023267"></a><a id="blockage"></a><a id="35833"></a>Bloc<a id="marker-1037774"></a>kage</h4>

<p>
<a id="pgfId-1023332"></a>Choose the type of blockage you want to create on the specified layer: <em>Cover</em>, <em>Detailed</em>, or <em>Shrink</em>. The default is <em>Detailed</em> for the <em>Core</em> bin and <em>Cover</em> for the <em>Block</em> bin.</p>

<p>
<a id="pgfId-1023337"></a></p>
<table class="webflareTable" id="#id1023338">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1023340"></a><em>Cover</em><a id="marker-1027369"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1064453"></a>A <em>Cover</em> blockage is a blockage that covers an entire block for each metal layer used by the block. This type of blockage is typically generated for blocks or IO cells where you want to prevent over-the-cell routing to improve performance or to avoid electrical effects between tracks.<br />Cover blockages follow the overlap layer, if present; else they follow the PR boundary.</p>
<p>
<a id="pgfId-1064431"></a>The cover blockage model does not generate any blockages outside PR boundary. Only exceptions to this are the shapes that are affected by pin cutout regions, where these shapes are considered to be part of the layout.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048585"></a><em>Shrink</em><a id="marker-1048584"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048587"></a>A <em>Shrink</em> blockage is a blockage that fills in the smaller, less useful free spaces in a block and leaves out the larger spaces. Based on the specified <em><a href="chap5.html#67358"></a><h-hot>Shrink Dist</h-hot><em></em></em> or <em><a href="chap5.html#63131"></a><h-hot>Shrink Track</h-hot><em></em></em>, Abstract Generator combines blockages within that distance of each other, filling the space between them with more blockage. This results in a small number of large blockages separated by spaces that a router can use. This allows over-the-cell routing without modeling each obstruction individually.<br />The <em>Shrink</em> blockage generation slows down the overall process of abstract generation but ultimately increases the speed of routing significantly, which is better than when <em>Detailed</em> blockages are routed.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1023344"></a><em>Detailed</em><a id="marker-1027370"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1028714"></a>A <em>Detailed</em> blockage is a blockage that covers geometries that are not part of pins on the routing layers, thereby allowing maximum routing within the block. This type of blockage is used for standard cells and possibly for higher-level routing layers in blocks. Do not create detailed blockages on contact or via layers for large blocks.<br />Creating detailed blockages can adversely affect the performance of Abstract Generator because of the number of individual shapes that need to be processed. Consider creating <em>Shrink</em> type of blockage by setting a distance to merge most of the obstructions. You can speed up the detailed blockage creation in some scenarios. For more information about these scenarios, see <a href="chap5.html#16734">Improving the Performance of Detailed Blockage Generation</a>.</p>
</td>
</tr>
</tbody></table>
<h4><em>
<a id="pgfId-1048910"></a><strong>Improving the Performance of Detailed Blockage Generation</strong><a id="16734"></a></em></h4>

<p>
<a id="pgfId-1038088"></a>If you are creating <em>Detailed</em> blockages for layouts that have big blockages at the top level, you can gain considerable performance benefits by following the use model described here.</p>
<p>
<a id="pgfId-1038091"></a>This use model is implemented only if the geometry specification (see the criteria below) for a blockage layer is such that the top-level shapes that satisfy the geometry specification are not excluded when the same geometry specification is applied at all the levels. In such a situation, the shapes are processed in the following way:</p>
<ul><li>
<a id="pgfId-1038093"></a>At the top level, shapes satisfying the geometry specification and that are bigger than 10 percent of the total cell area are considered as &#8220;big blockages&#8221;.</li><li>
<a id="pgfId-1048076"></a>At the lower levels, shapes on the boundary purpose and that are bigger than 10 percent of the total cell area are considered as &#8220;big blockages&#8221;.</li></ul>

<p>
<a id="pgfId-1048077"></a>After the &#8220;big blockages&#8221; are identified, they are processed in the same way as <em>Cover</em> blockages. This use model greatly reduces the complexities of processing and merging shapes and also reduces the number of shapes that are ultimately processed for blockage creation.</p>

<div class="webflare-information-macro webflare-macro-tip">
<a id="pgfId-1060291"></a>
Use the <a href="../abstract/abstract_skill.html#BlockageLargeShape">BlockageLargeShape</a> option to enable Abstract Generator to look for big blockages in the current design. The <code>BlockageLargeShape</code> option is always used in association with the <a href="../abstract/abstract_skill.html#BlockageLargeShapePct">BlockageLargeShapePct</a> option. The size of the identified blockages is increased by the percentage specified by the <code>BlockageLargeShapePct</code> option, and a cover blockage is created.</div>

<p class="webflare-indent1">
<a id="pgfId-1038096"></a>Use the <a href="../abstract/abstract_skill.html#BlockageLargePurposeList">BlockageLargePurposeList</a> option to specify the purpose of the identified big blockages. For more information, see the options for the <a href="abstract_skill.html#44541">absAbstract</a> SKILL function.</p>
<p>
<a id="pgfId-1048611"></a><a id="48849"></a>Use the following criteria for writing a valid geometry specification:</p>
<ul><li>
<a id="pgfId-1038100"></a>Geometry specifications with a single purpose:<ul><li>
<a id="pgfId-1038101"></a>The boundary purpose should be specified explicitly. For example,<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1038102">
<a id="pgfId-1038102"></a>M1 boundary</pre></li><li>
<a id="pgfId-1038103"></a>If any purpose other than the boundary purpose is specified, there should be no value specified in the <em>Ignored Purpose(s)</em> field (<em>File &#8211; General Options &#8211; General </em>tab). For example,<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1038107">
<a id="pgfId-1038107"></a>M1 net</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1038108">
<a id="pgfId-1038108"></a>M1 drawing</pre></li></ul></li><li>
<a id="pgfId-1048922"></a>Geometry specifications with more than one purpose:<ul><li>
<a id="pgfId-1038110"></a>The boundary purpose should be specified along with the other purpose(s) by using only the OR operator. For example,<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1038111">
<a id="pgfId-1038111"></a>M1 boundary or M1 drawing</pre></li><li>
<a id="pgfId-1038161"></a>If any combination of LPPs excluding the boundary purpose is specified, there should be no value specified in the <em>Ignored Purpose(s)</em> field (<em>File &#8211; General options &#8211; General </em>tab). For example,<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1038116">
<a id="pgfId-1038116"></a>M1 net or M1 drawing</pre></li></ul></li></ul>

















<h4>
<a id="pgfId-1038085"></a><a id="pincutout"></a><a id="77254"></a>Pin Cutout</h4>

<p>
<a id="pgfId-1044775"></a>Enables Abstract Generator to cut the blockage around pins for allowing a router to access the pins. For more information about how this option affects the behavior of the three blockage types, see <a href="chap5.html#10602">Impact of Cutout and Spacing Options on the Blockage Types</a>.</p>

<h4>
<a id="pgfId-1047835"></a><a id="maxspace"></a><a id="34535"></a>Max Space</h4>

<p>
<a id="pgfId-1047828"></a>Enables Abstract Generator to create a boundary blockage around a block such that the top-level routes are maximum possible distance away from the block. The boundary blockage is interspersed between pins along the block boundary. You can use this option when you want to do routing for cells even when their detailed layout is still not complete but the pin positions and boundary have been finalized.</p>
<p>
<a id="pgfId-1048164"></a>This option works only for <em>Cover</em> blockages and is not applicable for <em>Detailed</em> and <em>Shrink</em> blockages. For more information about how this option affects the behavior of the three blockage types, see <a href="chap5.html#10602">Impact of Cutout and Spacing Options on the Blockage Types</a>.</p>
<p>
<a id="pgfId-1059013"></a>The <em>Max Space</em> option is effective only when the <em><a href="chap5.html#77254"></a><h-hot>Pin Cutout</h-hot><em></em></em> option is selected. Further, when the <em>Max Space</em> option is selected along with the <em>Pin Cutout</em> option, the <em><a href="chap5.html#71032"></a><h-hot>Corridor Cut</h-hot><em></em></em> option is ineffective.</p>
<p class="webflare-indent1">
<a id="pgfId-1059030"></a><a id="Controlling_Spacing_Value"></a>Controlling Spacing Value During Geometry Add Backs</p>
<p class="webflare-indent1">
<a id="pgfId-1059031"></a>When Abstract Generator creates a cover blockage with pin cutout, it automatically adds back geometries that are located near the boundaries. Geometries that are located between the metal_max_spacing value and metal_min_spacing value are added back. Depending on your requirement, you can specify the distance within which the geometries need to be added back. For example, for some designs, a large number of geometries may be located within this distance. In such cases, instead of adding back all the geometries, you can reduce the spacing value. Use the <code>absSetBinOption( &quot;Core&quot; &quot;AbstractBlockageUserDefinedDistanceForAddBack&quot; &quot;&quot;) </code>option to control the spacing values.</p>
<p class="webflare-indent1">
<a id="pgfId-1059032"></a>Example </p>
<p class="webflare-indent1">
<a id="pgfId-1059033"></a><code>absSetBinOption( &quot;Core&quot; &quot;AbstractBlockageUserDefinedDistanceForAddBack&quot; &quot;(M1 0.5) (M2 0.6)&quot;)</code></p>
<p class="webflare-indent1">
<a id="pgfId-1059020"></a>In the above example, for M1 cover blockage, add back geometries will be searched within distance of 0.5 and for M2 cover blockage, add back geometries will be searched within the distance of 0.6.</p>
<p class="webflare-indent1">
<a id="pgfId-1064486"></a>In the cover blockage model, all shapes of the specified layer that are close to or are partially overlapping with the PR boundary are retained, and created as addbacks. Shapes of the specified layer that are deep inside the PR boundary or are completely outside the PR boundary are lost.</p>
<p class="webflare-indent1">
<a id="pgfId-1064474"></a>In the detailed blockage model, all shapes of the specified layer that are inside, outside, or overlapping the PR boundary are created as blockages.</p>

<h4>
<a id="pgfId-1059023"></a><a id="corridorcut"></a><a id="71032"></a>Corridor Cut</h4>

<p>
<a id="pgfId-1052332"></a>Enables Abstract Generator to create corridor paths that can allow routers to access internal pins. This option, when selected, first determines the existence of straight line paths that can route <code>minWidth</code> wires from the internal pins to the block boundary and then creates the corridor cuts. Also, Abstract Generator reads the direction of the pin and checks the possibility of creating corridor cut in a direction. If the pin direction matches with the nearest edge then the corridor is cut in that direction. However, if the pin direction does not match with the direction of the nearest edge then the corridor will not be cut and an error message will be displayed.</p>
<p>
<a id="pgfId-1052320"></a>For more information about how this option affects the behavior of the three blockage types, see <a href="chap5.html#10602">Impact of Cutout and Spacing Options on the Blockage Types</a>.</p>
<p>
<a id="pgfId-1045058"></a>You can use this option only when the <em><a href="chap5.html#77254"></a><h-hot>Pin Cutout</h-hot><em></em></em> option is selected.</p>

<h4>
<a id="pgfId-1044539"></a><a id="27743"></a>Cut<a id="cutsame"></a> Sa<a id="marker-1037781"></a>m<a id="marker-1027372"></a>e</h4>

<p>
<a id="pgfId-1027321"></a>Specifies the distance to cut around pins on the same layer. If set as <code>0</code>, the blockage completely covers the design, including the pin shape, and there is no pin cut out.</p>
<p>
<a id="pgfId-1050750"></a>By default, Abstract Generator cuts out enough space to enable a via to be dropped from the layer above anywhere onto the pin without violation. This setting overrides the default size of the cut-out made around pins. The default is still used for any unlisted blockage layers.</p>
<p>
<a id="pgfId-1050755"></a>See also <a href="chap5.html#23921">Automatic Pin Stretching</a>.</p>

<h4>
<a id="pgfId-1023314"></a><a id="cutbelow"></a><a id="75277"></a>Cut B<a id="marker-1037783"></a>elo<a id="marker-1027373"></a>w</h4>

<p>
<a id="pgfId-1023532"></a>Specifies the distance to cut around pins on the layer below.</p>
<p>
<a id="pgfId-1058581"></a>By default, Abstract Generator cuts a window from a blockage layer that overlaps pins on the layer below, leaving enough space to enable a via to be dropped from the blockage layer anywhere onto the pin without violation. For example, if you are creating cover blockages for metal 4, then pin cutouts are created on metal 4 blockages for pins in both, metal 4 and metal 3.</p>
<p>
<a id="pgfId-1058582"></a>By default, the Cut Below field does not have any value. However, you can specify any value in this field. If you specify the value 0, then pin cutouts are created only on the current layer. In the above example, pin cutouts will only be created on metal 4.</p>
<p>
<a id="pgfId-1023571"></a>See also <a href="chap5.html#23921">Automatic Pin Stretching</a>.</p>

<h4>
<a id="pgfId-1023315"></a><a id="67358"></a>Shrin<a id="shrinkdist"></a>k D<a id="marker-1027374"></a>ist</h4>

<p>
<a id="pgfId-1059685"></a>Specifies a minimum distance (in microns) between blockages. Blockages separated by a distance less than or equal to the specified distance are merged, irrespective of whether Pin Cutout is ON or OFF. Values entered in this field are considered only if you select to generate <em>Shrink</em> blockages. For more information about the <em>Shrink</em> blockage, see <em><a href="chap5.html#35833"></a><h-hot>Blockage</h-hot><em></em></em>.</p>

<h4>
<a id="pgfId-1023316"></a><a id="63131"></a>Shrin<a id="marker-1027375"></a>k Tra<a id="shrinktrack"></a>ck</h4>

<p>
<a id="pgfId-1035328"></a>Specifies the minimum number of tracks between blockages. Blockages separated by a distance less than or equal to the specified number of tracks are merged. Values entered in this field are considered only if you select to create <em>Shrink</em> blockage. For more information about <em>Shrink</em> blockage, see <em><a href="chap5.html#35833"></a><h-hot>Blockage</h-hot><em></em></em>.</p>
<p>
<a id="pgfId-1023447"></a>The distance, <span class="webflare-courier-new" style="white-space:pre"><em>D</em></span>, required to accommodate a given number of tracks, <span class="webflare-courier-new" style="white-space:pre"><em>n</em></span>, is calculated (in microns) using the following formula:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1023443"></a><code><em>D</em></code> = (<code><em>n</em></code> * minTrackWidth) + ((<code><em>n</em></code> + 1) * minSpacing)</pre>
<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1035354"></a>
If you specify both <em>Shrink Track</em> and <em>Shrink Dist</em>, the values are added and blockages separated by a distance less than or equal to the total distance are merged. If you do not supply a distance, Abstract Generator uses a default value of <code>2</code> tracks.</div>

<p class="webflare-indent1">
<a id="pgfId-1035355"></a>If values are entered for layers for which <em>Shrink</em> blockage is not being generated, the values are ignored.</p>

<h4>
<a id="pgfId-1035358"></a><a id="blockageboundary"></a><a id="86547"></a>Bou<a id="marker-1035357"></a>ndary</h4>

<p>
<a id="pgfId-1023426"></a>Specifies the minimum distance between a <em>Cover</em> blockage and the cell boundary. The default value of this option is <code>0</code>. This option is valid only for the <em>Cover</em> blockage. For more information about this blockage type, see <em><a href="chap5.html#35833"></a><h-hot>Blockage</h-hot><em></em></em>.</p>
<p>
<a id="pgfId-1049265"></a>The <em><a href="chap4.html#10752"></a><h-hot>Add</h-hot><em></em></em>, <em><a href="chap4.html#91459"></a><h-hot>Edit</h-hot><em></em></em>, and <em><a href="chap4.html#49654"></a><h-hot>Delete</h-hot><em></em></em> buttons and the <em><a href="chap4.html#75414"></a><h-hot>G-Spec Builder Form</h-hot><em></em></em> in conjunction with the <em><a href="chap4.html#14608"></a><h-hot>Operators</h-hot><em></em></em> are used to work with the <em>Layer Assignment for Blockages</em> table. When you add a new layer row to the table, the type of blockage is set as <em>Detailed</em> for the <em>Core</em> bin and <em>Cover</em> for all other bins by default.</p>

<h3>
<a id="pgfId-1046764"></a><a id="10602"></a>Impact of Cutout and Spacing Options on the Blockage Types</h3>

<p>
<a id="pgfId-1045233"></a>This section describes how each of the three types of blockages behave with the <em><a href="chap5.html#77254"></a><h-hot>Pin Cutout</h-hot><em></em></em>, <em><a href="chap5.html#34535"></a><h-hot>Max Space</h-hot><em></em></em>, and <em><a href="chap5.html#71032"></a><h-hot>Corridor Cut</h-hot><em></em></em> options.</p>

<h4>
<a id="pgfId-1045236"></a>Cover Blockage</h4>

<p>
<a id="pgfId-1047761"></a>A <em>Cover</em> blockage covers the entire block. The default <em>Cover</em> blockage does not have cutouts either around pins or at the block boundary and is tagged with the spacing attribute <code>+SPACING</code> set to <code>maxSpacing</code>. Therefore, the top-level routes stay <code>maxSpacing</code> away from the block. The <em>Cover </em>blockage in this state offers the least cross coupling between the routes at the top level and those within the block. The top-level routes can access pins at the boundary and the pins within the block can be accessed from the top in a perpendicular direction.</p>
<p>
<a id="pgfId-1048128"></a>For a default <em>Cover</em> blockage generation, neither of <em>Pin Cutout</em>, <em>Corridor Cut</em>, and <em>Max Space</em> option is selected.</p>
<ul><li>
<a id="pgfId-1052206"></a><em>Pin Cutout</em> is OFF<br />
<a id="pgfId-1052207"></a>Abstract Generator will not create cutouts around pins. A large blockage is added that will cover the entire block.</li><li>
<a id="pgfId-1052208"></a><em>Pin Cutout</em> is ON<br />
<a id="pgfId-1052209"></a>Abstract Generator creates pin cutouts at <code>minSpacing</code> distance away from the pins. However, if the layer-purpose-based and voltage dependent rules are present in the technology file along with layer based spacing rules and option RespectPurposeAndVoltageRules, to conform to these rules, is set to TRUE, then Abstract Generator will read the layer-purpose rules, voltage-based rules, and the layer rules. A blockage around the pin is created with the maximum value of the minSpacing available based on the layer-purpose-based and voltage dependent rules. The use of the <em>Pin Cutout</em> option is recommended for generating a <em>Cover</em> blockage to obtain a densely packaged block.</li><li>
<a id="pgfId-1045272"></a><em>Pin Cutout </em>and <em>Corridor Cut </em>are ON<br />
<a id="pgfId-1045273"></a>Abstract Generator creates corridor cuts for internal pins in addition to creating the pin cutouts. The creation of corridor cuts is subject to the existence of straight-line paths from internal pins to the block boundary (for a <code>minWidth</code> wire). The <em>Pin Cutout</em> option should be selected for selecting the <em>Corridor Cut </em>option.</li><li>
<a id="pgfId-1045282"></a><em>Pin Cutout </em>and <em>Max Space </em>are ON<br />
<a id="pgfId-1045280"></a>In addition to the pin cutouts, Abstract Generator creates a blockage at the block boundary that keeps the top-level routes at <code>maxSpacing</code> away from the block. This further reduces the cross coupling between internal and top-level routes. The <em>Max Space</em> option is functional only when the <em>Pin Cutout</em> option is selected. The <em>Corridor Cut</em> option is ineffective when both these options are selected.</li></ul>








<h4>
<a id="pgfId-1046722"></a>Shrink Blockage</h4>

<p>
<a id="pgfId-1046746"></a>A <em>Shrink</em> blockage covers the small, less useful areas in a block. The default <em>Shrink</em> blockage does not have cutouts either around pins or at the block boundary.</p>
<p>
<a id="pgfId-1048998"></a>In the case of <em>Shrink</em> blockages, no blockage is added around the block at the boundary. Therefore, the <em>Max Space</em> option is ineffective in the case of <em>Shrink</em> blockages even if selected.</p>
<ul><li>
<a id="pgfId-1046725"></a><em>Pin Cutout</em> is ON<br />
<a id="pgfId-1046726"></a>Abstract Generator creates pin cutouts at <code>minSpacing</code>.</li><li>
<a id="pgfId-1046727"></a><em>Pin Cutout </em>and <em>Corridor Cut </em>are ON<br />
<a id="pgfId-1046728"></a>Abstract Generator creates corridor cuts for internal pins. The creation of corridor cuts is subject to the existence of paths from internal pins to the block boundary (for a <code>minWidth</code> wire). The <em>Pin Cutout</em> option should be selected for the <em>Corridor Cut </em>option to be effective.</li></ul>




<h4>
<a id="pgfId-1046974"></a>Detailed Blockage</h4>

<p>
<a id="pgfId-1046975"></a>A <em>Detailed</em> blockage covers geometries that are not part of pins on the routing layers. The default <em>Detailed</em> blockage does not have cutouts either around pins or at the block boundary.</p>
<p>
<a id="pgfId-1048937"></a>In the case of <em>Detailed</em> blockages, no blockage is added around the block at the boundary and no corridors are cut around pins. Therefore, both <em>Max Space</em> and <em>Corridor Cut</em> options are ineffective in the case of <em>Detailed</em> blockages even if selected.</p>
<ul><li>
<a id="pgfId-1046976"></a><em>Pin Cutout</em> is OFF<br />
<a id="pgfId-1046977"></a>Abstract Generator does not create cutouts around pins.</li><li>
<a id="pgfId-1046978"></a><em>Pin Cutout</em> is ON<br />
<a id="pgfId-1046979"></a>Abstract Generator first creates pin cutouts on the <em>Detailed </em>blockage. These pin cutouts are computed using the appropriate spacing rules, which in turn, are based on the respective pin&#8217;s width. Next, Abstract Generator determines instances of pin cutouts in which the cutout width is greater than the <code>minSpacing</code> for the layer. For these instances, Abstract Generator adds small blockages between the <code>minSpacing</code> and the pin cutouts. Finally, the small added blockages are tagged with the spacing attribute <code>+SPACING</code> set to <code>minSpacing</code>.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1049151"></a>The additional blockages are added to prevent top-level routes from entering the pin cutout area.</div></li></ul>




<p>
<a id="pgfId-1046227"></a>The following table summarizes the effect of selecting various combinations of these options for the three types of blockages. The red button indicates that the option is selected and the white button indicates that the option is not selected. The symbol &#8216;X&#8217; for an option indicates the ineffectiveness of the option in that particular scenario even if selected.</p>

<p>
<a id="pgfId-1047263"></a></p>
<table class="webflareTable" id="#id1047039">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="2">
<span class="tbl-head" id="#id1048347">
<a id="pgfId-1048347"></a>Blockage Type</span>
</th>
<th class="webflareTh" colspan="3" rowspan="1">
<span class="tbl-head" id="#id1048349">
<a id="pgfId-1048349"></a>Options in the Table on the Blockage Tab</span>
</th>
<th class="webflareTh" colspan="1" rowspan="2">
<span class="tbl-head" id="#id1048355">
<a id="pgfId-1048355"></a>Resultant Blockage</span>
</th>
</tr>
<tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1048360">
<a id="pgfId-1048360"></a>Pin Cutout</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1048362">
<a id="pgfId-1048362"></a>Max Space</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1048364">
<a id="pgfId-1048364"></a>Corridor Cut</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="4">
<p>
<a id="pgfId-1048369"></a>Cover</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-1048374"></a></p>

<div class="webflare-div-image">
<img width="107" height="43" src="images/chap5-25.gif" /></div>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048381"></a></p>
<div class="webflare-div-image">
<img width="107" height="43" src="images/chap5-26.gif" /></div>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048388"></a></p>
<div class="webflare-div-image">
<img width="107" height="43" src="images/chap5-27.gif" /></div>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048390"></a>Default cover blockage:
- No pin cutouts
- No corridor cuts
- No blockage at the boundary</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048397"></a></p>
<div class="webflare-div-image">
<img width="111" height="41" src="images/chap5-28.gif" /></div>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048402"></a></p>
<div class="webflare-div-image">
<img width="107" height="43" src="images/chap5-29.gif" /></div>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048407"></a></p>
<div class="webflare-div-image">
<img width="107" height="43" src="images/chap5-30.gif" /></div>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048409"></a>Cover blockage with pin cutouts.
No corridor cuts.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048416"></a></p>
<div class="webflare-div-image">
<img width="111" height="41" src="images/chap5-31.gif" /></div>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048421"></a></p>
<div class="webflare-div-image">
<img width="107" height="43" src="images/chap5-32.gif" /></div>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048426"></a></p>
<div class="webflare-div-image">
<img width="111" height="41" src="images/chap5-33.gif" /></div>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048428"></a>Cover blockage with pin cutouts and corridor cuts for internal pins.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048435"></a></p>
<div class="webflare-div-image">
<img width="111" height="41" src="images/chap5-34.gif" /></div>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048440"></a></p>
<div class="webflare-div-image">
<img width="111" height="41" src="images/chap5-35.gif" /></div>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048447"></a></p>
<div class="webflare-div-image">
<img width="107" height="43" src="images/chap5-36.gif" /></div>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048449"></a>Cover blockage with pin cutouts and blockage at boundary to keep routers <code>maxSpacing</code> away.
No corridors cuts.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="3">
<p>
<a id="pgfId-1048452"></a>Shrink</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048457"></a></p>
<div class="webflare-div-image">
<img width="107" height="43" src="images/chap5-37.gif" /></div>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048464"></a></p>
<div class="webflare-div-image">
<img width="107" height="43" src="images/chap5-38.gif" /></div>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048471"></a></p>
<div class="webflare-div-image">
<img width="107" height="43" src="images/chap5-39.gif" /></div>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048473"></a>Default shrink blockage:
- No pin cutouts
- No corridor cuts
- No blockage at the boundary</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048480"></a></p>
<div class="webflare-div-image">
<img width="111" height="41" src="images/chap5-40.gif" /></div>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048487"></a></p>
<div class="webflare-div-image">
<img width="107" height="43" src="images/chap5-41.gif" /></div>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048492"></a></p>
<div class="webflare-div-image">
<img width="107" height="43" src="images/chap5-42.gif" /></div>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048494"></a>Shrink blockage with pin cutouts.
No corridor cuts.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048501"></a></p>
<div class="webflare-div-image">
<img width="111" height="41" src="images/chap5-43.gif" /></div>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048508"></a></p>
<div class="webflare-div-image">
<img width="107" height="43" src="images/chap5-44.gif" /></div>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048513"></a></p>
<div class="webflare-div-image">
<img width="111" height="41" src="images/chap5-45.gif" /></div>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048515"></a>Shrink blockage with pin cutouts and corridor cuts for internal pins.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="2">
<p>
<a id="pgfId-1048518"></a>Detailed</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048523"></a></p>
<div class="webflare-div-image">
<img width="107" height="43" src="images/chap5-46.gif" /></div>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048530"></a></p>
<div class="webflare-div-image">
<img width="107" height="43" src="images/chap5-47.gif" /></div>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048537"></a></p>
<div class="webflare-div-image">
<img width="107" height="43" src="images/chap5-48.gif" /></div>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048539"></a>Default detailed blockage:
- No pin cutouts
- No corridor cuts
- No blockage at the boundary</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048546"></a></p>
<div class="webflare-div-image">
<img width="111" height="41" src="images/chap5-49.gif" /></div>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048553"></a></p>
<div class="webflare-div-image">
<img width="107" height="43" src="images/chap5-50.gif" /></div>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048560"></a></p>
<div class="webflare-div-image">
<img width="107" height="43" src="images/chap5-51.gif" /></div>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1048562"></a>Detailed blockage with pin cutouts.
No corridor cuts.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="5" rowspan="2">
<p>
<a id="pgfId-1049456"></a></p>
<div class="webflare-div-image">
<img width="334" height="76" src="images/chap5-52.gif" /></div>
</td>
</tr>
<tr />
</tbody></table>
<h3>
<a id="pgfId-1047350"></a>Specifying the Siz<a id="cutwindowaroundpins"></a>e of the Window <a id="marker-1047349"></a>to be Cut Around a Pin</h3>

<p>
<a id="pgfId-1035383"></a>You can use the <em>Cut window around pins large enough to drop via</em> option to control the size of the window cut into a blockage around a pin.</p>
<p>
<a id="pgfId-1035396"></a>This option is selected by default. When this option is selected, Abstract Generator cuts a window large enough for a via to be dropped to that pin. If you do not select this option, Abstract Generator cuts a window around the pin based purely on the range-based spacing rule for the pin width.</p>
<p>
<a id="pgfId-1060262"></a>Alternatively, use the <a href="../abstract/abstract_skill.html#BlockageCutVia">BlockageCutVia</a> option.</p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1047546"></a>
Abstract Generator uses the <code>minSpacing</code> value for the minimum spacing for both metal and via layers. It does not use the <code>viaSpacing</code> rule. If you have <code>viaSpacing</code> tables, you need to ensure that the spacing for zero adjacent cuts is defined in the <code>minSpacing</code> rule.</div>

<p>
<a id="pgfId-1030617"></a>This option applies only to the layer on which the pin and blockage exist. However, for a given blockage layer, Abstract Generator additionally cuts around pins on the layer below, again leaving space for a via to be dropped without violation. This option has no effect on the size of the cut-out around pins on the layer below.</p>

<div class="webflare-information-macro webflare-macro-tip">
<a id="pgfId-1057998"></a>
If you want the cut-outs on all layers to be based only on the pin width, set the <em><a actuate="user" class="URL" href="../abstract/chap5.html#cutbelow" show="replace" xml:link="simple">Cut Below</a></em> value to <code>0</code> for the given blockage layer in the <em><a actuate="user" class="URL" href="../abstract/chap5.html#layerassblockages" show="replace" xml:link="simple">Layer Assignment for Blockages</a></em> table.</div>
<h3>
<a id="pgfId-1060361"></a>Specifying the Effective Width of Blockages</h3>

<p>
<a id="pgfId-1058001"></a>Use the <code>AbstractBlockageUserDefinedWidth</code> option to set the effective width attribute for layer blockages. Spacing and effective width attributes cannot be set together. Effective width can be set only if the spacing value is set to zero. For information about how to set this option, see <a href="../abstract/abstract_skill.html#AbstractBlockageUserDefinedWidth">AbstractBlockageUserDefinedWidth</a>.</p>

<h3>
<a id="pgfId-1060349"></a>Supporting Pin Cu<a id="AbstractBlockageCutForAboveLayers"></a>touts on Metal Layers Above the Pin Layer (for Stacked Vias)</h3>

<p>
<a id="pgfId-1058097"></a>When the Pin Cutout option is enabled, Abstract Generator creates cutouts on the layer that contains pins. To create pin cutouts on blockage layers above the layers that contains pins, you can use the <code>AbstractBlockageCutForAboveLayers</code> option available in the Abstract step of Abstract Generator. Specifying the <code>AbstractBlockageCutForAboveLayers </code>option enables the router to connect to pins by using stacked vias. This option is not available in the GUI. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1058099"></a>The <code>AbstractBlockageCutForAboveLayers</code>  takes precedence over all other cut distance related options such as <code>AbstractBlockageDownPinCutWindow</code> and <code>BlockageCutVia</code>. </div>
<p>
<a id="pgfId-1056988"></a>With the <code>AbstractBlockageCutForAboveLayers</code> option, you specify a valid metal layer that contains pins and the size of the pin cutouts to be created in the blockage layers above this layer. Specifying the size of the pin cutout is al. If the pin cutout size is not specified, the size of the pin cutout is determined by the minspacing of the blockage layer. The following example illustrates this:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1056612"></a>absSetBinOption(&#8220;Block&#8221; &#8220;AbstractBlockageCutForAboveLayers&#8221; &#8220;(Metal2 0.1) (Metal4 0.2)&#8221;)</pre>

<p>
<a id="pgfId-1057392"></a>Here, for pins on <code>Metal2</code> layer, the blockages on <code>Metal3</code>, <code>Metal4</code>,&#8230;,<code>MetalX</code> are cut with a distance of <code>0.1u;</code> for pins on <code>Metal4</code> layer, the blockages on <code>Metal5</code>, <code>Metal6</code>,&#8230;,<code>MetalX</code> are cut with a distance of 0.<code>2u</code>.</p>
<p>
<a id="pgfId-1057393"></a>The following is another example that specifies pin cutouts:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1056791"></a>absSetBinOption(&#8220;Block&#8221; &#8220;AbstractBlockageCutForAboveLayers&#8221; &#8220;Metal2 (Metal4 0.2)&#8221;)</pre>

<p>
<a id="pgfId-1056798"></a>Here, for pins on <code>Metal4</code> layer, the blockages on <code>Metal5</code>, <code>Metal6</code>,&#8230;,<code>MetalX</code> are cut with a distance of <code>0.2u</code>. However, for pins on <code>Metal2</code> layer, the blockages are cut with a minimum spacing specified for the layer on which the blockage is created. This is because the pin cutout value is not specified for <code>Metal2</code> layer. Therefore, the blockages on <code>Metal3</code> are cut with <code>Metal3</code> minSpacing and blockages on <code>Metal4</code> are cut with <code>Metal4</code> minSpacing, and so on. </p>
<p>
<a id="pgfId-1056694"></a>The <code>AbstractBlockageCutForAboveLayers</code> option works only for those layers for which <em><a href="chap5.html#77254"></a><h-hot>Pin Cutout</h-hot><em></em></em> is enabled. In the example below, pin cutout is enabled only for <code>Metal2</code> to <code>Metal5</code> layers. Therefore, blockages will be cut only for these layers.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1059348"></a>absSetBinOption(&quot;Block&quot; &quot;AbstractBlockageCutAroundPin&quot; &quot;Metal2 Metal3 Metal4 Metal5&quot;)</pre>
<h3>
<a id="pgfId-1059349"></a>Creating Routing Channels when Generating Cover Obstructions<a id="Route_Channel"></a></h3>

<p>
<a id="pgfId-1060476"></a>Abstract generator enables you to create routing channels through cover blockages. Consider layer <code>Metal1</code>. When generating a cover obstruction on this layer, you can choose to cut a routing channel through this layer. The routing channel will take the shape of the layer-purpose pair, which you specify as a parameter. In this example, the routing channel will be in accordance with (y9, drawing) layer-purpose pair.</p>
<p>
<a id="pgfId-1060483"></a></p>

<div class="webflare-div-image">
<img width="668" height="206" src="images/chap5-53.gif" /></div>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1059204"></a>This feature is not available for shrink and detailed blockages.</div>
<p>
<a id="pgfId-1059234"></a>To create a routing channel when generating a cover blockage, specify the parameters in the <em>Routing channel for cover blockage</em> field.</p>
<p>
<a id="pgfId-1059242"></a></p>

<div class="webflare-div-image">
<img width="640" height="89" src="images/chap5-54.gif" /></div>

<p>
<a id="pgfId-1059635"></a>Here, <em>Metal1</em> refers to layer through which a routing obstruction needs to be cut. <em>(y9 drawing)</em> is the layer-purpose pair that indicates the shape of the routing channel.</p>
<p>
<a id="pgfId-1059637"></a>ally, you can use the <a href="../abstract/abstract_skill.html#AbstractBlockageRoutingChannelOnLayers">AbstractBlockageRoutingChannelOnLayers</a> option to create a routing channel when generating a cover blockage.</p>
<p>
<a id="pgfId-1059593"></a>Example</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1059594"></a><code>absSetBinOption(&quot;Block&quot; &quot;AbstractBlockageRoutingChannelOnLayers&quot; &quot;(Metal1 (y9 drawing)) (Metal2 (y9 drawing))&quot;)</code></pre>
<div class="webflare-information-macro webflare-macro-warning">
<a id="pgfId-1060543"></a>
Layers <code>(y [0-9] drawing)</code> are system-defined layers. So, the results may not be accurate when these layers are used for creating routing channels.</div>
<h3>
<a id="pgfId-1059237"></a><a id="23921"></a>Automatic Pin Stre<a id="marker-1059236"></a>tching</h3>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1031051"></a>The following section is only for information. There is no option to enable &#8220;automatic pin stretching&#8221;.</div>
<p>
<a id="pgfId-1019175"></a>Abstract Generator sometimes requires to make the pin geometry larger than the settings you have specified. This feature is known as <em>automatic pin stretching</em> and is used in circumstances where cutting a window around a pin would remove some geometry (obstruction) that touches the pin, potentially letting the router route too close to the cut-out geometry. See the example below.</p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1035603"></a>
Automatic pin stretching searches for geometry only to the <em>Maximum depth</em> of hierarchy as specified in the Extract step&#8217;s <em>Signal</em> or <em>Power</em> tab. The default depth is 32.</div>

<p>
<a id="pgfId-1035604"></a><strong>Example</strong></p>
<p>
<a id="pgfId-1036987"></a>This is an example of a situation in which pin stretching occurs. The example also illustrates the reasons why pin stretching occurs.</p>
<p>
<a id="pgfId-1037593"></a>The following figure shows the wire geometry W touching the Pin P. When a window is cut out around Pin P, the wire geometry that touches the pin at the right edge, W2, is totally removed in the abstract. W1 part of the wire geometry becomes an obstruction. The W2 wire geometry cannot also be converted into an obstruction because it covers the area in which a window has already been cut out around Pin P.</p>

<p>
<a id="pgfId-1037594"></a></p>
<div class="webflare-div-image">
<img width="641" height="267" src="images/chap5-55.gif" /></div>

<p>
<a id="pgfId-1037595"></a>The figure below shows both the outcomes when Pin P is either stretched (<strong>B</strong>) or not stretched (<strong>A</strong>) towards the right side. In <strong>A</strong>, when the pin is not stretched, the removed wire geometry is not represented in the abstract. So it is possible for the router to route a wire within the minimum separation distance to the right side of Pin P. This can lead to spacing violation with the W2 portion of the original wire when the abstract is replaced with the pin and wire geometries in the layout.</p>
<p>
<a id="pgfId-1037637"></a></p>

<div class="webflare-div-image">
<img width="656" height="339" src="images/chap5-56.gif" /></div>

<p>
<a id="pgfId-1037154"></a>Therefore, the W2 wire geometry must be represented in the abstract somehow. In this situation, the pin is automatically stretched to the right to cover the portion of the wire that cannot be turned into an obstruction (W2). Since the resultant stretched pin includes the wire geometry, the router will now space away a new wire away appropriately from the W2 wire geometry. This is shown in <strong>B</strong> in the figure above.</p>
<p>
<a id="pgfId-1019239"></a>There is no need to extend Pin P vertically above because even when the window is cut out around the pin, there is still a piece of the wire (W1) that is converted into an obstruction above Pin P. Therefore, unless the cut out around the pin is large, the space between Pin P and the new obstruction will not be large enough for the router to route unrelated wiring through.</p>
<p>
<a id="pgfId-1037706"></a>By default, pin stretching occurs automatically whenever a window cut out around a pin removes some geometry touching the pin. If you want, you can disable pin stretching by setting the <em><a actuate="user" class="URL" href="../abstract/chap5.html#cutsame" show="replace" xml:link="simple">Cut Same</a></em> value to 0 and deselecting the <em><a actuate="user" class="URL" href="../abstract/chap5.html#cutwindowaroundpins" show="replace" xml:link="simple">Cut window around pins large enough to drop via</a></em> option.</p>
<p>
<a id="pgfId-1019824"></a>For more information and another example of automatic pin stretching, see <a href="chap5.html#41223">Non-Square Boundary Pins</a>.</p>

<h2>
<a id="pgfId-1058672"></a><a id="96035"></a>Den<a id="DensityOptions"></a>sit<a id="marker-1038055"></a>y T<a id="marker-1038056"></a>ab</h2>

<p>
<a id="pgfId-1033807"></a>You can generate metal density information for abstracts in LEF 5.8. The density value in LEF helps in verifying metal density fabrication rules early in the design cycle without having to replace the abstracts with the layouts. This information in LEF can reduce the memory requirements and increase the speed of metal fill tools and aid these tools to analyze and fix the designs using abstracts.</p>
<p>
<a id="pgfId-1033809"></a>To access the <em>Density</em> tab, select <em>Flow &#8211; Abstract</em>, then click the <em>Density</em> tab in the <em>Running step Abstract</em> form.</p>

<p>
<a id="pgfId-1035612"></a></p>
<div class="webflare-div-image">
<img width="679" height="546" src="images/chap5-57.gif" /></div>

<p>
<a id="pgfId-1035615"></a>The options on this tab provide specifications to Abstract Generator for calculating metal density (in percentage) for macros.</p>
<p>
<a id="pgfId-1035616"></a>You select the <em>Calculate metal density</em> option to specify that metal density information is to be generated for the selected cell(s). If the <em>Calculate metal density</em> option is selected, Abstract Generator generates the fill blockages that are specified in the DEF file. During LEF generation, these fill blockages are exported out as density.</p>
<p>
<a id="pgfId-1035625"></a>By default, the <em>Calculate metal density</em> option on this tab is enabled. The other options become active only when the <em>Calculate metal density</em> option is enabled.</p>
<p>
<a id="pgfId-1033830"></a>Next, you specify the details to enable Abstract Generator in determining the metal layers and metal geometries for which density calculation needs to be performed.</p>

<h3>
<a id="pgfId-1031847"></a>Specifying the Metal Layers for Density Calculation</h3>

<p>
<a id="pgfId-1031848"></a>For metal density calculation, you can either use the already specified metal layers and their geometry specifications or specify them afresh on this tab. These two alternatives are elaborated below:</p>
<ul><li>
<a id="pgfId-1032143"></a>You can use the same metal layers and their corresponding geometry specifications as you would have specified for signal nets, power nets, or antenna data extraction in the Extract step. To do this, select one of the following options on the <em>Density</em> tab:<ul><li>
<a id="pgfId-1031936"></a><em>Use layer assignment for signal extraction</em></li><li>
<a id="pgfId-1031945"></a><em>Use layer assignment for antenna extraction</em></li><li>
<a id="pgfId-1031950"></a><em>Use layer assignment for power extraction</em></li></ul><br />
<a id="pgfId-1032224"></a>These options are mutually exclusive and selecting one disables the other two options. Only metal layers specified in the selected table will be considered for metal density calculation.<br />
<a id="pgfId-1032222"></a>Along with selecting one of these options, you can ally specify the <em>Width</em> and <em>Height</em> of the density window in the <em>Layer Assignment for Metal Density Regions</em> table. For more information, see <a href="chap5.html#16869">Specifying the Dimensions of the Density Window</a>.</li><li>
<a id="pgfId-1032167"></a>Alternatively, you can specify a different set of geometry specifications for metal layers by using the <em>Layer Assignment for Metal Density Regions</em> table. To use the geometry specifications from this table, ensure that none of the three layer assignment options is selected. You can turn off these options individually.<br />
<a id="pgfId-1032174"></a>The table contains the following columns:<ul><li>
<a id="pgfId-1032185"></a>The <em>Layer</em> column is pre-populated with the metal layers from the technology file. You can remove or edit the existing layers or add any removed layers. Density data will not be calculated for metal layers that are not specified in the table.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1033011"></a>If you use the <em>Layer Assignment for Metal Density Regions</em> table and you have specified a non-metal layer in the table, Abstract Generator will issue a warning message during density calculation.</div></li><li>
<a id="pgfId-1032186"></a>By default, the <em>Geometry Specification</em> column contains the layer names corresponding to each metal layer name in the <em>Layer</em> column. You can modify these values as required.</li><li>
<a id="pgfId-1032183"></a>The <em>Width</em> and <em>Height</em> columns are described in the next section, <a href="chap5.html#16869">Specifying the Dimensions of the Density Window</a>.<br /><div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1032003"></a>
If you select to use a layer assignment table for density calculations from a different tab, you can still use the <em>Width</em> and <em>Height</em> columns of the <em>Layer Assignment for Metal Density Regions</em> table on the <em>Density</em> tab. In this case, though the geometry specifications in the <em>Layer Assignment for Metal Density Regions</em> table will not be considered for metal density calculation but you need to ensure that a valid geometry specification exists for every layer specified in this table.</div></li></ul></li></ul>













<h3>
<a id="pgfId-1031854"></a><a id="16869"></a>Specifying the Dimensions of the Density Window</h3>

<p>
<a id="pgfId-1032194"></a>You can specify the width and height of the density window either for all the layers or separately for each layer.</p>
<p>
<a id="pgfId-1033062"></a>To specify the width and height on a per layer basis, use the <em>Width</em> and <em>Height</em> columns of the <em>Layer Assignment for Metal Density Regions</em> table. You can use the <em>Width</em> and <em>Height</em> columns of this table when you either select one of the layer assignment options or use the <em>Layer Assignment for Metal Density Regions</em> table for density calculation.</p>
<p>
<a id="pgfId-1033103"></a>To specify the same width and height value for all the layers, use the following fields on the <em>Density</em> tab:</p>
<ul><li>
<a id="pgfId-1033104"></a><em>Default density window width</em></li><li>
<a id="pgfId-1033105"></a><em>Default density window height</em></li></ul>

<p>
<a id="pgfId-1061140"></a>The default value for both the fields is <code>20</code>, which is derived by calculating 10% of a typical <code>130nm</code> window and 20% of a typical <code>90nm</code> density check window size. You can modify this value to get Abstract Generator to override the default window size without having to change the <em>Width</em> and <em>Height</em> values for every layer.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1033057"></a>If you do not populate the <em>Width</em> or the <em>Height</em> column, Abstract Generator picks the density window dimension from the <em>Default density window width</em> and <em>Default density window height</em> fields.</div>
<p>
<a id="pgfId-1033651"></a>Some density windows in the final abstract may be smaller in dimension than the option values specified. This happens around the edges of the PR boundary on various layers. This is illustrated in the following scenarios:</p>
<p>
<a id="pgfId-1033443"></a><strong>Scenario I: Rectangular PR Boundary</strong></p>
<p>
<a id="pgfId-1033588"></a>Starting from the lower left corner of the bounding box of the PR boundary, the abstract is divided into a rectangular grid with window size as specified in the GUI. The rectangles intersecting the PR boundary are clipped at the right and top sides. Therefore, the size of the density windows at the right and top sides will be smaller than the size specified for the density window in the GUI. This is shown in the figure below.</p>

<p>
<a id="pgfId-1033724"></a></p>
<div class="webflare-div-image">
<img width="668" height="260" src="images/chap5-58.gif" /></div>

<p>
<a id="pgfId-1032860"></a><strong>Scenario II: Rectilinear PR Boundary</strong></p>
<p>
<a id="pgfId-1033605"></a>The density windows are clipped wherever they intersect the PR boundary. The resulting polygons are fractured into smaller rectangles and density data is generated for each of these independently.</p>

<p>
<a id="pgfId-1033404"></a></p>
<div class="webflare-div-image">
<img width="668" height="191" src="images/chap5-59.gif" /></div>
<h3>
<a id="pgfId-1033816"></a>Storage Location of Metal Density Information</h3>

<p>
<a id="pgfId-1033814"></a>On OpenAccess, the density rectangles are saved as an <code>oaLayerBlockage</code> object with type <code>oacFillBlockageType</code>. The bBox of the <code>oaLayerBlockage</code> object is reported as the metal density rectangle in LEF by the export tool.</p>

<h2>
<a id="pgfId-1031837"></a><a id="63804"></a>Frac<a id="marker-1030210"></a>tu<a id="FractureOptions"></a>re<a id="marker-1037799"></a> Tab</h2>

<p>
<a id="pgfId-1030474"></a>To access the <em>Fracture </em>tab, select <em>Flow &#8211; Abstract</em>, then click the <em>Fracture</em> tab in the <em>Running step Abstract</em> form.</p>

<p>
<a id="pgfId-1030216"></a></p>
<div class="webflare-div-image">
<img width="668" height="379" src="images/chap5-60.gif" /></div>

<p>
<a id="pgfId-1035632"></a>The options on this tab let you control whether or not pins and blockages are fractured depending on the PR system you are using. By using the options on the <em>Fracture</em> tab, you can also control the modeling of 45-degree geometry. These options are available to all bins.</p>

<h3>
<a id="pgfId-1030731"></a>Enabling Fracturing Options</h3>

<p>
<a id="pgfId-1035660"></a>You can specify whether you want to fracture pins or blockages by using the options in the <em>Fracture</em> section - <em>Fracture pins</em> and <em>Fracture blockages</em>. By default, both these options are disabled.</p>
<ul><li>
<a id="pgfId-1035671"></a><em>Fracture pins</em><a id="marker-1037800"></a>: This option controls whether Abstract Generator creates each pin shape as a set of maximum rectangles or as a polygon. This lets you model 45-degree pins if your design requires it. This option is available for all bins.<br />
<a id="pgfId-1038259"></a>When this option is not selected, which is the default, Abstract Generator creates each blockage shape as a polygon. This setting is recommended if the abstracts are to be routed using the IC Shape-Based Router.
If you select this option, Abstract Generator creates each pin shape as a set of maximum rectangles.<br />
<a id="pgfId-1072600"></a>You can also choose to fracture only rectilinear pin shapes. To do this, you can use the <code>AbstractFractureRectilinearShapes</code> option of the <code>absAbstract</code> SKILL function.<pre class="webflare-pre-block webflare-courier-new" id="#id1072602">
<a id="pgfId-1072602"></a>absSetBinOption(&quot;Block&quot; &quot;AbstractFractureRectilinearShapes&quot; &quot;true&quot;)</pre><br /><div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1030408"></a>
If you are using the <em><a actuate="user" class="URL" href="../abstract/chap5.html#createboundarypins" show="replace" xml:link="simple">Create boundary pins</a></em> or <em><a actuate="user" class="URL" href="../abstract/chap5.html#createringpins" show="replace" xml:link="simple">Create ring pins</a></em> option on the <em>Adjust</em> tab and Abstract Generator has stretched a pin, then that pin is not fractured by this option. For example, if you have boundary pins for power nets but not for signal nets, only the power nets are fractured.</div></li><li>
<a id="pgfId-1030246"></a><em>Fracture blockages</em><a id="marker-1037801"></a>: This option controls whether Abstract Generator creates each blockage shape as a set of maximum rectangles or as a polygon. This option is available for all bins.<br />
<a id="pgfId-1059409"></a>When this option is not selected, which is the default, Abstract Generator creates each blockage shape as a polygon. This setting is recommended if the abstracts are to be routed using the IC Shape-Based Router.
If you select this option, Abstract Generator creates each blockage shape as a set of maximum rectangles.<br />
<a id="pgfId-1059419"></a>During blockage generation, Abstract Generator converts ellipses, circles, and donuts into polygons before fracturing the blockages. By default, 64-point polygons are generated, which are snapped to the nearest manufacturing grid. You can overwrite this setting by using the following:<br />
<a id="pgfId-1059481"></a><code>absSetOptionabsSetOption(&quot;numOfPointsInEllipseOrDonut&quot; &quot;number_of_points&quot;)</code><br />
<a id="pgfId-1059563"></a>Example:<br />
<a id="pgfId-1059564"></a><code>absSetOption(&quot;numOfPointsInEllipseOrDonut&quot; &quot;64&quot;)</code></li></ul>













<h3>
<a id="pgfId-1059567"></a><a id="57605"></a>Setting Up Options for 45-Degree <a id="marker-1059566"></a>Geometry</h3>

<p>
<a id="pgfId-1038235"></a>LEF 5.8 supports the routing of 45-degree geometries. Abstract Generator provides support for preserving the 45-degree geometries as it is. By default, the conversion of 45-degree geometries to rectilinear ones is disabled. The options to convert a 45-degree geometry into stair-stepped rectangles are available only if one or both of <em>Fracture pins</em> and <em>Fracture blockages </em>options are active.</p>

<p>
<a id="pgfId-1038208"></a></p>
<div class="webflare-div-image">
<img width="668" height="204" src="images/chap5-61.gif" /></div>
<h4>
<a id="pgfId-1038193"></a>Setting the Type of Stair Step Coverage</h4>

<p>
<a id="pgfId-1030287"></a>The <em>Stair-step coverage</em><a id="marker-1030286"></a> option controls the degree to which stair-step blockages cover the 45-degree geometry. There are three settings available for this option: <em>full</em>, <em>truncate</em>, and <em>partial</em>.</p>
<ul><li>
<a id="pgfId-1037367"></a>With fu<a id="marker-1037805"></a>ll stair-step coverage, the 45-degree geometry is completely obscured by blockage rectangles as shown below:<br />
<a id="pgfId-1064922"></a><div class="webflare-div-image">
<img src="images/Abstract_Stair1.gif" /></div>
<a id="pgfId-1037378"></a>This ensures that no real violations are created.</li><li>
<a id="pgfId-1030320"></a>With trunc<a id="marker-1037806"></a>ate stair-step coverage, the blockage rectangles are fully enclosed by the original 45-degree geometry as shown below.<br />
<a id="pgfId-1064946"></a><div class="webflare-div-image">
<img src="images/Abstract_Stair2.gif" /></div>
<a id="pgfId-1030331"></a>You might use this setting when there is another geometry close enough to cause violations with any stair-steps that extend outside the 45-degree edges.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1030332"></a>There is a considerable risk of the router being able to create routes that would not violate the abstract, but would violate the real 45-degree geometry.</div></li><li>
<a id="pgfId-1030336"></a>With pa<a id="marker-1037807"></a>rtial stair-step coverage, the blockage rectangles only partially cover the 45-degree geometry as shown below.<br />
<a id="pgfId-1064970"></a><div class="webflare-div-image">
<img src="images/Abstract_Stair3.gif" /></div>
<a id="pgfId-1030347"></a>This frees up more routing resources for the PR tools but because some of the real 45-degree geometry is exposed, there is an increased risk of violations.<br /><div class="webflare-information-macro webflare-macro-tip">
<a id="pgfId-1030349"></a>
In some situations, the stair-stepping procedure can create rectangles which introduce violations with neighboring geometry. This effect can be minimized by using a smaller step size or by using <em>truncate</em> rather than <em>partial</em> or <em>full</em> settings. Additional problems can be introduced, however, by using the <em>truncate</em> setting. The 45-degree geometry might be inadequately covered, and violations between wiring and 45-degree geometry would go undetected because of the modelling in the abstract. Again, using smaller stair-step distance can minimize this.</div></li></ul>




















<h4>
<a id="pgfId-1030351"></a>Setting the Width of the Stair Step</h4>

<p>
<a id="pgfId-1038248"></a>In the <em>Stair-steps width</em><a id="marker-1030350"></a> field, specify the width of the blockage geometry to be created. Enter a value greater than zero. There is no minimum width restriction. The default value&#160;&#160;is half the <code>minSpacing</code> of the <code>Metal1</code> layer. If the <code>minSpacing</code> of <code>Metal1</code> layer is not found in the technology data, then the default value is set to <code>5</code>.</p>

<h2>
<a id="pgfId-1030174"></a><a id="15681"></a>Si<a id="SiteOptions"></a>te<a id="marker-1027380"></a> Ta<a id="marker-1037810"></a>b</h2>

<p>
<a id="pgfId-1030201"></a>To access the <em>Site</em> tab, select <em>Flow &#8211; Abstract</em>, then click the <em>Site</em> tab in the <em>Running step Abstract</em> form.</p>

<p>
<a id="pgfId-1064994"></a></p>
<div class="webflare-div-image">
<img src="images/Abstract_Site.gif" /></div>

<p>
<a id="pgfId-1022717"></a>Sites tell the placer where it can place cells. All cells located in a particular bin share a common set of properties: symmetry, class (for example, pad or core), width, and height. These properties are used by the placer to assist in the placement process.</p>
<p>
<a id="pgfId-1018406"></a>These cell properties are defined in a site object, and all cells within the same bin are associated with the same site. The site itself has a name, and the cells in the LEF file contain a site name field that holds the name of the associated site. You can create sites for the <em>Core, IO, Corner </em>bins.</p>
<p>
<a id="pgfId-1060410"></a>In addition to the site names defined in the technology file, for CORE cells, the &lt;AUTO&gt; option is available in the Site Name cyclic field. </p>
<p>
<a id="pgfId-1060411"></a>In addition to the site names defined in the technology file, for IO/Corner cells, the &lt;AUTO&gt; and &lt;NONE&gt; options available in the Site Name cyclic field.</p>
<p>
<a id="pgfId-1060413"></a>Behavior of the &lt;AUTO&gt; option:</p>
<ul><li>
<a id="pgfId-1060414"></a>If the layout has an existing site definition, then no default site is created. The site definition from the layout is retained in the final abstract view and is dumped in the LEF file.</li><li>
<a id="pgfId-1060415"></a>If the layout does not have any site definition, a new default site definition is created and is dumped in the LEF file.</li></ul>

<p>
<a id="pgfId-1060417"></a>Behavior of the &lt;NONE&gt; option:</p>
<ul><li>
<a id="pgfId-1060418"></a>Any existing site definition is removed from the abstract view. So, no site definition is dumped in the LEF file.</li><li>
<a id="pgfId-1060419"></a>If the layout does not have any site definition, then no new site definition is created. So, no site definition is dumped in the LEF file.</li></ul>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1060421"></a>The &lt;NONE&gt; option is not available for CORE cells because CORE cells must have a site definition in LEF file.</div>

<h3>
<a id="pgfId-1018392"></a>Specifying a Sit<a id="marker-1027381"></a>e Name</h3>

<p>
<a id="pgfId-1026065"></a>In the <em>Site name</em> cyclic field, select a site name defined in the technology library from the available list to be applied to all cells in the current bin. Alternatively, select the <em>blank</em> option and allow Abstract Generator to select an appropriate site based on cell property settings.</p>
<p>
<a id="pgfId-1027080"></a>The name of the site will appear in the LEF file exported from Abstract Generator. For any site to appear in the LEF generated from Abstract Generator, it must be defined in the technology library. </p>

<h3>
<a id="pgfId-1026061"></a>Defining <a id="marker-1027382"></a>a Site</h3>

<p>
<a id="pgfId-1026099"></a>In the <em>Define new site name</em> field, specify the name of a new site to be used by all cells in the current bin. If the site does not already exist, Abstract Generator defines it in the technology file. An entry in the <em>Define new site name</em> field overrides any setting in the <em>Site name</em> field.</p>
<p>
<a id="pgfId-1038308"></a>Leaving this field blank automatically instructs Abstract Generator to use the site selected in the <em>Site name</em> field.</p>
<p>
<a id="pgfId-1038324"></a>Both <em>Site name </em>and <em>Define new site name </em>fields associate cells with a single site.</p>

<h3>
<a id="pgfId-1038316"></a><a id="20858"></a>Calculati<a id="marker-1038318"></a>ng Site Pattern</h3>

<p>
<a id="pgfId-1038317"></a>For LEF 5.8, Abstract Generator can derive site patterns from the layout of gate-array standard cells. Abstract Generator provides this support only for gate-array cells with a single level of hierarchy. This site pattern calculation feature is available only for the <em>Core</em> bin.</p>
<p>
<a id="pgfId-1038350"></a>To activate this feature, select the <em>Calculate site pattern for gate-array cells</em> option. This option works exclusive of the single site creation fields on the <em>Site</em> tab.</p>

<p>
<a id="pgfId-1065018"></a></p>
<div class="webflare-div-image">
<img src="images/Abstract_SitePattern.gif" /></div>

<p>
<a id="pgfId-1038366"></a>For valid site pattern calculation, the selected sub-cellviews (building blocks of gate-array cells) should be either associated to a predefined site or mapped to an already existing site. You can map the sub-cellviews to sites in the <em>Sub-Cellview to Site Mapping</em> table.</p>
<p>
<a id="pgfId-1038376"></a>The <em>Add</em> button becomes active when you select the <em>Calculate SITE pattern for Gate Array Cells</em> option. Click <em>Add</em> to create the mappings. Specify the sub-cellview name in the <em>Sub-Cellview</em> column. In the <em>Site</em> column, the drop-down list displays the already existing sites. Select one from the list to map the selected sub-cellview.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1038369"></a>If a gate-array sub-cellview is itself associated with a site pattern, Abstract Generator preserves the pattern and exports it to LEF.</div>

<h2>
<a id="pgfId-1038313"></a><a id="21992"></a>Ov<a id="marker-1038310"></a>erl<a id="OverlapOptions"></a>ap T<a id="marker-1038312"></a>ab</h2>

<p>
<a id="pgfId-1028107"></a>To access the <em>Ovelap</em> tab, select <em>Flow &#8211; Abstract</em>, and then click the <em>Overlap</em> tab in the <em>Running step Abstract</em> form.</p>

<p>
<a id="pgfId-1065042"></a></p>
<div class="webflare-div-image">
<img width="668" height="358" src="images/chap5-67.gif" /></div>

<p>
<a id="pgfId-1035836"></a>The overlap boundary is a second, more detailed boundary used by placement tools to test whether cells overlap. Unlike the PR boundary, which is always rectangular, the overlap boundary can be a rectilinear polygon. This helps the placement tools achieve better placement density for certain types of standard cells and rectilinear blocks. The options on this tab control whether Abstract Generator is to update the overlap boundary geometry.</p>

<h3>
<a id="pgfId-1028624"></a>Creating an Overlap Layer in OpenAccess</h3>

<p>
<a id="pgfId-1035863"></a>Because there is no concept of an overlap layer in OpenAccess, Abstract Generator creates the overlap shape on the PR boundary layer. If you export LEF for the cellview, however, the overlap shape is correctly written to the <code>OVERLAP</code> section.</p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1028642"></a>
If you create or update the PR boundary by using the options on the <a href="chap3.html#27062">Boundary Tab</a> and then create an overlap layer by using the options on the <em>Overlap</em> tab, the PR boundary is destroyed and replaced with the overlap shape.</div>
<h3>
<a id="pgfId-1017936"></a><a id="20806"></a><a id="33895"></a>Creating Ov<a id="marker-1027384"></a>erlap Boundary</h3>
<p>
<a id="pgfId-1014803"></a>You can use the <em>Create overlap boundary</em><a id="createoverlapboundary"></a> option to specify whether Abstract Generator should create an overlap boundary. This option is a cyclic field and you can choose one of the following values:</p>

<ul><li>
<a id="pgfId-1028148"></a><em>always</em>: If you choose this setting, Abstract Generator always creates an overlap boundary. Any existing overlap layer geometry is overwritten.</li><li>
<a id="pgfId-1028159"></a><em>as needed</em>: If you choose this setting, Abstract Generator creates an overlap boundary if it is not already present or if it is present and was previously calculated by Abstract Generator.</li><li>
<a id="pgfId-1028174"></a><em>off</em>: If you choose this setting, Abstract Generator never creates an overlap boundary.</li></ul>



<h3>
<a id="pgfId-1014830"></a><a id="58280"></a>Specifying Layers and Geometries for the Overlap Boundary</h3>

<p>
<a id="pgfId-1014831"></a>In the <em>Using geometry on layers</em><a id="absoverlapgeom"></a> field, you can specify the layers to be used in the overlap boundary calculation. The boundary is drawn so that it encloses all the geometry found on these layers.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1031259"></a>If you specify only a layer name instead of a layer-purpose pair, Abstract Generator considers all the purposes on that layer except the ones specified in the <em><a href="appA.html#86484">Ignored Purpose(s)</a><em></em></em> field on the <em>General</em> tab (<em>File &#8211; General Options</em>).</div>

<h3>
<a id="pgfId-1025765"></a>Fine Tuning the Overlap Boundary</h3>

<p>
<a id="pgfId-1035885"></a>You can use the following options to specify information about the size and shape of the overlap boundary:</p>
<ul><li>
<a id="pgfId-1035884"></a><em>Size factor to apply</em><a id="marker-1027386"></a>: In this field, specify (in microns) the value by which an overlap layer is to be increased. This option is enabled when the <em><a actuate="user" class="URL" href="../abstract/chap5.html#createoverlapboundary" show="replace" xml:link="simple">Create overlap boundary</a></em> option is set to <em>always</em> or <em>as needed</em>. The default values depend on the current bin. The default for the <em>Block</em> bin is <code>0.0</code>; the default for the <em>Core</em> bin is half the minimum separation defined for the <span class="webflare-courier-new" style="white-space:pre"><em>metal1</em></span> layer.<br />
<a id="pgfId-1028275"></a>You can use this option to ensure that the placement of cells with abutting overlap layers does not lead to geometry contained in these cells causing violations. <br />
<a id="pgfId-1063491"></a>You are most likely to need this option when computing the overlap layer for standard cells that are placed automatically and abutted in rows. Blocks are abutted only rarely and should not require you to use this option.</li><li>
<a id="pgfId-1063494"></a><em>Smooth factor to apply</em><a id="smoothfactor"></a><a id="marker-1063493"></a>: The value you specify in this field controls the shape of the overlap layer that is produced. This option is enabled when the <em><a actuate="user" class="URL" href="../abstract/chap5.html#createoverlapboundary" show="replace" xml:link="simple">Create overlap boundary</a></em> option is set to <em>always</em> or <em>as needed</em>. The default values depend on the current bin. The default for the <em>Block</em> bin is <code>100</code> microns; the default for the <em>Core</em> bin is <code>0</code>.<br />
<a id="pgfId-1028327"></a>You can use this option to create less complex overlap boundary shapes, typically when processing blocks. The value you supply is the maximum distance that you do not want to be cut out of the overlap layer. Abstract Generator takes the computed overlap boundary and removes any cut-outs with a maximum dimension less than the specified distance.</li></ul>





<h4>
<a id="pgfId-1035954"></a>Example</h4>

<p>
<a id="pgfId-1035955"></a>Consider the following block. The PR boundary has been indicated with a broken line (<code>--</code>), and the outline of the geometry has been shown using the backslash character (<code>\\\</code>). This area marked by the backslashes indicates the area of the cell that contains shapes on the layers that will be used to create the overlap layer. (This area would become the overlap layer if the <em>Smooth factor to apply</em> was set to <code>0</code>).</p>

<p>
<a id="pgfId-1065066"></a></p>
<div class="webflare-div-image">
<img src="images/Abstract_Overlap_Example1.gif" /></div>

<p>
<a id="pgfId-1025891"></a>When computing the overlap layer, it is likely that you want to retain the cut-out in the top left corner as free space. To do this, you must specify the value for the <em>Smooth factor to apply</em> option as <code>d</code>, where <code>d</code> is the distance in microns <em>slightly less</em> than the minimum dimension of the cut-out. Abstract Generator removes all other free space between the initial overlap boundary and the PR boundary but keeps the region in question.</p>

<p>
<a id="pgfId-1065090"></a></p>
<div class="webflare-div-image">
<img src="images/Abstract_Overlap_Example2.gif" /></div>
<h2>
<a id="pgfId-1031203"></a><a id="41913"></a><a id="55921"></a>Retaining Layout Information in the Abstract View</h2>

<p>
<a id="pgfId-1031204"></a>Abstract Generator allows you to save layout details along with the pin shapes and blockages in the final abstract generated. To retain the layout information, you can use the <code>AbstractRetainLayout</code> option of the <code>absAbstract</code> SKILL command.</p>
<p>
<a id="pgfId-1031205"></a><code>absSetBinOption(&#8220;Block&#8221; &#8220;AbstractRetainLayout&#8221; &#8220;true&#8221;)</code></p>
<p>
<a id="pgfId-1063642"></a>By default, the <code>AbstractRetainLayout</code> option is set to <code>false</code>, so the final abstract contains the adjusted pin shapes, blockages, and boundary based on the options specified. All other shapes or data in the layout cell-view is deleted.</p>
<p>
<a id="pgfId-1063643"></a>To include the layout information in the abstracts, set the <code>AbstractRetainLayout</code> option to <code>true</code>. The layout information along with the pin shapes and blockages will be written to the abstract view. You can change the name of the abstract view in the <em><a href="appA.html#47237"></a><h-hot>Views Tab</h-hot><em></em></em> of the <em>General options</em> dialog box (<em>File &#8211; General options)</em> by specifying the name in the <em>Abstract view name</em> field.</p>

<p>
<a id="pgfId-1065184"></a></p>
<div class="webflare-div-image">
<img src="images/Abstract_GeneralOptions.gif" /></div>

<p>
<a id="pgfId-1031215"></a>Alternatively, you can use the <code>absSetOption</code> SKILL command line to change the abstract view name.</p>
<p>
<a id="pgfId-1061262"></a><code>absSetOption(&#8220;ViewAbstract&#8221; &#8220;layout.pin&#8221;)</code></p>
<p>
<a id="pgfId-1061263"></a>You can use the <code>AbstractRetainLayout</code> option to create pins in your layouts so that they can be used in the Virtuoso&#174; XL layout editor environment. If you do not want blockages in these layouts, do not specify any layers in the <em><a actuate="user" class="URL" href="../abstract/chap5.html#layerassblockages" show="replace" xml:link="simple">Layer Assignment for Blockages</a></em> table on the <em>Blockage</em> tab of the Abstract step.</p>

<h2>
<a id="pgfId-1072818"></a><a id="54373"></a>Creating Fill Blockages Automatically on Specific Layers</h2>

<p>
<a id="pgfId-1073026"></a>All detailed or cover blockages created in Abstract Generator are exported under the <code>OBS</code> section and all fill blockages under the <code>DENSITY</code> section of an LEF file. However, you can create fill blockages automatically on specific layers based on the detailed blockages generated in Abstract Generator.</p>
<p>
<a id="pgfId-1073005"></a>By default, fill blockages are generated when the <em>Calculate metal density</em> option is turned on under the <em>Density</em> tab in the Abstract step. The following options can be set in the <code>abstract.replay</code> file or the <code>.abstract.options </code>file for creating fill blockages.</p>
<p>
<a id="pgfId-1072844"></a><code>absSetBinOption(&quot;Core&quot; &quot;AbstractDensity&quot; &quot;true&quot;)</code></p>
<p>
<a id="pgfId-1072845"></a><code>absSetBinOption(&quot;Core&quot; &quot;AbstractDensityLayers&quot; &quot;Metal1 Metal2 Metal3&quot;)</code></p>
<p>
<a id="pgfId-1072836"></a>You can use the <code>AbstractPostHook</code> function to automatically create fill blockages on specific layers. This function is triggered after the creation of the abstract view, and it uses the point lists of the detailed or cover blockages that are generated. The fill blockages are then created on layers as per the <code>LayersList</code> variable defined in the SKILL code. You can also change the <code>blockageType</code> option to create other blockages such as feedthru, slot, and screen in the abstract view.</p>
<p>
<a id="pgfId-1073111"></a><strong>Example:</strong> Type the following SKILL <code>AbstractPostHook</code> code at the <code>abstract</code> prompt.</p>

<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1073267"></a>procedure(AbstractPostHook(binName libName cellName abstractViewName)</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1073268"></a>let((cv LayersList blockageType RoutingBlockages)</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1073269"></a>cv = dbOpenCellViewByType(libName cellName abstractViewName &quot;maskLayout&quot; &quot;a&quot;)</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1073270"></a></pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1073271"></a>LayersList=list(&quot;Metal4&quot; &quot;DIOdummy&quot;)&#160;&#160; ;; change the list of layers on which extra blockages are to be created</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1073272"></a>blockageType=&quot;fill&quot;&#160;&#160;                  ;; Change the blockage type to any fill, screen, feedthru etc.</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1073273"></a></pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1073274"></a>RoutingBlockages=setof(x cv~&gt;blockages x~&gt;type==&quot;routing&quot;)</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1073275"></a></pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1073276"></a>foreach(blockage RoutingBlockages</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1073277"></a>    foreach(layer LayersList</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1073278"></a>            printf(&quot;Creating new Fill Blockage from layer = %s to layer = %s at %L\n&quot;</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1073279"></a>            blockage~&gt;layer layer blockage~&gt;points)</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1073280"></a>            dbCreateLayerBlockage(cv layer blockageType blockage~&gt;points)</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1073281"></a>    );foreach</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1073282"></a>);foreach</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1073283"></a>dbSave(cv)</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1073284"></a>dbClose(cv)</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1073285"></a>) ;let</pre>
<pre class="webflare-courier-new webflare-indent2 codeContent">
<a id="pgfId-1073455"></a>) ;procedure</pre>
<h2>
<a id="pgfId-1050873"></a><a id="busannotation"></a><a id="64301"></a>Bus Annotation in Abstract Generator</h2>

<p>
<a id="pgfId-1050874"></a>Bus Annotation for Abstract Generator improves the interoperability between Virtuoso and Innovus. User can directly import the library elements created inside Abstract Generator to Innovus.</p>
<p>
<a id="pgfId-1050875"></a>In OpenAccess, cellview data of a library element created by applications such as Abstract Generator (AG) usually consists of explicit scalar bits (A&lt;0&gt;, A&lt;1&gt;) corresponding to a vector bus terminal (A&lt;0:1&gt;). This is because pins and corresponding pinFigs have to be created on each bit with specified layer and shape for physical connectivity.</p>
<p>
<a id="pgfId-1050876"></a>However, when OA cellview of library element is used by applications like Innovus and verilog2oa, as shown in the following two figures, the order of bits on a bus, which can be either ascending (0:1) or descending (1:0), is important. This cannot be inferred from scalar bits present in the OA data of the library element.</p>

<p>
<a id="pgfId-1065239"></a></p>
<div class="webflare-div-image">
<img width="668" height="387" src="images/chap5-71.gif" /></div>

<p>
<a id="pgfId-1050881"></a>For this flow to work, run Verilog Annotate on the library elements before data is used in Innovus. The verilogAnnotate annotates the vector bus terminal information on the OA cellview of the library element. Running verilogAnnotate requires a corresponding interface definition in verilog format of the module corresponding to the library element. For each library element, a verilog stub file is created as described in the following figure. The verilog stub file is created from corresponding schematics and symbol definitions by using the<h-hot><a actuate="user" class="URL" href="../comphelp/appD.html#schViewToViewForm" show="replace" xml:link="simple"> Create &#8211; Cellview &#8211; From Cellview</a></h-hot> commands followed by Verilog Annotate. However, creating verilog stubs and running verilogAnnotate is a time consuming process.</p>

<p>
<a id="pgfId-1065287"></a></p>
<div class="webflare-div-image">
<img width="668" height="391" src="images/chap5-72.gif" /></div>

<p>
<a id="pgfId-1050887"></a>In Virtuoso XL, while creating an abstract, an input logical view option can be used to specify the symbol, schematic, verilog, or .liberty (.lib) from which bus definition is extracted. The vector terminal information is directly added to the OA cellview of the library element by the Abstract Generator engine and there is no need to generate the verilog stub file and run verilogAnnotate.</p>

<p>
<a id="pgfId-1050891"></a></p>
<div class="webflare-div-image">
<img width="668" height="357" src="images/chap5-73.gif" /></div>
<h2>
<a id="pgfId-1051107"></a><a id="51905"></a>Supporting EXCEPTPGNET LEF Attribute</h2>

<p>
<a id="pgfId-1051220"></a>The EXCEPTPGNET lef attribute is mapped to the OA attribute allowPGNet of oaLayerBlockage object. To support the EXCEPTPGNET LEF attribute in LEF5.8, the following bin specific option has been added in Abstract Generator.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1051221"></a>absSetBinOption( &quot;Core&quot; &quot;AbstractBlockageEXCEPTPGNET&quot; &quot;Metal1 Metal2&quot;)</pre>

<p>
<a id="pgfId-1051223"></a>When the AbstractBlockageEXCEPTPGNET option is set as specified in the above example, then all the blockages generated by Abstract on Metal1 and Metal2 will have EXCEPTPGNET lef attribute in the lef file.</p>
<p>
<a id="pgfId-1051124"></a>This option is set for the blocks that want to block routing on a given layer except for power and ground routing. This is usually true for analog or memory blocks that are sensitive to noise, and do not want to allow signal routing on the layers immediately above the block. However, the intention is to allow power routing on the layers.</p>

<h2>
<a id="pgfId-1051407"></a><a id="layoutdualview"></a><a id="31641"></a>Supporting Layout Dual View</h2>

<p>
<a id="pgfId-1053161"></a>A layout dual view contains both abstract and layout information. Innovus requires Abstract Generator to generate a partially annotated layout dual view. As a result, Abstract Generator annotates the required abstract information in the layout view and will not generate a separate abstract cellview. The following figure shows how a layout dual view is used in the Innovus flow.</p>
<p>
<a id="pgfId-1053169"></a></p>

<div class="webflare-div-image">
<img width="668" height="245" src="images/chap5-74.gif" /></div>

<p>
<a id="pgfId-1053162"></a>Each of the three run steps of Abstract Generator&#8212;Pins, Extract, and Abstract&#8212;can generate the layout dual view. However, you need to run only the Pins step because the antenna, extraction, and blockage information (generated by Extract and Abstract steps) is not required in the layout dual view. When you run the Pins step, Abstract Generator saves a valid view of pins along with the layout dual view so that the Pins view can be used by the Extract and Abstract steps, if required.</p>

<h3>
<a id="pgfId-1053341"></a>Advantages of Layout Dual View</h3>

<p>
<a id="pgfId-1053158"></a>The advantages of layout dual view are as follows:</p>
<ul><li>
<a id="pgfId-1052288"></a>Innovus no longer needs to maintain the abstract and layout views separately. This helps overcome the problem of maintaining two similar views for layouts that are under development.</li><li>
<a id="pgfId-1052289"></a>While routing, the router can directly use the layout dual view without the need to master and re-master the layout. This helps increase the productivity.</li></ul>


<h3>
<a id="pgfId-1052290"></a>Annotating Abstract Data in Layout Dual View</h3>

<p>
<a id="pgfId-1052291"></a>The abstract data that is annotated in the layout dual view is as follows.</p>
<ul><li>
<a id="pgfId-1052292"></a>prBoundary<br />
<a id="pgfId-1052571"></a>The prBoundary of the layout dual view is updated if it already exists in the layout view; otherwise, it is created based on the Create boundary options on the <em>Boundary</em> tab of Abstract Generator. To know more, refer to <a href="chap3.html#20153">Specifying the Creation of the PR Boundary</a>.</li><li>
<a id="pgfId-1052293"></a>cellType<br />
<a id="pgfId-1052583"></a>If the cellType is already specified for the layout, Abstract Generator does not modify the cellType in the layout dual view. If the cellType attribute is not specified, Abstract Generator automatically sets it depending on the bin in which the cell is processed. To know about the default behavior of Abstract Generator for specifying the cellType, refer to <a href="appA.html#75166">Distributing Cells Based on Type</a>.</li><li>
<a id="pgfId-1052294"></a>symmetry<br />
<a id="pgfId-1060577"></a>Abstract Generator uses the following sequence to determine the symmetry of the current cellview:<ul><li>
<a id="pgfId-1060579"></a>The <em>Symmetry Type</em> attribute in layout cellview is considered. For more information about setting this attribute, see <a actuate="user" class="URL" href="../vlehelp/appA.html#editCellviewPropForm" show="replace" xml:link="simple">Edit Cellview Properties Form</a>.</li><li>
<a id="pgfId-1060580"></a>If the <em>Symmetry Type</em> attribute is not set in layout cellview, then the property with the name <em>Symmetry</em> on layout cellview is considered.</li><li>
<a id="pgfId-1060581"></a>You can overwrite the above values by selecting a value in the <em>symmetry</em> field on the Cell Properties form. For more information about this form, see <a href="appA.html#75470">symmetry</a>.</li></ul></li><li>
<a id="pgfId-1052295"></a>timestamp<br />
<a id="pgfId-1052623"></a>The timestamp of the annotated abstract data is updated in the layout dual view. This is done to verify whether or not the abstract data in the layout dual view is up to date.</li><li>
<a id="pgfId-1052296"></a>Cover blockage<br />
<a id="pgfId-1052635"></a>The cover blockage is created for prBoundary in layout dual view with the value provided by the AbstractTopLayerCoverBlockage option.</li><li>
<a id="pgfId-1052297"></a><a id="35953"></a>Pin Annotation<br />
<a id="pgfId-1053485"></a>Abstract generator enables you to create pins from the text labels by using the Map text label to pins option in the Pins step. You can also create pins from the text labels by setting the PinsTextPinMap option, as follows:<br />
<a id="pgfId-1053486"></a>absSetBinOption(&#8220;Core&#8221; &#8220;PinsTextPinMap&#8221; &#8220;(M1 (M1 label))&#8221;)<br />
<a id="pgfId-1053568"></a>The new pins created by Abstract Generator based on the pin text label map are annotated in the layout dual view.<br />
<a id="pgfId-1053595"></a>If the layout has existing pins and pin text label map is set, only the new pins added by Abstract Generator are annotated in the layout dual view. If the layout has existing pins and pin text label map is not set, no new pins are created and the existing pins are preserved in the layout dual view. To know more about the pin options, refer to <a href="chap3.html#36318">Pins Step</a>.</li></ul>


















<h3>
<a id="pgfId-1052301"></a>Abstract Generator options for Layout Dual View</h3>

<p>
<a id="pgfId-1052302"></a>For generating the layout dual view, the following two new options have been added to Abstract Generator.</p>
<ul><li>
<a id="pgfId-1052303"></a>AnnotateLayoutDualView<br />
<a id="pgfId-1052694"></a>To enable Abstract Generator to generate the layout dual view, set the AnnotateLayoutDualView option to TRUE. If this option is set to TRUE, Abstract Generator annotates the abstract data in the layout view to generate the layout dual view. By default, this option is set to FALSE.<pre class="webflare-pre-block webflare-courier-new" id="#id1052304">
<a id="pgfId-1052304"></a>absSetOption(&#8220;AnnotateLayoutDualView&#8221; &#8220;true&#8221;)</pre></li><li>
<a id="pgfId-1052305"></a>AbstractTopLayerCoverBlockage <br />
<a id="pgfId-1052732"></a>This option specifies the top metal layer for cover blockage in the layout dual view. This new option has been added because the existing cover blockage options have different use model, which may lead to confusion. <pre class="webflare-pre-block webflare-courier-new" id="#id1052827">
<a id="pgfId-1052827"></a>absSetBinOption(&#8220;Core&#8221; AbstractTopLayerCoverBlockage&#8221; &#8220;Metal5&#8221;)</pre></li></ul>








<h2>
<a id="pgfId-1053791"></a><a id="96396"></a>Support for Co<a id="copyMSconstraint"></a>pying Mixed Signal Routing Constraints from Layout to Abstract View</h2>

<p>
<a id="pgfId-1054292"></a>In a layout design, you can create mixed signal routing constraints on a block using the Virtuoso Constraint Manager. However, when an abstract is created for a block from a layout design, the abstract view does not contain the constraint information of the block.</p>
<p>
<a id="pgfId-1053821"></a>Abstract Generator provides support for copying mixed signal routing constraints from the layout view to the abstract view. In this release, the following mixed signal routing constraints are supported.</p>
<ul><li>
<a id="pgfId-1054243"></a>ciDiffPairType</li><li>
<a id="pgfId-1054244"></a>ciShieldingType</li><li>
<a id="pgfId-1054245"></a>ciNetBusType</li><li>
<a id="pgfId-1054249"></a>ciSymmetryType</li><li>
<a id="pgfId-1054250"></a>ciProcessOverrideType</li><li>
<a id="pgfId-1054251"></a>ciMatchedLengthType</li></ul>





<p>
<a id="pgfId-1054223"></a>You can copy the option signal routing constraints from the layout view to the abstract view, either while a new abstract is being generated or to an existing abstract, as explained below:</p>
<ul><li>
<a id="pgfId-1053861"></a>Copying constraints to new abstracts during abstract generation<br />
<a id="pgfId-1053882"></a>To copy mixed signal routing constraints to the new abstracts that are created, set the <code>CopyMSRoutingConstraints</code> option to <code>TRUE</code>. For more information, see <a actuate="user" class="URL" href="../abstract/abstract_skill.html#copyconstraint" show="replace" xml:link="simple">CopyMSRoutingConstraint</a>.<br />
<a id="pgfId-1054389"></a>In addition, for a constraint to be copied to the abstract view, the following three conditions must be satisfied:<ul><li>
<a id="pgfId-1053891"></a>The routing constraints must be present in the top-level layout view</li><li>
<a id="pgfId-1054814"></a>The routing constraint must be present in a net that is part of the abstract </li><li>
<a id="pgfId-1054815"></a>The routing constraint must have the Hierarchical Scope attribute set to &#8216;above&#8217;<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1054947"></a> Hierarchical scope is an attribute of a routing constraint that can have the following values: local, below, and above. The value &#8216;local&#8217; is always set for a routing constraint.</div><div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1054949"></a>
By default, the value of the Hierarchical scope attribute is set to local. Therefore, ensure that you set it to above before you create the abstract from the layout. </div></li></ul></li><li>
<a id="pgfId-1054118"></a>Copying constraints to existing abstracts without regenerating the abstracts<br />
<a id="pgfId-1054131"></a>You can add mixed signal routing constraints to existing abstracts in VLS XL and VLS GXL. To add constraints, open the existing abstract view in the Virtuoso Layout window and use one of the following methods:<ul><li>
<a id="pgfId-1054501"></a>Load the constraints from the specified connectivity source view by choosing <em>Connectivity &#8211; Update &#8211; Layout Constraints. </em><a actuate="user" class="URL" href="../vxlhelp/chap10.html#firstpage" show="replace" xml:link="simple">For more information, refer to </a>Updating Layout Constraints in the Virtuoso Layout Suite XL User Guide.</li><li>
<a id="pgfId-1054783"></a>Copy the constraints from a layout view by using the <em>Load Physical View</em> command. For more information, refer to <a actuate="user" class="URL" href="../vxlhelp/appD.html#loadPhysicalView" show="replace" xml:link="simple">Load Physical View</a> in the Virtuoso Layout Suite XL User Guide.</li><li>
<a id="pgfId-1054750"></a>Add constraints to an existing abstract by using the Routing constraints available in the Constraint Creation list in the Constraint Manager. For more information, refer to <a actuate="user" class="URL" href="../constraints/chap1.html#firstpage" show="replace" xml:link="simple">Constraint Manager Assistant</a> in the <em>Virtuoso Unified Custom Constraints User Guide.</em></li></ul></li></ul>















<h2>
<a id="pgfId-1065937"></a><a id="28821"></a>Suppressing Messages Issued by Abstract Generator</h2>

<p>
<a id="pgfId-1065962"></a>Use the <code>suppressMessage</code> option to suppress INFO and WARNING messages issued by Abstract Generator. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1065964"></a>absSetOption(suppressMessage &lt;id1&gt; &lt;id2&gt; &lt;id3&gt; &#8230;)</pre>

<p>
<a id="pgfId-1065958"></a>This option suppresses the messages with the mentioned message IDs. ERROR messages are not suppressed. If any ERROR message ID is mentioned in <code>suppressMessage</code>, then a warning is issued stating that this is an ERROR message and will not be suppressed. For every suppressed message, an INFO message is displayed that this message is suppressed and will not be shown. This INFO message is displayed only once. At the end of the Abstract step, a table shows the messages that have been suppressed in the current run, and this information is displayed for every cell.</p>
<p>
<a id="pgfId-1066018"></a>For more information about messages issued by Abstract Generator, see <a href="appD.html#28574">Abstract Generator Error and Warning Messages</a>.</p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="chap4.html" id="prev" title="Extract Step">Extract Step</a></em></b><b><em><a href="iAG.html" id="nex" title="Integrated Abstract Generator">Integrated Abstract Generator</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2020, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>