
<html><head><title>Pins Step</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="umap" />
<meta name="CreateDate" content="2020-08-16" />
<meta name="CreateTime" content="1597635233" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the Virtuoso Abstract Generator that you can use to create abstracts from layout data." />
<meta name="DocTitle" content="Virtuoso Abstract Generator User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Pins Step" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.2.1" />
<meta name="Keyword" content="abstract" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2020-08-16" />
<meta name="ModifiedTime" content="1597635233" />
<meta name="NextFile" content="chap4.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Layout" />
<meta name="PrevFile" content="chap2.html" />
<meta name="c_product" content="Virtuoso Layout Suite" />
<meta name="Product" content="Virtuoso Layout Suite" />
<meta name="ProductFamily" content="Virtuoso Layout Suite" />
<meta name="ProductVersion" content="ICADVM20.1" />
<meta name="RightsManagement" content="Copyright 2012-2020 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Abstract Generator User Guide -- Pins Step" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="ICADVM20.1" />
<meta name="SpaceKey" content="abstractICADVM201" />
<meta name="webflare-version" content="2.0" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="abstractTOC.html">Contents</a></li><li><a class="prev" href="chap2.html" title="Standalone Abstract Generator">Standalone Abstract Generator</a></li><li style="float: right;"><a class="viewPrint" href="abstract.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="chap4.html" title="Extract Step">Extract Step</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Abstract Generator User Guide<br />Product Version ICADVM20.1, October 2020</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>3
<a id="pgfId-1014264"></a></h1>
<h1>
<a id="pgfId-1014265"></a><hr />
<a id="36318"></a>Pin<a id="marker-1023270"></a>s Step<hr />
</h1>

<p>
<a id="pgfId-1022379"></a>This chapter describes the first step in the abstract generation process: the Pins step. Usually, no pins are explicitly defined in the layout view, so they have to be generated before you can continue the abstract generation process. Abstract Generator derives pins from the text labels in the layout view and places the locations at the text origins.</p>
<b>Note:</b><br />
<a id="pgfId-1029100"></a>
<ul><li>
<a id="pgfId-1022380"></a>Where there is a logical view present, Abstract Generator only creates pins that match logical view terminals.</li><li>
<a id="pgfId-1029381"></a>Abstract Generator copies the placement status of the pins in the layout view to the abstract view. The supported placement states are <code>locked</code>, <code>placed</code>, <code>fixed</code>, <code>none</code>, and <code>unplaced</code>.</li><li>
<a id="pgfId-1029106"></a><a id="wsp"></a>Abstract Generator automatically detects shapes placed in width spacing pattern (WSP) regions and ignores these shapes while creating pins under labels and PR boundaries. </li></ul>


<p>
<a id="pgfId-1022381"></a>Abstract Generator provides a number of options that support a variety of layout and text mapping conventions. Options for mapping and for controlling the generation of pins are present on the <a href="chap3.html#89269">Map Tab</a>.</p>
<p>
<a id="pgfId-1022395"></a>Abstract Generator performs the following functions during the Pins step:</p>
<ul><li>
<a id="pgfId-1022396"></a>Maps text labels to terminal names and creates terminals</li><li>
<a id="pgfId-1022397"></a>Creates physical pin shapes corresponding to the geometry overlapping the text labels</li><li>
<a id="pgfId-1022398"></a>Creates the place-and-route boundary</li></ul>


<p>
<a id="pgfId-1022414"></a>To access the <em>Running step Pins</em> form, select one or more cells in the main window and click the <em>Pins</em> button. Alternatively, select <em>Flow &#8211; Pins</em>. This opens the <em>Running step Pins</em> form. You can select the options you need on this form and click the <em>Run</em> button. The <em>Percent Complete</em> message box reports the progress of the step.</p>
<p>
<a id="pgfId-1022415"></a>When the Pins step is complete, Abstract Generator places a symbol against the cell in the <em>Cell</em> pane to indicate the status of the Pins view that was created. For information about these icons, see <a href="chap2.html#33253">Viewing Status Information</a>.</p>
<p>
<a id="pgfId-1022419"></a>This chapter describes the following tabs on the <em>Running step Pins</em> form:</p>
<ul><li>
<a id="pgfId-1022423"></a><a href="chap3.html#89269">Map Tab</a></li><li>
<a id="pgfId-1022427"></a><a href="chap3.html#42025">Text Tab</a></li><li>
<a id="pgfId-1022432"></a><a href="chap3.html#27062">Boundary Tab</a><a id="17059"></a></li><li>
<a id="pgfId-1022749"></a><a href="chap3.html#90591">Blocks Tab</a></li></ul>



<p>
<a id="pgfId-1022750"></a>In the <em>Running step Pins</em> form, use the radio buttons on the left to navigate to the tab pages for the different steps and bins you are using.</p>
<p>
<a id="pgfId-1022438"></a>For information about other abstract generation steps, see the following:</p>
<ul><li>
<a id="pgfId-1022442"></a><a href="chap4.html#31602">Extract Step</a></li><li>
<a id="pgfId-1022446"></a><a href="chap5.html#46430">Abstract Step</a></li></ul>


<h2>
<a id="pgfId-1015845"></a><a id="25688"></a>Prepari<a id="marker-1019917"></a>ng for Abstract Generation</h2>

<p>
<a id="pgfId-1023176"></a>Before beginning with the abstract generation process, you might need to perform the following operations:</p>
<ul><li>
<a id="pgfId-1023180"></a>Open a library. (See <a href="appA.html#52832">Opening a Library</a>)</li><li>
<a id="pgfId-1023183"></a>Attach technology information. (See <a href="appA.html#72528">Attaching Technology Information to a Library</a>)</li><li>
<a id="pgfId-1019854"></a>Import layout information. (See <a href="appA.html#12772">Importing GDSII Information</a>)</li><li>
<a id="pgfId-1017554"></a>Import logical information. (See <a href="appA.html#58868">Importing Logical Data</a>)</li></ul>



<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1017562"></a>Not all of these procedures are compulsory; see individual procedure for details.</div>

<h2>
<a id="pgfId-1015866"></a><a id="MapOptions"></a><a id="89269"></a>Ma<a id="marker-1023319"></a>p <a id="marker-1023320"></a>Tab</h2>

<p>
<a id="pgfId-1020031"></a>To access the <em>Map</em> tab, select <em>Flow &#8211; Pins</em>. The <em>Map</em> tab is the first tab in the <em>Running step Pins</em> form.</p>

<p>
<a id="pgfId-1022002"></a></p>
<div class="webflare-div-image">
<img width="665" height="738" src="images/chap3-2.gif" /></div>

<p>
<a id="pgfId-1016865"></a>On the <em>Map</em> tab, you can specify the text labels to be used for creating starting pin shapes for each of the nets to be extracted. You can also specify the pins that are power, ground, clock, analog, or output pins.</p>
<p>
<a id="pgfId-1023103"></a>The following options on the <em>Map</em> tab let you control how Abstract Generator creates starting pin shapes for each of the nets to be extracted:</p>
<ul><li>
<a id="pgfId-1023104"></a><em>Map text labels to pins</em></li><li>
<a id="pgfId-1021672"></a><em>Power pin names</em></li><li>
<a id="pgfId-1021691"></a><em>Ground pin names</em></li><li>
<a id="pgfId-1021692"></a><em>Clock pin names</em></li><li>
<a id="pgfId-1021700"></a><em>Analog pin names</em></li><li>
<a id="pgfId-1021732"></a><em>Output pin names</em></li></ul>






<h3>
<a id="pgfId-1022232"></a><a id="26718"></a>Mapping Text <a id="marker-1021735"></a>Labels to Pins</h3>

<p>
<a id="pgfId-1017664"></a>In the <em>Map text labels to pins</em><a id="maptextlabelstopins"></a> field on the <em>Map</em> tab, you can specify the text labels in the layout view that are to be mapped to the pins on nets in the pins view. Specify the layer-purpose pairs based on which you want Abstract Generator to search for geometry of any given layer-purpose pair with a text label. The <em>Map text labels to pins</em> field is case-sensitive.</p>
<p>
<a id="pgfId-1019093"></a>The syntax is as follows:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1021627"></a><code>(textLPP1 geomLPP1 geomLPP2)<br />(textLPP2 geomLPP3 geomLPP4)</code></pre>
<p>
<a id="pgfId-1021628"></a>where,</p>
<ul><li>
<a id="pgfId-1022487"></a>The syntax of <code>textLPP</code> is either <code>(textLayer textPurpose)</code> or <code>textLayer</code>.</li><li>
<a id="pgfId-1023237"></a>The syntax of <code>geomLPP</code> is either <code>(geomLayer geomPurpose)</code> or <code>geomLayer</code>.</li></ul>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1023238"></a>If you specify only a layer name instead of a layer-purpose pair, Abstract Generator considers all the purposes on that layer excluding the ones specified in the <em><a href="appA.html#86484">Ignored Purpose(s)</a><em></em></em><em> </em>field on the <em>General</em> tab (<em>File &#8211; General Options</em>).</div>
<p>
<a id="pgfId-1023560"></a>For each statement, Abstract Generator first identifies all the text labels on the specified <code>textLPP</code>. Then, for each occurrence of a text label that overlaps a shape on the first <code>geomLPP</code>, it creates a pin of the same size as the shape on the metal layer overlapping the text label. This is depicted in the figure below. The text label <code>A</code> on <code>metal1 pin</code> overlaps the shape <code>S1</code> on <code>metal1 drawing</code>. So Abstract Generator creates the vertical <code>PinA</code>, which is of the same size as <code>S1</code>.</p>

<p>
<a id="pgfId-1023552"></a></p>
<div class="webflare-div-image">
<img width="506" height="289" src="images/chap3-3.gif" /></div>

<p>
<a id="pgfId-1023712"></a>In case the text label overlaps more than one shape, Abstract Generator creates a single merged pin for the overlapped shapes. As shown in the figure below, the text label <code>A</code> overlaps two intersecting shapes <code>S1</code> and <code>S2</code>. In this case, Abstract Generator merges the vertical and horizontal pin shapes and creates the single L-shaped <code>PinA</code>, which is cornered at left.</p>

<p>
<a id="pgfId-1023726"></a></p>
<div class="webflare-div-image">
<img width="505" height="289" src="images/chap3-4.gif" /></div>

<p>
<a id="pgfId-1023713"></a>Furthermore, Abstract Generator creates pins for all the text labels with the same name, irrespective of whether a shape has already been made into a pin by a previously evaluated text label. It also merges the overlapping pin shapes generated from the text labels with the same name. This is illustrated in the figure below where another text label with the same name <code>A</code> overlaps the shapes <code>S2</code> and <code>s3</code>. Even though Abstract Generator already created a pin on <code>S2</code> from the first text label <code>A</code>, it creates another pin shape from the overlap of the second text label <code>A</code> with the shapes <code>S2</code> and <code>S3</code>. The overlapping pin shapes in this situation result in a single merged U-shaped <code>PinA</code>.</p>

<p>
<a id="pgfId-1024021"></a></p>
<div class="webflare-div-image">
<img width="637" height="289" src="images/chap3-5.gif" /></div>

<p>
<a id="pgfId-1023714"></a>Abstract Generator proceeds in the similar manner for all other text labels on <code>textLPP</code>. The order in which Abstract Generator analyzes shapes is from the first specified <code>geomLPP</code> to the next.</p>
<p>
<a id="pgfId-1014842"></a>Consider the following examples as the text that can be specified in the<em> Map text labels to pins</em> field:</p>
<ul><li>
<a id="pgfId-1022066"></a><code>(textLayer (metal1 drawing) (metal2 drawing))</code><br />
<a id="pgfId-1022067"></a>This means that text labels on <code>textLayer</code> for all purposes except the ignored purpose(s) are mapped first to shapes on layer <code>metal1</code> purpose <code>drawing</code> and then to shapes on layer-purpose pair <code>metal2 drawing</code>.</li><li>
<a id="pgfId-1020420"></a><code>(textLayer metal1) (textLayer metal2)</code><br />
<a id="pgfId-1022076"></a>This means that labels on <code>textLayer</code> for all purposes except the ignored purpose(s) are mapped first to shapes on <code>metal1</code> excluding the ignored purpose(s). Then, in a second pass, Abstract Generator maps labels on <code>textLayer</code> to shapes on <code>metal2</code> excluding the ignored purpose(s).<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1020453"></a>To do this, Abstract Generator takes the first mapping, <code>(textLayer metal1)</code>, and creates appropriate pins on the <code>metal1</code> layer. If there are text labels overlapping <code>metal2</code> shapes, they are not matched by this rule and Abstract Generator issues a number of <a href="appD.html#21728">ABS-12006</a> warnings informing you about labels that could not be mapped to pins. These labels are picked up in the second pass.</div></li></ul>




<p>
<a id="pgfId-1020890"></a>Unless there are terminals already present, you must specify a value in the <em>Map text labels to pins</em> field to generate a valid pins view. If you leave the field empty, Abstract Generator does not generate pins in the abstract view and the warning message <a href="appD.html#37583">ABS-12004</a> is displayed. To generate these pins, specify valid values in the <em>Map text labels to pins field</em>, and rerun the Pins step.</p>

<h4>
<a id="pgfId-1017796"></a><a id="62133"></a>Running the Pins Step for Routed Blocks</h4>

<p>
<a id="pgfId-1017797"></a>You do not need to specify a value in the <em>Map text labels to pins</em> field when running the Pins step on routed blocks.</p>
<p>
<a id="pgfId-1022358"></a>Routed blocks already have terminals, so Abstract Generator does not create any new terminals. If the existing terminals have physical pins, as is usually the case with signal nets, these are retained in the Pins step.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1023385"></a>If these pins are not on valid LEF layers, Abstract Generator deletes these pins after generating the <a href="appD.html#97441">ABS-12023</a> message.</div>
<p>
<a id="pgfId-1023383"></a>Otherwise, all the routed shapes attached to the net are turned into pins on the net. This is the case with power nets, which usually have terminals but no physical pins.</p>

<h4>
<a id="pgfId-1022359"></a><a id="36593"></a>Writ<a id="marker-1022363"></a>ing Regular Expressions</h4>

<p>
<a id="pgfId-1024686"></a>All fields in which you specify power, ground, output, analog, and clock pin names accept regular expressions. The pin name in question is formed from the subset of the label text that matches the regular expression you enter.</p>
<p>
<a id="pgfId-1024688"></a>Consider the following examples:</p>
<ul><li>
<a id="pgfId-1022265"></a>To create power pins <em>only</em> from labels that match the string <code>VDD</code>, specify the following power pin name regular expression:<br />
<a id="pgfId-1022266"></a><code>^VDD$</code><br />
<a id="pgfId-1022267"></a>The <code>^</code> matches the beginning of a string; the <code>$</code> matches the end of a string. Therefore, only strings containing the <code>VDD</code> match the regular expression.</li><li>
<a id="pgfId-1022268"></a>To create a pin name that is identical to a label text containing the string <code>VDD</code> anywhere, specify <code>.*VDD.*</code> as the regular expression. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1022269"></a>In regular expressions, <code>.*</code> matches any sequence of characters.</div><div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1022273"></a>
Abstract Generator does not check the regular expression you enter against any syntax rules. To ensure that you construct the regular expressions correctly, see <a href="appC.html#46386">Appendix D, &#8220;Using Regular Expressions in Abstract Generator&#8221;</a>.</div></li></ul>






<h3>
<a id="pgfId-1022258"></a><a id="20401"></a>Specifying Pin Names</h3>

<p>
<a id="pgfId-1021754"></a>You specify the pin names in the <em>Power pin names</em>, <em>Ground pin names</em>, <em>Clock pin names</em>, <em>Analog pin names</em>, and <em>Output pin names</em> fields. Abstract Generator identifies the respective pin names based on the label strings in the abstract.</p>
<p>
<a id="pgfId-1021791"></a>You can specify a list of possible names for the pins in the form of regular expressions, each separated by a space, as shown in the figure below.</p>

<p>
<a id="pgfId-1022112"></a></p>
<div class="webflare-div-image">
<img width="667" height="99" src="images/chap3-7.gif" /></div>

<p>
<a id="pgfId-1021801"></a>By default, the <em>Clock pin names</em>, <em>Analog pin names</em>, and <em>Output pin names</em> fields are empty.</p>
<p>
<a id="pgfId-1022205"></a>When Abstract Generator encounters a label that matches one of the regular expressions, it sets properties as given in the table below. In addition, Abstract Generator adds attributes for the pin in question to the LEF definition.</p>

<p>
<a id="pgfId-1021811"></a></p>
<table class="webflareTable" id="#id1021812">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1022122">
<a id="pgfId-1022122"></a>Pin</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1021814">
<a id="pgfId-1021814"></a>Terminal Direction</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1021816">
<a id="pgfId-1021816"></a>Terminal Type</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1021818">
<a id="pgfId-1021818"></a>Attribute Added for LEF PIN in the LEF File</span>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1022124"></a>Power pin</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021820"></a><code>inputOutput</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021822"></a><code>power</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021824"></a><code>USE</code> <code>POWER</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1022126"></a>Ground pin</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021848"></a><code>inputOutput</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021850"></a><code>ground</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021852"></a><code>USE</code> <code>GROUND</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1022128"></a>Clock pin</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021871"></a><code>input</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021873"></a><code>clock</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021875"></a><code>USE</code> <code>CLOCK</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1022130"></a>Analog pin</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021902"></a><code>input</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021904"></a><code>analog</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021906"></a><code>USE</code> <code>ANALOG</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1022175"></a>Output pin</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1022183"></a><code>output</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1022187"></a><code>signal</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1022191"></a><code>USE</code> <code>OUTPUT</code></p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1022757"></a>If there is a logical view present for the cell being processed, Abstract Generator checks whether a given terminal has a matching terminal in the logical view. If it does, the terminal direction is adopted from the terminal in the logical view. Otherwise, Abstract Generator uses the value specified in the <em>Output pin names</em> field to determine the output pins.</p>

<h3>
<a id="pgfId-1023360"></a>Excluding Existing Terminals</h3>

<p>
<a id="pgfId-1023361"></a>In the <em>Exclude existing terminals</em><a id="excludeterminals"></a> field, you can specify a list of existing terminals that you want Abstract Generator to ignore. You can specify the terminal names in the form of regular expressions and separate the terminal names in the list by using blank spaces. To ignore all the terminal names, type <code>.*</code>.</p>
<p>
<a id="pgfId-1023362"></a>Abstract Generator will remove the specified terminals. In addition, Abstract Generator will create the deleted terminals afresh from the equivalent text labels existing in the layout. Abstract Generator will issue the warning message <a href="appD.html#25158">ABS-12022</a> if a deleted terminal is not created from a text label existing in the layout.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1023366"></a>The new terminal created by Abstract Generator will not inherit any attributes or properties from the equivalent deleted terminal.</div>
<p>
<a id="pgfId-1023367"></a>By default, the <em>Exclude existing terminals</em> field is empty.</p>

<h3>
<a id="pgfId-1024462"></a>Excluding Existing Pins</h3>

<p>
<a id="pgfId-1024463"></a>In the <em>Exclude existing pins on layers </em>field, you can specify a list of layers on which you want Abstract Generator to ignore the existing pins. You can specify the layer names as a list by separating the individual layer names using blank spaces.</p>
<p>
<a id="pgfId-1024464"></a>Abstract Generator will remove all the pins on the specified layers. If Abstract Generator comes across terminals that do not have any pins, it will issue the warning message <a href="appD.html#89079">ABS-12027</a> and remove those terminals. Next, Abstract Generator will recreate the deleted pins and any of the deleted terminals afresh from the equivalent text labels existing in the layout.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1024468"></a>The new pins (and terminals) created by Abstract Generator will not inherit any attributes or properties from the equivalent deleted pins.</div>
<p>
<a id="pgfId-1024469"></a>By default, the <em>Exclude existing pins on layers </em>field is blank.</p>

<h2>
<a id="pgfId-1022547"></a><a id="42025"></a>T<a id="TextOptions"></a>ext <a id="marker-1022546"></a>Ta<a id="marker-1023321"></a>b</h2>

<p>
<a id="pgfId-1022579"></a>To access the <em>Text</em> tab, select <em>Flow &#8211; Pins</em>. Then, click the <em>Text</em> tab in the <em>Running step Pins</em> form.</p>

<p>
<a id="pgfId-1022584"></a></p>
<div class="webflare-div-image">
<img width="668" height="350" src="images/chap3-8.gif" /></div>

<p>
<a id="pgfId-1023036"></a>The text tab allows you to change the name of the pins created in the Pins view from the original value in the layout. For example, the expression &#8220;<code>\\.extra.*</code>&#8221; would create a pin of VDD from a text label of VDD.extra1. by specifying the appropriate rule on the <em>Text</em> tab.</p>

<h3>
<a id="pgfId-1022286"></a><a id="71380"></a>Specifying the Search Depth</h3>

<p>
<a id="pgfId-1022329"></a>The following fields on the <em>Text</em> tab allow you to specify the search depth for labels and geometries:</p>
<ul><li>
<a id="pgfId-1022330"></a><em>Label search depth</em>: Controls how far down the design hierarchy does Abstract Generator search for text labels during text-to-pin mapping. The default value is <code>0</code>.<br />
<a id="pgfId-1022644"></a>This means that Abstract Generator only looks at text labels in the top level of the hierarchy and so only those labels could be used to create starting pin shapes for the extractor.<br />
<a id="pgfId-1022645"></a>Sometimes, the layout can be created with labels deeper in the hierarchy. If this is the case, you can change this setting accordingly. It is, however, recommended that you do not change this value unless absolutely necessary. There are often many labels at lower hierarchy levels that are <em>not</em> intended to become pins in the top level of the abstract.</li><li>
<a id="pgfId-1022630"></a><em>Geometry search depth</em>: Controls how far down the design hierarchy does Abstract Generator search for metal underneath a text label. The default value is <code>20</code>.<br />
<a id="pgfId-1022656"></a>However, if you know that the metal shapes that you want to map to are located at the top of the hierarchy, you can set the option appropriately. This should speed up processing time in the Pins step because only top level shapes will be stored in the geometry cache.</li></ul>





<h3>
<a id="pgfId-1018301"></a><a id="marker-1019934"></a>Manip<a id="TextManipulation"></a>ulating <a id="12956"></a>Text Labels</h3>

<p>
<a id="pgfId-1021062"></a>Text labels often include special text at the end of the label that is not required for pin naming. Use the <em>Text Manipulation</em> table to ensure that the pin names created during the Pins step match the logical pin names. The function uses regular expressions to locate unnecessary text in labels and either removes it completely or replaces it with the text you require.</p>
<p>
<a id="pgfId-1018646"></a>In the <em>Text Manipulation</em> table, you specify the expression to be replaced in the <em>Remove Text</em> column and the text to replace with in the <em>Replace With</em> column. The use of these columns is further described below.</p>
<ul><li>
<a id="pgfId-1021070"></a><em>Remove Text</em><br />
<a id="pgfId-1021071"></a>Use this field to specify a regular expression representing the pin label text that you are searching.<ul><li>
<a id="pgfId-1021072"></a><code>\\.extra.*</code><br />
<a id="pgfId-1021073"></a>Specifies that &#8220;<code>.extra.</code>&#8221; followed by any other character(s) (represented by <code>*</code>) is to be removed. For example, <code>VDD.extra1</code>, <code>VDD.extra2... VDD.extra20</code>, and so on are all converted to <code>VDD</code> if the <em>Replace With</em> field is left blank.</li><li>
<a id="pgfId-1021074"></a><code>:.</code><br />
<a id="pgfId-1021075"></a>Specifies that &#8220;<code>:.</code>&#8221; followed by any other character(s) is to be removed. For example, <code>VDD:P</code> and <code>VDD:Fred</code> are both converted to <code>VDD</code> if the <em>Replace With</em> field is left blank.</li><li>
<a id="pgfId-1021076"></a><code>\(([0-9]+)\)</code>and <code>\[([0-9]+)\]</code><br />
<a id="pgfId-1026100"></a>Specifies that the characters <code>(</code> and <code>[</code> are to be converted to &lt; and the characters <code>)</code> and <code>]</code> are to be converted to <code>&gt;</code>.<br />
<a id="pgfId-1026101"></a>The <em>Replace With</em> field displays <code>&lt;\1&gt;</code> in both cases, where <code>\1</code> indicates that the <em>Replace With</em> text is the first expression matched in parentheses.</li></ul></li><li>
<a id="pgfId-1021079"></a><em>Replace With</em><br />
<a id="pgfId-1021080"></a>Contains the replacement text for the <em>Remove Text</em> option. The replacement regular expression text is applied to all matching instances.</li></ul>












<p>
<a id="pgfId-1023259"></a>The following buttons below the <em>Text Manipulation</em> table help to work with the table:</p>
<ul><li>
<a id="pgfId-1021081"></a><em>Add</em><br />
<a id="pgfId-1021082"></a>Adds a new row to the table.</li><li>
<a id="pgfId-1021083"></a><em>Remove</em><br />
<a id="pgfId-1021084"></a>Deletes the selected rows from the table.</li></ul>



<p>
<a id="pgfId-1021085"></a><strong>Example</strong></p>
<p>
<a id="pgfId-1021086"></a>To change parenthesis, <code>(),</code> to angle brackets, <code>&lt;&gt;,</code> for the label <code>(Y)</code>, enter the following in the <em>Text Manipulation</em> fields.</p>

<p>
<a id="pgfId-1021106"></a></p>
<table class="webflareTable" id="#id1021087">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1021089">
<a id="pgfId-1021089"></a>Remove Text...</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1021091">
<a id="pgfId-1021091"></a>Replace with...</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1021093">
<a id="pgfId-1021093"></a>Result</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021095"></a><code>\(</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021097"></a><code>&lt;</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021099"></a><code>&lt;Y)</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021101"></a><code>\)</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021103"></a><code>&gt;</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1021105"></a><code>&lt;Y&gt;</code></p>
</td>
</tr>
</tbody></table>
<h3>
<a id="pgfId-1021265"></a>Generating Additional Pins from Labels</h3>

<p>
<a id="pgfId-1025570"></a>Set the <code>PinsFromTextForExistingPins</code> option to true to generate additional pins from labels, even if the corresponding net has existing pins in layout. For information about how to set this option, see <a href="../abstract/abstract_skill.html#PinsFromTextForExistingPins">PinsFromTextForExistingPins</a>.</p>

<h3>
<a id="pgfId-1025547"></a>Prese<a id="marker-1021280"></a>rving Tex<a id="PreserveTextLabels"></a>t Labels from the Layout View</h3>

<p>
<a id="pgfId-1021291"></a>If you select the <em>Preserve text labels</em> option in the <em>Running step Pins</em> form, all existing pins in the layout, along with their labels, irrespective of whether the pins were created by Abstract Generator, are retained during the Abstract step. This option is selected by default.</p>
<p>
<a id="pgfId-1025397"></a>Alternatively, you can use the <code>PinsTextPreserveLabels</code> option to preserve pins and their labels.</p>
<p>
<a id="pgfId-1025385"></a><code>absSetBinOption(&quot;Core&quot; &quot;PinsTextPreserveLabels&quot;&quot;true&quot;)</code></p>
<p>
<a id="pgfId-1025510"></a>Ensure that the layer of the text label is included in <code>PinsTextPinMap</code>. For more information about <code>PinsTextPinMap</code>, see <a href="chap5.html#35953">Pin Annotation</a>.</p>

<h3>
<a id="pgfId-1026582"></a>Restricting Pins to the PR Boundary</h3>

<p>
<a id="pgfId-1026583"></a>The state of the <em>Restrict Pins to PR Boundary</em> option controls the geometry of N-Well pins created during the abstract generation process. If selected, the size of N-Well pins is restricted to the PRBoundary. For more information, see <a href="chap3.html#68850">Creating N-Well and P-Well Pins</a>.</p>

<h2>
<a id="pgfId-1026588"></a><a id="27062"></a>B<a id="marker-1026585"></a>oun<a id="BoundaryOptions"></a>dary <a id="marker-1026587"></a>Tab</h2>

<p>
<a id="pgfId-1022016"></a>To access the <em>Boundary</em> tab, select Flow &#8211; Pins, then click the <em>Boundary</em> tab in the <em>Running step Pins</em> form.</p>

<p>
<a id="pgfId-1022025"></a></p>
<div class="webflare-div-image">
<img width="667" height="425" src="images/chap3-9.gif" /></div>

<p>
<a id="pgfId-1017254"></a>The options in the <em>Boundary</em> tab control the calculation of the place-and-route (PR) boundary, which defines the size of a single cell or block.</p>
<p>
<a id="pgfId-1015464"></a>In addition to specifying whether or not the PR boundary is to be created, you can specify the layers to be used for calculating the PR boundary and the details for adjusting or fixing the size of the calculated boundary.</p>

<h3>
<a id="pgfId-1015487"></a>Specifying the <a id="20153"></a>Creation of the PR Bo<a id="marker-1019936"></a>undary</h3>
<p>
<a id="pgfId-1020994"></a>You can specify whether Abstract Generator is to create a PR boundary by choosing one of the values from <em>always</em>, <em>as needed</em>, and <em>off</em> from the <em>Create boundary</em> cyclic field. The new boundary is created as an OA <code>prBoundary</code> object. When checking for the existence of a PR boundary, Abstract Generator looks for a PR boundary object. If the PR boundary object is not found, then Abstract Generator searches for the shapes on layer <code>prBoundary</code> and purpose <code>boundary</code>. </p>

<ul><li>
<a id="pgfId-1024533"></a><em>always</em>: With this option, Abstract Generator always creates a PR boundary after deleting any already existing PR boundary. For this, it looks for PR boundary object, deletes it, and then creates the new PR boundary object.</li><li>
<a id="pgfId-1025224"></a><em>as needed</em>: With this option, Abstract Generator first checks whether a PR boundary exists. It creates a PR boundary only if no PR boundary already exists, for which it searches for PR boundary object in layout.</li><li>
<a id="pgfId-1025225"></a><em>off</em>: In this case, Abstract Generator never creates a PR boundary, though it checks whether or not a PR boundary exists and reports an error if there is no PR boundary in the layout (unless the <em><a actuate="user" class="URL" href="../abstract/chap3.html#FixBoundaryTo" show="replace" xml:link="simple">Fix Boundary To</a></em> options are specified).</li></ul>


<p>
<a id="pgfId-1024598"></a>Abstract Generator creates a rectangular PR boundary in the case of both <em>always</em> and <em>as needed</em> options. To obtain a rectilinear PR boundary, you can use the <code>PinsCreatePolyPRB</code> option. For more details about using this option, see <a href="abstract_skill.html#49244">Abstract Generator SKILL Functions</a>.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1025233"></a>Abstract Generator creates an OA prBoundary during the Pins step itself and propagates it during the Extract and Abstract step.</div>

<h4>
<a id="pgfId-1024595"></a>Place and Route Boundary Shapes with the placementClass Property</h4>

<p>
<a id="pgfId-1022833"></a>PR boundary shapes, which have the <code>placementClass</code> property set, are considered by Abstract Generator to be <em>placement regions</em>. The <code>placementClass</code> property indicates that instances with a matching <code>placementClass</code> can be placed in the same placement regions.</p>
<p>
<a id="pgfId-1021259"></a>Abstract Generator ignores placement regions while determining whether a PR boundary exists. To enable Abstract Generator to correctly recognize a PR boundary, the instance must not have the <code>placementClass</code> property set.</p>

<h3>
<a id="pgfId-1021262"></a><a id="22718"></a>Specifying the Layers for PR Boundary Calculation</h3>

<p>
<a id="pgfId-1020971"></a>You can use the <em>Using geometry on layers</em><a id="pinboundrygeom"></a> field to specify the layers to be used to calculate the PR boundary. The boundary is drawn so that it encloses all the geometry found on these layers.</p>
<p>
<a id="pgfId-1019280"></a>For example,</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1019281"></a><code>metal1 (metal2 drawing)</code></pre>

<p>
<a id="pgfId-1019278"></a>This specifies all geometry on <code>metal1</code> all purposes except the ignored purposes and on <code>metal2</code> purpose <code>drawing</code> to be considered for PR boundary calculation.</p>

<h3>
<a id="pgfId-1021963"></a>Manipulating the <a id="marker-1023289"></a>Dimensions of the PR B<a id="marker-1021962"></a>oundary</h3>

<p>
<a id="pgfId-1022993"></a>The <em>Adjust Boundary By</em> section on the <em>Boundary</em> tab lets you increase or decrease the size of an existing or calculated PR boundary on one or more sides. To do this, specify the distance to be added to each boundary edge.</p>
<p>
<a id="pgfId-1022899"></a>For example, if you specify a positive number for the <em>Left</em> edge, the left boundary will be moved further to the left by that amount, that is, the lower left coordinate of the boundary will be decreased.</p>
<p>
<a id="pgfId-1022903"></a>The <em>Fix Boundary To</em><a id="FixBoundaryTo"></a> section lets you fix individual cell boundary edges to an absolute value. These values are applied to existing and calculated PR boundaries.</p>
<p>
<a id="pgfId-1023087"></a>For example, you have two cells in a bin one of which already has a boundary and the other does not. If you set the <em>Create boundary</em> option to <em>as needed</em> and specify <code>-15</code> in the <em>Bottom</em> field of the <em>Fix Boundary To</em> section, Abstract Generator will automatically calculate the boundary for the other cell and set the lower edge of both cells to <code>-15</code> μ.</p>

<h2>
<a id="pgfId-1023091"></a><a id="90591"></a>Blo<a id="BlocksOptions"></a>cks<a id="marker-1023090"></a> Ta<a id="marker-1023293"></a>b</h2>

<p>
<a id="pgfId-1019981"></a>To access the <em>Blocks</em> tab, select Flow &#8211; Pins, then click the <em>Blocks</em> tab in the <em>Running step Pins</em> form. The options on the <em>Blocks</em> tab are intended for use with any layout view that has existing routing. Typically, these will be routed blocks imported from DEF.</p>

<p>
<a id="pgfId-1018825"></a></p>
<div class="webflare-div-image">
<img width="667" height="259" src="images/chap3-10.gif" /></div>
<h3>
<a id="pgfId-1018832"></a><a id="46934"></a>Preserving Loc<a id="marker-1019940"></a>al Blockages in Routed Blocks</h3>

<p>
<a id="pgfId-1019999"></a>The <em>Preserve local blockages in routed blocks</em> option controls how Abstract Generator processes local blockages defined in the <code>BLOCKAGE</code> section in DEF 5.8. Local blockages do not have the <code>+PUSHDOWN</code>, <code>+FILL</code>, or <code>+SLOT</code> modifiers.</p>
<ul><li>
<a id="pgfId-1020000"></a>When unchecked, Abstract Generator removes any local blockages and proceeds as if they had never been specified in the DEF file.</li><li>
<a id="pgfId-1025010"></a>When checked, Abstract Generator preserves the local blockages along with their attributes for all the layers. The blockages along with their attributes are preserved from level 0 to level 32. The preserved layout blockages exists in the abstract view along with the other blockages generated in the abstract step. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1025253"></a>The layout blockages are not merged with the blockages generated in the abstract step and are separately maintained. This is done to enhance the performance. </div></li></ul>



<h3>
<a id="pgfId-1025257"></a>Creating <a id="marker-1025255"></a>Power Pins f<a id="marker-1025256"></a>rom Routing</h3>

<p>
<a id="pgfId-1023310"></a>The <em>Create power pins from routing</em> option controls whether pins are created from the routing defined in the <code>SPECIALNETS</code> section of the DEF file.</p>
<ul><li>
<a id="pgfId-1020004"></a>When unchecked, Abstract Generator creates pins only from the pin geometry defined in the <code>PINS</code> section of the DEF file. If there is no pin geometry, the routing is turned into pins instead.</li><li>
<a id="pgfId-1020005"></a>When checked, Abstract Generator creates pins from the routing defined in the <code>SPECIALNETS</code> section for the layers specified in the <em>Using geometry on layers</em> field. It does this even if there are pins already defined in the <code>PINS</code> section.</li></ul>

<p>
<a id="pgfId-1019968"></a>When creating pins, Abstract Generator ignores <code>FILLWIRE</code> and <code>SHIELD</code> net segments. It also creates pins in instances that are logically connected to the top-level nets.</p>

<h2>
<a id="pgfId-1025278"></a><a id="68850"></a>Creating N-W<a id="createNwellPwell"></a>ell and P-Well Pins</h2>

<p>
<a id="pgfId-1025279"></a>Abstract Generator supports the creation of N-Well and P-Well pins. During abstract generation, the tool recognizes the text labels for N-Well and P-Well shapes on the layout and creates corresponding physical pins.</p>

<h3>
<a id="pgfId-1025280"></a>N-Well Pins</h3>

<p>
<a id="pgfId-1025281"></a>To create N-Well pins, during the Pins step, you need to:</p>
<ul><li>
<a id="pgfId-1025282"></a>Define the geometric specification of N-Well shapes.<br />
<a id="pgfId-1025283"></a>Example: (Nwell (Nwell drawing))</li><li>
<a id="pgfId-1025284"></a>Create text labels for the N-Well pins.</li></ul>


<p>
<a id="pgfId-1025285"></a>During abstract generation, the tool identifies all text labels on the layout design. Then, it recognizes the shapes overlapping each text label and creates pins of the same size as the overlapping shape.</p>
<p>
<a id="pgfId-1025286"></a>Example:</p>
<p>
<a id="pgfId-1025290"></a></p>

<div class="webflare-div-image">
<img src="images/NWell_Pwell_Pins01.gif" /></div>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1025291"></a>If there is no Nwell shape overlapping the label, then no pin is created.</div>
<p>
<a id="pgfId-1025292"></a>For some designs, the N-Well shape boundary may exceed the PRBoundary. By default, Abstract Generator will create N-Well pins of the same size as the N-Well shape. The <a href="../abstract/abstract_skill.html#PinsRestrictToPRBndry">PinsRestrictToPRBndry</a> option enables you to limit the N-Well pin size to the PRBoundary. The default value is false.</p>
<p>
<a id="pgfId-1025297"></a></p>

<div class="webflare-div-image">
<img src="images/NWell_Pwell_Pins02.gif" /></div>
<h3>
<a id="pgfId-1025298"></a>P-Well Pins</h3>

<p>
<a id="pgfId-1025299"></a>To create P-Well pins, during the Pins step, you need to:</p>
<ul><li>
<a id="pgfId-1025300"></a>Define the geometric specification of the P-Well shapes.<br />
<a id="pgfId-1025301"></a>Example: (Pwell (Pwell drawing))</li><li>
<a id="pgfId-1025302"></a>Create text labels for the P-Well pins.</li></ul>


<p>
<a id="pgfId-1025303"></a>During abstract generation, the tool identifies all text labels on the layout design. Then, it recognizes the shapes overlapping each text label and creates P-Well pins of the size of the overlapping P-Well shapes.</p>
<p>
<a id="pgfId-1025307"></a></p>

<div class="webflare-div-image">
<img src="images/NWell_Pwell_Pins03.gif" /></div>

<p>
<a id="pgfId-1025308"></a>If there are no Pwell shapes overlapping a text label, then the size of the P-Well pin is calculated as follows:</p>
<p>
<a id="pgfId-1025309"></a>Area (P-Well Pin) = Area (PRBoundary) &#8211; Area (N-Well Pin)</p>
<p>
<a id="pgfId-1025310"></a>The Pwell pin is placed adjoining the Nwell pin.</p>
<p>
<a id="pgfId-1025716"></a></p>

<div class="webflare-div-image">
<img src="images/NWell_Pwell_Pins4.gif" /></div>
<h2>
<a id="pgfId-1025266"></a>Creating Multiple N-Well and P-Well Pins</h2>

<p>
<a id="pgfId-1025742"></a>To create multiple N-Well or P-Well pins, define the geometric specification of the shapes and then create text labels for the pins.</p>
<p class="webflare-indent1">
<a id="pgfId-1025743"></a>Examples:</p>
<p class="webflare-indent1">
<a id="pgfId-1025744"></a>Defining the geometric specification of the N-Well shapes: (Nwell (Nwell drawing))</p>
<p class="webflare-indent1">
<a id="pgfId-1025745"></a>Defining the geometric specification of the P-Well shapes: (Pwell (Pwell drawing))</p>

<p>
<a id="pgfId-1025734"></a></p>
<div class="webflare-div-image">
<img src="images/MultipleWells01.gif" /></div>

<p>
<a id="pgfId-1025791"></a>If there are no P-Well shapes under the P-Well label, then the P-Well pin are is calculated using the following formula:</p>
<p>
<a id="pgfId-1025792"></a>Pwellpin = TotalPrBoundary - NwellPin</p>

<p>
<a id="pgfId-1025783"></a></p>
<div class="webflare-div-image">
<img src="images/MultipleWells02.gif" /></div>

<p>
<a id="pgfId-1025819"></a>If an N-Well shape cuts the PrBoundary into multiple regions, then multiple P-Well pins are created.</p>

<p>
<a id="pgfId-1025842"></a></p>
<div class="webflare-div-image">
<img src="images/MultipleWells03.gif" /></div>

<p>
<a id="pgfId-1025883"></a>P-well pins are created only in the regions that have the P-well labels. Notice that a P-Well pin is not created in the middle region of the above example.</p>
<p>
<a id="pgfId-1025884"></a>If there are multiple P-Well labels at the same region, then a P-Well pin is created only for the first label, and a warning is displayed for the remaining labels.</p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="chap2.html" id="prev" title="Standalone Abstract Generator">Standalone Abstract Generator</a></em></b><b><em><a href="chap4.html" id="nex" title="Extract Step">Extract Step</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2020, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>