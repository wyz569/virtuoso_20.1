
<html><head><title>Running a Simulation</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="rgirdhar" />
<meta name="CreateDate" content="2020-08-20" />
<meta name="CreateTime" content="1597946049" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the Simulation Environment that allows users to run simulations from the graphical interface or from a command line." />
<meta name="DocTitle" content="Simulation Environment Help" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Running a Simulation" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.2.1" />
<meta name="Keyword" content="se" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2020-08-20" />
<meta name="ModifiedTime" content="1597946049" />
<meta name="NextFile" content="displayres.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="customnet.html" />
<meta name="c_product" content="Virtuoso Schematic Editor" />
<meta name="Product" content="Virtuoso Schematic Editor" />
<meta name="ProductFamily" content="Virtuoso Schematic Editor" />
<meta name="ProductVersion" content="ICADVM20.1" />
<meta name="RightsManagement" content="Copyright 2012-2020 Cadence Design Systems Inc." />
<meta name="Title" content="Simulation Environment Help -- Running a Simulation" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="ICADVM20.1" />
<meta name="SpaceKey" content="seICADVM201" />
<meta name="webflare-version" content="2.0" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="seTOC.html">Contents</a></li><li><a class="prev" href="customnet.html" title="Customizing Netlisting">Customizing Netlisting</a></li><li style="float: right;"><a class="viewPrint" href="se.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="displayres.html" title="Displaying Results">Displaying Results</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Simulation Environment Help<br />Product Version ICADVM20.1, October 2020</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>4
<a id="pgfId-791887"></a></h1>
<h1>
<a id="pgfId-791963"></a><hr />
<a id="13914"></a>Running a Simulation<hr />
</h1>

<p>
<a id="pgfId-791888"></a>In this chapter, you can find information about</p>
<ul><li>
<a id="pgfId-791971"></a><a href="runsim.html#20895">Choosing Simulation Run Options</a></li><li>
<a id="pgfId-791979"></a><a href="runsim.html#39249">Simulation in the Graphical Environment</a></li><li>
<a id="pgfId-791983"></a><a href="runsim.html#42100">Simulation in the UNIX Environment</a></li><li>
<a id="pgfId-792160"></a><a href="runsim.html#15055">Full Simulation</a></li><li>
<a id="pgfId-792172"></a><a href="runsim.html#15217">Simulation in Steps</a></li><li>
<a id="pgfId-791891"></a><a href="runsim.html#36009">Simulation in Batch Mode</a></li><li>
<a id="pgfId-791892"></a><a href="runsim.html#22159">Interactive Simulation</a></li></ul>






<p>
<a id="pgfId-795057"></a>For information on SE SKILL APIs, see the <em><a actuate="user" class="URL" href="../netlistsimulateref/netlistsimulaterefTOC.html#firstpage" show="replace" xml:link="simple">Digital Design Netlisting and Simulation SKILL Reference</a></em>. </p>

<h2>
<a id="pgfId-791640"></a>Choosing Simulation Run Options<a id="20895"></a></h2>

<p>
<a id="pgfId-789896"></a><a id="chooseopt"></a>You can <a id="marker-791494"></a>use the Options command before you run a simulation to specify whether the </p>
<ul><li>
<a id="pgfId-789899"></a>System creates a hierarchical or flat netlist</li><li>
<a id="pgfId-789900"></a>Simulation runs on a remote machine</li></ul>

<p>
<a id="pgfId-789911"></a>To specify the options you want for a simulation<a id="marker-791563"></a></p>
<ol><li>
<a id="pgfId-792261"></a>In the Schematic window, select <em>Simulation</em> &#8211; <em>Options</em><a id="marker-792260"></a>.</li><li>
<a id="pgfId-793695"></a>Set the options you want.<br />
<a id="pgfId-793702"></a><div class="webflare-div-image">
<img width="668" height="261" src="images/runsim-2.gif" /></div></li><li>
<a id="pgfId-793703"></a>Click <em>OK</em>.</li></ol>







<h2>
<a id="pgfId-791635"></a>Simulation in the Graphical Environment<a id="39249"></a></h2>

<p>
<a id="pgfId-789495"></a>To ge<a id="runsimgr"></a>nerate a netlist, run a simulation usin<a id="marker-791435"></a>g an existing netlist, or run a complete simulation after generating a new netlist</p>
<ol><li>
<a id="pgfId-788537"></a>In the Schematic window, select <em>Simulation</em> &#8211; <em>Netlist/Simulate</em><a id="marker-791438"></a>.<br />
<a id="pgfId-793716"></a>The following form appears:<br />
<a id="pgfId-793717"></a><div class="webflare-div-image">
<img width="668" height="323" src="images/runsim-3.gif" /></div>
<a id="pgfId-793719"></a>Most fields in this form are set to the values you specified with the <a href="initialize.html#init">Initialize command</a>. You can edit form fields by typing or by using the Browser.<br />
<a id="pgfId-788544"></a>You cannot change the <a href="initialize.html#simrundir">simulation run directory</a> by editing this form. To change this directory, click <em>Cancel</em> and select the <em>Initialize</em> command again. </li><li>
<a id="pgfId-790546"></a>Type in the values and select the options you want.</li><li>
<a id="pgfId-790551"></a>Click OK.<br />
<a id="pgfId-788573"></a>If you click <em>Cancel</em>, the simulation is not run.<br />
<a id="pgfId-788963"></a>When a background simulation is completed, a dialog box appears with the completion status of the simulation.</li></ol>











<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-788574"></a>You cannot run more than one simulation concurrently in the same run directory. If you attempt to do so, a dialog box tells you that a simulation is already running in the directory. You can terminate the currently running job and start a new job.</div>

<h2>
<a id="pgfId-791626"></a>Simulation in the UNIX Environment<a id="42100"></a></h2>

<p>
<a id="pgfId-788608"></a>To run a s<a id="runsimunix"></a>imula<a id="marker-789357"></a>tion in <a id="marker-789852"></a>the UNIX environment</p>
<ol><li>
<a id="pgfId-789318"></a>Change to the directory that contains the <code>cds.lib</code><a id="marker-791414"></a> file. (You can also specify the <code>cds.lib</code> file at the command line with the <em>-cdslib</em> option.)<br />
<a id="pgfId-791238"></a>The <code>cds.lib </code>file contains the library path to the design. If you invoke <em>si</em> in a directory that does not contain the <code>cds.lib </code>file, specify a fully-qualified path to the <code>cds.lib</code> file following the <em>-cdslib</em> option. <pre class="webflare-pre-block webflare-courier-new" id="#id791239">
<a id="pgfId-791239"></a><code>si /mnt/temp/spice.run1 -cdslib /mnt/dave/cds.lib</code></pre></li><li>
<a id="pgfId-788610"></a>Type the <em>si</em> command followed by the full system path to the <a href="initialize.html#simrundir">simulation run directory</a>. For example, if the path to your run directory is /mnt/temp/spice.run1, type<br /><pre class="webflare-pre-block webflare-courier-new" id="#id788611">
<a id="pgfId-788611"></a><code>si /mnt/temp/spice.run1</code><a id="marker-790252"></a><a id="sicommand"></a></pre>
<a id="pgfId-788621"></a>When the system has been initialized, SE displays a command prompt (&gt;).<br />
<a id="pgfId-793126"></a>You can type the si command, with any or both of two options, <code>noenv</code> and <code>difftest</code>. You use <code>noenv</code> if you do not want the environment file to be specified by si. In this case, the default environment file will be picked up by OSS. For example:<pre class="webflare-pre-block webflare-courier-new" id="#id793127">
<a id="pgfId-793127"></a>si -noenv </pre>
<a id="pgfId-793484"></a>You use the <code>difftest</code> option to strip off any date stamps that appear in the <code>si.log</code> file or in the standard output during netlisting. For example: <br />
<a id="pgfId-793509"></a>si -difftest -cdslib ./cds.lib -batch -command netlist<br />
<a id="pgfId-790287"></a>You can now type the SE commands to run any of these:<ul><li>
<a id="pgfId-790289"></a><a href="runsim.html#runsimunixfull">Full simulation</a></li><li>
<a id="pgfId-790291"></a><a href="runsim.html#runsimunixsteps">Simulation in steps</a></li><li>
<a id="pgfId-790293"></a><a href="runsim.html#batch">Simulation in batch mode</a></li></ul></li></ol>




















<h2>
<a id="pgfId-792206"></a><a id="15055"></a>Full Simulation</h2>

<p>
<a id="pgfId-792212"></a>Aft<a id="sim"></a>er y<hot />
<a id="runsimunixfull"></a>ou <h-hot><a href="runsim.html#runsimunix">start SE</a></h-hot>, you can use the <em>sim</em> command to run a full simulation automatically.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-788644"></a><code>&gt; </code><em></em><a id="marker-794903"></a><code>sim</code></pre>

<p>
<a id="pgfId-788645"></a>The <em>sim</em> command initializes simulation variables appropriate for your simulator (specified by the <h-hot><a href="../ossref/chap3.html#simsimulator">simSimulator variable</a></h-hot>) and runs SE commands in the following order:</p>
<ul><li>
<a id="pgfId-788991"></a><a href="runsim.html#siminitrundir">simInitRunDir</a> </li><li>
<a id="pgfId-788992"></a><a href="runsim.html#netlist">netlist</a> </li><li>
<a id="pgfId-788993"></a><a href="runsim.html#simin">simin</a> </li><li>
<a id="pgfId-788994"></a><a href="runsim.html#runsim">runsim</a> </li><li>
<a id="pgfId-788995"></a><a href="runsim.html#exit">exit</a></li></ul>





<h2>
<a id="pgfId-791616"></a><a id="15217"></a>Simulation in Steps</h2>

<p>
<a id="pgfId-790307"></a>Yo<a id="runsimunixsteps"></a>u can type the following commands to run a simulation in steps. Use these commands in the order listed below.</p>
<ul><li>
<a id="pgfId-790328"></a><a href="../ossref/chap3.html#siminitrundir">simInitRunDir</a> </li><li>
<a id="pgfId-790331"></a><a href="runsim.html#netlist">netlist</a> </li><li>
<a id="pgfId-790334"></a><a href="runsim.html#simin">simin</a> </li><li>
<a id="pgfId-790337"></a><a href="runsim.html#runsim">runsim</a> </li><li>
<a id="pgfId-790340"></a><a href="runsim.html#exit">exit</a> </li></ul>





<h3>
<a id="pgfId-790309"></a>sim<a id="siminitrundir"></a>InitRunDir</h3>

<p>
<a id="pgfId-788657"></a>The <code>simI</code><code>nitRunDir</code><a id="marker-794948"></a> command sets up your <h-hot><a href="initialize.html#simrundir">simulation run directory</a></h-hot>. It performs the following actions:</p>
<p>
<a id="pgfId-789022"></a>Copies a default <h-hot><a href="createstim.html#control">control file</a></h-hot> into the simulation run directory</p>
<ul><li>
<a id="pgfId-789025"></a>Generates a default input stimulus file</li></ul>
<p>
<a id="pgfId-789027"></a>Creates a waveform (<em>raw</em>) directory in the simulation run directory. </p>
<p>
<a id="pgfId-789030"></a>Each interface might have additional initialization procedures. Some interfaces create input files in addition to the basic <code>control</code> file.</p>

<h3>
<a id="pgfId-788659"></a>ne<a id="netlist"></a>tli<hot />
<a id="marker-791324"></a>st</h3>

<p>
<a id="pgfId-792222"></a>The <code>netlist</code> command produces a text description of the design specified by the <h-hot><a href="../ossref/chap3.html#simlibname">simLibName</a></h-hot>, <h-hot><a href="../ossref/chap3.html#simcellname">simCellName</a></h-hot>, and <h-hot><a href="../ossref/chap3.html#simviewname">simViewName</a></h-hot> variables in a file named netlist. The netlist file contains the elements, signals, models, and their interconnections in the format required by the target simulator.</p>

<h3>
<a id="pgfId-792237"></a>si<a id="simin"></a>min<a id="si.inp"></a></h3>

<p>
<a id="pgfId-792236"></a>The <code>simin</code> command translates names in the <h-hot><a href="createstim.html#control">control file</a></h-hot><a id="marker-794923"></a> from user-assigned names in your schematic to netlister-generated names acceptable to the target simulator. This function also merges all input stimulus and command files specified in the <code>control</code> file into the simulator input file <code>si.inp</code><em>.</em> You can only run this command if a netlist has already been generated.</p>

<h3>
<a id="pgfId-789101"></a><a id="marker-789100"></a>run<a id="runsim"></a>sim</h3>

<p>
<a id="pgfId-789019"></a>The <code>runsim</code> command runs the simulator. This command performs the following actions:</p>
<ul><li>
<a id="pgfId-789111"></a>Runs the specified simulator using the <a href="runsim.html#si.inp">si.inp file</a> as its input</li><li>
<a id="pgfId-789112"></a>Translates waveform output from the simulator to the Cadence Waveform Storage Format (if necessary)</li><li>
<a id="pgfId-789114"></a>Translates names in the text simulator output back to the user-assigned names in your design</li></ul>


<p>
<a id="pgfId-789115"></a>You can only use this command after running the <code>netlist</code> and <code>simin</code> commands to generate the simulator input files. </p>

<h3>
<a id="pgfId-791369"></a>e<hot />
<a id="marker-791367"></a>xit<a id="exit"></a></h3>

<p>
<a id="pgfId-791371"></a>Use the <code>exit</code> command to exit SE.</p>

<h2>
<a id="pgfId-791607"></a><a id="36009"></a>Simulation in Batch Mode</h2>

<p>
<a id="pgfId-788713"></a>Y<a id="batch"></a>ou can run <a id="marker-791561"></a>a sim<a id="marker-789397"></a>ulation in batch mode by starting the <h-hot><a href="runsim.html#sicommand">si program</a></h-hot> with the <code>-batch</code> option. <a id="marker-788714"></a></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-795112"></a><code>si -batch [</code><code><em>run_directory_name</em></code></pre>

<p>
<a id="pgfId-788716"></a>SE initializes the environment and runs the<h-hot><a href="runsim.html#sim"> sim command.</a></h-hot> The <code>sim</code> command automatically runs the following SE commands:</p>
<p class="webflare-indent1">
<a id="pgfId-788717"></a><a actuate="user" class="URL" href="../ossref/chap3.html#simcheckvariables" show="replace" xml:link="simple">simCheckVariables</a><a id="marker-789403"></a></p>
<p class="webflare-indent1">
<a id="pgfId-791483"></a><a href="runsim.html#siminitrundir">simInitRunDir</a></p>
<p class="webflare-indent1">
<a id="pgfId-791484"></a><a href="runsim.html#netlist">netlist</a></p>
<p class="webflare-indent1">
<a id="pgfId-791485"></a><a href="runsim.html#netlist">simin</a></p>
<p class="webflare-indent1">
<a id="pgfId-791486"></a><a href="runsim.html#runsim">runsim</a></p>
<p class="webflare-indent1">
<a id="pgfId-791487"></a><a href="runsim.html#exit">exit</a></p>
<p>
<a id="pgfId-788719"></a>For example, if your <h-hot><a href="initialize.html#simrundir">simulation run directory</a></h-hot> is <code>/mnt/dave/aluSimulations/silos.run1</code>, and you want to run a batch simulation with a log of events, enter the following command: </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-788720"></a><code>si -batch /mnt/dave/aluSimulations/silos.run1 &gt;&amp;<br />/mnt/dave/aluSimulations/silos.run1/si.log &amp; </code></pre>

<p>
<a id="pgfId-789279"></a>The <h-hot><a href="initialize.html#simrundir">simulation run directory</a></h-hot> must already exist and contain the <h-hot><a href="initialize.html#si.env">si.env file</a></h-hot>. Redirect the messages from SE into an <code>si.log </code>file in the simulation run directory so that you have a log of events during the run. This log is created automatically when you run simulations in the background from the Cadence graphical environment. </p>
<p>
<a id="pgfId-789280"></a>You can also run a single SE command in <h-hot><a href="runsim.html#batch">batch mode</a></h-hot> with the <code>-command</code> option.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-788723"></a><code>si -batch -command </code><code><em>command_name</em></code><code> </code><code><em>run_directory_name</em></code></pre>

<p>
<a id="pgfId-788724"></a>For example, if your run directory name is <code>/mnt2/deborah/spice.run1</code><em>,</em> and you want to generate a netlist, enter the following command:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-788727"></a><code>si -batch -command netlist /mnt2/deborah/spice.run1</code></pre>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-795230"></a>For using the Spectre simulator, type <code>nl</code> as the parameter for <code>-command</code>.</div>

<h2>
<a id="pgfId-791594"></a>Interactive Simulation<a id="22159"></a></h2>

<p>
<a id="pgfId-789154"></a>If <a id="runsiminteract"></a>your<a id="interactive"></a> simulation interface supports <a id="marker-788729"></a>interactive simulation, you can run simulation interactively using the following procedure. You must run the <h-hot><a href="initialize.html#simrundir">Initialize command</a></h-hot> before you use the Interactive command.<a id="marker-788731"></a></p>
<ol><li>
<a id="pgfId-788740"></a>In the Schematic window, select Simulation &#8211; Interactive.</li><li>
<a id="pgfId-788746"></a>Choose to netlist your design, or not, and click <em>OK</em>.<br />
<a id="pgfId-788747"></a>By default, the system opens the following three windows: <ul><li>
<a id="pgfId-789144"></a>A window for displaying waveforms produced during the simulation (at the top half of the screen)</li><li>
<a id="pgfId-789145"></a>A window for editing the design you are simulating (at the bottom right)</li><li>
<a id="pgfId-789146"></a>A window for textual interaction with the simulator (at the bottom left) </li></ul><br />
<a id="pgfId-789147"></a>Commands in the simulator window vary depending on the simulator you use.<br />
<a id="pgfId-788748"></a>If you prefer to set the window placement yourself, in the CI<a href="../wincfg/designEnv.html#firstpage"></a>W<a id="marker-793752"></a>, select Options &#8211; User Preferences and set the Place Manually button. </li><li>
<a id="pgfId-788749"></a>When you finish simulation, select Finish Interactive from the SE menu of the simulator window.</li></ol>









<h3>
<a id="pgfId-791922"></a>Netlist and Simulate Form<a id="se_sim_gen"></a></h3>

<p>
<a id="pgfId-791924"></a><strong>Simulation Run Directory </strong><a id="marker-791923"></a>specifies the simulation run directory. The field is read-only.</p>
<p>
<a id="pgfId-791925"></a>Design fields let you find or specify the design.</p>
<p class="webflare-indent1">
<a id="pgfId-791926"></a><strong>Browse </strong>brings up the TDM Library Browser when you click the button.</p>
<p class="webflare-indent1">
<a id="pgfId-791927"></a><strong>Library Name</strong> specifies the name of the library containing the top level of your design.</p>
<p class="webflare-indent1">
<a id="pgfId-791928"></a><strong>Cell Name</strong> specifies the cell name of the top level of your design.</p>
<p class="webflare-indent1">
<a id="pgfId-791929"></a><strong>View Name</strong> specifies the view name of your design.</p>
<p>
<a id="pgfId-791930"></a>Simulator Name specifies the name of the simulator. Select <em>other</em> if you want to type in the name of an unlisted simulator.</p>
<p>
<a id="pgfId-791931"></a>Run Actions buttons specify whether you want to netlist, simulate, or both.</p>
<p class="webflare-indent1">
<a id="pgfId-791932"></a>netlist creates a netlist.</p>
<p class="webflare-indent1">
<a id="pgfId-791933"></a>simulation runs a simulation.</p>
<p>
<a id="pgfId-791934"></a>Run in Background runs the job in the background and lets you use the graphical user interface while the job is running.</p>
<p class="webflare-indent1">
<a id="pgfId-791935"></a>Job Priority adjusts the priority for background jobs only. Change the priority by clicking and dragging the bar in the field to the left or right. The lower the number in this field, the faster the background job runs and the slower the system performs other tasks.</p>

<h3>
<a id="pgfId-791949"></a>Simulation Environment Options Form<a id="se_options"></a></h3>

<p>
<a id="pgfId-791951"></a><strong>Use Hierarchical Netlister</strong><a id="marker-791950"></a> creates a hierarchical, rather than a flat, netlist. This field is ignored if both types of netlists are not supported.</p>
<p class="webflare-indent1">
<a id="pgfId-791952"></a><strong>Incremental Netlisting</strong> limits the new hierarchical netlisting to parts of the design you modified since you last created a netlist. The field has no effect unless you use the hierarchical netlister.</p>
<p class="webflare-indent1">
<a id="pgfId-791953"></a><strong>Re-netlist Entire Design</strong> creates a new netlist for all cellviews in your design.</p>
<p>
<a id="pgfId-791954"></a><strong>Run Simulation Remotely</strong> runs the simulation on a remote file server. You specify the remote file server in the Simulation Host Name field.</p>
<p class="webflare-indent1">
<a id="pgfId-791955"></a><strong>Simulation Host Name</strong> specifies the name of the remote simulator.</p>
<p class="webflare-indent1">
<a id="pgfId-791956"></a><strong>Simulation Host Is Different Type</strong> specifies that a computer running a remote simulation has a different binary storage format than your local computer. You must set this correctly for remote simulations to view waveform results.</p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="customnet.html" id="prev" title="Customizing Netlisting">Customizing Netlisting</a></em></b><b><em><a href="displayres.html" id="nex" title="Displaying Results">Displaying Results</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2020, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>