
<html><head><title>Extracting Design Connectivity</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="rishu" />
<meta name="CreateDate" content="2020-09-21" />
<meta name="CreateTime" content="1600741622" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the functionality of the Virtuoso Layout Suite XL connectivity-driven features in the current release." />
<meta name="DocTitle" content="Virtuoso Layout Suite XL: Connectivity Driven Editing User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Extracting Design Connectivity" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.2.1" />
<meta name="Keyword" content="vxlhelp" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2020-09-21" />
<meta name="ModifiedTime" content="1600741622" />
<meta name="NextFile" content="chap9.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="chap7.html" />
<meta name="c_product" content="Virtuoso Layout Suite" />
<meta name="Product" content="Virtuoso Layout Suite" />
<meta name="ProductFamily" content="Virtuoso Layout Suite" />
<meta name="ProductVersion" content="ICADVM20.1" />
<meta name="RightsManagement" content="Copyright 2012-2020 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Layout Suite XL: Connectivity Driven Editing User Guide -- Extracting Design Connectivity" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="ICADVM20.1" />
<meta name="SpaceKey" content="vxlhelpICADVM201" />
<meta name="webflare-version" content="2.0" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="vxlhelpTOC.html">Contents</a></li><li><a class="prev" href="chap7.html" title="Editing the Layout">Editing the Layout</a></li><li style="float: right;"><a class="viewPrint" href="vxlhelp.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="chap9.html" title="Checking Design Data">Checking Design Data</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Layout Suite XL: Connectivity Driven Editing User Guide<br />Product Version ICADVM20.1, October 2020</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>7
<a id="pgfId-1067084"></a></h1>
<h1>
<a id="pgfId-1067086"></a><hr />
<a id="66918"></a>Extracting Design Connectivity<hr />
</h1>

<p>
<a id="pgfId-1045956"></a><a id="prepforroutingFirstpage"></a>This chapter explains how the Virtuoso&#174; Layout Suite XL layout editor (Layout XL) processes connectivity information and presents several ways to prepare your design for routing.</p>
<p>
<a id="pgfId-1037824"></a>This chapter discusses the following topics.</p>
<ul><li>
<a id="pgfId-1033633"></a><a href="chap8.html#38303">Connectivity Extraction</a></li><li>
<a id="pgfId-1058034"></a><a href="chap8.html#31838">Connectivity Extraction from Substrate and Well Layers</a></li><li>
<a id="pgfId-1078384"></a><a href="chap8.html#11758">Connectivity Extraction from Mosaics</a></li><li>
<a id="pgfId-1095504"></a><a href="chap8.html#45753">Shape Trimming Support</a></li><li>
<a id="pgfId-1090847"></a><a href="chap8.html#80668">Support for Color-Dependent Shape Trimming</a></li><li>
<a id="pgfId-1080530"></a><a href="chap8.html#41414">Enabling Virtual Connections</a></li><li>
<a id="pgfId-1033649"></a><a href="chap8.html#35102">Markers</a></li></ul>






<p>
<a id="pgfId-1097042"></a>For information about how to use the Virtuoso Space-based router to route your design, see the <em><a actuate="user" class="URL" href="../autouser/autouserTOC.html#firstpage" show="replace" xml:link="simple">Virtuoso Space-based Router User Guide</a></em>.</p>

<h2>
<a id="pgfId-1097048"></a><a id="38303"></a>Connectivity <a id="connectivityExtraction"></a>Extraction</h2>

<p>
<a id="pgfId-1097049"></a>The Layout XL connectivity extractor verifies that the connectivity of your physical implementation is legal and generates violation markers indicating open and short circuits, weak and must connect violations, and illegal overlaps in the design.</p>
<p>
<a id="pgfId-1045717"></a>You can specify the types of markers that are created and limit the number of open violations displayed using the controls on the <a href="appD.html#62890">Connectivity Tab</a> of the Connectivity form. You can view and manage the violation markers in the <em>Connectivity</em> tab of the <a href="appF.html#23026">Annotation Browser</a> assistant.</p>
<p>
<a id="pgfId-1045337"></a>This section discusses the following topics:</p>
<ul><li>
<a id="pgfId-1045340"></a><a href="chap8.html#45406">Connectivity Extraction Use Model</a></li><li>
<a id="pgfId-1045341"></a><a href="chap8.html#28568">Connections Recognized by the Extractor</a></li><li>
<a id="pgfId-1059952"></a><a href="chap8.html#94657">Extracting a Top-Level Design</a></li><li>
<a id="pgfId-1059960"></a><a href="chap8.html#15776">Extracting Hierarchical Cellviews</a></li><li>
<a id="pgfId-1091789"></a><a href="chap8.html#76008">Extracting Connectivity by Area</a></li><li>
<a id="pgfId-1045362"></a><a href="chap8.html#23524">Enabling and Disabling Incremental Extraction</a></li><li>
<a id="pgfId-1045371"></a><a href="chap8.html#76997">Assigning Connectivity to a Via</a></li></ul>







<h3>
<a id="pgfId-1108765"></a><a id="45406"></a>Connectivity Extraction Use Model</h3>

<p>
<a id="pgfId-1108800"></a>When you open a design in Layout XL, by default, connectivity extraction is not run. If you are opening the design for the first time, you can run the extractor explicitly using the <em>Connectivity &#8211; Update &#8211; Extract Layout</em> command to generate an up-to-date connectivity model for the entire design. The same applies if you have edited your design in a non-connectivity-aware environment such as VLS L.</p>

<h4>
<a id="pgfId-1108817"></a>Automatic Connectivity Extraction</h4>

<p>
<a id="pgfId-1108818"></a>To automatically run connectivity extraction when Layout XL is launched, use the <h-hot><a actuate="user" class="URL" href="../vlehelp/appB.html#extractRunOnInit" show="replace" xml:link="simple">extractRunOnInit</a></h-hot> environment variable. However, this means that extraction is run even if it is not required and can adversely affect the performance of Layout XL during startup.</p>

<div class="webflare-information-macro webflare-macro-tip">
<a id="pgfId-1109833"></a>
Cadence recommends that you do not enable the <a actuate="user" class="URL" href="../vlehelp/appB.html#extractRunOnInit" show="replace" xml:link="simple">extractRunOnInit</a> environment variable by default, but that you use the <em>Connectivity &#8211; Update &#8211; Extract Layout</em> command when you know it is required.</div>
<h4>
<a id="pgfId-1109847"></a>Incremental Connectivity Extraction</h4>

<p>
<a id="pgfId-1109835"></a>By default, Layout XL updates the connectivity and generates violation markers when you create, delete, or otherwise modify the shapes in your design either manually or automatically, using editing tools. This incremental extraction capability is controlled by the <em>Update connectivity when design is modified</em> option on the <a href="appD.html#62890">Connectivity Tab</a> form.</p>
<p>
<a id="pgfId-1073899"></a>For more information, see <a href="chap8.html#23524">Enabling and Disabling Incremental Extraction</a>.</p>
<p>
<a id="pgfId-1073902"></a>For more information about extracting the connectivity of a top-level design, see <a href="chap8.html#94657">Extracting a Top-Level Design</a>.</p>
<p>
<a id="pgfId-1045170"></a>The connectivity and violation markers generated are saved in the design database and, therefore, are present the next time you open the design in Layout XL. Unless you edit your design outside Layout XL, you do not need to run extraction again when you re-open a design.</p>

<h4>
<a id="pgfId-1045282"></a>Bottom-Up Connectivity Extraction</h4>

<p>
<a id="pgfId-1045304"></a>Bottom-up connectivity extraction is enabled by setting the extraction <em>Scope</em> to <em>Current Cellview and Cellviews in Hierarchy</em> in the <a href="appD.html#13911">Extract Layout</a> form. </p>
<p>
<a id="pgfId-1097705"></a>During bottom-up connectivity extraction, a series of connectivity extraction runs are performed on lower-level cellviews in a bottom-up order. This means the connectivity extraction starts from the lower-level cellviews in the hierarchy up to the current edited cellview. The advantage of running a bottom-up-extraction is that it does not require you to open each of these cellviews in a graphical window before being able to extract them. However, the extraction run can only extract connectivity from the cellviews that are within the specified hierarchical depth below the current edited cellview.</p>
<p>
<a id="pgfId-1098747"></a>Each bottom-up connectivity extraction run verifies the connectivity of the objects in the cellview being extracted. During the verification, if a connectivity mismatch is found for an object, the extractor either updates the connectivity on the object, if possible, or creates a marker in the cellview. The markers generated by the extractor can be viewed from the current edited cellview by setting the scope of the <a href="appF.html#23026">Annotation Browser</a> to <em>Current Cellview to Depth</em>.</p>
<p>
<a id="pgfId-1109035"></a>For more information about bottom-up extraction, see <a href="chap8.html#15776">Extracting Hierarchical Cellviews</a>.</p>

<h4>
<a id="pgfId-1109416"></a>Extractor Performance</h4>

<p>
<a id="pgfId-1109461"></a>The performance of the connectivity extractor could be impacted if the design has many overlapping, identical shapes. To prevent the performance impact, ensure that overlapping, identical shapes are removed before connectivity extraction is run.</p>

<h3>
<a id="pgfId-1109038"></a><a id="28568"></a>Connections Recognized by the Extractor</h3>

<p>
<a id="pgfId-1109039"></a>When extracting connectivity, Layout XL detects:</p>
<ul><li>
<a id="pgfId-1074011"></a>Shorts and opens on nets by recognizing connections between adjacent shapes, vias, and instance pin figures, including microwave objects. These connections can exist on the same layer or on electrically connected layers, as reported by the <a actuate="user" class="URL" href="../vxlhelp/appD.html#Diagnostics" show="replace" xml:link="simple">Diagnostic Report</a>, which is available through the Connectivity form.<br /><b>Note:</b><br />
<a id="pgfId-1074013"></a><ul><li>
<a id="pgfId-1074014"></a>Instance pin figures are considered by the extractor even when the default extract stop level is <code>0</code>. The connectivity checked in this case is that of the nets attached to the corresponding instTerms.</li><li>
<a id="pgfId-1117321"></a>Connectivity of shapes inside global routes is not extracted because these represent coarse routing, which is usually only used to get an estimate about the congestion of the design.</li><li>
<a id="pgfId-1074015"></a>An empty net&#8212;a net that does not own a figure, an instTerm, a terminal, or a non-empty constraint &#8212;can be deleted by the extractor.</li></ul></li><li>
<a id="pgfId-1074016"></a>Connections between a shape and a label, where the label is the source of connectivity for the shape, are recognized. Such shapes are considered to be sticky shapes that have the <a href="appC.html#67593">lxStickyNet</a> property, therefore, they stay connected to the net referenced by the label text. The label can be attached to the shape or it can be a stampLabel overlapping the shape. For more information, see <a href="chap8.html#25132">Connectivity from Attached Labels</a> and <a href="chap8.html#57650">Connectivity from stampLabels</a>.</li><li>
<a id="pgfId-1074026"></a>Connections between dedicated abutment shapes (dummy poly or dummy diffusion) of overlapping devices, even if the default extract stop level is 0, are recognized.</li><li>
<a id="pgfId-1093956"></a>Connections to instances and nets within a transparent layout hierarchy. For more information on such instances, see <a href="chap6.html#68169">Generating Transparent Layout Hierarchy</a>.</li></ul>








<h4>
<a id="pgfId-1074028"></a><a id="56760"></a>Instance Terminal Connectivity</h4>

<p>
<a id="pgfId-1074029"></a>The connectivity of an instance terminal can come from the schematic (if the corresponding schematic instance has connectivity) or from the first overlap detected in the layout. Once assigned, Layout XL considers the connectivity of an instance terminal as <em>sticky</em>, which means that when an instance terminal is assigned to a net, it stays assigned to that net unless you change it using, for example, the <em>Propagate Nets</em> command.</p>
<p>
<a id="pgfId-1074030"></a>For example, assume you have an instance, <code>I2</code>, with no connectivity in Layout XL. When you move this instance to overlap a shape assigned to <code>net2</code>, Layout XL creates an instance terminal for <code>I2</code> and assigns it to <code>net2</code>. If you now move <code>I2</code> to overlap a shape on <code>net1</code>, a short is created.</p>
<p>
<a id="pgfId-1125450"></a>Depending on the pin connectivity of the terminals, pins, and pinFigs of an instance, the extractor considers these connections differently.</p>
<ul><li>
<a id="pgfId-1125451"></a><strong>Strong-connected pinFigs</strong>: Two pinFigs are strongly connected when they belong to the same pin. The connectivity extractor considers such pins as <em>connected</em> in the master of an instance. Therefore, no shorts are reported for these pins in the Annotation Browser.</li><li>
<a id="pgfId-1126121"></a><strong>Weakly-connected pinFigs</strong>: Two pinFigs are weakly connected when they belong to different pins of the same terminal. The connectivity extractor considers such pins as <em>connected</em> in the master of an instance. However, Layout XL runs additional checks to ensure no current flows between such pinFigs. No shorts are reported for these pins in the Annotation Browser.</li><li>
<a id="pgfId-1126979"></a><strong>Must-connect pins</strong>: When a terminal is set as <em>must-connect-pins</em>, two pinFigs of different pins must be connected together in the design of the instance. If the pinFigs are not routed together, the connectivity extractor considers the connection as incomplete. An open marker is reported in the Annotation Browser.</li><li>
<a id="pgfId-1126107"></a><strong>Must-connect terminals: </strong>When two terminals are set as <em>must-connect</em>, pinFigs of the terminals must be routed together in the design of the instance. If the pinFigs are not routed together, the connectivity extractor considers the connection as incomplete. An open marker is reported in the Annotation Browser.</li></ul>



<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1126297"></a>For more information about the various pin connectivity models, see <a href="chap7.html#56748">Supported Pin Connectivity Models</a>.</div>
<p>
<a id="pgfId-1074031"></a>The following exceptions apply:</p>
<ul><li>
<a id="pgfId-1074032"></a>Where an instance terminal is assigned to a net with a must-join terminal at the current editing level, the extractor does not consider the instance terminal sticky. However, if the instance terminal is moved away from an overlap, it keeps its connectivity until the extractor finds an overlap with a different must-join net that is better suited for the connection. If such an overlap is found, the instance terminal is reassigned to the new net.<br />
<a id="pgfId-1074033"></a>This behavior has been implemented to support the must-join pin model at different levels of hierarchy.</li><li>
<a id="pgfId-1074037"></a>When you move a physical-only instance, which is an instance for which the <a href="appC.html#48113">lvsIgnore</a> property is set to <code>t</code>, Layout XL automatically reassigns the connectivity based on any new overlap. The only exception to this is when the physical-only instance has the <code>lxStickyNet</code> property set to <code>t</code>, in which case the extractor creates a short marker if the new connectivity does not match the existing connectivity.<br />
<a id="pgfId-1074038"></a>If there is no new overlap after the move and the physical-only instance has the <code>lxStickyNet</code> property set to <code>t</code>, the existing connectivity is retained. If the <code>lxStickyNet</code> property is not set to <code>t</code>, the existing connectivity is deleted.</li></ul>




<h4>
<a id="pgfId-1074040"></a>Support<a id="lceDiffSupport"></a> for Diffusion Layers</h4>

<p>
<a id="pgfId-1074041"></a>Some manufacturing processes define diffusion shapes that must be explicitly implanted by n-type or p-type implant shapes to get their own type. If the implant is p-type, the diffusion shape is considered to be p-type. If the implant is n-type, the diffusion shape is considered to be n-type.</p>
<p>
<a id="pgfId-1074042"></a>Other processes derive the implant type from the definition of the diffusion layer, &#8220;ndiff&#8221; or &#8220;pdiff&#8221;, in the technology file. This is the case when an explicit implant does not exist. The connectivity extractor supports both types of diffusion layers.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1074043"></a>The connectivity extractor does not modify the connectivity of implant shapes.</div>
<ul><li>
<a id="pgfId-1074044"></a>Analog processes typically feature a single diffusion layer and two or more layers for implants. The extractor recognizes shapes on layers with function <code>diff</code> as unimplanted diffusion: they need an explicit &#8216;n&#8217; or &#8216;p&#8217; implant shape to connect to the appropriate <code>pwell</code> or <code>nwell</code>.<br />
<a id="pgfId-1074045"></a>The <code>functions</code> table for such a process might include the following definitions.<span class="indent-as-level2"><pre class="webflare-pre-block webflare-courier-new" id="#id1074046">
<a id="pgfId-1074046"></a>functions(
;( layer          function         [maskNumber])
;( -----          --------         ------------)
 ( pwell          &quot;pwell&quot;          10          )
 ( nwell          &quot;nwell&quot;          20          )
 ( diff           &quot;diff&quot;           30          )
 ( poly           &quot;poly&quot;           40          )
 ( pimp           &quot;pplus&quot;          50          )
 ( nimp           &quot;nplus&quot;          60          )
);functions
</pre></span>
<a id="pgfId-1074047"></a>Only <code>diff</code> diffusion is defined, so there are also <code>pimp</code> and <code>nimp</code> layers defined explicitly for the implants. A shape on <code>diff</code> must overlap with a shape on <code>pimp</code> to connect to a shape on <code>pwell</code> or with a shape on <code>nimp</code> to connect to a shape on <code>nwell</code>. The connectivity stack is derived as follows:<span class="indent-as-level2"><pre class="webflare-pre-block webflare-courier-new" id="#id1074048">
<a id="pgfId-1074048"></a>metal -&gt; cut -&gt; (diff &amp; nplus) -&gt; nwell or ntype substrate</pre></span><span class="indent-as-level2"><pre class="webflare-pre-block webflare-courier-new" id="#id1074049">
<a id="pgfId-1074049"></a>metal -&gt; cut -&gt; (diff &amp; pplus) -&gt; pwell or ptype substrate</pre></span></li><li>
<a id="pgfId-1074050"></a>Manufacturing processes used in digital design often define separate layers for n and p diffusion. A shape on these layers is considered to have an <em>implicit implant</em> whose type is derived from the layer function.<br />
<a id="pgfId-1074051"></a>Here, the functions table might include the following definitions.<span class="indent-as-level2"><pre class="webflare-pre-block webflare-courier-new" id="#id1074052">
<a id="pgfId-1074052"></a>functions(
;( layer          function         [maskNumber])
;( -----          --------         ------------)
 ( lv_nwell       &quot;nwell&quot;          10          )
 ( hv_nwell       &quot;nwell&quot;          20          )
 ( hv_pwell       &quot;pwell&quot;          30          )
 ( ndiff          &quot;ndiff&quot;          40          )
 ( ndiff_hv       &quot;ndiff&quot;          50          )
 ( pdiff          &quot;pdiff&quot;          60          )
 ( odiff_hv       &quot;pdiff&quot;          70          )
 ( poly           &quot;poly&quot;           80          )
);functions
</pre></span>
<a id="pgfId-1074053"></a>There are no layers defined for implants, the extractor differentiates between p-type and n-type implants based on whether the function is <code>pdiff</code> or <code>ndiff</code>. An <code>ndiff</code> shape connects to shapes that have the <code>nwell</code> function; a <code>pdiff</code> shape connects to shapes that have the <code>pwell</code> or <code>substrate</code> function.<br />
<a id="pgfId-1074054"></a>The connectivity stack is derived as follows:<span class="indent-as-level2"><pre class="webflare-pre-block webflare-courier-new" id="#id1074055">
<a id="pgfId-1074055"></a>metal -&gt; cut -&gt; ndiff -&gt; nwell or ntype substrate
</pre></span><span class="indent-as-level2"><pre class="webflare-pre-block webflare-courier-new" id="#id1074056">
<a id="pgfId-1074056"></a>Metal -&gt; cut -&gt; pdiff -&gt; pwell or ptype substrate</pre></span></li><li>
<a id="pgfId-1074057"></a>Some processes have a single active diffusion layer, such as &#8220;<code>ndiff</code>&#8221;, which is used to connect to both types of wells and substrates. These processes also have a single implant, such as &#8220;<code>pimp</code>&#8221;, which takes priority over the diffusion type.<br />
<a id="pgfId-1074058"></a>The functions table for such a process might include the following definitions:<span class="indent-as-level2"><pre class="webflare-pre-block webflare-courier-new" id="#id1074059">
<a id="pgfId-1074059"></a>functions(
;( layer          function         [maskNumber])
;( -----          --------         ------------)
 ( M1             &quot;metal&quot;          10          )
 ( CO             &quot;cut&quot;            20          )
 ( NOD            &quot;ndiff&quot;          30          )
 ( PP             &quot;pplus&quot;          40          )
 ( NW             &quot;nwell&quot;          50          )
 ( PW             &quot;pwell&quot;          60          )
 );functions
</pre></span>
<a id="pgfId-1074060"></a>Both, a diffusion layer, <code>ndiff</code>, and an implant layer, <code>pimp</code>, are defined. An <code>ndiff</code> shape connects to shapes that have the <code>nwell</code> function. An <code>ndiff</code> shape when overlapped by a <code>pimp</code> shape connects to shapes that have the <code>pwell </code>function.<br />
<a id="pgfId-1074061"></a>The connectivity stack is derived as follows:<span class="indent-as-level2"><pre class="webflare-pre-block webflare-courier-new" id="#id1074062">
<a id="pgfId-1074062"></a>metal -&gt; cut -&gt; ndiff -&gt; nwell or ntype substrate</pre></span><span class="indent-as-level2"><pre class="webflare-pre-block webflare-courier-new" id="#id1074063">
<a id="pgfId-1074063"></a>metal -&gt; cut -&gt; (ndiff &amp; pplus) -&gt; pwell or ptype substrate</pre></span></li></ul>






























<h4>
<a id="pgfId-1074064"></a>Weakly-Connected Instance Pins</h4>

<p>
<a id="pgfId-1074065"></a>The extractor also considers the external loops of current that can exist in the connections made to weakly-connected instance pins. This means it is legal to route two weakly-connected instance pin figures, provided the connections on these pins are routed together. If this is the case, the extractor does not detect a violation because it is assumed that the current will not flow through the resistive path between the two pin figures inside the instance.</p>
<p>
<a id="pgfId-1074066"></a>When the extractor detects an illegal weak-connect violation, the generated marker is a line marker drawn between the two instance pin figures that are overlapped by unconnected top-level shapes on the same net. This provides better visibility of the problem and eases the process of fixing it. The <a href="appF.html#23026">Annotation Browser</a> highlights both the line marker and the two instance pin figures.</p>
<p>
<a id="pgfId-1074070"></a>Any incremental updates that you make are also considered for the detection of illegal weak-connect violations.</p>

<h4>
<a id="pgfId-1074071"></a>Unmatched Instance Terminals</h4>

<p>
<a id="pgfId-1074072"></a>When extracting designs that have been edited outside Layout XL, the connectivity extractor silently cleans up the instance terminals that have no associated terminal in the cell master. This means that you can be asked to save your design, even though nothing has visibly changed.</p>

<h4>
<a id="pgfId-1074074"></a><a id="25132"></a>Connectivity fr<a id="labelAttach"></a>om Attached Labels</h4>

<p>
<a id="pgfId-1074075"></a>If a top-level shape has an attached label, you can choose to automatically connect the shape to the net referenced by the label text. To do this, you must enable the <em>Assign shapes from attached labels</em> option on the <h-hot><a href="appD.html#62890">Connectivity Tab</a></h-hot>.</p>
<p>
<a id="pgfId-1074079"></a>However, in some situations, as those described below, the connection may result in violation markers being displayed in the Annotation Browser.</p>
<p>
<a id="pgfId-1074080"></a><strong>Scenario 1: </strong>If a label is attached to a shape that has sticky connectivity to another net, a short marker is created overlapping the label.</p>

<p class="webflare-indent1">
<a id="pgfId-1074084"></a></p>
<div class="webflare-div-image">
<img src="images/attachedLabels1.gif" /></div>

<p>
<a id="pgfId-1074085"></a><strong>Scenario 2: </strong>If several labels with different text are attached to a single shape, the labels that create a short with the shape are overlapped by a short marker.</p>

<p class="webflare-indent1">
<a id="pgfId-1074089"></a></p>
<div class="webflare-div-image">
<img src="images/attachedLabels2.gif" /></div>

<p>
<a id="pgfId-1074090"></a><strong>Scenario 3: </strong>If a label is attached to a pin shape that has a terminal name different from the label text, a short marker is created overlapping the label. If the label text and the terminal name are the same, no violations are reported.</p>

<p class="webflare-indent1">
<a id="pgfId-1074094"></a></p>
<div class="webflare-div-image">
<img src="images/attachedLabels3.gif" /></div>

<p>
<a id="pgfId-1090501"></a>For more information about attaching labels to shapes, see the <h-hot><a actuate="user" class="URL" href="../vlehelp/appA.html#createLabelAttach" show="replace" xml:link="simple">Attach</a> </h-hot>option under &#8220;Label Options&#8221; in the Virtuoso Layout Suite XL: Basic Editing User Guide.</p>

<h4>
<a id="pgfId-1090503"></a><a id="57650"></a>Connectiv<a id="labelStampConn"></a>ity from stampLabels</h4>

<p>
<a id="pgfId-1090504"></a>If a top-level shape or a substrate region overlaps the origin of a label, you can choose to automatically assign the shape (or the substrate region) to the net referenced by the label text. However, for the shape (or the substrate region) to be connected to the label, a valid <code>stampLabelLayer</code> association should be defined in the technology file for the layer of the shape (or the substrate region) and that of the label.</p>
<p>
<a id="pgfId-1074100"></a>To enable the feature, you must select the <strong>Assign shapes from overlapping labels as defined by &#39;stampLabelLayers&#39; rule</strong> option on the <h-hot><a href="appD.html#62890">Connectivity Tab</a></h-hot>. If the <code>stampLabelLayers </code>rule is not defined in the technology file, the option appears disabled. </p>
<p>
<a id="pgfId-1074104"></a>Let us now consider some scenarios that detail how the overlap with a label is processed by the extractor.</p>
<p>
<a id="pgfId-1074105"></a><strong>Scenario 1: </strong>If a label is overlapped by several shapes, only those shapes that overlap the origin of the label are connected to the net referenced by the label text.</p>

<p class="webflare-indent1">
<a id="pgfId-1074109"></a></p>
<div class="webflare-div-image">
<img src="images/overlappingLabels1.gif" /></div>

<p>
<a id="pgfId-1074110"></a><strong>Scenario 2: </strong>If a label is overlapped by other labels due to space constraints, no shorts are reported.</p>

<p class="webflare-indent1">
<a id="pgfId-1074114"></a></p>
<div class="webflare-div-image">
<img src="images/overlappingLabels2.gif" /></div>

<p>
<a id="pgfId-1074115"></a><strong>Scenario 3: </strong>If a shape overlaps a label that has sticky connectivity to another net, a short marker is created.</p>

<p>
<a id="pgfId-1074122"></a></p>
<div class="webflare-div-image">
<img width="337" height="181" src="images/chap8-8.gif" /></div>

<p>
<a id="pgfId-1074124"></a>For more information about stamp labels, see <h-hot><a actuate="user" class="URL" href="../ascitechfile/chap4.html#stampLabels" show="replace" xml:link="simple">stampLabelLayers</a></h-hot><code> </code>in the Virtuoso Technology Data ASCII Files Reference User Guide and the<code> </code><h-hot><a actuate="user" class="URL" href="../vlehelp/appA.html#createLabelAuto" show="replace" xml:link="simple">Auto</a></h-hot><code> </code>option under Label Layer/Purpose in the Virtuoso Layout Suite XL: Basic Editing User Guide.</p>

<h3>
<a id="pgfId-1074134"></a><a id="94657"></a>Extracting<a id="reextractLayout"></a> a Top-Level Design</h3>

<p>
<a id="pgfId-1074135"></a>When extracting a top-level design, Layout XL extracts</p>
<ul><li>
<a id="pgfId-1074136"></a>Top-level objects&#8212;shapes, vias, and pin figures.</li><li>
<a id="pgfId-1074137"></a>Pin figures of top-level instantiated masters. These pin figures represent the interface between the top level instances and the lower level instances in the design and are, therefore, considered to be at the top level. The connectivity of these pin figures in the context of top level extraction is represented by the nets attached to the instance terminals corresponding to these pin figures.</li></ul>

<p>
<a id="pgfId-1074138"></a>To extract the current top-level design:</p>
<ol><li>
<a id="pgfId-1074139"></a>From the CIW, open a layout cellview and choose <em>Connectivity &#8211; Update &#8211; Extract Layout</em>.<br />
<a id="pgfId-1074143"></a>The <a href="appD.html#13911">Extract Layout</a> form is displayed.<br />
<a id="pgfId-1074147"></a><div class="webflare-div-image">
<img src="images/vxlConnectivityExtractionNoList.gif" /></div></li><li>
<a id="pgfId-1075206"></a>Make sure the <em>Scope</em> is set to <em>Current Cellview</em> and click <em>OK</em> or <em>Apply</em>.<br />
<a id="pgfId-1075236"></a>The current cellview is extracted.</li></ol>








<h4>
<a id="pgfId-1074148"></a>Extraction Stop Level</h4>

<p>
<a id="pgfId-1074149"></a>The <code>extractStopLevel</code> environment variable controls the Extract connectivity to level option in the Connectivity form, increasing the visibility of the extractor into the design hierarchy.</p>
<p>
<a id="pgfId-1074153"></a>For example, an overlap between a top-level shape and a hierarchical shape at level &#8220;N&#8221; is processed by the extractor only if the extraction stop level is equal to or greater than &#8220;N&#8221;. However, if the hierarchical shape is a pin figure, it is visible from the top level even if the extraction stop level is &#8220;N-1&#8221;.</p>
<p>
<a id="pgfId-1074154"></a>Likewise, an overlap between a hierarchical shape at level &#8220;N&#8221; and a hierarchical shape at level &#8220;M&#8221; in the hierarchies of two different top-level instances is processed by the extractor only if the <code>extractStopLevel</code> is equal to or greater than the greater of the two levels, &#8220;N&#8221; and &#8220;M&#8221;.</p>
<p>
<a id="pgfId-1074155"></a>In the context of top-level extraction, the connectivity of a hierarchical shape is the net attached to the corresponding top-level instance terminal (if any). This top-level connectivity is established by recursively iterating in a bottom-up series from terminal to instance terminal, starting from the net attached to the hierarchical shape.</p>
<p>
<a id="pgfId-1074156"></a>The greater the <code>extractStopLevel</code>, the more accurate is the extraction. For example:</p>
<ul><li>
<a id="pgfId-1094699"></a>Top-level nets that are incomplete with <code>extractStopLevel=0</code> may become complete with <code>extractStopLevel&gt;0</code>. For example, a top-level shape on a given net overlaps a hierarchical shape that has its top-level connectivity defined by an instance terminal on the same net. The resolution of the open violation, in this case, happens only if the hierarchical shape is visible, implying that the extraction stop level is sufficient, which is achieved at an extraction stop level greater than 0.</li><li>
<a id="pgfId-1094700"></a>There is a better detection of shorts between top-level and hierarchical shapes.</li><li>
<a id="pgfId-1094701"></a>There is a better detection of shorts between different instances.</li><li>
<a id="pgfId-1124512"></a>Trim shapes have the same visibility as regular shapes. They are visible down to <code>extractStopLevel</code>. <br />
<a id="pgfId-1124560"></a>Trim shapes on a pin are visible down to <code>extractStopLevel+1</code>. There is an exception for a pinFig at <code>extractStopLevel+1</code>. Here, the trim shapes in the same master are seen as stopping the pinFig even when the trim shapes are actually at <code>extractStopLevel+1</code>.</li></ul>




<b>Note:</b><br />
<a id="pgfId-1104661"></a>
<ul><li>
<a id="pgfId-1104670"></a>The extractor attempts to bind the instances that are in the hierarchical depth defined by the extract stop level. By default, the extract stop level is 0. Therefore, the extractor tries to bind all the top-level instances to their corresponding master.<br /><div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1104960"></a>
Whatever the <code>extractStopLevel</code>, the extractor only ever extracts the current top level; i.e., it only ever changes the connectivity of objects or creates markers at the top level of the design. For information about bottom-up extraction that involves the cellviews across levels in the hierarchy, see <a href="chap8.html#15776">Extracting Hierarchical Cellviews</a>.</div></li></ul>


<h3>
<a id="pgfId-1091659"></a><a id="15776"></a>Extracting Hierarchical Cellviews</h3>

<p>
<a id="pgfId-1098026"></a>Hie<a id="hierarchicaldesigns"></a>rarchical cellview extraction lets you extract either an entire hierarchical design or selected lower-level cellviews from the current top level of the design. The extraction is performed bottom-up, starting with the cellview lowest in the hierarchy and ending with the top-level cellview. This is why the extraction is also called bottom-up extraction.</p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1098036"></a>
If you manually disable the extractor while editing a lower-level cellview, the extractor will be automatically disabled for the entire hierarchy. To resume incremental extraction for the edited cellview, the extractor must be manually re-enabled when needed.</div>

<p>
<a id="pgfId-1091663"></a>To perform bottom-up extraction:</p>
<ol><li>
<a id="pgfId-1091664"></a>From the CIW, open a layout cellview and choose <em>Connectivity &#8211; Update &#8211; Extract Layout</em>.<br />
<a id="pgfId-1091668"></a>The <a href="appD.html#13911">Extract Layout</a> form is displayed.<br />
<a id="pgfId-1091674"></a><div class="webflare-div-image">
<img width="635" height="682" src="images/chap8-11.gif" /></div></li><li>
<a id="pgfId-1091675"></a>Set the <em>Scope</em> field to <em>Current Cellview and Cellviews in Hierarchy, </em>which means the extractor will extract connectivity from the current top-level cellview and the specified cellviews in the hierarchy.<br />
<a id="pgfId-1091676"></a>The controls in the <em>Cellviews in Hierarchy</em> group box are enabled, as displayed in the figure below.<br />
<a id="pgfId-1091683"></a><div class="webflare-div-image">
<img width="634" height="682" src="images/chap8-12.gif" /></div></li><li>
<a id="pgfId-1091684"></a>hierarchical cellviews are listed as extractable:<ul><li>
<a id="pgfId-1091685"></a>Select <em>From Selected Instances</em> if you want hierarchical cellviews only for the selected instances from the current edited cellview to be displayed.</li><li>
<a id="pgfId-1091686"></a>Select <em>Edited Only </em>if you want hierarchical cellviews only for the cells edited since the last extraction run to be displayed.</li></ul></li><li>
<a id="pgfId-1091687"></a>In the <em>Cellviews in Hierarchy</em> group box, specify how far down in the hierarchy to look for the cells to extract.<br />
<a id="pgfId-1091688"></a>Depending on the specified search depth, if lower-level extractable cellviews are found, they are listed in the table. </li><li>
<a id="pgfId-1091689"></a>Choose the cellviews you want to re-extract from the list.<br />
<a id="pgfId-1091690"></a>You can filter the list by library name, cell name, and view name or click <em>Select All</em> to select all the cellviews listed. Click <em>Deselect All</em> to deselect all the listed cellviews.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1091691"></a>The filter mechanism has no wildcard capability. For example, to select a cell called &#8216;<code>resistor</code>&#8217;, you must type &#8216;<code>r</code>&#8217;, &#8216;<code>re</code>&#8217;, &#8216;<code>res</code>&#8217;, and so on. If you type &#8216;<code>sis</code>&#8217;, the cell is not selected.</div></li><li>
<a id="pgfId-1091692"></a>(Optional) To change the way the extraction is performed, click <em>Options</em> at the top of the form to open the <a href="appD.html#62890">Connectivity Tab</a> of the Connectivity form, where you can set the following extraction parameters for the design.<ul><li>
<a id="pgfId-1091696"></a>To increase or decrease the extractor&#8217;s visibility into the hierarchy of the design, change the value of the <em>Extract connectivity to level</em> option.<br />
<a id="pgfId-1091700"></a>For more information, see <a href="chap8.html#94657">Extracting a Top-Level Design</a>.</li><li>
<a id="pgfId-1091701"></a>To change the list of extractable layers, choose a different constraint group from the <em>Derive extractable layers from constraint group</em> list.<br />
<a id="pgfId-1091704"></a>For more information on how extractable layers are derived, see <a href="chap2.html#96318">Specifying the Information Required by the Layout XL Connectivity Extractor</a>.</li><li>
<a id="pgfId-1091706"></a>To show weak-connect and must-connect violations in the design, switch on the <em>Verify weak-connect violations</em> and <em>Verify must-connect violations</em> options.</li><li>
<a id="pgfId-1091707"></a>To show the opens in the design, switch on the <em>Verify open violations</em> option.<br />
<a id="pgfId-1091708"></a>To improve performance, you can limit the numbers of violations displayed by net and by cellview using the <em>Maximum number of open violations by net</em> and <em>Maximum number of open violations by cellview</em> options. <br />
<a id="pgfId-1091709"></a>You can also include or exclude instance terminals with non-extractable pin shapes using the <em>Verify unimplemented instance terminals</em> option.</li></ul></li><li>
<a id="pgfId-1091710"></a>Select <em>Save Extracted Cellviews</em> to automatically save each cellview after it has been extracted.</li><li>
<a id="pgfId-1091711"></a>Click <em>OK</em> or <em>Apply</em> to extract the selected lower level cellviews.<br />
<a id="pgfId-1091712"></a>The selected cellviews are extracted all the way up to the top level of the design.</li></ol>






































<h4>
<a id="pgfId-1091713"></a>Parameterized Cells</h4>

<p>
<a id="pgfId-1091714"></a>The connectivity extractor does not extract Pcell masters during <h-hot><a actuate="user" class="URL" href="../vxlhelp/chap8.html#hierarchicaldesigns" show="replace" xml:link="simple">bottom-up extraction</a></h-hot>. For more information on parameterized cells, see the <em><a actuate="user" class="URL" href="../pcellref/pcellrefTOC.html#firstpage" show="replace" xml:link="simple">Virtuoso Parameterized Cell Reference</a></em>.</p>

<h3>
<a id="pgfId-1077569"></a><a id="76008"></a>Extracting<a id="extractByArea"></a> Connectivity by Area</h3>

<p>
<a id="pgfId-1078080"></a>You can limit the extraction to a specified area of the design. The results are the same as those derived from a full batch extraction, but the process is often faster for small areas because the extraction is limited to the shapes enclosed by and overlapping the specified area.</p>
<p>
<a id="pgfId-1077572"></a>To extract connectivity for a specified area,</p>
<ol><li>
<a id="pgfId-1077573"></a>From the CIW, open a layout cellview and choose <em>Connectivity &#8211; Update &#8211; Extract Layout</em>.<br />
<a id="pgfId-1077577"></a>The <a href="appD.html#13911">Extract Layout</a> form is displayed.</li><li>
<a id="pgfId-1077578"></a>Set the <em>Scope</em> to <em>Area</em> to enable the area extraction controls.<br />
<a id="pgfId-1077583"></a><div class="webflare-div-image">
<img width="639" height="267" src="images/chap8-13.gif" /></div></li><li>
<a id="pgfId-1077584"></a>Type the coordinates of the area to be extracted in the text<em> </em>field or click <em>Select Area </em>and draw the area you require in the canvas.</li><li>
<a id="pgfId-1077585"></a>Click <em>OK</em> or <em>Apply</em> to extract connectivity for the specified area.<br />
<a id="pgfId-1077586"></a>For information on what is extracted and how violations and opens are created, see <a href="chap8.html#85975">Area Extraction Examples</a>.</li></ol>










<h4>
<a id="pgfId-1077591"></a><a id="85975"></a>Area Extraction Examples</h4>

<p>
<a id="pgfId-1092869"></a>Example 1 shows connectivity propagated to all the connected shapes enclosed by or overlapping the specified area.</p>

<p>
<a id="pgfId-1092873"></a></p>
<div class="webflare-div-image">
<img width="668" height="209" src="images/chap8-14.gif" /></div>

<p>
<a id="pgfId-1077597"></a>Example 2 shows connectivity removed from the unconnected shapes enclosed by or overlapping the specified area.</p>

<p>
<a id="pgfId-1077601"></a></p>
<div class="webflare-div-image">
<img width="668" height="173" src="images/chap8-15.gif" /></div>

<p>
<a id="pgfId-1077602"></a>Example 3 shows connectivity propagated to the connected shapes outside the specified area.</p>

<p>
<a id="pgfId-1077606"></a></p>
<div class="webflare-div-image">
<img width="668" height="174" src="images/chap8-16.gif" /></div>

<p>
<a id="pgfId-1077622"></a>Example 4 shows markers created for violations on the objects enclosed by or overlapping the specified area.</p>

<p>
<a id="pgfId-1077626"></a></p>
<div class="webflare-div-image">
<img width="668" height="175" src="images/chap8-17.gif" /></div>

<p>
<a id="pgfId-1077627"></a>Example 5 shows markers created outside the specified area because connectivity was updated for overlapping shapes.</p>

<p>
<a id="pgfId-1077631"></a></p>
<div class="webflare-div-image">
<img width="668" height="200" src="images/chap8-18.gif" /></div>

<p>
<a id="pgfId-1077642"></a>Example 6 shows open markers created between all the unconnected shapes on a given net regardless of whether the shapes overlap the specified area.</p>

<p>
<a id="pgfId-1091979"></a></p>
<div class="webflare-div-image">
<img width="668" height="184" src="images/chap8-19.gif" /></div>
<h3>
<a id="pgfId-1092050"></a>Extracting<a id="extractUnverifiedArea"></a> Connectivity for Unverified Areas</h3>

<p>
<a id="pgfId-1091937"></a>To extract connectivity for previously unverified areas,</p>
<ol><li>
<a id="pgfId-1091938"></a>From the CIW, open a layout cellview and choose <em>Connectivity &#8211; Update &#8211; Extract Layout</em>.<br />
<a id="pgfId-1091942"></a>The <a href="appD.html#13911">Extract Layout</a> form is displayed.</li><li>
<a id="pgfId-1091943"></a>Set the <em>Scope</em> to <em>Unverified Areas </em>to enable the unverified area extraction controls.<br />
<a id="pgfId-1091947"></a><div class="webflare-div-image">
<img src="images/vxlConnectivityExtractionUnVerArea.gif" /></div></li><li>
<a id="pgfId-1092215"></a>Click <em>OK</em> or <em>Apply</em> to extract connectivity for previously unverified areas.<br />
<a id="pgfId-1092273"></a>Connectivity extraction is performed for areas that are defined by <a href="chap8.html#93958">Unverified Area Markers</a>.</li></ol>









<h3>
<a id="pgfId-1092275"></a>Extracting<a id="extractByNet"></a> Connectivity by Nets</h3>

<p>
<a id="pgfId-1092370"></a>Connectivity extraction by a net (or nets) lets you limit the scope of extraction to a specified net or a set of nets. You can type in the net names directly in the <em>Nets</em> field or choose the <em>Selected Nets</em> check box in the <em>Scope</em> group box to enable extraction for all the nets already selected.</p>
<p>
<a id="pgfId-1092490"></a>Alternatively, you can use the <h-hot><a actuate="user" class="URL" href="../sklayoutref/lx.html#lceExtractNet" show="replace" xml:link="simple">lceExtractNet</a></h-hot> and <h-hot><a actuate="user" class="URL" href="../sklayoutref/lx.html#lceExtractNets" show="replace" xml:link="simple">lceExtractNets</a></h-hot> SKILL functions, as appropriate, to enable extraction by nets.</p>
<b>Note:</b><br />
<a id="pgfId-1092415"></a>
<ul><li>
<a id="pgfId-1092436"></a>The net names specified in the <em>Nets</em> field should be space separated.</li><li>
<a id="pgfId-1092464"></a>Choosing <em>Selected Nets </em>overrides any net names already specified and performs the extraction on all the selected nets.</li></ul>

<p>
<a id="pgfId-1092473"></a>To enable net-based connectivity extraction:</p>
<ol><li>
<a id="pgfId-1092514"></a>From the CIW, open a layout cellview and choose <em>Connectivity &#8211; Update &#8211; Extract Layout</em>.<br />
<a id="pgfId-1092518"></a>The <a href="appD.html#13911">Extract Layout</a> form is displayed.<br />
<a id="pgfId-1092523"></a><div class="webflare-div-image">
<img src="images/vxlConnectivityExtractionNets.gif" /></div></li><li>
<a id="pgfId-1092524"></a>Set the <em>Scope</em> to <em>Nets </em>to enable controls for extraction by nets. To extract connectivity only for specific nets, type the net names in the associated field. Keep the net names space separated.</li><li>
<a id="pgfId-1092585"></a>Choose the <em>Selected Nets</em> check box to extract connectivity for all the selected nets. Selecting this option overrides any net names, if specified, in the <em>Nets</em> field and enables extraction for all the selected nets.</li><li>
<a id="pgfId-1092553"></a>Click <em>OK</em> or <em>Apply</em> to extract connectivity for nets.</li></ol>








<p>
<a id="pgfId-1092528"></a>Connectivity extraction is performed for nets and the results are displayed in the CIW.</p>

<h3>
<a id="pgfId-1092281"></a><a id="23524"></a>Enabling and Disabling Incremental Extraction</h3>

<p>
<a id="pgfId-1092276"></a>Incremental extraction automatically updates the connectivity whenever the design is modified manually or by using automatic tools. This capability is switched on by default.</p>
<p>
<a id="pgfId-1074213"></a>To enable and disable incremental extraction:</p>
<ol><li>
<a id="pgfId-1074214"></a>From the layout window menu bar, choose <em>Options &#8211; Layout XL</em> and select the Connectivity tab.</li><li>
<a id="pgfId-1074215"></a>In the Verification tab, select the <em>Update connectivity information when design is modified</em> option.</li><li>
<a id="pgfId-1078335"></a>Click <em>OK</em> or <em>Apply</em> in the Connectivity form to accept the change.</li></ol>


<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1078336"></a>Alternatively, click the <em>Update connectivity information when design is modified</em> icon, <img src="images/iconExtractorOnOff.gif" />
, in the <em>Options</em></div><span> toolbar.</span><h4>
<a id="pgfId-1078337"></a><a id="93958"></a>Unverified Area Markers</h4>

<p>
<a id="pgfId-1074220"></a>If the number of edited shapes is large, the extractor does not extract all the edited shapes. In this case, one or several markers of type <em>Unverified Area</em> are created in the Annotation Browser, indicating the layout areas that have not been completely extracted.</p>
<p>
<a id="pgfId-1074221"></a>The unverified areas can be extracted later either directly by setting the scope of the extraction to <em>Unverified Areas</em> or by performing a complete extraction of the design.</p>

<h4>
<a id="pgfId-1074222"></a>Potential Open Markers</h4>

<p>
<a id="pgfId-1074223"></a>During interactive extraction, the extractor performs shape chasing up to a given limit. If a large set of physically connected shapes, such as a power net, is edited, or if numerous sets of shapes have been edited, there is a possibility that some sets are incompletely chased when the extraction limit is reached. In this case, <em>Potential Open</em> markers are created between incompletely chased sets because no further shape chasing can be performed to determine if the sets are disjointed.</p>
<p>
<a id="pgfId-1074224"></a>For example, in the figure below, if shape F5 is deleted, the extractor is unable to chase all the shapes before the shape-chasing limit is reached. Therefore, the extractor identifies two incompletely-chased sets comprising shapes (F2, F3, F4) and (F8, F7, F6), respectively, and creates a <em>Potential Open</em> marker between shapes F4 and F6.</p>
<p>
<a id="pgfId-1074228"></a></p>

<div class="webflare-div-image">
<img src="images/potentialOpenMarker.GIF" /></div>

<p>
<a id="pgfId-1074229"></a>Because the extractor did not fully shape-chase the physically-connected sets of shapes, it creates a <em>Potential Open</em> marker between shapes F4 and F6. Likewise, if the extractor does not fully shape-chase a power-net, it creates a <em>Potential Open</em> marker to indicate a potentially incomplete net.</p>

<h3>
<a id="pgfId-1074231"></a><a id="76997"></a>Assigning Connectivity to a Via</h3>

<p>
<a id="pgfId-1094807"></a>You can assign connectivity directly to a via in the same way as you assign connectivity to paths, polygons, and rectangles. The <code>lxStickyNet</code> property is automatically added to the via, which retains the net assignment until you remove the property or override it with a new net assignment.</p>
<p>
<a id="pgfId-1094808"></a>If you remove the <code>lxStickyNet</code> property, Layout XL assigns connectivity to the via based on overlaps.</p>

<h2>
<a id="pgfId-1074236"></a><a id="31838"></a>Connectivity Extracti<a id="subwellextract"></a>on from Substrate and Well Layers</h2>

<p>
<a id="pgfId-1074237"></a>The extractor now fully recognizes soft connections to the substrate and well layers.</p>
<ul><li>
<a id="pgfId-1074238"></a>The soft connections are established using tap vias. Tap vias can be defined as connections to the substrate or a well layer on which they are placed.</li><li>
<a id="pgfId-1074239"></a>The substrate and well layers form an area on which you can place devices. The extractor verifies the connections made to the bulk terminal of these devices.</li><li>
<a id="pgfId-1074240"></a>The extractor evaluates the soft connections to appropriately propagate the connectivity. The extractor supports connectivity extraction of the bulk terminal of a device even when the bulk is not implemented by a physical shape. This is typically the case when an <code>n-type</code> transistor is placed over a <code>p-type</code> substrate and no physical shape represents the bulk area of the transistor for connectivity extraction. </li><li>
<a id="pgfId-1074241"></a>The extractor allows the substrate and well layers to be partitioned into discrete areas. This enables users to limit the connectivity extraction to a local substrate or a well area created by a partition.</li></ul>



<p>
<a id="pgfId-1074242"></a>Before these enhancements were implemented, the connectivity of the substrate was not checked at all and any physical shape on a well layer was considered as metal in terms of connectivity propagation. Likewise, the connectivity of shapeless bulk terminals was not checked.</p>
<p>
<a id="pgfId-1074243"></a>Now, the extractor checks connectivity for the substrate, well layers, and bulk terminals and subsequently creates appropriate open and short markers in the <a href="appF.html#23026">Annotation Browser</a>.</p>
<p>
<a id="pgfId-1074247"></a>The following is a list of topics covered in this section:</p>
<p>
<a id="pgfId-1074251"></a><a href="chap8.html#19502">Soft Connections: Definition</a></p>
<p>
<a id="pgfId-1074255"></a><a href="chap8.html#21808">Bulk Area: Definition</a></p>
<p>
<a id="pgfId-1074259"></a><a href="chap8.html#28399">Bulk Area: Connectivity Extraction</a></p>
<p>
<a id="pgfId-1074263"></a><a href="chap8.html#72321">Connectivity Propagation through the Substrate and Well Areas</a></p>

<h4>
<a id="pgfId-1074265"></a><a id="19502"></a>Soft Connections: Definition</h4>

<p>
<a id="pgfId-1074266"></a>A soft-connect object can be:</p>
<ul><li>
<a id="pgfId-1074267"></a>The entire substrate or an isolated area of the substrate</li><li>
<a id="pgfId-1074268"></a>A physical shape on a well layer or an isolated portion of the well shape </li><li>
<a id="pgfId-1074269"></a>A bulk instance terminal</li></ul>


<p>
<a id="pgfId-1074270"></a>A soft connection is a physical overlap between a soft-connect object and a tap via connecting to it. For a well layer, a soft-connection can also be made directly from a physical layer connecting to it, such as a diffusion shape.</p>
<p>
<a id="pgfId-1074271"></a>A soft-connect object must be polarized from a tap via or a connecting layer. The polarization in such a connection is unidirectional&#8212;from the polarization source to the soft-connect object.</p>
<p>
<a id="pgfId-1074272"></a>In terms of connectivity checking, it is valid to connect several soft-connect objects together, such as two well shapes.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1074273"></a>The extractor does not report soft-connect design errors, such as a floating well shape or substrate area or a layout pattern that forces the current to flow out of a soft-connect object. To detect such errors, tools such as Cadence PVS (Physical Verification System) can be used.</div>

<h4>
<a id="pgfId-1074275"></a><a id="21808"></a>Bulk Area: Definition</h4>

<p>
<a id="pgfId-1074276"></a>The bulk area of a transistor can be defined using a physical and extractable pin figure or using a shapeless terminal. If the bulk is implemented using a physical shape, the corresponding pin figures define the bulk area and the extractor uses the corresponding layer(s) to determine the top-level connections. If the bulk is a shapeless terminal, the bulk area of the device is usually the active layer that lies under its gate, between the source and the drain. The following figure displays the bulk area of a PMOS device, which is a physical shape on the Nwell layer. </p>

<p>
<a id="pgfId-1074283"></a></p>
<div class="webflare-div-image">
<img width="532" height="201" src="images/chap8-24.gif" /></div>

<p>
<a id="pgfId-1074284"></a>The following figure displays the bulk area of an NMOS device for a shapeless bulk terminal.</p>

<p class="webflare-indent1">
<a id="pgfId-1074291"></a></p>
<div class="webflare-div-image">
<img width="451" height="226" src="images/chap8-25.gif" /></div>

<p>
<a id="pgfId-1074292"></a>When the bulk terminal is shapeless, the corresponding bulk area needs to be derived by the extractor. For more information, see <a href="chap8.html#50443">Identifying the Bulk Area</a>.</p>

<h4>
<a id="pgfId-1074297"></a><a id="28399"></a>Bulk Area: Connectivity Extraction</h4>

<p>
<a id="pgfId-1074298"></a>Bulk area connectivity extraction means that the extractor recognizes the bulk area as an extractable layer even when the terminal is shapeless.</p>
<p>
<a id="pgfId-1131854"></a>The bulk area is considered as &#8220;fully&#8221; extractable because the bulk is recognized by the extractor even if it does not have a physical shape drawn. When an instance terminal without an extractable layer has its pinFig-less layer defined as &quot;substrate&quot;, the PR boundary in the master is used to define the geometry of the bulk area.</p>
<p>
<a id="pgfId-1096329"></a>For the extractor to derive connectivity information from the bulk area, here are the tasks that need to be performed:</p>
<ul><li>
<a id="pgfId-1096333"></a><a href="chap8.html#21846">Identifying the Substrate Area</a></li><li>
<a id="pgfId-1074308"></a><a href="chap8.html#10785">Isolating the Substrate and Well Layers</a></li><li>
<a id="pgfId-1074312"></a><a href="chap8.html#50443">Identifying the Bulk Area</a></li><li>
<a id="pgfId-1074316"></a><a href="chap8.html#22801">Identifying the Substrate and Well Tap Vias</a></li></ul>




<h4><em>
<a id="pgfId-1074318"></a><a id="21846"></a>Identifying the Substrate Area</em></h4>

<p>
<a id="pgfId-1074319"></a>Before we discuss why it is important to identify the substrate area for bulk area extraction, let us find out what a substrate means in the context of chip fabrication. </p>
<p>
<a id="pgfId-1074320"></a>A substrate is the base layer of a chip on which the various devices are placed to form a functional model. The substrate can be <code>n-type</code> or <code>p-type</code>. Depending on the substrate type, devices can be placed directly on the substrate or inside a well shape.</p>
<p>
<a id="pgfId-1074321"></a>For example, in the figure below, the substrate is <code>p-type</code>. So, the NMOS (Nch) devices are directly placed over the substrate. Conversely, the PMOS (Pch) devices are placed over an n-well shape. The p-substrate and the n-well shape form a diode that must be reverse-biased to prevent the current to flow from one side to the other. This is why the <code>p-type</code> substrate is polarized to a net such as VSS, similar to the bulk terminal of the Nch devices. Likewise, the n-well shape is polarized to a net such as VDD, similar to the bulk terminal of the Pch devices.</p>

<p>
<a id="pgfId-1074328"></a></p>
<div class="webflare-div-image">
<img width="483" height="266" src="images/chap8-26.gif" /></div>

<b>Note:</b><br />
<a id="pgfId-1074329"></a>
<ul><li>
<a id="pgfId-1074330"></a>The n-well shape drawn over the substrate isolates the enclosed devices from the main substrate. </li><li>
<a id="pgfId-1074331"></a>The n-well shape can be a guard ring. In such a case, the isolation created by the Nwell guard ring divides the substrate into two areas&#8212;substrate1 and substrate2&#8212;as displayed in the figure below.
<br /><div class="webflare-div-image">
<img width="484" height="261" src="images/chap8-27.gif" /></div></li></ul>




<p>
<a id="pgfId-1074340"></a>The main substrate is the Global substrate that belongs to the entire chip. The Local substrate, which is the area enclosed within the n-well guard ring, is shown in the figure below. The local and global substrates are used in a design configuration to separate the digital and analog parts on a chip.</p>

<p class="webflare-indent1">
<a id="pgfId-1074344"></a></p>
<div class="webflare-div-image">
<img src="images/nTypeProcess2.GIF" /></div>

<p>
<a id="pgfId-1074345"></a>With this kind of isolation, the bulk instance terminals of devices placed on one substrate area are not connected to the bulk instance terminals of devices placed on the other substrate area. For more information, see <a href="chap8.html#10785">Isolating the Substrate and Well Layers</a>.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1074349"></a>The n-well guard ring can additionally be overlapped by an <code>n-buried</code> shape. This increases the isolation between the global and the local substrate by preventing the current to flow vertically between the two substrate areas. For more information about buried layers, see <a href="chap8.html#24261">Substrate and Well Isolation Using a Buried Layer</a>. </div>
<p>
<a id="pgfId-1075092"></a>When extracting connectivity, you identify the substrate area by representing it using the PR boundary. If there is no PR boundary in the design, the substrate is considered to extend over the entire area of the current layout.</p>
<p>
<a id="pgfId-1075093"></a>You can then partition the global substrate into specific local substrates. Only those devices on the given substrate area that have their bulk area (physical shape or derived area) fully enclosed within the PR boundary (if present) are considered for extraction.</p>
<p>
<a id="pgfId-1075094"></a>For example, in the figure below, the two devices that are labeled as &#8220;unconnected&#8221; do not have their bulk area fully inside the PR boundary. So, these devices are not considered for connectivity extraction.</p>

<p>
<a id="pgfId-1074361"></a></p>
<div class="webflare-div-image">
<img width="584" height="396" src="images/chap8-29.gif" /></div>
<h4><em>
<a id="pgfId-1074363"></a><a id="10785"></a>Isolating the Substrate and Well Layers</em></h4>

<p>
<a id="pgfId-1074364"></a>Isolating a portion of the substrate requires that the technology file mentions a given well layer as &#8220;stopping&#8221; the substrate. This helps the extractor recognize any shape drawn on a well layer as either:</p>
<ul><li>
<a id="pgfId-1074365"></a>&#8221;Connecting&#8221; to the substrate. For example, a p-well shape connects to a p-substrate.</li><li>
<a id="pgfId-1074366"></a>&#8220;Stopping&#8221; the substrate&#8212;providing an area isolated from the substrate or splitting it into two parts. For example, an n-well shape stops a p-substrate.</li></ul>

<p>
<a id="pgfId-1074367"></a>Isolating a portion of a well layer is similar to isolating the substrate because it requires some other well layers to be defined as &#8220;stopping&#8221; it. These &#8220;stopping&#8221; well layers should all be of the same type, opposite to the type of the well layer to be stopped.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1074368"></a>You can use dedicated isolation layers to stop the substrate or well layers. In that case, these isolation layers should be defined as &#8220;recognition&#8221; layers in the technology file.</div>
<p>
<a id="pgfId-1074369"></a>The details about a layer cutting or stopping another layer are specified in the technology file by using derived layers. For more information about derived layers, see <a href="chap2.html#96318">Specifying the Information Required by the Layout XL Connectivity Extractor</a>.</p>
<p>
<a id="pgfId-1074373"></a>If the technology file does not define a well layer of the opposite type as the substrate as &#8220;stopping&#8221; the substrate, the extractor considers the corresponding well shapes as shorting to the substrate. In such a case, the extractor might produce some incorrect results during connectivity extraction. For more information, see <a href="chap8.html#14093">Checking Connectivity</a>. </p>
<p>
<a id="pgfId-1074377"></a>Let us consider the following example.</p>
<p>
<a id="pgfId-1074378"></a>Consider a highly doped &#8220;P&#8221; region formed by a p-well shape on top of an n-substrate, as in the figure below. If you do not specify, by using appropriate derived layers, that the p-well layer stops the substrate, the extractor assumes that the p-well layer &#8220;shorts&#8221; to it. The extractor, therefore, propagates the connectivity between the p-well shape and the substrate, generating incorrect connectivity extraction results.</p>

<p>
<a id="pgfId-1074385"></a></p>
<div class="webflare-div-image">
<img width="483" height="231" src="images/chap8-30.gif" /></div>

<p>
<a id="pgfId-1074386"></a>It is, therefore, required that the technology file defines any well layer, which is of the reverse doping type compared to the substrate, as stopping the substrate. For example, the figure below displays a p-substrate stopped by an n-well shape. For the extractor to establish correct connectivity between the two, the n-well layer must be set as stopping the substrate.</p>
<p>
<a id="pgfId-1074390"></a></p>

<div class="webflare-div-image">
<img src="images/nTypeProcess.GIF" /></div>

<p>
<a id="pgfId-1074391"></a>To summarize, if a well layer is n-type and the substrate is p-type or vice versa, the technology file must indicate that the well layer stops the substrate. </p>
<p>
<a id="pgfId-1074392"></a>The v<a id="SubstrateIsolation"></a>arious methods that you can use to isolate a substrate and well layer are:</p>
<ul><li>
<a id="pgfId-1074396"></a><a href="chap8.html#93825">Substrate and Well Isolation by Drawing a Physical Shape on a Layer</a></li><li>
<a id="pgfId-1075062"></a><a href="chap8.html#55427">Substrate and Well Isolation Using an Isolation Layer</a></li><li>
<a id="pgfId-1075064"></a><a href="chap8.html#97324">Substrate and Well Isolation Using a Pseudo (Dummy) Isolation Layer</a></li><li>
<a id="pgfId-1075068"></a><a href="chap8.html#24261">Substrate and Well Isolation Using a Buried Layer</a></li></ul>



<p>
<a id="pgfId-1074408"></a><a id="93825"></a>Substrate and Well Isolation by Drawing a Physical Shape on a Layer </p>
<p>
<a id="pgfId-1074409"></a><a actuate="user" class="URL" href="../vlehelp/chap9.html#firstpage" show="replace" xml:link="simple">You can isolate an area of the substrate by creating a physical shape on a well layer. The well shape can be a simple rectangle or a </a><h-hot>guard ring</h-hot>. If you use a guard ring for isolation, the well shape that is formed isolates the substrate area lying inside the guard ring from the substrate area outside. </p>
<p>
<a id="pgfId-1074411"></a>If an Nwell layer completely cuts the substrate into two distinct parts, the two substrate areas are electrically isolated. For example, in the following figure, the n-well shape splits the substrate into two physically and electrically separated areas. If you now place &#8220;Nch&#8221; devices on the two substrate areas, there is no connectivity propagation across the bulk instance terminals of these devices. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1074412"></a>The two substrate areas must be physically distinct&#8212;without overlap or abutment&#8212;for the isolation to be effective and recognized by the extractor.</div>

<p>
<a id="pgfId-1074420"></a></p>
<div class="webflare-div-image">
<img width="371" height="279" src="images/chap8-32.gif" /></div>

<p>
<a id="pgfId-1074421"></a>Let us now consider another example. In this case, an n-well guard ring is drawn on the substrate. This guard ring cuts the substrate and, therefore, provides a local substrate within, which is isolated from the global substrate. The bulk instance terminals of devices placed inside the guard ring are not connected to the bulk instance terminals of devices placed outside the guard ring. </p>

<p>
<a id="pgfId-1074428"></a></p>
<div class="webflare-div-image">
<img width="462" height="285" src="images/chap8-33.gif" /></div>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1074429"></a>If the n-well guard ring does not form a closed ring, the two substrate areas formed by the guard ring are not electrically isolated. Therefore, the bulk instance terminals of devices placed inside the guard ring are, in this case, connected to the instance terminals of devices placed outside the guard ring. </div>
<p>
<a id="pgfId-1074430"></a>Let us next consider an example where a p-well shape is placed over a p-substrate. In this case, the extractor considers the well shape as connecting to the substrate and propagates connectivity between the two. </p>

<p>
<a id="pgfId-1074437"></a></p>
<div class="webflare-div-image">
<img width="407" height="310" src="images/chap8-34.gif" /></div>

<p>
<a id="pgfId-1074438"></a>If you want to isolate the p-well shape from the substrate, you can surround it with an n-well <a actuate="user" class="URL" href="../vlehelp/chap9.html#firstpage" show="replace" xml:link="simple">guard ring</a> as shown in the figure below. </p>

<p>
<a id="pgfId-1074446"></a></p>
<div class="webflare-div-image">
<img width="481" height="320" src="images/chap8-35.gif" /></div>

<p>
<a id="pgfId-1074917"></a>Although not strictly required by the connectivity extractor for connectivity checking, you can additionally increase the isolation of the above p-well shape by overlapping it with an n-buried layer. For more information about increased substrate isolation using buried layers, see <a href="chap8.html#24261">Substrate and Well Isolation Using a Buried Layer</a>.</p>

<h4><em>
<a id="pgfId-1074922"></a><a id="37551"></a>Related Topics</em></h4>

<p>
<a id="pgfId-1074456"></a><a href="chap8.html#28399">Bulk Area: Connectivity Extraction</a></p>

<h4>
<a id="pgfId-1074458"></a>Substrate and Well Isolation <a id="55427"></a>Using an Isolation Layer </h4>

<p>
<a id="pgfId-1074459"></a>In addition to using a well shape for isolating an area of the substrate or another well layer, you can use a dedicated isolation layer. An isolation layer can be a shape&#8212;a rectangle, a guard ring, or any other shape&#8212;that cuts the substrate or the well layer into discrete areas. </p>
<p>
<a id="pgfId-1074460"></a>When isolating an area of the substrate or a well layer using an isolation layer, the bulk instance terminals of the devices on different substrate or well areas are not connected. Let us consider an example of a well-formed isolation made up of an isolation layer that completely cuts the substrate into two distinct parts.</p>

<p>
<a id="pgfId-1074467"></a></p>
<div class="webflare-div-image">
<img width="331" height="275" src="images/chap8-36.gif" /></div>

<p>
<a id="pgfId-1074468"></a>Here: </p>
<ul><li>
<a id="pgfId-1074469"></a>The isolation layer cuts the substrate into two discrete areas. </li><li>
<a id="pgfId-1074470"></a>The bulk instance terminal of device A is assigned to net A from the tap via through the substrate.</li><li>
<a id="pgfId-1074471"></a>The bulk instance terminal of device B is left unassigned because it lies in a different substrate region. </li><li>
<a id="pgfId-1074472"></a>Device C is not considered for connectivity extraction of the bulk terminal because it lies outside the PR boundary. Therefore, the bulk instance terminal of the device is left unassigned.</li></ul>



<p>
<a id="pgfId-1074473"></a>Let us next consider an example of a malformed isolation in which the isolation layer does not completely cut the substrate into two different parts.</p>

<p>
<a id="pgfId-1074480"></a></p>
<div class="webflare-div-image">
<img width="341" height="289" src="images/chap8-37.gif" /></div>

<p>
<a id="pgfId-1074481"></a>Here:</p>
<ul><li>
<a id="pgfId-1074482"></a>The isolation layer does not cut the substrate into two discrete areas. </li><li>
<a id="pgfId-1074483"></a>The bulk instance terminal of devices A and B is assigned to net A from the tap via through the substrate.</li><li>
<a id="pgfId-1074484"></a>Device C is not considered for connectivity extraction of the bulk terminal because it lies outside the PR boundary. Therefore, the bulk instance terminal of the device is left unassigned.</li></ul>


<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1074485"></a>During connectivity checking, the extractor does not consider the distances between a tap via placed over a substrate or well area and the bulk terminal of the devices placed within this area. All the devices that are placed on this substrate or well area are polarized, irrespective of their distance from the tap via.</div>
<p>
<a id="pgfId-1074486"></a>An isolation layer can also be used to isolate a well layer from the substrate if the well layer is of the same type as the substrate. In the following figure, the Pwell shape is totally enclosed inside the isolation shape and it is, therefore, isolated from the substrate outside. In this example, the isolation layer is set as &#8216;stopping&#8217; the substrate but the extractor only considers its edges as cutting the substrate. Therefore, the extractor considers the inner area as an isolated portion of the same doping type as the outer area.</p>

<p>
<a id="pgfId-1074493"></a></p>
<div class="webflare-div-image">
<img width="527" height="419" src="images/chap8-38.gif" /></div>

<p>
<a id="pgfId-1074495"></a>For further isolation within a well area, you can use a <h-hot><a actuate="user" class="URL" href="../vlehelp/chap9.html#firstpage" show="replace" xml:link="simple">guard ring</a></h-hot>. In the figure below, a guard ring containing an isolation layer is placed over a p-well shape. This isolates the p-well area inside the guard ring from the p-well area outside. The p-well outside the guard ring shorts to the substrate. However, the p-well inside the guard ring forms an isolated area, which can be cut further by an n-well shape to provide an isolated area of the opposite polarity.</p>

<p>
<a id="pgfId-1074502"></a></p>
<div class="webflare-div-image">
<img width="626" height="411" src="images/chap8-39.gif" /></div>
<h4><em>
<a id="pgfId-1074503"></a>Related topics</em></h4>

<p>
<a id="pgfId-1074507"></a><a href="chap8.html#10785">Isolating the Substrate and Well Layers</a></p>
<p>
<a id="pgfId-1074509"></a><h-hot><a href="chap8.html#97324">Substrate and Well Isolation Using a Pseudo (Dummy) Isolation Layer</a></h-hot></p>
<p>
<a id="pgfId-1074514"></a><a href="chap8.html#24261">Substrate and Well Isolation Using a Buried Layer</a></p>
<p>
<a id="pgfId-1098400"></a><a href="chap8.html#28399">Bulk Area: Connectivity Extraction</a></p>

<h4>
<a id="pgfId-1098404"></a><a id="97324"></a>Substrate and Well Iso<a id="dummyIsolation"></a>lation Using a Pseudo (Dummy) Isolation Layer</h4>

<p>
<a id="pgfId-1074521"></a>This methodology is not recommended because the pseudo isolation layer is not manufactured. Therefore, some real short violations can potentially be left undetected by the tool. However, if a pseudo isolation layer is used, the same extraction requirements and connectivity checking results will be observed as for a real isolation layer. </p>
<p>
<a id="pgfId-1074522"></a>A pseudo isolation layer is processed by the extractor the same way as a real isolation layer. For example, in the figure below, the pseudo isolation layer isolates the p-well area below it from the p-well area outside. The n-well shape further stops the p-type area and provides an isolated n-type area by itself.</p>

<p>
<a id="pgfId-1074529"></a></p>
<div class="webflare-div-image">
<img width="542" height="374" src="images/chap8-40.gif" /></div>
<h4><em>
<a id="pgfId-1074530"></a>Related Topics</em></h4>

<p>
<a id="pgfId-1074534"></a><a href="chap8.html#10785">Isolating the Substrate and Well Layers</a></p>
<p>
<a id="pgfId-1074538"></a><a href="chap8.html#55427">Substrate and Well Isolation Using an Isolation Layer</a></p>
<p>
<a id="pgfId-1074543"></a><a href="chap8.html#24261">Substrate and Well Isolation Using a Buried Layer</a></p>
<p>
<a id="pgfId-1074547"></a><a href="chap8.html#28399">Bulk Area: Connectivity Extraction</a></p>

<h4>
<a id="pgfId-1074549"></a><a id="24261"></a>Substrate and Well Isolation Using a Buried Layer</h4>

<p>
<a id="pgfId-1074550"></a>Buried layers allow users to provide a more efficient isolation when used in addition to the isolation methods based on physical shapes or isolation layers.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1074551"></a>In the technology file, a buried layer has function &#8220;n-buried&#8221; or &#8220;p-buried&#8221;. Its polarity should be the opposite of the polarity of the substrate. A buried well layer is a well layer with a lower mask number compared to another well layer of the same polarity.</div>
<p>
<a id="pgfId-1074553"></a>A local p-substrate is formed by a p-well shape over an n-buried shape, as shown in the figure below, with the p-well shape surrounded by an n-well guard ring. </p>

<p>
<a id="pgfId-1074557"></a></p>
<div class="webflare-div-image">
<img src="images/DeepNwell.GIF" /></div>

<p>
<a id="pgfId-1074558"></a>The n-well guard ring provides sufficient isolation to prevent the current from flowing horizontally between the p-well and the substrate. The n-buried layer further increases the isolation by preventing the current from flowing vertically between the p-well and the substrate. Therefore, if an &#8220;Nch&#8221; device is placed over the p-well that lies above the n-buried layer, the bulk instance terminal of this &#8220;Nch&#8221; device is isolated from any other &#8220;Nch&#8221; device placed outside of the buried layer.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1074559"></a>For the isolation due to the buried layer to be considered effective, the buried shape must be assigned to a net.</div>
<p>
<a id="pgfId-1096686"></a>In the example below, the n-well guard ring defines a local substrate, which is further isolated from the global substrate by an n-buried shape. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1112377"></a>In this example, a p-well shape is not drawn. This could be intentional because the technology file does not define an explicit p-well layer.</div>

<p>
<a id="pgfId-1096694"></a></p>
<div class="webflare-div-image">
<img width="413" height="303" src="images/chap8-42.gif" /></div>

<p>
<a id="pgfId-1074569"></a>Related Topics</p>
<p>
<a id="pgfId-1074573"></a><a href="chap8.html#10785">Isolating the Substrate and Well Layers</a></p>
<p>
<a id="pgfId-1074576"></a><h-hot><a href="chap8.html#97324">Substrate and Well Isolation Using a Pseudo (Dummy) Isolation Layer</a></h-hot></p>
<p>
<a id="pgfId-1074580"></a><a href="chap8.html#28399">Bulk Area: Connectivity Extraction</a></p>

<h4><em>
<a id="pgfId-1074582"></a><a id="50443"></a>Identifying the Bulk Area</em></h4>

<p>
<a id="pgfId-1074583"></a>For the extractor to recognize the bulk area of a device placed over the substrate or a well area, the bulk terminal should either have:</p>
<ul><li>
<a id="pgfId-1074584"></a>Physically drawn shapes that represent the areas to be extracted.</li><li>
<a id="pgfId-1074585"></a>A derived region that represents the areas to be extracted.</li></ul>

<p>
<a id="pgfId-1074586"></a>In both cases, the bulk terminal must be explicitly set as soft-connect for the extractor to recognize it as a bulk connection. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1079283"></a>If the bulk terminal is implementing a tap to the substrate or the well, it is being used to polarize the substrate or the well, so the bulk terminal should not be set as soft-connect.</div>
<p>
<a id="pgfId-1074588"></a>You can create a soft-connect bulk terminal by using the <h-hot><a actuate="user" class="URL" href="../sklayoutref/lx.html#dbSetTermSoftConnect" show="replace" xml:link="simple">dbSetTermSoftConnect</a></h-hot> SKILL API. Because the terminal is soft-connect, it does not draw current and is used only to polarize the bulk area of the corresponding device. The supported direction for polarization is from the substrate or well layer toward the bulk instance terminal. This allows the bulk area of the device to be polarized from an appropriate external source, but does not allow the connectivity to propagate from the bulk instance terminal to the outside of the device. </p>
<b>Note:</b><br />
<a id="pgfId-1074589"></a>
<ul><li>
<a id="pgfId-1079358"></a>As usual, the connectivity of a bulk terminal is provided by the associated top-level net attached to the instance terminal.</li><li>
<a id="pgfId-1079359"></a>Even though it is recommended to explicitly set bulk area terminals as soft-connect, a terminal that has only pins on well layers is considered to be effectively soft-connect even if the bulk is not explicitly defined.</li></ul>

<p>
<a id="pgfId-1104453"></a>The connectivity extraction of a bulk terminal varies on a case basis:</p>
<ul><li>
<a id="pgfId-1104466"></a>If the bulk terminal is implemented by at least one extractable pin figure, the extractor uses the corresponding geometries to detect any top-level overlap on these physical layers.</li><li>
<a id="pgfId-1104481"></a>If the bulk terminal is not implemented by any extractable pin figure (shapeless bulk terminal), the extractor derives the bulk area for that terminal using a derived layer. The derived layer represents the intersection between two or more physical layers, typically poly and diffusion. To set the connection between the bulk terminal and this derived layer, use the <a actuate="user" class="URL" href="../sklayoutref/lx.html#dbSetSoftConnectTermPinlessLayer" show="replace" xml:link="simple">dbSetSoftConnectTermPinlessLayer </a>API. <br />
<a id="pgfId-1074594"></a>For example, the bulk area of an NMOS device placed on a p-type substrate can be a shapeless bulk for which the bulk area is derived based on the &#8220;gate area&#8221;. In that case, you can use the following definition to derive the bulk area:<pre class="webflare-pre-block webflare-courier-new" id="#id1074595">
<a id="pgfId-1074595"></a>techDerivedLayers((gateArea 10001 (PO &#39;and OD)))</pre><br /><div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1074596"></a>
For the extractor to recognize the derived bulk area for connectivity extraction, the derived layer that represents the bulk area must be defined as a valid layer and used as a parameter for <a actuate="user" class="URL" href="../sklayoutref/lx.html#dbSetSoftConnectTermPinlessLayer" show="replace" xml:link="simple">dbSetSoftConnectTermPinlessLayer</a>. 

By default, a shapeless bulk terminal connects to the substrate. However, if you need to redefine this connection, you can do so using the <a actuate="user" class="URL" href="../sklayoutref/lx.html#dbSetSoftConnectTermConnectToLayer" show="replace" xml:link="simple">dbSetSoftConnectTermConnectToLayer</a> SKILL function.</div></li><li>
<a id="pgfId-1074599"></a>For a device having several bulk areas, either on the same bulk terminal or on different ones, the bulk areas should be physically connected so that they are properly polarized. Otherwise, the extractor creates open markers to indicate that the bulk areas should be connected. In the case of a device having several bulk terminals, such as when implementing multi-fingered devices, all the bulk terminals must be set as must-connect terminals to allow for proper detection of the unconnected bulk areas by the extractor.</li></ul>








<h4><em>
<a id="pgfId-1074601"></a><a id="22801"></a>Identifying the Substrate and Well Tap Vias </em></h4>

<p>
<a id="pgfId-1074602"></a>A tap via (pVia or nVia) is a via that connects to a substrate area or a well layer and polarizes it.</p>
<p>
<a id="pgfId-1074603"></a>In a p-type substrate, the technology file defines a pVia as a standard via that has its optional well or substrate layer set to &#8220;substrate&#8221;. A pVia connects to the p-type local or global substrate or to a p-well shape on which the via is placed. </p>
<p>
<a id="pgfId-1074604"></a>The following is a sample via definition that defines a via polarizing the substrate from the <code>metal1 </code>layer:</p>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1074605"></a>metal1 - &gt; cutLayer - &gt; (diffusionLayer &amp;&amp; PImplantLayer) - &gt; substrate</pre>

<p>
<a id="pgfId-1074606"></a>Unlike a pVia, an nVia has its optional well or substrate layer set to a physical n-well layer. An nVia connects to an n-well shape on which it is placed. </p>
<p>
<a id="pgfId-1074607"></a>The following is a sample via definition that defines a via polarizing an n-well shape on which it is placed: </p>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1074608"></a>metal1 - &gt; cutLayer - &gt; (diffusionLayer &amp;&amp; NImplantLayer) - &gt; Nwell </pre>

<b>Note:</b><br />
<a id="pgfId-1074609"></a>
<ul><li>
<a id="pgfId-1074610"></a>The extractor recognizes an nVia defined as connecting to an n-well layer even if the via master does not implement a physical n-well shape.</li><li>
<a id="pgfId-1074611"></a>An nVia does not connect to the n-buried layer, if it is defined.</li></ul>

<p>
<a id="pgfId-1074612"></a>The definitions for an n-type substrate are similar to those for a p-type substrate except that it is an nVia that connects to the substrate instead of a pVia. Conversely, a pVia is defined as connecting to a p-well shape.</p>

<h4><em>
<a id="pgfId-1074613"></a>Related Topics</em></h4>

<p>
<a id="pgfId-1074617"></a><a href="chap8.html#28399">Bulk Area: Connectivity Extraction</a></p>
<p>
<a id="pgfId-1074621"></a><a href="chap8.html#72321">Connectivity Propagation through the Substrate and Well Areas</a></p>

<h4>
<a id="pgfId-1074623"></a><a id="72321"></a>Connectivity Propagation through the Substrate and Well Areas</h4>

<p>
<a id="pgfId-1075034"></a>As already mentioned, the extractor does not propagate the connectivity from a soft-connect object; such as a substrate area, a well shape, or a device bulk terminal to a polarizing object, such as a tap via or a diffusion shape. However, it does support connectivity to propagate between two soft connect objects that directly overlap. </p>
<p>
<a id="pgfId-1075035"></a>For example, if you polarize a substrate or a well area and place multiple devices on it, you will observe that the connectivity propagates to the bulk instance terminals of all the devices. As earlier mentioned, no connectivity propagation is observed to the bulk instance terminals for the devices placed outside the polarized substrate or well area. </p>
<p>
<a id="pgfId-1074626"></a>Conversely, during a Pick From Schematic command, if you place multiple devices whose bulk instance terminal is assigned to a net and place them over a floating substrate or a well area&#8212;an area which is not assigned to a net&#8212;you will observe no connectivity propagation from the bulk instance terminals to the substrate or well. This enforces the requirement that the substrate or the well must be polarized from an external source, such as a tap via or a diffusion shape.</p>

<h4><em>
<a id="pgfId-1074628"></a><a id="14093"></a>Checking Connectivity </em></h4>

<p>
<a id="pgfId-1074629"></a>During connectivity extraction, if the extractor identifies any design violations related to substrate, well shapes, or bulk terminals, it generates appropriate open and short markers in the Annotation Browser. </p>
<ul><li>
<a id="pgfId-1074630"></a>All the devices placed on a polarized substrate or well area should have their bulk instance terminal assigned to the same net. If this is not done, the extractor creates short markers between the various nets.</li><li>
<a id="pgfId-1074631"></a>If a net polarizes the bulk instance terminal of a device through the substrate or a well, the connection is considered valid irrespective of the distance between the bulk terminal and the tap via on the net polarizing it. This means that for connectivity checking, a single tap via is sufficient to polarize the bulk of all the devices placed on a given substrate or a well area.<br />
<a id="pgfId-1079168"></a>For example, in the figure below, a metal path on net VDD polarizes two well shapes from a pin on that net by using Nvias that connect the metal to the wells.<br />
<a id="pgfId-1074638"></a><div class="webflare-div-image">
<img width="494" height="368" src="images/chap8-43.gif" /></div></li></ul>






<p>
<a id="pgfId-1074639"></a>Now, let us assume that the user deletes the VDD path. Although the two well shapes are close to each other, the extractor creates the open markers with the top-level VDD pin to indicate the preferred routing path. This is displayed in the figure below. </p>

<p>
<a id="pgfId-1074646"></a></p>
<div class="webflare-div-image">
<img width="495" height="404" src="images/chap8-44.gif" /></div>
<h4><em>
<a id="pgfId-1074647"></a><a id="36968"></a> Impact of the Hierarchy on the Top-Level Connectivity Checking</em></h4>

<p>
<a id="pgfId-1074648"></a> When the extract stop level is increased from 0 to a higher value, the extractor is able to create appropriate connectivity violation markers for objects located in the hierarchy and, in particular, for objects that create a soft connection with a top-level object.</p>
<p>
<a id="pgfId-1098534"></a>For example, in the following figure, the substrate is polarized on net GND by a top-level pVia, as displayed in the upper left of the figure. This creates a short condition with the pVia located in the hierarchy and connected to the top-level net, GND2. The extractor, therefore, creates a short marker to report this design error, as shown in the figure below. </p>

<p>
<a id="pgfId-1098542"></a></p>
<div class="webflare-div-image">
<img width="558" height="327" src="images/chap8-45.gif" /></div>
<h3>
<a id="pgfId-1128976"></a>Hierarchical Overlaps Processed During Extraction</h3>

<p>
<a id="pgfId-1129112"></a>The connectivity extractor processes various types of overlaps with unassigned hierarchical shapes. Some of these scenarios are explained below.</p>
<p>
<a id="pgfId-1074676"></a><em>Scenario 1: F0 overlaps HF0, HF0 overlaps HF1</em></p>

<p>
<a id="pgfId-1074684"></a></p>
<div class="webflare-div-image">
<img width="282" height="255" src="images/chap8-46.gif" /></div>

<p>
<a id="pgfId-1129125"></a>In this scenario, the ECV shape F0 assigned to net a overlaps the unassigned hierarchical shape HF0. If the extractor stop level is greater than 0, the connectivity extractor detects the overlap and chases hierarchical shapes connected to this unassigned hierarchical shape.</p>
<p>
<a id="pgfId-1129126"></a>Here, HF0, which is an unassigned hierarchical shape, overlaps another hierarchical shape HF1, which is connected to net s1 that has terminal s1 in the instance master. Therefore, HF0 is effectively connected to net b and the overlap of HF0 and F0 creates a short between net a and net b. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1129127"></a>If the extractor stop level is 0, no shorts are detected because the extractor ignores the hierarchical shapes HF0 and HF1.</div>
<p>
<a id="pgfId-1074688"></a><em>Scenario 2: F0 overlaps HF0, HF0 overlaps HF1, HF1 overlaps HF2</em></p>

<p>
<a id="pgfId-1074695"></a></p>
<div class="webflare-div-image">
<img width="404" height="276" src="images/chap8-47.gif" /></div>

<p>
<a id="pgfId-1129140"></a>In this scenario, the ECV shape F0 assigned to net a overlaps the unassigned hierarchical shape HF0. If the extractor stop level is greater than 0, the connectivity extractor detects the overlap and chases hierarchical shapes that are connected to this unassigned hierarchical shape.</p>
<p>
<a id="pgfId-1129141"></a>Here, HF0, which is an unassigned hierarchical shape, overlaps another unassigned hierarchical shape HF1, and HF1, in turn, overlaps HF2. The hierarchical shapes HF0, HF1, and HF2 are, therefore, effectively connected to net a and the instance terminal for terminal s2 is assigned to the same net.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1129007"></a>If the extractor stop level is 0, the hierarchical shapes&#8212;HF0, HF1, and HF2&#8212;are ignored by the extractor and the instance terminal for terminal s2 remains unassigned. </div>
<p>
<a id="pgfId-1074699"></a><em>Scenario 3: F0 overlaps HF0, HF0 overlaps HF1, and HF1 overlaps F1</em></p>

<p>
<a id="pgfId-1074706"></a></p>
<div class="webflare-div-image">
<img width="411" height="242" src="images/chap8-48.gif" /></div>

<p>
<a id="pgfId-1129165"></a>In this scenario, the ECV shape F0 overlaps an unassigned hierarchical shape HF0. If the extract stop level is greater than 0, the connectivity extractor detects the overlap and chases hierarchical shapes that are connected to this unassigned hierarchical shape.</p>
<p>
<a id="pgfId-1129166"></a>Here, HF0 overlaps another hierarchical shape HF1, which is effectively connected to net b due to its overlap with the ECV shape F0. Therefore, HF0 is also effectively connected to net b.</p>
<p>
<a id="pgfId-1129167"></a>Because HF0 also overlaps with ECV shape F0, which is connected to net a, a short marker is created between F0 and HF0.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1129022"></a>If the extract stop level is 0, HF0 and HF1 are ignored by the extractor. Therefore, the short is not detected.</div>
<p>
<a id="pgfId-1074711"></a><em>Scenario 4: F0 overlaps HF0</em></p>

<p>
<a id="pgfId-1074718"></a></p>
<div class="webflare-div-image">
<img width="360" height="348" src="images/chap8-49.gif" /></div>

<p>
<a id="pgfId-1129185"></a>In this scenario, the ECV shape F0 overlaps the unassigned hierarchical shape HF0.</p>
<p>
<a id="pgfId-1129646"></a>An illegal hierarchical overlap is reported because the ECV shape is assigned and the:</p>
<ul><li>
<a id="pgfId-1129647"></a>hierarchical shape is metal or poly</li><li>
<a id="pgfId-1129648"></a>instance master has at least one implemented terminal</li><li>
<a id="pgfId-1129642"></a>instance is not transparent</li></ul>


<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1129035"></a>If the ECV shape is unassigned, no error is reported. If the extract stop level is 0, hierarchical shape HF0 is ignored and no error is reported.</div>
<p>
<a id="pgfId-1074721"></a><em>Scenario 5: F0 overlaps HF0, HF0 overlaps HF1</em></p>

<p>
<a id="pgfId-1074728"></a> </p>
<div class="webflare-div-image">
<img width="477" height="296" src="images/chap8-50.gif" /></div>

<p>
<a id="pgfId-1129231"></a>In this scenario, HF0 and HF1 are two hierarchical shapes in the master of the same instance. HF1 is assigned to an internal net, a. However, this net is not connected to a terminal in the master. So, the connectivity of the hierarchical shape cannot be compared to the connectivity of the ECV shape. Therefore, an &#8220;illegal hierarchical connection&#8221; marker is created.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1129050"></a>If the ECV shape is unassigned, the connection is considered valid and no marker is created. If the extract stop level is 0, hierarchical shapes, HF0 and HF1, are ignored by the extractor and no marker is created.</div>
<p>
<a id="pgfId-1111298"></a><em>Scenario 6: HF0 overlaps HF1, HF1 overlaps HF2</em></p>

<p>
<a id="pgfId-1110588"></a></p>
<div class="webflare-div-image">
<img width="303" height="196" src="images/chap8-51.gif" /></div>

<p>
<a id="pgfId-1129062"></a>In this scenario, because HF0 is unassigned, it is effectively connected to the overlapping HF1. Therefore, an illegal hierarchical connection marker is not created, and the connection is considered valid.</p>
<p>
<a id="pgfId-1111660"></a><em>Scenario 7: Illegal hierarchical connection between two instances</em></p>

<p>
<a id="pgfId-1111762"></a></p>
<div class="webflare-div-image">
<img width="446" height="223" src="images/chap8-52.gif" /></div>

<p>
<a id="pgfId-1129074"></a>In this scenario, an illegal hierarchical connection marker is created because two internal nets are connected at the overlap of the two instances.</p>
<p>
<a id="pgfId-1074731"></a><em>Scenario 8: F0 connects to hierarchical well shape HF1</em></p>

<p>
<a id="pgfId-1074735"></a></p>
<div class="webflare-div-image">
<img width="444" height="323" src="images/chap8-53.gif" /></div>

<p>
<a id="pgfId-1129282"></a>In this scenario, HF1 is a hierarchical well shape and HF0 is a hierarchical diffusion shape. In addition, an implant shape exists that establishes connectivity between the cut, diffusion, and the well shapes.</p>
<p>
<a id="pgfId-1129283"></a>F0 is an ECV shape on a metal layer that connects to HF1 through the cut and the diffusion in accordance with the following via definition:</p>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1129284"></a><code>Metal -&gt; Cut -&gt; (Diffusion &amp;&amp; N/P Implant) -&gt; N/P Well</code></pre>

<p>
<a id="pgfId-1129285"></a>Since F0 is assigned to a net and HF1 is assigned to an internal net s1, the connection is considered invalid and an illegal hierarchical connection marker is created on the overlap of F0 and HF0.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1129091"></a>If the extract stop level is 0, the hierarchical shapes, HF0, HF1, the cut shape, and the implant shape are ignored by the extractor. Therefore, the illegal hierarchical connection marker is not created.</div>

<h2>
<a id="pgfId-1080282"></a><a id="11758"></a>Connectivity Extraction from Mosaics</h2>

<p>
<a id="pgfId-1080283"></a>The connectivity extractor processes overlaps with each tile of a mosaic (<h-hot><a actuate="user" class="URL" href="../vxlhelp/chap6.html#mosaicGen" show="replace" xml:link="simple">oaArrayInst</a></h-hot> object) in the same way as it processes overlaps with regular instances.</p>
<ul><li>
<a id="pgfId-1078422"></a>Overlaps are processed between tiles of the same mosaic.</li><li>
<a id="pgfId-1078423"></a>For pin figures that are not routed together, open markers are created if the pin figures are:<ul><li>
<a id="pgfId-1078424"></a>On the same terminal but on different tiles</li><li>
<a id="pgfId-1078425"></a>On different terminals with instTerms on the same ECV net</li></ul></li></ul>



<p>
<a id="pgfId-1074759"></a>Let us now consider some examples that illustrate how the connectivity extractor processes overlaps with mosaics: </p>
<p>
<a id="pgfId-1074760"></a><strong>Example 1: </strong>Consider a 2x2 physical-only mosaic with vertically abutting tiles, as shown in the figure below.</p>

<p>
<a id="pgfId-1074773"></a></p>
<div class="webflare-div-image">
<img width="646" height="338" src="images/chap8-54.gif" /></div>

<p>
<a id="pgfId-1074774"></a>Here, F1 and F2 are ECV shapes that connect the hierarchical shapes between the tiles.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1078595"></a><strong>An ECV shape (edited cellview shape) is a shape </strong>in the edited cellview or a pin figure of a master that has been instantiated in the edited cellview.</div>
<p>
<a id="pgfId-1078587"></a>If ECV shape F0 is moved horizontally to overlap the hierarchical shapes in the two left tiles of the mosaic, connectivity is propagated from F0 to F1 and F3. In addition, a short marker is created between F0 and F2 because the two are assigned to different nets, resulting in connectivity violation due to the overlap.</p>
<p>
<a id="pgfId-1078515"></a><strong>Example 2:</strong> Consider a 2x2 same-connectivity mosaic, as shown in the figure below.</p>

<p>
<a id="pgfId-1078522"></a></p>
<div class="webflare-div-image">
<img width="660" height="315" src="images/chap8-55.gif" /></div>

<p>
<a id="pgfId-1078523"></a>Here, the ECV shape F0 is stretched to overlap the pin figure in the top-left tile of the mosaic. As a result, the unassigned instTerm, a1, which is common to all the tiles of the mosaic, is assigned to net a. Since the pin figures on terminal a1 are all on different tiles and not overlapping, open markers are created between these pin figures.</p>
<p>
<a id="pgfId-1078524"></a><strong>Example 3: </strong>Consider a 3x1 same-connectivity mosaic with horizontally-abutting tiles, as shown in the figure below.</p>

<p>
<a id="pgfId-1078531"></a></p>
<div class="webflare-div-image">
<img width="506" height="535" src="images/chap8-56.gif" /></div>

<p>
<a id="pgfId-1078532"></a>Here, the master has three terminals, n1, n2, and n3,connected to nets a, b, and c, respectively.</p>
<p>
<a id="pgfId-1078533"></a>If the tiles are made to abut horizontally, overlaps are observed between hierarchical shapes that are connected to instance terminals n1 and n2. Since these overlapping shapes draw their connectivity from different ECV nets, net a and net b, two short markers are created for net a and net b at the overlap of these hierarchical shapes. In addition, two open markers are created on net a for the pin figures of terminal n1 because these are pin figures from the same terminal that lie on different tiles.</p>
<p>
<a id="pgfId-1078534"></a>Open markers are also created for net b. These include:</p>
<ul><li>
<a id="pgfId-1078535"></a>One open created between pin figures of terminals n2 and n3 as these are pin figures of different terminals lying on the same tile.</li><li>
<a id="pgfId-1078507"></a>Two opens created between the pin figures of terminal n2 as these are pin figures of the same terminal but on different tiles. Likewise, two opens are created between the pin figures of terminal n3 as the other corresponding pin figures of this instance terminal are on different tiles.</li></ul>


<h2>
<a id="pgfId-1095555"></a><a id="45753"></a>Shape Trimming Support</h2>

<p>
<a id="pgfId-1095661"></a>A trimmed shape or a trimmed substrate has one or several areas that can have different connectivity.</p>
<p>
<a id="pgfId-1096438"></a>The figure below represents a shape trimmed into two parts by a trim shape. In this example, there are two derived shapes, one assigned to net <code>a</code> and the other assigned to net <code>b</code>.The trimmed shape is kept floating in the database.</p>

<p>
<a id="pgfId-1096179"></a></p>
<div class="webflare-div-image">
<img width="466" height="427" src="images/chap8-57.gif" /></div>

<p>
<a id="pgfId-1096184"></a>The figure below represents a p-substrate divided into two areas by a nwell guard ring. For more information on the various types of substrate trimming methods supported, see <a href="chap8.html#10785">Isolating the Substrate and Well Layers</a>.</p>

<p>
<a id="pgfId-1102972"></a></p>
<div class="webflare-div-image">
<img width="499" height="250" src="images/chap8-58.gif" /></div>

<p>
<a id="pgfId-1102973"></a>If an instance pinFig is trimmed into several parts by a trim shape, as displayed in the figure below, only one of the derived shapes is considered to be connected to the instance terminal. The other derived shape takes the connectivity of an overlapping shape, if any.</p>

<p>
<a id="pgfId-1096562"></a></p>
<div class="webflare-div-image">
<img width="445" height="477" src="images/chap8-59.gif" /></div>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1095946"></a>The geometry and connectivity of the derived shapes is preserved between Layout XL sessions as this information is saved in the database.</div>

<h2>
<a id="pgfId-1113083"></a><a id="47049"></a>Support for C<a id="cutShapeTrim"></a>ut Shape Trimming</h2>

<p>
<a id="pgfId-1113289"></a>Let us consider a few scenarios illustrating how cut shapes on a <code>validLayer</code> can be trimmed, and how the extractor treats such connections.</p>
<p>
<a id="pgfId-1114385"></a><em>Scenario 1: Two metal shapes that are disconnected because the cut shape is completely trimmed</em></p>
<p>
<a id="pgfId-1114480"></a>In the figure below, the two metal shapes are disconnected. The cut shape is completely trimmed, it does not gain connectivity from either net and exists as a floating shape.</p>

<p>
<a id="pgfId-1114780"></a></p>
<div class="webflare-div-image">
<img width="406" height="290" src="images/chap8-60.gif" /></div>

<p>
<a id="pgfId-1114818"></a><em>Scenario 2: Two metal shapes connected by a partially-trimmed cut shape</em></p>
<p>
<a id="pgfId-1114895"></a>In the figure below, two metal shapes are connected by a shape that is partially cut. Partially-trimmed cut shapes acquire the connectivity of the connected metal shapes. In this case, the cut shape is assigned to net <code>A</code>.</p>

<p>
<a id="pgfId-1115147"></a></p>
<div class="webflare-div-image">
<img width="403" height="296" src="images/chap8-61.gif" /></div>
<h2>
<a id="pgfId-1098881"></a><a id="80668"></a>Support for C<a id="colorShapeStop"></a>olor-Dependent Shape Trimming </h2>

<p>
<a id="pgfId-1090948"></a>Layout XL recognizes color-dependent stopped and stop layers.</p>
<p>
<a id="pgfId-1091299"></a>You can use the <code>techDerivedLayers</code> section of the technology file to create derived layers for trimming shapes on a specific color mask and color state. </p>
<p>
<a id="pgfId-1098998"></a>For information on how color-dependent stopped and stop layers are defined in the technology file, see <a href="chap2.html#39576">Specifying Color-Dependent Stopped and Stop Layers in the </a><code>validLayers</code><a href="chap2.html#39576"> Constraint</a>.</p>

<h3>
<a id="pgfId-1090952"></a><a id="35430"></a>Defining Color-Dependent Stopped Layers</h3>

<p>
<a id="pgfId-1098923"></a>You can set up the technology file to define that only the shapes belonging to a particular color and color state are trimmed by shapes on another layer.</p>
<p>
<a id="pgfId-1090669"></a>Let us consider that only the M1 shapes <em>locked</em> on a particular color&#8212;<code>mask2</code>&#8212;are trimmed by the shapes on layer <code>CM1</code>, as displayed in the figure below. This means that <code>M1</code> shapes that are <em>unlocked</em> or on another color&#8212;<code>mask1</code>&#8212;or without a color are not trimmed by the <code>CM1</code> shapes.</p>

<p>
<a id="pgfId-1090673"></a></p>
<div class="webflare-div-image">
<img width="673" height="283" src="images/chap8-62.gif" /></div>

<p>
<a id="pgfId-1090674"></a>In the figure above:</p>
<p>
<a id="pgfId-1090678"></a><img width="25" height="32" src="images/chap8-63.gif" /><span> is not trimmed because it is neither </span></p>
<em>locked</em><code>mask2</code><span>.</span>
<p>
<a id="pgfId-1090885"></a><img width="25" height="32" src="images/chap8-64.gif" /><span> is not trimmed because it is not on </span><code>mask2</code><span>, although it is </span></p>
<em>locked.</em>
<p>
<a id="pgfId-1090889"></a><img width="25" height="25" src="images/chap8-65.gif" /><span> is not trimmed because it is </span></p>
<em>unlocked</em><code>mask2</code><span>.</span>
<p>
<a id="pgfId-1090698"></a><img width="25" height="25" src="images/chap8-66.gif" /><span> is not trimmed because it has no color specified (gray).</span></p>

<p class="webflare-indent1">
<a id="pgfId-1101729"></a>Because the mask color is not specified; the shape may be on any mask, <code>mask1</code> or <code>mask2</code>, at the time of fabrication. Therefore, the connectivity extractor reports the overlap as invalid and generates an illegal overlap marker. </p>
<p>
<a id="pgfId-1101743"></a><img width="28" height="29" src="images/chap8-67.gif" /><span> is trimmed because the shape meets both the conditions&#8212;</span><code>mask2</code><span> color and color status set as </span></p>
<em>locked</em><h3>
<a id="pgfId-1101745"></a><a id="18665"></a>Defining Color-Dependent Stop Layers</h3>

<p>
<a id="pgfId-1100808"></a>You can set up the technology file to define that only the shapes belonging to a particular color and color state are trimmed by shapes belonging to a particular color and color state on another layer.</p>

<p>
<a id="pgfId-1101096"></a>Let us consider that <em>locked</em> shapes on <code>mask1</code> of the stopped layer are only trimmed by <em>locked</em> shapes on <code>mask1</code> of the stop layer, as displayed in the figure below.</p>
<div class="webflare-div-image">
<img width="646" height="266" src="images/chap8-68.gif" /></div>

<p>
<a id="pgfId-1101331"></a>In the figure above:</p>
<p>
<a id="pgfId-1106832"></a><img width="26" height="26" src="images/chap8-69.gif" /><span> is not trimmed because it is </span></p>
<em>unlocked</em><code>mask1</code><span>.
</span><img width="30" height="27" src="images/chap8-70.gif" /><span> is trimmed because the shape meets both the conditions&#8212;</span><code>mask1</code><span> color and color status set as </span><em>locked</em><span>.</span>
<p>
<a id="pgfId-1101795"></a><img width="28" height="26" src="images/chap8-71.gif" /><span> is not trimmed because it is neither </span></p>
<em>locked</em><code>mask1</code><span>.</span>
<p>
<a id="pgfId-1101833"></a></p>
<img width="26" height="26" src="images/chap8-72.gif" /><span> is not trimmed because it is not on </span><code>mask1</code><span>, although it is </span><em>locked.</em>
<p>
<a id="pgfId-1101907"></a><img width="23" height="26" src="images/chap8-73.gif" /><span> is not trimmed because it has no color specified (gray).</span></p>

<p class="webflare-indent1">
<a id="pgfId-1109887"></a>Because the mask color is not specified; the shape may be on any mask, <code>mask1</code> or <code>mask2</code>, at the time of fabrication. Therefore, the connectivity extractor reports the overlap as invalid and generates an illegal overlap marker.</p>
<p>
<a id="pgfId-1109901"></a>Also, let us consider that <em>locked</em> shapes on <code>mask2</code> of the stopped layer are only trimmed by <em>locked</em> shapes on <code>mask2</code> of the stop layer, as displayed in the figure below.</p>

<p>
<a id="pgfId-1099486"></a></p>
<div class="webflare-div-image">
<img width="646" height="228" src="images/chap8-74.gif" /></div>

<p>
<a id="pgfId-1099384"></a>In the figure above:</p>
<p>
<a id="pgfId-1101974"></a><img width="29" height="27" src="images/chap8-75.gif" /><span> is not trimmed because it is neither </span></p>
<em>locked</em><code>mask2</code><span>.</span>
<p>
<a id="pgfId-1102054"></a><img width="30" height="29" src="images/chap8-76.gif" /><span> is not trimmed because it is not on </span><code>mask2</code><span>, although it is </span></p>
<em>locked.</em>
<p>
<a id="pgfId-1102197"></a><img width="31" height="27" src="images/chap8-77.gif" /><span> is not trimmed because it is not </span></p>
<em>locked</em><code>mask2</code><span>.</span>
<p>
<a id="pgfId-1102667"></a><img width="31" height="27" src="images/chap8-78.gif" /><span> is trimmed because the shape is </span><code>locked</code><span> on </span><code>mask2</code><span>.</span></p>

<p>
<a id="pgfId-1102671"></a><img width="32" height="27" src="images/chap8-79.gif" /><span> is not trimmed because it has no color specified (gray).</span></p>

<p class="webflare-indent1">
<a id="pgfId-1106936"></a>Because the mask color is not specified; the shape may be on any mask, <code>mask1</code> or <code>mask2</code>, at the time of fabrication. Therefore, the connectivity extractor reports the overlap as invalid and generates an illegal overlap marker.</p>

<h2>
<a id="pgfId-1106939"></a><a id="41414"></a>Enabling Virtua<a id="virtualConnect"></a>l Connections</h2>

<p>
<a id="pgfId-1106940"></a>Virtual connections are logical electrical connections between sets of physically connected shapes.</p>
<p>
<a id="pgfId-1080548"></a>Listed below are some key terms to be understood before learning about virtual connections and how these connections are processed by the Layout XL connectivity extractor.</p>
<ul><li>
<a id="pgfId-1080670"></a><strong>Attached Label</strong>: Label (<code>oaText</code>) attached to a shape in the edited cellview. For information about how the Layout XL connectivity extractor processes connectivity from attached labels, see <a href="chap8.html#25132">Connectivity from Attached Labels</a>.</li><li>
<a id="pgfId-1080714"></a><strong>Stamp Label</strong><a id="labelStamp"></a>: Label (<code>oaText</code>) stamping a shape either in the edited cellview or in the hierarchy. For a label to stamp a shape, the origin of the label must overlap the shape. In addition, in the technology file <code>stampLabelLayers</code> rule, the stamp layer must be defined as stamping the shape layer-purpose pair. For information about how the Layout XL connectivity extractor processes connectivity from stamp labels, see <a href="chap8.html#57650">Connectivity from stampLabels</a>.</li><li>
<a id="pgfId-1090615"></a><strong>Virtual-connect label</strong>: Label (<code>oaText</code>) that has the specific syntax to tag shapes as virtually connected. By default, for a label to be recognized as a virtual-connect label, the label must have the virtual-connect separator, (<code>:</code>), such as <code>vdd:</code>. A virtual-connect label can be <a actuate="user" class="URL" href="../vxlhelp/chap8.html#labelAttach" show="replace" xml:link="simple">attached</a> or <a actuate="user" class="URL" href="../vxlhelp/chap8.html#labelStampConn" show="replace" xml:link="simple">stamped</a> to the shape.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1090618"></a>You can change the virtual-connect separator to a value other than colon (:). See <a href="appD.html#62890">Connectivity Tab</a> in the Connectivity form for more information.</div></li></ul>



<p>
<a id="pgfId-1081174"></a>Layout XL recognizes virtual connections. This implies physically disconnected shapes that are on the same net are recognized as <em>connected</em>, if the shapes have a label containing the net name followed by a colon (:), such as <code>vdd:</code>. During connectivity extraction, no open markers are created between virtually connected shapes, if the connectivity extractor is run with the <em>Use (identifier) to define nets as virtually connected </em>selected. </p>
<p>
<a id="pgfId-1093527"></a>For more information about the <em>Use (identifier) to define nets as virtually connected </em>option, see <a href="appD.html#62890">Connectivity Tab</a> in the Connectivity form.</p>
<p>
<a id="pgfId-1080885"></a>However, for the virtual-connect labels to be recognized by the connectivity extractor, the labels must exist in the edited cellview. The shapes that these virtual-connect labels tag can exist in the edited cellview or in the hierarchy.</p>
<p>
<a id="pgfId-1082139"></a>Depending on the factors listed below, the connectivity extractor processes connectivity between shapes on the same net differently.</p>
<ul><li>
<a id="pgfId-1082193"></a>Existence of virtual-connect labels on the extractable shapes</li><li>
<a id="pgfId-1082206"></a>Status of the <em>Use (identifier) to define nets as virtually connected</em> option</li><li>
<a id="pgfId-1082215"></a>Physical connection between the extractable shapes</li></ul>


<p>
<a id="pgfId-1128203"></a>Let us consider some scenarios.</p>
<ul><li>
<a id="pgfId-1081053"></a><em>Case 1 &#8211; Two virtually-connected sets of shapes, </em><strong>
Use (identifier) to define nets as virtually connected </strong>
<em>is deselected</em><br />
<a id="pgfId-1081065"></a><div class="webflare-div-image">
<img width="633" height="495" src="images/chap8-80.gif" /></div>
<a id="pgfId-1081101"></a>In the figure above, there are three sets of physically connected shapes on net <code>vdd</code>. Two of these sets are tagged with a virtual-connect label, <code>vdd:</code>. But, the <em>Use (identifier) to define nets as virtually connected</em> option in the <a href="appD.html#62890">Connectivity Tab</a> of the Connectivity form is disabled. Therefore, the connectivity extractor processes the virtual-connect labels as regular labels and creates two open markers, as displayed.</li><li>
<a id="pgfId-1089810"></a><em>Case 2 &#8211; Two virtually-connected sets of shapes, </em><strong>
Use (identifier) to define nets as virtually connected </strong>
<em>is selected</em><br />
<a id="pgfId-1089967"></a><div class="webflare-div-image">
<img width="634" height="494" src="images/chap8-81.gif" /></div>
<a id="pgfId-1090336"></a>In the figure above, since the <em>Use (identifier) to define nets as virtually connected</em> option is selected, the extractor recognizes the virtual-connect labels on two sets of physically connected shapes and considers the sets as virtually-connected. Therefore, only one open marker is created with the non-virtually connected set of shapes, as shown in the figure above.</li><li>
<a id="pgfId-1089815"></a><em>Case 3 &#8211; Two instance pinFigs virtually-connected in master, </em><strong>
Use (identifier) to define nets as virtually connected</strong>
<em> is deselected</em><br />
<a id="pgfId-1094677"></a>If <em>Use (identifier) to define nets as virtually connected </em>is deselected, the connectivity extractor ignores the virtual-connect labels on the pinFigs of an instance. Therefore, no open markers are created on instance pinFigs that are not physically connected, as shown in the figure below.</li><li>
<a id="pgfId-1094686"></a><em>Case 4 &#8211; Instance pinFigs virtually connected in the master and the design, </em><em>Use (identifier) to define nets as virtually connected</em><em> is selected</em><br /><div class="webflare-div-image">
<img width="641" height="504" src="images/chap8-82.gif" /></div>
<a id="pgfId-1098807"></a>If the pinFigs of an instance are virtually connected in the master and <em>Use (identifier) to define nets as virtually connected</em> is selected, the connectivity extractor considers the pinFigs as physically disconnected in the master even though they belong to the same terminal. Because the pinFigs are defined as virtually connected in the master, they must be connected higher up in the hierarchy to complete the connection. Else, an open marker is created between the two shapes in the edited cellview to indicate that the shapes must be connected.<br /><div class="webflare-div-image">
<img width="636" height="511" src="images/chap8-83.gif" /></div></li><li>
<a id="pgfId-1098808"></a><em>Case 5 &#8211; Instance pinFigs virtually connected in the master and the edited cellview, </em><strong>
Use (identifier) to define nets as virtually connected </strong>
<em>is deselected</em><br />
<a id="pgfId-1083409"></a>When two sets of physically connected shapes are virtually connected in the master, they must be physically connected in the top-level design for the connection to be considered complete. Else, an open marker is created during the connectivity extraction.<br />
<a id="pgfId-1083589"></a>But, when <em>Use (identifier) to define nets as virtually connected</em> is deselected, the connectivity extractor ignores virtual-connect labels.In this case, no open markers are reported for virtually connected instance pinFigs.<br />
<a id="pgfId-1083593"></a><div class="webflare-div-image">
<img width="637" height="544" src="images/chap8-84.gif" /></div></li><li>
<a id="pgfId-1083594"></a><em>Case 6 &#8211; Instance pinFigs virtually connected in the master and the edited cellview, </em><strong>
Use (identifier) to define nets as virtually connected</strong>
<em> is selected</em><br />
<a id="pgfId-1083667"></a>When <em>Use (identifier) to define nets as virtually connected</em> is selected, the instance pinFigs virtually connected in the master must either be physically connected or virtually connected in the edited cellview. Else, the connectivity extractor creates an open marker between the instance pinFigs, as shown in the figure below.<br />
<a id="pgfId-1081846"></a><div class="webflare-div-image">
<img width="667" height="545" src="images/chap8-85.gif" /></div></li></ul>

































<h2>
<a id="pgfId-1080500"></a><a id="37073"></a><a id="35102"></a>Markers<a id="checkMarkers"></a></h2>

<p>
<a id="pgfId-1080495"></a><a id="MarkerInfo"></a>Markers are flashing boxes in the layout canvas that indicate electrical shorts or invalid overlaps. </p>
<p>
<a id="pgfId-1107082"></a>For information on:</p>
<ul><li>
<a id="pgfId-1107127"></a>Locating a marker in the design, see <a actuate="user" class="URL" href="../vlehelp/chap4.html#findingMarkers" show="replace" xml:link="simple">Finding Markers</a>.</li><li>
<a id="pgfId-1107116"></a>What a marker indicates, see <a actuate="user" class="URL" href="../vlehelp/chap4.html#explainMarkers" show="replace" xml:link="simple">Explaining Markers</a>.</li><li>
<a id="pgfId-1107153"></a>Deleting an individual marker, see <a actuate="user" class="URL" href="../vlehelp/chap4.html#IndividualMarkers" show="replace" xml:link="simple">Deleting Individual Markers</a>.</li><li>
<a id="pgfId-1107176"></a>Deleting all the markers in a design, see <a actuate="user" class="URL" href="../vlehelp/chap4.html#deleteAllMarkers" show="replace" xml:link="simple">Deleting All Markers</a>.</li></ul>



<p>
<a id="pgfId-1034024"></a>In Layout XL, markers are generated by the connectivity extractor, and these markers are displayed in the <h-hot><a actuate="user" class="URL" href="../vxlhelp/appF.html#connectivityTab" show="replace" xml:link="simple">Connectivity</a></h-hot> tab of the Annotation Browser assistant.</p>
<p>
<a id="pgfId-1107276"></a>The Annotation Browser is replete with features to allow quick access and simple control of the displayed markers. </p>
<p>
<a id="pgfId-1107320"></a>See the following for more information:</p>
<ul><li>
<a id="pgfId-1107294"></a><a actuate="user" class="URL" href="../vxlhelp/appF.html#abToolbar" show="replace" xml:link="simple">Annotation Browser toolbar</a><br />
<a id="pgfId-1107343"></a>Use to filter and manage the violation markers displayed in the browser pane, and to define how the markers are displayed in the design window.</li><li>
<a id="pgfId-1107354"></a><a actuate="user" class="URL" href="../vxlhelp/appF.html#abBrowserPane" show="replace" xml:link="simple">Annotation Browser browser pane</a><br />
<a id="pgfId-1107382"></a>Use to display the markers corresponding to each application category supported by a tab. A marker selected in the browser pane is automatically highlighted in the layout canvas, and vice versa.</li><li>
<a id="pgfId-1107404"></a><a actuate="user" class="URL" href="../vxlhelp/appF.html#abContextMenu" show="replace" xml:link="simple">Annotation Browser context menu</a><br />
<a id="pgfId-1107414"></a>Use to list the options to enable marker viewing and sorting.</li><li>
<a id="pgfId-1107472"></a><a actuate="user" class="URL" href="../vxlhelp/appF.html#annotationBrowserOptionsForm" show="replace" xml:link="simple">Annotation Browser options</a><br />
<a id="pgfId-1107490"></a>Use to control the marker highlighting.</li><li>
<a id="pgfId-1107522"></a><a actuate="user" class="URL" href="../vxlhelp/appF.html#abIncompleteNetFilter" show="replace" xml:link="simple">Incomplete Net Filter form</a><br />
<a id="pgfId-1107651"></a>Use to control the display of incomplete net markers for the specified nets.</li><li>
<a id="pgfId-1107664"></a><a actuate="user" class="URL" href="../vxlhelp/appF.html#abGroupingMarkers" show="replace" xml:link="simple">Grouping Markers</a><br />
<a id="pgfId-1107568"></a>Use to control marker groups.</li><li>
<a id="pgfId-1107693"></a><a actuate="user" class="URL" href="../vxlhelp/appF.html#abFilteringMarkers" show="replace" xml:link="simple">Filtering Markers</a><br />
<a id="pgfId-1107784"></a>Use to control the type of markers displayed in the Annotation Browser assistant.</li><li>
<a id="pgfId-1107728"></a><a actuate="user" class="URL" href="../vxlhelp/appF.html#abColorMarker" show="replace" xml:link="simple">Assigning Colors to Markers</a><br />
<a id="pgfId-1107805"></a>Use to control the color of displayed markers.</li><li>
<a id="pgfId-1107832"></a><a actuate="user" class="URL" href="../vxlhelp/appF.html#markerZoom" show="replace" xml:link="simple">Zooming In on Markers</a><br />
<a id="pgfId-1107902"></a>Use to zoom into a specific marker on the layout canvas.</li><li>
<a id="pgfId-1107915"></a><a actuate="user" class="URL" href="../vxlhelp/appF.html#abFixMarker" show="replace" xml:link="simple">Fixing Markers Interactively</a><br />
<a id="pgfId-1107933"></a>Use the supported shortcut commands to interactively fix the displayed markers. Not all tabs support this functionality at the moment.</li></ul>




















<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="chap7.html" id="prev" title="Editing the Layout">Editing the Layout</a></em></b><b><em><a href="chap9.html" id="nex" title="Checking Design Data">Checking Design Data</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2020, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>