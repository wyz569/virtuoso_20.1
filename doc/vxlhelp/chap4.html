
<html><head><title>Configuring the Physical Hierarchy</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="rishu" />
<meta name="CreateDate" content="2020-09-21" />
<meta name="CreateTime" content="1600741518" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the functionality of the Virtuoso Layout Suite XL connectivity-driven features in the current release." />
<meta name="DocTitle" content="Virtuoso Layout Suite XL: Connectivity Driven Editing User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Configuring the Physical Hierarchy" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.2.1" />
<meta name="Keyword" content="vxlhelp" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2020-09-21" />
<meta name="ModifiedTime" content="1600741518" />
<meta name="NextFile" content="chap5.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="chap3.html" />
<meta name="c_product" content="Virtuoso Layout Suite" />
<meta name="Product" content="Virtuoso Layout Suite" />
<meta name="ProductFamily" content="Virtuoso Layout Suite" />
<meta name="ProductVersion" content="ICADVM20.1" />
<meta name="RightsManagement" content="Copyright 2012-2020 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Layout Suite XL: Connectivity Driven Editing User Guide -- Configuring the Physical Hierarchy" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="ICADVM20.1" />
<meta name="SpaceKey" content="vxlhelpICADVM201" />
<meta name="webflare-version" content="2.0" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="vxlhelpTOC.html">Contents</a></li><li><a class="prev" href="chap3.html" title="Preparing Your Connectivity Source">Preparing Your Connectivity So ...</a></li><li style="float: right;"><a class="viewPrint" href="vxlhelp.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="chap5.html" title="Device Abutment">Device Abutment</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Layout Suite XL: Connectivity Driven Editing User Guide<br />Product Version ICADVM20.1, October 2020</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>3
<a id="pgfId-1025534"></a></h1>
<h1>
<a id="pgfId-1025536"></a><hr />
<a id="39324"></a>Configuring the Physical Hierarchy<hr />
</h1>

<p>
<a id="pgfId-1083616"></a>Configure Physical Hierarchy (CPH) is a physical hierarchy configuration utility that lets you specify how a layout implementation is generated from a specific schematic design. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1083617"></a>Alternative to using the CPH window for defining the layout implementation, you can directly import the information from the library and attributes mapping (<a actuate="user" class="URL" href="../vxlhelp/appE.html#lamTop" show="replace" xml:link="simple">LAM</a>) file, if defined.</div>
<p>
<a id="pgfId-1083619"></a>The CPH window has three modes of operation:</p>
<ul><li>
<a id="pgfId-1083623"></a><a href="chap4.html#99632">Hierarchy Configuration Mode</a> controls how the physical hierarchy is generated from your logical design, including which logical components are to be ignored in the physical implementation and which physical views are used to implement the logical components.</li><li>
<a id="pgfId-1083627"></a><a href="chap4.html#14674">Component Types Mode</a> lets you view the library-level component types. In addition, this mode lets you create, edit, and remove the design-level component types, which identify the <em>NMOS</em> and <em>PMOS</em> transistor cells in the design and set the parameters for device chaining and folding.<br /><b>Note:</b><br />
<a id="pgfId-1083628"></a><ul><li>
<a id="pgfId-1083629"></a>The <em>Component Types Mode</em> also lets you identify <em>NFIN</em> and <em>PFIN</em> devices in the design and set the parameters for device chaining and folding.</li><li>
<a id="pgfId-1083630"></a>If the Configure Physical Hierarchy window is not enabled, the component type information is directly read from the <code>cph.lam</code> file. See <a href="chap4.html#74709">LAM Files and Configuration Views</a>.</li></ul></li><li>
<a id="pgfId-1083637"></a><a href="chap4.html#64550">Soft Block Mode</a> lets you configure and specify bindings for the soft blocks that will be created by the <em>Floorplan &#8211;</em> <em><a actuate="user" class="URL" href="../fphelp/chap3.html#genHierDesc" show="replace" xml:link="simple">Generate Physical Hierarchy</a></em> command. You select the instances to be included and define the boundary, pin, and blockage parameters for the block you want to create. You can also remove the parameters from an existing soft block to prevent it from being created when the physical hierarchy is generated.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1083639"></a>To edit an existing soft block that has already been generated in the layout view, use the <em>Edit Soft Blocks</em> command. For more information, see <a href="chap7.html#16247">Editing Soft Blocks</a>.</div></li></ul>






<p>
<a id="pgfId-1083643"></a>The introduction of this functionality means that the layout designer no longer needs to have &#8220;write&#8221; access to the schematic design to add or modify the properties that drive layout generation. As these properties are now controlled in the <a href="chap4.html#25846">Configure Physical Hierarchy Window</a>, a layout designer can define different physical configurations and view different physical implementation possibilities without changing the schematic view.</p>
<p>
<a id="pgfId-1083647"></a>This chapter discusses the following topics:</p>
<ul><li>
<a id="pgfId-1083651"></a><a href="chap4.html#74709">LAM Files and Configuration Views</a></li><li>
<a id="pgfId-1083655"></a><a href="chap4.html#81387">Converting Data to Use the IC 6.1 Layout XL Schema</a></li><li>
<a id="pgfId-1083659"></a><a href="chap4.html#59124">Launching Configure Physical Hierarchy</a></li><li>
<a id="pgfId-1083663"></a><a href="chap4.html#25846">Configure Physical Hierarchy Window</a></li></ul>




<h2>
<a id="pgfId-1083665"></a><a id="74709"></a>LAM Files and Configuration Views</h2>

<p>
<a id="pgfId-1083666"></a>Underlying the Configure Physical Hierarchy functionality is a Layout XL Schema in IC 6.1. It comprises two new data formats.</p>
<ul><li>
<a id="pgfId-1083667"></a>For schematic and layout library data, there is a <strong>library and attributes mapping (LAM) file</strong> to store the symbol properties that drive layout generation, component type information for a given library, and library and cell-level mapping information. This file is called <code>cph.lam</code> and is stored in the following location:<br /><span class="indent-as-level2"><pre class="webflare-pre-block webflare-courier-new" id="#id1083668">
<a id="pgfId-1083668"></a><code><em>library</em></code>/.cadence/dfII/cph/lam/cph.lam</pre></span>
<a id="pgfId-1083669"></a>There is no graphical user interface to help you create or edit a LAM file. For more information on the LAM file syntax, see <a href="appE.html#44786">Library and Attributes Mapping File Syntax</a>.</li><li>
<a id="pgfId-1083673"></a>For layout design data, there is a <strong>physical configuration (physConfig) view;</strong> which comprises a number of files that store design-specific overrides, including the schematic expansion rules that drive layout generation; design component types; and cell and instance mapping rules. Every Layout XL session operates in the context of a physical configuration view, whether generated automatically or user-specified.<br />
<a id="pgfId-1083674"></a>When you launch Layout XL from a schematic window, the schematic view is re-opened in the context of the physical configuration view being used for the session, which might be different from the configuration the schematic was using previously. The schematic window banner updates to indicate the name of the physical configuration view currently being used.<br />
<a id="pgfId-1083675"></a>One effect of this is that you might need to re-extract the schematic view in order to take into account the settings in the physical configuration view. The system will inform you if this extraction is required. <br />
<a id="pgfId-1083676"></a>If you close the Layout XL session by closing the layout window only, the schematic view is re-opened with no physical configuration context.<br />
<a id="pgfId-1083680"></a>The <a href="appD.html#57669">Configure Physical Hierarchy</a> window is the interface used to create and edit this view.</li></ul>










<h2>
<a id="pgfId-1083683"></a><a id="81387"></a>Converting <a id="cphUprev"></a>Data to Use the IC 6.1 Layout XL Schema</h2>

<p>
<a id="pgfId-1083684"></a>This section explains how you decide whether you need to convert your existing data to use the new Layout XL schema in IC 6.1; what happens to the data during the conversion; and how to run the conversion commands. It contains the following sections.</p>
<ul><li>
<a id="pgfId-1083688"></a><a href="chap4.html#86630">Do I Need to Convert Data to the Layout XL IC 6.1 Schema</a></li><li>
<a id="pgfId-1083692"></a><a href="chap4.html#61406">How Data is Converted to the Layout XL IC 6.1 Schema</a></li><li>
<a id="pgfId-1083696"></a><a href="chap4.html#25127">Converting Schematic Library and Design Data</a></li><li>
<a id="pgfId-1083700"></a><a href="chap4.html#69220">Converting Layout Designs</a></li><li>
<a id="pgfId-1083704"></a><a href="chap4.html#11390">Troubleshooting the Conversion</a></li></ul>





<h3>
<a id="pgfId-1083706"></a><a id="86630"></a>Do I Need to Convert Data to the Layout XL IC 6.1 Schema</h3>

<p>
<a id="pgfId-1083707"></a>If your schematic library or layout design data uses any of the following features then you must convert it to the new IC 6.1 Layout XL schema.</p>
<ul><li>
<a id="pgfId-1083708"></a>Library-level component type information stored in a <code>data.dm</code> (or <code>prop.xx</code> for earlier releases) file in the library directory, or design-level component type overrides stored as an <code>lxComponentType</code> property on the layout view.</li><li>
<a id="pgfId-1083709"></a>The following properties (or their CDF equivalents) stored on a symbol or schematic view.<br /><span class="indent-as-level2">
<a id="pgfId-1083713"></a><a href="appC.html#61937">lxMfactorSplitlxParamsToIgnorelxParamsToIgnoreForChecklxRemoveDevicelxRoundinglxStopListlxUseCelllxViewList</a></span><br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1083735"></a>After your data has been converted, if you change the name of an instance, or change it from vectored to non-vectored, then Configure Physical Hierarchy will not be able to find the converted properties for the new instance name.</div><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1083736"></a>These properties will not be converted if the variable <code>CPH_USE_SCHEM_PROP</code> is turned on. For more details, see <a href="chap4.html#58696">Controlling CPH with Schematic Properties</a>.</div></li><li>
<a id="pgfId-1083740"></a>A Layout XL map file referenced from a layout view.</li></ul>







<p>
<a id="pgfId-1083744"></a>For information on how this data is converted, see <a href="chap4.html#14495">Figure&#160;</a>.</p>

<h4>
<a id="pgfId-1083746"></a><a id="55222"></a>Migration Path</h4>

<p>
<a id="pgfId-1083747"></a>The migration path depends on the format of your original data.</p>
<ul><li>
<a id="pgfId-1083750"></a>For <strong>OpenAccess 2.0</strong> data from an <strong>ICOA 5.1.41</strong> release, use the <code>dfIIoa20222</code> translator to convert your data to OpenAccess 2.2. By default, <code>dfIIoa20222</code> automatically converts your data to use physical configuration views.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1083751"></a>If you run <code>dfIIoa20222</code> with the <code>-disableCphUprev</code> option, your data is not converted to the new schema.</div></li><li>
<a id="pgfId-1083752"></a>For <strong>OpenAccess 2.2</strong> data from an <strong>IC 5.2.51 or IC 6.1EA (Early Adopter)</strong> release, you must convert your schematic library data manually using the utilities described in this section. Your layout design data is converted automatically when you open a design for the first time in Layout XL.</li></ul>



<h4>
<a id="pgfId-1083753"></a>Automatic Mode</h4>

<p>
<a id="pgfId-1083754"></a>If you use none of the features described above, then you do not need to convert your data to use physical configuration views.</p>
<p>
<a id="pgfId-1083757"></a>When you start Layout XL in IC 6.1, set the <em>Configuration</em> option to <em>Automatic</em> in the <a href="appD.html#46915">Startup Option</a> form. Layout XL creates a temporary physical configuration view, handles all operations related to the physical configuration view automatically, and removes the temporary view again when it is no longer required; i.e., when you convert your data to use physical configuration views or edit the automatic configuration and save it.</p>
<p>
<a id="pgfId-1083762"></a>For more information, see <h-hot><a actuate="user" class="URL" href="../vlehelp/chap1.html#autoPhysConfig" show="replace" xml:link="simple">Starting Layout XL with an Automatic Physical Configuration View</a></h-hot>.</p>

<h3>
<a id="pgfId-1083764"></a><a id="61406"></a>How Data is Converted to the Layout XL IC 6.1 Schema</h3>

<p>
<a id="pgfId-1040955"></a>The figure below shows how legacy data is converted to use the new IC 6.1 Layout XL schema.</p>
<p>
<a id="pgfId-1083795"></a><a id="14495"></a></p>

<div class="webflare-div-image">
<img width="653" height="463" src="images/chap4-2.gif" /></div>

<p>
<a id="pgfId-1083825"></a>Data is converted in two separate operations.</p>
<ul><li>
<a id="pgfId-1083826"></a>A schematic library conversion (indicated by the top three arrows in the picture above).<br />
<a id="pgfId-1083830"></a>This can be run automatically by the translators described in <a href="chap4.html#55222">Migration Path</a>, or you can run it manually using the utility described in <a href="chap4.html#73972">Converting Schematic Libraries and Designs</a>.</li><li>
<a id="pgfId-1083834"></a>A layout design conversion (indicated by the bottom two arrows in the picture above).<br />
<a id="pgfId-1083835"></a>This runs automatically when you load your design into Layout XL in IC 6.1, or you can run it manually using the <a actuate="user" class="URL" href="../sklayoutref/cph.html#cphUprevDesign" show="replace" xml:link="simple">cphUprevDesign</a> SKILL function.</li></ul>




<h3>
<a id="pgfId-1083838"></a><a id="25127"></a>Converting Schematic Library and Design Data</h3>

<p>
<a id="pgfId-1083839"></a>The schematic library conversion is typically performed by the library designer, who provides a complete library and attributes mapping (<h-hot><a actuate="user" class="URL" href="../vxlhelp/lam.html#firstpage" show="replace" xml:link="simple">LAM</a></h-hot>) file for the libraries you are using.</p>
<p>
<a id="pgfId-1083841"></a>The schematic library conversion converts:</p>
<ul><li>
<a id="pgfId-1083842"></a>Library-level component types stored in CDF files or (if none exist in CDF) in the <code>data.dm</code> file in the library directory.<br />
<a id="pgfId-1083844"></a>This data is converted into a <a actuate="user" class="URL" href="../vxlhelp/appE.html#firstpage" show="replace" xml:link="simple">LAM</a> file called <span class="webflare-courier-new" style="white-space:pre"><em>library</em></span><code>/.cadence/dfII/cph/lam/cph.lam</code>.<br />
<a id="pgfId-1083845"></a>If the LAM file already exists, any new information is appended to the existing file. Where there is a conflict, existing information is overwritten with new information. If there is no data to be converted, then no LAM file is created or updated.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1083846"></a>If the same component type is defined with identical attributes in two different libraries, the definitions are merged into a single definition in the LAM file. All required cells are then assigned to that single component type.</div></li><li>
<a id="pgfId-1083850"></a>The properties listed in <a href="chap4.html#14495">Figure&#160;</a> (or their CDF equivalents) set on a symbol view for a cell. <br />
<a id="pgfId-1083852"></a>This data is also converted into the <a actuate="user" class="URL" href="../vxlhelp/appE.html#firstpage" show="replace" xml:link="simple">LAM</a> file under the same conditions as described above. After the conversion, the properties remain on the symbol view but are considered obsolete.</li><li>
<a id="pgfId-1083856"></a>The properties listed in <a href="chap4.html#14495">Figure&#160;</a> (or their CDF equivalents) set on a schematic view for a cell.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1083857"></a>The library conversion determines whether a view is a schematic view based on its type, not its name.</div>
<a id="pgfId-1083858"></a>This data is converted into the physical configuration (<code>physConfig</code>) view for the cell in question. If the view already exists, any new information is appended to the existing view. Where there is a conflict, existing information is overwritten with new information. If there is no data to be converted, no physical configuration view created or updated.<br />
<a id="pgfId-1083859"></a>After the conversion, the properties remain on the schematic view but are considered obsolete.</li></ul>









<p>
<a id="pgfId-1083862"></a>You can convert schematic libraries manually using one of the following methods.</p>
<ul><li>
<a id="pgfId-1083863"></a><em>The Convert Libraries to Use physConfigs</em> utility in the Conversion Tool Box.<br />
<a id="pgfId-1083867"></a>For more information, see <a href="chap4.html#73972">Converting Schematic Libraries and Designs</a>.</li><li>
<a id="pgfId-1083869"></a>The <a href="../sklayoutref/cph.html#cphUprevLibrary">cphUprevLibrary</a> SKILL function.</li></ul>



<h4>
<a id="pgfId-1083872"></a><a id="73972"></a>Conv<a id="convtSchLibDes"></a>erting Schematic Libraries and Designs</h4>

<p>
<a id="pgfId-1083873"></a>To convert your schematic libraries and designs,</p>
<ol><li>
<a id="pgfId-1083874"></a>From the CIW, choose <em>Tools &#8211; Conversion Tool Box</em>.<br />
<a id="pgfId-1083875"></a>The Conversion Tool Box window appears.</li><li>
<a id="pgfId-1083876"></a>Click <em>Convert Libraries to Use physConfigs</em>.<br />
<a id="pgfId-1083877"></a>The Conversion Tool Box window appears.<br />
<a id="pgfId-1083881"></a><div class="webflare-div-image">
<img src="images/convertLibsForCPH.gif" /></div>
<a id="pgfId-1083882"></a>The <em>Libraries to convert</em> pane lists the libraries that will be converted when you click <em>OK</em>.<br />
<a id="pgfId-1083883"></a>The software automatically moves all the libraries defined in the current library definitions (<code>cds.lib</code>) file into this field. However, reference libraries shipped with Cadence software and libraries for which you do not have write permission are not listed.</li><li>
<a id="pgfId-1083884"></a>Use the left arrow key to move any library you do not want to convert into the <em>Libraries not to convert</em> pane.</li><li>
<a id="pgfId-1083885"></a>Specify the base name of the physical configuration views to be generated.<br />
<a id="pgfId-1083886"></a>If there are multiple schematic views to be converted, the base name you specify is prepended to each schematic view name. For example, if your cell has the following schematic views before conversion:<span class="indent-as-level2"><pre class="webflare-pre-block webflare-courier-new" id="#id1083887">
<a id="pgfId-1083887"></a>schematic</pre></span><span class="indent-as-level2"><pre class="webflare-pre-block webflare-courier-new" id="#id1083888">
<a id="pgfId-1083888"></a>schematic1</pre></span>
<a id="pgfId-1083889"></a>Then it will have the following physical configuration views after conversion:<span class="indent-as-level2"><pre class="webflare-pre-block webflare-courier-new" id="#id1083890">
<a id="pgfId-1083890"></a>physConfig</pre></span><span class="indent-as-level2"><pre class="webflare-pre-block webflare-courier-new" id="#id1083891">
<a id="pgfId-1083891"></a>physConfig_schematic1</pre></span></li><li>
<a id="pgfId-1083892"></a>Click <em>OK</em>.<br />
<a id="pgfId-1083893"></a>Messages issued in the CIW monitor the progress of the conversion.</li></ol>
























<h3>
<a id="pgfId-1083895"></a><a id="69220"></a>Converting Layout Designs</h3>

<p>
<a id="pgfId-1083896"></a>Layout designs are converted automatically the first time you load the design into Layout XL in the IC6.1 release. The layout design conversion converts:</p>
<ul><li>
<a id="pgfId-1083897"></a>Design-level component types stored directly on the layout view using the <code>lxComponentType</code> property.<br />
<a id="pgfId-1083898"></a>This data is converted into a physical configuration (<code>physConfig</code>) view for the cell in question.<br />
<a id="pgfId-1083899"></a>If the physical configuration view already exists, any new information is appended to the existing view. Where there is a conflict, existing information is overwritten with new information. If there is no data to be converted, no physical configuration view is created or updated.</li><li>
<a id="pgfId-1083900"></a>The contents of any map file referenced from the layout view.<br />
<a id="pgfId-1083901"></a>The Layout XL map file was used in previous releases to define cell and instance property mapping rules. It also mapped terminal and parameter names in the schematic to their equivalents in the layout. This data is also converted into the physical configuration view under the same conditions as those described for the previous item.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1083902"></a>You can also define these mapping rules at the library level by adding them to the LAM file if required.</div><div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1083903"></a>
The design conversion does not support the following map file features.</div><ul><li>
<a id="pgfId-1083904"></a><code>paramSet</code>, which lets you set defaults for parameter values.</li><li>
<a id="pgfId-1083905"></a>Parameters that apply to all defined cells; for example,<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1083906">
<a id="pgfId-1083906"></a>(paramNameMap (&quot;w2&quot; &quot;w&quot;) (&quot;l2&quot; &quot;l&quot;))</pre></li></ul>
<a id="pgfId-1083907"></a>Warnings are issued if these are found in a map file.</li><li>
<a id="pgfId-1083914"></a>The design conversion also handles the <a href="appA.html#10608">stopList</a> and <a href="appA.html#84245">viewList</a> environment variables, both of which are considered obsolete after the conversion.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1083915"></a>The following environment variables remain valid after conversion:</div><pre class="webflare-pre-block webflare-courier-new" id="#id1083919">
<a id="pgfId-1083919"></a><code><a href="appA.html#37433">mfactorSplit</a><code></code>
<a href="appA.html#26861">paramsToIgnore</a><code></code>
<a href="appA.html#96127">paramsToIgnoreForCheck</a><code></code>
<a href="appA.html#50051">propsUsedToIgnoreObjs</a><code></code>
<a href="appA.html#46541">propsUsedToIgnoreObjsForCheck</a><code></code></code></pre></li></ul>

















<p>
<a id="pgfId-1083932"></a>When the conversion is complete, a property is stored in the physical configuration view to indicate that the layout design has been converted. This prevents it from being converted needlessly the next time it is opened in Layout XL.</p>
<p>
<a id="pgfId-1083933"></a>You can check the physical configuration view that is created using the <em>Launch &#8211; Configure Physical Hierarchy</em> command.</p>

<h4>
<a id="pgfId-1083934"></a>Converting Layout Designs Manually</h4>

<p>
<a id="pgfId-1083935"></a>You can convert a layout design manually using the <code>cphUprevDesign</code> SKILL command. For more information, see <h-hot><a actuate="user" class="URL" href="../sklayoutref/cph.html#cphUprevDesign" show="replace" xml:link="simple">cphUprevDesign</a></h-hot> in the <em>Virtuoso Layout Suite SKILL Reference</em>. </p>

<h3>
<a id="pgfId-1083938"></a><a id="11390"></a>Troubleshooting the Conversion</h3>

<p>
<a id="pgfId-1083942"></a>For more information, see <a href="chap11.html#38100">Troubleshooting Configure Physical Hierarchy</a>.</p>

<h2>
<a id="pgfId-1083944"></a><a id="59124"></a>Launching Configure Physical Hierarchy</h2>

<p>
<a id="pgfId-1083945"></a>To open the Configure Physical Hierarchy window, do one of the following.</p>
<ul><li>
<a id="pgfId-1083946"></a>From the Layout XL (or GXL) window, choose <em>Launch &#8211; Configure Physical Hierarchy</em>.</li><li>
<a id="pgfId-1083947"></a>When launching Layout XL (or GXL) from a schematic, check the <em>Open CPH</em> option in either the <a href="appD.html#52541">Create Physical Configuration View</a> or <a href="appD.html#85847">Open Physical Configuration View</a> dialog.</li><li>
<a id="pgfId-1083954"></a>From the CIW, choose <em>File &#8211; New</em> or<em> File &#8211; Open</em> and create or open a cellview of type <code>physConfig</code>. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1083955"></a>The system checks out a Layout XL license if there is not one currently checked out. </div></li></ul>



<p>
<a id="pgfId-1083959"></a>For more information, see <h-hot><a actuate="user" class="URL" href="../vlehelp/chap1.html#startLayoutXL" show="replace" xml:link="simple">Starting Layout XL</a></h-hot>.</p>

<h4>
<a id="pgfId-1083960"></a>Note on Performance</h4>

<p>
<a id="pgfId-1083961"></a>If you have a large hierarchical design that takes a long time or fails to open in Layout XL, it might be that the logical elaboration performed by Configure Physical Hierarchy is causing the problem.</p>
<p>
<a id="pgfId-1083962"></a>You can use the physical stop view list to limit the logical elaboration by switching on the <a href="appA.html#54489">cphStopLogicalElabAtPhysLeaf</a> environment variable. This stops the elaboration of the logical design hierarchy when a node is reached which maps to one of the view names specified in the <em>Physical stop view list</em> field.</p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1083969"></a>
When <a href="appA.html#54489">cphStopLogicalElabAtPhysLeaf</a> is set to <code>t</code>, global nets below the leaf instance in the schematic are not considered during the elaboration. If your design relies on such nets, Cadence recommends that you do not switch on this environment variable.</div>
<h2>
<a id="pgfId-1084025"></a><a id="25846"></a>Conf<a id="cphWindow"></a>igure Physical Hierarchy Window</h2>

<p>
<a id="pgfId-1084026"></a>The Configure Physical Hierarchy window contains a number of different elements. This section explains the basics; for more information, see <a href="appD.html#57669">Configure Physical Hierarchy</a>.</p>

<p>
<a id="pgfId-1084083"></a></p>
<div class="webflare-div-image">
<img width="668" height="556" src="images/chap4-5.gif" /></div>
<h4>
<a id="pgfId-1084084"></a>License Requirements</h4>

<p>
<a id="pgfId-1084085"></a>The Configure Physical Hierarchy graphical user interface requires a Layout XL license, regardless of whether</p>
<ul><li>
<a id="pgfId-1084086"></a>You are using Hierarchy Configuration, Component Types or Soft Block mode.<br /><div class="webflare-information-macro webflare-macro-tip">
<a id="pgfId-1084087"></a>
When using multiple SKILL APIs for working with component types, it is recommended that you checkout a Layout XL license beforehand to enhance the system performance. But if you already have a CPH window or an XL session open, the XL license will already be checked out.</div></li><li>
<a id="pgfId-1084088"></a>The physical configuration view is open in read or edit mode.<br />
<a id="pgfId-1084089"></a>In read mode, all menu items and graphical controls that let you change the physical configuration are disabled. You can still expand and collapse the nodes in the <em>Instances</em> tree, use the Options form to change the way information is displayed, and save the physical configuration under a new name.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1084090"></a>If a layout is open in read-only mode, the physical configuration view also opens in read-only mode. However, you can make a read-only physical configuration view editable by selecting the Make Editable command from the Configure Physical Hierarchy menu. </div></li></ul>






<p>
<a id="pgfId-1084091"></a>If you launch Configure Physical Hierarchy from a Layout XL window, the system uses the Layout XL license that is already checked out.</p>
<p>
<a id="pgfId-1084092"></a>If you open a physical configuration view directly using the CIW&#8217;s <em>File &#8211; Open</em> command, the system checks out a Layout XL license, if there is not one checked out currently. When you close the Configure Physical Hierarchy window, the Layout XL license is released (provided there is no other instance of Configure Physical Hierarchy, or an associated Layout XL session running).</p>

<h4>
<a id="pgfId-1084096"></a><a id="71072"></a>Title Bar</h4>

<p>
<a id="pgfId-1084097"></a>The window banner indicates the library, cell, and view names of the currently loaded physical configuration view. For example,</p>
<p>
<a id="pgfId-1084098"></a><em>Configure Physical Hierarchy Editing: STDLIB COMPARATOR physConfig</em></p>

<h4>
<a id="pgfId-1084100"></a><a id="47753"></a>Menu Bar</h4>

<p>
<a id="pgfId-1084191"></a>The menu bar displays the Configure Physical Hierarchy menus.</p>
<table class="webflareTable" id="#id1084101">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1084103">
<a id="pgfId-1084103"></a>Command</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1084105">
<a id="pgfId-1084105"></a>Function</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<span class="tbl-head" id="#id1084107">
<a id="pgfId-1084107"></a>File Menu</span>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084111"></a><em>New</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084113"></a>Creates a new physical configuration view in the current window.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084115"></a><em>Open</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084117"></a>Opens an existing physical configuration view.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084119"></a><em>Save</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084121"></a>Saves the current physical configuration view.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084123"></a><em>Save As</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084125"></a>Saves the current physical configuration view under a different name.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084127"></a>Discard Edits</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084129"></a>Rejects all the edits made since the last time you saved the view.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084131"></a>Make Editable</p>
<p>
<a id="pgfId-1084132"></a>Make Read Only</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084134"></a>Make Editable makes a read-only physical configuration view editable</p>
<p>
<a id="pgfId-1084135"></a>Make Read Only makes an editable physical configuration view read-only.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084137"></a><em>Load Floorplan File</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084139"></a>Loads soft block parameters from a floorplan file.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084141"></a><em>Save Floorplan File</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084143"></a>Saves the current soft block parameters to a floorplan file, which you can then re-use in a different Virtuoso session.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084145"></a><em>Exit</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084147"></a>Closes the window. If the view contains any unsaved changes, you are prompted to save them before the window closes.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<span class="tbl-head" id="#id1084149">
<a id="pgfId-1084149"></a>Window Menu</span>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084153"></a><em>Panes &#8211; Top Cell</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084155"></a>Toggles the display of the Top Cell pane.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084157"></a><em>Panes &#8211; Global Bindings</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084159"></a>Toggles the display of the Global Bindings pane.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084161"></a><em>Panes &#8211; Attributes</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084163"></a>Toggles the display of the Attributes pane.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084165"></a><em>Toolbars &#8211; File</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084167"></a>Toggles the display of the File toolbar.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<span class="tbl-head" id="#id1084169">
<a id="pgfId-1084169"></a>Options Menu</span>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084173"></a><em>Soft Block Options</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084178"></a>Opens the <a href="appD.html#26411">Soft Block Global Options</a> form where you specify global settings for the pin labels in the soft blocks of your design.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<span class="tbl-head" id="#id1084180">
<a id="pgfId-1084180"></a>Help Menu</span>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084184"></a><em>Configure Physical Hierarchy </em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084186"></a>Opens this document.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084188"></a><em>Virtuoso Documentation Library</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084190"></a>Opens the Virtuoso documentation home for the current release.</p>
</td>
</tr>
</tbody></table>

<h4>
<a id="pgfId-1084193"></a><a id="86019"></a>Too<a id="cphToolbar"></a>lbar</h4>

<p>
<a id="pgfId-1084194"></a>The <em>File</em> toolbar lets you access certain Configure Physical Hierarchy commands directly without opening any menus. As with all toolbars, you can use the handle to reposition it anywhere within the Configure Physical Hierarchy window.</p>

<p>
<a id="pgfId-1084198"></a></p>
<div class="webflare-div-image">
<img width="667" height="33" src="images/chap4-7.gif" /></div>

<p>
<a id="pgfId-1084199"></a>For more information on the individual buttons on the toolbar, see the table below.</p>

<p>
<a id="pgfId-1084243"></a></p>
<table class="webflareTable" id="#id1084200">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1084202">
<a id="pgfId-1084202"></a>Icon</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1084204">
<a id="pgfId-1084204"></a>Command</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084209"></a><img src="images/cphToolbarNew.gif" /></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084211"></a><em>File &#8211; New</em></p>
<p>
<a id="pgfId-1094333"></a>Opens the New Physical Configuration form.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084216"></a><img src="images/cphToolbarOpen.gif" /></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084218"></a><em>File &#8211; Open</em></p>
<p>
<a id="pgfId-1094370"></a>Opens the Open Physical Configuration form.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084223"></a><img src="images/cphToolbarSave.gif" /></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084225"></a><em>File &#8211; Save</em></p>
<p>
<a id="pgfId-1094410"></a>Saves changes to the physical configuration of the design.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084230"></a><img src="images/cphToolbarMode.gif" /></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084232"></a><em>Choose Mode</em></p>
<p>
<a id="pgfId-1094443"></a>Opens the Configure Physical Hierarchy window in the selected mode.</p>
<p>
<a id="pgfId-1095084"></a><a href="chap4.html#99632">Hierarchy Configuration Mode</a></p>
<p>
<a id="pgfId-1095090"></a><a href="chap4.html#14674">Component Types Mode</a></p>
<p>
<a id="pgfId-1095130"></a><a href="chap4.html#64550">Soft Block Mode</a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084237"></a><img src="images/cphToolbarOccurrence.gif" /></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084239"></a><em>Toggle Occurrence Mode</em></p>
<p>
<a id="pgfId-1094530"></a>Switches between Instance and Occurrence modes in CPH.</p>
<p>
<a id="pgfId-1094485"></a><em><a href="chap4.html#91705"></a><h-hot>Instance Mode and Occurrence Mode</h-hot><em></em></em></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1094572"></a><img width="77" height="34" src="images/chap4-13.gif" /></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1094576"></a><em>Set Stop Level</em></p>
<p>
<a id="pgfId-1094577"></a>Sets a global stop level at which to stop the elaboration of the logical design hierarchy. The stop level specified here overrides the value specified using the <a href="appA.html#78672">cphStopLevel</a> environment variable.</p>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-1084421"></a><a id="62890"></a>Top <a id="topCellPane"></a>Cell</h4>

<p>
<a id="pgfId-1084422"></a>The Top Cell pane displays the top-level schematic cellview and the corresponding layout cellview to be generated in the context of the current physical configuration. It is a dockable window, which you can dock on either side of the main Configure Physical Hierarchy window, or leave undocked as a floating window.</p>
<p>
<a id="pgfId-1084423"></a>You can use the <em>Open</em> buttons to open (or raise, if already open) the specified views in the context of the current physical configuration view (which might be different from the configuration the schematic was using previously). If either cellview is not fully specified, this is indicated by the text <code>&lt;unknown&gt;</code> in the relevant field and the <em>Open</em> button is grayed out.</p>
<p>
<a id="pgfId-1084424"></a>If there are multiple open layout views, all using the same physical configuration view, the Top Cell pane shows the layout view in the last layout window you clicked.</p>
<ul><li>
<a id="pgfId-1084425"></a>If there is a layout cellview specified, any changes you make in the Configure Physical Hierarchy window affect the currently active Layout XL session between the layout and schematic views listed.</li><li>
<a id="pgfId-1084426"></a>If you open the Configure Physical Hierarchy window using the CIW&#8217;s <em>File &#8211; Open</em> command or using <em>File &#8211; Open</em> or <em>File &#8211; New</em> from another Configure Physical Hierarchy window, the <em>Physical</em> cellview is listed as <code>&lt;unknown&gt;</code>, and the changes you make do not affect any running Layout XL session. </li></ul>

<p>
<a id="pgfId-1084427"></a>If the content of the top schematic cellview changes on disk, this typically invalidates the rest of the information shown in the Configure Physical Hierarchy window. To refresh the session, use the<h-hot><a actuate="user" class="URL" href="../skdfref/cvio.html#dbRefreshCellView" show="replace" xml:link="simple"> dbRefreshCellView</a></h-hot> SKILL command in the CIW.</p>

<h4>
<a id="pgfId-1084431"></a><a id="30315"></a>Global<a id="globalBindingsPane"></a> Bindings</h4>

<p>
<a id="pgfId-1084432"></a>The settings in the Global Bindings pane control how the logical design is traversed and how the logical to physical correspondence for leaf cells (stop points) is made. It is a dockable window, which you can dock on either side of the main Configure Physical Hierarchy window, or leave undocked as a floating window.</p>
<ul><li>
<a id="pgfId-1084433"></a><em>Physical library list</em> is the list of libraries that are searched to find the corresponding physical cell for a given logical cell. By default, the library containing the logical cell is always searched first.</li><li>
<a id="pgfId-1084434"></a><em>Logical switch view list</em> specifies the view names that are used to descend into a hierarchical design to find schematic views.</li><li>
<a id="pgfId-1084435"></a><em>Physical stop view list</em> specifies the view names that are used to determine the corresponding physical view for a given logical view. When traversing a hierarchy, Configure Physical Hierarchy uses the first view it encounters with one of the specified names.<br /><b>Note:</b><br />
<a id="pgfId-1084436"></a><ul><li>
<a id="pgfId-1084437"></a>The connectivity extractor does not stop at the stop view but descends into the hierarchy until it reaches the leaf symbol. This ensures that Layout XL finds all the required pins, including global nets, which are sometimes defined on the schematic view rather than on the symbol view.</li></ul></li><li>
<a id="pgfId-1090105"></a><em>Physical stop library list</em> specifies the library names that contain a physical view that can be used to stop CPH from elaborating further during a hierarchical force descend. </li><li>
<a id="pgfId-1084442"></a><em>Constraint view list</em> lists the names of the views containing constraint data. This list is passed to the Virtuoso Schematic Editor when it is opened in the context of a physical configuration view, allowing it to determine whether the contents of the Constraint Manager must be updated.</li></ul>







<h4><em>
<a id="pgfId-1084443"></a>Hierarchy Traversal</em></h4>

<p>
<a id="pgfId-1084444"></a>The following figure represents the schematic hierarchy and shows which layout views Configure Physical Hierarchy finds under the specified conditions:</p>
<ul><li>
<a id="pgfId-1084445"></a><em>Physical stop view list</em> is set to <code>layout</code> layoutS</li><li>
<a id="pgfId-1084446"></a><em>Logical switch view list</em> is set to <code>schematic cmos.sch</code></li></ul>

<p>
<a id="pgfId-1084447"></a>The chosen layout views are shown with thick-line boxes.</p>

<p>
<a id="pgfId-1084601"></a></p>
<div class="webflare-div-image">
<img width="667" height="301" src="images/chap4-14.gif" /></div>

<ol><li>
<a id="pgfId-1084602"></a>As Configure Physical Hierarchy builds the layout, it looks at each symbol in <code>Top Cell</code>.</li><li>
<a id="pgfId-1084603"></a>The <code>Multiplier (Mux)</code> cell has no view with a name listed in the <em>Physical stop view list</em>, so Configure Physical Hierarchy goes to the <em>Logical switch view list</em> and switches into the <code>Mux</code> schematic view. </li><li>
<a id="pgfId-1084604"></a>All the devices in the <code>Mux</code> schematic have a view (<code>layout</code>) with a name that is in the <em>Physical stop view list</em>, so Configure Physical Hierarchy uses that view for each device.</li><li>
<a id="pgfId-1084605"></a>The <code>AND</code> cell has a view (<code>layoutS</code>) with a name that is in the <em>Physical stop view list</em>, so Configure Physical Hierarchy uses that view for the <code>AND</code> device and never switches into the <code>cmos.sch</code> view.</li></ol>




<h4>
<a id="pgfId-1084607"></a><a id="61834"></a>Table View</h4>

<p>
<a id="pgfId-1084608"></a>The table view lists the devices in the design in a format appropriate to the mode in which you are operating. It is not dockable.</p>
<ul><li>
<a id="pgfId-1084609"></a>In Hierarchy Configuration mode you can choose between an <em>Instances</em> view and a <em>Cells</em> view. The former shows a hierarchical representation of the logical design, that is, the schematic top-level cell &#8211; and how each instance in the logical design is mapped to a layout view. The latter shows a table view of the cells in the logical design.<br />
<a id="pgfId-1084613"></a>For more information on these views, see <a href="appD.html#91262">Hierarchy Configuration Instances Table</a>.</li><li>
<a id="pgfId-1084614"></a>In Component Types mode, the table view lists the physical cells grouped by component type. If a cell is not assigned to a particular component type, it is put in the <em>No component type</em> directory.<br />
<a id="pgfId-1084618"></a>For more information on this view, see <a href="appD.html#63264"><strong>
Component Types Cells Table</strong>
.</a></li><li>
<a id="pgfId-1084619"></a>In Soft Block mode, the table view lists the instances in the design organized by cell type into <em>Core</em>, <em>Custom</em>, <em>Hard Blocks</em>, <em>I/Os</em>, and <em>Soft Blocks</em>. Instances with no physical view are also grouped together.<br />
<a id="pgfId-1084623"></a>For more information on this view, see <a href="appD.html#39479"><strong>
Soft Block Instances Table</strong>
.</a><br /><div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1084624"></a>
When you select an entry in the table view, the corresponding object is cross-selected in the schematic Navigator assistant and canvas and, in turn, in the layout canvas and <a href="appF.html#71385">Navigator</a> assistant. However, if you close the schematic view, there is no cross-selection between the <a href="chap4.html#25846">Configure Physical Hierarchy Window</a> and the layout window, because there is no active Layout XL session.</div></li></ul>







<h4>
<a id="pgfId-1084632"></a><a id="66366"></a>Attributes</h4>

<p>
<a id="pgfId-1084633"></a>Lists the attributes of the component or components currently selected in the table view. The attributes and controls are different depending on the mode in which you are operating. For more information, see</p>
<ul><li>
<a id="pgfId-1084637"></a><a href="appD.html#10571"><strong>
Hierarchy Configuration Generation Attributes</strong>
</a></li><li>
<a id="pgfId-1084641"></a><a href="appD.html#70120"><strong>
Hierarchy Configuration Parameter Attributes</strong>
</a></li><li>
<a id="pgfId-1084645"></a><a href="appD.html#79987"><strong>
Hierarchy Configuration Terminal Attributes</strong>
</a></li><li>
<a id="pgfId-1084649"></a><a href="appD.html#30421"><strong>
Component Types Attributes</strong>
</a></li><li>
<a id="pgfId-1084653"></a><a href="appD.html#67580"><strong>
Soft Block Boundary Attributes</strong>
</a></li><li>
<a id="pgfId-1084657"></a><a href="appD.html#17996"><strong>
Soft Block I/O Pins Attributes</strong>
</a></li><li>
<a id="pgfId-1084661"></a><a href="appD.html#32591">Soft Block LayerHalo Obstruction Attributes</a></li></ul>







<h2>
<a id="pgfId-1084664"></a><a id="99632"></a>Hierarchy <a id="cphHierConfigMode"></a>Configuration Mode</h2>

<p>
<a id="pgfId-1084665"></a>Use Configure Physical Hierarchy in the Hierarchy Configuration mode</p>
<ul><li>
<a id="pgfId-1084668"></a>To make any required changes before you update the layout from the schematic.</li><li>
<a id="pgfId-1084669"></a>To produce alternative physical implementations of an existing design, by using a different logical to physical configuration as a &#8220;what-if&#8221; experiment.</li></ul>

<p>
<a id="pgfId-1084670"></a>In each case, the main role of the physical hierarchy configuration is to specify the mappings between logical and physical views. When you change a setting, you can see the effects of that change immediately in the layout view by choosing either the <em>Generate All From Source</em> or <em>Update Components And Nets </em>command. The layout view is regenerated (or updated) based on the latest settings in the Configure Physical Hierarchy window.</p>
<p>
<a id="pgfId-1084671"></a>For more information on the graphical user interface and use model, see</p>
<ul><li>
<a id="pgfId-1084675"></a><a href="chap4.html#83945">Hierarchy Configuration Instances Table</a></li><li>
<a id="pgfId-1084679"></a><a href="chap4.html#92614">Hierarchy Configuration Cells Table</a></li><li>
<a id="pgfId-1084683"></a><a href="appD.html#10571"><strong>
Hierarchy Configuration Generation Attributes</strong>
</a></li><li>
<a id="pgfId-1084687"></a><a href="appD.html#70120"><strong>
Hierarchy Configuration Parameter Attributes</strong>
</a></li><li>
<a id="pgfId-1084691"></a><a href="appD.html#79987"><strong>
Hierarchy Configuration Terminal Attributes</strong>
</a></li></ul>




<p>
<a id="pgfId-1084692"></a>For more information on the tasks supported in the Hierarchy Configuration mode, see</p>
<ul><li>
<a id="pgfId-1084696"></a><a href="chap4.html#21156">Mapping Logical Cellviews to Physical Cellviews</a></li><li>
<a id="pgfId-1084700"></a><a href="chap4.html#11003">Mapping Parameter and Terminal Names</a></li><li>
<a id="pgfId-1084704"></a><a href="chap4.html#80853">Ignoring Components</a></li><li>
<a id="pgfId-1084708"></a><a href="chap4.html#45084">Splitting Mfactored Devices</a></li><li>
<a id="pgfId-1084712"></a><a href="chap4.html#80176">Splitting Fingered Devices</a></li><li>
<a id="pgfId-1084716"></a><a href="chap4.html#32534">Ignoring Parasitic Devices</a></li><li>
<a id="pgfId-1084720"></a><a href="chap4.html#95751">Checking Parameters</a></li><li>
<a id="pgfId-1084724"></a><a href="chap4.html#53384">Ignoring Parameters and Terminals</a></li><li>
<a id="pgfId-1084728"></a><a href="chap4.html#59332">Rounding Parameter Values</a></li></ul>









<h3>
<a id="pgfId-1084731"></a><a id="83945"></a>Hierarchy <a id="hierConfigInstTable"></a>Configuration Instances Table</h3>

<p>
<a id="pgfId-1084732"></a>The <em>Instances</em> tree shows a hierarchical representation of the design &#8211; that is, the schematic top-level cell &#8211; and how each instance in the logical design is mapped to a layout view.</p>

<p>
<a id="pgfId-1084736"></a></p>
<div class="webflare-div-image">
<img src="images/cphHierConfigInstances.gif" /></div>

<p>
<a id="pgfId-1084737"></a>For each instance in the design, the table shows the view list used to reach the schematic instance and the corresponding layout cellview found. The table also supports display of vector instances. </p>
<p>
<a id="pgfId-1084753"></a>There are a number of operations you can perform directly in the table view.</p>
<ul><li>
<a id="pgfId-1084754"></a>To sort the tree alphabetically by column within each hierarchical node, click the header of the column you want to sort. Alternate clicks sort in ascending and descending order.</li><li>
<a id="pgfId-1084755"></a>To edit an entry in a table field directly, double-click the text you want to change and choose a value from the drop-down list or type in the new setting manually.</li><li>
<a id="pgfId-1084756"></a>To edit multiple entries for a particular column,<ol><li>
<a id="pgfId-1084757"></a>Select the rows you want to edit.</li><li>
<a id="pgfId-1084758"></a>Right-click the column you want to change and choose <em>Edit multiple &lt;fieldName&gt;</em>.</li><li>
<a id="pgfId-1084759"></a>Choose a value from the drop-down list or type in the new setting manually and press <code>Return</code>.</li></ol><br />
<a id="pgfId-1084760"></a>The value is updated for all the selected rows.</li><li>
<a id="pgfId-1084761"></a>To make an instance a stop point in the hierarchy traversal, click the right mouse button and choose <em>Set/clear stop point</em>. A &#39;STOP&#39; icon against the schematic instance indicates that it is to be regarded as a leaf instance. To clear the stop point, select the instance and choose <em>Set/clear stop point</em> again.</li><li>
<a id="pgfId-1084762"></a>To force hierarchy traversal to proceed beyond a leaf instance, click the right mouse button and choose <em>Set/remove force descend</em>. A &#39;go&#39; icon indicates that the selected instance will now be traversed even if it would normally be a leaf instance. To clear the force descend, select the instance and choose <em>Set/remove force descend</em> again.<br /><b>Note:</b><br />
<a id="pgfId-1084763"></a><ul><li>
<a id="pgfId-1084764"></a>You can also set the force descend individually on vector bit instances by selecting the instance and choosing <em>Set/remove force descend </em>from the shortcut menu<em>.</em></li><li>
<a id="pgfId-1084765"></a>You can set the force descend only on instances that have a physical binding.</li></ul></li><li>
<a id="pgfId-1089266"></a>To force hierarchy traversal to proceed down until the physical view from the physical stop library list is reached, right-click and choose <em>Set/remove hierarchical force descend</em>. A &#39;go&#39; icon with inverted arrow indicates that the selected instance will be traversed until the physical view from the specified physical stop library list is reached. To clear the force descend, select the instance and choose <em>Set/remove hierarchical force descend</em> again.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1089267"></a>To set the hierarchical force descend on an instance, there must be at least one library specified in the <em>Physical stop library list</em>. For more information, see <a href="chap4.html#30315">Global Bindings</a>.</div></li></ul>













<p>
<a id="pgfId-1084766"></a>For more information on the functionality and display of this table, see</p>
<ul><li>
<a id="pgfId-1084770"></a><a href="appD.html#91262">Hierarchy Configuration Instances Table</a></li><li>
<a id="pgfId-1084774"></a><a href="appD.html#22786">Columns in the Hierarchy Configuration Instances Table</a></li><li>
<a id="pgfId-1084778"></a><a href="appD.html#80131">Color Coding in the Hierarchy Configuration Instances Table</a></li><li>
<a id="pgfId-1084782"></a><a href="appD.html#66500">Context Menu for the Hierarchy Configuration Instances Table</a></li></ul>




<h4>
<a id="pgfId-1084784"></a><a id="91705"></a>Instance Mode and Occurrence Mode</h4>

<p>
<a id="pgfId-1084785"></a>The <em>Instances</em> table has two modes: Instance mode and Occurrence mode. </p>
<ul><li>
<a id="pgfId-1084786"></a>Use Instance mode to change a particular setting (for example, the physical binding) or attribute for all identical instances by changing the setting on just one of the instances. </li><li>
<a id="pgfId-1084787"></a>Use Occurrence mode to change a setting or attribute for only a single occurrence of a particular instance; for example, to use a specific variant of a cellview in a particular area of your design.</li></ul>

<p>
<a id="pgfId-1084788"></a>You switch between them using the toggle button in the toolbar.</p>

<p>
<a id="pgfId-1084792"></a></p>
<div class="webflare-div-image">
<img src="images/cphToolbarOccurrence.gif" /></div>

<p>
<a id="pgfId-1084793"></a>When the icon is pressed, you are working in Occurrence mode. When it is not, you are working in Instance mode. (You can check the current mode by hovering over the button to display a tooltip.)</p>
<p>
<a id="pgfId-1084794"></a>Consider the following simple example.</p>

<p>
<a id="pgfId-1084798"></a></p>
<div class="webflare-div-image">
<img src="images/instModeOccMode.GIF" /></div>

<ul><li>
<a id="pgfId-1084799"></a>In Instance mode, any changes you make to the table values or attributes for a particular instance are replicated in all other identical instances in the design.<br />
<a id="pgfId-1084800"></a>For example, if you specify a physical binding for instance <strong>I1:B</strong>, the same physical binding is applied to instance <strong>I2:B</strong> because the two instances of <strong>B</strong> are identical and are contained in identical instances one level up.<br />
<a id="pgfId-1084801"></a>The physical binding is not applied to instance <strong>X1:B</strong> because <strong>B</strong> is contained inside an instance of a different cellview and is therefore considered different to the other two.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1084802"></a>To make the same change to all three instances of <strong>B</strong>, edit the setting for the master cellview in the <em>Cells</em> table. See <a href="chap4.html#92614">Hierarchy Configuration Cells Table</a> for more information.</div></li><li>
<a id="pgfId-1084806"></a>In Occurrence mode, any changes you make to the table value or attributes are applied only to the specific occurrence of the instance that you edited.<br />
<a id="pgfId-1084807"></a>In the example above, if you specify a physical binding for instance <strong>I1:B</strong>, that physical binding is applied only to <strong>I1:B</strong>.<br />
<a id="pgfId-1084808"></a>The physical binding is not applied to either <strong>I2:B</strong> or to <strong>X1:B</strong> because these are different occurrences of instance <strong>B</strong>.</li></ul>







<h4><em>
<a id="pgfId-1084809"></a>Inheritance of Settings</em></h4>

<p>
<a id="pgfId-1084810"></a>All settings are inherited from the higher level unless overridden at the lower level. Settings made in Occurrence mode override prior or subsequent settings made in either Instance mode or in the <em>Cells</em> table. Settings made in Instance mode override prior or subsequent settings made in the <em>Cells</em> table.</p>

<p>
<a id="pgfId-1084828"></a></p>
<div class="webflare-div-image">
<img width="635" height="245" src="images/chap4-18.gif" /></div>

<p>
<a id="pgfId-1084829"></a>If you delete a higher priority setting, the item in question inherits the setting from the next level up the chain.</p>
<p>
<a id="pgfId-1084830"></a>Instances with occurrence-based settings are indicated using the Occurrence mode icon in the table. For example, in the picture below, instance <strong>I10</strong> has had its <em>Physical View</em> set in Occurrence mode. The occurrence icon replaces the normal directory icon for that entry, and the text is colored blue to indicate that it was set manually by the user.</p>

<p>
<a id="pgfId-1084836"></a></p>
<div class="webflare-div-image">
<img width="667" height="187" src="images/chap4-19.gif" /></div>
<h3>
<a id="pgfId-1084839"></a><a id="92614"></a>Hierarchy <a id="hierConfigCellsTable"></a>Configuration Cells Table</h3>

<p>
<a id="pgfId-1084840"></a>The <em>Cells</em> table view shows a flat view of the cellviews used in the schematic design and lists the corresponding layout cellview.</p>

<p>
<a id="pgfId-1084844"></a></p>
<div class="webflare-div-image">
<img src="images/cphHierConfigCells.gif" /></div>

<p>
<a id="pgfId-1084845"></a>The table lists each cellview explicitly, so if your design contains two instances of the same cell and you specify different views to be used for each instance, then the <em>Cells</em> table lists two entries for that cell, one for each view to use.</p>
<p>
<a id="pgfId-1084846"></a>There are a number of operations you can perform directly in the table view.</p>
<ul><li>
<a id="pgfId-1084847"></a>To sort the tree alphabetically by column within each hierarchical node, click the header of the column you want to sort. Alternate clicks sort in ascending and descending order.</li><li>
<a id="pgfId-1084848"></a>To edit an entry in a table field directly, double-click the text you want to change and choose a value from the drop-down list or type in the new setting manually.</li><li>
<a id="pgfId-1084849"></a>To edit multiple entries for a particular column,<ol><li>
<a id="pgfId-1084850"></a>Select the rows you want to edit.</li><li>
<a id="pgfId-1084851"></a>Click the right mouse button on the column you want to change and choose <em>Edit multiple &lt;fieldName&gt;</em>.</li><li>
<a id="pgfId-1084852"></a>Choose a value from the drop-down list or type in the new setting manually and press <code>Return</code>.</li></ol><br />
<a id="pgfId-1084853"></a>The value is updated for all the selected rows.</li></ul>






<p>
<a id="pgfId-1084854"></a>For more detailed information on the functionality and display of this table, see</p>
<ul><li>
<a id="pgfId-1084858"></a><a href="appD.html#29584">Columns in the Hierarchy Configuration Cells Table</a></li><li>
<a id="pgfId-1084862"></a><a href="appD.html#72397">Color Coding in the Hierarchy Configuration Cells Table</a></li><li>
<a id="pgfId-1084866"></a><a href="appD.html#76629">Context Menu for the Hierarchy Configuration Cells Table</a></li></ul>



<h3>
<a id="pgfId-1094740"></a>Marking Cells for Virtual Hi<a id="createSelVH"></a>erarchy Creation</h3>

<p>
<a id="pgfId-1094741"></a>You can use the Configure Physical Hierarchy window to perform selective generation of virtual hierarchies for a layout. Selective virtual hierarchy generation mode can be enabled using the <h-hot><a actuate="user" class="URL" href="../vdpuser/appA.html#vhSelectiveMode" show="replace" xml:link="simple">vhSelectiveMode</a></h-hot> environment variable or by using the <em>Generate &#8211; Virtual hierarchy </em>option on the <h-hot><a actuate="user" class="URL" href="../vdpuser/appB.html#virtualHierarchyOptions" show="replace" xml:link="simple">Virtual Hierarchy Options</a></h-hot> form.</p>
<p>
<a id="pgfId-1094744"></a>In this mode, the layout is generated completely flat even when the <em><a actuate="user" class="URL" href="../vxlhelp/appD.html#dpGenLayout" show="replace" xml:link="simple">Virtual Hierarchy</a></em><em> </em>option on the Generate Layout form is selected. But, you can use the CPH window to selectively choose cells for virtual hierarchy generation.</p>
<p>
<a id="pgfId-1094745"></a>To choose cells for selective virtual hierarchy generation using the CPH window:</p>
<ol><li>
<a id="pgfId-1094746"></a>In the table view, select the Cells tab.</li><li>
<a id="pgfId-1094747"></a>In the Cells table, right-click the cell for which you want to create the virtual hierarchy and choose <em>Create/remove Virtual Hierarchy</em>.</li></ol>

<p>
<a id="pgfId-1094748"></a>The icon corresponding to the cell changes to <img width="16" height="18" src="images/chap4-21.gif" /><span> shape to indicate that the cell is marked for generation during the next </span><em>Generate All From Source</em><span> run. You can also select multiple cells for marking in one go.</span></p>

<b>Note:</b><br />
<a id="pgfId-1094749"></a>
<ul><li>
<a id="pgfId-1094751"></a>To unmark a cell that was previously selected for virtual hierarchy generation, right-click the cell and choose <em>Create/remove Virtual Hierarchy. </em>The icon changes to indicate that the cell will be generated as flat during the next the <em>Generate All From Source</em> run.</li></ul>

<h4><em>
<a id="pgfId-1094752"></a>Related Topics</em></h4>

<p>
<a id="pgfId-1094754"></a><h-hot><a actuate="user" class="URL" href="../vdpuser/appA.html#vhSelectiveMode" show="replace" xml:link="simple">vhSelectiveMode</a></h-hot></p>
<p>
<a id="pgfId-1094756"></a><h-hot><a actuate="user" class="URL" href="../vdpuser/appB.html#virtualHierarchyOptions" show="replace" xml:link="simple">Virtual Hierarchy Options</a></h-hot></p>

<h3>
<a id="pgfId-1084869"></a><a id="21156"></a>Mapping <a id="cellviewMapLogicalToPhysical"></a>Logical Cellviews to Physical Cellviews</h3>

<p>
<a id="pgfId-1084870"></a>You can use the Configure Physical Hierarchy window to specify the logical to physical mappings for the components in your design. You can specify the mapping at the cell-level, in which case all instances of that cell inherit the mapping you specify, or you can override the cell-level setting for one or more instances or occurrences in your design.</p>
<ul><li>
<a id="pgfId-1084874"></a><a href="chap4.html#86697">Specifying the Mapping for a Cell</a></li><li>
<a id="pgfId-1084878"></a><a href="chap4.html#73617">Specifying the Mapping for an Instance or Occurrence</a></li></ul>


<h4>
<a id="pgfId-1084880"></a><a id="86697"></a>Specifying the Mapping for a Cell</h4>

<p>
<a id="pgfId-1084881"></a>To specify the logical to physical mapping for a cell,</p>
<ol><li>
<a id="pgfId-1084882"></a>With the design loaded, choose <em>Launch &#8211; Configure Physical Hierarchy</em> from the Layout XL window.<br />
<a id="pgfId-1084883"></a>The Configure Physical Hierarchy window is displayed.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1084884"></a>For alternative ways of opening the Configure Physical Hierarchy window, see <a href="chap4.html#59124">Launching Configure Physical Hierarchy</a>.</div></li><li>
<a id="pgfId-1084888"></a>In the Configure Physical Hierarchy window, click the <em>Cells</em> tab.</li><li>
<a id="pgfId-1084889"></a>Click the row containing the cell for which you want to change the mapping.<br />
<a id="pgfId-1084890"></a>The row is highlighted.</li><li>
<a id="pgfId-1084891"></a>Double-click the text in the <em>Physical Cell</em> column.<br />
<a id="pgfId-1084892"></a>The <em>Physical Cell</em> entry becomes a drop-down list containing the names of all the available views for the cell in question.</li><li>
<a id="pgfId-1084893"></a>Choose the cell name you want from the list and press <code>Return</code> to confirm the setting.<br />
<a id="pgfId-1084897"></a><div class="webflare-div-image">
<img src="images/cphHierConfigSelectCell.gif" /></div></li><li>
<a id="pgfId-1084898"></a>In the same way, select the <em>Physical View</em> to use and press <code>Return</code> to confirm the setting.<br />
<a id="pgfId-1084899"></a>The logical to physical mapping for the cell in question is changed.</li><li>
<a id="pgfId-1084900"></a>From the menu bar, choose <em>File &#8211; Save</em> to save the physical configuration view.<br />
<a id="pgfId-1084901"></a>The next time you generate or update the layout view, the system uses the new view for that cell instead of the one previously specified.</li></ol>
















<p>
<a id="pgfId-1084904"></a>For information on how to override this setting for an individual instance, see <a href="chap4.html#73617">Specifying the Mapping for an Instance or Occurrence</a>.</p>

<h4>
<a id="pgfId-1084907"></a><a id="73617"></a>Specifying the Mapping for an Instance or Occurrence</h4>

<p>
<a id="pgfId-1084908"></a>To change the logical to physical mapping for a single instance or occurrence,</p>
<ol><li>
<a id="pgfId-1084909"></a>In the Configure Physical Hierarchy window, click the <em>Instances</em> tab.</li><li>
<a id="pgfId-1084910"></a>Click the row containing the instance for which you want to change the mapping.<br />
<a id="pgfId-1084911"></a>The row is highlighted.</li><li>
<a id="pgfId-1084912"></a>Do one of the following<ul><li>
<a id="pgfId-1084913"></a>To specify the mapping for all the occurrences of the selected instance, ensure that Occurrence mode is turned off in the toolbar. <br /><ffi2-fig-frame-in-2 id="#id1084917">
<a id="pgfId-1084917"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img src="images/cphToolbarOccurrence.gif" /></div></li><li>
<a id="pgfId-1084918"></a>To specify the mapping for an individual occurrence, make sure Occurrence mode is turned on.</li></ul><br />
<a id="pgfId-1084922"></a>For more information on Occurrence mode, see <a href="chap4.html#91705">Instance Mode and Occurrence Mode</a>.</li><li>
<a id="pgfId-1084923"></a>Double-click the text in the <em>Physical Cell</em> column.<br />
<a id="pgfId-1084924"></a>The <em>Physical Cell</em> entry becomes a drop-down list containing the names of all the available views for the cell in question.</li><li>
<a id="pgfId-1084925"></a>Choose the cell name you want from the list and press <code>Return</code> to confirm the setting.<br />
<a id="pgfId-1084929"></a><div class="webflare-div-image">
<img src="images/cphHierConfigMapInst.gif" /></div></li><li>
<a id="pgfId-1084930"></a>In the same way, select the <em>Physical View</em> to use and press <code>Return</code> to confirm the setting.<br />
<a id="pgfId-1084931"></a>The logical to physical mapping for the instance in question is changed. If you specified an occurrence mapping, the symbol is also changed to indicate this.<br />
<a id="pgfId-1084937"></a><div class="webflare-div-image">
<img width="633" height="201" src="images/chap4-25.gif" /></div></li><li>
<a id="pgfId-1084938"></a>From the menu bar, choose <em>File &#8211; Save</em> to save the physical configuration view.<br />
<a id="pgfId-1084939"></a>The next time you generate or update the layout view, the system uses the new view for the instance or occurrence instead of the one previously specified.</li></ol>


























<h3>
<a id="pgfId-1084941"></a><a id="11003"></a>Mapping Parameter and Terminal Names</h3>

<p>
<a id="pgfId-1084942"></a>The <em>Name mapping</em> options on the <em>Parameters</em> and <em>Terminals</em> tabs of the Attributes pane let you define mapping between parameter and terminal names in schematic and layout cells.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1084943"></a>You cannot override this setting for an individual instance or occurrence of a cell. The field is not available among the instance attributes.</div>

<div class="webflare-information-macro webflare-macro-tip">
<a id="pgfId-1084944"></a>
This section uses the <em>Parameters</em> tab as an example. The instructions apply equally to the <em>Terminals</em> tab.</div>
<h4>
<a id="pgfId-1084945"></a>Mapping a Parameter Name</h4>

<p>
<a id="pgfId-1084946"></a>To map a parameter name between a schematic cell and its layout equivalent:</p>
<ol><li>
<a id="pgfId-1084947"></a>In the Configure Physical Hierarchy window, click the <em>Cells</em> tab.</li><li>
<a id="pgfId-1084948"></a>Click the row containing the cell with the parameter names you want to map.<br />
<a id="pgfId-1084949"></a>The row is highlighted and the options in the Attributes pane are enabled.</li><li>
<a id="pgfId-1084950"></a>In the <em>Parameters</em> tab, type the mapping you want into the <em>Name mapping</em> field.<br />
<a id="pgfId-1084951"></a>The syntax is illustrated in the example below, which maps schematic parameters <code>l</code> and <code>w</code> to layout parameters <code>L</code> and <code>W</code> respectively.<span class="indent-as-level2"><pre class="webflare-pre-block webflare-courier-new" id="#id1084952">
<a id="pgfId-1084952"></a>l L ; w W ;</pre></span></li><li>
<a id="pgfId-1084957"></a>From the menu bar, choose <em>File &#8211; Save</em> to save the physical configuration view.<br />
<a id="pgfId-1084958"></a>The settings are saved for all instances of the cell in question. The specified parameter names are mapped accordingly the next time you update the layout view.</li><li>
<a id="pgfId-1084959"></a>To restore the value to its default, select the value and click the <em>Revert to default</em> button on the right.</li></ol>











<h4>
<a id="pgfId-1095313"></a>Mapping a Terminal Name</h4>

<p>
<a id="pgfId-1095314"></a>To map a terminal name between a schematic cell and its layout equivalent:</p>
<ol><li>
<a id="pgfId-1095315"></a>In the Configure Physical Hierarchy window, click the <em>Cells</em> tab.</li><li>
<a id="pgfId-1095316"></a>Click the row containing the cell with the terminal names you want to map.<br />
<a id="pgfId-1095317"></a>The row is highlighted and the options in the Attributes pane are enabled.</li><li>
<a id="pgfId-1095318"></a>In the <em>Terminal</em>s tab, type the mapping you want into the <em>Name mapping</em> field.</li><li>
<a id="pgfId-1095325"></a>From the menu bar, choose <em>File &#8211; Save</em> to save the physical configuration view.<br />
<a id="pgfId-1095326"></a>The settings are saved for all instances of the cell in question. The specified terminal names are mapped accordingly the next time you update the layout view.</li><li>
<a id="pgfId-1095327"></a>To restore the value to its default, select the value and click the <em>Revert to default</em> button on the right.</li></ol>







<h3>
<a id="pgfId-1084970"></a><a id="80853"></a>Ignoring Components</h3>

<p>
<a id="pgfId-1084971"></a>You can use Configure Physical Hierarchy to specify ignore properties at the cell-level, in which case all the instances of that cell are ignored, or you can override the cell-level setting for one or more instances or individual occurrences of instances in your design.</p>
<p>
<a id="pgfId-1084972"></a>The value of the <code>propsUsedToIgnoreObjs</code> property set on a device in the schematic design is used as the default value for the <em>Ignore for generation</em> and <em>Ignore for check</em> attributes in the Configure Physical Hierarchy window.</p>
<p>
<a id="pgfId-1084973"></a>If you do not change the value of these properties in the Configure Physical Hierarchy window, the <em>Generate All From Source</em> command honors the value set for the <code>propsUsedToIgnoreObjs</code> in the schematic design and any changes made to the value of that property in the schematic design.</p>
<p>
<a id="pgfId-1084974"></a>If you change a value in the Configure Physical Hierarchy window to specify that certain components are to be ignored either during layout generation and/or check, <em>Generate All From Source</em> respects the changed value and disregards any changes made to the <code>propsUsedToIgnoreObjs</code> property in the schematic design.</p>
<p>
<a id="pgfId-1084975"></a>To restore the default, select the value and click the <em>Revert to default</em> button on the right.</p>

<p>
<a id="pgfId-1084984"></a></p>
<div class="webflare-div-image">
<img width="668" height="252" src="images/chap4-26.gif" /></div>

<p>
<a id="pgfId-1084985"></a><em>Generate All From Source</em> again honors the value on the <code>propsUsedToIgnoreObjs</code> property in the schematic design and any changes made to the value of that property in the schematic design.</p>
<p>
<a id="pgfId-1084986"></a>The table below shows the inheritance rules for ignore values on cells and instances.</p>

<h4>
<a id="pgfId-1085025"></a><a id="54351"></a>Inheritance Rules for Ignore Properties</h4>
<table class="webflareTable" id="#id1084988">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1084990">
<a id="pgfId-1084990"></a>Cell</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1084992">
<a id="pgfId-1084992"></a>Instance</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1084994">
<a id="pgfId-1084994"></a>Instance is ignored?</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084996"></a>No ignore property</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1084998"></a><code>ignore</code> = true</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085000"></a>Yes.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085002"></a>No ignore property</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085004"></a><code>ignore</code> = true<br /><code>lvsIgnore</code> = false</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085006"></a>Yes, because <code>lvsIgnore</code> OR <code>ignore</code> =&gt; true</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085008"></a><code>ignore</code> = true</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085010"></a>No ignore property</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085012"></a>Yes, because it inherits the <code>ignore</code> property setting from the cell</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085014"></a><code>ignore</code> = true</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085016"></a><code>lvsIgnore</code> = false</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085018"></a>Yes, because the <code>ignore</code> property is inherited from the cell meaning that <code>lvsIgnore</code> OR <code>ignore</code> =&gt; true</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085020"></a><code>ignore</code> = true</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085022"></a><code>ignore</code> = false</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085024"></a>No, because the <code>ignore</code> property exists on the instance and its setting overrides the setting on the cell.</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1085026"></a>For more information, see</p>
<ul><li>
<a id="pgfId-1085030"></a><a href="chap4.html#15821">Ignoring a Cell for Generation or Check</a></li><li>
<a id="pgfId-1085034"></a><a href="chap4.html#38872">Ignoring an Instance or Occurrence for Generation or Check</a></li></ul>


<h4>
<a id="pgfId-1085036"></a><a id="15821"></a>Ignoring a Cell for Generation or Check</h4>

<p>
<a id="pgfId-1085037"></a>To specify that all instances of a particular cell are to be ignored when the layout view is generated or when the <em><a actuate="user" class="URL" href="../vxlhelp/chap9.html#checkAgainstSource" show="replace" xml:link="simple">Check Against Source</a></em> command is run,</p>
<ol><li>
<a id="pgfId-1085039"></a>In the Configure Physical Hierarchy window, click the <em>Cells</em> tab.</li><li>
<a id="pgfId-1085040"></a>Click the row containing the cell you want to ignore.<br />
<a id="pgfId-1085041"></a>The row is highlighted and the options in the Attributes pane are enabled.</li><li>
<a id="pgfId-1085042"></a>In the <em>Generation</em> tab, set <em>Ignore for generation</em> to true and press <code>Return</code>.<br />
<a id="pgfId-1085043"></a>The cell name is now displayed with a strikethrough.<br />
<a id="pgfId-1085047"></a><div class="webflare-div-image">
<img src="images/cphHierConfigIgnoreCell.gif" /></div>
<a id="pgfId-1085048"></a>Setting this option automatically sets the <em>Ignore for check</em> option as well because it is irrational to check something that you have purposely excluded from the layout. You can switch on the <em>Ignore for check</em> option independently by first disabling the <em>Ignore for generation</em> option.</li><li>
<a id="pgfId-1085049"></a>From the menu bar, choose <em>File &#8211; Save</em> to save the physical configuration view.<br />
<a id="pgfId-1085050"></a>The ignore properties for the cell in question are saved.<br />
<a id="pgfId-1085051"></a>The next time you generate or update the layout view, no layout representation is generated for the instance in question.<br /><div class="webflare-information-macro webflare-macro-tip">
<a id="pgfId-1085052"></a>
To generate an instance that was earlier set as <em>ignore for generation</em>, make sure the <em>Remove device </em>option is also set to <code>false</code>. Else, the instance will have its nets merged and will continue to be ignored for generation, even though <em>ignore for generation</em> is set to <code>false</code>.</div></li></ol>















<p>
<a id="pgfId-1085053"></a>For information on the inheritance rules for ignore values on cells and instances, see <a href="chap4.html#54351">Inheritance Rules for Ignore Properties</a>.</p>

<h4>
<a id="pgfId-1085058"></a><a id="38872"></a>Ignoring an Instance or Occurrence for Generation or Check</h4>

<p>
<a id="pgfId-1085059"></a>To specify that an instance is not to be generated in the layout view or checked by the <em>Check Against Source</em> command,</p>
<ol><li>
<a id="pgfId-1085060"></a>In the Configure Physical Hierarchy window, click the <em>Instances</em> tab.</li><li>
<a id="pgfId-1085061"></a>Click the row containing the instance you want to ignore.<br />
<a id="pgfId-1085062"></a>The row is highlighted and the options in the Attributes pane are enabled.<br />
<a id="pgfId-1085068"></a><div class="webflare-div-image">
<img width="635" height="331" src="images/chap4-28.gif" /></div></li><li>
<a id="pgfId-1085069"></a>Do one of the following:<ul><li>
<a id="pgfId-1085070"></a>To specify the ignore property for all the occurrences of the selected instance, ensure that Occurrence mode is turned off in the toolbar, <img src="images/cphToolbarOccurrence.gif" /><span>.</span></li><li>
<a id="pgfId-1085074"></a>To specify the ignore property for an individual occurrence, make sure the Occurrence mode is turned on.</li></ul><br />
<a id="pgfId-1085078"></a>For more information on Occurrence mode, see <a href="chap4.html#91705">Instance Mode and Occurrence Mode</a>.</li><li>
<a id="pgfId-1085079"></a>In the <em>Generation</em> tab, set <em>Ignore for generation</em> to true and press <code>Return</code>.<br />
<a id="pgfId-1085080"></a>The instance or occurrence name is now displayed with a strikethrough. If you specified an occurrence mapping, the symbol is also changed to indicate this.<br />
<a id="pgfId-1085081"></a>Setting <em>Ignore for generation</em> automatically sets <em>Ignore for check</em> as well because it is irrational to check something that you have purposely excluded from the layout. You can switch on the <em>Ignore for check</em> option independently by first disabling the <em>Ignore for generation</em> option.</li><li>
<a id="pgfId-1085082"></a>From the menu bar, choose <em>File &#8211; Save</em> to save the physical configuration view.<br />
<a id="pgfId-1085083"></a>The next time you generate or update the layout view, no layout representation is generated for the instance in question.</li></ol>
















<p>
<a id="pgfId-1085084"></a>For information on the inheritance rules for ignore values on cells and instances, see <a href="chap4.html#54351">Inheritance Rules for Ignore Properties</a>.</p>

<h3>
<a id="pgfId-1085089"></a><a id="45084"></a>Splitting Mfactored Devices</h3>

<p>
<a id="pgfId-1085090"></a>The <em>Split mfactored devices</em> option controls whether Layout XL places schematic devices with the <a href="appC.html#35509">mfactor</a> property as multiple devices in the layout or as single devices. It overrides the <a href="appA.html#37433">mfactorSplit</a> environment variable, which can also be set on the <a href="appD.html#70171">Generation Tab</a> of the Connectivity form.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1085100"></a><em>Split mfactored devices</em> controls <em>only</em> whether Layout XL generates one device or several devices in the layout view. It does not change the widths of the generated devices.</div>
<p>
<a id="pgfId-1085101"></a>To set or unset this option,</p>
<ol><li>
<a id="pgfId-1085102"></a>In the Configure Physical Hierarchy window, click the <em>Instances</em> tab or the <em>Cells</em> tab, and select the device in question.<br />
<a id="pgfId-1085103"></a>The <em>Split mfactored devices</em> option is checked or unchecked depending on the default value set on the <a href="appD.html#70171">Generation Tab</a> of the Connectivity form.<br />
<a id="pgfId-1085112"></a><div class="webflare-div-image">
<img width="631" height="176" src="images/chap4-30.gif" /></div>
<a id="pgfId-1085113"></a><em>Split mfactored devices</em> is grayed out if the selected instances do not have the <code>mfactor</code> property.</li><li>
<a id="pgfId-1085114"></a>Set the option as required and choose <em>File &#8211; Save</em> from the menu bar to save the physical configuration view.<br />
<a id="pgfId-1085115"></a>The new setting takes effect the next time you generate or update the layout view.</li></ol>









<h3>
<a id="pgfId-1085117"></a><a id="52957"></a>Splitting Sfactored Devices</h3>

<p>
<a id="pgfId-1085118"></a>The <em>Split sfactored devices</em> option controls whether Layout XL places schematic devices with the <a href="appC.html#60914">sfactor</a> property as series-connected devices in the layout or as single devices. It overrides the <a href="appA.html#40308">sfactorSplit</a><a href="appA.html#40308">sfactorSplit</a>environment variable, which can also be set on the <a href="appD.html#70171">Generation Tab</a> of the Connectivity form.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1085131"></a><em>Split sfactored devices</em> controls <em>only</em> whether Layout XL generates one device or several devices in the layout view. It does not change the widths of the generated devices.</div>
<p>
<a id="pgfId-1085132"></a>To set or unset this option,</p>
<ol><li>
<a id="pgfId-1085133"></a>In the Configure Physical Hierarchy window, click the <em>Instances</em> tab or the <em>Cells</em> tab, and select the device in question.<br />
<a id="pgfId-1085134"></a>The <em>Split sfactored devices</em> option is checked or unchecked depending on the default value set on the <a href="appD.html#70171">Generation Tab</a> of the Connectivity form.<br />
<a id="pgfId-1085142"></a><div class="webflare-div-image">
<img width="631" height="178" src="images/chap4-31.gif" /></div>
<a id="pgfId-1085146"></a><em>Split sfactored devices</em> is grayed out if the selected instances do not have the <a href="appC.html#60914">sfactor</a> property.</li><li>
<a id="pgfId-1085147"></a>Set the option as required and choose <em>File &#8211; Save</em> from the menu bar to save the physical configuration view.<br />
<a id="pgfId-1085148"></a>The new setting takes effect the next time you generate or update the layout view.</li></ol>









<h3>
<a id="pgfId-1085151"></a><a id="80176"></a>Splitting Fingere<a id="splitFingers"></a>d Devices</h3>

<p>
<a id="pgfId-1085152"></a>The <em>Split fingered devices</em> option controls whether each finger of a schematic device will be placed in the layout as a separate device.</p>
<p>
<a id="pgfId-1085153"></a>For example, if an instance has three fingers in the schematic and finger splitting is selected, three devices, each with one finger, is generated in the layout. If the schematic device also has an <code>mfactor</code> value set, the number of devices generated in the layout is a multiple of the <code>mfactor</code> value and the number of fingers.</p>
<p>
<a id="pgfId-1085154"></a>Therefore, for a schematic device that has <code>3</code> fingers and an <code>mfactor</code> value of <code>2</code>, the number of devices generated in the layout is:</p>
<p class="webflare-indent1">
<a id="pgfId-1085155"></a><span class="webflare-courier-new" style="white-space:pre"><em>(number of fingers X mfactor value)</em></span></p>
<p class="webflare-indent1">
<a id="pgfId-1085156"></a><code>(3 X 2) = 6</code></p>
<p>
<a id="pgfId-1088052"></a>The <em>Split fingered devices</em> option also controls the width of each finger generated in the layout when the finger width is not specified as a CDF parameter but the <em>total width </em>and the <em>number of fingers </em>are specified. In this case, the resulting finger width may not match the schematic finger width because the split finger width is calculated as:</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1088053"></a><code><em>(total width X number of fingers)</em></code></pre>
<p>
<a id="pgfId-1088057"></a>To control the generated finger width, you can set the <a href="appA.html#65294">fingerSplitSetWidth</a> environment variable to <code>t</code>.</p>
<p>
<a id="pgfId-1085157"></a>Alternatively, finger splitting can be set by:</p>
<ul><li>
<a id="pgfId-1085161"></a>Setting the <a href="appA.html#67579">fingerSplit</a> environment variable to <code>t</code>. </li><li>
<a id="pgfId-1085167"></a>Selecting the <em>Split fingered devices</em> option in the <a href="appD.html#70171">Generation Tab</a> of the <a href="appD.html#38633">Connectivity</a> form. </li></ul>

<p>
<a id="pgfId-1085169"></a>To set or unset finger splitting using the <em>Configure Physical Hierarchy</em> window,</p>
<ol><li>
<a id="pgfId-1085170"></a>Click the <em>Instances</em> tab or the <em>Cells</em> tab, and select the device in question.<br />
<a id="pgfId-1085171"></a>The <em>Split fingered devices</em> option appears selected (<code>true</code>) or deselected (<code>false</code>), depending on the default value set on the <a href="appD.html#70171">Generation Tab</a> of the Connectivity form.<br />
<a id="pgfId-1085179"></a><div class="webflare-div-image">
<img width="633" height="172" src="images/chap4-32.gif" /></div></li><li>
<a id="pgfId-1085180"></a>Set the option as required and choose <em>File &#8211; Save</em> from the menu bar to save the physical configuration view.</li></ol>






<p>
<a id="pgfId-1085181"></a>The new setting takes effect the next time you generate or update the layout view.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1087994"></a>If a multi-fingered device requires to be split after the device has been generated in layout, you can fold the multi-fingered device in order to create a separate device for each finger. For more details, see <a href="chap7.html#95222">Folding a Multi-fingered Device to Create Split Fingers</a>.</div>

<h3>
<a id="pgfId-1085183"></a><a id="32534"></a>Ignoring Parasitic Devices</h3>

<p>
<a id="pgfId-1085185"></a><a id="removedevice"></a>Use the <em>Remove device</em> option on the <em>Generation</em> tab to cause parasitic devices to be ignored by merging nets connected to the terminals of a single instance at a time.</p>
<p>
<a id="pgfId-1085186"></a>You can also use this option to merge nets connected to the terminals of an iterated instance. To do so, specify the option for the instance being iterated, not for the hierarchical block containing the iterated instances.</p>
<b>Note:</b><br />
<a id="pgfId-1085187"></a>
<ul><li>
<a id="pgfId-1085188"></a>The use of this option is not restricted to devices with only two terminals; it also works for devices with more than two terminals.</li><li>
<a id="pgfId-1085189"></a>To generate a device that was earlier set as<em> Ignore for generation,</em> you must also disable the <em>Remove device</em> option to allow the device to be regenerated. Unless the Remove device option is also set to <code>false</code>, the nets connected to the instances are merged and the device is ignored for generation.<br /><b>Caution:</b><br />
<a id="pgfId-1085190"></a>
</li></ul>




<p>
<a id="pgfId-1085191"></a>To ignore parasitic devices:</p>
<ol><li>
<a id="pgfId-1085192"></a>In the Configure Physical Hierarchy window, click the <em>Instances</em> tab.</li><li>
<a id="pgfId-1085193"></a>Click the row containing the instance you want to ignore.<br />
<a id="pgfId-1085194"></a>The row is highlighted and the options in the Attributes pane are enabled.</li><li>
<a id="pgfId-1085195"></a>In the <em>Generation</em> tab, specify the <em>Remove device</em> argument in the text field provided.<br />
<a id="pgfId-1085200"></a><div class="webflare-div-image">
<img width="635" height="177" src="images/chap4-34.gif" /></div>
<a id="pgfId-1085201"></a>For example, for a resistor with terminal names PLUS and MINUS,<ul><li>
<a id="pgfId-1085202"></a><code>(short(PLUS MINUS))</code> would short the terminals.</li><li>
<a id="pgfId-1085203"></a><code>(short(PLUS MINUS) funcR(r))</code> would short the terminals only if the user-defined SKILL function <code>funcR</code> returns non-nil.<br />
<a id="pgfId-1085204"></a>A sample <code>funcR</code> for the above case would be as follows.<pre class="webflare-pre-block webflare-courier-new" id="#id1085205">
<a id="pgfId-1085205"></a><code>procedure( funcR(r)
    if(r&lt;100 then t
    else nil)
)</code></pre>
<a id="pgfId-1085206"></a>The <code>funcR</code> SKILL function must already be defined in your in your  <code>.cdsinit</code> or <code>libInit.il</code> file. The first parameter of the SKILL function is <code>r</code> and must be an instance or cell parameter of the instance that you are testing for removal (defining, for example, the resistance value for a resistor).<br />
<a id="pgfId-1085207"></a>The system searches the instances in the design for the parameter <code>r</code> and evaluates the value for that parameter in each of the instances in which it exists. For the purposes of this example, parameter <code>r</code> evaluates to 30.<br />
<a id="pgfId-1085208"></a>The system then calls the <code>funcR</code> function, passing the value 30 as the first argument. The <code>funcR</code> function compares this value to a predefined value (in this case 100).<ul><li>
<a id="pgfId-1085209"></a>If it is less than 100, the function returns <code>t</code>, implying that the resistor instance is to be removed from the design (i.e., shorted).</li><li>
<a id="pgfId-1085210"></a>If it is greater than or equal to 100, the function returns <code>nil</code>, implying that the instance should not be removed.</li></ul></li></ul></li><li>
<a id="pgfId-1085211"></a>From the menu bar, choose <em>File &#8211; Save</em> to save the physical configuration view.<br />
<a id="pgfId-1085212"></a>The setting takes effect the next time you generate or update the layout view.</li></ol>






















<h4><em>
<a id="pgfId-1085213"></a>Rules for Remove Device Handling</em></h4>

<ol><li>
<a id="pgfId-1085214"></a>A single function applies for all the <code>short()</code> lists.</li><li>
<a id="pgfId-1085215"></a>If the function is missing, the terminals are shorted as specified in the short rule.</li><li>
<a id="pgfId-1085216"></a>If the device is not removed, the terminals are not shorted.</li><li>
<a id="pgfId-1085217"></a>A warning is issued when the device is not ignored in the netlisting.</li></ol>




<h4><em>
<a id="pgfId-1085218"></a>Rules for Net Merging during Remove Device</em></h4>

<p>
<a id="pgfId-1085219"></a>The system uses the following rules to decide which net survives after the device is shorted.</p>
<ol><li>
<a id="pgfId-1085220"></a>Global nets, such as gnd!, or nets connected to I/O pins always survive.</li><li>
<a id="pgfId-1085221"></a>If there are no global or external nets, the net at a higher level of the hierarchy survives. For example, <code>net1</code> survives over <code>/I1/net2</code>.</li><li>
<a id="pgfId-1085222"></a>If both the nets are at the same hierarchy level, the labeled net survives. For example, the labeled net, <code>net10,</code> survives over the non-labeled net, <code>net1.</code></li><li>
<a id="pgfId-1085223"></a>If both the nets have a label, the net that has the shortest name and is the first one alphabetically, survives. For example, the labeled <code>netAA</code> survives over the labeled <code>netZZ </code>and over the non-labeled <code>netA</code>.</li><li>
<a id="pgfId-1085224"></a>If the nets are not labeled and their names are of the same length, the net that survives is the first one alphabetically. For example, <code>netM</code> survives over <code>netN</code>.<br /><div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1085225"></a>
When merging the nets of a shorted device, if you want a particular net to survive, you must add a label to the net. Labeled nets survive over non-labeled nets even if the name of the non-labeled net is shorter.</div></li></ol>






<h3>
<a id="pgfId-1090515"></a><a id="41759"></a>Setting the Ins<a id="cphStopLevelInst"></a>tance Stop Level</h3>

<p>
<a id="pgfId-1090516"></a>The<em> Stop level </em>attribute controls the hierarchy level to which the selected instance will elaborate relative to the top level.</p>
<p>
<a id="pgfId-1090803"></a>If an instance at level 1 and another one at level 2 are both set to a <em>Stop level </em>value of 5, both instances will elaborate to level 5 from the top.</p>
<p>
<a id="pgfId-1091007"></a>The new stop level value takes effect the next time you generate or update the layout view.</p>
<p>
<a id="pgfId-1094205"></a></p>
<p>
<a id="pgfId-1090539"></a>To set the stop level for an instance using the Configure Physical Hierarchy window:</p>
<ol><li>
<a id="pgfId-1091457"></a>In the Configure Physical Hierarchy window, click the <em>Instances</em> tab.</li><li>
<a id="pgfId-1091458"></a>Select the row containing the instance for which you want to set the stop level.<br />
<a id="pgfId-1091459"></a>The row is highlighted and the options in the<em> Attributes </em>pane are enabled.</li><li>
<a id="pgfId-1091460"></a>In the <em>Generation</em> tab, type the required <em>Stop level </em>value.<br />
<a id="pgfId-1090549"></a><div class="webflare-div-image">
<img width="633" height="198" src="images/chap4-35.gif" /></div></li><li>
<a id="pgfId-1090550"></a>Choose <em>File &#8211; Save</em> to save the update.</li></ol>








<p>
<a id="pgfId-1090551"></a>The new <em>Stop level </em>value for the updated instance takes effect the next time you generate or update the layout view.</p>

<h3>
<a id="pgfId-1085228"></a><a id="95751"></a>Chec<a id="checkParams"></a>king Parameters </h3>

<p>
<a id="pgfId-1085229"></a>The <em>To Check </em>field on the <em>Parameters</em> tab of the <em>Attributes</em> pane lets you specify the names of the schematic parameters to be checked by the <em>Check Against Source</em> command. </p>
<p>
<a id="pgfId-1085230"></a>For designs that have a long list of layout-only parameters that need to be ignored during a <em>Check Against Source</em> run, it is more efficient to specify the parameters that need to be checked instead of specifying the ones that need to be ignored. This not only reduces the effort of setting the parameters, but also makes the <em>check</em> and <em>update</em> procedures more effective as there is a lesser number of parameters to process. </p>
<p>
<a id="pgfId-1085231"></a>You can use the <em>To Check </em>field to specify the list of parameters to check. When the <em>parameters to check </em>list is specified, Layout XL uses that list instead of using the <em>parameters to ignore during check </em>list. </p>
<p>
<a id="pgfId-1085232"></a>For example, in the figure displayed below, no parameters were set for <em>ignore</em>. Therefore, the instance info balloon displays only those parameters that were set for check. </p>

<p>
<a id="pgfId-1085236"></a></p>
<div class="webflare-div-image">
<img width="348" height="421" src="images/chap4-36.gif" /></div>

<p>
<a id="pgfId-1085237"></a>In Layout XL, the parameters to check can be specified using one of the following:</p>
<ul><li>
<a id="pgfId-1085239"></a><a actuate="user" class="URL" href="../vxlhelp/appE.html#paramsToCheck" show="replace" xml:link="simple">LAM</a> file<ul><li>
<a id="pgfId-1085240"></a>Cadence recommends that the parameters to check be defined in the LAM file. This ensures that the parameters to check are set at the library level and can benefit all the layout engineers using the particular cell in their design. However, any updates to the LAM file will need to be made by the CAD team engineers.</li></ul></li><li>
<a id="pgfId-1085242"></a><a actuate="user" class="URL" href="../vxlhelp/chap4.html#toCheck" show="replace" xml:link="simple">To Check</a><em> </em>field in the <em>Parameters</em> tab in the CPH attributes pane<ul><li>
<a id="pgfId-1085243"></a>The <em>To Check </em>field displays the parameters set for checking, if defined in the LAM file. You can use the <em>To Check</em> field to modify the parameters to check for the current design. Any change in the CPH parameters to check list does not change the settings in the LAM file. The library-level settings remain the same, unless modified in LAM. </li></ul></li><li>
<a id="pgfId-1085245"></a><a actuate="user" class="URL" href="../vxlhelp/appD.html#parametersToCheck" show="replace" xml:link="simple">Parameters to check</a><strong><em> </em></strong>option on the <em>Parameters</em> tab in the Connectivity form.<ul><li>
<a id="pgfId-1085246"></a>If the parameters to check are defined in the Connectivity form, the setting is applicable for all the Pcells. This is unlike setting the parameters to check in the LAM file, which allows the parameters to be set for a particular Pcell.</li></ul></li><li>
<a id="pgfId-1085250"></a><a href="appA.html#47205">paramsToCheck</a> environment variable<ul><li>
<a id="pgfId-1085251"></a>By default, the environment variable is set to <code>&#8220;</code> <code>&#8220;</code>, which means the parameters to check are not specified. In this case, the <a href="appA.html#26861">paramsToIgnore</a> list is used.<br />
<a id="pgfId-1085258"></a>If the <a href="appA.html#47205">paramsToCheck</a> environment variable is set, it takes precedence over the <a href="appA.html#96127">paramsToIgnoreForCheck</a> environment variable. </li></ul></li></ul>










<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1085262"></a>When the <em>parameters to check</em> list is set up, the parameters in the list are the only ones that are updated by the <a actuate="user" class="URL" href="../vxlhelp/chap10.html#updateLayoutParam" show="replace" xml:link="simple"></a><a href="chap10.html#updateLayoutParam">Update Layout Parameters</a> or <a actuate="user" class="URL" href="../vxlhelp/chap10.html#updateSchemParam" show="replace" xml:link="simple">Update Schematic Parameters</a> commands.</div>

<h4><em>
<a id="pgfId-1085266"></a>Example</em></h4>

<p>
<a id="pgfId-1085267"></a>Let us now consider an example that illustrates a typical design scenario that uses the <em>parameters to check </em>list also for running the <em>Update </em>command.</p>
<p>
<a id="pgfId-1085268"></a>Let us assume that you want to check the total width, <code>w</code>. </p>
<p>
<a id="pgfId-1085269"></a>In this case, it is likely that you set for check only the <em>total width </em><em>(</em><code>w)</code>parameter and ignore the <em>finger width</em> (<code>fw</code>) parameter.</p>
<p>
<a id="pgfId-1085270"></a>But:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1085271"></a>w = fingers * fw</pre>

<p>
<a id="pgfId-1085272"></a>If you only check and update the width (<code>w</code>) parameter, the Pcell does not change its finger width (<code>fw</code>), unless the CDF callbacks are fired. Therefore, if you only want to check the width parameter (<code>w</code>), but want to update both the width (<code>w</code>) and finger width (<code>fw</code>) parameters, you must set the <h-hot><a href="appA.html#98885">lxEvalCDFCallbacks</a></h-hot> environment variable to <code>t</code>.</p>

<div class="webflare-information-macro webflare-macro-tip">
<a id="pgfId-1085279"></a>
In the event that <a href="appA.html#98885">lxEvalCDFCallbacks</a> cannot be set to <code>true</code>, ensure that the <em>parameters to check</em> list matches the <em>parameters to update</em> list. </div>

<p>
<a id="pgfId-1085280"></a>For the current example, if CDF callback evaluation is not set, you must also include finger width (<code>fw</code>) as a parameter to check. This ensures that the lists of parameters to be checked and updated are in sync.</p>
<p>
<a id="pgfId-1085281"></a>Alternatively, you can use the following options to set the parameters to check and update:</p>
<ul><li>
<a id="pgfId-1085283"></a><a actuate="user" class="URL" href="../vxlhelp/appD.html#paramIgnoreCheck" show="replace" xml:link="simple">Parameters to ignore during check</a></li><li>
<a id="pgfId-1085285"></a><a actuate="user" class="URL" href="../vxlhelp/appD.html#paramToIgnoreGenCheck" show="replace" xml:link="simple">Parameters to ignore during generation and update</a> </li></ul>


<h4>
<a id="pgfId-1085287"></a>Checkin<a id="toCheck"></a>g a Parameter on a Cellview</h4>

<p>
<a id="pgfId-1085288"></a>To check a specified cellview parameter:</p>
<ol><li>
<a id="pgfId-1085289"></a>In the Configure Physical Hierarchy window, click the <em>Cells</em> tab.</li><li>
<a id="pgfId-1085290"></a>Click the row containing the cell with the parameters you want to check.<br />
<a id="pgfId-1085291"></a>The row is highlighted and the options in the Attributes pane are enabled.</li><li>
<a id="pgfId-1085292"></a>In the <em>Parameters</em> tab &#8211; <em>To check</em> field, type the name of any parameter to be checked by the <em>Check Against Source </em>command.<br />
<a id="pgfId-1085298"></a><div class="webflare-div-image">
<img width="638" height="183" src="images/chap4-37.gif" /></div></li><li>
<a id="pgfId-1085299"></a>From the menu bar, choose <em>File &#8211; Save</em> to save the physical configuration view.<br />
<a id="pgfId-1085300"></a>The settings are saved for all the instances of the cell in question. The specified parameters are checked the next time you run the <em>Check Against Source</em> command or update the layout view.</li></ol>









<p>
<a id="pgfId-1085303"></a>For information on how to override this setting for an instance or occurrence, see <a href="chap4.html#41613">Checking a Parameter on an Instance or Occurrence</a>.</p>

<h4>
<a id="pgfId-1085307"></a><a id="41613"></a>Checkin<a id="paramCheckInst"></a>g a Parameter on an Instance or Occurrence</h4>

<p>
<a id="pgfId-1085308"></a>To check a specified parameter on a single instance or occurrence:</p>
<ol><li>
<a id="pgfId-1085309"></a>In the Configure Physical Hierarchy window, click the <em>Instances</em> tab.</li><li>
<a id="pgfId-1085310"></a>Click the row containing the instance with the parameters you want to check.<br />
<a id="pgfId-1085311"></a>The row is highlighted and the options in the Attributes pane are enabled.</li><li>
<a id="pgfId-1085312"></a>Do one of the following.<ul><li>
<a id="pgfId-1085313"></a>To specify the parameter to check for all the occurrences of the selected instance, ensure Occurrence mode is turned off in the toolbar. <br /><ffi2-fig-frame-in-2 id="#id1085317">
<a id="pgfId-1085317"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img src="images/cphToolbarOccurrence.gif" /></div></li><li>
<a id="pgfId-1085318"></a>To specify the parameter to check for an individual occurrence, ensure Occurrence mode is turned on.</li></ul><br />
<a id="pgfId-1085322"></a>For more information on Occurrence mode, see <a href="chap4.html#91705">Instance Mode and Occurrence Mode</a>.</li><li>
<a id="pgfId-1085323"></a>In the <em>Parameters</em> tab &#8211; <em>To Check </em>field, type the name of the parameter to be checked by <em>Check Against Source</em> and press <code>Return</code>.<br />
<a id="pgfId-1085329"></a><div class="webflare-div-image">
<img width="638" height="189" src="images/chap4-39.gif" /></div>
<a id="pgfId-1085330"></a>The settings are made for the selected instance or occurrence. If you specified an occurrence mapping, the symbol is also changed to indicate this.</li><li>
<a id="pgfId-1085331"></a>From the menu bar, choose <em>File &#8211; Save</em> to save the physical configuration view.</li></ol>

















<p>
<a id="pgfId-1085332"></a>The specified parameters are checked the next time you run the <em>Check Against Source</em> command.</p>

<h3>
<a id="pgfId-1085335"></a><a id="53384"></a>Ignoring Param<a id="ignorePandT"></a>eters and Terminals</h3>

<p>
<a id="pgfId-1085336"></a>The <em>Ignore for generation</em> and <em>Ignore for check</em> controls on the <em>Parameters</em> and <em>Terminals</em> tabs of the Attributes pane let you specify the names of the schematic parameters or terminals that are not to be transferred to the layout view or checked by the <em>Check Against Source</em> command.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1085337"></a>To ignore a layout-only terminal, an <code>ignore</code> property must be added on the terminal in the layout instance master.</div>
<p>
<a id="pgfId-1085338"></a>The sections below use the <em>Parameters</em> tab as an example. The instructions apply equally to the <em>Terminals</em> tab.</p>
<ul><li>
<a id="pgfId-1085342"></a><a href="chap4.html#77214">Ignoring a Parameter on a Cellview</a></li><li>
<a id="pgfId-1085346"></a><a href="chap4.html#73103">Ignoring a Parameter on an Instance or Occurrence</a></li></ul>


<h4>
<a id="pgfId-1085348"></a><a id="77214"></a>Ignoring a Parameter on a Cellview</h4>

<p>
<a id="pgfId-1085349"></a>To ignore a specified cellview parameter,</p>
<ol><li>
<a id="pgfId-1085350"></a>In the Configure Physical Hierarchy window, click the <em>Cells</em> tab.</li><li>
<a id="pgfId-1085351"></a>Click the row containing the cell with the parameters you want to ignore.<br />
<a id="pgfId-1085352"></a>The row is highlighted and the options in the Attributes pane are enabled.</li><li>
<a id="pgfId-1085353"></a>In the <em>Parameters</em> tab, type the name of any parameter to be ignored by layout generation in the <em>Ignore for generation</em> field.<br />
<a id="pgfId-1085358"></a><div class="webflare-div-image">
<img width="635" height="177" src="images/chap4-40.gif" /></div></li><li>
<a id="pgfId-1085359"></a>Specify the name of any parameter to be ignored by <em>Check Against Source</em> in the <em>Ignore for check</em> field.</li><li>
<a id="pgfId-1085360"></a>From the menu bar, choose <em>File &#8211; Save</em> to save the physical configuration view.<br />
<a id="pgfId-1085361"></a>The settings are saved for all instances of the cell in question. The specified parameters are ignored the next time you update the layout view or the next time you run the <em>Check Against Source</em> command.</li></ol>










<p>
<a id="pgfId-1085364"></a>For information on how to override this setting for an instance or occurrence, see <a href="chap4.html#73103">Ignoring a Parameter on an Instance or Occurrence</a>.</p>

<h4>
<a id="pgfId-1085367"></a><a id="73103"></a>Ignoring a Parameter on an Instance or Occurrence</h4>

<p>
<a id="pgfId-1085368"></a>To ignore a specified parameter on a single instance or occurrence:</p>
<ol><li>
<a id="pgfId-1085369"></a>In the Configure Physical Hierarchy window, click the <em>Instances</em> tab.</li><li>
<a id="pgfId-1085370"></a>Click the row containing the instance with the parameters you want to ignore.<br />
<a id="pgfId-1085371"></a>The row is highlighted and the options in the Attributes pane are enabled.</li><li>
<a id="pgfId-1085372"></a>Do one of the following.<ul><li>
<a id="pgfId-1085373"></a>To specify the parameter to ignore for all the occurrences of the selected instance, ensure Occurrence mode is turned off in the toolbar. <br /><ffi2-fig-frame-in-2 id="#id1085377">
<a id="pgfId-1085377"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img src="images/cphToolbarOccurrence.gif" /></div></li><li>
<a id="pgfId-1085378"></a>To specify the parameter to ignore for an individual occurrence, ensure Occurrence mode is turned on.</li></ul><br />
<a id="pgfId-1085382"></a>For more information on Occurrence mode, see <a href="chap4.html#91705">Instance Mode and Occurrence Mode</a>.</li><li>
<a id="pgfId-1085383"></a>In the <em>Parameters</em> tab, type the name of the parameter to be ignored by layout generation in the <em>Ignore for generation</em> field and press <code>Return</code>.<br />
<a id="pgfId-1085388"></a><div class="webflare-div-image">
<img width="632" height="183" src="images/chap4-42.gif" /></div></li><li>
<a id="pgfId-1085389"></a>Type the name of the parameter to be ignored by <em>Check Against Source</em> in the <em>Ignore for check</em> field and press <code>Return</code>.<br />
<a id="pgfId-1085390"></a>The settings are made for the selected instance or occurrence. If you specified an occurrence mapping, the symbol is also changed to indicate this.</li><li>
<a id="pgfId-1085391"></a>From the menu bar, choose <em>File &#8211; Save</em> to save the physical configuration view.<br />
<a id="pgfId-1085392"></a>The specified parameters are ignored the next time you update the layout view or the next time you run the <em>Check Against Source</em> command.</li></ol>




















<h3>
<a id="pgfId-1085395"></a><a id="59332"></a>Rounding<a id="roundingParameterValues"></a> Parameter Values</h3>

<p>
<a id="pgfId-1085396"></a>The <em>Rounding</em> option on the <em>Parameters</em> tab lets you define how the value of a specified parameter is rounded when it is evaluated by Layout XL. It is typically used to prevent folded devices from becoming off-grid.</p>
<ul><li>
<a id="pgfId-1085400"></a><a href="chap4.html#22108">Rounding Cellview Parameter Values</a></li><li>
<a id="pgfId-1085404"></a><a href="chap4.html#68858">Rounding Instance or Occurrence Parameter Values</a><br /><div class="webflare-information-macro webflare-macro-tip">
<a id="pgfId-1085405"></a>
In previous releases, you could use the equivalent <code>lxRounding</code> property to set a tolerance when Layout XL compared parameter values during the <em><a actuate="user" class="URL" href="../vxlhelp/chap6.html#cloneFamilyConstGen" show="replace" xml:link="simple">Generate All From Source</a></em>, <em><a actuate="user" class="URL" href="../vxlhelp/chap9.html#checkAgainstSource" show="replace" xml:link="simple">Check Against Source</a></em>, <em><a actuate="user" class="URL" href="../vxlhelp/chap10.html#updateLayoutParam" show="replace" xml:link="simple">Update Layout Parameters</a></em>, and <em><a actuate="user" class="URL" href="../vxlhelp/chap10.html#updSchParam" show="replace" xml:link="simple">Update Schematic Parameters</a></em> commands. To do this in the current release, use the <a href="appA.html#28116">paramTolerance</a> environment variable instead.</div></li></ul>



<h4>
<a id="pgfId-1085414"></a><a id="22108"></a>Rounding Cellview Parameter Values</h4>

<p>
<a id="pgfId-1085415"></a>To specify how a parameter value is rounded for a cell:</p>
<ol><li>
<a id="pgfId-1085416"></a>In the Configure Physical Hierarchy window, click the <em>Cells</em> tab.</li><li>
<a id="pgfId-1085417"></a>Click the row containing the cell with the parameter value to be rounded.<br />
<a id="pgfId-1085418"></a>The row is highlighted and the options in the Attributes pane are enabled.</li><li>
<a id="pgfId-1085419"></a>In the <em>Parameters</em> tab, type the <em>Rounding</em> argument you need in the field provided.<br />
<a id="pgfId-1085420"></a>For example, <code>(w 0.05 round)</code> rounds the value of a parameter called <code>w</code> to the closest multiple of 0.05 microns.<br />
<a id="pgfId-1085426"></a><div class="webflare-div-image">
<img width="632" height="182" src="images/chap4-43.gif" /></div>
<a id="pgfId-1085430"></a>For more information on the syntax, see <a href="chap4.html#48124">Rounding Syntax</a>.</li><li>
<a id="pgfId-1085431"></a>From the menu bar, choose <em>File &#8211; Save</em> to save the physical configuration view.<br />
<a id="pgfId-1085432"></a>The setting is saved for all instances of the cell in question.</li></ol>











<p>
<a id="pgfId-1085435"></a>For information on how to override this setting for an individual instance, see <a href="chap4.html#68858">Rounding Instance or Occurrence Parameter Values</a>.</p>

<h4>
<a id="pgfId-1085438"></a><a id="68858"></a>Rounding Instance or Occurrence Parameter Values</h4>

<p>
<a id="pgfId-1085439"></a>To specify how an instance or occurrence parameter value is rounded,</p>
<ol><li>
<a id="pgfId-1085440"></a>In the Configure Physical Hierarchy window, click the <em>Instances</em> tab.</li><li>
<a id="pgfId-1085441"></a>Click the row containing the instance with the parameter values to be rounded.<br />
<a id="pgfId-1085442"></a>The row is highlighted and the options in the Attributes pane are enabled.</li><li>
<a id="pgfId-1085443"></a>Do one of the following.<ul><li>
<a id="pgfId-1085444"></a>To specify the rounding option for all the occurrences of the selected instance, ensure Occurrence mode is turned off in the toolbar. <br /><ffi2-fig-frame-in-2 id="#id1085448">
<a id="pgfId-1085448"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img src="images/cphToolbarOccurrence.gif" /></div></li><li>
<a id="pgfId-1085449"></a>To specify the rounding option for an individual occurrence, ensure Occurrence mode is turned on.</li></ul><br />
<a id="pgfId-1085453"></a>For more information on Occurrence mode, see <a href="chap4.html#91705">Instance Mode and Occurrence Mode</a>.</li><li>
<a id="pgfId-1085454"></a>In the <em>Parameters</em> tab, type the <em>Rounding</em> argument you need in the field provided.<br />
<a id="pgfId-1085455"></a>For example, <code>(w 0.05 round)</code> rounds the value of <code>w</code> to the closest multiple of 0.05 nanometers.<br />
<a id="pgfId-1085461"></a><div class="webflare-div-image">
<img width="625" height="154" src="images/chap4-45.gif" /></div>
<a id="pgfId-1085465"></a>For more information on the syntax, see <a href="chap4.html#48124">Rounding Syntax</a>.</li><li>
<a id="pgfId-1085466"></a>From the menu bar, choose <em>File &#8211; Save</em> to save the physical configuration view.<br />
<a id="pgfId-1085467"></a>The setting is saved for the specified instance or occurrence. If you specified an occurrence mapping the, the symbol is also changed to indicate this.</li></ol>




















<h4>
<a id="pgfId-1085469"></a><a id="48124"></a>Rounding Syntax</h4>

<p>
<a id="pgfId-1085470"></a>The <em>Rounding</em> definition comprises three parts: (<span class="webflare-courier-new" style="white-space:pre"><em>paramName</em></span> <span class="webflare-courier-new" style="white-space:pre"><em>value</em></span> <span class="webflare-courier-new" style="white-space:pre"><em>keyword</em></span>).</p>

<p>
<a id="pgfId-1085495"></a></p>
<table class="webflareTable" id="#id1085471">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085473"></a><span class="webflare-courier-new" style="white-space:pre"><em>paramName</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085475"></a>The name of the parameter whose value is to be rounded. Valid parameter names are</p>

<ul><li>
<a id="pgfId-1085479"></a>Those specified by the <a href="appA.html#24505">transistorWidthParamNames</a> environment variable.</li><li>
<a id="pgfId-1085480"></a>The width parameter name specified in the component type to which the cellview is assigned.</li></ul>


</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085482"></a><span class="webflare-courier-new" style="white-space:pre"><em>value</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085484"></a>A floating point number. If the specified parameter is to be rounded, the value returned is a nonzero integer multiple of the <span class="webflare-courier-new" style="white-space:pre"><em>value</em></span>.</p>
<p>
<a id="pgfId-1085485"></a>The default unit for this value is microns. To specify a different unit, use one of the identifiers listed in the table below.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1085486"></a>Layout XL never rounds to zero. If the closest rounded value is zero, no rounding takes place.</div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085488"></a><span class="webflare-courier-new" style="white-space:pre"><em>keyword</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085490"></a>Specifies the rounding method used. Allowed values are</p>

<ul><li>
<a id="pgfId-1085491"></a><code>round</code> rounds to the nonzero integer multiple at or closest to the current value. If the rounded result is zero, Layout XL issues a warning and the original value is returned unchanged.</li><li>
<a id="pgfId-1085492"></a><code>floor</code> rounds to the nonzero integer multiple at or below the current value. If the rounded result is zero, Layout XL issues a warning and the original value is returned unchanged.</li><li>
<a id="pgfId-1085493"></a><code>ceil</code> rounds to the nonzero integer multiple at or above the current value. If the rounded result is large, Layout XL issues a warning inviting you to check the rounding value.</li></ul>


<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1085494"></a>Using <code>ceil</code> or <code>floor</code> with a float value that is not an integer can produce unexpected results.</div>

</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1085496"></a>Use the following identifiers to specify the rounding unit.</p>

<p>
<a id="pgfId-1085578"></a></p>
<table class="webflareTable" id="#id1085497">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1085499">
<a id="pgfId-1085499"></a>Identifier</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1085501">
<a id="pgfId-1085501"></a>Denotes</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1085503">
<a id="pgfId-1085503"></a>Factor</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1085505">
<a id="pgfId-1085505"></a>Example</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085507"></a><code>f</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085509"></a>femto</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085511"></a>10<sup>-15</sup></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085513"></a><code>0.05f</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085515"></a><code>p</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085517"></a>pico</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085519"></a>10<sup>-12</sup></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085521"></a><code>0.05p</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085523"></a><code>n</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085525"></a>nano</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085527"></a>10<sup>-9</sup></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085529"></a><code>0.05n</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085531"></a><code>u</code> (the default)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085533"></a>micro</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085535"></a>10<sup>-6</sup></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085537"></a><code>0.05u</code> (or <code>0.05</code>)</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085539"></a><code>m</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085541"></a>milli</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085543"></a>10<sup>-3</sup></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085545"></a><code>0.05m</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085547"></a><code>c</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085549"></a>centi</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085551"></a>10<sup>-2</sup></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085553"></a><code>0.05c</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085555"></a><code>k</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085557"></a>kilo</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085559"></a>10<sup>3</sup></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085561"></a><code>0.05k</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085563"></a><code>M</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085565"></a>mega</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085567"></a>10<sup>6</sup></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085569"></a><code>0.05M</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085571"></a><code>G</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085573"></a>giga</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085575"></a>10<sup>9</sup></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085577"></a><code>0.05G</code></p>
</td>
</tr>
</tbody></table>
<h3>
<a id="pgfId-1085581"></a><a id="ControllingCPHwithSchematicProperties"></a><a id="58696"></a>Controlling CPH with Schematic Properties</h3>

<p>
<a id="pgfId-1085582"></a>CPH now allows you to configure layout generation using the following types of properties:</p>
<ul><li>
<a id="pgfId-1085583"></a>AEL expression</li><li>
<a id="pgfId-1085584"></a>NLP expression</li><li>
<a id="pgfId-1085585"></a>SKILL expression (ilExpr)</li></ul>


<p>
<a id="pgfId-1085587"></a>The other schematic properties previously converted to <h-hot><a actuate="user" class="URL" href="../vxlhelp/appE.html#firstpage" show="replace" xml:link="simple">LAM</a></h-hot> or physConfig view will no longer be converted (up-revved) and CPH will honor all changes made to these properties.</p>
<p>
<a id="pgfId-1085588"></a>To enable this feature, the shell environment variable &#8220;<code>CPH_USE_SCHEM_PROP=1</code>&#8220; should be turned on, which is by default off.</p>
<b>Note:</b><br />
<a id="pgfId-1085589"></a>
<ul><li>
<a id="pgfId-1085590"></a>The default value of &#8220;<code>CPH_USE_SCHEM_PROP</code>&#8220; is subject to change in future releases.</li><li>
<a id="pgfId-1085591"></a>If the evaluation of the property fails, the unevaluated property will be used.</li></ul>


<h4>
<a id="pgfId-1085592"></a>Impact in handling incremental changes in schematic properties</h4>

<ul><li>
<a id="pgfId-1085593"></a>Changes to the lxProperties made through the property editor, the db SKILL interface or CDF callbacks impact the active CPH/Layout XL session.</li><li>
<a id="pgfId-1085594"></a>For the CDF Editor, only the base CDF Parameter modification impact the active CPH when they are saved.</li></ul>


<h4>
<a id="pgfId-1085595"></a>Impact on subConfiguration</h4>

<p>
<a id="pgfId-1085596"></a>The subConfiguration is considered as a Hard IP. Information coming from higher hierarchies does not impact it. Therefore, the context needs to start from the last subConfiguration Root node on top of the node to evaluate.</p>

<h4>
<a id="pgfId-1085597"></a>Impact of changes on dependent properties</h4>

<ul><li>
<a id="pgfId-1085598"></a>ILExpr: no changes till next full re-elaboration. This can happen when CPH is launched or switch view list is changed.</li><li>
<a id="pgfId-1085599"></a>AEL/NLP: no changes till the node using this property is re-elaborated. This could possibly lead to inconsistency between occurrences of the same instance.</li></ul>


<h4>
<a id="pgfId-1085600"></a>Impact on lxParamsToIgnore and lxParamsToIgnoreForCheck look-up</h4>

<p>
<a id="pgfId-1085607"></a>In accordance with 5.1.41 use model, the <a href="appC.html#60380">lxParamsToIgnore</a> and <a href="appC.html#36330">lxParamsToIgnoreForCheck</a> properties at the cell and instance levels are merged instead of overridden.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1085608"></a>Due to an implementation limitation, the &#8216;Schematic Instance&#8217; property does not override the result of the look-up from the Instance Master to the PhysConfig Cell but is merged with it.</div>

<h2>
<a id="pgfId-1085612"></a><a id="14674"></a>Compone<a id="ff_CompType"></a>nt Types<a id="designcomponenttypes"></a> Mode</h2>

<p>
<a id="pgfId-1085614"></a><a id="abutcomponenttype"></a>A component type is the name given to that classification of layout cells which share common characteristics.</p>
<ul><li>
<a id="pgfId-1088286"></a><em>Component class</em> (one of <em>PMOS</em>, <em>NMOS</em>, <em>RESISTOR</em>, <em>CAPACITOR</em>, <em>INDUCTOR</em>, <em>STDCELL</em>, <em>STDSUBCONT</em>, <em>BOUNDARYCELL</em>, or )</li><li>
<a id="pgfId-1085617"></a><em>Width parameter </em>name, <em>Length parameter</em> name, <em>Folding threshold</em>, <em>Active layer</em> and <em>View</em> names, and other associated component attributes<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1085618"></a>For FinFET devices&#8212;devices of component class <em>PFIN</em> or <em>NFIN</em>&#8212;the common characteristics useful for device chaining and folding are <em>Number of fins</em>, <em>Width per fin</em>, and <em>Folding threshold fins.</em></div></li><li>
<a id="pgfId-1085619"></a>Names defined for <em>Source</em>, <em>Gate</em>, <em>Drain</em>, and <em>Bulk</em> terminals</li></ul>



<p>
<a id="pgfId-1085623"></a>For more information on these attributes, see <a href="appD.html#63264"><strong>
Component Types Cells Table</strong>
.</a></p>
<p>
<a id="pgfId-1085624"></a>The following Virtuoso Layout Suite operations require cells to be assigned to a component type.</p>

<p>
<a id="pgfId-1085660"></a></p>
<table class="webflareTable" id="#id1085625">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1085627">
<a id="pgfId-1085627"></a>Application</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1085629">
<a id="pgfId-1085629"></a>Operation</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1085631">
<a id="pgfId-1085631"></a>Comments</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="3">
<p>
<a id="pgfId-1085633"></a>Layout XL</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085635"></a>Device folding</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085637"></a><em>Generate All From Source</em> needs the folding threshold to be set for instances.</p>

<b>Note:</b><br />
<a id="pgfId-1086692"></a>
<ul><li>
<a id="pgfId-1086704"></a>If the <a href="appA.html#68753">disableFolding</a> environment variable is set and the folding threshold for the component type is set to <code>0</code>, folding is disabled.</li><li>
<a id="pgfId-1085638"></a>For folding FinFET devices, the <em>Folding threshold fins </em>value must be set.</li></ul>


<p>
<a id="pgfId-1085639"></a><em>Generate All From Source</em>, <em>Generate Selected From Source</em>, and interactive folding require that the PMOS and NMOS transistors be defined.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1085640"></a>If the design carries <em>PFIN</em> and <em>NFIN</em> FinFET devices, the components should be defined.</div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085644"></a>Generate layout</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085646"></a><em>Generate All From Source</em>, <em>Generate Selected From Source, </em>and interactive chaining require that the PMOS and NMOS transistors be defined.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1088552"></a>If the design carries <em>PFIN</em> and <em>NFIN</em> FinFET devices, the components should be defined.</div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085651"></a>Determination of pseudoparallel nets</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085653"></a>Uses the component type to access the width parameter, which, in turn, is used to confirm that the instances are identical.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085655"></a>Custom Digital Placer</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085657"></a>Placement of components in rows</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085659"></a>Uses the <em>Component class</em> to correctly identify standard cells (<em>STDCELL</em>), substrate contacts (<em>STDSUBCONT</em>), boundary cells (<em>BOUNDARYCELL</em>), and filler cells (<em>FILLER),</em> and place them accordingly in rows.</p>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-1085661"></a>Library Component Types and Design Component Types</h4>

<p>
<a id="pgfId-1085662"></a>There are two categories of component types.</p>
<ul><li>
<a id="pgfId-1085663"></a>A <em>library-level</em> component type is defined in the library and attributes mapping (LAM) file for the library in question.<br />
<a id="pgfId-1085664"></a>Library-level component types are read-only; you can use the controls in the Configure Physical Hierarchy window to override a library-level component type, but you cannot change it.<br />
<a id="pgfId-1085665"></a>When you change the attributes of a library-level component type in the Configure Physical Hierarchy window, the system copies the library-level component type to a new design-level component type that you can edit. When you remove the design-level component type that you have edited, the overrides are removed, but the library-level component type remains.<br />
<a id="pgfId-1085666"></a>To define a new library-level component type, or modify or remove an existing one, you need to manually edit the LAM file for the design. For more information on LAM files, see <a href="chap4.html#74709">LAM Files and Configuration Views</a>.</li><li>
<a id="pgfId-1085670"></a>A <em>design-level</em> component type applies only to the cells in your design. Where there is a conflict, a design-level component type overrides the library-level component type. However, you can add, modify, and remove design-level component types using the <em>Edit Component Types</em> command. This brings up the Configure Physical Hierarchy window in the <a href="appD.html#63264"><strong>
Component Types Cells Table</strong>
 mode.</a></li></ul>




<p>
<a id="pgfId-1085676"></a>For information on the attributes you can set for each component type, see <a href="appD.html#30421"><strong>
Component Types Attributes</strong>
.</a></p>

<h3>
<a id="pgfId-1085680"></a><a id="24660"></a>Component Typ<a id="ff_CompTypeCellsTable"></a>es Cells Table</h3>

<p>
<a id="pgfId-1085681"></a>The <em>Cells</em> table in Component Types mode shows the cells in the design organized by component type.</p>

<p>
<a id="pgfId-1085685"></a></p>
<div class="webflare-div-image">
<img src="images/cphCompTypesCells.gif" /></div>

<p>
<a id="pgfId-1085686"></a> To represent FinFET devices, the <em>Cells</em> table includes cells of the component type, <em>NFIN</em> and <em>PFIN</em>, as displayed in the figure below.</p>

<p>
<a id="pgfId-1085693"></a></p>
<div class="webflare-div-image">
<img width="716" height="251" src="images/chap4-47.gif" /></div>

<p>
<a id="pgfId-1085694"></a>Each component type in the cells table is represented by a directory containing the cells that are assigned to it. This includes cells such as filler cells that have only a physical representation but no logical representation. If a cell is not assigned to a particular component type, it is put in the <em>No component type</em> directory.</p>
<p>
<a id="pgfId-1085695"></a>The names of design-level component types are in blue; library-level ones in black. If a component type has cells assigned to it, its name is in bold type of the appropriate color.</p>
<p>
<a id="pgfId-1085696"></a>By default, only the component types for the cells in the current design are shown. You can filter the cells that are shown on a per-library basis using the <em>Show cells</em> command on the context menu. The <em>Physical library list</em> is prepended to the list of libraries from your library definitions file in order to build the correct library order.</p>
<p>
<a id="pgfId-1085697"></a>You can perform the following operations directly in the table view.</p>
<ul><li>
<a id="pgfId-1085698"></a>To add a new component type, right-click and choose <em>Add component type</em>. Use the Create Component Type dialog to specify a name for the new component type. See <a href="chap4.html#38525">Defining a Design-Level Component Type</a>.</li><li>
<a id="pgfId-1085702"></a>To remove a component type, select the component type you want to remove, right-click and choose <em>Remove component type</em>. You can remove only design-level component types. Evicted cellviews are put into the <em>No component type</em> directory. See <a href="chap4.html#88139">Removing a Component Type</a>.</li><li>
<a id="pgfId-1085706"></a>To move cells between component types, select the cells to move, right-click and choose <em>Move cells</em>. Use the Move Cells dialog box to select a new component type for the selected cells. See <a href="chap4.html#38525">Defining a Design-Level Component Type</a>.</li></ul>



<h4>
<a id="pgfId-1085710"></a>Resolving Conflicts in Component Type Names</h4>

<p>
<a id="pgfId-1085711"></a>When the same component type name exists in multiple LAM files, the first definition found in the (<em>Physical library list</em>, <code>cds.lib</code>) list is the one that is used, as illustrated in the examples below. Component type definitions shown in bold are used; those in normal type are disregarded.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1085712"></a>lib list: lib1, lib2, lib3<br /> <br />lib3:&#160;&#160;  <strong>CT1(lib3/C1)</strong>   CT2(lib3/C2)           CT3(lib3/C3 )<br />lib2:&#160;&#160;                 <strong>CT2(lib2/C1 lib2/C2)<br /></strong>lib1:&#160;&#160;                                        <strong>CT3(lib1/C1 lib1/C2)<br /></strong> <br />effective LAM: CT1(lib3/C1) CT2(lib2/C1 lib2/C2) CT3(lib1/C1 lib1/C2)<br /> </pre>
<p>
<a id="pgfId-1085713"></a>Conflicting component type settings are resolved, as indicated below.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1085714"></a>lib list: lib1, lib2, lib3<br /> <br />lib3:&#160;&#160;  <strong>CT1(lib1/C1)</strong>   CT2(lib1/C2)   CT1(lib1/C3)<br />lib2:&#160;&#160;                 <strong>CT2(lib1/C2)<br /></strong>lib1:&#160;&#160;                                <strong>CT3(lib1/C1)<br /></strong> <br />effective LAM:  CT1:lib1/C3 CT2:lib1/C2 CT3:lib1/C1<br /> </pre>
<p>
<a id="pgfId-1085715"></a>To edit the attributes for a particular component type, you must select that component type in the table view. The settings you specify in the Attributes pane are applied to all the cells assigned to that component type.</p>

<h3>
<a id="pgfId-1085718"></a><a id="38525"></a>Defining <a id="DefiningComponentTypes"></a>a Design-Level Component Type</h3>

<p>
<a id="pgfId-1085719"></a>To define a design-level component type for the current design and assign cells to it,</p>
<ol><li>
<a id="pgfId-1085720"></a>From the layout window menu bar, choose <em>Edit &#8211; Component Types</em>.<br />
<a id="pgfId-1085721"></a>The Configure Physical Hierarchy window is opened in Component Types mode.<br />
<a id="pgfId-1085725"></a><div class="webflare-div-image">
<img width="633" height="332" src="images/chap4-48.gif" /></div></li><li>
<a id="pgfId-1085726"></a>In the <em>Cells</em> table, right-click and choose <em>Add component type</em>.<br />
<a id="pgfId-1085727"></a>The Create Component Type dialog is displayed.<br />
<a id="pgfId-1085731"></a><div class="webflare-div-image">
<img src="images/cphCompTypesCreateNew.gif" /></div></li><li>
<a id="pgfId-1085732"></a>Type the name of the new component type in the text field and click <em>OK</em>.<br />
<a id="pgfId-1085733"></a>The system creates a directory for the new component type in the <em>Cells</em> pane. Component type folders with cells assigned to them are picked out in bold text. User-defined component types are labeled in blue. <br />
<a id="pgfId-1085737"></a><div class="webflare-div-image">
<img src="images/cphCompTypesCreated.gif" /></div></li><li>
<a id="pgfId-1085738"></a>Select the new component type in the table.<br />
<a id="pgfId-1085739"></a>The options in the Attributes pane are enabled.</li><li>
<a id="pgfId-1085740"></a>Set the attributes you require for the component type.<br />
<a id="pgfId-1085744"></a>For more information, see <a href="appD.html#30421"><strong>
Component Types Attributes</strong>
.</a></li><li>
<a id="pgfId-1085745"></a>In the <em>Cells</em> pane, select the cells you want to assign to this component type, click the right mouse button, and choose <em>Move cells</em>.<br />
<a id="pgfId-1085746"></a>The Move Cells dialog is displayed.<br />
<a id="pgfId-1085750"></a><div class="webflare-div-image">
<img src="images/moveCells.gif" /></div></li><li>
<a id="pgfId-1085751"></a>Select the component type you want to move the cells to from the drop-down list and click <em>OK</em>.<br />
<a id="pgfId-1085752"></a>The selected cells are moved to the specified component type.</li><li>
<a id="pgfId-1085753"></a>Choose <em>File &#8211; Save</em> to save the component type definition.</li></ol>































<h3>
<a id="pgfId-1085754"></a>Modifying a Component Type</h3>
<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1085755"></a>
You cannot use the <em>Edit Component Types</em> command to change a library-level component type, but you can override the settings it contains.</div>

<p>
<a id="pgfId-1085756"></a>To modify a component type,</p>
<ol><li>
<a id="pgfId-1085757"></a>From the layout window menu bar, choose <em>Edit &#8211; Component Types</em>.<br />
<a id="pgfId-1085758"></a>The Configure Physical Hierarchy window is opened in Component Types mode.</li><li>
<a id="pgfId-1085759"></a>Select the component type you want to modify.<br />
<a id="pgfId-1085760"></a>The options in the Attributes pane are enabled.</li><li>
<a id="pgfId-1085761"></a>Set the attributes you require for the component type.<br />
<a id="pgfId-1085765"></a>For more information, see <a href="appD.html#30421"><strong>
Component Types Attributes</strong>
.</a><br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1085766"></a>If you change the <em>Folding threshold</em>, you must run <em>Generate All From Source</em> for the changes to take effect.</div></li><li>
<a id="pgfId-1085767"></a>Choose <em>File &#8211; Save</em> to save the changes.</li></ol>








<h3>
<a id="pgfId-1085769"></a><a id="88139"></a>Removing a Component Type</h3>

<p>
<a id="pgfId-1085770"></a>To remove a design-level component type from your design,</p>
<ol><li>
<a id="pgfId-1085771"></a>From the layout window menu bar, choose <em>Edit &#8211; Component Types</em>.<br />
<a id="pgfId-1085772"></a>The Configure Physical Hierarchy window is opened in Component Types mode.</li><li>
<a id="pgfId-1085773"></a>Select the component type you want to remove, click the right mouse button, and choose <em>Remove component type</em>.<ul><li>
<a id="pgfId-1085774"></a>Cells that were originally assigned to a different design-level component type are reassigned to the <em>No component type</em> directory.</li><li>
<a id="pgfId-1085775"></a>Cells that were originally assigned to a library-level component type (i.e., one that is defined in the LAM file) are reassigned to the component type defined for them in the LAM file and are no longer displayed in the <em>Cells</em> pane.</li></ul></li><li>
<a id="pgfId-1085776"></a>Choose <em>File &#8211; Save</em> from the Configure Physical Hierarchy window menu bar to save the changes.</li></ol>






<h2>
<a id="pgfId-1085779"></a><a id="64550"></a>Soft <a id="softBlockMode"></a>Block Mode</h2>

<p>
<a id="pgfId-1085780"></a>Soft Block mode lets you define the soft blocks that will be created by the <em>Floorplan &#8211; Generate Physical Hierarchy</em> or the <em>Generate Abstract From Symbol</em> commands. You select the instances to be included and define boundary, pin, and blockage parameters for the block you want to create. You can also remove the parameters from an existing soft block to prevent it being created when the physical hierarchy is generated.</p>
<p>
<a id="pgfId-1085781"></a><em>Generate Physical Hierarchy</em> (GPH) is the equivalent of a hierarchical <em>Generate All From Source</em> command. It generates instances from source at different levels of hierarchy, including soft blocks that are defined with type <em>LAYOUT</em>. </p>
<p>
<a id="pgfId-1085782"></a>In order for the bus terminal and bus bit order (ascending or descending) information to be transferred from the schematic to the layout, you need to set the environment variable,<code> createImplicitBusTerminals</code>, before running GPH. This creates implicit bus terminals and bus order information in the layout view, derived from the bus terminals and bit order information in the schematic cellview. In addition, this avoids the need to run verilogAnnotate before referencing the layout cellview when:</p>
<ul><li style="list-style-type: none;background-image: none;"><ul><li>
<a id="pgfId-1085783"></a>Running verilog2oa</li><li>
<a id="pgfId-1085784"></a>When importing another verilog design into Innovus</li></ul></li></ul>

<p>
<a id="pgfId-1085788"></a>For more information on the environment variable, see <h-hot><a href="appA.html#91065">createImplicitBusTerminals</a></h-hot>.</p>
<p>
<a id="pgfId-1085789"></a>Further, for the implicit bus information to be carried to the abstract, the abstract must be generated with the bus annotation option enabled. This can be achieved by setting the <code>AnnotateBusInAbstract</code> option to &#8220;True&#8221; in the Abstract Options file.</p>
<p>
<a id="pgfId-1085791"></a>For more information on bus annotation in abstract generator, see <h-hot><a actuate="user" class="URL" href="../abstract/chap5.html#busannotation" show="replace" xml:link="simple">Bus Annotation in Abstract Generator</a>.</h-hot></p>
<p>
<a id="pgfId-1085792"></a>Unlike the GPH command, <em>Generate Abstract From Symbol</em> command generates soft blocks that are defined with type <em>ABSTRACT</em>.</p>
<p>
<a id="pgfId-1085793"></a>Use <em>Configure Physical Hierarchy</em> in Soft Block mode to define soft blocks before initial generation or if you need to make more radical changes (by, for example, generating new soft blocks or flattening others that you no longer require). If you want to make changes to existing soft blocks that do not require the physical hierarchy to be regenerated, use the <em>Edit Soft Blocks</em> command instead. For more information, see <a href="chap7.html#16247">Editing Soft Blocks</a>.</p>
<p>
<a id="pgfId-1085797"></a>You define a soft block by selecting a component in the soft block <em>Instances</em> table and specifying the following in the Attributes pane. </p>
<ul><li>
<a id="pgfId-1085798"></a>The type of soft block that will be created.</li><li>
<a id="pgfId-1085799"></a>The height, width, area, or shape of the place and route boundary.</li><li>
<a id="pgfId-1085800"></a>The length, width, layer purpose, and signal type of soft pins.</li><li>
<a id="pgfId-1085801"></a>Routing and placement obstructions inside the block.</li></ul>



<p>
<a id="pgfId-1085802"></a>Alternatively, you can load soft block parameters directly from another layout cellview using the <em>Initialize Soft Block Parameters Using Physical View</em> command.</p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1085803"></a>
You also need to define parameters for the top-level instance so that the <em>Generate Physical Hierarchy</em> command has the information it requires to generate the boundary and pins. The top level instance has type <em>LAYOUT</em>, which cannot be changed.</div>

<p>
<a id="pgfId-1085804"></a>For more information on how to define soft blocks in the Configure Physical Hierarchy window, see</p>
<ul><li>
<a id="pgfId-1085808"></a><a href="chap4.html#80623">Setting the Cell Type</a></li><li>
<a id="pgfId-1085812"></a><a href="chap4.html#Hierarchy &#8211; Create Soft Block &#8211; Define Block Parameters">Defining Soft Block Parameters</a><ul><li>
<a id="pgfId-1085816"></a><a href="chap4.html#97026">Specifying the Boundary</a></li><li>
<a id="pgfId-1085820"></a><a href="chap4.html#49150">Specifying I/O Pins</a></li><li>
<a id="pgfId-1085824"></a><a href="chap4.html#21431">Specifying LayerHalo Obstructions</a></li><li>
<a id="pgfId-1085828"></a><a href="chap4.html#26481">Specifying Cover Obstructions</a></li></ul></li><li>
<a id="pgfId-1085832"></a><a href="chap4.html#76892">Loading Soft Block Parameters from Another Cellview</a></li><li>
<a id="pgfId-1085836"></a><a href="chap4.html#50370">Saving Soft Block Parameters to a Floorplan File</a></li><li>
<a id="pgfId-1085840"></a><a href="chap4.html#77934">Generating the Physical Hierarchy</a></li></ul>








<p>
<a id="pgfId-1085841"></a>You can also create and clear a manual physical binding for a selected component. For more information, see</p>
<ul><li>
<a id="pgfId-1085845"></a><a href="chap4.html#79314">Creating a Physical Binding</a></li></ul>

<h3>
<a id="pgfId-1085848"></a><a id="88034"></a>Soft Blo<a id="sbInstTable"></a>ck Instances Table</h3>

<p>
<a id="pgfId-1085849"></a>The <em>Instances</em> table in the Soft Block mode lets you see how your logical design is currently partitioned and helps you decide whether you can gain further efficiencies by generating more or fewer soft blocks, or by changing the shape or internal configurations of existing soft blocks.</p>
<p>
<a id="pgfId-1085850"></a>For each instance in the design, the table shows the view list used to reach the schematic instance and the corresponding layout cellview found. It also shows the type of block and view that will be created when you use the <em>Floorplan &#8211; Generate Physical Hierarchy</em> command.</p>

<p>
<a id="pgfId-1085889"></a></p>
<table class="webflareTable" id="#id1085851">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1085853">
<a id="pgfId-1085853"></a>Column Name</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1085855">
<a id="pgfId-1085855"></a>Description</span>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085857"></a><em>Inherited View List</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085859"></a>Shows the logical switch view list used to derive the leaf cells in the logical hierarchy.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085861"></a><em>Physical Library</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085863"></a>Shows the name of the library containing the physical representation of the logical leaf cell.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085865"></a><em>Physical Cell</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085867"></a>Shows the physical equivalent of the logical leaf cell.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085869"></a><em>Physical View</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085871"></a>Shows the name of the physical view.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085873"></a><em>Block Type</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085875"></a>Specifies the type of block to be generated, either CUSTOM or DIGITAL. This influences how the place and route boundary and pins in the design are snapped during level-1 editing.</p>

<ul><li>
<a id="pgfId-1085876"></a><em>CUSTOM</em> specifies that the pin edges and the place and route boundary are snapped to the manufacturing grid.</li><li>
<a id="pgfId-1085877"></a><em>DIGITAL</em> specifies that the pin centers are snapped to the routing grid and the place and route boundary is snapped to the placement grid.</li></ul>


</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085879"></a><em>Type</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-1085881"></a>Specifies whether the view that will be generated for a soft block is a <em>LAYOUT</em> (the default) or an <em>ABSTRACT</em>.</p>
<ul><li>
<a id="pgfId-1085882"></a><em>LAYOUT</em> specifies a layout view that contains instances, connectivity, pins, place and route boundary and other detailed information, generated from the schematic view by the <em>Generate Physical Hierarchy</em> command. Use this setting if there are physical representations for the logical cells at lower levels of the hierarchy.</li><li>
<a id="pgfId-1085883"></a><em>ABSTRACT</em> specifies a special type of layout view containing only pins and place and route boundary based on symbol information, generated using the <em>Generate Abstract From Symbol</em> command. Use this setting if you do not have detailed physical views for the lower levels of the hierarchy but you want to start the floorplan by generating abstract views.</li></ul>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1085884"></a>This field is blank for all instances other than soft blocks that exist already or instances for which soft block parameters have been defined.</div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085886"></a><em>Inherited Stop List</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085888"></a>Shows the physical view list used to determine the corresponding physical view for a given logical view.</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1085890"></a>If a schematic instance is set to be ignored, it is not displayed in the table. Instances under a valid soft block instance are in gray text, indicating that although the binding has been set up, it is never reached because of the physical stop point at a higher level. Red text in a row means that there is no physical representation for the cell in question.</p>
<p>
<a id="pgfId-1085891"></a>There are a number of operations you can perform directly in the table view.</p>
<ul><li>
<a id="pgfId-1085892"></a>To sort the tree alphabetically by a particular column within each node, click the header of the column you want to sort. Alternate clicks sort in ascending and descending order.</li><li>
<a id="pgfId-1085893"></a>To define soft block attributes, click the right mouse button on the soft block in question and choose <em>Define Soft Block Parameters</em>. This enables the controls in the Attributes pane.</li><li>
<a id="pgfId-1085894"></a>To reset soft block attributes, click the right mouse button on the soft block in question and choose <em>Remove Soft Block Parameters</em>. This enables the controls in the <em>Attributes</em> pane.</li><li>
<a id="pgfId-1085895"></a>To edit the entries in any of the fields, double-click the text you want to change and either type into the field directly or choose a value from the drop-down list.</li></ul>



<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1085896"></a>You can also select a soft block instance from the table and view its attributes in the Attributes pane. To edit the shape or size of the soft block boundary or to modify the pin configuration or the internal routing obstructions of the soft block, right-click the soft block and select Edit Soft Block Parameters. This makes the corresponding soft block parameters in the Attributes pane available for editing.</div>

<h4>
<a id="pgfId-1085897"></a>Soft Block Table Folders</h4>

<p>
<a id="pgfId-1085898"></a>When you move into the Soft Block mode, the instances in the design are automatically moved into one of the <em>Core</em>, <em>Custom</em>, <em>Hard block</em>, <em>IO</em>, and <em>Soft block</em> folders based on the existence of one of the physical views specified in the <em>Physical stop list</em>. </p>

<p>
<a id="pgfId-1085902"></a></p>
<div class="webflare-div-image">
<img src="images/cphSoftBlockTableView.gif" /></div>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1085903"></a>If a soft block has already been generated, it will be listed under <em>Soft block</em>. If it does not exist yet, it is displayed under <em>No Physical</em>.</div>
<p>
<a id="pgfId-1085904"></a>By default, instances with no physical representation are put into the <em>No Physical</em> directory. If you change the <em>Physical Library</em>, <em>Physical Cell</em>, and <em>Physical Cell</em> to point to a cellview that does exist, the cellview is put into the appropriate directory based on its cell type.</p>
<p>
<a id="pgfId-1085905"></a>In the <em>No Physical</em> directory: </p>
<ul><li>
<a id="pgfId-1085906"></a>The <em>Physical Library</em>, <em>Physical Cell</em>, and <em>Physical Cell</em> fields indicate only the potential binding for the instance in question.<br />
<a id="pgfId-1085907"></a>The <em>Generate Physical Hierarchy</em> command flattens the instance because there is no binding defined.</li><li>
<a id="pgfId-1085908"></a>If you change the <em>Physical Library</em>, <em>Physical Cell</em>, and <em>Physical Cell</em> to point to a cellview that does not exist, the instance remains in the <em>No Physical</em> directory.<br />
<a id="pgfId-1085909"></a>The <em>Generate Physical Hierarchy</em> command attempts to find the specified view during layout generation; however, the view does not exist and the logical node is flattened instead.<br />
<a id="pgfId-1085910"></a>To clear the physical binding, click the right mouse button and choose <em>Clear Physical Binding</em>.</li><li>
<a id="pgfId-1085911"></a>If you define soft block parameters for any instance in the <em>No Physical</em> directory, the <em>Generate Physical Hierarchy</em> command generates the appropriate view and uses it during layout generation.<br />
<a id="pgfId-1085912"></a>To clear the physical binding and remove the soft block parameters, click the right mouse button and choose <em>Clear Physical Binding</em>.<br />
<a id="pgfId-1085913"></a>To remove any soft block parameters but preserve the physical binding, click the right mouse button and choose <em>Remove Soft Block Parameters</em>.</li></ul>








<h4>
<a id="pgfId-1085914"></a>Soft Block Table View State Indicators</h4>

<p>
<a id="pgfId-1085915"></a>The following icons are used to indicate different states in the soft block table view.</p>

<p>
<a id="pgfId-1085978"></a></p>
<table class="webflareTable" id="#id1085916">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1085918">
<a id="pgfId-1085918"></a>Directory Name</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1085920">
<a id="pgfId-1085920"></a>Icon</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1085922">
<a id="pgfId-1085922"></a>Description</span>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085924"></a><em>Core<br />IO<br />Hard block</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085929"></a><img width="35" height="37" src="images/chap4-53.gif" /></p>
<p>
<a id="pgfId-1085930"></a><span class="webflare-courier-new" style="white-space:pre"><em></em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085932"></a>Indicates a physical leaf layout.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="2">
<p>
<a id="pgfId-1085934"></a><em>Soft block</em></p>
<p>
<a id="pgfId-1085935"></a><em> </em></p>
<p>
<a id="pgfId-1085936"></a><em> </em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085941"></a><img width="35" height="35" src="images/chap4-54.gif" />
 
<em></em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085943"></a>With the hierarchy symbol (+), indicates a schematic logical node that has a corresponding physical view which is a soft block.</p>
<p>
<a id="pgfId-1085944"></a>Without the hierarchy symbol, indicates a symbol logical node that has a corresponding physical view which is a soft block. <strong>Note:</strong> You cannot see the hierarchy for the logical node.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085951"></a><img width="35" height="35" src="images/chap4-55.gif" /></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-1085953"></a>Indicates that the soft block parameters were redefined.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="3">
<p>
<a id="pgfId-1085955"></a><em>No Physical</em></p>
<p>
<a id="pgfId-1085956"></a> </p>
<p>
<a id="pgfId-1085957"></a> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085959"></a><em>Hierarchy symbol (+) </em>AND <em>File Directory</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085961"></a>Indicates that there is hierarchy underneath the node; for example, a schematic logical node.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085965"></a><em>Octagon symbol</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085967"></a>Indicates a logical node.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085974"></a><img width="35" height="35" src="images/chap4-56.gif" /></p>
<p>
<a id="pgfId-1085975"></a><span class="webflare-courier-new" style="white-space:pre"><em></em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085977"></a>Indicates that the soft block parameters are defined.</p>
</td>
</tr>
</tbody></table>
<h3>
<a id="pgfId-1085981"></a><a id="80623"></a>Setting <a id="settingCellType"></a>the Cell Type</h3>

<p>
<a id="pgfId-1085982"></a>Cell types are used to categorize the blocks in your design.Valid settings for soft blocks are.</p>

<p>
<a id="pgfId-1085997"></a></p>
<table class="webflareTable" id="#id1085983">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="2">
<p>
<a id="pgfId-1085985"></a><em>Soft Block</em></p>
<p>
<a id="pgfId-1085986"></a><em> </em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085988"></a><em>blockBlackBox</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085990"></a>type ABSTRACT</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085994"></a><em>softMacro</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085996"></a>type LAYOUT</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1085998"></a>The cell type is automatically set to the appropriate value for any existing soft blocks in the design. To set the cell type for a soft block that has not yet been generated:</p>
<ol><li>
<a id="pgfId-1085999"></a>In the <em>Instances</em> table, select the instance for which you want to set the cell type.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1086000"></a>To select multiple instances, keep the <code>Ctrl</code> key pressed while you select the instances.</div></li><li>
<a id="pgfId-1086001"></a>Click the right mouse button and choose <em>Set Master Cell Type</em>.<br />
<a id="pgfId-1086002"></a>A submenu opens showing the cell types you can set.<br />
<a id="pgfId-1086006"></a><div class="webflare-div-image">
<img src="images/cphSoftBlockSetCellType.gif" /></div></li><li>
<a id="pgfId-1086007"></a>Set the cell type of your soft block to either <em>blockBlackBox</em> or <em>softMacro</em> as required.<br />
<a id="pgfId-1086008"></a>The instance is moved into the <em>Soft blocks</em> bin, unless it was stored there already, and the following information message, CPH-1014, is displayed in the CIW:<br /><span class="indent-as-level2">
<a id="pgfId-1086009"></a>CellType for the Lib/Cell/View, &#39;%s/%s/%s&#39;, has been changed to &#39;%s&#8217;</span><br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1086010"></a>Irrespective of the cell type you choose to apply for the selected instance, the information message is displayed when the master cell type has been set. </div></li></ol>














<h3>
<a id="pgfId-1095227"></a>Setting the Cell Type using th<a id="setCellTypeShortcut"></a>e Shortcut Menu</h3>

<p>
<a id="pgfId-1095228"></a>You can use the shortcut menu to set the cell type for blocks. To do this:</p>

<ol><li>
<a id="pgfId-1095229"></a>Select the required blocks in the design canvas.</li><li>
<a id="pgfId-1095230"></a>Right-click to display the shortcut menu.<br />
<a id="pgfId-1095234"></a><div class="webflare-div-image">
<img src="images/blockType_Shortcut.gif" /></div></li><li>
<a id="pgfId-1095235"></a>Choose <em>Set Block Cell</em> Type. A sub-menu that lists all available block types is displayed.</li><li>
<a id="pgfId-1095236"></a>Select the required block type.</li></ol>






<p>
<a id="pgfId-1095237"></a>The cell types for the selected blocks are updated. </p>
<p>
<a id="pgfId-1095223"></a>With multiple blocks selected, if all the blocks have the same cell type, a check mark is displayed beside the cell type in the shortcut menu. If the selected blocks are of different cell types, a check mark is displayed beside <em>As is.</em></p>

<h4>
<a id="pgfId-1086012"></a>Setting the <a id="setCellTypeForm"></a>Cell Type from the CIW</h4>

<p>
<a id="pgfId-1086014"></a><a id="HB - SetCellType"></a>You can set the cell type for multiple instances using the <em>Tools &#8211; Set Cell Type</em> command from the CIW menu bar.</p>
<ol><li>
<a id="pgfId-1086015"></a>From the CIW, choose <em>Tools &#8211; Set Cell Type</em>.<br />
<a id="pgfId-1086016"></a>The Set Cell Type form is displayed.<br />
<a id="pgfId-1086020"></a><div class="webflare-div-image">
<img src="images/setCellType.gif" /></div></li><li>
<a id="pgfId-1086021"></a>To find the cells you want to set the cell type for:<ol><li>
<a id="pgfId-1086022"></a>Select a <em>Library Name</em> from the cyclic list.</li><li>
<a id="pgfId-1086023"></a>Type the strings you want to filter by in the <em>Cell Name</em> and <em>View Name</em> fields and select a <em>Cell Type</em> from the drop-down list.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1086024"></a>For performance reasons, the <em>View Name</em> field does not accept regular expressions.</div></li><li>
<a id="pgfId-1086025"></a>Click <em>Filter</em> to filter the list to contain only those cells that match the options settings.</li></ol></li><li>
<a id="pgfId-1086026"></a>Select the cells you want from the list and choose the cell type you want to set from the <em>Set Cell Type</em> drop-down list.<br />
<a id="pgfId-1086032"></a><div class="webflare-div-image">
<img width="635" height="414" src="images/chap4-60.gif" /></div></li><li>
<a id="pgfId-1086033"></a>Click <em>Apply</em> or <em>OK</em>.<br />
<a id="pgfId-1086034"></a>The specified cell type is set for the selected cells.</li></ol>


















<h3>
<a id="pgfId-1086036"></a><a id="Hierarchy &#8211; Create Soft Block &#8211; Define Block Parameters"></a>Defining Soft Block Parameters</h3>
<p>
<a id="pgfId-1086037"></a>Use the <em>Define Soft Block Parameters</em> command to define the boundary, pins, and blockage parameters for a selected instance in the schematic design. These parameters are used by the <em>Generate Physical Hierarchy</em> command to create soft blocks for these instances in the physical implementation.</p>

<p>
<a id="pgfId-1086038"></a>When the <em>Define Soft Block Parameters</em> command is running, only the controls in the Attributes pane are enabled, ensuring you do not change the instance selection while you are editing the parameters. All other controls in the Configure Physical Hierarchy window remain disabled until you either save or discard the changes you have made to the soft block parameters. Similarly, cross-selection from other Virtuoso windows or assistants is delayed until you save or discard your changes.</p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1086039"></a>
To make changes to existing soft blocks that do not require the physical hierarchy to be regenerated, use the <em>Edit Soft Blocks</em> command instead. For more information, see <a href="chap7.html#16247">Editing Soft Blocks</a>.</div>
<p>
<a id="pgfId-1086043"></a>To define soft block parameters,</p>

<ol><li>
<a id="pgfId-1086044"></a>Select a component in the <em>Instances</em> table.</li><li>
<a id="pgfId-1086045"></a>Right-click the instance and choose <em>Define Soft Block Parameters</em>.<br />
<a id="pgfId-1086046"></a>If the selected component already has soft block parameters defined, the command is labeled <em>Edit Soft Block Parameters</em>.<br />
<a id="pgfId-1086050"></a><div class="webflare-div-image">
<img src="images/cphSoftBlockDefineParams.gif" /></div>
<a id="pgfId-1086051"></a>The <em>Instances</em> table is disabled and the Attributes pane enabled, </li><li>
<a id="pgfId-1086052"></a>Edit the parameters you require for your soft block. For more information, see<ul><li>
<a id="pgfId-1086056"></a><a href="chap4.html#97026">Specifying the Boundary</a></li><li>
<a id="pgfId-1086060"></a><a href="chap4.html#49150">Specifying I/O Pins</a></li><li>
<a id="pgfId-1086064"></a><a href="chap4.html#21431">Specifying LayerHalo Obstructions</a></li><li>
<a id="pgfId-1086068"></a><a href="chap4.html#26481">Specifying Cover Obstructions</a></li></ul></li><li>
<a id="pgfId-1086069"></a>To save the parameters for the selected component, click <em>Save Soft Block</em> in the Attributes pane.<br />
<a id="pgfId-1086075"></a><div class="webflare-div-image">
<img width="636" height="284" src="images/chap4-62.gif" /></div>
<a id="pgfId-1086076"></a>The Attributes pane is disabled and the <em>Instances</em> table re-enabled.<br />
<a id="pgfId-1086077"></a>To discard any changes you made since the Attributes pane was enabled, click <em>Discard Changes to Soft Block</em>.</li><li>
<a id="pgfId-1086078"></a>Repeat steps <strong>1</strong>-<strong>4</strong> for all the soft blocks you want to define.</li><li>
<a id="pgfId-1086079"></a>From the Configure Physical Hierarchy menu bar, choose <em>File &#8211; Save Floorplan File</em> to save all your settings to a floorplan file for later re-use.<br />
<a id="pgfId-1086083"></a>For more information, see <a href="chap4.html#50370">Saving Soft Block Parameters to a Floorplan File</a>.</li></ol>























<h3>
<a id="pgfId-1086085"></a><a id="97026"></a>Specifying the Boundary</h3>

<p>
<a id="pgfId-1086086"></a>The <em>Boundary</em> tab lets you specify the shape and size of the boundary that is created when the soft block is generated. This section describes how to create the most common types of boundary.</p>
<ul><li>
<a id="pgfId-1086090"></a><a href="chap4.html#24783">Creating a Fixed Rectangular Boundary</a></li><li>
<a id="pgfId-1086094"></a><a href="chap4.html#81339">Creating a Non-Fixed Rectangular Boundary</a></li><li>
<a id="pgfId-1086098"></a><a href="chap4.html#68123">Creating a Polygonal Boundary</a></li></ul>


<p>
<a id="pgfId-1086099"></a>It also describes the area estimation functions you can use to determine the size of the boundary, and explains how you can define and register your own area estimation functions.</p>
<ul><li>
<a id="pgfId-1086103"></a><a href="chap4.html#64706">Creating and Registering a User Defined Area Estimation Function</a></li></ul>
<p>
<a id="pgfId-1086104"></a>For general information on the controls in the <em>Boundary</em> tab, see:</p>
<ul><li>
<a id="pgfId-1086108"></a><a href="appD.html#67580"><strong>
Soft Block Boundary Attributes</strong>
.</a></li></ul>

<h4>
<a id="pgfId-1086110"></a><a id="24783"></a>Creating a Fixed Rectangular Boundary</h4>

<p>
<a id="pgfId-1086111"></a>Fixed refers to a boundary defined by specifying a combination of width, height, and aspect ratio. The boundary is considered fixed because it is defined by two fixed variables, and is not derived by estimating the area of the block.</p>
<p>
<a id="pgfId-1086112"></a>To create a fixed rectangular boundary:</p>
<ol><li>
<a id="pgfId-1086113"></a>Select the <em>Rectangle</em> radio button in the <em>Boundary</em> tab.</li><li>
<a id="pgfId-1086114"></a>Choose one of the following.<ul><li>
<a id="pgfId-1086115"></a><em>Aspect Ratio (W/H) </em>in the first cyclic field and <em>Height</em> in the second. In this case, the boundary width is calculated from the boundary height and aspect ratio.</li><li>
<a id="pgfId-1086116"></a><em>Aspect Ratio (W/H)</em> in the first cyclic field and <em>Width</em> in the second. In this case, the boundary height is calculated from the boundary width and the aspect ratio.</li><li>
<a id="pgfId-1086117"></a><em>Width</em> in the first cyclic field and <em>Height</em> in the second. In this case, the values you type in are used to create the boundary.</li></ul><br />
<a id="pgfId-1086118"></a>The <em>Area Calculation</em> group box is disabled, indicating that area estimation is not required.<br />
<a id="pgfId-1086122"></a><div class="webflare-div-image">
<img src="images/cphSoftBlockAttributesBoundaryFixed.gif" /></div></li><li>
<a id="pgfId-1086123"></a>Type the value you require into each of the fields provided.</li><li>
<a id="pgfId-1086124"></a>Type a value in the <em>Rail Height</em><em> </em>field, if required.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1086125"></a>The aspect ratio, width, and height values determine the core area, whereas the rail height value is used to extend the total area to accommodate the rails at the top and bottom of the core area. By specifying a rail height in this form, you do not need to calculate the rail area explicitly before populating the GUI.</div></li><li>
<a id="pgfId-1086126"></a>Click <em>Save Soft Block</em>.<br />
<a id="pgfId-1086127"></a>The boundary parameters are set. The Attributes pane is disabled and the Instances table re-enabled.</li></ol>















<h4>
<a id="pgfId-1086130"></a><a id="81339"></a>Creating a Non-Fix<a id="nonfixedboundary"></a>ed Rectangular Boundary</h4>

<p>
<a id="pgfId-1086131"></a>Non-fixed refers to a boundary defined by estimating the area required by the block in question. The boundary is non-fixed because it is derived from only one fixed parameter (such as the height or width), an area utilization factor, and an area estimation function.</p>
<p>
<a id="pgfId-1086132"></a>To create a non-fixed rectangular boundary,</p>
<ol><li>
<a id="pgfId-1086133"></a>Select the <em>Rectangle</em> radio button in the <em>Boundary</em> tab.</li><li>
<a id="pgfId-1086134"></a>Choose either <em>Width</em> or <em>Aspect Ratio (W/H) </em>from the first cyclic field and <em>Utilization</em> from the second cyclic field.<br />
<a id="pgfId-1086140"></a><div class="webflare-div-image">
<img width="881" height="326" src="images/chap4-64.gif" /></div>
<a id="pgfId-1086141"></a>The <em>Area Calculation</em> group box is enabled, indicating that area estimation is required.</li><li>
<a id="pgfId-1086142"></a>Choose the area estimation method you prefer:<ul><li>
<a id="pgfId-1086143"></a><em>Manual</em> lets you directly type the value you want into the <em>Core</em> <em>Area</em> field.</li><li>
<a id="pgfId-1086144"></a><em>Avg. Area Per Gate</em> lets you specify the gate count and the average area per gate. The system calculates the area by multiplying the two values.</li><li>
<a id="pgfId-1086145"></a><em>Use Estimator</em> lets you choose between PR Boundary Based and BBox Based area estimator. The PR Boundary Based estimation sums up the polygonal area of the individual instances to derive the overall area estimation. The BBox Based estimation, on the other hand, sums up the minimum bounding box area of the individual instances to derive the overall area estimation.<br />
<a id="pgfId-1086146"></a>You can also register your own area estimation functions and use them, as appropriate. For more information, see <a href="chap4.html#64706">Creating and Registering a User Defined Area Estimation Function</a>.</li></ul></li><li>
<a id="pgfId-1086150"></a>(Optional) To modify any user-defined parameters for the selected area estimation function, click <em>Estimate</em>.</li><li>
<a id="pgfId-1086151"></a>Click <em>Save Soft Block</em>.<br />
<a id="pgfId-1086152"></a>The boundary parameters are set. The Attributes pane is disabled and the <em>Instances</em> table re-enabled.</li></ol>

















<h4>
<a id="pgfId-1086154"></a><a id="68123"></a>Creating a Polygonal Boundary</h4>

<p>
<a id="pgfId-1086155"></a>To define the boundary parameters required to create a soft layout or soft abstract with a polygonal boundary,</p>
<ol><li>
<a id="pgfId-1086156"></a>Select the <em>Polygon</em> radio button in the <em>Boundary</em> tab.<br />
<a id="pgfId-1086157"></a>The table on the right is enabled. All other controls on the tab are disabled because no area estimation is required.</li><li>
<a id="pgfId-1086158"></a>Type in the coordinates of the polygonal boundary &#8211; the x-coordinates into the left-hand column, the y-coordinates into the right-hand column.<br />
<a id="pgfId-1086162"></a><div class="webflare-div-image">
<img src="images/cphSoftBlockAttributesBoundaryPolygon.gif" /></div></li><li>
<a id="pgfId-1086163"></a>Click <em>Save Soft Block</em>.<br />
<a id="pgfId-1086164"></a>The boundary parameters are set. The Attributes pane is disabled and the <em>Instances</em> pane re-enabled.</li></ol>









<h4>
<a id="pgfId-1086166"></a><a id="64706"></a>Creating and Registering a User Defined Area Estimation Function</h4>

<p>
<a id="pgfId-1086167"></a>You might write a simple area estimator as follows.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1086168"></a>procedure(myFunction(maskLayoutId @optional (contactArea  1.0)<br />  prog((area)<br />    // Function body to calculate area involving layout instances<br />    foreach(ins maskLayoutId~&gt;instances<br />      area = area + ins~&gt;master~&gt;prBoundary~&gt;area * contactArea<br />    )<br />    return(area)<br />  )<br />)<br /> </pre>
<p>
<a id="pgfId-1086169"></a>You register the function as shown below.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1086170"></a>leRegAreaEstimator(<br />    &#39;myFunction<br />        &quot;simpleAreaEst&quot;<br />        &#39;(&#39;cellView)<br />        &#39;((contactArea 1.0))<br />        &quot;deferred&quot; <br />        )</pre>
<p>
<a id="pgfId-1086171"></a>Where <code>deferred</code> means that the function is applied only when all the required information is available. In this example, the layout instances will be available only when the <em>Generate All From Source</em> command is run, and only then will the area estimator be executed to calculate the area.</p>
<p>
<a id="pgfId-1086172"></a>Alternatively, you can register the function as shown below.</p>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1086173"></a>leRegAreaEstimator(<br />    &#39;myFunction</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1086174"></a>        &quot;simpleAreaEst&quot;<br />        &#39;(&#39;cellView)<br />        &#39;((contactArea 1.0))<br />        &quot;direct&quot;<br />        )</pre>
<p>
<a id="pgfId-1086175"></a>Where <code>direct</code> means the function will be applied as soon as you click Estimate in the <em>Boundary</em> tab. The result is shown in the Area field.</p>
<p>
<a id="pgfId-1088824"></a>When registered, the area estimator function appears in the Area Estimator list in the <em>Boundary</em> tab of the Configure Physical Hierarchy window in Soft Block mode.</p>
<p>
<a id="pgfId-1088825"></a>You can also add an area estimation function to the <em>PR Boundary </em>tab of the Generate Layout form. See <a href="chap4.html#84126">Adding an Area Estimator Function for Layout Generation</a>.</p>
<p>
<a id="pgfId-1088830"></a>For more information on registering an area estimation function, see <h-hot><a actuate="user" class="URL" href="../sklayoutref/layout.html#leRegAreaEstimator" show="replace" xml:link="simple">leRegAreaEstimator</a></h-hot> in the <em>Virtuoso Layout Suite SKILL Functions Reference</em>.</p>

<h4>
<a id="pgfId-1088832"></a><a id="84126"></a>Adding an Area Estimator Function for Layout Generation</h4>

<p>
<a id="pgfId-1088833"></a>To add an area estimator function to the Generate Layout form:</p>

<ol><li>
<a id="pgfId-1088834"></a>In the PR Boundary tab, click the <em>Register</em> button in the Area Estimation group box.<br />
<a id="pgfId-1088838"></a>The <a href="appD.html#32191">Add Area Estimators</a> form opens.</li><li>
<a id="pgfId-1088839"></a>In the CIW, type the command given below to load the SKILL file that defines the area estimator function:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1088840">
<a id="pgfId-1088840"></a>load(&quot;area.il&quot;)</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1088841">
<a id="pgfId-1088841"></a>; where area is the name of the SKILL file.</pre></li><li>
<a id="pgfId-1088842"></a>In the <em>Function name </em>field, type the name of the area estimator function defined in the SKILL file. </li><li>
<a id="pgfId-1088843"></a>In the <em>Nickname</em> field, specify the name to use for registering the area estimator function. The name specified in this field will be displayed in the area estimator drop-down list after the function is registered.</li><li>
<a id="pgfId-1088844"></a>Select the appropriate value from the <em>Type</em> drop-down list. Choose <em>PR boundary</em> to register the function for PR boundary area estimation. Choose <em>Area boundary</em> to register the function for the estimation of virtual hierarchy area boundary. </li><li>
<a id="pgfId-1088847"></a>In the <em>Parameters</em> field, specify any parameters to be considered when calculating the area estimates.<br />
<a id="pgfId-1089163"></a>The area estimator function registered for PR boundary appears in the <em>Estimator</em> drop-down list with the same name as specified in the <em>Nickname</em> field.<br />
<a id="pgfId-1088849"></a>The area estimator function registered for virtual hierarchy area boundary appears in the drop-down list associated with the <em>Soft Block &#8211; Area</em> field. The registered function is listed using the same name as specified in the <em>Nickname</em> field. For more information, see <a actuate="user" class="URL" href="../vdpuser/appB.html#adjustAreaBoundary" show="replace" xml:link="simple">Adjust Area Boundary</a> form in <em>Virtuoso Design Planner User Guide</em>.</li></ol>












<h3>
<a id="pgfId-1086181"></a><a id="49150"></a>Specifying<a id="cphSoftBlockPins"></a> I/O Pins</h3>

<p>
<a id="pgfId-1086182"></a>In addition to defining layer-based rules, you can define layer purpose based rules while defining the soft block parameters in the <em>I/O Pins</em> tab. </p>
<p>
<a id="pgfId-1086183"></a>To specify I/O pins for the selected soft block:</p>
<ol><li>
<a id="pgfId-1086184"></a>Click the <em>I/O Pins</em> tab to see the pins in the design.</li></ol>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1086185"></a>CPH honors existing net process rule override (net PRO) definitions in the schematic and displays the values for corresponding options, such as the pin <em>Width</em> and pin <em>Layer</em>. The net PRO values that are read from the schematic are used for initial population of the respective fields. However, you can override these values manually. You must ensure that the net PRO constraint values are not violated. For more information, see <a actuate="user" class="URL" href="../fphelp/chap2.html#netpro" show="replace" xml:link="simple">Support for Net Process Rule Overrides (PROs)</a>.</div>

<p>
<a id="pgfId-1086190"></a></p>
<div class="webflare-div-image">
<img src="images/cphio.gif" /></div>

<p class="webflare-indent1">
<a id="pgfId-1086191"></a>All the fields with a white background are editable. </p>

<p>
<a id="pgfId-1086195"></a></p>
<div class="webflare-div-image">
<img src="images/cphiofilter.gif" /></div>

<ol><li>
<a id="pgfId-1086196"></a>To change the value for an individual cell:<ol><li>
<a id="pgfId-1086197"></a>Double-click the cell.If a drop-down arrow appears, select a new value from the drop-down list. If the value in the cells gets highlighted, type in a new value directly.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1086198"></a>Alternatively, you can select a cell and press the space bar to display the value list box for the column. If the selected cell is a text field, pressing the space bar makes the text editable. You can then type in the new value directly.</div></li><li>
<a id="pgfId-1086199"></a>Click any where within the editable area of the tab page.<br />
<a id="pgfId-1086200"></a>The value of the selected cell changes to the new value you selected.<br />
<a id="pgfId-1086206"></a><div class="webflare-div-image">
<img width="818" height="294" src="images/chap4-68.gif" /></div></li></ol></li><li>
<a id="pgfId-1086207"></a>To change the value for multiple cells within a column:<ol><li>
<a id="pgfId-1086208"></a>Hold down the <code>Ctrl</code> key and select the cells in a column that you want to update.<br /><b>Note:</b><br />
<a id="pgfId-1086209"></a><ul><li>
<a id="pgfId-1086210"></a>If you want to select all the cells in the column, select the column header.With the <code>Ctrl</code> key pressed, double-click one of the selected cells and choose the new value from the value list box that appears.</li><li>
<a id="pgfId-1086211"></a>Alternatively, release the <code>Ctrl</code> key and press the space bar to display the value list box for the column. Then, choose an appropriate value to apply. If the selected cell is a text field, pressing the space bar makes the text editable. You can then type in the new value directly.</li></ul></li><li>
<a id="pgfId-1086212"></a>Click any where within the editable area of the tab page. The value of the selected cells changes to the new value you selected.<br />
<a id="pgfId-1086219"></a><div class="webflare-div-image">
<img width="894" height="316" src="images/chap4-69.gif" /></div></li></ol></li><li>
<a id="pgfId-1086220"></a>To filter rows based on a keyword, double-click the column name and specify the keyword. Only those rows with matching values are filtered out and listed.<br />
<a id="pgfId-1086224"></a><div class="webflare-div-image">
<img src="images/cphiofilter.gif" /></div></li><li>
<a id="pgfId-1086225"></a>To add a new pin:<ol><li>
<a id="pgfId-1086226"></a>Click <em>Add</em>.<br />
<a id="pgfId-1086227"></a>A new row is added to the table with a default <em>Net Name</em> and <em>Term Name</em>. You can change these, if required.</li><li>
<a id="pgfId-1086228"></a>The other fields display their default values. Edit the values in the other fields as required.<br /><b>Note:</b><br />
<a id="pgfId-1086229"></a><ul><li>
<a id="pgfId-1086230"></a>To know more about the default values in the <em>Width</em> and <em>Height</em> fields, see <a href="chap4.html#67389">Initial Pin Width Setting</a> and <a href="chap4.html#43159">Initial Pin Height Setting</a>.</li><li>
<a id="pgfId-1086237"></a>To specify the layers that need to be listed in the <em>Layer</em> column, use the <a href="appA.html#58977">initIOPinLayerNames</a> or <a href="appA.html#80800">initIOPinPurposeNames</a> environment variable, as appropriate.</li></ul></li></ol></li><li>
<a id="pgfId-1086244"></a>To delete a pin, click <em>Delete</em>.<br />
<a id="pgfId-1086245"></a>The selected pin is removed from the list.</li><li>
<a id="pgfId-1086246"></a>To generate labels for all the pins in the selected soft block, select the <em>Create Label</em> option.<br />
<a id="pgfId-1086252"></a><div class="webflare-div-image">
<img width="894" height="285" src="images/chap4-71.gif" /></div>
<a id="pgfId-1086253"></a>To generate labels for all the pins of <em>all</em> the soft blocks in your design:<ol><li>
<a id="pgfId-1086254"></a>Choose <em>Options &#8211; Soft Block Options</em> from the Configure Physical hierarchy menu bar.</li><li>
<a id="pgfId-1086258"></a>Check the <em>Create Label</em> check box in the <a href="appD.html#26411">Soft Block Global Options</a> form. </li><li>
<a id="pgfId-1086259"></a>Select appropriate label creation options under the Pin Label Text Style group box.</li></ol></li><li>
<a id="pgfId-1086260"></a>Click <em>Save Soft Block</em>.<br />
<a id="pgfId-1086261"></a>The I/O pin parameters are set. The Attributes pane is disabled and the <em>Instances</em> pane re-enabled.</li></ol>


















































<h4>
<a id="pgfId-1086263"></a><a id="67389"></a>Initial Pin Width Setting</h4>

<p>
<a id="pgfId-1086264"></a>The initial pin width value displayed in the <em>Width</em> field is determined in the following order:</p>
<ul><li>
<a id="pgfId-1086265"></a>If there are any Process Rule Overrides (PROs) on the current net in the schematic view, then the <code>minWidth</code> is determined based on the net PROs values.</li><li>
<a id="pgfId-1086266"></a>If there is no PRO, but there is an existing layout, then the <code>minWidth</code> is derived from the layout, assuming that the pin widths in the layout are updated.</li><li>
<a id="pgfId-1086270"></a>When neither of the above exist, the value of <a href="appA.html#33279">initPinWidth</a> environment variable is used the set the <code>minWidth</code> value.</li><li>
<a id="pgfId-1086274"></a>In the absence of a PRO, layout, and <a href="appA.html#33279">initPinWidth</a> environment variable, the default technology file value is considered.</li></ul>




<h4>
<a id="pgfId-1086276"></a><a id="43159"></a>Initial Pin Height Setting</h4>

<p>
<a id="pgfId-1086277"></a>The initial pin height value displayed in the <em>Height</em> field is determined in the following order:</p>
<ul><li>
<a id="pgfId-1086278"></a>If there are any Process Rule Overrides (PROs) on net in the schematic view, then the <code>minHeight</code> is determined based on the net PROs values.</li><li>
<a id="pgfId-1086279"></a>If there is no PRO, but there is an existing layout, then the <code>minHeight</code> is derived from the layout, assuming that the pin heights in the layout are updated.</li><li>
<a id="pgfId-1086283"></a>When neither of the above exist, the value of <a href="appA.html#91679">initPinHeight</a> environment variable is used the set the <code>minHeight</code> value.<br />
<a id="pgfId-1086287"></a>In the absence of a PRO, layout, and <a href="appA.html#91679">initPinHeight</a> environment variable, the default technology file value is considered.</li></ul>




<h3>
<a id="pgfId-1086290"></a><a id="21431"></a>Spec<a id="layerHaloObstruction"></a>ifying LayerHalo Obstructions</h3>

<p>
<a id="pgfId-1086291"></a>LayerHalo obstructions are defined at the child-level, and are effective at the parent-level. Alternatively, you can define cover obstructions to block routing on the specified layer at the top level. The selected layer and all lower layers are automatically obstructed. For more information about the differences between the two types of obstructions, see <a href="chap4.html#53600">Comparison between LayerHalo and Cover Obstructions</a>.</p>
<p>
<a id="pgfId-1086295"></a>A soft block obstruction is implemented using a halo object instead of a blockage object, because there is no need to manually remove the halo prior to routing.</p>
<ul><li>
<a id="pgfId-1086296"></a>To define a <em>routing</em>, <em>fill</em>, <em>slot</em>, <em>pin</em>, <em>feedthru</em>, or <em>screen</em> obstruction, you need to set the <em>Blockage Type</em>, and specify the <em>Layer</em> and <em>Offsets</em>. There is also a  filter which you can use to select layers based on the material defined for that layer in the technology file.<br /><b>Note:</b><br />
<a id="pgfId-1086297"></a><ul><li>
<a id="pgfId-1086298"></a>The list of extractable layers is retrieved from the constraint group set for the current layout cellview. If there is no constraint group set for the current layout cellview, the software retrieves the layers from the constraint group specified by the <code>setupConstraintGroup</code> environment variable. The CPH soft block reads the environment variable and looks for the constraint group carrying the required information in the associated technology file. The technology file may be an Incremental Technology Database file (ITDB) or a design techfile.</li><li>
<a id="pgfId-1086299"></a>If there are no layers defined in either location, it issues a message and disables the soft block definition.</li></ul></li><li>
<a id="pgfId-1086300"></a>To define a <em>placement</em> obstruction, you need only set the <em>Offsets</em>. You can define only one placement obstruction per block.</li></ul>




<p>
<a id="pgfId-1086301"></a>To specify parameters for a LayerHalo obstruction,</p>
<ol><li>
<a id="pgfId-1086302"></a>Click the LayerHalo <em>Obstruction</em> tab.</li><li>
<a id="pgfId-1086303"></a>To define a routing obstruction,<ol><li>
<a id="pgfId-1086304"></a>Select <em>routing</em> in the <em>Blockage Type</em> pane.</li><li>
<a id="pgfId-1086305"></a>Choose <em>metal</em> from the <em>Material</em> drop-down list.<br />
<a id="pgfId-1086306"></a>The <em>Layer</em> list is reduced to show only the extractable metal layers defined in the active constraint group.</li><li>
<a id="pgfId-1086307"></a>Set the <em>Offsets</em> for the four sides of the soft block.</li><li>
<a id="pgfId-1086308"></a>Click <em>Add</em> to add the obstruction to the list.<br /><ffi2-fig-frame-in-2 id="#id1086315">
<a id="pgfId-1086315"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="894" height="307" src="images/chap4-72.gif" /></div></li></ol></li><li>
<a id="pgfId-1086316"></a>To define a placement obstruction:<ol><li>
<a id="pgfId-1086317"></a>Select <em>placement</em> in the <em>Blockage Type</em> pane.<br />
<a id="pgfId-1086318"></a><em>placement</em> is removed from the list of blockage types because you can create only one placement obstruction per soft block.<br />
<a id="pgfId-1086319"></a>The <em>Material</em> and <em>Layers</em> controls are grayed out because they are not required to define a placement obstruction.</li><li>
<a id="pgfId-1086320"></a>Set the <em>Offsets</em> for the four sides of the soft block.</li><li>
<a id="pgfId-1086321"></a>Click <em>Add</em> to add the obstruction to the list.<br /><ffi2-fig-frame-in-2 id="#id1086327">
<a id="pgfId-1086327"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="818" height="364" src="images/chap4-73.gif" /></div></li></ol></li><li>
<a id="pgfId-1086328"></a>To update an obstruction, edit the fields you require directly in the table and press <code>Return</code> to accept the new value.</li><li>
<a id="pgfId-1086329"></a>To delete an obstruction, select it in the table and click <em>Delete</em>.<br />
<a id="pgfId-1086330"></a>The obstruction is deleted and removed from the table.</li></ol>




























<h3>
<a id="pgfId-1086333"></a><a id="26481"></a>Specifyi<a id="coverObstruction"></a>ng Cover Obstructions</h3>

<p>
<a id="pgfId-1086337"></a>see <a href="chap4.html#53600">Comparison between LayerHalo and Cover Obstructions</a>.</p>
<p>
<a id="pgfId-1086338"></a>You use the Cover Obstruction tab to create cover obstructions in your soft block. Cover obstructions are defined at the layer level. When you create a cover obstruction, the selected layer and all lower layers are automatically obstructed. For example, in the following diagram, <code>Metal 1</code> is the lowest layer and <code>Metal 6</code> is the top most layer. Adding a cover obstruction on <code>Metal 3</code> will generate obstructions on layers <code>Metal 3</code>, <code>Metal 2</code>, and <code>Metal 1</code>. As a result, routing cannot be done on these layers.</p>

<p>
<a id="pgfId-1086342"></a></p>
<div class="webflare-div-image">
<img src="images/CoverBlockage_Diag.GIF" /></div>

<p>
<a id="pgfId-1086343"></a>This type of obstruction is typically generated for layers where you want to prevent over-the-cell routing to improve performance or to avoid electrical effects between tracks. </p>
<p>
<a id="pgfId-1086344"></a>A soft block can be associated with only one cover obstruction. So, any new cover obstruction that is created on a soft block replaces the existing cover obstruction (if any) on it.</p>
<p>
<a id="pgfId-1086345"></a>Use LayerHalo obstructions to block routing at the child-level. These obstructions are effective at the parent-level. For more information about the differences between the two types of obstructions, see <a href="chap4.html#53600">Comparison between LayerHalo and Cover Obstructions</a>.</p>
<p>
<a id="pgfId-1086349"></a>Following are the steps to create a Cover Obstruction:</p>

<ol><li>
<a id="pgfId-1086350"></a>Click the Cover Obstruction tab in the Attributes pane.<br />
<a id="pgfId-1086354"></a><div class="webflare-div-image">
<img src="images/cphCoverObstruction1.gif" /></div></li><li>
<a id="pgfId-1086355"></a>Select the layer on which you want to create an obstruction in the Select a Top Layer pane and click the Create button.<br />
<a id="pgfId-1086361"></a><div class="webflare-div-image">
<img width="635" height="303" src="images/chap4-76.gif" /></div>
<a id="pgfId-1086362"></a>The selected layer and lower layers are automatically populated in the Obstruction Applied on Layers pane.<br />
<a id="pgfId-1086368"></a><div class="webflare-div-image">
<img width="635" height="306" src="images/chap4-77.gif" /></div></li><li>
<a id="pgfId-1086369"></a>To allow power and ground nets, check the Allow PGNet box.</li><li>
<a id="pgfId-1086370"></a>Click Save Soft Block.</li></ol>














<h4>
<a id="pgfId-1086371"></a>SKILL Functions</h4>

<p>
<a id="pgfId-1086372"></a>Alternatively you can use the following SKILL functions:</p>
<ul><li>
<a id="pgfId-1086374"></a><a actuate="user" class="URL" href="../sklayoutref/cph.html#cphSbDefineCovObstruction" show="replace" xml:link="simple">cphSbDefineCovObstruction</a>: To define cover obstructions</li><li>
<a id="pgfId-1086376"></a><a actuate="user" class="URL" href="../sklayoutref/cph.html#cphSbDelCovObstruction" show="replace" xml:link="simple">cphSbDelCovObstruction</a>: To delete cover obstructions</li><li>
<a id="pgfId-1086378"></a><a actuate="user" class="URL" href="../sklayoutref/cph.html#cphSbDisplayCovObstructionInfo" show="replace" xml:link="simple">cphSbDisplayCovObstructionInfo</a>: To display information about cover obstructions</li><li>
<a id="pgfId-1086380"></a><a actuate="user" class="URL" href="../sklayoutref/cph.html#cphSbHasCovObstruction" show="replace" xml:link="simple">cphSbHasCovObstruction</a>: To check for the presence of cover obstructions in a soft block</li></ul>




<h4>
<a id="pgfId-1086382"></a><a id="53600"></a>Comparison between LayerHalo and Cover Obstructions</h4>

<p>
<a id="pgfId-1086383"></a>The following table summarizes the similarities and differences between layerHalo and cover obstructions. Depending on your requirement, you can choose the type of obstruction to be defined.</p>

<p>
<a id="pgfId-1086413"></a></p>
<table class="webflareTable" id="#id1086384">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1086386"></a>LayerHalo Obstructions</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1086388"></a>Cover Obstructions</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1086390"></a>Are defined at the child-level, and are effective at the parent-level.</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1086392"></a>Are defined for soft blocks. Cover obstructions block routing on the specified layer at the top level.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1086394"></a>Prohibits routing parallel to the edge of the selected instance, but allow routing perpendicular to the instance to access pins.</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1086396"></a>Prohibits routing parallel to the edge of the instance. Also prohibits routing over the cell. Only pins that are placed on the PRBoundary edge can be accessed by the router.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1086398"></a>Allows power and ground routes in the entire halo area, around the instance, and over the cell. There is no option to enable/disable these routes.</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1086400"></a>Provides an option to enable/disable power and ground routing in the entire obstruction area, around the instance, and over the cell.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1086402"></a>Can be specified for non-contiguous layers such as M1, M5, and M7.</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1086404"></a>Can be specified only for contiguous layers, for example for all layers below the top layer. If top layer = M3, then M1 and M2 are also obstructed.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1086406"></a>Supports different offsets beyond the instance boundaries.</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1086408"></a>Does not support different offsets beyond the instance boundaries.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1086410"></a>Is not supported by VSR.</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1086412"></a>Is supported by VSR.</p>
</td>
</tr>
</tbody></table>
<h3>
<a id="pgfId-1086415"></a><a id="48604"></a>Removing Soft Block Parameters</h3>

<p>
<a id="pgfId-1086416"></a>To remove soft block parameters,</p>
<ol><li>
<a id="pgfId-1086417"></a>In the table view, select the instance for which you want to remove parameters.</li><li>
<a id="pgfId-1086418"></a>Click the right mouse button and choose <em>Remove Soft Block Parameters</em>.<br />
<a id="pgfId-1086419"></a>The soft block parameters are removed and the selected instance will not be generated as a soft block by the <em>Generate Physical Hierarchy</em> command.<br /><div class="webflare-information-macro webflare-macro-tip">
<a id="pgfId-1086420"></a>
To redefine soft block parameters, use either <em>Edit Soft Block Parameters</em> or <em>File &#8211; Load Floorplan File</em>.</div></li></ol>




<h3>
<a id="pgfId-1086422"></a><a id="79314"></a>Creating a Physical Binding</h3>

<p>
<a id="pgfId-1086423"></a>To create a physical binding:</p>
<ol><li>
<a id="pgfId-1086424"></a>In the table view, select the instance for which you want to set a physical binding.</li><li>
<a id="pgfId-1086425"></a>Click the right mouse button and choose <em>Create Physical Binding</em>.<br />
<a id="pgfId-1086429"></a><div class="webflare-div-image">
<img src="images/cphSoftBlockCreatePhysBinding.gif" /></div>
<a id="pgfId-1086430"></a>The physical binding is created.</li></ol>






<p>
<a id="pgfId-1094699"></a>Removing a Physical Binding</p>
<p>
<a id="pgfId-1086431"></a>To remove a physical binding,</p>
<ol><li>
<a id="pgfId-1086432"></a>In the table view, select the instance for which you want to remove the physical binding.</li><li>
<a id="pgfId-1086433"></a>Click the right mouse button and choose <em>Clear Physical Binding</em>.<br />
<a id="pgfId-1086434"></a>The physical binding is removed, along with any soft block parameters defined for the instance in question.<br /><div class="webflare-information-macro webflare-macro-tip">
<a id="pgfId-1086435"></a>
To remove soft block parameters but preserve the physical binding, click the right mouse button and choose <em>Remove Soft Block Parameters</em>.</div></li></ol>




<h3>
<a id="pgfId-1086437"></a><a id="76892"></a>Loading Soft Block Parameters from Another Cellview</h3>

<p>
<a id="pgfId-1086438"></a>The <em>Initialize Soft Block Parameters Using Physical View</em> command imports soft block parameters from an existing layout cellview. For more information, see <a href="chap6.html#83965">Flattening a Layout Instance</a>.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1086442"></a>This command uses the same functionality as the <em>Load Physical View</em> command.</div>
<p>
<a id="pgfId-1086443"></a>To load predefined soft block parameters from another cellview,</p>
<ol><li>
<a id="pgfId-1086444"></a>Select a component in the <em>Instances</em> table.</li><li>
<a id="pgfId-1086445"></a>Right-click the instance and choose <em>Initialize Soft Block Parameters Using Physical View</em>.<br />
<a id="pgfId-1086446"></a>The Block Parameters using Physical View dialog is displayed.<br />
<a id="pgfId-1086450"></a><div class="webflare-div-image">
<img src="images/initSoftBlockParams.gif" /></div></li><li>
<a id="pgfId-1086451"></a>Type in the name of the layout cellview that contains the information you want to import and click <em>OK</em>.<br />
<a id="pgfId-1086452"></a>The Attributes pane is updated with the settings from the specified cellview.</li><li>
<a id="pgfId-1086453"></a>Edit the parameters as required. For more information, see<ul><li>
<a id="pgfId-1086457"></a><a href="chap4.html#97026">Specifying the Boundary</a></li><li>
<a id="pgfId-1086461"></a><a href="chap4.html#49150">Specifying I/O Pins</a></li><li>
<a id="pgfId-1086465"></a><a href="chap4.html#21431">Specifying LayerHalo Obstructions</a></li><li>
<a id="pgfId-1086469"></a><a href="chap4.html#26481">Specifying Cover Obstructions</a></li></ul></li><li>
<a id="pgfId-1086470"></a>Click <em>Save Soft Block</em> in the Attributes pane to save the soft block parameters you specified. <br />
<a id="pgfId-1086471"></a>The Attributes pane is disabled and the <em>Instances</em> table re-enabled.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1086472"></a>To discard any changes you made since the Attributes pane was enabled, click <em>Discard Changes to Soft Block</em>.</div></li><li>
<a id="pgfId-1086473"></a>Repeat steps <strong>1</strong>-<strong>5</strong> for all the soft blocks you want to define in this way.</li><li>
<a id="pgfId-1086474"></a>From the Configure Physical Hierarchy menu bar, choose <em>File &#8211; Save Floorplan File</em> to save all your settings to a floorplan file for later re-use.<br />
<a id="pgfId-1086478"></a>For more information, see <a href="chap4.html#50370">Saving Soft Block Parameters to a Floorplan File</a>.</li></ol>




















<h3>
<a id="pgfId-1086480"></a><a id="50370"></a>Saving Soft Block Parameters to a Floorplan File</h3>

<p>
<a id="pgfId-1086481"></a>You can save the current block parameters to a floorplan file, which you can then re-use in a different Virtuoso session.</p>
<p>
<a id="pgfId-1086482"></a>To do this,</p>
<ol><li>
<a id="pgfId-1086485"></a>Define the soft block parameters you require using the procedures described in <a href="chap4.html#Hierarchy &#8211; Create Soft Block &#8211; Define Block Parameters">Defining Soft Block Parameters</a>.</li><li>
<a id="pgfId-1086487"></a>From the Configure Physical Hierarchy menu bar, choose <em>File &#8211; Save Floorplan File</em>.</li><li>
<a id="pgfId-1086488"></a>Specify a name for the file and click <em>OK</em>.<br />
<a id="pgfId-1086489"></a>The floorplanning parameters are saved to the specified file.</li></ol>




<h3>
<a id="pgfId-1086491"></a><a id="48215"></a>Loading Soft Block Parameters from a Floorplan File</h3>

<p>
<a id="pgfId-1086492"></a>To load parameters from a floorplan file,</p>
<ol><li>
<a id="pgfId-1086493"></a>From the Layout XL window, choose <em>Launch &#8211; Configure Physical Hierarchy</em>.<br />
<a id="pgfId-1086494"></a>The Configure Physical Hierarchy window appears.</li><li>
<a id="pgfId-1086495"></a>Change to Soft Block mode using the drop down list in the toolbar.</li><li>
<a id="pgfId-1086496"></a>From the Configure Physical Hierarchy menu bar, choose <em>File &#8211; Load Floorplan File</em>.<br />
<a id="pgfId-1086497"></a>The Load Floorplan File dialog appears.</li><li>
<a id="pgfId-1086498"></a>Specify the file you want to load and click <em>OK</em>.<br />
<a id="pgfId-1086499"></a>The floorplanning parameters defined in the file are loaded into the current configuration view.</li></ol>







<h3>
<a id="pgfId-1086501"></a><a id="77934"></a>Generating the Physical Hierarchy</h3>

<p>
<a id="pgfId-1086502"></a>Use the <em>Generate Physical Hierarchy</em> command to generate the components in your design while maintaining the hierarchy levels you have defined in Soft Block mode.</p>

<div class="webflare-information-macro webflare-macro-tip">
<a id="pgfId-1086503"></a>
This section describes only how to start the <em>Generate Physical Hierarchy</em> command. For information on what it does, see the <em><a actuate="user" class="URL" href="../fphelp/fphelpTOC.html#firstpage" show="replace" xml:link="simple">Virtuoso Floorplanner User Guide</a></em>.</div>

<p>
<a id="pgfId-1086505"></a>To generate the physical hierarchy,</p>
<ol><li>
<a id="pgfId-1086506"></a>In the Configure Physical Hierarchy window, define or load the soft block parameters you require. For information on how to do this, see<ul><li>
<a id="pgfId-1086510"></a><a href="chap4.html#Hierarchy &#8211; Create Soft Block &#8211; Define Block Parameters">Defining Soft Block Parameters</a></li><li>
<a id="pgfId-1086514"></a><a href="chap4.html#48215">Loading Soft Block Parameters from a Floorplan File</a></li></ul></li><li>
<a id="pgfId-1087347"></a>From the layout window menu bar, choose <em>Launch &#8211; Layout XL. </em>In addition, you must draw 4 Layout GXL tokens.</li><li>
<a id="pgfId-1087348"></a>From the layout window menu bar, choose <em>Floorplan &#8211; Generate Physical Hierarchy</em>.</li><li>
<a id="pgfId-1086515"></a>The physical hierarchy is generated in the layout window, including the soft blocks defined in the Configure Physical Hierarchy window.</li></ol>






<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="chap3.html" id="prev" title="Preparing Your Connectivity Source">Preparing Your Connectivity So ...</a></em></b><b><em><a href="chap5.html" id="nex" title="Device Abutment">Device Abutment</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2020, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>