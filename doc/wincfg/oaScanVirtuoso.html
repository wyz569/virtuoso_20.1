
<html><head><title>Using the oaScan Utilities for Virtuoso</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="sumehta" />
<meta name="CreateDate" content="2020-09-19" />
<meta name="CreateTime" content="1600534053" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes how to work in and manage the Virtuoso Design Environment, including how to start Cadence applications and how to set up and use workspaces and assistant panes to enhance your work practices." />
<meta name="DocTitle" content="Virtuoso Design Environment User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Using the oaScan Utilities for Virtuoso" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.2.1" />
<meta name="Keyword" content="wincfg" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2020-09-19" />
<meta name="ModifiedTime" content="1600534053" />
<meta name="NextFile" content="glossary.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Cadence Shared Tools" />
<meta name="PrevFile" content="diagnostics.html" />
<meta name="c_product" content="Virtuoso Layout Suite,Virtuoso Schematic Editor,Virtuoso Analog Design Environment" />
<meta name="Product" content="Virtuoso Shared Tools" />
<meta name="ProductFamily" content="Virtuoso Shared Tools" />
<meta name="ProductVersion" content="ICADVM20.1" />
<meta name="RightsManagement" content="Copyright 2012-2020 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Design Environment User Guide -- Using the oaScan Utilities for Virtuoso" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="ICADVM20.1" />
<meta name="SpaceKey" content="wincfgICADVM201" />
<meta name="webflare-version" content="2.0" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="wincfgTOC.html">Contents</a></li><li><a class="prev" href="diagnostics.html" title="Diagnostics">Diagnostics</a></li><li style="float: right;"><a class="viewPrint" href="wincfg.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="glossary.html" title="Glossary of Terms">Glossary of Terms</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Design Environment User Guide<br />Product Version ICADVM20.1, October 2020</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>E
<a id="pgfId-1065082"></a></h1>
<h1>
<a id="pgfId-1065083"></a><hr />
<a id="70071"></a>Using the oaScan Utilities for Virtuoso<hr />
</h1>

<p>
<a id="pgfId-1065700"></a>oaScan is an unlicensed application that scans the contents of a library; checks for inconsistencies in the OpenAccess design, technology, and DMData databases; and optionally repairs the inconsistencies and saves the databases.</p>
<p>
<a id="pgfId-1065701"></a>Inconsistencies are more common with older versions of OpenAccess, such as those released earlier than April 2008. oaScan can be used to upgrade inconsistent data to current quality standards and is maintained on an ongoing basis so that OpenAccess users can continuously monitor the integrity of their data.</p>

<h3>
<a id="pgfId-1065702"></a><a id="RecommendedMethodology"></a>Recommended Methodology</h3>

<p>
<a id="pgfId-1065703"></a>Cadence recommends that you</p>
<ul><li>
<a id="pgfId-1065704"></a>Scan data that was created or modified by older versions of OpenAccess in order to identify data inconsistencies and then perform a repair to correct any inconsistencies found.</li><li>
<a id="pgfId-1065705"></a>Conduct periodic data scans in case older versions of OpenAccess are reintroduced into the design flow and repair any inconsistencies found.</li><li>
<a id="pgfId-1065707"></a>Run oaScan on data as it is being checked into a global workspace from a user&#8217;s local workspace when using a design management system.</li></ul>


<p>
<a id="pgfId-1065708"></a>This appendix describes three GUI-based utilities that you can load in Virtuoso and access from the Command Interpreter Window (CIW) to help you implement the recommended methodology. For more information, see</p>
<ul><li>
<a id="pgfId-1066184"></a><a href="oaScanVirtuoso.html#52482">Scanning a Library</a> to run oaScan on a library or cellview</li><li>
<a id="pgfId-1066186"></a><a href="oaScanVirtuoso.html#23663">Scanning a Hierarchy</a> to run oaScan on all the cellviews in a design hierarchy</li><li>
<a id="pgfId-1066178"></a><a href="oaScanVirtuoso.html#19970">Scanning Cellviews Automatically during Save</a> to run oaScan every time a cellview is saved</li></ul>


<p>
<a id="pgfId-1066023"></a>Full details of the functionality underpinning these utilities is available in the <em><a actuate="user" class="URL" href="../oascan/oascanTOC.html#firstpage" show="replace" xml:link="simple">OpenAccess oaScan User Guide</a></em>.</p>

<h3>
<a id="pgfId-1065570"></a><a id="EnablingtheoaScanUtilities"></a>Enabling the oaScan Utilities</h3>

<p>
<a id="pgfId-1065621"></a>By default, the oaScan utilities are hidden in Virtuoso. To enable them:</p>

<ul><li>
<a id="pgfId-1066618"></a>Type the following in the CIW:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1066427">
<a id="pgfId-1066427"></a>load(prependInstallPath(&quot;etc/tools/cdba/cdsScanUI.il&quot;))</pre><br />
<a id="pgfId-1066641"></a><div class="webflare-div-image">
<img width="635" height="152" src="images/oaScanVirtuoso-2.gif" /></div>
<a id="pgfId-1066587"></a>The <em>oaScan</em> menu is added to the menu bar:<br />
<a id="pgfId-1066659"></a><div class="webflare-div-image">
<img width="635" height="152" src="images/oaScanVirtuoso-3.gif" /></div></li></ul>






<h3>
<a id="pgfId-1065571"></a><a id="SpecifyingtheoaScanVersiontoUse"></a>Specifying the oaScan Version to Use</h3>

<p>
<a id="pgfId-1066698"></a>By default, the utilities use the version of oaScan shipped with your Virtuoso hierarchy. To check the version installed, type the following in a terminal window:</p>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1066853"></a>%&gt; oaScan -v<br />Tool:     oaScan     oaScan_p040 (22.50)<br /></pre>

<p>
<a id="pgfId-1066849"></a>To use a different version of oaScan (for example, if you have received an updated version from Cadence), set the <code>CDS_OASCAN_EXE</code> shell environment variable to point to the oaScan binary you want to use:</p>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1066700"></a>%&gt; setenv CDS_OASCAN_EXE <code><em>path</em></code>/oaScan</pre>
<h2>
<a id="pgfId-1065574"></a><a id="52482"></a>Scanning a Library</h2>

<p>
<a id="pgfId-1067551"></a>To scan an entire library or a particular design database for OpenAccess issues:</p>
<ol><li>
<a id="pgfId-1067597"></a>From the CIW menu bar, choose <em>oaScan &#8211; Scan Library</em>.<br />
<a id="pgfId-1076370"></a>The <a href="oaScanVirtuoso.html#64487">Scan/Repair Library</a> form is displayed.<br />
<a id="pgfId-1068483"></a><div class="webflare-div-image">
<img width="635" height="351" src="images/oaScanVirtuoso-4.gif" /></div></li><li>
<a id="pgfId-1067599"></a>Specify the name of the library to scan and, optionally, the cell and view names if you want to perform the scan on a particular design database.</li><li>
<a id="pgfId-1067601"></a>Choose a <em>ViewType</em> to limit the scan to only views of the specified type. </li><li>
<a id="pgfId-1067603"></a>Select the <em>Mode</em> in which the design is to be scanned:<ul><li>
<a id="pgfId-1068018"></a><em>Scan</em> reports issues found but does not repair them.</li><li>
<a id="pgfId-1075046"></a><em>Repair</em> automatically repairs any issues found in the database. If your data is managed, you can also use the <em>Checkout data when managed</em> option to check out data from the repository prior to making any repair.</li></ul></li><li>
<a id="pgfId-1068285"></a>Specify a name for the log file (the default is <code>oaScan.log</code>).<br />
<a id="pgfId-1068650"></a>You can also specify that the log file is always displayed on completion and that it lists all designs processed rather than only those that have issues.</li><li>
<a id="pgfId-1069523"></a>Click <em>OK</em> to scan the specified database.</li></ol>
















<h2>
<a id="pgfId-1065576"></a><a id="23663"></a>Scanning a Hierarchy</h2>

<p>
<a id="pgfId-1069041"></a>You can scan all the cellviews in a specific design hierarchy, starting from a specified top-level cellview. oaScan traverses the design hierarchy and generates a shell script containing one oaScan call for each cellview in the hierarchy.</p>
<p>
<a id="pgfId-1068944"></a>To do this:</p>
<ol><li>
<a id="pgfId-1068977"></a>From the CIW menu bar, choose <em>oaScan &#8211; Scan Hierarchy</em>. <br />
<a id="pgfId-1076430"></a>The <a href="oaScanVirtuoso.html#19079">Scan/Repair Hierarchy</a> form is displayed.<br />
<a id="pgfId-1068981"></a><div class="webflare-div-image">
<img width="635" height="256" src="images/oaScanVirtuoso-5.gif" /></div></li><li>
<a id="pgfId-1068982"></a>Specify the library, cell and view names of the top-level cellview.</li><li>
<a id="pgfId-1068989"></a>Specify a name for the log file (the default is <code>cdsScanHier.log</code>).</li><li>
<a id="pgfId-1069299"></a>Check the <em>Always View Log File</em> box to specify that the log file is always displayed on completion of the scan.</li><li>
<a id="pgfId-1068987"></a>Check the <em>Repair</em> box to automatically repair any issues found in the design hierarchy.</li><li>
<a id="pgfId-1068988"></a>Click <em>OK</em> to scan the hierarchy.</li></ol>











<h2>
<a id="pgfId-1065578"></a><a id="19970"></a>Scanning Cellviews Automatically during Save</h2>

<p>
<a id="pgfId-1069683"></a>Instead of manually calling oaScan after each design update, you can run the check automatically any time you save data to disk. The software first makes a backup copy of the pre-save database and then runs oaScan on the newly-saved data. If a data issue has been introduced in the session since the last save, the backup copy can be restored.</p>

<h3>
<a id="pgfId-1065579"></a><a id="EnablingScanonSave"></a><a id="10856"></a>Enabling Scan on Save</h3>

<p>
<a id="pgfId-1069646"></a>To enable Scan On Save:</p>
<ol><li>
<a id="pgfId-1069649"></a>From the CIW menu bar, choose <em>oaScan &#8211; Scan On Save</em>.<br />
<a id="pgfId-1070079"></a>The <a href="oaScanVirtuoso.html#78059">Scan On Save</a> form is displayed.<br />
<a id="pgfId-1069654"></a><div class="webflare-div-image">
<img width="635" height="234" src="images/oaScanVirtuoso-6.gif" /></div></li><li>
<a id="pgfId-1069655"></a>Check the <em>Enable Scan On Save</em> box to switch on the feature.</li><li>
<a id="pgfId-1069659"></a>Click <em>OK</em> to save the settings.<br />
<a id="pgfId-1070356"></a>Whenever you save a cellview, Virtuoso automatically makes a backup copy of the cellview and runs oaScan. <ul><li>
<a id="pgfId-1070597"></a>If the cellview is clean, a message to confirm this is issued in the CIW.</li><li>
<a id="pgfId-1070603"></a>If the saved data has an issue, Virtuoso pops up a dialog where you can confirm what action to take next. See <a href="oaScanVirtuoso.html#80867">Handling Scan On Save Results</a> for more information.</li></ul></li></ol>













<h3>
<a id="pgfId-1065572"></a><a id="SpecifyingtheLocationofScanOnSaveLogFiles"></a><a id="88449"></a>Specifying the Location of Scan On Save Log Files</h3>

<p>
<a id="pgfId-1067139"></a>By default, the log files generated by Scan On Save are saved to the <code>/tmp</code> directory.</p>
<p>
<a id="pgfId-1067371"></a>Cadence recommends that you create a central location in which to store log files and point to it using the <code>CDS_SCANLOG</code> shell environment variable. For example:</p>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1067143"></a>setenv CDS_SCANLOG &quot;DIR=/home/<code><em>user</em></code>/scanlogs&quot;</pre>

<p>
<a id="pgfId-1075977"></a>This lets you collect all oaScan log files in one place allowing you to easily locate and forward them to Cadence if required.</p>

<h3>
<a id="pgfId-1070558"></a><a id="HandlingScanOnSaveResults"></a><a id="80867"></a>Handling Scan On Save Results</h3>

<p>
<a id="pgfId-1070974"></a>If the scan reveals an issue in the saved data, Virtuoso pops up a dialog where you can confirm what action to take next. </p>
<p>
<a id="pgfId-1076549"></a>If the data contained an oaScan issue before the save, you see the dialog below:</p>

<p>
<a id="pgfId-1083399"></a></p>
<div class="webflare-div-image">
<img width="664" height="453" src="images/oaScanVirtuoso-7.gif" /></div>

<p>
<a id="pgfId-1083424"></a>If an oaScan issue was found when the original data was clean, you see the dialog below:</p>

<p>
<a id="pgfId-1083408"></a></p>
<div class="webflare-div-image">
<img width="668" height="500" src="images/oaScanVirtuoso-8.gif" /></div>
<h3>
<a id="pgfId-1083463"></a><a id="RepairingIssuesAutomatically"></a><a id="15546"></a>Repairing Issues Automatically</h3>

<p>
<a id="pgfId-1083464"></a>To suppress the Scan On Save results dialogs and automatically repair any issues found, check the <em>Quiet</em> box in the Scan On Save form. When this setting is enabled, no dialog is popped up and oaScan attempts to automatically repair the cellview if required.</p>

<p>
<a id="pgfId-1083465"></a></p>
<div class="webflare-div-image">
<img width="473" height="124" src="images/oaScanVirtuoso-9.gif" /></div>
<h2>
<a id="pgfId-1083502"></a>Forms</h2>

<p>
<a id="pgfId-1083503"></a>This section describes the forms available from the oaScan menu.</p>
<ul><li>
<a id="pgfId-1083507"></a><a href="oaScanVirtuoso.html#19079">Scan/Repair Hierarchy</a></li><li>
<a id="pgfId-1083511"></a><a href="oaScanVirtuoso.html#64487">Scan/Repair Library</a></li><li>
<a id="pgfId-1083515"></a><a href="oaScanVirtuoso.html#78059">Scan On Save</a></li></ul>



<h3>
<a id="pgfId-1083518"></a><a id="Scan/RepairHierarchy"></a><a id="19079"></a>Scan/<a id="oaScanHierarchy"></a>Repair Hierarchy</h3>

<p>
<a id="pgfId-1083519"></a>Use <strong>
Scan/Repair Hierarchy</strong>
 to scan all the cellviews in a specific design hierarchy, starting from the specified top-level cellview. The software traverses the design hierarchy and generates a shell script containing one oaScan call for each cellview in the hierarchy.</p>
<p>
<a id="pgfId-1083520"></a><strong>
Library</strong>
, <strong>
Cell</strong>
, and <strong>
View</strong>
 let you specify the top-level cellview of the hierarchy to be processed.</p>
<p>
<a id="pgfId-1083521"></a><strong>
Log File</strong>
 specifies the name of the log file generated by oaScan. The default is <code>cdsScanHier.log</code>.</p>

<p class="webflare-indent1">
<a id="pgfId-1083522"></a><strong>
Always View Log File</strong>
 displays the log file on the desktop after each run.</p>
<p class="webflare-indent1">
<a id="pgfId-1083523"></a><strong>
Repair</strong>
 automatically repairs any issues found in the design hierarchy.</p>
<h4><em>
<a id="pgfId-1083524"></a>Related Topic</em></h4>

<p>
<a id="pgfId-1083528"></a><a href="oaScanVirtuoso.html#23663">Scanning a Hierarchy</a></p>

<h3>
<a id="pgfId-1083531"></a><a id="Scan/RepairLibrary"></a><a id="64487"></a>Scan/<a id="oaScanLibrary"></a>Repair Library</h3>

<p>
<a id="pgfId-1083532"></a>Use <strong>
Scan/Repair Library</strong>
 to scan an entire library or a specific design database for OpenAccess issues.</p>
<p>
<a id="pgfId-1083533"></a><strong>
Library</strong>
 specifies the library to be scanned.</p>
<p>
<a id="pgfId-1083534"></a><strong>
Cell</strong>
 lets you specify the name of a cell to be processed. If not specified, all the cells in the library are processed.</p>
<p>
<a id="pgfId-1083535"></a><strong>
View</strong>
 lets you specify a view name to be processed. If the <em>Cell</em> option is specified, oaScan processes the cellview in question. If the <em>Cell</em> option is not specified, all views with the specified name are processed.</p>
<p>
<a id="pgfId-1083536"></a><strong>
ViewType</strong>
 limits the scan to databases of the selected type.</p>
<p>
<a id="pgfId-1083537"></a><strong>
Mode</strong>
 lets you choose the mode in which the design is processed.</p>
<ul><li>
<a id="pgfId-1083538"></a><em>Scan</em> reports issues found but does not repair them</li><li>
<a id="pgfId-1083539"></a><em>Repair</em> automatically repairs any issues found in the database<br />
<a id="pgfId-1083540"></a><strong>
Checkout data when managed</strong>
 attempts to automatically check out and repair managed data when required. (This option is available only if your data is managed.)</li></ul>




<p>
<a id="pgfId-1083541"></a><strong>
Log File</strong>
 specifies the name of log file generated by oaScan. The default is <code>oaScan.log</code>.</p>

<p class="webflare-indent1">
<a id="pgfId-1083542"></a><strong>
Always View Log File</strong>
 displays the log file on the desktop after each oaScan run.</p>
<p class="webflare-indent1">
<a id="pgfId-1083543"></a><strong>
Verbose Log File</strong>
 list in the log file information on all the designs processed rather than only those that have issues.</p>
<h4><em>
<a id="pgfId-1083544"></a>Related Topic</em></h4>

<p>
<a id="pgfId-1083548"></a><a href="oaScanVirtuoso.html#52482">Scanning a Library</a></p>

<h3>
<a id="pgfId-1083551"></a><a id="ScanOnSave"></a><a id="78059"></a>Scan <a id="oaScanOnSave"></a>On Save</h3>

<p>
<a id="pgfId-1083552"></a>Use the <strong>
Scan On Save</strong>
 form to run oaScan automatically any time you save data to disk.</p>
<p>
<a id="pgfId-1083553"></a><strong>
Enable Scan On Save</strong>
 switches on automatic checking during cellview save.</p>
<p>
<a id="pgfId-1083554"></a><strong>
Quiet (no dialog, auto-repair)</strong>
 suppresses the pop up results dialog and attempts to automatically repair any issue found.</p>

<h4><em>
<a id="pgfId-1083555"></a>Related Topics</em></h4>

<p>
<a id="pgfId-1083559"></a><a href="oaScanVirtuoso.html#88449">Specifying the Location of Scan On Save Log Files</a></p>
<p>
<a id="pgfId-1083563"></a><a href="oaScanVirtuoso.html#10856">Enabling Scan on Save</a></p>
<p>
<a id="pgfId-1083567"></a><a href="oaScanVirtuoso.html#80867">Handling Scan On Save Results</a></p>
<p>
<a id="pgfId-1083571"></a><a href="oaScanVirtuoso.html#15546">Repairing Issues Automatically</a></p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="diagnostics.html" id="prev" title="Diagnostics">Diagnostics</a></em></b><b><em><a href="glossary.html" id="nex" title="Glossary of Terms">Glossary of Terms</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2020, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>