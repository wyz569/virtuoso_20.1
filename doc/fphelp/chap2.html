
<html><head><title>Floorplanning: An Overview</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="spriya" />
<meta name="CreateDate" content="2020-09-20" />
<meta name="CreateTime" content="1600670091" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="You can use this manual as a reference for the Virtuoso Floorplanner, which includes automatic and interactive floorplanning tools that let you specify the rough topology of a physical chip." />
<meta name="DocTitle" content="Virtuoso Floorplanner User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Floorplanning: An Overview" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.2.1" />
<meta name="Keyword" content="fphelp" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2020-09-20" />
<meta name="ModifiedTime" content="1600670091" />
<meta name="NextFile" content="chap3.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="preface.html" />
<meta name="c_product" content="Virtuoso Layout Suite" />
<meta name="Product" content="Virtuoso Layout Suite" />
<meta name="ProductFamily" content="Virtuoso Layout Suite" />
<meta name="ProductVersion" content="ICADVM20.1" />
<meta name="RightsManagement" content="Copyright 2012-2020 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Floorplanner User Guide -- Floorplanning: An Overview" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="ICADVM20.1" />
<meta name="SpaceKey" content="fphelpICADVM201" />
<meta name="webflare-version" content="2.0" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="fphelpTOC.html">Contents</a></li><li><a class="prev" href="preface.html" title="Preface">Preface</a></li><li style="float: right;"><a class="viewPrint" href="fphelp.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="chap3.html" title="Generating a Physical Hierarchy">Generating a Physical Hierarch ...</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Floorplanner User Guide<br />Product Version ICADVM20.1, October 2020</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>1
<a id="pgfId-1076580"></a></h1>
<h1>
<a id="pgfId-1076582"></a><hr />
<a id="21150"></a>Floorplanning: An Overview<hr />
</h1>

<p>
<a id="pgfId-1088519"></a>This chapter contains th<a id="vfpPGGForm"></a>e following sections: </p>
<ul><li>
<a id="pgfId-1099431"></a><a href="chap2.html#91230">Introduction to Virtuoso Floorplanner</a></li><li>
<a id="pgfId-1093682"></a><a href="chap2.html#58473">Floorplanner Prerequisites</a></li><li>
<a id="pgfId-1088523"></a><a href="chap2.html#64614">Constraint Group Lookup Precedence</a></li><li>
<a id="pgfId-1088534"></a><a href="chap2.html#60639">Layer-Purpose Pair and Voltage Dependent Rules in Floorplanning</a></li><li>
<a id="pgfId-1088664"></a><a href="chap2.html#33746">Support for Net PROs in Virtuoso Floorplanner</a></li><li>
<a id="pgfId-1088564"></a><a href="chap2.html#77450">Preparing Data for Floorplanning</a></li><li>
<a id="pgfId-1088587"></a><a href="chap2.html#80568">Floorplanning Design Flow</a></li><li>
<a id="pgfId-1088610"></a><a href="chap2.html#26664">Floorplan Commands</a></li><li>
<a id="pgfId-1088632"></a><a href="chap2.html#25251">Using the Floorplanner Command-Line Flow</a></li></ul>









<h2>
<a id="pgfId-1099330"></a><a id="91230"></a>Introduction to Virtuoso Floorplanner</h2>

<p>
<a id="pgfId-1092802"></a>The Virtuoso Layout Suite includes the <em>Floorplan</em> menu that lets you develop a layout from a schematic in a hierarchical manner. Floorplanner enables you to estimate area and to work with hierarchy early in the design cycle, thus enabling you to adopt a top-down approach to design, a bottom-up approach, or a mix of both methods. </p>
<p>
<a id="pgfId-1099897"></a>The following diagram shows how Virtuoso Floorplanner fits in the overall Virtuoso design flow: </p>

<p>
<a id="pgfId-1099900"></a></p>
<div class="webflare-div-image">
<img width="668" height="484" src="images/chap2-2.gif" /></div>

<p>
<a id="pgfId-1092802"></a>Some of the powerful Floorplanner features include:</p>
<ul><li>
<a id="pgfId-1092803"></a><strong>Pre-Partitioning: </strong>Configures the hierarchy, that is creates soft blocks at any level in the logical hierarchy. You can use custom area estimators to determine the block size and classify blocks as digital or custom right at the entry stage.</li><li>
<a id="pgfId-1092805"></a><strong>Design Initialization: </strong>Categorizes blocks as I/O, cores, macros, and custom cells, and provides an intuitive interface to start floorplanning. It also creates grids used for pin and block edge snapping.</li><li>
<a id="pgfId-1092807"></a><strong>Automatic I/O Placement: </strong>Provides a connectivity and constraint-driven I/O placer.</li><li>
<a id="pgfId-1092809"></a><strong>Automatic Pin Optimizer: </strong>A connectivity and constraint-driven feature that honors the edge, order and layer constraints.</li></ul>



<p>
<a id="pgfId-1092811"></a>Additionally, you can manually customize the layout using the following options:</p>
<ul><li>
<a id="pgfId-1092812"></a><strong>Rectilinear Block Support: </strong>Includes options to create and edit the PR boundary at the top level (level0) and at the block level (level1). You can apply Chop, Re-shape, Stretch and Move operations at level0 and level1 on multiple PR boundaries with dynamic measurement and automatic pin and edge snapping features.</li><li>
<a id="pgfId-1092814"></a><strong>Pin Adjustment: </strong>Provides options to align, re-layer, and resize pins.</li><li>
<a id="pgfId-1092815"></a><strong>Net Bundling: </strong>Lets you create and edit bundles from nets to keep them together during pin optimization and placement.</li><li>
<a id="pgfId-1092816"></a><strong>Blockage Support:</strong> Lets you to create and edit blockages that are respected by Pin Optimizer and placer.<a id="19680"></a></li></ul>




<h2>
<a id="pgfId-1093479"></a><a id="58473"></a>Floorplanner Prerequisites</h2>

<p>
<a id="pgfId-1099960"></a>Before using Floorplanner, ensure the following:</p>

<ul><li>
<a id="pgfId-1093523"></a>Technology Requirements<br />
<a id="pgfId-1093524"></a>Virtuoso&#174; Floorplanner requires technology-specific information about your design to be stored in a technology file for the design library. For information on creating and editing technology files, see:<ul><li>
<a id="pgfId-1093526"></a> <em><a actuate="user" class="URL" href="../techfileuser/techfileuserTOC.html#firstpage" show="replace" xml:link="simple">Virtuoso Technology Data User Guide</a></em> </li><li>
<a id="pgfId-1093528"></a><em><a actuate="user" class="URL" href="../ascitechconstr/ascitechconstrTOC.html#firstpage" show="replace" xml:link="simple">Virtuoso Technology Data Constraints Reference</a></em> </li></ul><br />
<a id="pgfId-1093529"></a>You can use also use Cadence SKILL functions to query or update the technology file. For more information, see:<ul><li>
<a id="pgfId-1093531"></a><em><a actuate="user" class="URL" href="../sktechfile/sktechfileTOC.html#firstpage" show="replace" xml:link="simple">Virtuoso Technology Data SKILL Reference</a></em> </li><li>
<a id="pgfId-1093533"></a><em><a actuate="user" class="URL" href="../sklayoutref/lx.html#firstpage" show="replace" xml:link="simple">Virtuoso Layout Suite SKILL Reference</a></em></li></ul></li><li>
<a id="pgfId-1093619"></a><a href="chap2.html#64614">Constraint Group Lookup Precedence</a></li><li>
<a id="pgfId-1093663"></a>Licensing Requirements<br />
<a id="pgfId-1095459"></a>In IC6.1.8, floorplanning commands require one of the following licenses combined with 4 GXL tokens:<ul><li>
<a id="pgfId-1095460"></a>Virtuoso_Layout_Suite_XL</li><li>
<a id="pgfId-1095461"></a>Virtuoso_Layout_Suite_GXL</li><li>
<a id="pgfId-1095462"></a>Virtuoso_Layout_Suite_EAD</li></ul><br />
<a id="pgfId-1095463"></a>In ICADVM20.1 floorplanning commands require either:<ul><li>
<a id="pgfId-1095464"></a>A Virtuoso_Layout_Suite_XL license combined with 4 GXL flexible license tokens</li><li>
<a id="pgfId-1095455"></a>A Virtuoso_Layout_Suite_EXL license</li></ul></li></ul>



















<h2>
<a id="pgfId-1076621"></a><a id="64614"></a>Constraint Group Lookup Precedence</h2>

<p>
<a id="pgfId-1077657"></a>A constraint group lets you specify different sets of design constraints to be applied under different circumstances. This allows the flexibility to experiment with less or more stringent process rules at different stages of the design process. For details about constraint groups and how to create them, refer to the <a href="appF.html#26952">Constraint Groups</a> chapter.</p>
<p>
<a id="pgfId-1081103"></a>In Virtuoso, you typically have the following constraint groups as a required minimum. </p>
<ul><li>
<a id="pgfId-1081104"></a>Foundry constraint group<br />
<a id="pgfId-1081105"></a>The <code>Foundry</code> constraints group has the absolute minimum rules that must be followed to create the design. </li><li>
<a id="pgfId-1073932"></a>Active constraint group<br />
<a id="pgfId-1078342"></a>The <code>Active</code> constraints group typically has <code>virtuosoDefaultSetup</code> as the default value.</li></ul>



<p>
<a id="pgfId-1084648"></a>For example during reinitialization, if the <code>minSpacing</code> value for <em>metal3</em> is required, the floorplanner tool searches the minSpacing value in the Active Window Wire constraint group. If the minSpacing value is found in the Active Window Wire constraint group, it is used. The floorplanner tool then searches for the <code>minSpacing</code> value in <code>virtuosoDefaultSetup</code> and then <code>LEFDefaultRouteSpec</code> and if still not found then in <code>foundry</code>.</p>
<p>
<a id="pgfId-1084649"></a>The following figure illustrates the flow of how to look at the information from the techfile or design constraints.</p>

<ffi2-fig-frame-in-2 id="#id1077364">
<a id="pgfId-1077364"></a></ffi2-fig-frame-in-2>
<div class="webflare-div-image">
<img width="667" height="725" src="images/chap2-3.gif" /></div>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1073934"></a>Currently, floorplanning commands do not read the constraints defined on objects.</div>

<p>
<a id="pgfId-1073935"></a>The following section lists the technology file rules that Floorplanning tools require in order to work correctly. For more information about how to define these rules, refer to the <em><a actuate="user" class="URL" href="../ascitechconstr/ascitechconstrTOC.html#firstpage" show="replace" xml:link="simple">Virtuoso Technology Data Constraints Reference</a></em> user guide.</p>
<ul><li>
<a id="pgfId-1073937"></a><code>minSpacing</code> required for all the valid layers and layer purpose pairs</li><li>
<a id="pgfId-1073938"></a><code>minWidth</code> for all the valid layers</li><li>
<a id="pgfId-1078614"></a><code>minVoltageSpacing</code> for all valid layer purpose pairs</li><li>
<a id="pgfId-1073939"></a>Grid information for all the routing metal layers for creating placement and routing grids </li><li>
<a id="pgfId-1073940"></a><code>mfgGridResolution</code> defined in technology file for creating manufacturing grid</li><li>
<a id="pgfId-1073941"></a>Preferred routing direction for all the metal layer </li><li>
<a id="pgfId-1078721"></a>Site definition for creating I/O rows</li><li>
<a id="pgfId-1078722"></a>Standard and custom via defs and standard via variants defined in the technology file to define the spacing type. </li><li>
<a id="pgfId-1078723"></a><code>minEnclosure(minExtensionDistance</code>) and <code>minOppExtension</code> between the via layer and cut layer to define the spacing type</li><li>
<a id="pgfId-1078623"></a>Routing grid information from technology file for pin snapping </li><li>
<a id="pgfId-1080865"></a>Placement grid information for instance snapping</li><li>
<a id="pgfId-1080866"></a>All valid layers defined in the technology file</li></ul>












<h2>
<a id="pgfId-1080867"></a><a id="60639"></a>Layer-Purpose Pair and Voltage Dependent Rules in Floorplanning</h2>

<p>
<a id="pgfId-1083151"></a>While reading the rules from the technology file, Floorplanner now reads layer-purpose-based and voltage-dependent rules, such as <code>minVoltageSpacing</code>, in addition to the layer-only rules. The maximum spacing value available from the voltage-dependent, layer-purpose-based, and layer-based spacing rules is used by Floorplanner as the minimum spacing value. A section of the technology file that defines the <code>minSpacing</code> rules is given below.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1078952"></a>(&quot;virtuosoDefaultExtractorSetup&quot;&#160;&#160;  nil</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1078953"></a>    spacingTables(</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1078954"></a>     ( minSpacing                (&quot;metal1&quot;    &quot;0.8v&quot;)    </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1078955"></a>       (( &quot;width&quot;     nil      nil )     )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1080798"></a>       (</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1080799"></a>         0.3       0.45      </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1080800"></a>         0.4       0.55      </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1080801"></a>       )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1080802"></a>     )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1080803"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1080804"></a>     ( minVoltageSpacing         &quot;metal1&quot;    </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1080805"></a>       (( &quot;voltage&quot;     nil      nil ))</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1080806"></a>       (</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1080807"></a>         0.7    0.60</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1080808"></a>         1.0    0.75</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1080809"></a>      )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1080810"></a>    )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1080811"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1080812"></a>    ) ;spacingTables</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1080813"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1080814"></a>spacings(</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1080815"></a>     ( minWidth                   &quot;metal1&quot;    0.35 )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1080816"></a>     ( minSpacing                 (&quot;metal1&quot;    &quot;0.5v&quot;)    0.30 )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1080817"></a>     ( minSpacing                 &quot;metal1&quot;    0.25 )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1080818"></a>    ) ;spacings</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1080819"></a>) ;virtuosoDefaultExtractorSetup</pre>

<p>
<a id="pgfId-1083267"></a>The following table summarizes the <code>minSpacing</code> values derived from the technology file given above. The values in the table are derived based on the lookup order defined for the <code>minSpacing</code> rule.</p>
<table class="webflareTable" id="#id1083309">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1083311">
<a id="pgfId-1083311"></a>Layer Name</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1083313">
<a id="pgfId-1083313"></a>Layer Purpose</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1083315">
<a id="pgfId-1083315"></a>Constraint Name</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1083317">
<a id="pgfId-1083317"></a>Value/Range</span>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083319"></a><em>Metal1</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083321"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083323"></a>minVoltageSpacing</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083325"></a>0.6, 0.75</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083327"></a><em>Metal1</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083329"></a>0.8v</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083331"></a>minSpacing (depending on the <em>Metal1 </em>width)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083333"></a>0.45, 0.55</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083335"></a><em>Metal1</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083337"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083339"></a>minSpacing</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083341"></a>0.25</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083343"></a><em>Metal1</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083345"></a>0.5v</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083347"></a>minSpacing</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1083349"></a>0.30</p>
</td>
</tr>
</tbody></table>
<p>
<a id="pgfId-1080953"></a>The following examples illustrate how minimum spacing value is determined. The examples are based on the section of the technology file given above.</p>
<p>
<a id="pgfId-1081629"></a>Example 1</p>
<p>
<a id="pgfId-1081643"></a>Consider the following values to know the minimum spacing for Metal1 layer:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1080954"></a>Layer Name = Metal1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1080989"></a>Purpose = 0.8v</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1080955"></a>minWidth = 0.35</pre>

<p>
<a id="pgfId-1080956"></a>The spacing values obtained from the table above are as follows:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1082225"></a>minSpacing value = 0.45 (snapdown minWidth from 0.35 to 0.3)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1082226"></a>minVoltageSpacing value = 0.75 (most conservative value for minVoltageSpacing)</pre>

<p>
<a id="pgfId-1082342"></a>Therefore, minimum spacing for the<em> Metal1</em> layer is as follows:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1082343"></a>MinSpacing Value for (Metal1 0.8v) &amp; width 0.35&#160;&#160;= Max of minSpacing &amp; minVoltageSpacing</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1082532"></a>max (0.45 &amp; 0.75) = 0.75</pre>

<p>
<a id="pgfId-1082806"></a>In this example, consider a scenario where the minimum width for the layer is not specified.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1082807"></a>Layer Name = Metal1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1082808"></a>Purpose = 0.8v</pre>

<p>
<a id="pgfId-1084703"></a>The spacing values obtained from the table above are as follows:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1084704"></a>minSpacing value = 0.55 (max value of the tableSpacing rule)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1084705"></a>minVoltageSpacing value = 0.75</pre>

<p>
<a id="pgfId-1084706"></a>Therefore, minimum spacing for the <em>Metal1</em> layer when minWidth is not specified is as follows:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1084700"></a>MinSpacing Value for (Metal1 0.8v)= Max of minSpacing &amp; minVoltageSpacing</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1082814"></a>max (0.55 &amp; 0.75) = 0.75</pre>

<p>
<a id="pgfId-1082344"></a><a id="48461"></a>Example 2</p>
<p>
<a id="pgfId-1080961"></a>Consider the following values for a layer: </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1080962"></a>Layer Name = Metal1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081015"></a>Purpose = 0.7v</pre>

<p>
<a id="pgfId-1084857"></a>The spacing values obtained from the table above are as follows:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1084858"></a>minSpacing value = 0.25 (as purpose &#8216;0.7v&#8217; does not exists in techfile
&#160;&#160;&#160;&#160;     minSpacing rule, defaults to <em>Metal1</em> layer minSpacing)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1084859"></a>minVoltageSpacing value = 0.75</pre>

<p>
<a id="pgfId-1084754"></a>Therefore, minimum spacing for the<em> Metal1</em> layer is as follows:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1082598"></a>MinSpacing Value for (Metal1 0.7v)= Max of minSpacing &amp; minVoltageSpacing</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1084781"></a>max (0.25 &amp; 0.75) = 0.75</pre>

<p>
<a id="pgfId-1084785"></a>In the example above, if we have width also defined but the layer-purpose pair is not found in the technology file, then the default layer rule is applied. The value derived from the default layer rule is then compared with the <code>minVoltageSpacing</code> rule to get the maximum of the <code>minSpacing</code> value.</p>
<p>
<a id="pgfId-1084786"></a>The layer-purpose-based and voltage-dependent rule support has been added for the following Floorplan commands.</p>
<ul><li>
<a id="pgfId-1079983"></a><a actuate="user" class="URL" href="../vxlhelp/chap4.html" show="replace" xml:link="simple">Configure Physical Hierarchy</a></li><li>
<a id="pgfId-1079999"></a><a actuate="user" class="URL" href="../fphelp/chap7.html#allpinoptimizer" show="replace" xml:link="simple">Pin Optimization</a></li><li>
<a id="pgfId-1080006"></a><a actuate="user" class="URL" href="../fphelp/chap6.html#blockplacerform" show="replace" xml:link="simple">Block Placer</a></li><li>
<a id="pgfId-1084953"></a><a href="chap11.html#38493">Create Soft Pins</a></li><li>
<a id="pgfId-1084967"></a><a href="chap11.html#46360">Snap Pins</a></li><li>
<a id="pgfId-1080027"></a><a href="chap11.html#20534">Snap Pins</a></li><li>
<a id="pgfId-1084989"></a><a href="chap11.html#27579">Pin Alignments</a></li><li>
<a id="pgfId-1084999"></a><a href="chap8.html#79911">Push Pre-Routes</a></li></ul>








<h2>
<a id="pgfId-1080795"></a><a id="33746"></a>Support for Net PR<a id="netpro"></a>Os in Virtuoso Floorplanner</h2>

<p>
<a id="pgfId-1088226"></a>A net process rule override (PRO) is a constraint defined on a specific net to override the generic foundry and design process rules on that net. Use either the <h-hot><a actuate="user" class="URL" href="../constraints/pre.html" show="replace" xml:link="simple">Process Rule Editor</a></h-hot> or the <h-hot><a actuate="user" class="URL" href="../constraints/chap1.html" show="replace" xml:link="simple">Constraint Manager</a></h-hot> to define net PROs. </p>

<div class="webflare-information-macro webflare-macro-video">
<a id="pgfId-1092758"></a>
</div>

<p>
<a id="pgfId-1092746"></a>For quick reference of this feature, refer to the <h-hot><a actuate="user" class="URL" href="https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1Od0000005cdHcEAI&amp;pageName=ArticleContent&amp;sq=005d0000001T41wAAC_20171134543173" show="replace" xml:link="simple">Net Process Rule Overrides (PRO) in VFP</a></h-hot> demonstration.</p>

<p>
<a id="pgfId-1088228"></a></p>
<div class="webflare-div-image">
<img width="668" height="516" src="images/chap2-5.gif" /></div>

<p>
<a id="pgfId-1088230"></a></p>

<div class="webflare-div-image">
<img width="668" height="423" src="images/chap2-6.gif" /></div>

<p>
<a id="pgfId-1088232"></a>The following process rule overrides are supported on nets:</p>
<ul><li>
<a id="pgfId-1088233"></a>Minimum Spacing Same Layer override on the pin net, which defines the minimum space around each pin.Minimum Width override on the pin net, which defines the minimum width of pins.</li><li>
<a id="pgfId-1088234"></a>Valid Layers override on the pin net, which specifies the layers on which the pins belonging to the net can be placed. There can either be a single or a list of valid layers. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1088237"></a>A net PRO can be defined for both top-level (level-0) and soft block (level-1) nets. </div><ul><li>
<a id="pgfId-1088911"></a>Top-level nets: If a net PRO is defined for a connected top-level net, then the pins are driven by these net PRO values. </li><li>
<a id="pgfId-1088912"></a>Soft block nets: A net PRO defined for a connected soft block net has a higher priority than that defined for a connected top-level net. Therefore, the net PRO values of the connected top-level net are applied only when there are no net PROs definitions for the soft block net.</li></ul></li></ul>







<div class="webflare-information-macro webflare-macro-video">
<a id="pgfId-1092653"></a>
</div>

<p>
<a id="pgfId-1092640"></a>For quick reference of this feature, refer to the <h-hot><a actuate="user" class="URL" href="https://support.cadence.com/wps/mypoc/cos?urile=deeplinkmin:VideoViewer;src=wp;q=Video/Custom_IC_Design/vdn/Net_Process_rule_overrides_VFP.html;DocumentType=video,norcfeat" show="replace" xml:link="simple">Net Process Rule Overrides (PRO) in VFP</a></h-hot> demonstration.</p>
<p>
<a id="pgfId-1097150"></a>Net PRO definitions are honored by the following applications:</p>
<ul><li>
<a id="pgfId-1088239"></a><a actuate="user" class="URL" href="../vxlhelp/chap4.html" show="replace" xml:link="simple">Configure Physical Hierarchy (CPH): </a><ul><li>
<a id="pgfId-1088240"></a>Recognizes the net PROs defined in the schematic and displays corresponding values on the <em>I/O Pins</em> tab of the Soft Block <em>Attributes</em> pane. <br /><ffi2-fig-frame-in-2 id="#id1088407">
<a id="pgfId-1088407"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="668" height="180" src="images/chap2-7.gif" /></div>
<a id="pgfId-1088396"></a>The net PRO values that are read from the schematic are used for initial population of the respective fields. You can override these values manually; but you must ensure that the net PRO constraint values are not violated.</li><li>
<a id="pgfId-1088241"></a>The Generate Physical Hierarchy (GPH) command generates pins in the layout as per the final values of <em>Layer</em>, <em>Width</em>, and <em>Height</em> specified on the <em>I/O Pin</em> tab. </li></ul></li><li>
<a id="pgfId-1089581"></a><strong><a href="chap7.html#28778">Pin Planning</a><strong></strong></strong>:<ul><li>
<a id="pgfId-1089582"></a>When a pin is selected in the pin table, the Pin Planner recognizes the corresponding net PRO and displays the values in the <em>Layer</em>, <em>Width</em>, and <em>Height</em> fields.<br /><ffi2-fig-frame-in-2 id="#id1088450">
<a id="pgfId-1088450"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="668" height="289" src="images/chap2-8.gif" /></div></li><li>
<a id="pgfId-1089243"></a>You can edit these values manually, while ensuring that the net PRO constraint values are not violated. If the specified pin size is less than the <code>minWidth</code> defined in the net PRO, then the pin size is reverted to its original value. <br />
<a id="pgfId-1096629"></a>Example: The current pin width is 0.2 and net PRO specifies a <code>minWidth</code> of 0.3. If you change the pin width to 0.25, then the value rolls back to 0.2, which is the original value.<br />
<a id="pgfId-1089640"></a>If the specified pin <em>Width</em> or <em>Height</em> is equal to or greater than the net PRO value, then the new value is applied. <br />
<a id="pgfId-1096635"></a>Example: The current pin width is 0.2, and the net PRO specifies a <code>minWidth</code> of 0.3. If you change the pin width value to 0.4, then new value is accepted and applied.</li></ul></li><li>
<a id="pgfId-1089248"></a>Pin Optimization:<ul><li>
<a id="pgfId-1088248"></a>Resizes the pins connected to the net to the minimum width specified in the net PRO.</li><li>
<a id="pgfId-1088249"></a>Moves pins that are connected to the net to the valid layers specified in the net PRO.<ul><li>
<a id="pgfId-1089423"></a>If there is a single valid layer, then all pins on the net are re-layered to the valid layer, and the pins are placed at feasible locations to ensure minimum net length. </li><li>
<a id="pgfId-1089461"></a>If there is a list of valid layers, then the behavior depends on the state of the <em>Respect layer priority for valid routing layers constraint on net </em>option in the Floorplan Global Options form (Layout GXL Options form in IC6.1.8). For more information about this option, see <a href="chap9.html#60027">Respecting Layer Priority for Valid Routing Layers</a>.</li></ul></li><li>
<a id="pgfId-1088250"></a>Applies the minimum spacing value mentioned in the net PRO to all pins in the selected net. Examples:<ul><li>
<a id="pgfId-1092290"></a>If the current pin width is 0.3, and net PRO specifies a minWidth of 0.4, then the pin width is increased to 0.4.</li><li>
<a id="pgfId-1089306"></a>If the current pin width is 0.4, and net PRO specifies a minWidth of 0.3, then the pin width is not altered. This is because the net PRO constraint defines the minimum width. The current width is adhering to the minWidth requirement, and so the value remains unaltered.</li></ul></li></ul></li></ul>




























<h2>
<a id="pgfId-1089122"></a><a id="77450"></a>Preparing Data for Floor<a id="PrepFloorplanData"></a>planning</h2>

<p>
<a id="pgfId-1080783"></a>To prepare data for floorplanning, you need to set the cell type and the block type. You also need to set the site information for filler cells. You also need to set the site information for filler cells, if you plan to use IO Placer. For more information, see <a href="chap5.html#19872">I/O Planning and Placement</a>.</p>

<h3>
<a id="pgfId-1076465"></a><a id="95824"></a>Setting the Cell Type</h3>

<p>
<a id="pgfId-1076466"></a>Floorplanner requires information about the celltype to distinguish the cells at the floorplanning level. Floorplanner behaves differently depending on celltype. For example, IO Placer will work on pads only and not on other cells. </p>
<p>
<a id="pgfId-1076467"></a>The following table lists the various celltypes supported by floorplanner and the corresponding Virtuoso Design Environment objects.</p>

<p>
<a id="pgfId-1076505"></a></p>
<table class="webflareTable" id="#id1076468">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1076470">
<a id="pgfId-1076470"></a>Floorplanner</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1076472">
<a id="pgfId-1076472"></a>Virtuoso Design Environment Objects</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1076474">
<a id="pgfId-1076474"></a>OACellType</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076476"></a>IO (Pads)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076478"></a>pads, padSpacer, padAreaIO, corner</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076480"></a>PadCellType, PadSpacerCellType, CornerCellType, PadAreaIOCellType</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076482"></a>Core (Standard Cells)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076484"></a>core, coreSpacer, coreAntenna, coreWellTap</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076486"></a>CoreCellType, CoreSpacerCellType, CoreAntennaCellType, CoreWellTapCellType</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076488"></a>Hard Macro</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076490"></a>coverBump, cover, blockRing, block</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076492"></a>BlockCellType, BlockRingCellType, CoverCellType, CoverBumpCellType</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076494"></a>Soft Layout, Soft Abstract</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076496"></a>softMacro, blockBlackBox</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076498"></a>SoftMacroCellType, BlockBlackBoxCellType</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076500"></a>Cells (Pcells and custom cells)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076502"></a>None</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1076504"></a>NoCellType</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1076506"></a>To set the celltype, click <em>Tools</em> -&gt; <em>Set Cell Type</em> in the CIW. The Set CellType window is displayed as shown below</p>

<p>
<a id="pgfId-1076510"></a>.</p>
<div class="webflare-div-image">
<img width="668" height="341" src="images/chap2-9.gif" /></div>

<p>
<a id="pgfId-1076511"></a>To set the celltype of cell, select the cell name in the list and then select the celltype from the Set Cell Type drop down list. </p>

<h3>
<a id="pgfId-1076512"></a><a id="21910"></a>Setting the Block Type</h3>

<p>
<a id="pgfId-1076513"></a>Floorplanner supports two types of blocks &#8220;custom&#8221; and &#8220;digital&#8221;. By default, the blocktype is &#8220;custom&#8221;. You need to specify the blocktype attribute for the blocks in the design because floorplanner behaves differently for &#8220;custom&#8221; and &#8220;digital&#8221; blocktype. For example, block placer snaps all &#8220;digital&#8221; blocks to the placement grid and all &#8220;custom&#8221; blocks to the manufacturing grid. </p>
<p>
<a id="pgfId-1085552"></a>The following table describes how setting the block type will affect the hard block and soft block origin, prBoundary, and pin snapping.</p>

<p>
<a id="pgfId-1085553"></a></p>
<table class="webflareTable" id="#id1085558">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085664"></a><strong>macroType</strong></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085666"></a><strong>blockType</strong></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085668"></a><strong>Object</strong></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085670"></a><strong>Snapped With Respect To</strong></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085672"></a><strong>Snapping Grid</strong></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085674"></a>Hard Block</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085676"></a>Digital</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085678"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085680"></a>Lower left point</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085682"></a>Placement grid</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085684"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085686"></a>Custom</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085688"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085690"></a>Lower left point</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085692"></a>Manufacturing grid</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085694"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085922"></a>Dummy /</p>
<p>
<a id="pgfId-1085696"></a>Not specified</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085698"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085700"></a>Lower left point</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085702"></a>User grid</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085704"></a>Soft Block</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085706"></a>Digital</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085708"></a>prBoundary</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085710"></a>All boundary points</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085712"></a>Placement grid</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085724"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085726"></a>Custom</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085728"></a>prBoundary</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085730"></a>All boundary points</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085732"></a>Manufacturing grid</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085744"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085959"></a>Dummy /</p>
<p>
<a id="pgfId-1085746"></a>Not specified</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085748"></a>prBoundary</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085750"></a>All boundary points</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1085752"></a>User grid</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1085554"></a>You can define the blocktype parameter using the <em>Soft Blocks</em> tab in the <em>Configure Physical Hierarchy</em> form. </p>
<p>
<a id="pgfId-1086258"></a>In addition to &#8220;custom&#8221; and &#8220;digital&#8221; blocks, a design may contain blocks for which the <code>blockType</code> parameter is not defined. The <em>Default blockType (when unknown) </em>option in the Floorplan Global Options form defines the block type for such blocks. For more information, see <a href="chap9.html#84891">Specifying the Default Block Type</a>.</p>
<p>
<a id="pgfId-1076516"></a>You can also use S<a id="BlockShorcut"></a>KILL to change the blocktype attribute. For example, the following command issued in the CIW modifies the blocktype to &#8220;digital&#8221;: </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1076442"></a>id~&gt;master~&gt;blockType = &#8220;digital&#8221;</pre>

<p>
<a id="pgfId-1077440"></a>You can change the blocktype by descending in the master cellview and set the property to name blocktype, string, value custom or digital. </p>
<p>
<a id="pgfId-1092584"></a>Alternatively, you can select the required block, right-click to display the shortcut menu, select <em>Block</em>, and then select the required block type - <em>Digital</em>, <em>Custom</em>, <em>Any</em>, or <em>As is</em>. When you select multiple blocks of different block types, and then display the shortcut menu, option <em>As is</em> selected by default. <em>As is </em>is not a block type. It signifies that there are multiple block with different types in the selection set. If you select <em>Any</em>, then you can use the Floorplan Global Options form (Layout GXL Options form in IC6.1.8) to specify the pin grid to be used for placing pins during pin optimization. For more information, see <a href="chap9.html#84891">Specifying the Default Block Type</a>.</p>

<h3>
<a id="pgfId-1086282"></a>Setting Site Information for Filler Cells</h3>

<p>
<a id="pgfId-1086283"></a>Before running the floorplanning commands, set the site information for filler cells. To do this, in the layout window, click the <em>File &#8211; Properties</em> command. The Edit Cellview Properties form opens. Use the options in the <em>SitePattern</em> group box to set the site information for filler cells.</p>
<p>
<a id="pgfId-1086285"></a>For more information about editing cellviews, see <h-hot><a actuate="user" class="URL" href="../vlehelp/appA.html#editCellviewPropForm" show="replace" xml:link="simple">Edit Cellview Properties</a></h-hot>.</p>
<p>
<a id="pgfId-1086270"></a>For more information about inserting filler cells, see <a href="chap5.html#67344">Filler Cells</a>.</p>

<h2>
<a id="pgfId-1077402"></a><a id="80568"></a>Floorplanning Design Flow</h2>

<p>
<a id="pgfId-1077633"></a>The following flow diagram shows the primary design flow in Floorplanner.</p>

<p>
<a id="pgfId-1077638"></a></p>
<div class="webflare-div-image">
<img width="669" height="811" src="images/chap2-10.gif" /></div>

<p>
<a id="pgfId-1078290"></a>The floorplanning design flow consists of the following steps. Each of these steps is described later in this guide in detail.</p>
<ul><li>
<a id="pgfId-1070671"></a>Configure the physical hierarchy<br />
<a id="pgfId-1078110"></a>In this step, you specify how a layout implementation is generated from a schematic design. You use the <em>Soft Block</em> mode of the <em>Configure Physical Hierarchy</em> utility to define the soft blocks that will be created by the<em> Generate Physical Hierarchy</em> utility. For details about <em>Configure Physical Hierarchy</em> utility, refer to <a actuate="user" class="URL" href="../vxlhelp/chap4.html#firstpage" show="replace" xml:link="simple">Configuring the Physical Hierarchy</a> in <em>Virtuoso Layout Suite XL User Guide</em>. </li><li>
<a id="pgfId-1070685"></a>Generate the physical hierarchy<br />
<a id="pgfId-1078128"></a>In this step, you generate a physical hierarchy from a logical hierarchy in a schematic. The <em>Generate Physical Hierarchy</em> command creates soft layouts and soft abstracts in the layout canvas corresponding to the configuration view generated by the <em>Configure Physical Hierarchy</em> utility in the previous step. For details, refer to <a href="chap3.html#21150">Generating a Physical Hierarchy</a>.</li><li>
<a id="pgfId-1070708"></a>Reinitialize the design<br />
<a id="pgfId-1078147"></a>In this step, you reinitialize the design to place the cell instances according to their celltypes. When you reinitialize a design, the I/O pads are placed inside the top edge of the design boundary, the standard cells are placed outside the right edge of the design boundary, and the blocks are placed outside the left edge of the design boundary. This improves the legibility of the design. For details, refer to <a href="chap4.html#91238">Reinitializing the Design</a>.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1077245"></a>The Reinitialize command can be run at any step during the design flow if you are not satisfied with the results and want to go back to the previous step.</div></li><li>
<a id="pgfId-1078187"></a>Place I/O Pads<br />
<a id="pgfId-1078188"></a>In this step, you place the I/O pads around the design boundary. The <em>IO Placer</em> utility enables you to place the I/O pads based on connectivity or side and alignment constraints. For details, refer to <a href="chap5.html#19872">I/O Planning and Placement</a>.</li><li>
<a id="pgfId-1071328"></a>Analyze connectivity<br />
<a id="pgfId-1078199"></a>In this step, you analyze connectivity, that is, the number of connection a block has with other blocks, so that during manual floorplanning, you can keep the blocks with more connectivity between them closer to each other. For details, refer to <a href="chap6.html#17985">Placing Blocks</a></li><li>
<a id="pgfId-1078226"></a>Place blocks<br />
<a id="pgfId-1078227"></a>In this step, you place the blocks in the design either manually or automatically. After placing the blocks you can descend into individual blocks and place and route them. You can then return to the top level to place and route the blocks at the top level. For details, refer to <a href="chap6.html#17985">Placing Blocks</a> and <a href="chap8.html#72508">Updating Soft Blocks</a>.</li><li>
<a id="pgfId-1078257"></a>Optimize pins<br />
<a id="pgfId-1078258"></a>In this step, you optimize the pins. Blocks placed together do not guarantee that the net length between the blocks or pins is optimal or the shortest. This is true even for blocks placed by the block placer. Therefore, Pin Optimizer is required to position pins of these blocks to get the shortest possible net lengths at a particular level. 
However, before you optimize pins, you must set the edge constraint on the top-level pins or the level1 pins by using Pin Planner. For details about pin planning, refer to <a actuate="user" class="URL" href="../vcphelp/appB.html#pinPlacementForm" show="replace" xml:link="simple">Pin Planner</a> in the <em>Virtuoso Custom Digital Placer User Guide</em>. For details on optimizing pins, refer to <a href="chap7.html#30747">Pin Placement</a>. </li><li>
<a id="pgfId-1078038"></a>Align pins<br />
<a id="pgfId-1078274"></a>In this step, you align the pins. For details, refer to <a href="chap11.html#27579">Pin Alignments</a>.</li></ul>


















<p>
<a id="pgfId-1088062"></a>To know more about the Virtuoso Floorplanner flow, view or download the <h-hot><a actuate="user" class="URL" href="https://support.cadence.com/wps/myportal/cos/!ut/p/c5/dY1JcoMwAATfwgMoIQUwHNm3iFRiNnNRUYTNAaGEndfbeYCnz90DcvCEFmvXFHM30qIHGchlApFjwEAUVEFUZQElNsZiYLwJGgTpvyET4cU0AdxAfnlZ-EQgoePf8HyKQOaWw26OuLE8sw2J5_RHjttGhB-sXRbdMNjuX1wvvtc1-kUSIc1OBz1yQu9Lany7shQpmrb6vPaJssV80VcLvR9sKHVPCuDh43muUXdNpjiLWX0LSJm986U-pSxW-W8xVHHqnMZmqek6mufqwKvGcSB0x6EC7IeetqJxD-k9HY0!/dl3/d3/L2dBISEvZ0FBIS9nQSEh/" show="replace" xml:link="simple">Virtuoso Floorplanner Flow Rapid Adoption Kit</a></h-hot>. This kit provides information about using various Floorplanner functionalists to increase layout productivity.</p>

<h2>
<a id="pgfId-1078041"></a><a id="26664"></a>Floorplan Commands</h2>

<p>
<a id="pgfId-1093828"></a>The <em>Floorplan</em> commands are available in Virtuoso Layout Suite on the Floorplan menu. The <em>Floorplan</em><a id="71893"></a> menu is available by default in the layout window. To view the Floorplan commands, click the <em>Floorplan</em> menu in the layout window. The <em>Floorplan</em> commands are displayed as shown in the graphic.</p>

<p>
<a id="pgfId-1069281"></a></p>
<div class="webflare-div-image">
<img width="665" height="535" src="images/chap2-11.gif" /></div>
<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1096162"></a>
(ICADVM20.1 Only) In Layout EXL, all Floorplan commands are available under the <em>Plan</em> menu.</div>

<p>
<a id="pgfId-1094142"></a>The <em>Floorplan</em> menu provides commands to manipulate hierarchy and define floorplans. Using the Floorplan commands, you can create a rough topology of the design rather than the final layout solution. You can use these commands to perform floorplanning tasks such as reinitializing a layout, placing I/Os and macros, optimizing pins, and update labels. The <em>Floorplan</em> menu also includes additional commands to update soft blocks, import predefined information from source physical cellviews, create soft pins, snap pins, analyze connectivity, and set floorplanning global options.</p>
<p>
<a id="pgfId-1094143"></a>In addition to the menu commands, there is a Floorplan toolbar that you can use to invoke the floorplan commands. The Floorplan toolbar is available by default as shown in the graphic.</p>

<p>
<a id="pgfId-1087907"></a></p>
<div class="webflare-div-image">
<img width="668" height="259" src="images/chap2-13.gif" /></div>

<p>
<a id="pgfId-1087908"></a>Floorplanner has its own workspace that shows the canvas, the toolbars, the <h-hot><a actuate="user" class="URL" href="../vxlhelp/appF.html#navigatorAssistant" show="replace" xml:link="simple">Navigator</a></h-hot> and <h-hot><a actuate="user" class="URL" href="../vlehelp/appE.html#layoutLPropertyEditor" show="replace" xml:link="simple">Property Editor</a></h-hot> assistants, and <h-hot><a actuate="user" class="URL" href="../vxlhelp/appF.html#annotationBrowser" show="replace" xml:link="simple">Annotation Browser</a></h-hot>.</p>

<p>
<a id="pgfId-1079745"></a></p>
<div class="webflare-div-image">
<img width="668" height="386" src="images/chap2-14.gif" /></div>

<p>
<a id="pgfId-1094235"></a></p>
<p>
<a id="pgfId-1079710"></a>You use the <em>Floorplan</em> commands for:</p>
<ul><li>
<a id="pgfId-1085027"></a><a href="chap3.html#21150">Generating a Physical Hierarchy</a></li><li>
<a id="pgfId-1069904"></a><a href="chap4.html#91238">Reinitializing the Design</a></li><li>
<a id="pgfId-1075451"></a><a href="chap5.html#19872">I/O Planning and Placement</a></li><li>
<a id="pgfId-1075452"></a><a href="chap6.html#17985">Placing Blocks</a></li><li>
<a id="pgfId-1075453"></a><a href="chap8.html#72508">Updating Soft Blocks</a></li><li>
<a id="pgfId-1085070"></a><a href="chap7.html#46301">Pin Optimization</a></li></ul>






<h2>
<a id="pgfId-1085129"></a><a id="25251"></a>Using the Floorplanner Co<a id="fpCommandLine"></a>mmand-Line Flow</h2>

<p>
<a id="pgfId-1085130"></a>Instead of using the GUI commands, you can use the floorplan command-line SKILL APIs to generate a layout from a schematic in a hierarchical manner. These APIs are entered in the CIW. The following figure illustrates the overall design flow for developing a layout from a schematic in a hierarchical manner.</p>

<p>
<a id="pgfId-1085134"></a></p>
<div class="webflare-div-image">
<img src="images/Flow_diag4.GIF" /></div>

<p>
<a id="pgfId-1085135"></a>Each step in the design flow uses a set of SKILL APIs. The <code>lib</code>:<code>cell</code>:<code>view</code>, which represents the name of the library, cell, and view to be referenced in the schematic, is the input for the process. The description of the APIs used in each step is as follows.</p>

<ol><li>
<a id="pgfId-1089741"></a>Define the Physical Configuration (physConfig)<br />
<a id="pgfId-1089744"></a>Use the <a href="../sklayoutref/cph.html#cphCreatePhysConfig">cphCreatePhysConfig</a> API to create a physical configuration (physConfig) corresponding to the specified top-level <code>lib:cell:view</code>. A physConfig comprises multiple files that store design-specific overrides such as the schematic expansion rules and the instance mapping rules.</li><li>
<a id="pgfId-1085140"></a>Define Global Bindings<br />
<a id="pgfId-1085142"></a>Use the <a href="../sklayoutref/cph.html#cphSetViewList">cphSetViewList</a> API to set the logical switch view list for the physical configuration view associated with the specified ID. The list specifies the view names used to descend into a hierarchical design to find schematic views.<br />
<a id="pgfId-1085144"></a>Use the <a href="../sklayoutref/cph.html#cphSetStopList">cphSetStopList</a><code> </code>API to specify the view names to be used to determine the corresponding physical view for a given logical view.</li><li>
<a id="pgfId-1085145"></a>Create Physical Bindings<br />
<a id="pgfId-1085147"></a>Use the <a href="../sklayoutref/cph.html#cphSetCellPhysicalBinding">cphSetCellPhysicalBinding</a> API to set the physical binding for a specified logical cell in the physical configuration associated with the given ID.</li><li>
<a id="pgfId-1085148"></a>Create Soft Block Definitions<br />
<a id="pgfId-1085150"></a>Use the <a href="../sklayoutref/cph.html#cphSbDefineSoftBlock">cphSbDefineSoftBlock</a> API to define a soft block in the physConfig.This API creates CPH data for the soft block to be generated in the layout by using the logical <code>lib:cell:view</code>. The initial I/O pins are automatically generated in the layout and their attributes are configured based on the environment variables.</li><li>
<a id="pgfId-1085152"></a><strong></strong><a id="98253"></a>Edit Soft Block Attributes<br />
<a id="pgfId-1085153"></a>After defining soft blocks in the CPH, use the following APIs to further customize the soft blocks as per your requirements.<ul><li>
<a id="pgfId-1085154"></a>Viewing Soft Blocks and Pin Attributes<br />
<a id="pgfId-1085155"></a>Use the following APIs to view soft block and pin attributes.<ul><li>
<a id="pgfId-1085157"></a><a href="../sklayoutref/cph.html#cphSbGetSoftBlocks">cphSbGetSoftBlocks</a>: Returns a list of defined soft blocks that correspond to the specified g_physConfigId</li><li>
<a id="pgfId-1085159"></a><a href="../sklayoutref/cph.html#cphSbGetSoftBlockId">cphSbGetSoftBlockId</a>: Returns the ID of the soft block corresponding to the specified physConfig and physical <code>lib:cell:view</code></li><li>
<a id="pgfId-1085161"></a><a href="../sklayoutref/cph.html#cphSbGetFilteredIOPins">cphSbGetFilteredIOPins</a>: Filters and displays pin IDs based on the specified arguments</li><li>
<a id="pgfId-1085164"></a><a href="../sklayoutref/cph.html#cphSbGetAllIOPins">cphSbGetAllIOPins: Returns a list of all pin IDs associated with a specific soft block</a></li><li>
<a id="pgfId-1085166"></a><a href="../sklayoutref/cph.html#cphSbDisplayAllIOPinsInfo">cphSbDisplayAllIOPinsInfo</a>: Returns the pin information for all pins corresponding to the specified Physical configuration ID and soft block ID</li><li>
<a id="pgfId-1085168"></a><a href="../sklayoutref/cph.html#cphSbDisplayBoundaryInfo">cphSbDisplayBoundaryInfo</a>: Displays valid boundary attributes such as the boundary type (rectangle or polygon), area, polygon points, aspect ratio, width, height, and utilization</li><li>
<a id="pgfId-1085170"></a><a href="../sklayoutref/cph.html#cphSbGetIOPinId">cphSbGetIOPinId</a>: Returns the pin ID for a specific soft block</li><li>
<a id="pgfId-1085173"></a><a href="../sklayoutref/cph.html#cphSbGetIOPinName">cphSbGetIOPinName: Returns pin name and soft block name; helps verify whether a pin exists</a></li><li>
<a id="pgfId-1085175"></a><a href="../sklayoutref/cph.html#cphSbDisplayIOPinInfo">cphSbDisplayIOPinInfo</a>: Returns all information related to the specified pin</li><li>
<a id="pgfId-1086376"></a><a href="../sklayoutref/cph.html#cphSbDisplayObstruction">cphSbDisplayObstruction</a>: Displays information related to the specified obstruction</li><li>
<a id="pgfId-1086378"></a><a href="../sklayoutref/cph.html#cphSbDisplaySoftBlockAttributes">cphSbDisplayAttributes</a>: Displays the block type, inherited view list, and stop view list of the specified block</li></ul></li><li>
<a id="pgfId-1085180"></a>Customizing Soft blocks<br />
<a id="pgfId-1085181"></a>After viewing the soft block and pin attributes, you may want to customize them. All updates to the soft blocks and pin attributes are stored in the physConfig. <br />
<a id="pgfId-1085182"></a>The following environment variables are honored when editing soft blocks and pins. <ul><li>
<a id="pgfId-1085183"></a>initIOPinLayer</li><li>
<a id="pgfId-1085184"></a>initPinHeight</li><li>
<a id="pgfId-1085185"></a>initPinWidth</li><li>
<a id="pgfId-1085186"></a>initPinMultiplicity</li><li>
<a id="pgfId-1085187"></a>initCreatePadPins</li><li>
<a id="pgfId-1085188"></a>createPinLabel</li></ul><br />
<a id="pgfId-1085189"></a>Depending on the shape and structure of the soft block that you want to edit, choose one of the following APIs:<ul><li>
<a id="pgfId-1085192"></a>Polygon mode: <a href="../sklayoutref/cph.html#cphSbSetPolygonalBoundary">cphSbSetPolygonalBoundary</a></li><li>
<a id="pgfId-1089781"></a><a actuate="user" class="URL" href="../sklayoutref/cph.html#cphSbSetRectangularBoundary" show="replace" xml:link="simple"></a><a actuate="user" class="URL" href="../sklayoutref/cph.html#cphSbSetRectangularBoundary" show="replace" xml:link="simple">Rectangle mode: </a><a actuate="user" class="URL" href="../sklayoutref/cph.html#cphSbSetRectangularBoundary" show="replace" xml:link="simple"><code>cphSbSetRectangularBoundary</code></a></li><li>
<a id="pgfId-1085196"></a>Rectangle mode with utilization input: <a href="../sklayoutref/cph.html#cphSbSetRectangularBoundaryUsingUtil">cphSbSetRectangularBoundaryUtil</a></li></ul><br />
<a id="pgfId-1085198"></a>The following are some additional APIs that you can use to edit soft blocks.<ul><li>
<a id="pgfId-1085200"></a><a href="../sklayoutref/cph.html#cphSbEditIOPin">cphSbEditIOPin</a>: Edits attributes of an I/O pin located at a specific physical location, which is specified as an argument</li><li>
<a id="pgfId-1085202"></a><a href="../sklayoutref/cph.html#cphSbEditIOPinById">cphSbEditIOPinById</a>: Edits an I/O pin with a specific pin ID</li><li>
<a id="pgfId-1085204"></a><a href="../sklayoutref/cph.html#cphSbAddIOPin">cphSbAddIOPin</a>: Adds a new I/O pin to the soft block</li><li>
<a id="pgfId-1085206"></a><a href="../sklayoutref/cph.html#cphSbDefineIOPinLabelFlag">cphSbDefineIOPinLabelFlag</a>: Creates I/O pin labels. </li><li>
<a id="pgfId-1085208"></a><a href="../sklayoutref/cph.html#cphSbDelIOPin">cphSbDelIOPin</a>: Deletes an I/O pin located at a specific physical location</li><li>
<a id="pgfId-1085210"></a><a href="../sklayoutref/cph.html#cphSbDelIOPinById">cphSbDelIOPinById</a>: Deletes the I/O pin with a specific pin ID</li><li>
<a id="pgfId-1085212"></a><a href="../sklayoutref/cph.html#cphSbGetAllIOPins">cphSbGetAllIOPins</a>: Returns a list of all pin IDs associated with the specified soft block</li><li>
<a id="pgfId-1085214"></a><a href="../sklayoutref/cph.html#cphSbGetIOPinId">cphSbGetIOPinId</a>: Returns the required pin ID. After retrieving the required pin IDs, you can use the <a href="../sklayoutref/cph.html#cphSbEditIOPinById">cphSbEditIOPinById</a> or <a href="../sklayoutref/cph.html#cphSbDelIOPinById">cphSbDelIOPinById</a> to edit or delete the retrieved pins.</li><li>
<a id="pgfId-1085219"></a><a href="../sklayoutref/cph.html#cphSbIsValidIOPin">cphSbIsValidIOPin</a>: Verifies whether a pin exists in a soft block</li><li>
<a id="pgfId-1085221"></a><a href="../sklayoutref/cph.html#cphSbDefineObstruction">cphSbDefineObstruction</a>: Adds an obstruction or blockage within a soft block</li><li>
<a id="pgfId-1085223"></a><a href="../sklayoutref/cph.html#cphSbDelObstruction">cphSbDelObstruction</a>: Deletes an obstruction from a soft block</li><li>
<a id="pgfId-1085225"></a><a href="../sklayoutref/cph.html#cphSbEditSoftBlockAttributes">cphSbEditSoftBlockAttributes</a>: Edits the block type, inherited view list, and stop view list</li><li>
<a id="pgfId-1087651"></a><a href="../sklayoutref/cph.html#cphSbLoadSoftBlocks">cphSbLoadSoftBlocks</a>: Loads soft block data from the specified floorplan property file. When soft blocks are loaded, the instance and cell bindings between schematic and physical views of blocks are re-established based on the specifications in the floorplan property file.</li><li>
<a id="pgfId-1087639"></a><a href="../sklayoutref/cph.html#cphSbSaveSoftBlocks">cphSbSaveSoftBlocks</a>: Saves soft block data to the specified floorplan property file</li><li>
<a id="pgfId-1085227"></a><a href="../sklayoutref/cph.html#cphSbRemoveSoftBlock">cphSbRemoveSoftBlock</a>: Removes the soft block that is associated with the specified ID</li><li>
<a id="pgfId-1088117"></a><a href="../sklayoutref/cph.html#cphSbDefineCovObstruction">cphSbDefineCovObstruction</a>: Defines cover obstructions</li><li>
<a id="pgfId-1088118"></a><a href="../sklayoutref/cph.html#cphSbDelCovObstruction">cphSbDelCovObstruction</a>: Deletes cover obstructions</li><li>
<a id="pgfId-1088119"></a><a href="../sklayoutref/cph.html#cphSbDisplayCovObstructionInfo">cphSbDisplayCovObstructionInfo</a>: Displays information about cover obstructions</li><li>
<a id="pgfId-1088105"></a><a href="../sklayoutref/cph.html#cphSbHasCovObstruction">cphSbHasCovObstruction</a>: Checks for the presence of cover obstructions in a soft block</li></ul></li></ul></li><li>
<a id="pgfId-1085228"></a>Save the Physical Configuration<br />
<a id="pgfId-1085229"></a>The configuration settings remain as the transient data until you save them to the disk. Use the <a href="../sklayoutref/cph.html#cphSaveConfig">cphSaveConfig</a> API to save the current physical configuration settings. You can save the settings at any point when configuring the physical hierarchy. The saved settings take effect the next time you generate or update the layout view.</li><li>
<a id="pgfId-1085231"></a>Generate the Layout<br />
<a id="pgfId-1085233"></a>After customizing soft blocks, use the <a href="../sklayoutref/vfp.html#vfpCPHGenPhysicalHierNoPropFile">vfpCPHGenPhysicalHierNoPropFile</a> API to generate the physical hierarchy. Soft layouts and soft abstracts are created in the layout canvas corresponding to the configuration that you defined.</li><li>
<a id="pgfId-1085235"></a><a id="36286"></a>Perform Floorplanning and Placement<br />
<a id="pgfId-1085236"></a>After generating the physical configuration in the layout canvas, you can perform the following floorplanning and placement tasks:<ul><li>
<a id="pgfId-1085237"></a>I/O Placement: I/O Placement is a row-based placement methodology in which you perform the following tasks in sequence:<ul><li>
<a id="pgfId-1085239"></a>Create I/O rows.</li><li>
<a id="pgfId-1085240"></a>Place pads inside the I/O rows.</li><li>
<a id="pgfId-1085241"></a>Insert filler cells in the gaps between the pads and rows.</li><li>
<a id="pgfId-1085242"></a>Place corner cells in the four corners of the design.</li></ul></li><li>
<a id="pgfId-1085243"></a>Floorplanning and Placement: Floorplanning and placement involves placing all instances in a design and minimizing the overall wire length and chip area. Depending on the type of instances that you want to place, choose from the following automatic placement tools:<ul><li>
<a id="pgfId-1085245"></a>Block Placer (under Virtuoso&#174; Floorplanner): For placing blocks</li><li>
<a id="pgfId-1085246"></a>Virtuoso&#174; Custom Placer: For placing standard cells</li><li>
<a id="pgfId-1085247"></a>Virtuoso&#174; Analog Placer: For placing Pcells and other custom cells</li></ul></li></ul><br />
<a id="pgfId-1085248"></a>During floorplanning and placement, you may need to further edit soft block attributes, such as the boundary, pins, and obstructions.<br />
<a id="pgfId-1085252"></a>In <a href="chap2.html#98253">Edit Soft Block Attributes</a>, updates to the soft block and pin attributes were stored in physConfig. At that point, the instances were not available on the layout canvas. However, in <a href="chap2.html#36286">Perform Floorplanning and Placement</a>, modifications are made to instances after they are generated on the layout canvas.<br />
<a id="pgfId-1085256"></a>Instead of using the GUI to run the floorplanning commands, you can use the following command-line APIs to perform the corresponding editing tasks.<br />
<a id="pgfId-1085257"></a>Soft Block Boundaries<ul><li>
<a id="pgfId-1085259"></a><a href="../sklayoutref/vfp.html#vfpSbSetPolygonalBoundary">vfpSbSetPolygonalBoundary</a>: Modifies the co-ordinates of polygonal soft blocks</li><li>
<a id="pgfId-1085261"></a><a href="../sklayoutref/vfp.html#vfpSbSetRectangularBoundary">vfpSbSetRectangularBoundary</a>: Modifies the co-ordinates of rectangular soft blocks</li></ul><br />
<a id="pgfId-1085262"></a>Editing I/O Pins<ul><li>
<a id="pgfId-1085264"></a><a href="../sklayoutref/vfp.html#vfpSbEditIOPin">vfpSbEditIOPin</a>: Edits attributes of an existing I/O pin</li></ul><br />
<a id="pgfId-1085265"></a>Editing Obstructions<ul><li>
<a id="pgfId-1085267"></a><a href="../sklayoutref/vfp.html#vfpSbDefineObstruction">vfpSbDefineObstruction</a>: Adds obstructions</li><li>
<a id="pgfId-1085269"></a><a href="../sklayoutref/vfp.html#vfpSbDeleteObstruction">vfpSbDeleteObstruction</a>: Deletes obstructions</li></ul><br />
<a id="pgfId-1085270"></a>Editing Soft Block Attributes<ul><li>
<a id="pgfId-1085272"></a><a href="../sklayoutref/vfp.html#vfpSbEditSoftBlockType">vfpSbEditSoftBlockType</a>: Modifies the block type of soft blocks</li></ul></li><li>
<a id="pgfId-1085273"></a>Optimize Pins<br />
<a id="pgfId-1085274"></a>In this step, you optimize the pins. Pin Optimizer optimizes the positions of top-level and soft block pins to achieve the shortest possible aggregated net length.<br />
<a id="pgfId-1085276"></a>Use the <a href="../sklayoutref/vfp.html#vpaOptimizePins">vpaOptimizePins </a>command-line API to run pin optimization without opening the <em>Pin Optimization</em> GUI.</li></ol>

















































































































<h4>
<a id="pgfId-1085277"></a>Example</h4>

<p>
<a id="pgfId-1085278"></a>This example uses APIs to define and edit soft blocks and pins before generating the physical hierarchy.</p>
<p>
<a id="pgfId-1085279"></a>In this example, the following environment variables are set before starting the physical configuration. These environment variables provide default values for layer, pin height, and pin width to be applied when defining individual blocks and pins.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1085280"></a><code>envSetVal(&quot;layoutXL&quot; &quot;initIOPinLayer&quot; &#39;string &quot;metal1 pin&quot;)</code></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1085281"></a><code>envSetVal(&quot;layoutXL&quot; &quot;initPinHeight&quot; &#39;float 2.0)</code></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1085282"></a><code>envSetVal(&quot;layoutXL&quot; &quot;initPinWidth&quot; &#39;float 2.0)</code></pre>
<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1085283"></a>
Setting environment variables is an optional step. If not set, however, you need to specify values for these parameters when defining individual the blocks and pins.</div>

<p>
<a id="pgfId-1085284"></a>The first step in the design flow is to define a physConfig by using the <a href="../sklayoutref/cph.html#cphCreatePhysConfig">cphCreatePhysConfig</a> API, with the <code>lib:cell:view</code> of the layout and schematic as parameters. A unique physConfig ID is returned. In the following code, the physConfig ID for the top-level soft block is assigned to variable <code>cphId</code>. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1085286"></a><code>cphId = cphCreatePhysConfig(&quot;design&quot; &quot;top_level&quot; &quot;physConfig_example&quot; &quot;design&quot; &quot;top_viewtest&quot; &quot;schematic&quot;)</code></pre>

<p>
<a id="pgfId-1085287"></a>Next, you define soft blocks by using the <code>cphSbDefineSoftBlock </code>API. This API creates CPH data for the soft block to be generated in the layout by using the specified logical <code>lib:cell:view</code>. Here, <code>sbID</code> is the top-level block and <code>sbB1</code> and <code>sbB2</code> are other design-level soft blocks.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1085288"></a><code>sbId = cphSbDefineSoftBlock(cphId 
&#160;&#160;&#160;&#160;      &quot;design&quot;<br />       &quot;top_level&quot;<br />       &quot;layout_example&quot;<br />       ?logLib &quot;design&quot;<br />       ?logCell &quot;top_level&quot;<br />       ?logView &quot;schematic&quot;<br />       )</code></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1085296"></a><code>sbB1 = cphSbDefineSoftBlock(cphId 
&#160;&#160;&#160;&#160;      &quot;design&quot;<br />       &quot;block1&quot;<br />       &quot;layout_example&quot;<br />       ?logLib &quot;design&quot;<br />       ?logCell &quot;block1&quot;<br />       ?logView &quot;schematic&quot;<br />       )</code></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1085304"></a><code>sbB3 = cphSbDefineSoftBlock(cphId 
&#160;&#160;&#160;&#160;      &quot;design&quot;<br />       &quot;block3&quot;<br />       &quot;layout_example&quot;<br />       ?logLib &quot;design&quot;<br />       ?logCell &quot;block3&quot;<br />       ?logView &quot;schematic&quot;<br />       )</code></pre>

<p>
<a id="pgfId-1085312"></a>After defining soft blocks, their boundaries are defined.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1085313"></a><code>foreach(sb list(sbB1 sbB3)
&#160;&#160;&#160;&#160; cphSbSetRectangularBoundary(cphId sb 50 50)<br />  )</code></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1085316"></a><code>cphSbSetRectangularBoundary(cphId sbId 400 400)</code></pre>

<p>
<a id="pgfId-1085317"></a>Here, the <code>foreach(sb list(sbB1 sbB2)</code> function includes the IDs of all the soft blocks for which boundaries need to be created. The <a href="../sklayoutref/cph.html#cphSbSetRectangularBoundary">cphSbSetRectangualarBoundary</a> specifies that the boundary should be rectangular in shape. The parameters of this API are the physConfig ID, the soft lock ID, and the dimensions of the rectangular boundary. </p>
<p>
<a id="pgfId-1085319"></a>Next, the pins are defined.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1085320"></a><code>foreach(pinId cphSbGetAllIOPins(cphId sbId)</code></pre>

<p>
<a id="pgfId-1085322"></a>The <a href="../sklayoutref/cph.html#cphSbGetAllIOPins">cphSbGetAllIOPins</a><code> </code>API retrieves the IDs of all the pin located at the top level. The parameters for this API are the physConfig ID (<code>cphId</code>) and the corresponding soft block ID (<code>sbId</code>). The dimensions of the pins are based on the values you specified when defining the environment variables. If required, you can edit the dimensions of the pins by using the <a href="../sklayoutref/cph.html#cphSbEditIOPinById">cphSbEditIOPinById</a><code> </code>API. You can also use this API to you can create and edit pins for the remaining soft blocks.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1085324"></a><code>cphSbEditIOPinById(cphId pinId ?lpp &quot;metal3 drawing&quot; ?width 10.0 ?height 10.0 ?sigType &quot;signal&quot;)</code></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1085325"></a><code>foreach(pinId cphSbGetAllIOPins(cphId sbB1)</code></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1085326"></a><code>cphSbEditIOPinById(cphId pinId ?lpp &quot;metal1 drawing&quot; ?width 5.0 ?height 5.0 ?sigType &quot;signal&quot;)</code></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1085327"></a><code>)</code></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1085328"></a><code>foreach(pinId cphSbGetAllIOPins(cphId sbB3)</code></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1085329"></a><code>cphSbEditIOPinById(cphId pinId ?lpp &quot;metal1 drawing&quot; ?width 3.0 ?height 3.0 ?sigType &quot;signal&quot;)</code></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1085330"></a><code>)</code></pre>

<p>
<a id="pgfId-1085331"></a>After specifying all required configuration settings, the configuration settings are saved to the disk.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1085332"></a><code>cphSaveConfig(cphId)</code></pre>

<p>
<a id="pgfId-1085333"></a>The final step is to generate the physical hierarchy in the layout canvas without specifying the floorplan property file using the <a href="../sklayoutref/vfp.html#vfpCPHGenPhysicalHierNoPropFile">vfpCPHGenPhysicalHierNoPropFile</a><code> </code>API.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1085335"></a><code>vfpCPHGenPhysicalHierNoPropFile(&quot;design&quot; &quot;top_level&quot; &quot;schematic&quot; &quot;design&quot; &quot;top_level&quot; &quot;layout_example&quot;)</code></pre>

<p>
<a id="pgfId-1085336"></a>The <code>lib:cell:view </code>of the schematic and layout are specified as the parameters.</p>
<p>
<a id="pgfId-1085337"></a>You can now perform floorplanning, placement, and pin optimization.</p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="preface.html" id="prev" title="Preface">Preface</a></em></b><b><em><a href="chap3.html" id="nex" title="Generating a Physical Hierarchy">Generating a Physical Hierarch ...</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2020, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>