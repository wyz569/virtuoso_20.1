
<html><head><title>Constraint Groups</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="spriya" />
<meta name="CreateDate" content="2020-09-20" />
<meta name="CreateTime" content="1600670083" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="You can use this manual as a reference for the Virtuoso Floorplanner, which includes automatic and interactive floorplanning tools that let you specify the rough topology of a physical chip." />
<meta name="DocTitle" content="Virtuoso Floorplanner User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Constraint Groups" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.2.1" />
<meta name="Keyword" content="fphelp" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2020-09-20" />
<meta name="ModifiedTime" content="1600670083" />
<meta name="NextFile" content="migration.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="appE.html" />
<meta name="c_product" content="Virtuoso Layout Suite" />
<meta name="Product" content="Virtuoso Layout Suite" />
<meta name="ProductFamily" content="Virtuoso Layout Suite" />
<meta name="ProductVersion" content="ICADVM20.1" />
<meta name="RightsManagement" content="Copyright 2012-2020 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Floorplanner User Guide -- Constraint Groups" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="ICADVM20.1" />
<meta name="SpaceKey" content="fphelpICADVM201" />
<meta name="webflare-version" content="2.0" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="fphelpTOC.html">Contents</a></li><li><a class="prev" href="appE.html" title="Pin Constraints File">Pin Constraints File</a></li><li style="float: right;"><a class="viewPrint" href="fphelp.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="migration.html" title="Migration from Preview to Floorplanner">Migration from Preview to Floo ...</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Floorplanner User Guide<br />Product Version ICADVM20.1, October 2020</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>E
<a id="pgfId-1032955"></a></h1>
<h1>
<a id="pgfId-1035250"></a><hr />
<a id="26952"></a>Constraint Groups<hr />
</h1>

<p>
<a id="pgfId-1035470"></a>A constraint group lets you specify different sets of design constraints to be applied under different circumstances. This allows the flexibility to experiment with less or more stringent process rules at different stages of the design process.</p>
<p>
<a id="pgfId-1035471"></a>You can group together any set of constraints into a constraint group, which is then applied to any design associated with the technology library. For more information, see &#8220;Technology File Constraint Groups and Constraints&#8221; in the <em><a actuate="user" class="URL" href="../ascitechconstr/ascitechconstrTOC.html#firstpage" show="replace" xml:link="simple">Virtuoso Technology Data Constraints Reference</a></em>.</p>
<p>
<a id="pgfId-1035473"></a>There are three types of constraint groups that you can create:</p>

<ul><li>
<a id="pgfId-1035474"></a>Foundry constraint group (<code>foundry</code>)</li><li>
<a id="pgfId-1035475"></a>Application-specific constraint group</li><li>
<a id="pgfId-1035476"></a>User-defined constraint group</li></ul>



<p>
<a id="pgfId-1035477"></a>There can only be one <code>foundry</code> constraint group, but there can be any number of application specific constraint groups and user-defined constraint groups for routing specific nets or net types.</p>
<p>
<a id="pgfId-1035478"></a>The foundry, application-specific, and user-defined constraint groups may be created automatically during a translation process such as <code>cdb2oa</code> or <code>lef2oa</code>, and are based on the information in either the CDB techfile or LEF/DEF files. Other constraint groups may be created by your CAD group, and still others created by the individual layout designer. Some can be stored in a technology database and/or on the design itself.</p>
<p>
<a id="pgfId-1035479"></a>In Virtuoso Layout Site, you typically have the following constraint groups as a required minimum. </p>

<ul><li>
<a id="pgfId-1035480"></a>Foundry: The <code>foundry</code> constraints group has the absolute minimum rules which must be adhered to manufacture the design. </li><li>
<a id="pgfId-1035481"></a>Setup constraints group: The <code>Setup</code> constraints group typically has the <code>virtuosoDefaultExtractorSetup</code> as the default value. Other possible values are <code>virtuosoDefaultSetup</code> and <code>LEFDefaultRouteSpec</code>. </li></ul>

<h4>
<a id="pgfId-1035482"></a>Foundry Constraint Group</h4>

<p>
<a id="pgfId-1035483"></a>The <code>foundry</code> constraint group represents the absolute minimum rules (i.e. <code>minWidth</code>/<code>minSpacing</code>, etc.,) which must be adhered to in order to manufacture the design. These are commonly referred to as the base process rules and are stored only in the technology database (and not in the design database).</p>

<h4><em>
<a id="pgfId-1035484"></a>Creation and Usage</em></h4>
<ul><li>
<a id="pgfId-1035485"></a>Creating the <code>foundry</code> constraint group</li></ul>

<p>
<a id="pgfId-1035486"></a>The <code>foundry</code> constraint group is created and populated with information during <code>cdb2oa</code> translation or <code>lef2oa</code> translation. The translators get the information from sections within the CDB techfile and the LEF file.</p>
<p>
<a id="pgfId-1035487"></a>Alternatively, you can create the <code>foundry</code> constraint group by loading an ASCII technology file containing the <code>foundry</code> constraint group information by using the <em>Tools</em> -&gt; <em>Technology File Manager</em> option in CIW. </p>

<ul><li>
<a id="pgfId-1035488"></a>Information in the <code>foundry</code> constraint group</li></ul>

<p>
<a id="pgfId-1035489"></a>The <code>foundry</code> constraint group contains all the information necessary to manufacture the design. Everything from <code>minSpacing</code>/<code>minWidth</code> for layers, <code>minEnclosure</code>, <code>minStep</code>, to <code>via</code> rules, to electrical constraints such as antenna rules.</p>

<ul><li>
<a id="pgfId-1035490"></a>Using the <code>foundry</code> constraint group in Virtuoso</li></ul>

<p>
<a id="pgfId-1035491"></a>The <code>foundry</code> constraint group is the final stop along the constraint precedence lookup trail. If a constraint override is not defined elsewhere, the tools use the value(s) in the <code>foundry</code> constraint group.</p>
<p>
<a id="pgfId-1035492"></a>The <code>foundry</code> constraint group is usually not writable for most users, but can be viewed by using the Process Rule Editor or by taking an ASCII dump. You can launch the Process Rule Editor by clicking the RMB in the Constraint Manager assistant or by clicking the PRE icon from the toolbar in the Constraint Manager assistant. You can set the scope to Technology and view the foundry constraint group in this dialog box. For details, refer to <h-hot><a actuate="user" class="URL" href="../constraints/pre.html#firstpage" show="replace" xml:link="simple">Process Rule Editor</a></h-hot> in the <em>Virtuoso Unified Custom Constraints User Guide</em>.</p>

<h4>
<a id="pgfId-1035494"></a>The virtuosoDefaultExtractorSetup Group</h4>

<p>
<a id="pgfId-1035495"></a>The <code>virtuosoDefaultExtractorSetup</code> constraint group can be stored within the technology database or directly on the design itself (i.e. lib/cell/view).</p>

<h4><em>
<a id="pgfId-1035496"></a>Creation and Usage</em></h4>
<ul><li>
<a id="pgfId-1035497"></a>Creating the virtuosoDefaultExtractorSetup Constraint Group</li></ul>

<p>
<a id="pgfId-1035498"></a>The <code>virtuosoDefaultExtractorSetup</code> constraint group is created during <code>cdb2oa</code> translation.This constraint group may be created by loading an ASCII technology file containing the constraint group section, or through the Process Rule Editor.</p>

<ul><li>
<a id="pgfId-1035499"></a>Information in the <code>virtuosoDefaultExtractorSetup</code> Constraint Group</li></ul>

<p>
<a id="pgfId-1035500"></a>The <code>virtuosoDefaultExtractorSetup</code> constraint group includes layers needed for extracting connectivity, plus poly, all metal layers, and cut layers in the valid layers section.</p>

<ul><li>
<a id="pgfId-1035501"></a>Using the <code>virtuosoDefaultExtractorSetup</code> Constraint Group in Virtuoso</li></ul>

<p>
<a id="pgfId-1035502"></a>A constraint group for extraction is required to specify the extractable layers.</p>
<p>
<a id="pgfId-1035503"></a>Connectivity extraction gets the constraint group name from the value of the <code>setupConstraintGroup</code> variable in your <code>.cdsenv</code> file. The default value is <code>virtuosoDefaultExtractorSetup</code>. You can change the name of the constraint group by resetting the value.</p>
<p>
<a id="pgfId-1035504"></a>If the <code>setupConstraintGroup</code> variable has no value set, the extractor prompts you for a constraint group to use for extraction.</p>

<h4>
<a id="pgfId-1035505"></a>The virtuosoDefaultSetup Group</h4>

<p>
<a id="pgfId-1035506"></a>The purpose of the <code>virtuosoDefaultSetup</code> constraint group is to supply a default set of constraints for both interactive and automatic routing.</p>

<h4><em>
<a id="pgfId-1035507"></a>Creation and Usage</em></h4>
<ul><li>
<a id="pgfId-1035508"></a>Creating the <code>virtuosoDefaultSetup</code> Constraint Group</li></ul>

<p>
<a id="pgfId-1035509"></a>The <code>virtuosoDefaultSetup</code> constraint group is created during the <code>cdb2oa</code> translation using one of the following methods.</p>
<p>
<a id="pgfId-1035510"></a>If the CDB techfile includes the <code>iccRules</code> section, the <code>cdb2oa</code> translator automatically translates the rules from the <code>iccRules</code> section to create the <code>virtuosoDefaultSetup</code> constraint group.</p>
<p>
<a id="pgfId-1035511"></a>If the ASCII VCAR rule file is available during <code>cdb2oa</code> translation, use the <code>-iccrulesfile</code> option of the <code>cdb2oa</code> translator to create the <code>virtuosoDefaultSetup</code> constraint group. The syntax is the following.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1035512"></a>cdb2oa -iccrulesfile &lt;vcarRuleFile&gt;</pre>
<ul><li>
<a id="pgfId-1036114"></a>Information in the <code>virtuosoDefaultSetup</code> Constraint Group</li></ul>

<p>
<a id="pgfId-1036115"></a>The <code>virtuosoDefaultSetup</code> constraint group contains <code>validVias</code> and <code>validLayers</code> for routing (no cut layers), and possibly other rules such as <code>minWidth</code> and <code>minSpacing</code> for the layers, overriding the foundry rules.</p>

<ul><li>
<a id="pgfId-1035515"></a>Using the <code>virtuosoDefaultSetup</code> Constraint Group in Virtuoso</li></ul>

<p>
<a id="pgfId-1035516"></a>The <code>virtuosoDefaultSetup</code> constraint group is typically used to define a full set of <code>validLayers</code> and <code>validVias</code> for the purpose of default interactive and automatic routing.</p>
<p>
<a id="pgfId-1035517"></a>For example, if any particular signal is selected for routing and does not have a constraint group assigned to it, the constraints in the <code>virtuosoDefaultSetup</code> constraint group apply. The contents of <code>validLayers</code> in <code>virtuosoDefaultSetup</code> are usually a subset of those defined in the <code>virtuosoDefaultExtractorSetup</code> constraint group because, while you may want to extract connectivity for non-metal layers, you do not want interactive and automatic routing to use the non-metal layers.</p>

<h4>
<a id="pgfId-1035518"></a>The LEFDefaultRouteSpec Group</h4>

<p>
<a id="pgfId-1035519"></a>The <code>LEFDefaultRouteSpec</code> constraint group contains rule definitions typically used in digital standard cell applications or custom/mixed-signal applications that require metal layers only.</p>

<h4><em>
<a id="pgfId-1035520"></a>Creation and Usage</em></h4>
<ul><li>
<a id="pgfId-1035521"></a>Creating the <code>LEFDefaultRouteSpec</code> Constraint Group<br />
<a id="pgfId-1035522"></a>The <code>LEFDefaultRouteSpec</code> constraint group is specific to a LEF/DEF design flow and is created during <code>lef2oa</code> translation. Since a LEF file serves as the library source for technology information, the lef2oa translator puts all the technology information into the <code>LEFDefaultRouteSpec</code> constraint group.<br />
<a id="pgfId-1035523"></a>The valid layers, valid via definitions, and valid rules also become part of the <code>LEFDefaultRouteSpec</code> constraint group.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1035524"></a>The <code>lef2oa</code> translator translates any <code>NONDEFAULTRULES</code> in LEF as constraint groups in the OpenAccess tech database.</div></li><li>
<a id="pgfId-1035525"></a>Information in the <code>LEFDefaultRouteSpec</code> Constraint Group<br />
<a id="pgfId-1035526"></a>The <code>LEFDefaultRouteSpec</code> contains valid layer and valid via definitions. The via definitions are typically standard vias and several custom vias used by other routers such as NanoRoute in the Innovus environment. The <code>LEFDefaultRouteSpec</code> also contains any other non-default rules such as wide metal rules.</li><li>
<a id="pgfId-1035527"></a>Using the <code>LEFDefaultRouteSpec</code> Constraint Group in Virtuoso</li></ul>











<p>
<a id="pgfId-1035457"></a>You can select the <code>LEFDefaultRouteSpec</code> as the default constraint group for interactive or automatic routing in the Wire Editing section of the Layout Editor Options form (Options &gt; Editor...).</p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="appE.html" id="prev" title="Pin Constraints File">Pin Constraints File</a></em></b><b><em><a href="migration.html" id="nex" title="Migration from Preview to Floorplanner">Migration from Preview to Floo ...</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2020, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>