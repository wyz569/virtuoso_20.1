
<html><head><title>Other Floorplanning Commands</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="spriya" />
<meta name="CreateDate" content="2020-09-20" />
<meta name="CreateTime" content="1600670087" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="You can use this manual as a reference for the Virtuoso Floorplanner, which includes automatic and interactive floorplanning tools that let you specify the rough topology of a physical chip." />
<meta name="DocTitle" content="Virtuoso Floorplanner User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Other Floorplanning Commands" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.2.1" />
<meta name="Keyword" content="fphelp" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2020-09-20" />
<meta name="ModifiedTime" content="1600670087" />
<meta name="NextFile" content="appA.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="chap10.html" />
<meta name="c_product" content="Virtuoso Layout Suite" />
<meta name="Product" content="Virtuoso Layout Suite" />
<meta name="ProductFamily" content="Virtuoso Layout Suite" />
<meta name="ProductVersion" content="ICADVM20.1" />
<meta name="RightsManagement" content="Copyright 2012-2020 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Floorplanner User Guide -- Other Floorplanning Commands" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="ICADVM20.1" />
<meta name="SpaceKey" content="fphelpICADVM201" />
<meta name="webflare-version" content="2.0" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="fphelpTOC.html">Contents</a></li><li><a class="prev" href="chap10.html" title="Updating Pin Labels and Text Displays">Updating Pin Labels and Text D ...</a></li><li style="float: right;"><a class="viewPrint" href="fphelp.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="appA.html" title="Area Estimation Framework">Area Estimation Framework</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Floorplanner User Guide<br />Product Version ICADVM20.1, October 2020</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>12
<a id="pgfId-1035470"></a></h1>
<h1>
<a id="pgfId-1075530"></a><hr />
Other Floorplanning Commands<hr />
</h1>

<p>
<a id="pgfId-1075625"></a>This chapter introduces you to the following additional Floorplanning commands that are used to develop a layout from a schematic. </p>
<ul><li>
<a id="pgfId-1084296"></a><a href="chap11.html#28205">Edit Soft Blocks</a></li><li>
<a id="pgfId-1084318"></a><a href="chap11.html#92474">Load Physical View</a></li><li>
<a id="pgfId-1084341"></a><a href="chap11.html#38493">Create Soft Pins</a></li><li>
<a id="pgfId-1084363"></a><a href="chap11.html#46360">Snap Pins</a></li><li>
<a id="pgfId-1084385"></a><a href="chap11.html#66602">Analyze Connectivity</a></li><li>
<a id="pgfId-1084408"></a><a href="chap11.html#76564">Create Feedthrough Terminal Pins</a></li><li>
<a id="pgfId-1084431"></a><a href="chap11.html#39762">Creating Boundary Pins on Selected Shapes</a></li><li>
<a id="pgfId-1084454"></a><a href="chap11.html#90958">Level-1 Editing</a></li><li>
<a id="pgfId-1084477"></a><a href="chap11.html#33783">Pin Connectivity Setting</a></li><li>
<a id="pgfId-1084500"></a><a href="chap11.html#36871">Set Celltype</a></li><li>
<a id="pgfId-1084523"></a><a href="chap11.html#27579">Pin Alignments</a></li></ul>










<p>
<a id="pgfId-1084307"></a>These commands are not available in the Floorplanner menu. The commands discussed here are a part of Virtuoso Layout XL suite and are covered in detail in the Virtuoso Layout XL user guide.</p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1090531"></a>
In Layout EXL, these commands are available in the <em>Plan</em> menu.</div>
<h2>
<a id="pgfId-1083125"></a><a id="28205"></a>Edit Soft Blocks</h2>

<p>
<a id="pgfId-1083126"></a>The Edit Soft Blocks command lets you modify the soft blocks in your design. Use the <em>Floorplan &#8211; Soft Block Update &#8211; Edit Soft Blocks</em> command to modify the attributes of individual soft blocks to take account of placement and connectivity requirements in your design. You can also access this command from <em>Edit &#8211; Edit Soft Blocks</em>. This command is recommended if you want to make changes that do not require the physical hierarchy to be regenerated. For more information on how to edit soft blocks, refer to the <h-hot><a actuate="user" class="URL" href="../vxlhelp/vxlhelpTOC.html#firstpage" show="replace" xml:link="simple">Virtuoso Layout Suite XL User Guide</a></h-hot>.</p>

<h2>
<a id="pgfId-1083154"></a><a id="92474"></a>Load Physical View</h2>

<p>
<a id="pgfId-1083768"></a><a actuate="user" class="URL" href="../vxlhelp/vxlhelpTOC.html#firstpage" show="replace" xml:link="simple">The Load Physical View command is used to import the predefined information from a source physical cellview into a current cellview. To do this, select Floorplan &#8211; Load Physical View. You can also access this command from File &#8211; Load Physical View. For more information on how to load physical view into current layout cellview, refer to the Virtuoso Layout Suite XL User Guide.</a></p>

<h2>
<a id="pgfId-1083142"></a><a id="38493"></a>Create Soft Pins</h2>

<p>
<a id="pgfId-1083827"></a>After the physical hierarchy is configured, if you need to improve the connectivity of your design, you can create additional soft pins on your soft blocks. The <em>FloorPlan</em> &#8211; <em>Connectivity</em> &#8211; <em>Create Soft Pins</em><a actuate="user" class="URL" href="../vxlhelp/vxlhelpTOC.html#firstpage" show="replace" xml:link="simple"> command lets you create, delete, and update soft pins for your soft blocks. You can also access this command from Create &#8211; Soft Pins. To know more on how to create soft pins, refer to the Virtuoso Layout Suite XL User Guide.</a></p>

<h2>
<a id="pgfId-1083110"></a><a id="46360"></a><a id="20534"></a>Snap <a id="snapPins"></a>Pins</h2>

<p>
<a id="pgfId-1083973"></a>The Snap Pins command is used to snap both top-level and level-1 pins to the grid appropriate to the block type. To snap all soft block pins, select <em>Floorplan</em> &#8211; <em>Connectivity</em> &#8211;&#160;&#160;<em>Snap Pins</em>. You can also access this command from <em>Connectivity</em> &#8211; <em>Pins</em> &#8211; <em>Snap Pins</em>. </p>
<p>
<a id="pgfId-1090719"></a>At advanced nodes, this command provides additional options to snap pins to WSP grids. </p>
<p>
<a id="pgfId-1090717"></a>For more information on snapping soft block pins, refer to the <h-hot><a actuate="user" class="URL" href="../vxlhelp/vxlhelpTOC.html#firstpage" show="replace" xml:link="simple">Virtuoso Layout Suite XL User Guide</a></h-hot>.</p>

<h2>
<a id="pgfId-1083953"></a><a id="66602"></a>Analyze C<a id="AnalyzeConnec"></a>onnectivity</h2>

<p>
<a id="pgfId-1083954"></a>Use the <em>Analyze</em> command to calculate the number of connections between each pair of selected instances, draw flight lines between each connected pair, and indicate the number of connections by displaying a numerical value on the flight lines. This is a command that generates information about connectivity and other useful design information. It is useful to find out the connectivity (the number of connections) of a block with other blocks, so that during manual floorplanning, you can keep the blocks that have more connectivity between them closer to each other.</p>
<p>
<a id="pgfId-1092163"></a>To analyze the connectivity between instances:</p>
<ol><li>
<a id="pgfId-1092216"></a>Open the Analyze Connectivity form.<br />
<a id="pgfId-1083948"></a>For this command, only the pre-selection mode is supported. You can select multiple blocks whose connectivity you want to examine. Use one of the following methods to open the Analyze Connectivity form:<ul><li>
<a id="pgfId-1088830"></a>Choose <em>Floorplan &#8211; Connectivity &#8211; Analyze.</em><br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1091112"></a>In Layout EXL, choose <em>Plan &#8211; View &#8211; Analyze Connectivity</em>.</div></li><li>
<a id="pgfId-1088919"></a>Choose <em>Connectivity &#8211; Analyze.</em></li><li>
<a id="pgfId-1088935"></a>Click the Analyze Connectivity button <img src="images/AnalyzeConn_Button.gif" /><span>on the Design Planner toolbar. </span></li></ul><br />
<a id="pgfId-1092272"></a>For more information, see <a actuate="user" class="URL" href="../vdpuser/chap1.html#vdpToolbar" show="replace" xml:link="simple">Design Planner Toolbar</a>.<br />
<a id="pgfId-1083942"></a><div class="webflare-div-image">
<img src="images/AnalyzeConnectivity.gif" /></div></li><li>
<a id="pgfId-1084957"></a>In the <em>Font</em> section, specify the size of the flight lines. Set <em>Size</em> to one of the following values:<ul><li>
<a id="pgfId-1085061"></a><em>User Defined</em>: Specify the absolute font size. If the value is <code>0</code>, flight lines are displayed when you click <em>Analyze</em>, but numbers are not displayed.</li><li>
<a id="pgfId-1085661"></a><em>Auto</em> (default): Adjusts the font size based on the number of connections. For example, if there are 47 connections between two devices, its label would have a larger font size than the label between devices with 14 connections.<br /><ffi2-fig-frame-in-2 id="#id1085176">
<a id="pgfId-1085176"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="668" height="322" src="images/chap11-5.gif" /></div></li></ul></li><li>
<a id="pgfId-1085062"></a>Specify the color of the text that is displayed on the flight lines. Set <em>Color</em> to either <em>Black &amp; White</em> or <em>Same color as connectivity line</em> (default).<br />
<a id="pgfId-1085333"></a><div class="webflare-div-image">
<img width="668" height="281" src="images/chap11-6.gif" /></div></li><li>
<a id="pgfId-1085022"></a>Adjust the transparency of the text on the screen. Drag the <em>Transparency</em> slider to specify a value. In the following example, the transparency value is increased to <code>65</code>.<br />
<a id="pgfId-1085424"></a><div class="webflare-div-image">
<img width="668" height="286" src="images/chap11-7.gif" /></div></li><li>
<a id="pgfId-1085031"></a>In the <em>Connectivity</em> section, specify the width of the flight lines by setting <em>Width</em> to one of the following values:<ul><li>
<a id="pgfId-1092671"></a><em>User Defined</em>: Lets you specify the width.</li><li>
<a id="pgfId-1092709"></a><em>Proportionate to connectivity count</em>: Adjusts the line width depending on the number of connections.<br />
<a id="pgfId-1088223"></a><div class="webflare-div-image">
<img width="668" height="307" src="images/chap11-8.gif" /></div></li></ul></li><li>
<a id="pgfId-1087654"></a>Select <em>Filter nets</em> to hide the connections to the selected type of nets - <em>Power</em>, <em>Ground</em>, and <em>Global</em>.</li><li>
<a id="pgfId-1092121"></a>Set <em>Display Connectivity</em> to one of the following values: <ul><li>
<a id="pgfId-1092820"></a><em>Auto</em>: Enables dynamic selection of objects such as instances, PR boundary, and figGroups. Connectivity information is refreshed dynamically when you select a different object. </li><li>
<a id="pgfId-1092823"></a><em>Manual</em>: With this option selected, connectivity information does not change dynamically. <br />
<a id="pgfId-1093849"></a>Click either <em>Apply</em> or <em>Remove</em> to remove previous highlights before you select new objects. Clicking <em>Apply</em> commits the current settings, whereas clicking <em>Remove</em> removes all existing highlights.</li></ul></li><li>
<a id="pgfId-1095097"></a>Select <em>Enable Net Selection</em> to enable cross-selection of nets between the design canvas and the Navigator assistant. Therefore, when the Analyze Connectivity command is run, the nets highlighted in the design are automatically selected in the Navigator assistant. Use the following options to control net selection:<ul><li>
<a id="pgfId-1095325"></a><em>Exclusive</em> (default): Highlights only those nets that exclusively connect to the selected blocks. Connections to all other blocks are excluded.</li><li>
<a id="pgfId-1095218"></a><em>Inclusive</em>: Highlights all nets that are connected to the selected blocks.</li></ul></li><li>
<a id="pgfId-1085099"></a>Click <em>Apply</em> to make changes.<br />
<a id="pgfId-1093312"></a>You can also click <em>Cancel</em> to ignore the changes or <em>Remove</em> to delete all the flight lines and associated information within the selected boundary or between the selected instances.</li></ol>

















































<p>
<a id="pgfId-1086055"></a>Instead of selecting individual instances, you can also:</p>
<ul><li>
<a id="pgfId-1086079"></a>Select the PR boundary and analyze its connectivity: Connections from the design to all the instances in the design are considered, as shown below:<br />
<a id="pgfId-1086134"></a><div class="webflare-div-image">
<img src="images/AnalyConn_PRB1.gif" /></div></li><li>
<a id="pgfId-1086093"></a>Select the PR boundary and one or more instance and analyze their connectivity: Connections between the design and the selected instances are considered, as shown below:<br />
<a id="pgfId-1086172"></a><div class="webflare-div-image">
<img src="images/AnalyConn_PRBandInst.gif" /></div></li><li>
<a id="pgfId-1086108"></a>Select a figGroup and analyze its connectivity: All connections to the selected figGroup are considered, as shown below:<br />
<a id="pgfId-1086205"></a><div class="webflare-div-image">
<img src="images/AnalyConn_FigGrp.gif" /></div></li></ul>














<p>
<a id="pgfId-1083256"></a>If an instance, figGroup, or PR boundary was not selected before choosing the <em>Analyze</em> command, the following message appears in the CIW.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083257"></a>*WARNING* VFP-4005: Could not analyze connectivity because neither the PR boundary nor any instance was selected. Select the PR boundary or the required instances, and rerun the command.</pre>

<p>
<a id="pgfId-1083258"></a>If you select only a single instance, <em>Analyze</em> displays all the instances and figGroups connected to that instance.</p>
<p>
<a id="pgfId-1083259"></a>Certain designs may have a high number of connections between nets and <code>insTerms</code>. Before analyzing the connectivity in such designs, ensure that the number of connections of each net to <code>instTerms</code> is within the maximum terminals per net threshold value. If the value exceeds the threshold value, the corresponding net is ignored during computation of connectivity, and an INFO message is populated in the CIW for the corresponding net.</p>
<p>
<a id="pgfId-1083260"></a>The <code>adpEnvPinsPerNetThreshold</code> variable defines the maximum terminals per net threshold value. Use the <a href="../sklayoutref/vfp.html#adpnlSetEnv">adpnlSetEnv</a> API to set the <code>adpEnvPinsPerNetThreshold</code> variable such that the maximum number of terminals per net threshold value is higher than the number of connections of nets to <code>instTerms</code> in your design.</p>

<h2>
<a id="pgfId-1083200"></a><a id="76564"></a>Create Feedthrough Terminal Pins</h2>

<p>
<a id="pgfId-1083184"></a>To create additional feedthrough pins in order to improve the connectivity of your design, the <em>Create</em> &#8211; <em>Feedthrough Terminal Pins</em> command is used. To know more on how to create feedthrough pins, refer to the <em><a actuate="user" class="URL" href="../vxlhelp/vxlhelpTOC.html#firstpage" show="replace" xml:link="simple">Virtuoso Layout Suite XL User Guide</a></em>.</p>

<h2>
<a id="pgfId-1083171"></a><a id="39762"></a>Creating Boundary Pins on S<a id="create_boundary_pins"></a>elected Shapes</h2>

<p>
<a id="pgfId-1082570"></a>The <a href="../sklayoutref/vfp.html#vfpCreateBoundaryPinsForSelectedShapes">vfpCreateBoundaryPinsForSelectedShapes</a> SKILL API is used to create boundary pins on selected shapes. You need to select the shapes and run the API to create all boundary pins automatically, in one go. You specify the distance from the PRBoundary at which pins need to be created on the selected shapes. This distance will impact the size of pin created.</p>
<p>
<a id="pgfId-1083697"></a>If the selected shapes are not associated with nets, only the boundary shapes are generated; no corresponding pin object is created.</p>

<h2>
<a id="pgfId-1083699"></a><a id="90958"></a>Level-1 Editing</h2>

<p>
<a id="pgfId-1077433"></a>The Level-1 Editing allows you to edit the soft block without descending to hierarchy and also allows to edit soft blocks by looking at adjacent blocks. The commands used to do Level-1 Editing are as follows. </p>
<ul><li>
<a id="pgfId-1077481"></a>Move</li><li>
<a id="pgfId-1077482"></a>Stretch</li><li>
<a id="pgfId-1077483"></a>Reshape</li><li>
<a id="pgfId-1077532"></a>Chop</li></ul>



<p>
<a id="pgfId-1077462"></a>For more information on Level-1 editing commands and supported objects, refer to the <em><a actuate="user" class="URL" href="../vxlhelp/vxlhelpTOC.html#firstpage" show="replace" xml:link="simple">Virtuoso Layout Suite XL User Guide</a></em>.</p>

<h2>
<a id="pgfId-1077015"></a><a id="33783"></a>Pin Connectivity Setting</h2>

<p>
<a id="pgfId-1077290"></a>The Pin Connectivity Setting command allows you to create, change, and delete strong and weak pins, and create must-connect pins. You can change a weak pin to a strong pin or vice-versa, or create must connect groups. To do this, select <em>Connectivity</em> &#8211; <em>Pins</em> &#8211;<em> Pin Connectivity Setting</em> command. For more information on this, refer to the <em><a actuate="user" class="URL" href="../vxlhelp/vxlhelpTOC.html#firstpage" show="replace" xml:link="simple">Virtuoso Layout Suite XL User Guide</a></em>.</p>

<h2>
<a id="pgfId-1077336"></a><a id="36871"></a>Set Celltype</h2>

<p>
<a id="pgfId-1077350"></a>To set the celltype of blocks, click <em>Tools</em> -&gt; <em>Set Cell Type</em> in the CIW. This command provides various features to search and set celltype for multiple cells. For more information, refer to <a href="chap2.html#95824">Setting the Cell Type</a>.</p>

<h2>
<a id="pgfId-1075637"></a><a id="27579"></a>Pin Alignments</h2>

<p>
<a id="pgfId-1075579"></a>You align pins between blocks to get the shortest net length. The pin aligner is connectivity based and no specific pin selection is required, thereby, allowing multiple selection. The pin aligner aligns a list of target pins with respect to the position of a list of reference pins. Reference pins are the pins whose positions are used as the reference for alignment.</p>
<p>
<a id="pgfId-1060660"></a>Reference pins can belong either to a block or to the top-level design. The block may be a soft block or a hard block because the pins of the reference block are not moved. Target pins are the pins that are moved by the alignment command. The target pins can either belong to a soft block or to the top-level design. </p>
<p>
<a id="pgfId-1078560"></a>Use the Edit - Advanced - Align <a id="editalign"></a>command to align pins. Alternatively, you can use the <a href="../sklayoutref/vfp.html#vfpAlignPins">vfpAlignPins</a> SKILL function. When you use<em> </em>the Edit - Advanced - Align command, the soft block master becomes editable automatically. To align pins, perform the following steps:</p>
<ol><li>
<a id="pgfId-1074094"></a>Choose the <em>Edit &#8211; Advanced - Align </em>command. The following form is displayed. <br />
<a id="pgfId-1074095"></a><div class="webflare-div-image">
<img src="images/PinAlign.gif" /></div></li><li>
<a id="pgfId-1074096"></a>Select the <em>Object</em> option in the Reference section. Select Pins from the field next to the <em>Object</em> option. <br />
<a id="pgfId-1078617"></a><div class="webflare-div-image">
<img width="668" height="590" src="images/chap11-13.gif" /></div>
<a id="pgfId-1078631"></a>The following prompt appears:<pre class="webflare-pre-block webflare-courier-new" id="#id1060668">
<a id="pgfId-1060668"></a>Select reference pins/instances/top-level PRBoundary for pin-alignment:</pre></li><li>
<a id="pgfId-1080301"></a>To select the reference pins, click the corresponding blocks. You can select multiple blocks such as the top-level PRBoundary, a soft block, or a hard block as reference blocks. The pins in these blocks are selected as the reference pins.<br />
<a id="pgfId-1080305"></a><div class="webflare-div-image">
<img src="images/Pin_Align07.gif" /></div>
<a id="pgfId-1082736"></a>You can select pins in different reference blocks as the reference pins. The pins in the target block will be aligned with respect to these reference pins in different reference blocks.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1080306"></a>If you select the same pin on multiple instances of the same master, only one of the pins is considered and the remaining ones are ignored.</div></li><li>
<a id="pgfId-1060670"></a>Click the middle mouse button to switch to the target selection mode. A new message prompt appears:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1060671">
<a id="pgfId-1060671"></a>Select target pins/instances/top-level PRBoundary for pin-alignment:</pre></li><li>
<a id="pgfId-1060672"></a>To select the target pins, click the corresponding blocks.You can select multiple soft blocks, top-level pins, top-level PRBoundary or soft-block pins.</li><li>
<a id="pgfId-1079741"></a>Click the middle mouse button or the <em>Apply</em> button in the <em>Align</em> form to mark the end of target selection.<br />
<a id="pgfId-1079779"></a>The pin aligner aligns the target pins with respect to the selected reference pins. The following message prompt is displayed: <br />
<a id="pgfId-1079960"></a>Select target pins/instances/top-level PRBoundary for pin-alignment:<br />
<a id="pgfId-1081300"></a><div class="webflare-div-image">
<img src="images/Pin_Align08.gif" /></div></li><li>
<a id="pgfId-1079961"></a>You can now select another target object to align with the same reference.<br />
<a id="pgfId-1082773"></a>You can also click the <em>Set New Reference</em> button on the Align form to specify a new reference for aligning objects. This command resets the form and enables you to start again by selecting a new reference.<br />
<a id="pgfId-1082818"></a><div class="webflare-div-image">
<img width="668" height="560" src="images/chap11-16.gif" /></div><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1082822"></a>You can use the <code>Esc</code> key to cancel the alignment command. </div></li><li>
<a id="pgfId-1082823"></a>If you want to change the target pin layer/purpose of the pin to the reference pin layer purpose, select the <em>Match layer/purpose with the reference pin</em> check box. For example, if the target pin is on Metal2 drawing layer purpose and the reference pin is on Metal1 drawing, then selecting this option will change the target pin layer to Metal1 drawing.</li><li>
<a id="pgfId-1084681"></a>When the Match layer/purpose with the reference pin option is selected, the Update pin label layer option is also selected by default. In this state, the pin labels are placed on the same layer as the target pins. So, when a pin is moved to a different layer, the pin label is also moved to the same layer.<br />
<a id="pgfId-1084683"></a>However, this option will work only if the purposes of the reference and target pins match. <br />
<a id="pgfId-1084684"></a><strong>Example 1: </strong><br />
<a id="pgfId-1084745"></a>Reference pin LPP= (Metal1 drawing) <br />
<a id="pgfId-1084748"></a>Target pin LPP = (Metal2 drawing) -   exists<br />
<a id="pgfId-1084749"></a>Pin label&#8217;s layer will be updated to the target layer along with the pin.<br />
<a id="pgfId-1084688"></a><strong>Example 2:</strong><br />
<a id="pgfId-1084853"></a>Reference pin LPP= (Metal1 drawing) <br />
<a id="pgfId-1084854"></a>Target pin LPP = (Metal2 drawing) &#8211; X does not exist<br />
<a id="pgfId-1084855"></a>Pin label&#8217;s layer will be not be updated. Only the pin layer will be updated.</li><li>
<a id="pgfId-1080170"></a>If you want to change the target pin size to that of the reference pin, select the <em>Match size with the reference pin</em> check box. For example, if the target pin size is 0.6 x 0.6 and the reference pin size is 1.0 x 1.0 then selecting this option will change the target pin size to 0.6 x 0.6. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1080480"></a>Ensure that the target pin size and the minWidth of the target layer do not lead to a DRC violation on minWidth. Also, pin alignment will not make DRC checks.</div></li></ol>
























































<p>
<a id="pgfId-1080818"></a>After aligning the pins, the pin aligner performs a post-process check to determine any overlaps: </p>
<ul><li>
<a id="pgfId-1080819"></a>Within the target pins </li><li>
<a id="pgfId-1080820"></a>With other shapes that are part of the design, but are not the target pins</li></ul>

<p>
<a id="pgfId-1080544"></a>If any overlap exists, then the pin aligner displays a warning message indicating the previous location, layer, term name, and new location.</p>
<p>
<a id="pgfId-1080841"></a>For example, in the figure below, pins <code>1</code> to <code>5</code> of block <code>B1</code> are connected to pins <code>1</code> to <code>5</code> of block <code>B2</code>, respectively. If you select all the pins of block <code>B1</code> as the reference pins and the block <code>B2</code> as the target block, the pins of block <code>B2</code> are moved as shown in the figure marked <code>b</code>. Note that pin <code>1</code> of block <code>B2</code> is not moved at all because no edge is available to get it aligned. Any target pin connected to a reference pin is moved to the first edge of the target block encountered by an imaginary line orthogonal to the reference pin edge. </p>
<p>
<a id="pgfId-1060676"></a>If none of the imaginary orthogonal lines touch the target block, the pin will not be moved (for example, pin <code>1</code> in block <code>B2</code>). </p>

<div class="webflare-div-image">
<img width="594" height="175" src="images/chap11-17.gif" /></div>

<p>
<a id="pgfId-1060800"></a>If a reference pin is not on the edge or is on the corner (and has two edges) then out of two orthogonal imaginary lines, the one that hits the target edge point (see example below) is considered and the connected target pin is moved to this point. This may not be the closest point. In this figure, Blk2 is the reference and Blk1 the target. Pin 4 needs to be aligned. If imaginary orthogonal lines are drawn from the reference pin 4 to the target, three possible positions can be identified for pin 4 on the target block. these are marked as A, B and C. The target pin can be moved to any of these positions. Pin aligner chooses position A for the target pin for the best alignment although positions B and C could have helped reduce the net length.</p>

<p>
<a id="pgfId-1060828"></a></p>
<div class="webflare-div-image">
<img width="594" height="207" src="images/chap11-18.gif" /></div>

<p>
<a id="pgfId-1060829"></a>Fixed pins (with status &#8220;firm&#8221; or &#8220;locked&#8221;) are not moved by the pin aligner. A message is given in CIW:</p>
<p>
<a id="pgfId-1060830"></a>*Warning* Can not align pin &lt;name&gt; of instance &lt;name&gt;, as it is a &lt;status&gt; pin</p>
<p>
<a id="pgfId-1060831"></a>The Pin Alignment command supports multiple reference pins connected to multiple target pins on the same net. It also considers if multiple target pins can be aligned to the same reference pin based on the closest edge criteria. </p>
<p>
<a id="pgfId-1075996"></a>There are various cases in pin alignment some of which are described as follows. In the figures shown for various cases, the reference and target pins are shown as block pins but they can be top-level pins as well.</p>
<ul><li>
<a id="pgfId-1075685"></a>Case I - Reference in Different blocks, Target in the Same Block</li></ul>
<p>
<a id="pgfId-1075725"></a>In this case, you select the pins in different blocks as the reference pins, which are connected to multiple pins in the same target block. The target pins are aligned as shown in the following figure.</p>

<p>
<a id="pgfId-1075741"></a></p>
<div class="webflare-div-image">
<img width="668" height="359" src="images/chap11-19.gif" /></div>

<ul><li>
<a id="pgfId-1075690"></a>Case II - Reference in the Same Block, Target in Same Block</li></ul>
<p>
<a id="pgfId-1075780"></a>In this case, you select multiple pins in the same block as reference pins, which are connected to multiple top-level pins. The target pins are aligned as shown in the following figure.</p>

<p>
<a id="pgfId-1076006"></a></p>
<div class="webflare-div-image">
<img width="668" height="272" src="images/chap11-20.gif" /></div>

<p>
<a id="pgfId-1076062"></a>Case III - Reference in Same Block, Target in Different Blocks</p>
<p>
<a id="pgfId-1075832"></a>In this case, you select multiple pins in the same block as reference pins, which are connected to multiple pins in different target blocks. The target pins are aligned as shown in the following figure.</p>

<p>
<a id="pgfId-1075828"></a></p>
<div class="webflare-div-image">
<img width="668" height="368" src="images/chap11-21.gif" /></div>

<p>
<a id="pgfId-1075683"></a>Case IV - Reference in Different Blocks, Target in Different Blocks</p>
<p>
<a id="pgfId-1075885"></a>In this case, you select the pins in different blocks as reference pins, which are connected to multiple pins in different target blocks. The target pins are aligned as shown in the following figure.</p>

<p>
<a id="pgfId-1075900"></a></p>
<div class="webflare-div-image">
<img width="668" height="346" src="images/chap11-22.gif" /></div>

<p>
<a id="pgfId-1075879"></a>Case V - Multiple Target Pins Aligned with same Reference Pin</p>
<p>
<a id="pgfId-1075913"></a>In this case, you select a pin in a reference block, which is connected to multiple pins in the same or different target block(s). The target pins in different block(s) are aligned as shown in the following figure.</p>

<p>
<a id="pgfId-1075933"></a></p>
<div class="webflare-div-image">
<img width="668" height="334" src="images/chap11-23.gif" /></div>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1076526"></a>The target pins can belong to same block of different blocks. The following figure shows the multiple pins in the same target block.</div>

<p>
<a id="pgfId-1076530"></a></p>
<div class="webflare-div-image">
<img width="668" height="230" src="images/chap11-24.gif" /></div>

<p>
<a id="pgfId-1076448"></a>Case VI - Multiple Top-level Pins Aligned with same Reference Pin</p>
<p>
<a id="pgfId-1075940"></a>In this case, you select a single pin in the reference block, which is connected to multiple top-level pins in the prBoundary. The pins at the top-level are aligned as shown in the following figure.</p>

<p>
<a id="pgfId-1075904"></a></p>
<div class="webflare-div-image">
<img width="668" height="282" src="images/chap11-25.gif" /></div>

<p>
<a id="pgfId-1081526"></a>Case VII - Alignment of pins when the block having Reference Pins is Rotated</p>
<p>
<a id="pgfId-1081527"></a>In this case, when the block having reference pins is rotated by 90o, the pin aligner automatically and intelligently aligns the pins in the target block with the pins in the reference block to get the shortest net length. </p>
<p>
<a id="pgfId-1081531"></a></p>

<div class="webflare-div-image">
<img width="668" height="265" src="images/chap11-26.gif" /></div>

<p>
<a id="pgfId-1081576"></a></p>
<p>
<a id="pgfId-1082459"></a>The pin aligner ignores any selected item that is not a pin, a block or the top level PRBoundary. A message is given in CIW:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1060836"></a>*Warning* Pin Alignment is not supported for object of type &lt;type&gt;</pre>

<p>
<a id="pgfId-1060837"></a>If the target block is not a soft block, its pins are not aligned. A message is given in CIW:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1060838"></a>*Warning* Can not align pins of instance &lt;name&gt; as it is not a soft block.</pre>

<p>
<a id="pgfId-1060839"></a>If the target soft block does not have a PRBoundary, its pins are not aligned. A message is given in CIW:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1060840"></a>*Warning* Can not align pins of instance %s as it does not have PRBoundary.</pre>

<p>
<a id="pgfId-1060841"></a>If the block to which the target pin belongs is outside the top-level design boundary, then the pin is aligned but not snapped to the grid. A message is given in CIW:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1076683"></a><a id="77955"></a>*Warning* Can not snap pin %s of instance %s as it is outside the design boundary.</pre>

<p>
<a id="pgfId-1082308"></a>After aligning the pins, a Pin Alignment report is displayed in the CIW. The Pin Alignment report provides a detailed listing of target pins that are not aligned, along with the reason for not aligning them.</p>

<p>
<a id="pgfId-1094095"></a></p>
<div class="webflare-div-image">
<img width="668" height="459" src="images/chap11-27.gif" /></div>
<h3>
<a id="pgfId-1082312"></a>Aligning Unco<a id="alignedUnconnected"></a>nnected Bus Pins</h3>

<p>
<a id="pgfId-1094244"></a>The pin aligner lets you align unconnected bus pins. The selected target bus pins are aligned to the selected reference bus pins. </p>
<p>
<a id="pgfId-1094246"></a>This feature is not available by default. To enable connectivity-independent alignment of bus pins, set the environment variable <a href="FPenvvars.html#43957"><h-hot>ignoreConnectivityBusPinsAlign</h-hot><code></code></a> to <code>t</code>.</p>
<p>
<a id="pgfId-1094248"></a>To align unconnected bus pins:</p>
<ol><li>
<a id="pgfId-1094249"></a>Choose <em>Edit</em> &#8211; <em>Advanced</em> &#8211; <em>Align</em>. The Align form appears.</li><li>
<a id="pgfId-1094250"></a>Set <em>Reference</em> to <em>Object</em> and select <em>Pins</em> from the <em>Object</em> list.</li><li>
<a id="pgfId-1094252"></a>Set <em>Align Using</em> to <em>Object</em>.</li><li>
<a id="pgfId-1094519"></a>Select <em>Pins</em> from the <em>Object</em> list.<br />
<a id="pgfId-1094385"></a><div class="webflare-div-image">
<img width="668" height="189" src="images/chap11-28.gif" /></div></li><li>
<a id="pgfId-1094254"></a>Click <em>Hide</em> in the Align form.</li><li>
<a id="pgfId-1094255"></a>Select the reference bus pins on the design canvas.</li><li>
<a id="pgfId-1094256"></a>Click the middle mouse button to switch to the target selection mode.</li><li>
<a id="pgfId-1094257"></a>Select the target bus pins.</li><li>
<a id="pgfId-1094258"></a>To mark the end of target selection, click the middle mouse button. Alternatively, return to the Align form and click <em>Apply</em>.<br />
<a id="pgfId-1094564"></a><div class="webflare-div-image">
<img width="668" height="203" src="images/chap11-29.gif" /></div></li></ol>
















<p>
<a id="pgfId-1094260"></a>The target pins are aligned to the reference pins.</p>
<p>
<a id="pgfId-1094261"></a>Mapping between the reference and target pins is based on their minimum and maximum bit numbers. For example, if you select the reference as <code>net1&lt;4:9&gt; </code>and target as <code>net2&lt;0:5&gt;</code>, the pin aligner derives the following mapping and aligns the pins accordingly:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1094262"></a>net1&lt;4&gt; -&gt; net2&lt;0&gt;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1094263"></a>net1&lt;5&gt; -&gt; net2&lt;1&gt;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1094264"></a>net1&lt;6&gt; -&gt; net2&lt;2&gt;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1094265"></a>net1&lt;7&gt; -&gt; net2&lt;3&gt;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1094266"></a>net1&lt;8&gt; -&gt; net2&lt;4&gt;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1094267"></a>net1&lt;9&gt; -&gt; net2&lt;5&gt;</pre>

<p>
<a id="pgfId-1094179"></a>If the number of selected reference and target bus pins do not match, the pin aligner aligns only those bus pin pairs for which both reference and target pins are selected.</p>

<p>
<a id="pgfId-1094654"></a></p>
<div class="webflare-div-image">
<img width="668" height="203" src="images/chap11-30.gif" /></div>
<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="chap10.html" id="prev" title="Updating Pin Labels and Text Displays">Updating Pin Labels and Text D ...</a></em></b><b><em><a href="appA.html" id="nex" title="Area Estimation Framework">Area Estimation Framework</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2020, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>