
<html><head><title>Setting Floorplan Options</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="spriya" />
<meta name="CreateDate" content="2020-09-20" />
<meta name="CreateTime" content="1600670113" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="You can use this manual as a reference for the Virtuoso Floorplanner, which includes automatic and interactive floorplanning tools that let you specify the rough topology of a physical chip." />
<meta name="DocTitle" content="Virtuoso Floorplanner User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Setting Floorplan Options" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.2.1" />
<meta name="Keyword" content="fphelp" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2020-09-20" />
<meta name="ModifiedTime" content="1600670113" />
<meta name="NextFile" content="chap10.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="PinAssistant.html" />
<meta name="c_product" content="Virtuoso Layout Suite" />
<meta name="Product" content="Virtuoso Layout Suite" />
<meta name="ProductFamily" content="Virtuoso Layout Suite" />
<meta name="ProductVersion" content="ICADVM20.1" />
<meta name="RightsManagement" content="Copyright 2012-2020 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Floorplanner User Guide -- Setting Floorplan Options" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="ICADVM20.1" />
<meta name="SpaceKey" content="fphelpICADVM201" />
<meta name="webflare-version" content="2.0" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="fphelpTOC.html">Contents</a></li><li><a class="prev" href="PinAssistant.html" title="Using the Pin Tool">Using the Pin Tool</a></li><li style="float: right;"><a class="viewPrint" href="fphelp.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="chap10.html" title="Updating Pin Labels and Text Displays">Updating Pin Labels and Text D ...</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Floorplanner User Guide<br />Product Version ICADVM20.1, October 2020</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>10
<a id="pgfId-1066099"></a></h1>
<h1>
<a id="pgfId-1066100"></a><hr />
Setting Floorplan Options<hr />
</h1>

<p>
<a id="pgfId-1070466"></a>This chapter covers the following topics:</p>
<ul><li>
<a id="pgfId-1070632"></a><a href="chap9.html#94992">Floorplan Global Options</a></li><li>
<a id="pgfId-1070686"></a><a href="chap9.html#69233">Block Annotations</a><br /><div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1081138"></a>
(ICADVM20.1 Only) The Floorplan Global Options form is not available in Layout EXL. These settings are available in the Design Planning and Options form.</div></li></ul>



<h2>
<a id="pgfId-1070511"></a><a id="94992"></a>Floorplan Global Op<a id="GXLOptionsForm"></a>tions</h2>

<p>
<a id="pgfId-1065454"></a>The <em>Floorplan &#8211; Floorplan Global Options</em><a id="marker-1072508"></a> menu item enables you to customize the layout design environment. Selecting this menu item displays the Floorplan Global Options form (Layout GXL Options form in IC6.1.8). You can use this form to set global options for either the current cellview or the current session. </p>

<p>
<a id="pgfId-1071046"></a></p>
<div class="webflare-div-image">
<img src="images/FPGlobalOptions2.gif" /></div>

<p>
<a id="pgfId-1067237"></a>Use the options in this form to perform the following tasks:</p>
<ul><li>
<a id="pgfId-1066567"></a><a href="chap9.html#73852">Color Coding Hard and Soft Blocks</a></li><li>
<a id="pgfId-1067134"></a><a href="chap9.html#23331">Controlling Re-Generation of Instances, Pins, and PR Boundary</a></li><li>
<a id="pgfId-1068143"></a><a href="chap9.html#57542">Governing Pin Resize During Pin Snapping</a></li><li>
<a id="pgfId-1067476"></a><a href="chap9.html#60027">Respecting Layer Priority for Valid Routing Layers</a></li><li>
<a id="pgfId-1068176"></a><a href="chap9.html#84891">Specifying the Default Block Type</a></li><li>
<a id="pgfId-1080851"></a><a href="chap9.html#55400">Updating Label Layer Purpose Pairs</a></li></ul>






<h3>
<a id="pgfId-1066569"></a><a id="73852"></a>Color Coding Hard and Soft Block<a id="ColorCodingBlocks"></a>s</h3>

<p>
<a id="pgfId-1065413"></a>Use the following color coding options in the <em>Macro Coloring</em> section to assign different highlight colors for hard and soft blocks so that they are visually distinguishable in the layout canvas:</p>

<ol><li>
<a id="pgfId-1065356"></a>Select the <em>Enable macro coloring scheme </em>check box to enable color coding of hard and soft blocks.<br />
<a id="pgfId-1066322"></a>Corresponding environment variable: <a href="../vxlhelp/appA.html#colorOrNot">colorOrNot</a></li><li>
<a id="pgfId-1066324"></a>Select a highlight color for soft blocks from the <em>Soft block color</em> drop-down list.<br />
<a id="pgfId-1067276"></a>Corresponding environment variable: <a href="../vxlhelp/appA.html#softBlockColor">softBlockColor</a></li><li>
<a id="pgfId-1067265"></a>Select a highlight color for hard blocks from the <em>Hard block color</em> drop-down list.<br />
<a id="pgfId-1066217"></a>Corresponding environment variable: <a href="../vxlhelp/appA.html#hardBlockColor">hardBlockColor</a></li><li>
<a id="pgfId-1065801"></a>Click OK or <em>Apply</em> to view the changes in the layout canvas.<br />
<a id="pgfId-1065252"></a><div class="webflare-div-image">
<img src="images/FPGlobalOptions_colors.gif" /></div>
<a id="pgfId-1066932"></a>The soft and hard blocks are highlighted in different colors, as shown above.</li></ol>












<p>
<a id="pgfId-1066288"></a>These visualization settings are not restricted to the current design. These settings are automatically applied to all layout cellviews that were open when you defined the color settings. To reset the settings, use either the options in the form or their corresponding environment variables.</p>

<h3>
<a id="pgfId-1067169"></a><a id="12588"></a><a id="23331"></a>Controlling Re-Generatio<a id="regenOptions"></a>n of Instances, Pins, and PR Boundary</h3>

<p>
<a id="pgfId-1067170"></a>Use the <em>Create Instances</em>, <em>Create Pins</em>, and <em>Create Boundary</em> check boxes from the <em>Generate Physical Hierarchy</em> section to specify whether instances, pins, and the PR boundary need to be automatically re-created when the physical hierarchy is generated or the components and nets are updated.</p>
<p>
<a id="pgfId-1067177"></a>These options provide a GUI alternative to using the <a href="../vxlhelp/appA.html#initCreateInstances">initCreateInstances</a>, <a href="../vxlhelp/appA.html#initcreatepins">initCreatePins</a> and <a href="../vxlhelp/appA.html#initcreateboundary">initCreateBoundary</a> environment variables.</p>
<p>
<a id="pgfId-1067182"></a>To know more about the <em>Generate Physical Hierarchy</em> command, see <a href="chap3.html#21150">Generating a Physical Hierarchy</a>.</p>
<p>
<a id="pgfId-1067160"></a>To know more about the <em>Update Components and Nets </em>command, see <h-hot><a actuate="user" class="URL" href="../vxlhelp/chap10.html#firstpage" show="replace" xml:link="simple">Updating Components and Nets</a></h-hot>.</p>

<h3>
<a id="pgfId-1068115"></a><a id="57542"></a>Governing Pin Resize During Pin Snap<a id="PinResize"></a>ping</h3>

<p>
<a id="pgfId-1068116"></a>To specify whether pins need to be resized during pin snapping, select the <em>Allow Pin Resizing</em> option from the <em>Pin Snapping </em>section. For more information about pin snapping, see <h-hot>Snapping Soft Block Pins to Grid</h-hot>.</p>
<p>
<a id="pgfId-1068117"></a>Corresponding environment variable: <code>allowPinResizing</code></p>

<h3>
<a id="pgfId-1067355"></a><a id="60027"></a>Respecting Layer Priority f<a id="validLayers"></a>or Valid Routing Layers</h3>

<p>
<a id="pgfId-1067654"></a>During pin optimization, pins are re-positioned and re-layered to obtain the shortest possible net length. The <em>Respect layer priority for valid routing layers constraint on net </em>option in the <em>Pin Placement</em> section specifies the layer priority to be followed while placing pins during pin optimization.</p>
<p>
<a id="pgfId-1067809"></a>When this option is not selected (default state), the Pin Optimizer places pins on layers that are closest to the connected pin.</p>
<p>
<a id="pgfId-1067762"></a>Example: Pin A is connected to top-level pin B. Valid layers from net PRO for pin A are (M1, M2, M5, M7). Pin B is located on layer M2.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1068047"></a>For information about net PROs, see <a href="chap2.html#33746">Support for Net PROs in Virtuoso Floorplanner</a>.</div>

<p>
<a id="pgfId-1067838"></a>The Pin Optimizer first tries to place pin A on M2 to enable the router to connect the two pins without any via insertions. If there are no slots available on M2, the Pin Optimizer tries to place pin A on M1, which is the layer closest to M2.</p>
<p>
<a id="pgfId-1067773"></a>When the <em>Respect layer priority for valid routing layers constraint on net </em>option is selected, pins are optimized based on their layer priority. Layers are prioritized in the order in which they are listed.</p>
<p>
<a id="pgfId-1068454"></a>Corresponding environment variable: <a href="FPenvvars.html#11478"><h-hot>layerPriority</h-hot><code></code></a></p>
<p>
<a id="pgfId-1067977"></a>For more information about Pin Optimization, see <a href="chap7.html#67750">Pin Optimization</a>.<a id="20458"></a></p>

<h3>
<a id="pgfId-1068187"></a><a id="84891"></a>Specifying the Default Block Type</h3>

<p>
<a id="pgfId-1068677"></a>Floorplanner supports two types of blocks - custom and digital. Soft blocks can be assigned to either of these block types. Use the <em>Default blockType (when unknown) </em>option to specify the default block type for soft blocks when the assigned block type is not custom or digital. The default value is <em>Custom</em>. </p>
<p>
<a id="pgfId-1068706"></a>The block type determines the pin and PR boundary placement during floorplanning, as described below:</p>
<ul><li>
<a id="pgfId-1068609"></a>Custom - Pins and PR boundary are placed on the manufacturing grid.</li><li>
<a id="pgfId-1068625"></a>Digital - Pins are placed on routing grid, and PR boundary is placed on the placement grid.</li><li>
<a id="pgfId-1068616"></a>As-Is (XY Snap Spacing) - Pins and PR boundary are placed on the grid defined by the <em>X Snap Spacing</em> and <em>Y Snap Spacing</em> options in the <em>Grid Controls</em> section of the Display Options form. For information about these options, see <a actuate="user" class="URL" href="../vlehelp/chap2.html#grid" show="replace" xml:link="simple">Setting Up Grid Controls</a> in <em>Virtuoso Layout Suite L User Guide</em>.</li></ul>


<p>
<a id="pgfId-1068929"></a>For information about setting the block type, see <a href="chap2.html#21910">Setting the Block Type</a>.</p>
<p>
<a id="pgfId-1068347"></a>Corresponding environment variable: <a href="FPenvvars.html#63201"><h-hot>defaultBlockTypeWhenUnknown</h-hot><code></code></a></p>
<p>
<a id="pgfId-1074197"></a>SKILL function to set the placement grid information: <h-hot><a actuate="user" class="URL" href="../skdfref/placement.html#dbSetPlacementGrid" show="replace" xml:link="simple">dbSetPlacementGrid</a></h-hot></p>

<h3>
<a id="pgfId-1075515"></a><a id="55400"></a>Updating Label Layer <a id="labelLPP"></a>Purpose Pairs</h3>

<p>
<a id="pgfId-1075766"></a>When you run certain pin-related commands, such as the Pin Planner and Pin Optimizer, pins in the design are re-layered. Use the options in the <em>Label Layer Purpose Pair Update</em> section of the Floorplan Global Options from to control the re-layering of the associated pin labels.</p>

<p>
<a id="pgfId-1076262"></a></p>
<div class="webflare-div-image">
<img src="images/FPGlobalOptions_LPP1.gif" /></div>

<p>
<a id="pgfId-1081403"></a>To control the re-layering of pin labels, in the <em>Label Layer Purpose Pair Update</em> section, <em>Update Label Layer Purpose Pair On Pin Layer Change</em> is selected by default. </p>
<p>
<a id="pgfId-1081438"></a>Define the label re-layering behavior by selecting one of the following options:</p>
<ul><li>
<a id="pgfId-1077065"></a><em>Update Label Layer without updating Label Purpose</em> (default): Re-layers labels to match the pins, but their purposes remain unchanged.<br />
<a id="pgfId-1081935"></a>Related Environment Variable: <a href="FPenvvars.html#76282">labelLayerPurposePair<code></code></a></li><li>
<a id="pgfId-1077254"></a><em>Define Custom Layer Purpose Pair</em>: Lets you define the layer and purpose to which labels are to be moved. To specify custom layers and purposes:<ol><li>
<a id="pgfId-1081494"></a>Select <em>Define Custom Layer Purpose Pair</em>.</li><li>
<a id="pgfId-1081492"></a>Click <em>Options</em> to display the Label Layer Purpose form.<br />
<a id="pgfId-1077500"></a><div class="webflare-div-image">
<img width="668" height="266" src="images/chap9-6.gif" /></div></li><li>
<a id="pgfId-1078041"></a>Select one of the following <em>Layer Name</em> options to specify the layers to which the labels are to be moved:<ul><li>
<a id="pgfId-1078556"></a><em>Custom layer</em>: Specifies the layer to which labels are to be moved. Irrespective of the pin layer, all labels are moved to the selected layer. <br />
<a id="pgfId-1081676"></a>Related Environment Variable: <a href="../vlehelp/appB.html#pinTextLayer">pinTextLayer</a></li><li>
<a id="pgfId-1078429"></a><em>Same as Pin</em>: Moves labels to the same layers as the pins.<br />
<a id="pgfId-1081728"></a>Related Environment Variable: <a href="../vlehelp/appB.html#pinTextSameLayer">pinTextSameLayer</a></li><li>
<a id="pgfId-1078135"></a>Select one of the following <em>Layer Purpose </em>options to specify the purposes to be assigned to labels when their associated pins are re-layered:<ul><li>
<a id="pgfId-1079083"></a>Custom purpose: Specifies the purpose to be assigned to labels when the associated pins are re-layered.<br />
<a id="pgfId-1081804"></a>Related Environment Variable: <a href="../vlehelp/appB.html#pinTextPurpose">pinTextPurpose</a></li><li>
<a id="pgfId-1079114"></a><em>Same as Pin</em>: Matches the label purpose to that of the pins after they are re-layered.<br />
<a id="pgfId-1081842"></a>Related Environment Variable: <a href="../vlehelp/appB.html#pinTextSamePurpose">pinTextSamePurpose</a></li><li>
<a id="pgfId-1079137"></a><em>Same as Label</em>: Retains the original label purpose.<br />
<a id="pgfId-1081897"></a>Related Environment Variable: <a href="FPenvvars.html#15344">sameLabelPurpose<code></code></a></li></ul><br />
<a id="pgfId-1076283"></a>When pins are re-layered with <em>Update Label Layer Purpose Pair On Pin Layer Change</em> not selected, labels remain unchanged.</li><li>
<a id="pgfId-1081654"></a>Click <em>OK</em>.</li></ul></li><li>
<a id="pgfId-1078135"></a>Select one of the following <em>Layer Purpose </em>options to specify the purposes to be assigned to labels when their associated pins are re-layered:<ul><li>
<a id="pgfId-1079083"></a>Custom purpose: Specifies the purpose to be assigned to labels when the associated pins are re-layered.<br />
<a id="pgfId-1081804"></a>Related Environment Variable: <a href="../vlehelp/appB.html#pinTextPurpose">pinTextPurpose</a></li><li>
<a id="pgfId-1079114"></a><em>Same as Pin</em>: Matches the label purpose to that of the pins after they are re-layered.<br />
<a id="pgfId-1081842"></a>Related Environment Variable: <a href="../vlehelp/appB.html#pinTextSamePurpose">pinTextSamePurpose</a></li><li>
<a id="pgfId-1079137"></a><em>Same as Label</em>: Retains the original label purpose.<br />
<a id="pgfId-1081897"></a>Related Environment Variable: <a href="FPenvvars.html#15344">sameLabelPurpose<code></code></a></li></ul><br />
<a id="pgfId-1076283"></a>When pins are re-layered with <em>Update Label Layer Purpose Pair On Pin Layer Change</em> not selected, labels remain unchanged.</li><li>
<a id="pgfId-1081654"></a>Click <em>OK</em>.</li></ol></li></ul>





























<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1080951"></a>When both <a href="../vlehelp/appB.html#pinTextSamePurpose">pinTextSamePurpose</a> and <a href="FPenvvars.html#15344">sameLabelPurpose<code></code></a> are set to <code>t</code>, <code>sameLabelPurpose</code> takes precedence. This is irrespective of the <a href="../vlehelp/appB.html#pinTextPurpose">pinTextPurpose</a> setting.</div>
<h2>
<a id="pgfId-1069974"></a><a id="69233"></a>Blo<a id="BlockAnnotations"></a>ck Annotations</h2>

<p>
<a id="pgfId-1069975"></a>During floorplanning, you can turn on block annotations to view textual information about the blocks. Block annotations are aligned to the top-left corner of the PR boundary of the blocks, and include the block instance names, master cellview information, area, and orientation values.</p>

<p>
<a id="pgfId-1070318"></a></p>
<div class="webflare-div-image">
<img width="668" height="349" src="images/chap9-7.gif" /></div>

<p>
<a id="pgfId-1070315"></a>Any change made to the block is dynamically updated in the annotated information. For example, if a block is moved, the information text is also moved to the new location. Similarly, when a block shape is changed by stretching or chopping the block, the annotation values are dynamically updated.</p>
<p>
<a id="pgfId-1069976"></a>To turn on block annotations, choose <em>Floorplan &#8211; Block Annotations.</em> The Block Annotations Options form is displayed. Use the options in this form to customize the information displayed in the block annotations. The Block Annotations form is available for both edit and read-only cellviews.</p>

<p>
<a id="pgfId-1073846"></a></p>
<div class="webflare-div-image">
<img width="668" height="352" src="images/chap9-8.gif" /></div>
<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1069980"></a>
In Layout EXL, choose <em>Plan &#8211; View &#8211; Block Annotations</em>.</div>
<h4><em>
<a id="pgfId-1069981"></a><a id="67055"></a>Setting Annotation Options</em></h4>

<p>
<a id="pgfId-1069982"></a>Use the options in the <em>Annotations</em> section to specify the information that is to be included in the block annotations.</p>

<ol><li>
<a id="pgfId-1069983"></a>Set the <em>Display Mode</em> to specify whether the block annotations are to be displayed for <em>All</em> or <em>Selected</em> blocks.</li><li>
<a id="pgfId-1069984"></a>Select <em>Instance name and Master LCV</em> to display the relevant information in the block annotations.</li><li>
<a id="pgfId-1069985"></a>Select <em>Area</em> to display the total block area within the PR boundary. Select the required units: <ul><li>
<a id="pgfId-1071950"></a><code>um^2</code>: Square micrometers.</li><li>
<a id="pgfId-1071999"></a><code>mm^2</code>: Square millimeters.</li><li>
<a id="pgfId-1072025"></a><code>du^2</code>: Square database unit.</li></ul></li><li>
<a id="pgfId-1074525"></a><em>Shrink Factor</em> specifies the factor by which each edge has to be shrunk. Specify a <em>Shrink Factor</em> to display the shrunk area. The shrunk area is only displayed in the annotation without changing any values in the design.</li><li>
<a id="pgfId-1069986"></a>Select <em>Rotation</em> to include the block orientation information in the block annotations.</li></ol>









<h4><em>
<a id="pgfId-1069987"></a><a id="94096"></a>Setting Display Options</em></h4>

<p>
<a id="pgfId-1069988"></a>Use the options in the <em>Display Options</em> section to customize the following text settings:</p>
<ul><li>
<a id="pgfId-1069989"></a><strong>Text Size:</strong> Specifies the size of block annotations. Select one of the following options:<ul><li>
<a id="pgfId-1083513"></a><em>Auto:</em> Calculates the annotation size such that all annotations are inside the instance boundary.</li><li>
<a id="pgfId-1083563"></a><em>Custom:</em> Lets you drag the slider to the required value. </li></ul><br />
<a id="pgfId-1083596"></a>Click <em>Display</em> to apply the size of annotations to the layout design.</li><li>
<a id="pgfId-1069990"></a><strong>Text Color:</strong> Select a <em>Text Layer</em> based on which the block annotation text is to be formatted.</li></ul>






<p>
<a id="pgfId-1071361"></a>Click <em>Display</em> to view and <em>Remove</em> to hide block annotations in the layout canvas. </p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1072089"></a>Clicking Close will not remove the block annotations.</div>
<h4><em>
<a id="pgfId-1075308"></a>Environment Variables</em></h4>

<ul><li>
<a id="pgfId-1075334"></a><a href="FPenvvars.html#97291">blockAnnotationArea</a></li><li>
<a id="pgfId-1075340"></a><a href="FPenvvars.html#94666">blockAnnotationAreaUnits</a></li><li>
<a id="pgfId-1075358"></a><a href="FPenvvars.html#35493">blockAnnotationInstName</a></li><li>
<a id="pgfId-1075376"></a><a href="FPenvvars.html#96189">blockAnnotationRotation</a></li><li>
<a id="pgfId-1075394"></a><a href="FPenvvars.html#26260">blockAnnotationSelMode</a></li><li>
<a id="pgfId-1075412"></a><a href="FPenvvars.html#37490">blockAnnotationTextLPP</a></li><li>
<a id="pgfId-1075430"></a><a href="FPenvvars.html#56076">blockAnnotationTextSize</a></li><li>
<a id="pgfId-1075453"></a><a href="FPenvvars.html#56288">blockAnnotationShrinkFactor</a></li></ul>








<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="PinAssistant.html" id="prev" title="Using the Pin Tool">Using the Pin Tool</a></em></b><b><em><a href="chap10.html" id="nex" title="Updating Pin Labels and Text Displays">Updating Pin Labels and Text D ...</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2020, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>