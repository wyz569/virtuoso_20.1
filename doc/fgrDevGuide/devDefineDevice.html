
<html><head><title>Develop and Define a Fluid Guard Ring Device</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="komal" />
<meta name="CreateDate" content="2020-09-14" />
<meta name="CreateTime" content="1600082755" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes how to use the Fluid Guard Ring feature of Virtuoso Layout Suite L layout editor." />
<meta name="DocTitle" content="Virtuoso Fluid Guard Ring Developer Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Develop and Define a Fluid Guard Ring Device" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.2.1" />
<meta name="Keyword" content="fgrDevGuide" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2020-09-14" />
<meta name="ModifiedTime" content="1600082755" />
<meta name="NextFile" content="updateCreateGrForm.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="fgrPitchSupport.html" />
<meta name="c_product" content="Virtuoso Layout Suite" />
<meta name="Product" content="Virtuoso Layout Suite" />
<meta name="ProductFamily" content="Virtuoso Layout Suite" />
<meta name="ProductVersion" content="ICADVM20.1" />
<meta name="RightsManagement" content="Copyright 2012-2020 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Fluid Guard Ring Developer Guide -- Develop and Define a Fluid Guard Ring Device" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="ICADVM20.1" />
<meta name="SpaceKey" content="fgrDevGuideICADVM201" />
<meta name="webflare-version" content="2.0" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="fgrDevGuideTOC.html">Contents</a></li><li><a class="prev" href="fgrPitchSupport.html" title="Pitch Support in Fluid Guard Ring">Pitch Support in Fluid Guard R ...</a></li><li style="float: right;"><a class="viewPrint" href="fgrDevGuide.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="updateCreateGrForm.html" title="Customize Create Guard Ring Form">Customize Create Guard Ring Fo ...</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Fluid Guard Ring Developer Guide<br />Product Version ICADVM20.1, October 2020</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>4
<a id="pgfId-1065082"></a></h1>
<h1>
<a id="pgfId-1065244"></a><hr />
<a id="38668"></a>Develop and Define a Fluid Guard Ring Device<hr />
</h1>

<p>
<a id="pgfId-1078014"></a>Customizing an FGR involves more than one step depending on its design: extending the classes and their methods provided in VFO infrastructure, defining the device and its properties in technology file, adding or updating CDF parameters.</p>
<p>
<a id="pgfId-1072148"></a>This chapter covers these aspects in detail in the following sections:</p>
<ul><li>
<a id="pgfId-1067725"></a><a href="devDefineDevice.html#18120">Extending the VFO Infrastructure</a></li><li>
<a id="pgfId-1072324"></a><a href="devDefineDevice.html#19257">Defining Fluid Guard Ring Devices</a></li><li>
<a id="pgfId-1074867"></a><a href="devDefineDevice.html#13028">Adding or Modifying CDF Parameters</a></li></ul>



<h2>
<a id="pgfId-1072326"></a><a id="18120"></a>Extending the VFO Infrastructure</h2>

<p>
<a id="pgfId-1072327"></a>The implementation, filling, and protocol classes in the VFO infrastructure are extendible as explained in the sections below.</p>

<h3>
<a id="pgfId-1072328"></a>Extending the Implementation Class</h3>

<p>
<a id="pgfId-1082706"></a>While writing code for a customized FGR device, a PDK developer extends a class from the <code>vfoAdvGuardRing</code> implementation class. This extended class inherits the slots from base classes and new slots can be defined in it. The examples below illustrate how to do this.</p>

<p>
<a id="pgfId-1082740"></a></p>
<div class="webflare-div-image">
<img width="668" height="145" src="images/devDefineDevice-2.gif" /></div>

<p>
<a id="pgfId-1078240"></a>To specify the drawing method for a new FGR device, override the <code>vfoGRGeometry()</code> method and/or its relevant sub-methods by passing an object of the custom class, as shown below. The example below also shows how to override <code>vfoGRGeometry()</code> and <code>vfoSfDraw()</code> methods.</p>

<p>
<a id="pgfId-1073703"></a></p>
<div class="webflare-div-image">
<img width="668" height="264" src="images/devDefineDevice-3.gif" /></div>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1083639"></a>In case you are implementing fluid guard ring without pitch support, extend from <code>vfoGuardRing</code> class.</div>

<h3>
<a id="pgfId-1073896"></a>Extending the Filling Class</h3>

<p>
<a id="pgfId-1079290"></a>To customize the filling of the contacts in an FGR, extend the <code>vfoSfFillSafe</code> filling class and override the relevant methods.</p>
<p>
<a id="pgfId-1079338"></a>In the example below, <code>subFillClass</code> is the extended filling class and the <code>vfoSfFillShapes()</code> method is overridden to contain the custom contact filling code.</p>

<p>
<a id="pgfId-1079513"></a></p>
<div class="webflare-div-image">
<img width="668" height="212" src="images/devDefineDevice-4.gif" /></div>
<h2>
<a id="pgfId-1078412"></a><a id="56935"></a><a id="19257"></a>Defining Fluid Guard Ring Devices</h2>

<p>
<a id="pgfId-1069283"></a>The process of defining FGR devices requires definition of the device class, declaration of the device, and specification of the device properties in the technology file. The updated FGR device definitions are reflected after you save and reload the edited technology file.</p>

<h3>
<a id="pgfId-1069288"></a>Defining the Device Class</h3>

<p>
<a id="pgfId-1081571"></a>While developing a customized FGR device, the <code>tcCreateDeviceClass</code> class in the technology file acts as a template for device definition. Add the new formal parameters to this device class, as shown below.</p>

<p>
<a id="pgfId-1081595"></a></p>
<div class="webflare-div-image">
<img width="668" height="194" src="images/devDefineDevice-5.gif" /></div>

<p>
<a id="pgfId-1069191"></a>You can define multiple such device definitions. In this case, the class parameter is a union of all parameters belonging to different devices of the same device class.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1069027"></a>For each formal parameter, you must define a CDF parameter with the same name. For example, when you define a formal parameter, <code>myNewParam</code>, also create a CDF parameter named <code>myNewParam</code>. Refer to the <a href="devDefineDevice.html#56935">Defining Fluid Guard Ring Devices</a> section for details.</div>

<h4>
<a id="pgfId-1075039"></a>Example Device Class Definition</h4>

<p>
<a id="pgfId-1075190"></a>Following is an example of a complete device class definition:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083678"></a>tcCreateDeviceClass( &quot;layout&quot; &quot;cdsGuardRing&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083679"></a>    ; class parameters</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083680"></a>    (    (pinName &quot;B1&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083681"></a>         (defComplementaryDevice nil)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083682"></a>  (classVersion nil) </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083683"></a>         (vfoGRImpl &quot;vfoAdvGuardRing&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083684"></a>  (enclosureClass &quot;vfoSfEnclosureClass&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083685"></a>  (vfoProtocolClass &quot;vfoAdvSfImplClass&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083686"></a>         (hilightLpp (quote (&quot;annotate&quot; &quot;drawing&quot;)))</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083687"></a>         (mainLpp (quote (&quot;y2&quot; &quot;drawing&quot;)))</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083688"></a>         (modelLpp (quote (&quot;y0&quot; &quot;drawing&quot;)))</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083689"></a>         (metalLayer nil)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083690"></a>         (contLayer nil)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083691"></a>         (tmpLpp (quote (&quot;instance&quot; &quot;drawing&quot;)))</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083692"></a>         (diffLayer nil)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083693"></a>         (guardRingType nil)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083694"></a>  (termName &quot;B&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083695"></a>    )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083696"></a>    ; formal parameters</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083697"></a>    (    (contAlignment &quot;&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083698"></a>         (xDiffEnclCont 0.0)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083699"></a>  (yDiffEnclCont 0.0)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083700"></a>         (xMetEnclCont 0.0)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083701"></a>  (yMetEnclCont 0.0)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083702"></a>         (xContSpacing 0.0)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083703"></a>  (yContSpacing 0.0)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083704"></a>         (xContWidth 0.0)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083705"></a>  (yContWidth 0.0)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083706"></a>         (enclosingLayers &quot;nil&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083707"></a>  (shapeData &quot;nil&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083708"></a>  (shapeType &quot;none&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083709"></a>         (decompositionMode (if (getShellEnvVar &quot;FGR_USE_ALIGNCUTS&quot;) &quot;alignCuts&quot; &quot;fill45-path-poly&quot;))</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083710"></a>  (hide_keepouts t)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083711"></a>  (fillStyle &quot;distribute&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083712"></a>         (fillClass &quot;vfoSfFillSafe&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083713"></a>  (debug 0)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083714"></a>  (do_something t)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083715"></a>         (formalVersion 0)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083716"></a>  (keepOuts nil)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083717"></a>  (removeCornerContacts nil)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083718"></a>         (horizontalSegWidth 0.0)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083719"></a>  (verticalSegWidth 0.0)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083720"></a>  (verticalPitch 0.0)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083721"></a>  (horizontalPitch 0.0)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083722"></a>    )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083723"></a>    ; IL codes specifying geometry</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083724"></a>    </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083725"></a>    (eval </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083726"></a> (quote </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083727"></a> &#160;&#160;  (if </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083728"></a>  (vfoIsSuperMaster tcCellView) </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083729"></a>  (progn </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083730"></a>  &#160;&#160;  (dbCreateLabel tcCellView modelLpp </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083731"></a>   (range 0 0) &quot;superMaster&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083732"></a>   &quot;lowerLeft&quot; &quot;R0&quot; &quot;roman&quot; 1.0</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083733"></a>  &#160;&#160;  ) </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083734"></a>  &#160;&#160;  (vfoSetProtocolClassName tcCellView </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083735"></a>   (concat vfoProtocolClass)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083736"></a>  &#160;&#160;  )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083737"></a>  ) </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083738"></a>  (let </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083739"></a>  &#160;&#160;  ((result </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083740"></a>   &#160;&#160;  (errset </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083741"></a>    (when </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083742"></a>    &#160;&#160;  t </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083743"></a>    &#160;&#160;  (vfoGRGeometry </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083744"></a>     (makeInstance </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083745"></a>     &#160;&#160;  (or </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083746"></a>      (findClass </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083747"></a>      &#160;&#160;  (concat vfoGRImpl &quot;_ver_&quot; formalVersion)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083748"></a>      ) </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083749"></a>      (error &quot;SKILL Class %L does not exist:&quot; </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083750"></a>      &#160;&#160;  (concat vfoGRImpl &quot;_ver_&quot; formalVersion)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083751"></a>      )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083752"></a>     &#160;&#160;  ) </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083753"></a>                        ?cv tcCellView ?keepOuts keepOuts ?formalVersion formalVersion ?do_something do_something</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083754"></a>     &#160;&#160;  ?debug debug ?fillClass fillClass ?fillStyle fillStyle ?hide_keepouts hide_keepouts ?decompositionMode decompositionMode</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083755"></a>     &#160;&#160;  ?shapeType shapeType ?shapeData shapeData ?enclosingLayers enclosingLayers </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083756"></a>                        ?xContWidth xContWidth ?yContWidth yContWidth ?xContSpacing xContSpacing ?yContSpacing yContSpacing </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083757"></a>                        ?xMetEnclCont xMetEnclCont ?yMetEnclCont yMetEnclCont ?xDiffEnclCont xDiffEnclCont</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083758"></a>     &#160;&#160;  ?yDiffEnclCont yDiffEnclCont ?contAlignment contAlignment ?removeCornerContacts removeCornerContacts </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083759"></a>                        ?vfoGRImpl vfoGRImpl ?modelLpp modelLpp ?tmpLpp tmpLpp ?hilightLpp hilightLpp </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083760"></a>                        ?mainLpp mainLpp ?vfoProtocolClass vfoProtocolClass ?enclosureClass enclosureClass</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083761"></a>     &#160;&#160;  ?termName termName ?pinName pinName ?metalLayer metalLayer ?contLayer contLayer ?diffLayer diffLayer</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083762"></a>     &#160;&#160;  ?defComplementaryDevice defComplementaryDevice ?guardRingType guardRingType ?classVersion classVersion   </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083763"></a>                        ?horizontalSegWidth horizontalSegWidth ?verticalSegWidth verticalSegWidth ?verticalPitch verticalPitch ?horizontalPitch horizontalPitch</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083764"></a>     )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083765"></a>    &#160;&#160;  )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083766"></a>    ) t</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083767"></a>   &#160;&#160;  )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083768"></a>   ) msg</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083769"></a>  &#160;&#160;  ) </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083770"></a>  &#160;&#160;  (setq msg </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083771"></a>   (getqq errset errset)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083772"></a>  &#160;&#160;  ) </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083773"></a>  &#160;&#160;  (unless result </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083774"></a>   (dbCreateLabel tcCellView </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083775"></a>   &#160;&#160;  (quote </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083776"></a>    (&quot;marker&quot; &quot;error&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083777"></a>   &#160;&#160;  ) </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083778"></a>   &#160;&#160;  (range 0 0) </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083779"></a>   &#160;&#160;  (sprintf nil &quot;%L&quot; msg)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083780"></a>   &#160;&#160;  &quot;lowerLeft&quot; &quot;R0&quot; &quot;roman&quot; 1.0</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083781"></a>   ) </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083782"></a>   (error &quot;%L/%L&quot; </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083783"></a>   &#160;&#160;  (getSGq tcCellView cellName) msg</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083784"></a>   )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083785"></a>  &#160;&#160;  )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083786"></a>  )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083787"></a> &#160;&#160;  )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083788"></a> )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083789"></a>    )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1075191"></a>)</pre>
<h3>
<a id="pgfId-1075192"></a>Declaring the Device</h3>

<p>
<a id="pgfId-1075974"></a>The FGR device declaration exists in the <code>tcDeclareDevice</code> construct within the technology file. For example:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083819"></a>tcDeclareDevice( &quot;layout&quot; &quot;cdsGuardRing&quot; &quot;NGR&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083820"></a>    ( (classVersion 1)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083821"></a>      (enclosureClass &quot;vfoSfEnclosureClass&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083822"></a>      (vfoProtocolClass &quot;vfoAdvSfImplClass&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083823"></a>      (hilightLpp (quote (&quot;annotate&quot; &quot;drawing&quot;)))</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083824"></a>      (vfoGRImpl &quot;sub1GuardRing&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083825"></a>      (mainLpp (quote (&quot;Active&quot; &quot;drawing&quot;)))</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083826"></a>      (modelLpp (quote (&quot;y0&quot; &quot;drawing&quot;)))</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083957"></a>      (tmpLpp (quote (&quot;instance&quot; &quot;drawing&quot;)))</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083958"></a>      (guardRingType &quot;N&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083832"></a>      (termName &quot;FGRTerm&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083833"></a>      (pinName &quot;FGRPin&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083834"></a>      (defComplementaryDevice &quot;&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083835"></a>    )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083836"></a>    ( (shapeData &quot;nil&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083847"></a>      (shapeType &quot;none&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083848"></a>      (decompositionMode &quot;fill45-path-poly&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083849"></a>      (hide_keepouts t)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083850"></a>      (fillStyle &quot;distribute&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083851"></a>      (fillClass &quot;vfoSfFillSafe&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083852"></a>      (debug 0)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083853"></a>      (do_something t)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083854"></a>      (formalVersion 0)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083855"></a>      (keepOuts (quote nil))</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083856"></a>      (horizontalSegWidth 0.048)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083858"></a>      (verticalSegWidth 0.172)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083859"></a>      (verticalPitch 0.048)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083860"></a>      (horizontalPitch 0.086)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1083861"></a>    )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1075976"></a>)</pre>

<p>
<a id="pgfId-1083807"></a>Here, replace the names of the implementation, protocol, and filling classes with the names of corresponding new classes that you have extended for the custom FGR. Then, add the new formal parameters in this device declaration construct.</p>
<p>
<a id="pgfId-1081811"></a>Therefore, if we continue with the examples of class extendibility given in the sections above, the <code>tcDeclareDevice</code> construct will need to be updated as shown below.</p>

<p>
<a id="pgfId-1081837"></a></p>
<div class="webflare-div-image">
<img width="668" height="350" src="images/devDefineDevice-6.gif" /></div>
<h3>
<a id="pgfId-1069699"></a>Specifying Device Properties</h3>

<p>
<a id="pgfId-1069700"></a>The <code>tfcDefineDeviceProp</code> construct of the technology file defines the device properties. Following is an example of this construct:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1076578"></a>tfcDefineDeviceProp(</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1076579"></a>; (viewName&#160;&#160;  deviceName           propName          propValue)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1076580"></a>  (layout      &quot;myFluidGuardRing&quot;   vfoProtocolClass  &quot;vfoSfImplClass&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1076556"></a>)</pre>

<p>
<a id="pgfId-1076567"></a>Within this construct, the following properties are available for handling customized FGR devices:</p>

<p>
<a id="pgfId-1082185"></a></p>
<table class="webflareTable" id="#id1082194">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1082196">
<a id="pgfId-1082196"></a>Property name</span>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<span class="tbl-head" id="#id1082198">
<a id="pgfId-1082198"></a>Description</span>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082202"></a><code>vfoProtocolClass</code></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1082246"></a>Defines implementation protocol class that contains the editing commands available for the corresponding FGR device. Use this property to replace the name of the existing implementation protocol class with the one created to override the edit operations. </p>
<p>
<a id="pgfId-1082260"></a><strong>Acceptable values:</strong> Any <em>string</em> type value</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082276"></a><code>vfoGRHideDeviceInForms</code></p>
</td>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1082278"></a>Controls the display of devices on the following two forms &#8211; Install Guard Ring and Create Guard Ring. </p>
<p>
<a id="pgfId-1082361"></a><strong>Acceptable values:</strong> One of the following <em>string</em> type values:</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082282"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082284"></a>Value</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082286"></a>Hides the specified device from</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082288"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082290"></a><code>installAndCreateForm</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082441"></a>Install Guard Ring form</p>
<p>
<a id="pgfId-1082442"></a>Create Guard Ring form</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082294"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082296"></a><code>installForm</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082298"></a>Install Guard Ring form</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082300"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082302"></a><code>createForm</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1082304"></a>Create Guard Ring form</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1070031"></a>For example, the following <code>tfcDefineDeviceProp</code> construct shows how to define custom protocol class, <code>sub1EditClass</code>, and hide the device named <code>myFluidGuardRing</code> from the Install Guard Ring form:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1082548"></a>tfcDefineDeviceProp(</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1082549"></a>; (viewName&#160;&#160;  deviceName           propName                propValue)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1082629"></a>  (layout      &quot;myFluidGuardRing&quot;   vfoProtocolClass        &quot;sub1EditClass&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1082630"></a>  (layout      &quot;myFluidGuardRing&quot;   vfoGRHideDeviceInForms  &quot;installForm&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1082551"></a>)</pre>
<h2>
<a id="pgfId-1074737"></a><a id="13028"></a>Adding or Modifying CDF Parameters</h2>

<p>
<a id="pgfId-1076862"></a>To manage the geometries of the customized FGR device, you can modify the existing component description format (CDF) parameters and attributes, or add new ones by following the steps mentioned below.</p>

<ol><li>
<a id="pgfId-1076901"></a>Create or define new formal parameters for the customized FGR device as given below.<ol><li>
<a id="pgfId-1076961"></a>Dump the ASCII technology file.</li><li>
<a id="pgfId-1076995"></a>Search for the definition of the FGR device class in the technology file.</li><li>
<a id="pgfId-1077018"></a>Add the new formal parameters to the FGR device class, <code>tcCreateDeviceClass</code>, and add a list of the same parameters in the <code>vfoGRGeometry</code> method.</li><li>
<a id="pgfId-1077063"></a>Search for the FGR device declaration in the technology file that needs to be customized and replace the name of the implementation class, <code>vfoAdvGuardRing</code>, with the name of your new implementation class.</li><li>
<a id="pgfId-1077106"></a>Add the new formal parameters in the updated FGR device declaration construct.</li><li>
<a id="pgfId-1077137"></a>Save and load the edited ASCII technology file to update the FGR device definition in the technology database.</li><li>
<a id="pgfId-1077187"></a>Extend the new FGR implementation class from the <code>vfoAdvGuardRing</code> class and define the new formal parameters in the following format:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1077218">
<a id="pgfId-1077218"></a>defclass (<code><em>subImplClass</em></code> (<code><em>vfoAdvGuardRing</em></code>)</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1077219">
<a id="pgfId-1077219"></a> (</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1077220">
<a id="pgfId-1077220"></a>  (<code><em>newParam1</em></code> @initarg <code><em>newParam1</em></code> @initform <code><em>value</em></code>)</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1077221">
<a id="pgfId-1077221"></a>  (<code><em>newParam2</em></code> @initarg <code><em>newParam2</em></code> @initform <code><em>value</em></code>)</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1077222">
<a id="pgfId-1077222"></a> )</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1077223">
<a id="pgfId-1077223"></a>)</pre><br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1077316"></a>This step is not required when you are updating an existing CDF parameter.</div></li></ol></li><li>
<a id="pgfId-1077425"></a>Add or update CDF parameters for the customized FGR device as given below.<ol><li>
<a id="pgfId-1077509"></a>Write a procedure that defines the <code>vfoUpdateCDF(lib cell view)</code> trigger that helps to add new CDF parameters and update the existing ones. When the implementation class of a device is other than <code>vfoAdvGuardRing</code>, this trigger gets called while loading the technology file.</li><li>
<a id="pgfId-1077510"></a>Make sure you assign read and write access rights to the new CDF parameters using the <code>reader</code> and <code>writer</code> properties with the <code>cdfId</code> SKILL variable. For detailed information about <code>cdfId</code>, refer to the <em>Modifying Simulation Information</em> chapter in <em>Component Description Format User Guide</em>.</li><li>
<a id="pgfId-1077561"></a>Use the <code>cdfCreateParam</code> SKILL function to define the attributes of the new CDF parameters. For detailed information about <code>cdfCreateParam</code>, refer to the <em>CDF SKILL Summary</em> chapter in <em>Component Description Format User Guide</em>.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1074741"></a>While updating an existing CDF parameter, you can modify the values of the current attributes and add new attributes.</div></li><li>
<a id="pgfId-1077897"></a>Define a callback for your CDF parameter, if needed. Each user-defined CDF parameter should have a corresponding callback definition.</li><li>
<a id="pgfId-1077898"></a>Save the CDF definition using the <code>cdfSaveCDF</code> function. If the CDF description already exists, the old one gets overwritten by the new description.</li></ol></li></ol>


























<p>
<a id="pgfId-1077876"></a>For detailed information about the triggers, SKILL functions, steps listed above, and related example, refer to the <h-hot><a actuate="user" class="URL" href="http://support.cadence.com/wps/mypoc/cos?uri=deeplinkmin:DocumentViewer;src=wp;q=ApplicationNotes/Custom_IC_Design/AddingNewCDFparam_AN.pdf" show="replace" xml:link="simple">Adding and Managing CDF Parameters for Fluid Guard Rings</a></h-hot> application note available on the <h-hot><a actuate="user" class="URL" href="http://support.cadence.com" show="replace" xml:link="simple">Cadence Online Support</a></h-hot> website.</p>
<p>
<a id="pgfId-1077880"></a>Following example code provides a snapshot of adding new CDF parameter <code>userDefinedParam</code>, updating the existing CDF parameter <code>shapeData</code>, and saving them:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074747"></a>procedure(vfoUpdateCDF(libName cellName viewName)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074748"></a> prog((cellId cdfId)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074749"></a>  cellId = ddGetObj(libName cellName)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074750"></a>  unless(cellId return())</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074751"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074752"></a>  cdfId = cdfGetBaseCellCDF(cellId)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074753"></a>  unless(cdfId</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074754"></a>   cdfId = cdfCreateBaseCellCDF(cellId)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074755"></a>  );;unless</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074756"></a>;;Adding new CDF&#160;&#160;&#160;&#160;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074757"></a>  cdfCreateParam(cdfId</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074758"></a>   ?name&#160;&#160;         &quot;userDefinedParam&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074759"></a>   ?prompt&#160;&#160;       &quot;user CDF&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074760"></a>  ?type&#160;&#160;         &quot;boolean&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074761"></a>  ?defValue&#160;&#160;     t </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074762"></a>  ?callback &#160;&#160;  &quot;userDefinedParam_CdfCB()&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074763"></a>  )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074764"></a>;;Associating reader and writer properties with the new parameters</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074765"></a> &#160;&#160;fromcdf=&#39;(lambda (x) x)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074766"></a> &#160;&#160;tocdf=&#39;(lambda (x) x)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074767"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074768"></a> &#160;&#160;;;Adding readers</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074769"></a> &#160;&#160;putprop(cdfId-&gt;readers fromcdf (concat &quot;userDefinedParam&quot;))</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074770"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074771"></a> &#160;&#160;;;Adding writers</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074772"></a> &#160;&#160;putprop(cdfId-&gt;writers tocdf (concat &quot; userDefinedParam&quot;))</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074773"></a>;;Updating existing CDF attribute</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074774"></a>  foreach(param cdfId~&gt;parameters</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074775"></a>   when(param~&gt;name == &quot;shapeData&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074776"></a>    param~&gt;display=&quot;nil&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074777"></a>    param~&gt;callback=&quot;myShapeData_CdfCB()&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074778"></a>   ) </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074779"></a>  )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074780"></a>;;Defining the myShapeData_CdfCB()callback:</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074781"></a>procedure(myShapeData_CdfCB()</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074782"></a>        let(</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074783"></a>  printf(&quot;myShapeData Callback \n&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074784"></a>        )</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074785"></a>)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1074786"></a>cdfSaveCDF(cdfId)</pre>

<p>
<a id="pgfId-1083157"></a></p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="fgrPitchSupport.html" id="prev" title="Pitch Support in Fluid Guard Ring">Pitch Support in Fluid Guard R ...</a></em></b><b><em><a href="updateCreateGrForm.html" id="nex" title="Customize Create Guard Ring Form">Customize Create Guard Ring Fo ...</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2020, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>