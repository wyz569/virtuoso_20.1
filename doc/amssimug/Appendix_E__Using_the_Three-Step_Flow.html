
<html><head><title>Appendix E: Using the Three-Step Flow</title>
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="jaini" />
<meta name="CreateDate" content="2019-11-04" />
<meta name="CreateTime" content="1572864952" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the Virtuoso AMS Designer simulator, a mixed-signal simulator that supports the Verilog-AMS and VHDL-AMS language standards." />
<meta name="DocTitle" content="Spectre AMS Designer and Xcelium Simulator Mixed-Signal User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Appendix E: Using the Three-Step Flow" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="FileType" content="Chapter" />
<meta name="Keyword" content="amssimug" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2019-11-04" />
<meta name="ModifiedTime" content="1572864952" />
<meta name="NextFile" content="Appendix_F__Migrating_to_an_amsd_Block_from_prop.cfg.html" />
<meta name="Group" content="Analog Mixed-Signal Simulation" />
<meta name="Platform" content="Functional Verification" />
<meta name="PrevFile" content="Appendix_D__Using_the_Profiler.html" />
<meta name="Product" content="Xcelium" />
<meta name="ProductFamily" content="Functional Verification" />
<meta name="ProductVersion" content="19.09" />
<meta name="RightsManagement" content="Copyright 2012-2019 Cadence Design Systems Inc." />
<meta name="Title" content="Spectre AMS Designer and Xcelium Simulator Mixed-Signal User Guide -- Appendix E: Using the Three-Step Flow" />
<meta name="Version" content="19.09" />
<meta name="Renderer" content="WIKI" />
<meta name="SpaceKey" content="amssimug2003" />
<meta name="confluence-version" content="6.13.3" />
<meta name="ecms-plugin-version" content="03.30.005" />

        
        <link href="styles/site.css" rel="stylesheet" type="text/css" />
        <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
    

    </head><body style="background-color: #FFFFFF;"><!-- Begin Buttons --><header xmlns:html="http://www.w3.org/1999/xhtml"><div class="docHeadr">Product Documentation<img src="images/Cadence-Logo.jpg" /></div>
<nav class="blueHead"><ul><li><a class="content" href="amssimugTOC.html">Contents</a></li><li><a class="prev" href="Appendix_D__Using_the_Profiler.html" title="Appendix_D__Using_the_Profiler">Appendix_D__Using_the_Profiler</a></li><li style="float: right;"><a class="viewPrint" href="amssimug.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="Appendix_F__Migrating_to_an_amsd_Block_from_prop.cfg.html" title="Appendix_F__Migrating_to_an_amsd_Block_from_prop.cfg">Appendix_F__Migrating_to_an_am ...</a></li></ul></nav></header><!-- End Buttons --><div xmlns:html="http://www.w3.org/1999/xhtml" style="font-size:14px;line-height:1.42857142857;margin:20px 0 0 0;font-weight:bold;"><center>Spectre AMS Designer and Xcelium Simulator Mixed-Signal User Guide<br />Product Version 19.09, September 2019</center></div>
<div xmlns:html="http://www.w3.org/1999/xhtml" style="margin-left:5%;">
<p></p>

<p></p>
<div id="main-header">
                    
                    
                                                <h1 style="margin: 4px 0 4px;"><span>Appendix E: Using the Three-Step Flow</span></h1>

                    
                </div>
<div class="wiki-content group" id="main-content">
                    
<p><span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1035250"></span></p>
<h2 id="AppendixE:UsingtheThree-StepFlow-SettinguptheThree-StepFlow">Setting up the Three-Step Flow</h2>
<div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>The three-step flow is a legacy flow and will be deprecated in a future release.</p>
</div>
</div>
<div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>The <code>prop.cfg</code> file has been deprecated and replaced with the amsd block. If you have a <code>prop.cfg</code> file from a previous release, you can migrate to an <code>amsd</code> block using one of the following methods:</p>
<ul><li>Manually migrate to an <code>amsd</code> block. See <a href="Appendix_F__Migrating_to_an_amsd_Block_from_prop.cfg.html">Appendix F: Migrating to an amsd Block from prop.cfg</a>.</li><li>Enable the internal translator to convert your <code>prop.cfg</code> file to an amsd block file, <code>prop.cfg.scs</code>. Set the AMSCB environment variable as follows:</li></ul><p style="margin-left: 60.0px;"><code>setenv AMSCB YES</code></p>

<p>For more information about the syntax and statements used in an <code>amsd</code> block, see the <a href="Using_an_amsd_Block.html">Using an amsd Block</a> chapter.</p>
</div>
</div>

<p>The <code>xmvlog</code>&#160;and <code>xmvhdl</code>&#160;compilers parse and analyze your Verilog, Verilog<span style="color: rgb(0,0,0);"> <sup>&#174;</sup> </span>-AMS, VHDL, and VHDL-AMS source files, and store compiled objects and other derived data in libraries that follow the<a href="#AppendixE:UsingtheThree-StepFlow-1040487"> Library.Cell:View (L.C:V) approach</a>. While you do not need to provide any setup files to run the NC software (refer to the book<span style="color: rgb(0,0,255);"> <a class="message-url" href="../SettingUp/SettingUpTOC.html">Setting Up Your Environment</a> </span>), the following configuration files can help you manage your data and control the operation of the software:</p>
<div class="table-wrap"><table border="0" cellpadding="4" cellspacing="0" class="wrapped confluenceTable" style="width: 648.0px;"><colgroup> <col /> <col /> </colgroup><tbody><tr><th class="confluenceTh" valign="middle" width="96">
<p>File</p>
</th><th class="confluenceTh" valign="middle" width="552">
<p>Description</p>
</th></tr>
<tr><td class="confluenceTd" valign="top">
<p><code>
            <a href="#AppendixE:UsingtheThree-StepFlow-1040515">cds.lib</a>
            <br />
          </code></p>
</td>
<td class="confluenceTd" valign="top">
<p>Defines design libraries and associates logical library names with physical library locations.</p>
</td>
</tr>
<tr><td class="confluenceTd" valign="top">
<p><a href="#AppendixE:UsingtheThree-StepFlow-1040758"> <code>hdl.var</code> </a></p>
</td>
<td class="confluenceTd" valign="top">
<p>Defines variables that affect the behavior of the software.</p>
</td>
</tr>
<tr><td class="confluenceTd" valign="top">
<p><code>
            <a href="#AppendixE:UsingtheThree-StepFlow-1041346">setup.loc</a>
          </code></p>
</td>
<td class="confluenceTd" valign="top">
<p>Specifies the search order to use for finding <code>cds.lib</code> and <code>hdl.var</code> files.</p>
</td>
</tr>
</tbody></table></div>
<div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>For more information about the library infrastructure, see the<span style="color: rgb(0,0,0);">&#160;<em>Cadence Application Infrastructure User Guide</em>.</span></p>
</div>
</div>

<p>See the following topics for more information:</p>
<ul><li><a href="#AppendixE:UsingtheThree-StepFlow-1040487"> The Library.Cell:View Approach </a></li></ul><ul><li><a href="#AppendixE:UsingtheThree-StepFlow-1040515"> The cds.lib File </a></li></ul><ul><li><a href="#AppendixE:UsingtheThree-StepFlow-1040758"> The hdl.var File </a></li></ul><ul><li><a href="#AppendixE:UsingtheThree-StepFlow-1041346"> The setup.loc File </a></li></ul><ul><li><a href="#AppendixE:UsingtheThree-StepFlow-1041375"> The Property (prop.cfg) File </a></li></ul><ul><li><a href="#AppendixE:UsingtheThree-StepFlow-1041922"> The Port Mapping File </a></li></ul><ul><li><a href="#AppendixE:UsingtheThree-StepFlow-1042037"> The Verilog File for Port Mapping </a></li></ul><ul><li><a href="#AppendixE:UsingtheThree-StepFlow-1042059"> Using hdl.var and cds.lib to Map Libraries and Views </a></li></ul><h3 id="AppendixE:UsingtheThree-StepFlow-TheLibrary.Cell:ViewApproachlib_cell_view1040487">The Library.Cell:View Approach<span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-lib_cell_view"></span> <span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1040487"></span></h3>

<p>Compiled objects and other derived data are stored in libraries. The library structure is organized according to a Library.Cell:View (L.C:V) approach.</p>
<ul><li>Library<br /> <br />A collection of related cells that describe components of a single design (a<span style="color: rgb(0,0,0);"> design library</span>) or common components used in many designs (a<span style="color: rgb(0,0,0);"> reference library</span>).<br /> <br />Each library is referenced by a logical name and has a unique physical directory associated with it. You define library names and map them to physical directories in the <code>cds.lib</code>&#160;file.<br /> <br />The library used for your current design work is called the<span style="color: rgb(0,0,0);"> working </span>or<span style="color: rgb(0,0,0);"> work </span>library. You define your current work library by setting a variable in the <code>hdl.var</code>&#160;file or by using the <code>-work </code>command-line option.</li></ul><ul><li>Cell<br />A cell is an object with a unique name stored in a library. Each module, macromodule, <a href="Glossary.html#Glossary-1036267">UDP</a>, entity, architecture, package, package body, connectrules, or configuration is a unique cell.The internal intermediate objects necessary to represent a cell are contained in the library database file (<a href="Glossary.html#Glossary-1034677">.pak</a>&#160;file) stored in the library directory.</li></ul><ul><li>View<br />A view is a version of a cell. Views can be used to delineate between representations (schematic, VHDL, Verilog-AMS), abstraction levels (behavior, RTL, postsynthesis), status (experimental, released, golden), and so on. For example, you might have one view that is the RTL representation of a particular module and another view that is the behavioral representation, or you might have two different versions of a cell - one with timing and one without timing.<br /> <br />The internal intermediate objects necessary to represent a view are contained in the library database file (<code>.pak</code>&#160;file) stored in the library directory.</li></ul>
<p>See also<a href="#AppendixE:UsingtheThree-StepFlow-1042059"> &quot;Using hdl.var and cds.lib to Map Libraries and Views&quot; </a>for an example.</p>
<h3 id="AppendixE:UsingtheThree-StepFlow-Thecds.libFilecdslib1040515">The cds.lib File<span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-cdslib"></span> <span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1040515"></span></h3>

<p>The <code>cds.lib</code>&#160;file is an ASCII text file that defines which libraries are accessible and where they are located. The file contains statements that map logical library names to their physical directory paths. During initialization, all software that needs to understand library names read the <code>cds.lib</code>&#160;file and compute the logical to physical mapping.</p>

<p>You can create a <code>cds.lib</code>&#160;file with any text editor. The following examples show how library bindings are specified in the <code>cds.lib</code>&#160;file with the <code>DEFINE</code>&#160;statement. The logical and physical names can be the same or different.</p>
<div class="table-wrap"><table border="1" cellpadding="5" cellspacing="0" class="wrapped confluenceTable" style="width: 648.0px;"><tbody><tr><th class="confluenceTh" valign="middle" width="132">
<p>keyword</p>
</th><th class="confluenceTh" valign="middle" width="228">
<p>logical library name</p>
</th><th class="confluenceTh" valign="middle" width="288">
<p>physical location</p>
</th></tr>
<tr><td class="confluenceTd" valign="top">
<p><code> DEFINE </code></p>
</td>
<td class="confluenceTd" valign="top">
<p><code> lib_std </code></p>
</td>
<td class="confluenceTd" valign="top">
<p><code>/usr1/libs/std_lib </code></p>
</td>
</tr>
<tr><td class="confluenceTd" valign="top">
<p><code> DEFINE </code></p>
</td>
<td class="confluenceTd" valign="top">
<p><code> worklib </code></p>
</td>
<td class="confluenceTd" valign="top">
<p><code>../worklib </code></p>
</td>
</tr>
</tbody></table></div>

<p>You can have more than one <code>cds.lib</code>&#160;file. For example, you can have a project-wide <code>cds.lib</code>&#160;file that contains library settings specific to a project (like technology or cell libraries) and a user <code>cds.lib</code>&#160;file. Use the <code>INCLUDE</code>&#160;or <code>SOFTINCLUDE</code>&#160;statements to include a <code>cds.lib</code>&#160;file within a <code>cds.lib</code>&#160;file.</p>
<div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>If you are doing a pure VHDL or a mixed-language simulation, you must use the <code>INCLUDE</code> or <code>SOFTINCLUDE</code> statement in the <code>cds.lib</code> file to include the default <code>cds.lib</code> file located in:<br /> <code>your_install_dir/tools/xcelium/files/cds.lib</code></p>
</div>
</div>

<p>This&#160;<code>cds.lib</code>&#160;file contains a <code>SOFTINCLUDE</code>&#160;statement to include a file called <code>cdsvhdl.lib</code>, which defines the Synopsys IEEE libraries included in the release. If you want to use the IEEE libraries that were shipped with Version 2.1 of the NC VHDL simulator or NC simulator instead of the Synopsys libraries, you must include the <code>cds.lib</code>&#160;file located in</p>

<p><code> your_install_dir /tools/xcelium/files/IEEE_pure/cds.lib</code></p>

<p>By default, Cadence software searches for the <code>cds.lib</code>&#160;file in the following locations, defined in the <code>setup.loc</code>&#160;file. The first <code>cds.lib</code>&#160;file that is found is used.</p>
<ul><li>Your current directory</li></ul><ul><li><code> $CDS_WORKAREA</code>&#160;(user work area, if defined)</li></ul><ul><li><code> $CDS_SEARCHDIR</code>&#160;(if defined)</li></ul><ul><li>Your home directory</li></ul><ul><li><code> $CDS_PROJECT</code>&#160;(project area, if defined)</li></ul><ul><li><code> $CDS_SITE</code>&#160;(site setup, if defined)</li></ul><ul><li><code> your_install_dir</code> <code>/share </code></li></ul>
<p>You can edit the <code>setup.loc</code>&#160;file to add other locations to search or to change the order of precedence to use when searching for the <code>cds.lib</code>&#160;file. See<a href="#AppendixE:UsingtheThree-StepFlow-1041346"> &quot;The setup.loc File&quot;</a>.</p>

<p>Each program that reads a <code>cds.lib</code>&#160;file also has a <code>-cdslib</code>&#160;option that you can use on the command line to override the search order specified in the <code>setup.loc</code>&#160;file.</p>
<h4 id="AppendixE:UsingtheThree-StepFlow-worklibTheWorkLibrary"><span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-worklib"></span>The Work Library</h4>

<p>The library used for your current design work is called the<span style="color: rgb(0,0,0);"> work </span>library. The work library is the library into which design units are compiled. Like other libraries, the directory path of the work library is defined in the <code>cds.lib</code>&#160;file.</p>

<p>There are several ways to specify which library is the work library. For Verilog-AMS, you can use compiler directives in the source file, the <code>-work</code>&#160;command-line option, or variables defined in the <code>hdl.var</code>&#160;file. See<a href="Compiling.html#Compiling-1033454"> &quot;Controlling the Compilation of Design Units into Library.Cell:View&quot; </a>for details. For VHDL, define the<code> WORK </code>variable in the <code>hdl.var</code>&#160;file or use the <code>-work</code>&#160;option on the command line.</p>
<h4 id="AppendixE:UsingtheThree-StepFlow-cds.libStatements1040566cdslib_state">cds.lib Statements<span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1040566"></span> <span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-cdslib_state"></span></h4>

<p>The following list shows the statements you can use in a <code>cds.lib</code>&#160;file.</p>
<h4 id="AppendixE:UsingtheThree-StepFlow-Define">Define</h4>

<p>Associates the logical library name specified with the <em> <code>lib_name</code> </em>argument with the physical directory path specified with the <code>path</code>&#160;argument.</p>

<p>Syntax:<br /> <code>
    define
    <em> lib_name path </em>
  </code></p>

<p>Examples:<br /> <code>DEFINE ttl_lib /usr1/libraries/ttl_lib</code> <br /> <code>DEFINE ttl ./libraries/ttl</code></p>

<p>It is an error to specify the same directory in multiple library definitions.</p>
<h4 id="AppendixE:UsingtheThree-StepFlow-Undefine">Undefine</h4>

<p>Undefines the specified library. This command is useful for removing any libraries that were defined in other files. No error is generated if <em> <code>lib_name</code> </em>&#160;was not previously defined.</p>

<p>Syntax:<br /> <code>
    undefine
    <em> lib_name </em>
  </code></p>

<p>Example:<br /> <code>UNDEFINE ttl</code></p>
<h4 id="AppendixE:UsingtheThree-StepFlow-Include">Include</h4>

<p>Reads the specified file as a <code>cds.lib</code>&#160;file. Use <code>INCLUDE</code>&#160;to include the library definitions contained in the specified file. An error message is printed if <em> <code>file</code> </em>&#160;is not found or if recursion is detected.</p>

<p>The file to be included does not have to be named <code>cds.lib.</code></p>

<p>Syntax:<br /> <code>include
     <em>file </em>
  </code></p>

<p>Example:</p>

<p>The following example includes the <code>cds.lib</code>&#160;file in <code>/users/$USER</code>:</p>

<p><code> INCLUDE /users/$USER/cds.lib </code></p>
<h4 id="AppendixE:UsingtheThree-StepFlow-Softinclude">Softinclude</h4>

<p><code> SOFTINCLUDE</code>&#160;is the same as the <code>INCLUDE</code>&#160;statement, except that no error messages are printed if the file does not exist. Using <code>SOFTINCLUDE</code>&#160;to cause recursion results in an error.</p>

<p>Syntax:<br /> <code>
    softinclude
    <em> file </em>
  </code></p>

<p>The following example includes the <code>cds.lib</code>&#160;file in the <code>$GOLDEN</code>&#160;directory:</p>

<p><code> SOFTINCLUDE $GOLDEN/cds.lib </code></p>
<h4 id="AppendixE:UsingtheThree-StepFlow-assAssign"><span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-ass"></span>Assign</h4>

<p>Syntax:<br /> <code>
    assign
    <em>lib attribute path </em>
  </code></p>

<p>Assigns an attribute to the library. The two supported forms are</p>
<div class="table-wrap"><table bgcolor="#FFFFFF" cellpadding="4" cellspacing="0" class="wrapped confluenceTable" style="width: 648.0px;"><tbody><tr><td class="confluenceTd" valign="top" width="342">
<p><code>ASSIGN </code> <code> lib </code> <code> TMP </code> <code> directory</code></p>
</td>
<td class="confluenceTd" valign="top" width="306">
<p>Specifies a directory to provide temporary storage for a particular previously defined library.</p>

<p>See<a href="#AppendixE:UsingtheThree-StepFlow-1040681"> &quot;Binding One Library to Multiple Temporary Storage Directories&quot; </a>for details.</p>
</td>
</tr>
<tr><td class="confluenceTd" valign="top">
<p><code>ASSIGN </code> <code> AllLibs </code> <code> TmpRootDir </code> <code> directory</code></p>
</td>
<td class="confluenceTd" valign="top">
<p>Specifies a single directory to provide temporary storage for all the libraries used in a design. Each newly created temporary library has the same name as the corresponding master library.</p>
</td>
</tr>
</tbody></table></div>

<p><code> TMP</code>&#160;bindings take precedence over&#160;<code>AllLibs</code>&#160;bindings. Bindings you create by specifying the&#160;<code>-CDS_IMPLICIT_TMPDIR</code>&#160;option on the command line take precedence over both <code>TMP</code>&#160;and<code> AllLibs</code>&#160;bindings.</p>

<p>For example, your <code>cds.lib</code>&#160;contains</p>

<p><code> DEFINE amstestLib ./amstest<br />DEFINE basicLib ./basic<br />ASSIGN basicLib TMP ./basicTMP<br />DEFINE analogLib ./analog </code></p>

<p>Consequently, your derived files are written to</p>

<p><code> ./amstest<br />./basicTMP<br />./analog </code></p>

<p>To your <code>cds.lib</code>&#160;file, you add the statement</p>

<p><code> ASSIGN AllLibs TmpRootDir ./myTMPs </code></p>

<p>After this addition, your derived files are written to</p>

<p><code> ./myTMPs/amstestLib<br />./basicTMP<br />./myTMPs/analogLib </code></p>
<h4 id="AppendixE:UsingtheThree-StepFlow-unassUnassign"><span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-unass"></span>Unassign</h4>

<p>Removes an assigned attribute from the library.</p>

<p>No error is generated if the attribute has not been assigned to the library. If the library has not been defined, an error is generated.</p>
<div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>The only supported attributes are <code>TMP</code> and <code>TmpRootDir</code>.</p>
</div>
</div>

<p>Syntax:</p>

<p><code>unassign lib   attribute </code></p>

<p>Example:</p>

<p><code> UNASSIGN iclib TMP</code> <br /> <code>UNASSIGN AllLibs TmpRootDir </code></p>
<h4 id="AppendixE:UsingtheThree-StepFlow-cdslib_syntaxcds.libSyntaxRules"><span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-cdslib_syntax"></span>cds.lib Syntax Rules</h4>

<p>The following rules apply to the <code>cds.lib</code>&#160;file:</p>
<ul><li>Only one statement per line is allowed.</li></ul><ul><li>Blank lines are allowed.</li></ul><ul><li>Use the pound sign (<code>#</code>) or the double hyphen (<code>--</code>) to begin a comment. You must precede and follow the comment character with white space, a tab, or a new line.<br />Examples:<br /> <code> # this is a comment<br /> </code> <code> -- this is another comment. </code></li></ul><ul><li>Keywords are identified as the first non-whitespace string on a line.</li></ul><ul><li>Keywords and attributes are case insensitive.</li></ul><ul><li>You can include symbolic variables (UNIX environment variables like<code> $HOME </code>and CSH extensions such as <code>~ </code>and <code>~user</code>).</li></ul><ul><li>Symbolic variables and library path names are in the file system domain and are case sensitive.</li></ul><ul><li>You can enter absolute or relative file paths. Relative paths are relative to the location of the file in which they occur, not to the directory where the software was started.</li></ul><ul><li>Library names and path names reside within the file system name-space. For Verilog-AMS, nonescaped library names are the same as the Verilog-AMS name; for VHDL, nonescaped library names are resolved to lower-case.<br /> <br />You cannot directly use escaped library names in a <code>cds.lib</code>&#160;file. To use an escaped name, run the<span style="color: rgb(0,0,0);"> nmp </span>program in the <code>your_install_dir</code> <code>/tools/bin </code>directory to see how escaped library names are mapped to file system names. Then use the mapped name in the<code> cds.lib </code>file.<br /> <br />The syntax for the<em> <span style="color: rgb(0,0,0);"> nmp </span> </em>program is as follows. Note the trailing space after<br /> <code>
      <em> illegal_name</em>.<br />
      <br />nmp mapName {Verilog | NVerilog | Vhdl} Filesys `\ illegal_name&#160;&#39;</code> <br /> <br />For example, to use the library named <code>Lib*</code>, you must use the library&#39;s escaped name format (<code>\Lib*</code>), because &quot;<code>*</code>&quot; is an illegal character. To determine the mapped file system name for <code>\Lib*</code>, type:<br /> <code>nmp mapName Verilog Filesys `\Lib* &#39;<br />
      <br /> </code>The nmp program returns:<br /> <code>Lib#2a<br />
      <br /> </code>Use the mapped name (<code>Lib#2a</code>) in the <code>cds.lib</code>&#160;file.</li></ul><h4 id="AppendixE:UsingtheThree-StepFlow-Examplecds.libFile">Example cds.lib File</h4>

<p>The following example contains many of the statements you can use in a<code> cds.lib </code>file. Comments begin with the pound sign (#). See<a href="#AppendixE:UsingtheThree-StepFlow-1040566"> &quot;cds.lib Statements&quot; </a>for a description of the<code> cds.lib </code>statements.</p>

<p><code> # Assign /usr1/libraries/ic_library to the<br /># logical library name ic_lib<br />DEFINE ic_lib /usr1/libraries/ic_library </code></p>

<p><code> # Specify a relative path to library aludesign.<br /># The path is relative to this cds.lib file<br />DEFINE aludesign ./design </code></p>

<p><code> # Read cds.lib from the /users/$USERS directory.<br />INCLUDE /users/${USERS}/cds.lib </code></p>

<p><code> # Read cds.lib from the $CADLIBS directory.<br />SOFTINCLUDE ${CADLIBS}/cds.lib </code></p>

<p><code> # Define a temporary directory and assign the TMP attribute<br /># to it. The directory ./temp must exist and templib must be<br /># set to WORK in the hdl.var file in order to compile data<br /># into it.<br />DEFINE templib ./temp_lib<br />ASSIGN templib TMP ./temp </code></p>
<h4 id="AppendixE:UsingtheThree-StepFlow-1040681BindingOneLibrarytoMultipleTemporaryStorageDirectoriestempdir"><span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1040681"></span>Binding One Library to Multiple Temporary Storage Directories<span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-tempdir"></span></h4>

<p>You can bind a previously defined library to a temporary storage directory by using the <code>TMP</code>&#160;attribute with the <code>ASSIGN</code>&#160;keyword. This allows multiple designers to reference a common library, but store compiled objects in separate design directories. When the <code>TMP</code>&#160;attribute is applied to a library, a logical OR operation is performed to include the files present in both the master and TMP directories.</p>

<p>Use the<code> UNASSIGN </code>statement to remove the <code>TMP</code>&#160;attribute before compiling your design units into the master library.</p>

<p>The following steps assign the attribute <code>TMP</code>&#160;to the library <code>lsttl </code>(the environment variable <code>PROJECT</code>&#160;is set to<code> /usr1/libs</code>).</p>
<ol><li>Set the environment variable at the command-line prompt.<br /> <code>setenv PROJECT /usr1/libs</code></li><li>Set the <code>cds.lib</code>&#160;file variables.<br /> <code># Define the master library directory<br /> </code> <code> DEFINE lsttl ${PROJECT}/lsttl_lib<br /> </code> <code> # Assign a temp storage directory<br /> </code> <code> ASSIGN lsttl TMP ~/work/lsttl_design</code></li></ol>
<p>The attribute<code> TMP </code>is now assigned to the library <code>lsttl</code>. Subsequent calls to <code>lsttl</code>&#160;include the contents of both the library (<code>lsttl</code>) and the directory (<code>/usr1/work/lsttl_design</code>).</p>

<p>The <code>TMP</code>&#160;attribute can be reassigned to a new value without unassigning it first.</p>
<h4 id="AppendixE:UsingtheThree-StepFlow-DirectoryBindingRules">Directory Binding Rules</h4>

<p>The following rules apply to binding directories with the <code>TMP</code>&#160;attribute:</p>
<ul><li>Only one directory can be bound to a master library using the <code>TMP</code>&#160;attribute.</li></ul><ul><li>If the referenced library does not exist when the<code> ASSIGN </code>command is processed, an error is generated and the command has no effect.</li></ul><h4 id="AppendixE:UsingtheThree-StepFlow-UsingImplicitTMPLibraries">Using Implicit TMP Libraries</h4>

<p>Many design environments include shared design libraries with file permissions set to read-only. This protects the library by allowing only authorized users to add, delete, or move design units in the libraries. While elaborating designs that include units from these read-only libraries, the elaborator produces new intermediate files and attempts to store them in the read-only library, something it is not allowed to do. One solution to this problem is to use an explicit TMP library (one created by assigning the <code>TMP</code>&#160;attribute to a library). However, using explicit TMP libraries requires you to add extra lines to the <code>cds.lib</code>&#160;file and opens up the possibility that design units could be accidentally recompiled into the TMP library, masking the contents of the shared design library.</p>

<p>To solve this problem, the elaborator can automatically create implicit TMP libraries. If the elaborator needs to produce new intermediate files for a design unit that is in a read-only library that has no explicit TMP library assigned, it automatically creates a TMP library to hold the intermediate files. If you use the <code>-messages</code>&#160;option, the elaborator generates a message like the following:</p>

<p><code> Using implicit TMP libraries; associated with library worklib </code></p>

<p>These implicit TMP libraries are located in the same directory as the design library that contains the snapshot produced by the elaborator. Each directory for an implicit TMP library is named<code> inca. </code> <code> library_name </code>(for example, <code>inca.amsLib</code>,<code> inca.digLib</code>).</p>

<p>The AMS Designer simulator searches for intermediate files in the following order:</p>
<ol><li>The design library defined in the <code>cds.lib</code>&#160;file</li><li>Any existing explicit TMP library associated with the design library</li><li>An implicit TMP library</li></ol><div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>The form of implicit TMP library creation described in this section is turned off when you use the <code>-CDS_IMPLICIT_TMPDir</code> option on the command line.</p>
</div>
</div>
<h4 id="AppendixE:UsingtheThree-StepFlow-Debuggingcds.libFiles">Debugging cds.lib Files</h4>

<p>You can use the<span style="color: rgb(0,0,255);font-family: &quot;Courier New&quot;;font-size: small;"> <a class="message-url" href="../SimulatorUtilities/xmhelp__Get_Help_on_messages_generated_by_the_Simulator.html#nchelp_cdslib">xmhelp -cdslib</a> </span>command to display information about the contents of <code>cds.lib</code>&#160;files. This can help you identify errors and any incorrect settings contained within your <code>cds.lib</code>&#160;files.</p>

<p>Syntax:<br /> <code>
    <span style="color: rgb(0,0,0);">xmhelp -cdslib [</span>
    <code style="color: rgb(0,0,0);">cds.lib_file</code>
    <span style="color: rgb(0,0,0);">]</span>
  </code></p>

<p>Examples:<br /> <code>xmhelp -cdslib</code> <br /> <code>xmhelp -cdslib ~/cds.lib</code> <br /> <code>xmhelp -cdslib ~/design/cds.lib</code></p>

<p>The following example shows how to display information about the contents of <code>cds.lib</code>&#160;files. In the example, the <code>xmhelp -cdslib</code>&#160;command displays the contents of the <code>cds.lib</code>&#160;file that would be used. In this example, the <code>cds.lib</code>&#160;file is in the current working directory.</p>

<p><br /></p>
<p align="left"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/305236166/305236172.png" data-linked-resource-container-id="305236166" data-linked-resource-container-version="3" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="appE.30.1.1.png" data-linked-resource-id="305236172" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/305236166/305236172.png" width="640px" /></span></p>

<p>Here are some common error and warning messages caused by problems with the <code>cds.lib</code>&#160;file:</p>

<p><code>
    <span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;font-size: small;"> <span style="color: rgb(0,0,0);"> xmvlog board.v<br />xmvlog: v2.2.(d5): (c) Copyright 1995 - 2000 Cadence Design Systems, Inc.<br />xmvlog: *W,DLNOCL: Unable to find a &#39;cds.lib&#39; file to load in.<br />xmvlog: *F,WRKBAD: logical library name WORK is bound to a bad<br /> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;library name &#39;worklib&#39;. </span> </span>
  </code></p>

<p>The <code>DLNOCL</code>&#160;warning occurs when the software cannot find a <code>cds.lib</code>&#160;file using the search order specified in the <code>setup.loc</code>&#160;file.</p>

<p>The <code>WRKBAD</code>&#160;error occurs when the work library is defined in the <code>hdl.var</code>&#160;file (for example, <code>DEFINE WORK worklib</code>), but the <code>cds.lib</code>&#160;file does not define the corresponding library (for example, <code>DEFINE worklib ./worklib</code>).</p>

<p><code>
    <span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;font-size: small;"> <span style="color: rgb(0,0,0);"> xmvlog board.v<br />xmvlog: v2.2.(d5): (c) Copyright 1995 - 2000 Cadence Design Systems, Inc.<br />xmvlog: *W,DLCPTH: cds.lib Invalid path &#39;/usr1/clinton/xm/board/worklib&#39;<br /> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;on line 7 of ./cds.lib (cds.lib command ignored). </span> </span>
  </code></p>

<p>The <code>DLCPTH</code>&#160;warning occurs when the directory path specified in the <code>cds.lib</code>&#160;file does not exist or is inaccessible. For example, you might have the following line in your <code>cds.lib</code>&#160;file, but you have not created a<code> ./worklib </code>physical directory.</p>

<p><code> DEFINE worklib ./worklib </code></p>
<h3 id="AppendixE:UsingtheThree-StepFlow-Thehdl.varFilehdlvar1040758">The hdl.var File<span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-hdlvar"></span> <span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1040758"></span></h3>

<p>The <code>hdl.var</code>&#160;file is an ASCII text file that contains the following settings:</p>
<ul><li>Configuration variables for your design environment such as:</li></ul><ul><ul><li>Variables that you can use to specify the work library where the compiler stores compiled objects and other derived data. For Verilog-AMS, you can use the <code>LIB_MAP</code>&#160;or <code>WORK</code>&#160;variables. For VHDL, use the <code>WORK</code>&#160;variable.</li></ul></ul><ul><ul><li>For Verilog-AMS, variables (<code>LIB_MAP</code>,<code> VIEW_MAP</code>,<code> WORK</code>) that you can use to specify the libraries and views to search when the elaborator resolves instances.</li></ul></ul><ul><li>Variables that allow you to define compiler, elaborator, and simulator command-line options and arguments.</li></ul><ul><li>Variables that specify the locations of support files and invocation scripts.</li></ul>
<p>For information about the syntax rules that apply to the <code>hdl.var</code>&#160;file, see<a href="#AppendixE:UsingtheThree-StepFlow-1041281"> hdl.var Syntax Rules</a>.</p>

<p>You can have more than one <code>hdl.var</code>&#160;file. For example, you can have a project <code>hdl.var</code>&#160;file that contains variable settings used to support all your projects and local <code>hdl.var</code>&#160;files, located in specific design directories, that contain variable settings specific to each project, such as the setting for the <code>WORK</code>&#160;variable.</p>

<p>By default, Cadence software searches for the <code>hdl.var</code>&#160;file in the following locations, defined in the <code>setup.loc</code>&#160;file. The first <code>hdl.var</code>&#160;file that is found is used.</p>
<ul><li>Your current directory</li></ul><ul><li><code> $CDS_WORKAREA </code>(user work area, if defined)</li></ul><ul><li><code> $CDS_SEARCHDIR </code>(if defined)</li></ul><ul><li>Your home directory</li></ul><ul><li><code> $CDS_PROJECT </code>(project area, if defined)</li></ul><ul><li><code> $CDS_SITE </code>(site setup, if defined)</li></ul><ul><li><code> your_install_dir</code> <code>/share </code></li></ul>
<p>You can edit the <code>setup.loc</code>&#160;file to add other locations to search or to change the order of precedence to use when searching for the <code>hdl.var</code>&#160;file. See<a href="#AppendixE:UsingtheThree-StepFlow-1041346"> The setup.loc File</a>.</p>

<p>Each program that reads a <code>hdl.var</code>&#160;file also has a <code>-hdlvar</code>&#160;option that you can use on the command line to override the search order specified in the <code>setup.loc</code>&#160;file.</p>
<h4 id="AppendixE:UsingtheThree-StepFlow-hdl.varStatements">hdl.var Statements</h4>

<p>The following list shows the statements you can use in an <code>hdl.var</code>&#160;file. <code>Variable</code>&#160;is an alphanumeric variable name.<code>&#160;Value</code>&#160;is optional; if provided, it is either scalar or a list. See<a href="#AppendixE:UsingtheThree-StepFlow-1040850"> hdl.var Variables </a>for a list of <code>hdl.var</code>&#160;variables.</p>
<div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>The variable definitions in the <code>hdl.var</code> file are treated as literal strings. Do not use quotation marks in the definitions unless you explicitly want them as part of the input. For example, use:<br /> <code>DEFINE NCVLOGOPTS -define foo=16&#39;h03</code></p>

<p>instead of<br /> <code>DEFINE NCVLOGOPTS -define foo=&quot;16&#39;h03&quot;</code></p>

<p>which is the same as typing:<br /> <code>xmvlog -define foo=\&quot;16&#39;h03\&quot;</code></p>
</div>
</div>
<h4 id="AppendixE:UsingtheThree-StepFlow-Define.1">Define</h4>

<p>Defines a variable and assigns a value to the variable.</p>

<p>Syntax:<br /> <code>
    <span style="color: rgb(0,0,0);">define</span>
    <code style="color: rgb(0,0,0);"> variable </code>
    <span style="color: rgb(0,0,0);">&#160;</span>
    <code style="color: rgb(0,0,0);"> value</code>
  </code></p>

<p>The following example defines the variable<code> WORK </code>to be <code>worklib.</code></p>

<p><code> DEFINE WORK worklib </code></p>

<p>The following example defines <code>VERILOG_SUFFIX</code>&#160;as the list <code>.v</code>,<code> .vg</code>, and <code>.vb.</code></p>

<p><code> DEFINE VERILOG_SUFFIX (.v, .vg, .vb) </code></p>

<p>The following example defines the variable<code>&#160;XMVHDLOPTS</code>, which is used to specify command-line options for the <code>xmvhdl</code>&#160;compiler.</p>

<p><code> DEFINE XMVHDLOPTS -messages -errormax 10 </code></p>
<h4 id="AppendixE:UsingtheThree-StepFlow-Undefine.1">Undefine</h4>

<p>Causes <code>variable</code>&#160;to become undefined. This statement is useful for removing definitions defined in other files. If <code>variable</code>&#160;was not previously defined, you do not get an error message.</p>

<p>Syntax:<br /> <code>
    <span style="color: rgb(0,0,0);">undefine</span>
    <code style="color: rgb(0,0,0);"> variable</code>
  </code></p>

<p>Example:<br /> <code>UNDEFINE XMUSE5X</code></p>
<h4 id="AppendixE:UsingtheThree-StepFlow-Include.1">Include</h4>

<p>Reads <code>filename</code>&#160;as an <code>hdl.var</code>&#160;file.</p>

<p>Use <code>INCLUDE</code>&#160;to include the variable definitions contained in the specified file. The pathname can be absolute or relative. If it is relative, it is relative to the <code>hdl.var</code>&#160;file in which it is defined.</p>

<p>Syntax:<br /> <code>
    <span style="color: rgb(0,0,0);">include</span>
    <code style="color: rgb(0,0,0);"> filename</code>
  </code></p>

<p>Examples:<br /> <code>INCLUDE ~/my_hdl.var</code> <br /> <code>INCLUDE /users/${USER}/hdl.var</code></p>

<p>If the file is not found, a warning message is printed.</p>
<h4 id="AppendixE:UsingtheThree-StepFlow-Softinclude.1">Softinclude</h4>

<p><code> SOFTINCLUDE</code>&#160;is the same as the <code>INCLUDE</code>&#160;statement, except that no warning message is printed if the specified file cannot be found.</p>

<p>Syntax:<br /> <code>
    <span style="color: rgb(0,0,0);">SOFTINCLUDE</span>
    <code style="color: rgb(0,0,0);"> filename</code>
  </code></p>

<p>Examples:<br /> <code>SOFTINCLUDE ~/hdl.var</code> <br /> <code>SOFTINCLUDE ${GOLDEN}/hdl.var</code></p>
<h4 id="AppendixE:UsingtheThree-StepFlow-mapn2dstatementMapn2d"><span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-mapn2dstatement"></span>Mapn2d</h4>

<p><code> MAPN2D</code>&#160;declares the specified VHDL-AMS nature to be compatible with the specified Verilog-AMS discipline. You must have a <code>MAPN2D</code>&#160;statement for every user-defined VHDL-AMS nature that connects to a Verilog-AMS component. When specifying the VHDL-AMS nature, you must use the fully-expanded name of the form <code>library</code> <code>.</code> <code>package</code> <code>.</code> <code>nature.</code></p>

<p>Syntax:</p>

<p><code>
    <span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;font-size: small;">MAPN2D expanded_VHDL-AMS_nature Verilog-AMS_discipline </span>
  </code></p>

<p>Example:<br /> <code>MAPN2D WORK.electricalSystem.electrical electrical</code></p>

<p>The Spectre<span style="color: rgb(0,0,0);"> <sup>&#174;</sup> </span>AMS Designer simulator provides a default nature-to-discipline mapping for VHDL-AMS natures defined in the IEEE library. You do not need<code> MAPN2D </code>statements for these natures. For more information about the default mappings, see &quot;<a href="Preparing_the_Design__Using_Mixed_Languages.html#PreparingtheDesign:UsingMixedLanguages-1034311">Mapping Verilog-AMS Disciplines to VHDL-AMS Natures</a>&quot;.</p>
<h4 id="AppendixE:UsingtheThree-StepFlow-hdl.varVariableshdlvarVariables1040850">hdl.var Variables<span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-hdlvarVariables"></span> <span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1040850"></span></h4>

<p>You can use the following variables in an<code> hdl.var</code>&#160;file:</p>

<p><strong>hdl.var Variables&#160;</strong></p>
<div class="table-wrap"><table border="1" cellpadding="5" cellspacing="0" class="wrapped confluenceTable" style="width: 648.0px;"><tbody><tr><td class="confluenceTd" valign="top" width="192">
<p><a href="#AppendixE:UsingtheThree-StepFlow-1041061">Modelincdir</a></p>
</td>
<td class="confluenceTd" valign="top" width="456">
<p>Specifies a list of directories to be searched for model files, included files, or files that are passed as instance parameter values.</p>
</td>
</tr>
<tr><td class="confluenceTd" valign="top">
<p><a href="#AppendixE:UsingtheThree-StepFlow-1041072">Modelpath </a></p>
</td>
<td class="confluenceTd" valign="top">
<p>Specifies SPICE or Spectre source files for the models you use in your design. If a source file is a library file (which begins with the library keyword), you must also specify a section for that file. To facilitate use with multi-technology simulation (MTS), the variable also specifies the scope in which the modelpath variable is to be used. (The modelpath specification is used in the scope and in scopes below the specified scope.) If the scope specification is omitted, the elaborator uses the global scope by default.</p>

<p><span style="color: rgb(0,0,0);"> <strong>Note:</strong>&#160;</span>Do not set Modelpath variable when running the simulation with <code>xrun</code> and AMS Unified Netlister (AMS-UNL).</p>
</td>
</tr>
<tr><td class="confluenceTd" valign="top">
<p><a href="#AppendixE:UsingtheThree-StepFlow-1041116">Lib_map (Verilog-AMS only) </a></p>
</td>
<td class="confluenceTd" valign="top">
<p>Maps files and directories to library names. Use the plus sign (+) to create a default for files or directories that are not explicitly stated.</p>
</td>
</tr>
<tr><td class="confluenceTd" valign="top">
<p><a href="#AppendixE:UsingtheThree-StepFlow-1041131">Xmelabopts </a></p>
</td>
<td class="confluenceTd" valign="top">
<p>Sets elaborator command-line options. Top-level design unit names can also be included.</p>
</td>
</tr>
<tr><td class="confluenceTd" valign="top">
<p><a href="#AppendixE:UsingtheThree-StepFlow-1041140">Xmhelp_dir </a></p>
</td>
<td class="confluenceTd" valign="top">
<p>Specifies the path to the directory where the help text files are located. These files are used by xmhelp to print more detailed information on the messages printed by other programs.</p>
</td>
</tr>
<tr><td class="confluenceTd" valign="top">
<p><a href="#AppendixE:UsingtheThree-StepFlow-1044302">Xmsdfcopts </a></p>
</td>
<td class="confluenceTd" valign="top">
<p>Sets command-line options for <code>xmsdfc.</code></p>
</td>
</tr>
<tr><td class="confluenceTd" valign="top">
<p><a href="#AppendixE:UsingtheThree-StepFlow-1044330">Xmsimopts </a></p>
</td>
<td class="confluenceTd" valign="top">
<p>Sets simulator command-line options. A snapshot name can also be included.</p>
</td>
</tr>
<tr><td class="confluenceTd" valign="top">
<p><a href="#AppendixE:UsingtheThree-StepFlow-1041169">Xmsimrc </a></p>
</td>
<td class="confluenceTd" valign="top">
<p>Executes a command file when <code>xmsim</code> is started. This command file can contain commands, such as aliases, that you use with every simulation run.</p>
</td>
</tr>
<tr><td class="confluenceTd" valign="top">
<p><a href="#AppendixE:UsingtheThree-StepFlow-1041177">Xmupdateopts </a></p>
</td>
<td class="confluenceTd" valign="top">
<p>Sets command-line options for xmupdate. For example, if you have compiled a new elaborator with PLI routines statically linked, <code>xmupdateopts -xmelab</code> specifies the path to the new elaborator. See Protecting IP Source Files for more information.</p>
</td>
</tr>
<tr><td class="confluenceTd" valign="top">
<p><a href="#AppendixE:UsingtheThree-StepFlow-1041189">Xmuse5x </a></p>
</td>
<td class="confluenceTd" valign="top">
<p>For Verilog-AMS, causes the software to generate three files when you compile Verilog-AMS source files: <code>master.tag, verilog.v, and pc.db</code>. You need these files if you want to view Verilog-AMS objects when you browse libraries using Cadence&#39;s Virtuoso&#174; Design Environment software. You also need them if you plan to use a configuration for your design.</p>
</td>
</tr>
<tr><td class="confluenceTd" valign="top">
<p><a href="#AppendixE:UsingtheThree-StepFlow-1041199">Xmvhdlopts (VHDL only) </a></p>
</td>
<td class="confluenceTd" valign="top">
<p>Sets command-line options for the xmvhdl compiler. VHDL source file names can also be included.</p>
</td>
</tr>
<tr><td class="confluenceTd" valign="top">
<p><a href="#AppendixE:UsingtheThree-StepFlow-1041207">XMVLOGOPTS (Verilog-AMS only) </a></p>
</td>
<td class="confluenceTd" valign="top">
<p>Sets command-line options for the xmvlog compiler. Verilog-AMS source file names can also be included.</p>
</td>
</tr>
<tr><td class="confluenceTd" valign="top">
<p><a href="#AppendixE:UsingtheThree-StepFlow-1041215">SRC_ROOT </a></p>
</td>
<td class="confluenceTd" valign="top">
<p>Defines an ordered list of paths to search for source files when you are updating a design either by running <code>xmsim -update</code> or by rerunning <code>xrun</code>. NC software looks for source files along this ordered list of paths if design units are out of date.</p>
</td>
</tr>
<tr><td class="confluenceTd" valign="top">
<p><a href="#AppendixE:UsingtheThree-StepFlow-1041225">Verilog_suffix (Verilog-AMS only) </a></p>
</td>
<td class="confluenceTd" valign="top">
<p>Defines valid file extensions for Verilog-AMS source files.</p>
</td>
</tr>
<tr><td class="confluenceTd" valign="top">
<p><a href="#AppendixE:UsingtheThree-StepFlow-1041234">Vhdl_suffix (VHDL only) </a></p>
</td>
<td class="confluenceTd" valign="top">
<p>Defines valid file extensions for VHDL source files.</p>
</td>
</tr>
<tr><td class="confluenceTd" valign="top">
<p><a href="#AppendixE:UsingtheThree-StepFlow-1041242">View (Verilog-AMS only) </a></p>
</td>
<td class="confluenceTd" valign="top">
<p>Sets the view name.</p>
</td>
</tr>
<tr><td class="confluenceTd" valign="top">
<p><a href="#AppendixE:UsingtheThree-StepFlow-1041254">View_map (Verilog-AMS only) </a></p>
</td>
<td class="confluenceTd" valign="top">
<p>Maps files and file extensions to view names.</p>
</td>
</tr>
<tr><td class="confluenceTd" valign="top">
<p><a href="#AppendixE:UsingtheThree-StepFlow-1041271">Work </a></p>
</td>
<td class="confluenceTd" valign="top">
<p>Defines the current work library into which HDL design units are compiled.</p>
</td>
</tr>
</tbody></table></div>
<h4 id="AppendixE:UsingtheThree-StepFlow-Modelincdir1041061hdlvar_modelincdir"><em>Modelincdir</em> <span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1041061"></span> <span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-hdlvar_modelincdir"></span></h4>

<p>Specifies a list of directories to be searched for model files, included files, or files that are passed as instance parameter values.</p>

<p>You can also achieve the same result by using the&#160;<code>xmelab </code> <code> -modelincdir</code>&#160;option. If you use both the <code>MODELINCDIR</code>&#160;variable and the <code>-modelincdir</code>&#160;option, the latter takes precedence.</p>

<p>For example, you have a file with the following contents.</p>

<p><code> // model.scs<br />simulator lang=spectre<br />include &quot;moremodels.scs&quot;<br />ahdl_include &quot;mymodel.va&quot;<br />...<br />v1 (s gnd) vsource type=pwl file=&quot;<br />wave.pwl&quot;<br />... </code></p>

<p>In addition, the <code>moremodels.scs</code>&#160;is in the <code>basemodels</code>&#160;directory and the <code>mymodel.va</code>&#160;and <code>wave.pwl</code>&#160;are in the <code>detailmodels</code>&#160;directory. To ensure that all the models are found, you define an <code>hdl.var</code>&#160;variable, as follows:</p>

<p><code> DEFINE MODELINCDIR $basedir/basemodels:$basedir/detailmodels </code></p>
<h4 id="AppendixE:UsingtheThree-StepFlow-Modelpathhdlvar_modelpath1041072"><em>Modelpath</em> <span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-hdlvar_modelpath"></span> <span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1041072"></span></h4>

<p>Specifies SPICE or Spectre source files for the models you use in your design. If a source file is a library file (which begins with the <code>library</code>&#160;keyword), you must also specify a section for that file. To facilitate use with multi-technology simulation (<a href="Glossary.html#Glossary-1036054">MTS</a>), the variable also specifies the scope in which the modelpath variable is to be used. (The <code>modelpath</code>&#160;specification is used in the scope and in scopes below the specified scope.) If the scope specification is omitted, the elaborator uses the global scope by default.</p>
<div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>You cannot use a scope for the <code>modelpath</code> variable when you specify a SPICE subcircuit.</p>
</div>
</div>

<p>Syntax:<br /> <code>
    <strong>DEFINE MODELPATH &quot; [ cell-</strong> [lib_name.] cell_name [:view_name]-] pathname [(section)] {:pathname [(section)]}<strong>&quot;</strong>
  </code></p>

<p>You may define only one <code>modelpath</code>&#160;in an <code>hdl.var</code>&#160;file.</p>

<p>You can achieve the same result by using the <code>xrun </code> <code> -modelpath</code>&#160;option and the <code>xmelab </code> <code> -modelpath</code>&#160;option. If you use both the <code>MODELPATH</code>&#160;variable and the <code>-modelpath</code>&#160;option, the option form takes precedence.</p>
<h4 id="AppendixE:UsingtheThree-StepFlow-Example:UsingtheMODELPATHvariable">Example: Using the MODELPATH variable</h4>

<p><span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-modelpathExample"></span></p>

<p>The file <code>simple_cap.m </code>contains the following definition which instantiates an analog model, <code>my_mod_cap.</code></p>

<p><code> //&#160;simple_cap.m: cap model definition</code></p>

<p><code>simulator lang=spectre<br />parameters base=8</code></p>

<p><code>model my_mod_cap capacitor c=2u tc1=1.2e-8 tnom=(17 + base)  w=4u l=4u cjsw=2.4e-10 </code></p>

<p>You can use a statement like the following in your <code>hdl.var</code>&#160;file to use this definition.</p>

<p><code> DEFINE MODELPATH simple_cap.m </code></p>

<p>If you are using sections, use a statement like the following to tell the elaborator to use the <code>typ</code>&#160;sections for each of the two models:</p>

<p><code> DEFINE MODELPATH mymos(typ):yourmos(typ) </code></p>
<div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>You separate the models using a colon, without any spaces.</p>
</div>
</div>
<h4 id="AppendixE:UsingtheThree-StepFlow-Example:MixedSPICEandSpectreSyntax">Example: Mixed SPICE and Spectre Syntax</h4>

<p>The following file, which meets the requirements of the Spectre solver, uses only the <code>simulator lang=spice</code>&#160;statement.</p>

<p><code> section nominal<br />&#160;&#160;&#160;simulator lang=spice<br />&#160;&#160;&#160;.MODEL MYCAP ...<br />endsection </code></p>

<p><code> section high<br />&#160;&#160;&#160;simulator lang=spice<br />&#160;&#160;&#160;.MODEL MYCAP ...<br />endsection </code></p>

<p>If you intend to use this file for the UltraSim solver, you must modify the statements to switch back to Spectre language syntax as follows:</p>

<p><code> simulator lang=spectre<br />section nominal<br />&#160;&#160;&#160;simulator lang=spice<br />&#160;&#160;&#160;.MODEL MYCAP ...<br />&#160;&#160;&#160;simulator lang=spectre<br />endsection </code></p>

<p><code> section high<br />&#160;&#160;&#160;simulator lang=spice<br />&#160;&#160;&#160;.MODEL MYCAP ...<br />&#160;&#160;&#160;simulator lang=spectre<br />endsection </code></p>

<p>You can also specify model files for an analog device using the <code>include</code>&#160;statement in the AMS control file. In this case, you do not require the <code>-modelpath</code>&#160;option. However, this support is available only in the single-step (<code>xrun</code>) method and not the three-step method.</p>
<h4 id="AppendixE:UsingtheThree-StepFlow-Example">Example</h4>

<p><code> $ xrun work.scs </code></p>

<p>Where <code>work.scs</code>&#160;contains the following lines:</p>

<p><code> include &quot;a.scs&quot; section=&quot;asec&quot; amsd_subckt_bind=yes</code> <br /> <code>include &quot;b.scs&quot; section=&quot;bsec&quot; amsd_subckt_bind=yes</code></p>

<p>In multi-technology simulation (MTS) flow, you must change all the MTS lines in the <code>config</code>&#160;statement of the AMSD block. For example:</p>

<p><code> $ xrun work.scs </code></p>

<p>where <code>work.scs</code>&#160;contains the following lines:</p>

<p><code> amsd{</code> <br /> <code>&#160; &#160; config scope = &quot;module_A&quot; model = &quot;modelA.scs&quot; section = &quot;tlib&quot;</code> <br /> <code> &#160; &#160; config scope = &quot;module_B&quot; model = &quot;modelB.scs&quot;</code> <br /> <code> &#160; &#160; ...</code> <br /> <code>}</code></p>
<h4 id="AppendixE:UsingtheThree-StepFlow-Lib_map(Verilog-AMSonly)lmaplmaplmap1041116"><em>Lib_map (Verilog-AMS only)</em> <span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-lmap"></span> <span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-lmap"></span> <span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-lmap"></span> <span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1041116"></span></h4>

<p>Maps files and directories to library names. Use the plus sign (+) to create a default for files or directories that are not explicitly stated.</p>

<p>For <code>xmvlog,&#160;</code> <code>LIB_MAP</code>&#160;specifies that source files are to be compiled into a particular library. See<a href="Compiling.html#Compiling-1033454"> &quot;Controlling the Compilation of Design Units into Library.Cell:View&quot;</a>.</p>

<p>For <code>xmelab,&#160;</code> <code>LIB_MAP</code>&#160;specifies the list of libraries to search when resolving instances. See<a href="Elaborating.html#Elaborating-1047632"> &quot;Binding during Elaboration&quot;</a>.</p>

<p>Example:</p>

<p><code> DEFINE LIB_MAP (./source/lib1/... =&gt; lib1, \<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;./design =&gt; lib2, \<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;top.v =&gt; lib3, \<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;+ =&gt; worklib ) </code></p>
<h4 id="AppendixE:UsingtheThree-StepFlow-Xmelabopts1041131"><em>Xmelabopts</em> <span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1041131"></span></h4>

<p>Sets elaborator command-line options. Top-level design unit names can also be included.</p>

<p>You cannot include the <code>-logfile</code>,&#160;<code>-append_log</code>,&#160;<code>-cdslib</code>, or <code>-hdlvar</code>&#160;options in the definition of this variable.</p>

<p>Example:</p>

<p><code> DEFINE XMELABOPTS -messages -errormax 10 </code></p>
<h4 id="AppendixE:UsingtheThree-StepFlow-Xmhelp_dir1041140"><em>Xmhelp_dir</em> <span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1041140"></span></h4>

<p>Specifies the path to the directory where the help text files are located. These files are used by<span style="color: rgb(0,0,255);font-family: &quot;Courier New&quot;;font-size: small;"> <a class="message-url" href="../IPProtect/IP_Protection.html">xmhelp</a> </span>to print more detailed information on the messages printed by other programs.</p>

<p>The help files are usually located in:</p>

<p><code>  your_install_dir/tools/xcelium/files/help  </code></p>

<p>Use the <code>XMHELP_DIR</code>&#160;variable if the help files are located in another directory.</p>

<p><code>DEFINE XMHELP_DIR path_to_help_files  </code></p>

<p><br /></p>
<h4 id="AppendixE:UsingtheThree-StepFlow-Xmsdfcopts1044302"><em>Xmsdfcopts</em> <span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1044302"></span></h4>

<p>Sets command-line options for <a class="message-url" href="../IPProtect/IP_Protection.html">xmsdfc</a>.</p>

<p>Example:<br /> <code>DEFINE XMSDFCOPTS -messages -precision 1ps</code></p>
<h4 id="AppendixE:UsingtheThree-StepFlow-Xmsimopts1044330"><em>Xmsimopts</em> <span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1044330"></span></h4>

<p>Sets simulator command-line options. A snapshot name can also be included.</p>

<p>You cannot include the <code>-logfile</code>,&#160;<code>-append_log</code>,<code> -cdslib</code>, or <code>-hdlvar</code>&#160;options in the definition of this variable.</p>

<p>Example:<br /> <code>DEFINE XMSIMOPTS -messages -errormax 10</code></p>
<h4 id="AppendixE:UsingtheThree-StepFlow-Xmsimrc1041169"><em>Xmsimrc</em> <span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1041169"></span></h4>

<p>Executes a command file when <code>xmsim</code>&#160;is started. This command file can contain commands, such as aliases, that you use with every simulation run.</p>

<p>Example:<br /> <code>DEFINE XMSIMRC /usr/design/rcfile</code></p>
<h4 id="AppendixE:UsingtheThree-StepFlow-Xmupdateopts1041177"><em>Xmupdateopts</em> <span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1041177"></span></h4>

<p>Sets command-line options for<span style="color: rgb(0,0,0);"> xmupdate.</span> For example, if you have compiled a new elaborator with<a href="Glossary.html#Glossary-1035591"> PLI </a>routines statically linked, <code>xmupdateopts -xmelab</code>&#160;specifies the path to the new elaborator. See<span style="color: rgb(0,0,255);"> <a class="message-url" href="../IPProtect/IPProtectTOC.html">Protecting IP Source Files</a> </span>for more information.</p>

<p>Example:<br /> <code>DEFINE XMUPDATEOPTS -xmelab ./pli/my_elab</code></p>
<h4 id="AppendixE:UsingtheThree-StepFlow-Xmuse5x1041189"><em>Xmuse5x&#160;</em> <span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1041189"></span></h4>

<p>For Verilog-AMS, causes the software to generate three files when you compile Verilog-AMS source files: <code>master.tag</code>,<code> verilog.v</code>, and <code>pc.db</code>. You need these files if you want to view Verilog-AMS objects when you browse libraries using Cadence&#39;s Virtuoso<span style="color: rgb(0,0,0);"> <sup>&#174;</sup> </span>Design Environment software. You also need them if you plan to use a configuration for your design.</p>

<p>For VHDL, causes the software to generate a pc.db&#160;file, which is necessary if you want to use the hierarchy editor.</p>

<p>Example:<br /> <code>DEFINE XMUSE5X</code></p>
<h4 id="AppendixE:UsingtheThree-StepFlow-Xmvhdlopts(VHDLonly)1041199"><em>Xmvhdlopts (VHDL only)</em> <span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1041199"></span></h4>

<p>Sets command-line options for the <code>xmvhdl</code>&#160;compiler. VHDL source file names can also be included.</p>

<p>You cannot include the <code>-logfile</code>,<code> -append_log</code>,<code> -cdslib</code>, or&#160;<code>-hdlvar</code>&#160;options in the definition of this variable.</p>

<p>Example:</p>

<p><code> DEFINE XMVHDLOPTS -messages -errormax 10 -file ./proj_file </code></p>
<h4 id="AppendixE:UsingtheThree-StepFlow-XMVLOGOPTS(Verilog-AMSonly)1041207">XMVLOGOPTS (Verilog-AMS only)<span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1041207"></span></h4>

<p>Sets command-line options for the <code>xmvlog</code>&#160;compiler. Verilog-AMS source file names can also be included.</p>

<p>You cannot include the <code>-logfile</code>,<code> </code> <code>-append_log</code>, <code>-cdslib</code>, or&#160;<code>-hdlvar</code>&#160;options in the definition of this variable.</p>

<p>Example:<br /> <code>DEFINE XMVLOGOPTS -messages -errormax 10 -file ./proj_file</code></p>
<h4 id="AppendixE:UsingtheThree-StepFlow-1041215SRC_ROOT"><span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1041215"></span>SRC_ROOT</h4>

<p>Defines an ordered list of paths to search for source files when you are updating a design either by running <code>xmsim -update</code>&#160;or by rerunning <code>xrun.</code> NC software looks for source files along this ordered list of paths if design units are out of date.</p>

<p>Search for &quot;SRC_ROOT&quot; in the<span style="color: rgb(0,0,255);"> <a class="message-url" href="../vlogcompile/Compiling_Verilog_Files_by_Specifying_the_Top_Level_of_the_Design.html">Compiling Verilog Source Files</a> </span>book for more information.</p>

<p>Example:</p>

<p><code> DEFINE SRC_ROOT (~lbird/source, $PROJECT) </code></p>
<h4 id="AppendixE:UsingtheThree-StepFlow-1041225Verilog_suffix(Verilog-AMSonly)"><span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1041225"></span>Verilog_suffix (Verilog-AMS only)</h4>

<p>Defines valid file extensions for Verilog-AMS source files.</p>

<p>Example:</p>

<p><code> DEFINE VERILOG_SUFFIX (.v, .vr, .vb, .vg) </code></p>

<p>This variable has no effect on the behavior of the Virtuoso<span style="color: rgb(0,0,0);"> <sup>&#174;</sup> </span>AMS environment.</p>
<h4 id="AppendixE:UsingtheThree-StepFlow-1041234Vhdl_suffix(VHDLonly)"><span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1041234"></span>Vhdl_suffix (VHDL only)</h4>

<p>Defines valid file extensions for VHDL source files.</p>

<p>Example:</p>

<p><code> DEFINE VHDL_SUFFIX (.vhd, .vhdl) </code></p>
<h4 id="AppendixE:UsingtheThree-StepFlow-1041242View(Verilog-AMSonly)"><span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1041242"></span>View (Verilog-AMS only)</h4>

<p>Sets the view name.</p>

<p>See<a href="Compiling.html#Compiling-1033454"> &quot;Controlling the Compilation of Design Units into Library.Cell:View&quot; </a>for details on this variable.</p>

<p>Example:</p>

<p><code> DEFINE VIEW behavior </code></p>
<h4 id="AppendixE:UsingtheThree-StepFlow-1041254View_map(Verilog-AMSonly)"><span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1041254"></span>View_map (Verilog-AMS only)</h4>

<p>Maps files and file extensions to view names.</p>

<p>For <code>xmvlog</code>,<code> VIEW_MAP</code>&#160;specifies that files or files with a particular extension are compiled with a specific view name. See<a href="Compiling.html#Compiling-1033454"> &quot;Controlling the Compilation of Design Units into Library.Cell:View&quot;</a>.</p>

<p>For <code>xmelab</code>,<code> VIEW_MAP</code>&#160;is used to establish the list of views to search when resolving instances. See<a href="Elaborating.html#Elaborating-1047632"> &quot;Binding during Elaboration&quot;</a>.</p>

<p>Example:<br /> <code>DEFINE VIEW_MAP ( .v =&gt; behav, \</code> <br /> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.rtl  =&gt; rtl, \</code> <br /> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.gate =&gt; gate, \</code> <br /> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;myfile.v =&gt; gate)</code></p>
<h4 id="AppendixE:UsingtheThree-StepFlow-Work1041271workvar">Work<span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1041271"></span> <span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-workvar"></span></h4>

<p>Defines the current work library into which<a href="Glossary.html#Glossary-1032191"> HDL </a>design units are compiled.</p>

<p>Example:</p>

<p><code> DEFINE WORK worklib </code></p>
<h4 id="AppendixE:UsingtheThree-StepFlow-1041281hdl.varSyntaxRules"><span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1041281"></span>hdl.var Syntax Rules</h4>

<p>The following rules apply to the <code>hdl.var</code>&#160;file:</p>
<ul><li>Only one statement per line is allowed.</li></ul><ul><li>Keywords and variable names are case insensitive.</li></ul><ul><li>Variable values, file names, and path names are case sensitive.</li></ul><ul><li>Begin comments with either the pound sign (<code>#</code>) or a double hyphen (<code>--</code>). The comment character must be either the first character in a line or preceded by white space.</li></ul><ul><li>You can extend a statement over more than one line by using the escape character ( \ ) as the last character of the line. For example:<br /> <code>DEFINE ALPHA (a,\</code> <br /> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;b,\</code> <br /> <code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;c)</code> <br /> is the same as:<br /> <code> DEFINE ALPHA (a, b, c) </code></li></ul><ul><li>Left and right parentheses indicate the beginning and end of a list of values.</li></ul><ul><li>Use a comma to separate values in a list.</li></ul><ul><li>You can have a list containing zero elements. <br /> <code>DEFINE EMPTY_LIST ( ) </code></li></ul><ul><li>Any character can be escaped using the backslash (\) escape character. Characters should be escaped if the meaning of the character is its ASCII value. For example, the following line defines the variable<code> JUNK </code>as <code>\dump\.<br />
    </code> <code> DEFINE JUNK \\dump\\<br />
      <br /> </code>The following example defines<code> LIST </code>as<code> a,b </code> <code> c.<br />
    </code> <code> DEFINE LIST (a\,b,c) </code></li></ul><ul><li>You can use tilde (<code>~</code>) in<code> filename </code>or<code> value </code>to specify:</li></ul><ul><ul><li><code> ~ </code>(or<code> $HOME </code>)</li></ul></ul><ul><ul><li><code> ~ </code> <code> user </code>(home of &lt;user&gt;)<br />The&#160;<code>~</code>&#160;must be the first non-space character in <code>filename</code>&#160;or <code>value</code>. For example:<br /> <code> DEFINE DIR_RELATION ~/bin != ~lbird/bin<br /> </code>expands to:<code> /usr/bin != /usr/lbird/bin </code></li></ul></ul><ul><li>The space preceding and following a scalar value is ignored. In the following two lines, the variable <code>TEST</code>&#160;has the same value (<code>this is a test</code>):<br /> <code> DEFINE TEST &#160;&#160;&#160;&#160;&#160;&#160;&#160;this is a test<br />
    </code> <code>DEFINE TEST this is a test &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </code></li></ul><ul><li>You can use the dollar sign ($) in <em> <code>filename</code> </em>&#160;or <em> <code>value</code> </em>&#160;to indicate variable substitution. The syntax can be either <code>$ </code> <code> variable</code>&#160;or <code>${</code> <code>variable</code> <code>}</code>, where the left and right braces ({ }) are real characters that mark the beginning and end of the variable name. Variable substitution first searches the <code>hdl.var</code>&#160;definitions and, if none are found, then searches for environment variables.The following example uses the environment variable <code>$SHELL</code>&#160;to define an <code>hdl.var</code>&#160;variable:<br /> <code> DEFINE MY_SHELL $SHELL<br />
      <br /> </code>In the following example, <code>LIB_MAP</code>&#160;is defined as:<br /> <span style="color: rgb(0,0,0);font-family: Courier;font-size: small;"> <code> (./source/lib1/... =&gt; lib1)<br />
        <br /> </code> </span>Then the variable is redefined as<br /> <span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;font-size: small;">(<code> ./source/lib1/... =&gt; lib1, ./design =&gt; lib2 </code>).<br /> </span> <code> DEFINE LIB_MAP (./source/lib1/... =&gt; lib1)<br /> </code> <code> DEFINE LIB_MAP ($LIB_MAP, ./design =&gt; lib2)<br />
      <br /> </code>In the following example, <code>ALPHA</code>&#160;is defined as <code>first</code>. Then <code>BETA</code>&#160;is defined as <code>first == one.<br />
    </code> <code> DEFINE ALPHA first<br /> </code> <code> DEFINE BETA ${alpha} == one </code></li></ul><ul><li>When a scalar value or file name is specified as a relative path, the path is relative to the location of the <code>hdl.var</code>&#160;file in which it is defined.</li></ul><h4 id="AppendixE:UsingtheThree-StepFlow-Examplehdl.varFile">Example hdl.var File</h4>

<p>In the following example <code>hdl.var</code>&#160;file, the <code>WORK</code>&#160;variable is used to define the work library into which design units are compiled. This library must be defined in the <code>cds.lib</code>&#160;file. Other variables are defined to list valid file extensions for Verilog-AMS and VHDL source files and to specify command-line options for various programs.</p>

<p><code> # Define the work library<br />DEFINE WORK worklib </code></p>

<p><code> # Define valid Verilog-AMS file extensions<br />DEFINE VERILOG_SUFFIX (.v, .vr, .vb, .vg) </code></p>

<p><code> # Define valid VHDL file extensions<br />DEFINE VHDL_SUFFIX (.vhd, .vhdl) </code></p>

<p><code> # Specify command-line options for the xmvhdl compiler<br />DEFINE XMVHDLOPTS -messages -errormax 10 </code></p>

<p><code> # Specify command-line options for the xmvlog compiler<br />DEFINE XMVLOGOPTS -messages -errormax 10 -ieee1364 </code></p>

<p><code> # Specify command-line options for the elaborator<br />DEFINE XMELABOPTS -messages -errormax 10 -ieee1364 -plinooptwarn </code></p>

<p><code> # Specify the simulation startup command file<br />DEFINE XMSIMRC /usr/design/simrc.cmd </code></p>
<h4 id="AppendixE:UsingtheThree-StepFlow-Debugginghdl.varFiles">Debugging hdl.var Files</h4>

<p>You can use the<span style="color: rgb(0,0,255);font-family: &quot;Courier New&quot;;font-size: small;"> <a class="message-url" href="../SimulatorUtilities/xmhelp__Get_Help_on_messages_generated_by_the_Simulator.html#nchelp_hdlvar">xmhelp -hdlvar</a> </span>command to display information about the contents of <code>hdl.var</code>&#160;files. This can help you identify incorrect settings that may be contained within your <code>hdl.var</code>&#160;files.</p>

<p>Syntax:<br /> <code>
    <span style="color: rgb(0,0,0);">xmhelp -hdlvar [</span>
    <code style="color: rgb(0,0,0);">hdl.var_file</code>
    <span style="color: rgb(0,0,0);">]</span>
  </code></p>

<p>Examples:<br /> <code>xmhelp -hdlvar</code> <br /> <code>xmhelp -hdlvar ~/hdl.var</code></p>

<p>The following example shows how to display information about the contents of an <code>hdl.var</code>&#160;file. In the example, the <code>xmhelp -hdlvar</code>&#160;command displays the contents of the first <code>hdl.var</code>&#160;file found using the search order in the <code>setup.loc</code>&#160;file. In this example the <code>hdl.var</code>&#160;file is in the current working directory.</p>

<p><code> xmhelp -hdlvar<br />xmhelp: v2.2.(d5): (c) Copyright 1995 - 2000 Cadence Design Systems, Inc.<br />Parsing -HDLVAR file ./hdl.var.<br />hdl.var files:<br />1:  ./hdl.var<br />Variables defined:<br />Defined in ./hdl.var:<br />Line #&#160; Name&#160; &#160; &#160; &#160; &#160; &#160; Value<br />------&#160; ----&#160; &#160; &#160; &#160; &#160; &#160; -----<br />&#160;&#160;&#160;5&#160; &#160;LIB_MAP&#160; &#160; &#160; &#160; &#160; ( /net/foghorn/usr1/belanger/chip1 =&gt; chip1 , \<br />&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; /net/foghorn/usr1/belanger/libs/misc.v =&gt; misc )<br />&#160;&#160;&#160;1&#160; &#160;XMVLOGOPTS&#160; &#160; &#160; &#160;-messages<br />&#160;&#160;&#160;2&#160; &#160;XMELABOPTS&#160; &#160; &#160; &#160;-messages<br />&#160;&#160;&#160;3&#160; &#160;XMSIMOPTS&#160; &#160; &#160; &#160; -messages<br />&#160;&#160;&#160;4&#160; &#160;VERILOG_SUFFIX&#160; &#160;( .v , .vlog )<br />&#160;&#160;&#160;6&#160; &#160;VIEW_MAP&#160; &#160; &#160; &#160; &#160;( .g =&gt; gates , .b =&gt; behav , .rtl =&gt; rtl )<br />&#160;&#160;&#160;7&#160; &#160;WORK&#160; &#160; &#160; &#160; &#160; &#160; &#160;worklib </code></p>
<h3 id="AppendixE:UsingtheThree-StepFlow-Thesetup.locFile1041346setuploc">The setup.loc File<span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1041346"></span> <span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-setuploc"></span></h3>

<p>By default, programs and utilities that need to read library definition files (<code>cds.lib</code>) and configuration files (<code>hdl.var</code>) search for these files in the following locations:</p>
<ul><li>Your current directory</li></ul><ul><li><code> $CDS_WORKAREA</code>&#160;(user work area, if defined)</li></ul><ul><li><code> $CDS_SEARCHDIR</code>&#160;(if defined)</li></ul><ul><li>Your home directory</li></ul><ul><li><code> $CDS_PROJECT</code>&#160;(project area, if defined)</li></ul><ul><li><code> $CDS_SITE</code>&#160;(site setup, if defined)</li></ul><ul><li><code> your_install_dir</code> <code>/share </code></li></ul>
<p>This search order is defined in a<code> setup.loc </code>file located in <code>your_install_dir</code> <code>/share/cdssetup/setup.loc.</code></p>

<p>To change the default search order or to add new locations to search:</p>
<ol><li>Define the<code> CDS_SITE </code>environment variable. For example,<br /> <br /> <code>
      <span style="color: rgb(0,0,0);">setenv CDS_SITE</span>&#160;your_install_dir&#160;<span style="color: rgb(0,0,0);">/share/local</span>
    </code></li><li>Copy <code>your_install_dir</code> <code>/share/cdssetup/setup.loc </code>and edit the file to list the directories in the order you want them searched.</li></ol>
<p>The following rules apply to creating a <code>setup.loc</code>&#160;file:</p>
<ul><li>Only one entry per line.</li></ul><ul><li>Use a semi-colon (<code>;</code>), the pound sign (<code>#</code>), or a double hyphen (<code>--</code>) to begin a comment.</li></ul><ul><li>The file can include:</li></ul><ul><ul><li><code> ~ </code></li></ul></ul><ul><ul><li><code> ~user </code></li></ul></ul><ul><ul><li><code> $ </code> <code> environment_variable </code></li></ul></ul><ul><ul><li><code> ${</code> <code>environment_variable</code> <code>}<br />
        <br /> </code> <span style="color: rgb(0,0,0);"> By convention, environment variables are given uppercase names. See the documentation for your implementation of UNIX for complete details on setting environment variables.<br /> <br /> </span>If a directory specified in <code style="color: rgb(0,0,0);">setup.loc</code> <span style="color: rgb(0,0,0);">&#160;references an environment variable that is not set, the location referenced by the variable is not searched and no warning or error message is issued.</span></li></ul></ul><ul><li>Relative paths in <code>setup.loc</code>&#160;files are relative to the current directory; they are not relative to the location of the file in which they occur or to the directory where you started the software.</li></ul>
<p>If a directory specified in <code>setup.loc</code>&#160;cannot be found or is not accessible, the search advances to succeeding locations without printing warning or error messages.</p>
<h3 id="AppendixE:UsingtheThree-StepFlow-TheProperty(prop.cfg)File1041375propcfg">The Property (prop.cfg) File<span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1041375"></span> <span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-propcfg"></span></h3>
<div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>The <code>prop.cfg</code> file has been deprecated and replaced with the amsd block. If you have a <code>prop.cfg</code> file from a previous release, you can migrate to an <code>amsd</code> block. See <a href="Appendix_F__Migrating_to_an_amsd_Block_from_prop.cfg.html">Appendix F: Migrating to an amsd Block from prop.cfg</a>.</p>
</div>
</div>

<p>A property file is an ASCII file that specifies properties either globally or for specified paths, instances, and cells. You can use this file to specify any properties that can appear in the netlist, including predefined properties and other properties that you <code>define.ar</code></p>

<p>When you use the Cadence<span style="color: rgb(0,0,255);"> <a class="external-link" href="https://support.cadence.com/apex/techpubDocViewerPage?path=cdshiereditor/cdshiereditorICADVM18.1/cdshiereditorTOC.html" rel="nofollow">hierarchy editor</a>&#160;</span>to change properties, AMS Designer automatically associates a single property file with the current configuration by placing the property file in the directory that contains the <code>expand.cfg</code>&#160;file for the configuration. When used like this, the property file is always named <code>prop.cfg</code>. The hierarchy editor does not read property files with any other name.</p>

<p>You can also use a text editing program to create a property file that is not associated with a configuration, and in this case the property file can have any name you choose. You use the&#160;<code>xrun -propspath</code>&#160;option or the <code>xmelab -propspath</code>&#160;option to pass a property file to the software. For example, to direct the elaborator to use a property file named <code>myprops.cfg</code>, you type a command such as the following:</p>

<p><code> xmelab -messages -propspath myprops.cfg top </code></p>

<p>See the following topics for more information:</p>
<ul><li><a href="#AppendixE:UsingtheThree-StepFlow-1041395">Property File Syntax</a></li></ul><ul><li><a href="#AppendixE:UsingtheThree-StepFlow-1041494"> Property File Precedence </a></li></ul><ul><li><a href="#AppendixE:UsingtheThree-StepFlow-1041529"> Predefined Properties </a></li></ul><h4 id="AppendixE:UsingtheThree-StepFlow-1041395PropertyFileSyntax"><span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1041395"></span>Property File Syntax</h4>

<p>The property file consists of statements generated according to the following syntax.</p>

<p><code>
    <span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;font-size: small;">property_file_statement ::=<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;"> <strong>file-format-id</strong> </span> integer <span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;"> <strong>.</strong> </span> integer <span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;"> <strong>;<br /> </strong> </span>&#160;&#160;&#160;&#160;|&#160;&#160;&#160;&#160;comment<br />&#160;&#160;&#160;&#160;|&#160;&#160;&#160;&#160;<span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;"> <strong>default</strong> </span>property_spec |<span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;"> <strong>{</strong> </span>property_spec { property_spec }<span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;"> <strong>}<br /> </strong> </span>&#160;&#160;&#160;&#160;|&#160;&#160;&#160;&#160;<span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;"> <strong>cell</strong> </span>cellview property_spec |<span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;"> <strong>{</strong> </span>property_spec { property_spec }<span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;"> <strong>}<br /> </strong> </span>&#160;&#160;&#160;&#160;|&#160;&#160;&#160;&#160;<span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;"> <strong>inst</strong> </span>instance property_spec |<span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;"> <strong>{</strong> </span>property_spec { property_spec }<span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;"> <strong>}<br /> </strong> </span>&#160;&#160;&#160;&#160;|&#160;&#160;&#160;&#160;<span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;"> <strong>path</strong> </span>path_spec property_spec |<span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;"> <strong>{</strong> </span>property_spec { property_spec }<span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;"> <strong>}</strong> </span> </span>
  </code></p>

<p><code> comment ::=<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;one_line_comment<br />&#160;&#160;&#160;&#160;|&#160;&#160;&#160;&#160;multiple_line_comment </code></p>

<p><code>
    <span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;font-size: small;">property_spec ::=<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;[<span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;"> <strong>non-inherited</strong> </span>] [<span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;"> <strong>no-eval</strong> </span>] prop_type<span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;"> <strong>prop<br /> </strong> </span> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;property <span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;"> <strong>=</strong> </span> prop_value <span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;"> <strong>;<br /> </strong> </span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;|&#160;&#160;&#160;&#160;<span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;"> <strong>{</strong> </span> property <span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;"> <strong>=</strong> </span> prop_value <span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;"> <strong>;</strong> </span>{ property <span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;"> <strong>=</strong> </span> prop_value <span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;"> <strong>;</strong> </span>}<span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;"> <strong>}</strong> </span> </span>
  </code></p>

<p><code>
    <span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;font-size: small;">instance ::=<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;[<span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;"> <strong>(</strong> </span>cellview<span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;"> <strong>).</strong> </span>] instance_name </span>
  </code></p>

<p><code>
    <span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;font-size: small;">path_spec ::=<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;"> <strong>(</strong> </span>cellview<span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;"> <strong>)</strong> </span>{<span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;"> <strong>.</strong> </span>[<span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;"> <strong>(</strong> </span>cellview<span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;"> <strong>)</strong> </span>] instance_name }<span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;"> <strong>.</strong> </span> instance_name </span>
  </code></p>

<p><code>
    <span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;font-size: small;">cellview ::=<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;[ lib <span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;"> <strong>.</strong> </span>] cell [<span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;"> <strong>:</strong> </span> view ]</span>
  </code></p>

<p><code>
    <span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;font-size: small;">prop_type ::=<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;"> <strong>int<br /> </strong> </span>&#160;&#160;&#160;&#160;|&#160;&#160;&#160;&#160;<span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;"> <strong>double<br /> </strong> </span>&#160;&#160;&#160;&#160;|&#160;&#160;&#160;<span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;">&#160;<strong>string</strong> </span> </span>
  </code></p>
<div class="table-wrap"><table bgcolor="#FFFFFF" cellpadding="4" cellspacing="0" class="wrapped confluenceTable" style="width: 648.0px;"><colgroup> <col /> <col /> </colgroup><tbody><tr><th class="confluenceTh" valign="middle" width="240">
<p>Keyword or Syntax Item</p>
</th><th class="confluenceTh" valign="middle" width="408">
<p>Description</p>
</th></tr>
<tr><td class="confluenceTd" valign="top">
<p><code>
<span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;"> <strong>file-format-id</strong> </span>
          </code></p>
</td>
<td class="confluenceTd" valign="top">
<p>Keyword indicating an identifier for the property file of the form <code>integer</code> <span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;"> <strong>.</strong> </span> <code>integer</code>. Cadence software uses this keyword and identifier; you do not need to use this keyword and identifier in your custom property files.</p>
</td>
</tr>
<tr><td class="confluenceTd" valign="top"><div class="content-wrapper">
<p><code>
<span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;"> <strong>default</strong> </span>      </code></p>
<code>         <span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1041415"></span>
        </code> <code>
<span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-default"></span>
        </code></div>
</td>
<td class="confluenceTd" valign="top">
<p>Keyword indicating that the following <code>property_specification</code> specifies default properties for all design objects in the design. For example,</p>

<p><code>default{<br />&#160;&#160;&#160;string prop sourcefile_opts=&quot;-auto_bus<br />&#160;&#160;&#160;-bus_delim&#160;_&quot;;<br />} </code></p>

<p>applies the specified <code>sourcefile_opts</code> values to every cell, inst, or path-based sourcefile binding specified later in the <code>prop.cfg</code> file. You can override default properties specified in this way using properties specified with the cell, inst, or path keywords.</p>
</td>
</tr>
<tr><td class="confluenceTd" valign="top">
<p><code>
<span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;"> <strong>cell</strong> </span>
          </code></p>
</td>
<td class="confluenceTd" valign="top">
<p>Keyword indicating that all instances of the specified cell are bound to the same property.</p>
</td>
</tr>
<tr><td class="confluenceTd" valign="top">
<p><code>
            <span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;"> <strong>inst</strong> </span>
          </code></p>
</td>
<td class="confluenceTd" valign="top">
<p>Keyword indicating that all instances with the specified name are bound to the property.</p>
</td>
</tr>
<tr><td class="confluenceTd" valign="top"><div class="content-wrapper">
<p><code>
<span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;"> <strong>path</strong> </span>         </code></p>
<code>
<span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-path"></span>
        </code> <br /> <code>
          <span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1041431"></span>
        </code></div>
</td>
<td class="confluenceTd" valign="top">
<p>Keyword indicating that the specified instance on the specified path is bound to the property.</p>
</td>
</tr>
<tr><td class="confluenceTd" valign="top">
<p><code>lib </code></p>
</td>
<td class="confluenceTd" valign="top">
<p>Library containing the objects to which the property applies. If <code>lib</code> is not specified, all libraries are considered.</p>
</td>
</tr>
<tr><td class="confluenceTd" valign="top">
<p><code>cell </code></p>
</td>
<td class="confluenceTd" valign="top">
<p>Cell to which the property applies.</p>
</td>
</tr>
<tr><td class="confluenceTd" valign="top">
<p><code>view </code></p>
</td>
<td class="confluenceTd" valign="top">
<p>Cellview to which the property applies. If <code>view</code> is not specified, all views are considered.</p>
</td>
</tr>
<tr><td class="confluenceTd" valign="top">
<p><code>instance_name </code></p>
</td>
<td class="confluenceTd" valign="top">
<p>Instance or instances to which the property applies.</p>

<p>Within a<code> path </code>statement, <code>instance_name</code> can be an asterisk (<code>*</code>), which matches everything in that level of the path. An <code>instance_name</code> that follows a period is an<span style="color: rgb(0,0,0);"> instance that is instantiated inside </span>the previous cellview. An <code>instance_name</code> that follows a cellview without an intervening period, is an<span style="color: rgb(0,0,0);"> instance of </span>the previous cellview.</p>
</td>
</tr>
<tr><td class="confluenceTd" valign="top">
<p><code>one_line_comment </code></p>
</td>
<td class="confluenceTd" valign="top">
<p>Comment that begins with a double slash (<code>//</code>) and continues to the end of the line.</p>
</td>
</tr>
<tr><td class="confluenceTd" valign="top">
<p><code>multiple_line_comment </code></p>
</td>
<td class="confluenceTd" valign="top">
<p>Comment that begins with a slash asterisk (<code>/*</code>) and continues to the next asterisk slash (<code>*/</code>), whether the<code> */ </code>marker is on the same line or a different line.</p>
</td>
</tr>
<tr><td class="confluenceTd" valign="top">
<p><code>
<span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;"> <strong>non-inherited</strong> </span>
          </code></p>
</td>
<td class="confluenceTd" valign="top">
<p>Keyword indicating that the property is not to be inherited by instances lower in the hierarchy.</p>
</td>
</tr>
<tr><td class="confluenceTd" valign="top">
<p><code>
<span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;"> <strong>no-eval</strong> </span>
          </code></p>
</td>
<td class="confluenceTd" valign="top">
<p>Keyword indicating that the environment variables found in the property value are not to be evaluated.</p>
</td>
</tr>
<tr><td class="confluenceTd" valign="top">
<p><code>property </code></p>
</td>
<td class="confluenceTd" valign="top">
<p>Name of the property to be applied.</p>

<p>Property names must begin with<code> A </code>-<code> Z</code>,<code> a </code>-<code> z</code>, or underscore (<code>_</code>). Subsequent characters can be any of these,<code> 0 </code>-<code> 9 </code>, or hyphen (<code>-</code>). No quotes or white spaces are allowed. Property names are case sensitive.</p>
</td>
</tr>
<tr><td class="confluenceTd" valign="top">
<p><code>prop_value </code></p>
</td>
<td class="confluenceTd" valign="top">
<p>The value to be assigned to<code> property.</code></p>

<p>The value can consist of any of the characters that can be used for the property name or can be a string, in quotation marks (<code> &quot; </code>), of printable characters. To include a quotation mark in the quoted string, use<code> \&quot;.</code> To include a backslash, use<code> \\.</code></p>

<p>The format of the value must match the data type specified by the<code> int</code>,<code> double</code>, or <code>string</code> keyword used in the statement.</p>
</td>
</tr>
<tr><td class="confluenceTd" valign="top">
<p><code>
            <span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;"> <strong>int</strong> </span>  </code></p>
</td>
<td class="confluenceTd" valign="top">
<p>Keyword indicating that <code>property</code> is an integer.</p>
</td>
</tr>
<tr><td class="confluenceTd" valign="top">
<p><code>
            <span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;"> <strong>double</strong> </span>      </code></p>
</td>
<td class="confluenceTd" valign="top">
<p>Keyword indicating that <code>property</code> is a double.</p>
</td>
</tr>
<tr><td class="confluenceTd" valign="top">
<p><code>
<span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;"> <strong>string</strong> </span>
          </code></p>
</td>
<td class="confluenceTd" valign="top">
<p>Keyword indicating that <code>property</code> is a string. When you use this <code>prop_type</code>, the <code>prop_value</code> must be given in quotation marks.</p>
</td>
</tr>
</tbody></table></div>
<h4 id="AppendixE:UsingtheThree-StepFlow-PropertyFilePrecedence1041494propertyfileprecedence">Property File Precedence<span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1041494"></span> <span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-propertyfileprecedence"></span></h4>

<p>With several different ways of specifying property values, it is possible to specify different values for the same property on the same instance. To resolve these conflicts, AMS Designer uses the following rules.</p>
<ul><li>The statements within a property file are of different precedences. From highest to lowest precedence, they are<br /><ul><li><code>path</code>&#160;statement</li><li><code>inst</code>&#160;statement</li><li><code>cell&#160;</code>statement</li><li><code>default</code>&#160;statement</li></ul>For example, using the statements<br /> <br /> <code>default int prop fingers = 7;<br />inst i3 int prop fingers = 5;<br />
    </code>in a property file, sets the value of the <code>fingers</code>&#160;property to <code>5</code>&#160;for every&#160; instance named <code>i3.</code></li></ul><ul><li>Within any one of the first three statement types, conflicting property values resolve in favor of the statement that uses the most precise path specification.<br /> <br />For example, using the statements<br /> <code>cell lib1.cell2 int prop fingers = 4;<br />cell cell2 int prop fingers =3;<br /> </code>in a property file, sets the value of the <code>lib1.cell2</code> <code>&#160;fingers</code>&#160;property to <code>4</code>.</li></ul><ul><li>Within a hierarchical level, conflicting property values resolve in favor of the statement that is most specific, so that the precedence of instances, from highest to lowest, is<br /><ul><li><span style="color: rgb(0,0,0);"> <strong>(</strong> </span> <code>lib</code> <span style="color: rgb(0,0,0);"> <strong>.</strong> </span> <code>cell</code> <span style="color: rgb(0,0,0);"> <strong>:</strong> </span> <code>view</code> <span style="color: rgb(0,0,0);"> <strong>).</strong> </span> <em> <code>inst</code> </em></li></ul><ul><li><span style="color: rgb(0,0,0);"> <strong>(</strong> </span> <code>cell</code> <span style="color: rgb(0,0,0);"> <strong>:</strong> </span> <code>view</code> <span style="color: rgb(0,0,0);"> <strong>).</strong> </span> <em> <code>inst</code> </em></li></ul><ul><li><span style="color: rgb(0,0,0);"> <strong>(</strong> </span> <code>lib</code> <span style="color: rgb(0,0,0);"> <strong>.</strong> </span> <code>cell</code> <span style="color: rgb(0,0,0);"> <strong>).</strong> </span> <em> <code>inst</code> </em></li></ul><ul><li><span style="color: rgb(0,0,0);"> <strong>(</strong> </span> <code>cell</code> <span style="color: rgb(0,0,0);"> <strong>).</strong> </span> <em> <code>inst</code> </em></li></ul><ul><li><em> <code>inst</code> </em></li></ul><ul><li><span style="color: rgb(0,0,0);"> <strong>(</strong> </span> <code>lib</code> <span style="color: rgb(0,0,0);"> <strong>.</strong> </span> <code>cell</code> <span style="color: rgb(0,0,0);"> <strong>:</strong> </span> <em> <code>view</code> </em> <span style="color: rgb(0,0,0);"> <strong>).*</strong> </span></li></ul><ul><li><span style="color: rgb(0,0,0);"> <strong>(</strong> </span> <code>cell</code> <span style="color: rgb(0,0,0);"> <strong>:</strong> </span> <em> <code>view</code> </em> <span style="color: rgb(0,0,0);"> <strong>).*</strong> </span></li></ul><ul><li><span style="color: rgb(0,0,0);"> <strong>(</strong> </span> <code>lib</code> <span style="color: rgb(0,0,0);"> <strong>.</strong> </span> <em> <code>cell</code> </em> <span style="color: rgb(0,0,0);"> <strong>).*</strong> </span></li></ul><ul><li><span style="color: rgb(0,0,0);"> <strong>(</strong> </span> <em> <code>cell</code> </em> <span style="color: rgb(0,0,0);"> <strong>).*</strong> </span></li></ul><ul><li><span style="color: rgb(0,0,0);"> <strong>*</strong> </span></li></ul>For example, using the statements<br /> <code> inst (mycell:myview).I3 int prop fingers = 5;<br />inst (mylib.mycell).I3 int prop fingers = 4;</code>&#160;<br /> <br />in a property file, sets the value of the <code>(mylib.mycell:myview).I3 </code>instance [and of <code>(mycell:myview).I3</code>&#160;instances from any other library] to 5.</li></ul><ul><li>In multiple <code>path</code>&#160;statements, conflicting property values resolve in favor of the statement with the path that is the most specific at the right end.<br /> <br />For example, using the statements<br /> <code> path (mylib.mycell:myview).(mycell2)i1.i2 int prop fingers = 5;<br />path (mycell).(mylib2.mycell2:myview2)i1.i2 int prop fingers = 4;<br />
      <br /> </code>in a property file, sets the value of the <code>(mycell).(mylib2.mycell2:myview2)i1.i2</code> instance to <code>4</code>.</li></ul><h4 id="AppendixE:UsingtheThree-StepFlow-PredefinedProperties1041529PredefinedProperties">Predefined Properties<span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1041529"></span> <span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-PredefinedProperties"></span></h4>

<p>Cadence provides several predefined properties, including the following.</p>
<ul><li><a href="#AppendixE:UsingtheThree-StepFlow-1041562"> hdl_cell Property </a></li></ul><ul><li><a href="#AppendixE:UsingtheThree-StepFlow-1041602"> sim_mode Property </a></li></ul><ul><li><a href="#AppendixE:UsingtheThree-StepFlow-1041609"> sim_stub Property </a></li></ul><ul><li><a href="#AppendixE:UsingtheThree-StepFlow-1041646"> sourcefile Property </a></li></ul><ul><li><a href="#AppendixE:UsingtheThree-StepFlow-1041662"> sourcefile_opts Property </a></li></ul><ul><li><a href="#AppendixE:UsingtheThree-StepFlow-1041898"> speed Property </a></li></ul><ul><li><a href="#AppendixE:UsingtheThree-StepFlow-1041907"> verilogfile Property </a></li></ul><h4 id="AppendixE:UsingtheThree-StepFlow-hdl_cellProperty1041562hdl_cellProperty"><em>hdl_cell Property</em> <span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1041562"></span> <span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-hdl_cellProperty"></span></h4>

<p>The <code>hdl_cell</code>&#160;property works together with the <code>sourcefile</code>&#160;property to specify that a Verilog-AMS block instantiates a SPICE block that, in turn, instantiates a Verilog-AMS block. This arrangement is called <em> <a rel="nofollow">SPICE-in-the-middle</a> </em>. You use the <code>sourcefile</code>&#160;property to specify the SPICE file and the<code> hdl_cell </code>property to specify the Verilog-AMS module that is instantiated in the SPICE block.</p>

<p>You can use the <code>hdl_cell</code>&#160;property only in the section of the <code>prop.cfg</code>&#160;file defined by the <code>default</code>&#160;keyword.</p>

<p>The <code>prop_value</code>&#160;for the <code>hdl_cell</code>&#160;property is the following. Because the <code>hdl_cell</code>&#160;property is a string <code>prop_type</code>, the <code>prop_value</code>&#160;must be enclosed in quotation marks.</p>
<div class="table-wrap"><table bgcolor="#FFFFFF" cellpadding="4" cellspacing="0" class="wrapped confluenceTable" style="width: 648.0px;"><colgroup> <col /> <col /> </colgroup><tbody><tr><td class="confluenceTd" valign="top" width="236">
<p><code>hdl_cell </code>{<code>hdl_cell</code>}</p>
</td>
<td class="confluenceTd" valign="top" width="412">
<p>Specifies that the Verilog-AMS module <code>hdl_cell</code> is instantiated in one or more SPICE blocks. If multiple Verilog-AMS blocks are instantiated in SPICE blocks, you can specify multiple <code>hdl_cell</code> names. All Verilog-AMS modules that are called from SPICE blocks must be declared by an <code>hdl_cell </code>property in the <code>default</code> section of the prop.cfg file.</p>

<p>For example,</p>

<p><code>string prop hdl_cell=&quot;a0 a1 a2&quot; </code></p>

<p>specifies that blocks <code>a0</code>,<code> a1</code>, and <code>a2</code> are instantiated in one or more SPICE blocks.</p>
</td>
</tr>
</tbody></table></div>
<h4 id="AppendixE:UsingtheThree-StepFlow-Restrictions">Restrictions</h4>
<ul><li>You can only use the <code>hdl_cell</code>&#160;property (and therefore SPICE-in-the-middle) when you run the AMS Designer simulator with the UltraSim solver in the three-step command-line flow and with the Spectre solver when you use the simulation front end (SFE) parser. You cannot use the <code>hdl_cell</code>&#160;property when you use any of the following:</li></ul><ul><ul><li>AMS Designer simulator running in the AMS environment</li></ul></ul><ul><ul><li>AMS Designer simulator running in the analog design environment (<a href="Glossary.html#Glossary-1033531">ADE</a>)</li></ul></ul><ul><ul><li><code> xrun</code>&#160;command</li></ul></ul><ul><li>You cannot have more than one level of SPICE-in-the-middle. For example, you cannot have Verilog-AMS, SPICE, Verilog-AMS, SPICE, Verilog-AMS.</li></ul><ul><li>You cannot have SPICE-in-the-middle when you are using 5x configurations.</li></ul><h4 id="AppendixE:UsingtheThree-StepFlow-Example.1">Example</h4>

<p>You have a Verilog-AMS module named&#160;<code>verilog_top</code>&#160;that instantiates a SPICE subcircuit named <code>spice_middle.</code> The <code>spice_middle </code>subcircuit instantiates another Verilog-AMS module named <code>verilog_bottom</code>.</p>

<p>The file <code>verilog_top.v</code>&#160;contains</p>

<p><code> module verilog_top;<br />&#160;&#160;&#160;wire [0:5] v;<br />&#160;&#160;&#160;...<br />&#160;&#160;&#160;spice_middle xspice_middle ( .p (v) );<br />&#160;&#160;&#160;...<br />endmodule </code></p>

<p>The file <code>spice_middle.cir</code>&#160;contains</p>

<p><code> .subckt spice_middle p&lt;0&gt; p&lt;1&gt; p&lt;2&gt; p&lt;3&gt; p&lt;4&gt; p&lt;5&gt;<br />&#160;&#160;&#160;...<br />xverilog_bottom p&lt;0&gt; p&lt;1&gt; verilog_bottom<br />&#160;&#160;&#160;....<br />ends </code></p>

<p>To specify that there are blocks using SPICE-in-the-middle, you include the <code>sourcefile</code>&#160;and <code>hdl_cell</code>&#160;properties in the <code>prop.cfg</code>&#160;file, like this.</p>

<p><code> default&#160;&#160;&#160;{<br />&#160; &#160; &#160;string prop hdl_cell=&quot;verilog_bottom&quot;;<br />&#160;&#160;&#160;} </code></p>

<p><code> cell spice_middle<br />&#160;&#160;&#160;{<br />&#160;&#160;&#160;&#160;&#160;&#160;string prop sourcefile=&quot;spice_middle.cir&quot;;<br />&#160;&#160;&#160;&#160;&#160;&#160;string prop sourcefile_opts=&quot;-auto_bus -bus_delim &lt;&gt;&quot;;<br />&#160;&#160;&#160;} </code></p>

<p>The <code>hdl_cell</code>&#160;property (in the <code>default</code>&#160;section, as required) specifies that the <code>verilog_bottom</code>&#160;Verilog-AMS module is instantiated in one or more SPICE blocks (but does not indicate which SPICE blocks).</p>

<p>The <code>sourcefile</code> property specifies the name of the SPICE file that instantiates <code>verilog_bottom</code>. The <code>sourcefile_opts</code> property with the <code>-auto_bus</code> and <code>-bus_delim <em>prop_values </em>
  </code>specifies automatic bus binding between SPICE and Verilog-AMS blocks and specifies the bus delimiters that are used.</p>
<h4 id="AppendixE:UsingtheThree-StepFlow-sim_modeProperty1041602sim_modeProperty"><em>sim_mode Property</em> <span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1041602"></span> <span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-sim_modeProperty"></span></h4>

<p>The <code>sim_mode</code>&#160;property controls the simulation mode that the UltraSim solver uses for the circuit. (The Spectre solver ignores the <code>sim_mode</code>&#160;property setting.) Usually, you set the <code>sim_mode</code>&#160;property for cells or instances. For information about the supported modes, see &quot;Simulation Modes&quot; in the<span style="color: rgb(0,0,0);"> <em> Virtuoso UltraSim Simulator User Guide</em>.</span></p>

<p>When designs include VHDL-AMS behavioral devices, the software sets <code>sim_mode=a</code>&#160;internally. You can override this internally set value by specifying a different <code>sim_mode</code>&#160;in the simulation control file, but be aware that other values sometimes result in convergence problems or simulation failures.</p>
<h4 id="AppendixE:UsingtheThree-StepFlow-sim_stubPropertysim_stubProperty1041609"><em>sim_stub Property</em> <span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-sim_stubProperty"></span> <span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1041609"></span></h4>

<p>The <code>sim_stub</code>&#160;property removes a bound schematic, Verilog-A, Verilog-AMS, Spectre, or SPICE block from the configuration and replaces the schematic or block with a stub module that is empty except for interfaces and discipline declarations. By eliminating portions of your design, this property helps you identify blocks that slow down simulation. Be aware, however, that your design might not simulate correctly if you eliminate the circuitry for essential functions such as signal generation.</p>

<p>You can specify the <code>sim_stub</code>&#160;property with the <code>cell</code>,<code> inst</code>, and <code>path</code>&#160;keywords, but not with <code>default</code>. You cannot use the <code>path</code>&#160;keyword when you use the <code>xrun</code>&#160;command.</p>

<p>You cannot use the <code>sim_stub</code>&#160;property for a module that you also specify using the <code>verilogfile</code>&#160;property.</p>
<div>
<p><br /></p>
<div class="confluence-information-macro confluence-information-macro-tip"><span class="aui-icon aui-icon-small aui-iconfont-approve confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p><span>If you are migrating from the three-step approach (</span> <code>xmvlog</code> <span>/</span> <code>xmelab</code> <span>/</span> <code>xmsim</code> <span>) to the one-step approach (</span> <code>xrun</code> <span>), you must change the </span> <code>sim_stub</code> <span> property from </span> <code>&quot;</code> <code>lib</code> <code>.</code> <code>cell</code> <code>:module&quot;</code> <span> to </span> <code>&quot;</code> <code>lib</code> <code>.</code> <code>cell</code> <code>:vams&quot;.</code> <span>&#160;</span></p>
</div>
</div>

<p><br /></p>
</div>

<p>The <code>prop_value</code>&#160;for the <code>sim_stub</code>&#160;property can be any of the following. Because the <code>sim_stub</code>&#160;property is a string <code>prop_type</code>, you must enclose the <code>prop_value</code>&#160;in quotation marks.</p>
<div class="table-wrap"><table bgcolor="#FFFFFF" cellpadding="4" cellspacing="0" class="wrapped confluenceTable" style="width: 649.0px;"><tbody><tr><td class="confluenceTd" valign="top" width="324">
<p><code>lib<span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;"> <strong>.</strong> </span>cell<span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;"> <strong>:</strong> </span>view </code></p>
</td>
<td class="confluenceTd" valign="top" width="325">
<p>Used to stub out Verilog-AMS modules. Creates the stub module from the specified Verilog-AMS cellview.</p>
</td>
</tr>
<tr><td class="confluenceTd" valign="top">
<p><code>
            <span style="color: rgb(0,0,0);">{</span>
            <span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;"> <strong>-cell</strong> </span>
            <em> cell</em>}<span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;"> <strong>-src</strong> </span>
            <em>sourcefile </em>
          </code></p>
</td>
<td class="confluenceTd" valign="top">
<p>Used to stub out SPICE or Spectre blocks. Creates the stub module from the specified sourcefile (which is expected to be bound by the <em> <code>sourcefile</code> </em> property). The sourcefile must be a SPICE or Spectre file. The <code>sim_stub</code> property is not supported for Verilog (digital) or for Verilog-A files bound by the <code>sourcefile</code> property.</p>
</td>
</tr>
<tr><td class="confluenceTd" valign="top">
<p><code>Null (specified by<span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;"> <strong>&quot;&quot;</strong> </span>)</code></p>
</td>
<td class="confluenceTd" valign="top">
<p>Used to stub out SPICE or Spectre blocks.</p>

<p>SPICE and Spectre blocks can be stubbed out with a null specification when you use cell-, inst-, or path-based properties. When you use a null specification to stub out SPICE or Spectre blocks</p>
<ul><li>The source file must be specified with the <code>sourcefile</code> property.</li></ul><ul><li>The cell must be specified with the <code>sourcefile_opts -subckt</code> property.</li></ul>
<p>Using the <code>sim_stub </code> <code>-cell</code> and <code>-src</code> property values has a higher precedence than using the <code>sourcefile</code> and <code>sourcefile_opts</code> properties.</p>
</td>
</tr>
</tbody></table></div>

<p>You can also stub out SPICE blocks by specifying the <code>sourcefile</code>&#160;and <code>sourcefile_opts</code>&#160;properties. The <code>sourcefile</code>&#160;property is equivalent to <code>sim_stub -src</code>&#160;and the <code>sourcefile_opts -subckt</code>&#160;property value is equivalent to <code>sim_stub -cell</code>. For example, the following two property specifications are equivalent.</p>

<p><code> inst I22<br />&#160;&#160;&#160;&#160;{<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;string prop sim_stub=&quot;-cell top -src /home/jdoe/spicefile.sp&quot;;<br />&#160;&#160;&#160;&#160;} </code></p>

<p>is equivalent to</p>

<p><code> inst I22<br />&#160;&#160;&#160;&#160;{<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;string prop sourcefile=&quot;/home/jdoe/spicefile.sp&quot;;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;string prop sourcefile_opts=&quot;-subckt top&quot;;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;string prop sim_stub=&quot;&quot;;<br />&#160;&#160;&#160;&#160;} </code></p>
<h4 id="AppendixE:UsingtheThree-StepFlow-Examples">Examples</h4>

<p>To stub out instance <code>I22</code>&#160;whose Verilog-AMS master cell is <code>foo</code>&#160;in an instance-based binding configuration, you define a property as follows.</p>

<p><code> inst I22<br />&#160;&#160;&#160;&#160;{<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;string prop sim_stub=&quot;worklib.foo:module&quot;;<br />&#160;&#160;&#160;&#160;} </code></p>

<p>To stub out instance <code>I22</code>&#160;whose SPICE master subcircuit is <code>foo</code>&#160;in an instance-based binding configuration, you define a property as follows.</p>

<p><code> inst I22<br /> &#160;&#160;&#160;&#160;{<br /> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;string prop sim_stub=&quot;-cell foo -src /home/jdoe/spicefile.sp&quot;;<br /> &#160;&#160;&#160;&#160;} </code></p>
<h4 id="AppendixE:UsingtheThree-StepFlow-sourcefilePropertysourcefileProperty1041646sourcefile"><em>sourcefile Property</em> <span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-sourcefileProperty"></span> <span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1041646"></span> <span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-sourcefile"></span></h4>

<p>The <code>sourcefile</code>&#160;property tells AMS Designer where to find the source files for HSPICE, SPICE, Spectre, or Verilog-A design blocks that describe such components as amplifiers, PLLs, and memories, or where to find the source files for device models wrapped in subcircuits, so that you can use these design blocks in<span style="color: rgb(0,0,255);"> <a class="message-url" href="../cdshiereditor/cdshiereditorTOC.html">hierarchy editor</a> </span>configuration files without having to supply a model via the model path. You specify the<code> sourcefile </code>property as follows:</p>

<p><span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;font-size: small;">string prop sourcefile=&quot;<code> pathToSourceFile </code>&quot;;</span></p>

<p>For example:</p>

<p><code> string prop sourcefile=&quot;/home/jdoe/spicefile.sp&quot;; </code></p>
<div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>You must enclose the <code>pathToSourceFile</code> in quotation marks because <code>sourcefile</code> is a string property.</p>
</div>
</div>

<p>You do not need to use the <code>sourcefile</code>&#160;property for models or primitives such as transistors.</p>

<p>You can also specify SPICE or Spectre files for AMS Designer simulation using the <code>MODELPATH</code>&#160;variable in <code>hdl.var</code>&#160;or the <code>xmelab -modelpath</code>&#160;option. If you use one of these methods together with the <code>sourcefile</code>&#160;property, you must not define the same object both with the <code>sourcefile</code>&#160;property and by specifying a modelpath. If you do, you will get a redefinition error.</p>

<p>For information about specifying how to connect Verilog vector buses to SPICE buses, see<a href="#AppendixE:UsingtheThree-StepFlow-1041662"> sourcefile_opts Property</a>.</p>
<h4 id="AppendixE:UsingtheThree-StepFlow-sourcefile_optsPropertysourcefile_opts1041662"><em>sourcefile_opts Property</em> <span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-sourcefile_opts"></span> <span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1041662"></span></h4>

<p>If you are using the AMS Designer simulator with the Spectre solver and the simulation front end (<a href="Elaborating.html#Elaborating-1039791">SFE</a>) parser or with the UltraSim solver, you can use the <code>sourcefile_opts</code>&#160;property together with the <code>
    sourcefile
  </code>&#160;property to specify how to connect Verilog-AMS (including Verilog) vector buses to SPICE buses. The&#160;<code>sourcefile</code>&#160;property specifies SPICE subcircuits that you instantiate in Verilog-AMS modules; the <code>sourcefile_opts</code>&#160;property specifies how to handle the involved ports. You can specify port mapping rules in a file using the <code>
    -portmap_file 
  </code>property value (see <a href="#AppendixE:UsingtheThree-StepFlow-1041922">The Port Mapping File</a>&#160;for more information) as well as specifying options explicitly using the other <code>sourcefile_opts</code>&#160;property values. Options you specify in a port mapping file override those you specify explicitly using the other <code>sourcefile_opts</code>&#160;property values.</p>
<div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>&#160;<span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-VF"></span>&#160;<span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1041671"></span>When you use <code>sourcefile</code> together with <code>sourcefile_opts</code>, you are set up to use the AMS Designer simulator in your verification flow.</p>
</div>
</div>

<p>The <code>prop_value</code>&#160;for the <code>sourcefile_opts</code>&#160;property can be any of the following and you must enclose the <code>prop_value</code>&#160;in quotation marks because <code>sourcefile_opts</code>&#160;is a string property (see also &quot;<a href="#AppendixE:UsingtheThree-StepFlow-1041872">Restrictions</a>&quot; and &quot;<a href="#AppendixE:UsingtheThree-StepFlow-1041882">Examples</a>&quot;):</p>
<div class="table-wrap"><table cellpadding="4" cellspacing="0" class="wrapped confluenceTable" style="width: 648.0px;"><tbody><tr><td class="confluenceTd" valign="top" width="192"><div class="content-wrapper">
<p><code>
            <span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;"> <strong>-auto_bus</strong> </span>| <span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;"> <strong>-no_bus</strong> </span>
          </code></p>
<span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-auto_bus"></span> <span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1041683"></span></div>
</td>
<td class="confluenceTd" colspan="2" valign="top" width="456">
<p>If you do not use the <code>-portmap_file</code> property value, you must specify either <code>-auto_bus</code> or <code>-no_bus</code> using the <code>sourcefile_opts</code> property.</p>

<p><code>-auto_bus</code> specifies that you want Verilog-AMS vector buses automatically mapped and connected to SPICE ports.</p>

<p><code>-no_bus</code> specifies that you want Verilog-AMS and SPICE buses not to be connected.</p>

<p>Default Value: None.</p>
</td>
</tr>
<tr><td class="confluenceTd" rowspan="6" valign="top" width="192"><div class="content-wrapper">
<p><code>
            <span style="color: rgb(0,0,0);"> <strong>-bus_delim</strong> </span>
            <span style="color: rgb(0,0,0);"> <strong>empty</strong> </span>| delimiters </code></p>

<p><span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-bus_delim"></span></p>

<p><br /></p>

<p><br /></p>

<p><br /></p>

<p><br /></p>

<p><br /></p>

<p><br /></p>

<p><br /></p>

<p><br /></p>
</div>
</td>
<td class="confluenceTd" colspan="2" valign="top" width="456">
<p>Specifies bus delimiters. <code>-bus_delim empty</code> indicates that there are no bus delimiters.</p>

<p>If you use multiple bus delimiters, you can specify the <code>-bus_delim </code> <code> prop_value</code> as often as necessary.</p>

<p>For example, if the bus bits are:</p>

<p><code>a0, a1, a2, a3 </code></p>

<p>you might specify</p>

<p><code>string prop sourcefile_opts=&quot;-bus_delim empty&quot;;</code></p>

<p>If the bus bits are:</p>

<p><code>a&lt;0&gt;, a&lt;1&gt;, a&lt;2&gt;, b_1, b_2, b_3, c[1], c[2], c[3] </code></p>

<p>you might specify</p>

<p><code>string prop sourcefile_opts=&quot;-bus_delim &lt;&gt; -bus_delim _ &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;-bus_delim []&quot;; </code></p>
</td>
</tr>
<tr><td class="confluenceTd" colspan="2" valign="top" width="132">
<p>Valid Values:</p>
</td>
</tr>
<tr><td class="confluenceTd" valign="top">
<p>Binary delimiters:</p>
</td>
<td class="confluenceTd" valign="top">
<p><code>[] </code> <code> &lt;&gt; </code></p>
</td>
</tr>
<tr><td class="confluenceTd" valign="top"><div class="content-wrapper">
<p><span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-Unarydelimiters"></span> <span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1041729"></span>Unary delimiters:</p>
</div>
</td>
<td class="confluenceTd" valign="top">
<p><code>_ </code> <code> ! </code> <code> @ </code> <code> # </code> <code> $ </code> <code> % </code> <code> ^ </code> <code> &amp; </code> <code> * </code></p>
</td>
</tr>
<tr><td class="confluenceTd" valign="top">
<p>Null delimiter:</p>
</td>
<td class="confluenceTd" valign="top">
<p><code>empty </code></p>
</td>
</tr>
<tr><td class="confluenceTd" colspan="2" valign="top">
<p>Default Value: The elaborator treats &quot;<code>[]</code>&quot; and &quot;<code>&lt;&gt;</code>&quot; as bus delimiters except when you specify the <code>-bus_delim </code> <code> prop_value</code> explicitly.</p>
</td>
</tr>
<tr><td class="confluenceTd" valign="top"><div class="content-wrapper">
<p><br /></p>

<p><code>
            <span style="color: rgb(0,0,0);"> <strong>-case_map</strong> </span>
            <span style="color: rgb(0,0,0);"> <strong>keep</strong> </span>|<span style="color: rgb(0,0,0);"> <strong>lower</strong> </span>|<span style="color: rgb(0,0,0);"> <strong>upper</strong> </span>
          </code></p>
<span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-case_map"></span></div>
</td>
<td class="confluenceTd" colspan="2" valign="top">
<p>Specifies the handling for case mismatches when mapping between Verilog-AMS instantiations and SPICE subcircuit names. The<code> keep </code>value means letters are left unchanged; <code>lower </code>changes letters to lower case; <code>upper</code> changes letters to upper case.</p>

<p>For example, with this module</p>

<p><code>module verilog_r;<br />&#160;&#160;&#160;SUB1 XSUB1 (A, B);... </code></p>

<p>and this SPICE subcircuit</p>

<p><code>.SUBCKT A B SUB1<br />&#160;&#160;&#160;...<br />.ENDS</code></p>

<p>you can override the default lowercase mapping for SPICE subcircuits for cell <code>SUB1</code> in your <code>prop.cfg</code> file as follows:</p>

<p><code>cell sub1<br />{<br />&#160;&#160;&#160;string prop sourcefile_opts= &quot;-case_map upper&quot;<br />} </code></p>

<p>The case of the subcircuit master name you use in an instantiation must match the binding you specify using <code>-case_map</code>. For example, if you use <code>-case_map lower</code>, you must instantiate SPICE subcircuit <code>ANALOG_CELL</code>, defined as</p>

<p><code>.SUBCKT ANALOG_CELL VIN&lt;1&gt; VIN&lt;0&gt; VOUT&lt;1&gt; VOUT&lt;0&gt;&#8230; </code></p>

<p>in a Verilog-AMS module as</p>

<p><code>analog_cell IO(.vin(vin), .vout(vout)); </code></p>

<p>rather than as</p>

<p><code>ANALOG_CELL IO(.VIN(vin), .VOUT(vout)); </code></p>

<p>Default Value: <code>keep </code></p>
</td>
</tr>
<tr><td class="confluenceTd" valign="top"><div class="content-wrapper">
<p><code>
            <span style="color: rgb(0,0,0);"> <strong>-exclude_bus</strong> </span>
            <span>&#160;</span> delim_prefix </code></p>

<p><span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-exclude_bus"></span></p>
</div>
</td>
<td class="confluenceTd" colspan="2" valign="top">
<p>Specifies ports to be excluded from consideration as buses.</p>

<p>For example, for bus bits <code>bus0</code>, <code>us1</code>, <code>bus2</code> and scalar nets <code>net0</code>,<code> net1</code>, <code>net2</code>, using only <code>-bus_delim empty</code> causes the elaborator to treat <code>net0</code>, <code>net1</code>, and <code>net2</code> as buses, which is incorrect. To exclude <code>net*</code> as buses, you use</p>

<p><code>string prop sourcefile_opts=<br />&#160;&#160;&#160;&#160;&quot;-bus_delim empty<br /> &#160;&#160;&#160;&#160;&#160;-exclude_bus net&quot;; </code></p>

<p>For bus bits <code>a_1</code>,<code> a_2</code>,<code> a_3</code> and scalar nets <code>out_a</code>,<code> out_b</code>,<code> in_a</code>,<code> in_b</code>, using the following property prevents treating the scalar nets <code>out_*</code> and <code>in_*</code> as bus bits:</p>

<p><code>string prop sourcefile_opts=&quot;-bus_delim _<br />&#160;&#160;&#160;&#160;&#160;-exclude_bus out -exclude_bus in&quot;; </code></p>
</td>
</tr>
<tr><td class="confluenceTd" valign="top">
<p><code>
            <span style="color: rgb(0,0,0);"> <strong>-in_port</strong> </span>
            <span>|</span>
            <span style="color: rgb(0,0,0);"> <strong>-out_port</strong> </span>
            <span>&#160;</span> port_basename </code></p>
</td>
<td class="confluenceTd" colspan="2" valign="top">
<p>Specifies the direction of a subcircuit port so that you can control the direction of interface elements that involve the port. (By default, the elaborator treats all subcircuit ports as bidirectional.) Specifying the port direction also allows you to maintain the same signal flow direction as the original design, which can make it easier to debug problems that might arise.</p>

<p><code>port_basename</code> refers to the part of a port name before the delimiter. For example, ports<code> in_1</code>,<code> in_2</code>, and <code>in_3</code> use underscore as a delimiter, so the <code>port_basename</code> is <code>in</code>. Ports <code>out1</code> and <code>out2</code> use the empty delimiter, so the <code>port_basename</code> is <code>out</code>.</p>

<p>You can specify only a single <code>port_basename</code> with each <code>-in_port</code> or <code>-out_port </code> <code>prop_value</code>, but you can specify more than one -<code>in_port</code> and <code>-out_port </code> <code>prop_values</code>, if necessary.</p>

<p>For example, if you have input ports <code>in1</code>,<code> in2</code>,<code> in3</code>,<code> ain1</code>,<code> ain2, </code>and output ports <code>pout1</code>,<code> pout2</code>,<code> cout1</code>, and <code>cout2</code>, the following property specifies that ports <code>in*</code> and <code>ain*</code> are input ports and ports <code>pout*</code> and <code>cout*</code> are output ports:</p>

<p><code>string prop sourcefile_opts=&quot;-bus_delim empty&#160;&#160;&#160;&#160;&#160;-in_port in -in_port ain -out_port pout &#160;&#160;&#160;&#160;&#160;-out_port cout&quot; </code></p>

<p>Any unspecified ports are considered<code> inout </code>ports.</p>

<p>Restriction: You cannot use <code>-in_port</code> and <code>-out_port</code> property values if you use the <a href="#AppendixE:UsingtheThree-StepFlow-1041415"> <code>default</code> </a> keyword to specify the property.</p>
</td>
</tr>
<tr><td class="confluenceTd" valign="top"><div class="content-wrapper">
<p><code>
            <span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;"> <strong>-no_bus</strong> </span>
          </code></p>
<span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-no_bus"></span></div>
</td>
<td class="confluenceTd" colspan="2" valign="top">
<p>See <code>-auto_bus.</code></p>
</td>
</tr>
<tr><td class="confluenceTd" valign="top"><div class="content-wrapper">
<p><code>
            <span style="color: rgb(0,0,0);"> <strong>-portmap_file</strong> </span>
            <span>&#160;</span> subckt_name<span style="color: rgb(0,0,0);"> <strong>.pb</strong> </span>
          </code></p>

<p><span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1041816"></span></p>

<p><span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-portmap_file"></span></p>
</div>
</td>
<td class="confluenceTd" colspan="2" valign="top">
<p>Specifies the name of the port mapping file for a SPICE subcircuit that defines how to connect Verilog and SPICE.</p>

<p><span style="color: rgb(0,0,0);"> <strong>Note:</strong>&#160;</span>Settings in the port mapping file override other<code> sourcefile_opts </code>settings. See<a href="#AppendixE:UsingtheThree-StepFlow-1041922"> The Port Mapping File </a>for more information.</p>
</td>
</tr>
<tr><td class="confluenceTd" valign="top">
<p><code>
            <span style="color: rgb(0,0,0);"> <strong>-subckt</strong> </span>subckt_name</code></p>
</td>
<td class="confluenceTd" colspan="2" valign="top">
<p>Specifies the master name of a SPICE subcircuit you want to instantiate in Verilog-AMS. You must use this property value for <code>inst</code> or <code>path</code> bindings, and<span style="color: rgb(0,0,0);"> only </span>for <code>inst</code> or <code>path</code> bindings.</p>

<p>For example, you instantiate instance <code>I1</code> of subcircuit <code>sub1</code> in Verilog-AMS module <code>foo</code> as follows:</p>

<p><code>.subckt A B sub1<br />...<br />module foo<br />sub1 I1(a, b)<br />... <br />
          </code></p>

<p>To specify the master name of the subcircuit in an instance-based property, type the following string property in your property file:</p>

<p><code>inst I1<br />{<br />string prop sourcefile_opts=&quot;-auto_bus -subckt sub1&quot;;<br />} </code></p>

<p>As a second example, the following property specification indicates that the master name of the subcircuit bound to <code>top.x1.xinv</code> is <code>sub1</code>:</p>

<p><code>path top.x1.xinv<br />&#160;&#160;&#160;{<br />&#160;&#160;&#160;&#160;&#160;&#160;string prop sourcefile=&quot;analog_top.cir&quot;;<br />&#160;&#160;&#160;&#160;&#160;&#160;string prop sourcefile_opts=&quot;-auto_bus<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;-bus_delim &lt;&gt; -subckt sub1&quot;;<br /> &#160;&#160;&#160;} </code></p>

<p>Restriction: You cannot use the <code>-subckt</code> property value if you use the <code>
            default
          </code> keyword to specify the property.</p>

<p>Default Value: None.</p>
</td>
</tr>
<tr><td class="confluenceTd" valign="top"><div class="content-wrapper">
<p><code>
            <span style="color: rgb(0,0,0);"> <strong>-veri_file</strong> </span>
            <span>&#160;</span> file_name</code></p>

<p><span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1041855"></span></p>

<p><span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-veri_file"></span></p>
</div>
</td>
<td class="confluenceTd" colspan="2" valign="top">
<p>Specifies a file containing a Verilog module that defines the port mappings to use from a Verilog parent to a SPICE subcircuit instance. See <a href="#AppendixE:UsingtheThree-StepFlow-1042037">&quot;The Verilog File for Port Mapping&quot;</a> for more information.</p>
</td>
</tr>
</tbody></table></div>
<h4 id="AppendixE:UsingtheThree-StepFlow-Restrictions1041872">Restrictions<span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1041872"></span></h4>

<p>The following restrictions apply to using the <code>sourcefile_opts</code>&#160;property (and to using the AMS Designer simulator in your <a href="#AppendixE:UsingtheThree-StepFlow-1041671">verification flow</a>):</p>
<ul><li>You cannot use the <code>xrun</code>&#160;command when you specify the property with the <code>
      path
    </code>&#160;keyword.</li></ul><ul><li>You cannot have reverse bus connections.For example, the elaborator issues an error for the following Verilog-AMS to SPICE bus connection, even when you specify <code>sourcefile</code>&#160;and <code>sourcefile_opts</code>&#160;properties properly.<br /> <code> module verilog;<br />&#160;&#160;&#160;wire [0:5] v;<br />&#160;&#160;&#160;analog_top xana_top (.p (v));<br />endmodule<br /> </code> <code> .subckt analog_top p&lt;5&gt; p&lt;4&gt; p&lt;3&gt; p&lt;2&gt; p&lt;1&gt; p&lt;0&gt;<br />...<br />.ends </code></li></ul><h4 id="AppendixE:UsingtheThree-StepFlow-Examples1041882">Examples<span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1041882"></span></h4>

<p>For example, you have a Verilog-AMS module named <code>verilog</code>&#160;that calls a SPICE subcircuit named <code>analog_top</code>&#160;with vector bus bindings.</p>

<p>The file <code>verilog.v</code>&#160;contains</p>

<p><code> module verilog;<br />&#160;&#160;&#160;wire [0:5] v;<br />&#160;&#160;&#160;analog_top xana_top (.p (v));<br />endmodule </code></p>

<p>The file <code>analog_top.cir</code>&#160;contains</p>

<p><code> .subckt analog_top p&lt;0&gt; p&lt;1&gt; p&lt;2&gt; p&lt;3&gt; p&lt;4&gt; p&lt;5&gt;<br />&#160;&#160;&#160;...<br />.ends </code></p>

<p>In the <code>prop.cfg</code>&#160;file, you specify the <code>sourcefile_opts</code>&#160;property as</p>

<p><code> cell analog_top<br />&#160;&#160;&#160;{<br />&#160;&#160;&#160;&#160;&#160;&#160;string prop sourcefile=&quot;analog_top.cir&quot;;<br />&#160;&#160;&#160;&#160;&#160;&#160;string prop sourcefile_opts=&quot;-bus_delim &lt;&gt; &quot;;<br />&#160;&#160;&#160;} </code></p>

<p>The&#160; <code>sourcefile</code>&#160;property specifies the name of the SPICE file. The <code>sourcefile_opts</code>&#160;property specifies Verilog-AMS to SPICE bindings and also specifies the bus delimiters.</p>

<p>See also the <code>prop.cfg</code>&#160;file in your Cadence installation hierarchy at</p>

<p><code> $AMSHOME/tools/amsd/samples/busConn_stubView </code></p>

<p>for another example illustrating Verilog-AMS to SPICE bus connections.</p>
<h4 id="AppendixE:UsingtheThree-StepFlow-speedPropertyspeedProperty1041898"><em>speed Property</em> <span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-speedProperty"></span> <span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1041898"></span></h4>

<p>The <code>speed</code>&#160;property establishes the trade-off between simulation performance and accuracy by adjusting the simulation tolerance. Usually, the<code> speed </code>property is set for cells or instances. The <code>speed</code>&#160;property is used by the UltraSim solver but the Spectre solver ignores the property. For information about the supported values, see the discussion of the <code>speed</code>&#160;option in<a href="Specifying_Controls_for_the_Analog_Solvers.html#SpecifyingControlsfortheAnalogSolvers-1032197"> &quot;Immediate Set Options (options)&quot;</a>.</p>
<h4 id="AppendixE:UsingtheThree-StepFlow-verilogfileProperty1041907"><em>verilogfile Property</em> <span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1041907"></span></h4>

<p>The <code>verilogfile</code>&#160;property specifies Verilog-A, Verilog-AMS, or Verilog (digital) text modules to be brought into libraries so that the modules are available for use in design configurations. Using a <code>verilogfile</code>&#160;property causes the AMS Designer simulator to use the module definition in the referenced file when the cell, instance, or occurrence is simulated.</p>

<p>The modules bound by using the <code>verilogfile</code>&#160;property are compiled automatically when you use the AMS environment, the <a href="Glossary.html#Glossary-1033531">ADE</a>&#160;environment, or the <code>amsdesigner</code>&#160;command. However, when you run the AMS Designer simulator using commands such as <code>xmvlog</code>,<code> xmelab</code>, and <code>xmsim</code>, you must compile these bound modules manually.</p>

<p>Because the <code>verilogfile</code>&#160;property is a string <code>prop_type</code>, the <code>prop_value</code>&#160;must be enclosed in quotation marks.</p>
<div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>The<span style="color: rgb(0,0,255);">&#160;<a class="message-url" href="../cdshiereditor/cdshiereditorTOC.html">hierarchy editor</a>&#160;</span>does not analyze the contents of modules brought into the design by using <code>verilogfile</code> properties. Such modules are processed as &quot;black boxes.&quot;</p>
</div>
</div>

<p>Using a<code> verilogfile </code>property to override a view works only when your netlists are written to the run directory. In AMS Designer, by default, netlists are not written to the run directory and so using a <code>verilogfile </code>property generates an error such as the following during design preparation.</p>

<p><code> Error: verilogfile property </code></p>

<p><code> &#160;&#160;&#160;&#160;&#39;/usr1/cds11752/alpha6/novhdltestdir/SAR_A2D/AMS_lib/samplehold.vams&#39;<br />&#160;&#160;&#160;&#160;on amslib.samplehold:module cannot be processed.<br />&#160;&#160;&#160;&#160;Enable netlist to run directory feature to process verilogfile property. </code></p>
<h3 id="AppendixE:UsingtheThree-StepFlow-ThePortMappingFile1041922portMappingFile">The Port Mapping File<span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1041922"></span> <span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-portMappingFile"></span></h3>

<p>The port mapping file is one way to specify how you want the software to connect Verilog vector buses to SPICE buses<sup> 1</sup>. The software creates a <code>portmap_files</code>&#160;subdirectory and writes default port mapping files to this location. You can edit these files according to your connection requirements and use the <code>
    sourcefile
  </code>&#160;property together with the <code>
    sourcefile_opts -portmap_file
  </code>&#160;property in your <code>prop.cfg</code>&#160;file to specify any customized Verilog-to-SPICE port mapping files.</p>

<p>See the following topics for details:</p>
<ul><li><a href="#AppendixE:UsingtheThree-StepFlow-1041951"> Creating a Custom Port Mapping File </a></li></ul><ul><li><a href="#AppendixE:UsingtheThree-StepFlow-1041968"> Specifying a Port Mapping </a></li></ul><ul><li><a href="#AppendixE:UsingtheThree-StepFlow-1041995"> Using Port Mapping Files: Rules to Remember </a></li></ul><ul><li><a href="#AppendixE:UsingtheThree-StepFlow-1042017"> Using Port Mapping Files: An Example </a></li></ul><h4 id="AppendixE:UsingtheThree-StepFlow-CreatingaCustomPortMappingFileCreatingaCustomPortMappingFile1041951">Creating a Custom Port Mapping File<span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-CreatingaCustomPortMappingFile"></span> <span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1041951"></span></h4>

<p>To create a custom port mapping file, do the following:</p>
<ol><li>Start with a <code>prop.cfg</code>&#160;file in which you do not specify a port mapping file, such as:<br /> <code>// prop.cfg</code> <br /> <code>cell mysub1</code> <br /> <code>{</code> <br /> <code>...// No portmap_file option specified</code> <br /> <code>}</code> <br /> <code>cell mysub2</code> <br /> <code>{</code> <br /> <code>...// No portmap_file option specified</code> <br /> <code>}</code></li><li>Run <code>xmelab</code>.<code>
      <br />
    </code>The elaborator creates port mapping files in the <code>portmap_files</code> subdirectory. For example, if you run <code>xmelab</code> from <code>/net/usr1/cdn/port_conn</code>, the program creates the port map files in <code>/net/usr1/cdn/port_conn/portmap_files</code>:<br /> <br /> <code>/net/usr1/cdn/port_conn/portmap_files/mysub1.pb</code> <br /> <code>/net/usr1/cdn/port_conn/portmap_files/mysub2.pb</code></li><li>Edit these port mapping files according to your connection requirements.<br />See&#160;<a href="#AppendixE:UsingtheThree-StepFlow-1041968">&quot;Specifying a Port Mapping&quot;</a>&#160;for information about how to format your port mapping statements.</li><li>Run <code>xmelab</code> again using&#160;<code>-portmap_file</code>&#160;to specify your custom port mapping files.<br /> For&#160;example:<br /> <code>// prop.cfg</code> <br /> <code>cell mysub1</code> <br /> <code>{</code> <br /> <code>...</code> <br /> <code>&#160;&#160;string prop sourcefile_opts=&quot;-portmap_file /net/usr1/cdn/port_conn/portmap_files/mysub1.pb&quot;;</code> <br /> <code>}</code> <br /> <code>cell mysub2</code> <br /> <code>{</code> <br /> <code>...</code> <br /> <code>&#160;&#160;string prop sourcefile_opts=&quot;-portmap_file /net/usr1/cdn/port_conn/portmap_files/mysub2.pb&quot;;</code> <br /> <code>}</code></li></ol><h4 id="AppendixE:UsingtheThree-StepFlow-SpecifyingaPortMappingSpecifyingaPortMapping1041968">Specifying a Port Mapping<span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-SpecifyingaPortMapping"></span> <span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1041968"></span></h4>

<p>The port mapping file contains information about how you want the SPICE subcircuit ports mapped to Verilog buses. You can specify customized bus element mappings as well as port direction. The general format for port mappings is as follows:</p>

<p><code>
      SPICEname : VerilogName [ dir=input|output|inout]
  </code></p>

<p>where <code>SPICEname</code>&#160;and <code>VerilogName</code>&#160;are identifiers that do not have to match. Each <code>SPICEname</code>&#160;corresponds to a node name or bus in the SPICE subcircuit definition. Each <code>VerilogName</code>&#160;corresponds to a wire name or bus in the Verilog module. The port direction specifier is optional.</p>

<p>For scalar nodes, the format is as follows:</p>

<p><code> node1 : NODE1 </code></p>

<p>For a vector, the format is as follows:</p>

<p><code> { myBus_0 myBus_1 } : myBUS[0:1] </code></p>

<p>You can specify a range of bus elements as follows:</p>

<p><code> { busA[0]-busA[10] } : BusA[0:10] </code></p>

<p>You can specify a customized mapping of elements as follows:</p>

<p><code> { busA[10]-busA[5] busA[0]-busA[4] } : busA[0:10] </code></p>

<p>You can specify a customized mapping of random elements as follows:</p>

<p><code> { a_0 a_1 a_2 a_4 b abc } : bus[0:5] </code></p>

<p>You might have specified a <a href="#AppendixE:UsingtheThree-StepFlow-1041729">unary bus delimiter</a>&#160;such as <code>&amp;</code>&#160;or <code>#</code>:</p>

<p><code> { uBus&amp;0 uBus&amp;1 uBus&amp;2 vBus#3 vBus#4 vBus#5 } : bus[0:5] </code></p>

<p>The following default rules apply to any node or bus that you do not explicitly specify in the port mapping file:</p>
<ul><li>Port names match exactly (name-to-name), including casing</li></ul><ul><li>Bus delimiters are<code> [] </code>and<code> &lt;&gt; </code></li></ul><div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>These default rules are the same as those that apply when you specify the <code>
        -auto_bus
      </code> property value with <code>
        sourcefile_opts
      </code>.</p>
</div>
</div>

<p>In the following example, <code>-case_map upper</code>&#160;changes all names to uppercase and <code>-bus_delim _</code> specifies the underscore character as a bus delimiter. The contents of the port mapping file (<code>analog_top.pb</code>) define the overriding binding rules (SPICE node <code>IN1</code>&#160;maps to Verilog input port <code>IN1</code>; SPICE node <code>in2</code>&#160;maps to Verilog input port <code>IN2</code>).</p>

<p><code> // prop.cfg<br /> cell ANALOG_TOP<br /> &#160;&#160;&#160;{<br /> &#160;&#160;&#160;&#160;&#160;&#160;string prop sourcefile=&quot;analog_top.cir&quot;;<br /> &#160;&#160;&#160;&#160;&#160;&#160;string prop sourcefile_opts=&quot;-case_map upper -bus_delim _<br /> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;-portmap_file analog_top.pb&quot;;<br /> &#160;&#160;&#160;} </code></p>

<p><code> // analog_top.pb -- port mapping file<br /> IN1 : IN1 dir=input<br />in2 : IN2 dir=input </code></p>
<h4 id="AppendixE:UsingtheThree-StepFlow-1041995UsingPortMappingFiles:RulestoRemember"><span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1041995"></span>Using Port Mapping Files: Rules to Remember</h4>

<p>Here are some rules to remember when using port mapping files:</p>
<ul><li>The location where <code>xmelab</code>&#160;generates the port mapping files is<br /> <span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;font-size: small;"> <code>runDir</code>/portmap_files<br /> </span>where <code>runDir </code>is the directory where you run <code>xmelab.</code></li></ul><ul><li>If a port mapping file for a certain subcircuit already exists in the default location (mentioned in the previous bullet), <code>xmelab</code>&#160;will not overwrite the file and it will not generate a port mapping file for this case.</li></ul><ul><li>The elaborator will never use a port mapping file unless you specify it explicitly in the <code>prop.cfg</code>&#160;file using <code>-portmap_file</code>&#160;option. A message from <code>xmelab</code>&#160;will clearly indicate whether the elaborator used a port mapping file.</li></ul><ul><li>The file name in the argument of <code>-portmap_file</code>&#160;option must have a valid UNIX path, either absolute or relative to the directory where you run <code>xmelab</code>.</li></ul>
<p>You can specify how to connect Verilog vector buses to SPICE buses using one or both of the following methods:</p>
<ul><li>Use the <code>
      sourcefile
    </code>&#160;property together with either the <code>
      <a href="#AppendixE:UsingtheThree-StepFlow-1041816">sourcefile_opts&#160;-portmap_fil</a>e</code>&#160;property to specify a Verilog-to-SPICE port mapping file (as discussed here) or the <code>
      <a href="#AppendixE:UsingtheThree-StepFlow-1041855">sourcefile_opts -veri_file</a>
    </code>&#160;property to specify a file containing a Verilog module that defines the port mappings to use from a Verilog parent to a SPICE subcircuit instance (as discussed in &quot;<a href="#AppendixE:UsingtheThree-StepFlow-1042037">The Verilog File for Port Mapping</a>&quot;)</li></ul><ul><li>Use the <code>
      sourcefile
    </code>&#160;property together with the other <code>
      sourcefile_opts
    </code>&#160;properties</li></ul>
<p>Rules you specify in a port mapping file or in a Verilog module that defines port mappings take precedence over any options you specify explicitly using other <code>sourcefile_opts</code>&#160;properties such as <code>-auto_bus</code>, <code>-case_map</code>, and <code>-bus_delim</code>.</p>
<h4 id="AppendixE:UsingtheThree-StepFlow-1042017UsingPortMappingFiles:AnExample"><span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1042017"></span>Using Port Mapping Files: An Example</h4>

<p>This example shows how you can use a port mapping file to define port mapping between Verilog and SPICE blocks in a very general way. Study the port mapping file format carefully to understand how you can create custom port mappings according to your connection requirements.</p>

<p>You might instantiate subcircuit <code>analog_top</code>&#160;in module<code> top </code>as follows:</p>

<p><code> module top (ext_clk, pll_clk);<br />input ext_clk, pll_clk;</code></p>

<p><code>wire [0:1] itune;<br />wire res;</code></p>

<p><code>analog_top xana_top(<br />.in2(pll_clk),<br />.itune(itune),<br />.in1(ext_clk)<br />);<br />...<br />endmodule </code></p>

<p>Your <code>prop.cfg</code>&#160;file might contain the following:</p>

<p><code> cell analog_top<br />{<br />&#160;&#160;string prop sourcefile=&quot;analog_top.cir&quot;;<br />&#160;&#160;string prop sourcefile_opts=&quot;-portmap_file analog_top.pb&quot;; } </code></p>

<p>Subcircuit <code>analog_top </code>(in <code>analog_top.cir</code>) might look like this:</p>

<p><code> .subckt analog_top<br />+ in1 itune[0] itune[1] in2<br />
    <br />...<br />.ends analog_top </code></p>

<p>If your port mapping file, <code>analog_top.pb</code>, contains the following:</p>

<p><code> in1 : in2 &#160;&#160;dir=inout<br /> { itune[1], itune[0] } : itune[0:1] &#160;&#160;dir=inout<br /> in2 : in1 &#160;&#160;dir=inout </code></p>

<p>The elaborator derives the following information from these port mappings:</p>
<ol><li>Port <code>in1</code>&#160;of SPICE subcircuit <code>analog_top</code>&#160;connects to the net in module <code>top</code>&#160;that connects to formal port <code>in2</code>&#160;in instance <code>xana_top</code>&#160;of <code>analog_top</code>.<br /> <br />The elaborator connects net <code>pll_clk</code> to port <code>in1</code> of SPICE subcircuit&#160;<code>analog_top</code>.</li><li>Port <code>itune[1]</code>&#160;of SPICE subcircuit <code>analog_top</code>&#160;connects to the net in module <code>top</code>&#160;that connects to formal port <code>itune[0]</code>&#160;in the instance <code>xana_top</code>&#160;of <code>analog_top</code>.<code>
      <br />
    </code> <br />The elaborator connects net&#160;<span style="font-family: monospace;">itune[0]&#160;</span>to port itune[1] of SPICE subcircuit analog_top and follows the same logic to connect net itune[1] to port itune[0] of SPICE subcircuit analog_top.</li><li>Port <code>in2</code>&#160;of SPICE subcircuit <code>analog_top</code>&#160;connects to the net in module <code>top</code>&#160;that connects to formal port <code>in1</code>&#160;in instance <code>xana_top</code>&#160;of <code>analog_top</code>.<br /> <br />The elaborator connects net <code>ext_clk</code>&#160;to port <code>in2</code>&#160;of SPICE subcircuit <code>analog_top</code>.</li></ol><h3 id="AppendixE:UsingtheThree-StepFlow-TheVerilogFileforPortMappingveriFilePortMapping1042037">The Verilog File for Port Mapping<span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-veriFilePortMapping"></span> <span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1042037"></span></h3>

<p>You can specify a file containing a Verilog module that defines the port mappings to use from a Verilog parent to a SPICE subcircuit instance using the <code>
    <a href="#AppendixE:UsingtheThree-StepFlow-1041646">sourcefile</a>
  </code>&#160;property together with the <code>
    <a href="#AppendixE:UsingtheThree-StepFlow-1041855">sourcefile_opts -veri_file</a>
  </code>&#160;property in your <code>prop.cfg</code>&#160;file. The <code>-veri_file</code>&#160;approach lets you replace the interface of a subcircuit with that of a Verilog module.</p>

<p>For example:</p>

<p><code> cell analog_top {<br /> &#160;&#160;string prop sourcefile=&quot;analog_top.cir&quot;;<br /> &#160;&#160;string prop sourcefile_opts=&quot;-veri_file analog_top.v&quot;;<br />} </code></p>

<p>The software applies port mappings (interfaces) defined in <code>analog_top.v</code>&#160;to instances of <code>analog_top</code>. While the elaborator uses the port mappings you define for <code>analog_top</code>&#160;in&#160;<code>analog_top.v</code>&#160;to determine how to connect instances of <code>analog_top</code>, the simulator simulates the <code>analog_top</code>&#160;subcircuit you define in <code>analog_top.cir</code>.</p>

<p>For example, <code>analog_top.v </code>might contain the following:</p>

<p><code> module  analog_top (in1, itune, in2);inout in1;inout [0:1] itune;inout in2;analog beginendendmodule </code></p>

<p>The<code> analog_top </code>subcircuit in<code> analog_top.cir </code>might look like this:</p>

<p><code> .subckt analog_top+ in1 itune[0] itune[1] in2....ends analog_top </code></p>

<p>When you instantiate a subcircuit called<code> analog_top </code>in module<code> top </code>like this:</p>

<p><code> module top (ext_clk, pll_clk);input ext_clk, pll_clk;wire [0:1] itune;wire res;analog_top xana_top(.in2(pll_clk),.itune(itune),.in1(ext_clk));...endmodule </code></p>

<p>the elaborator reads the interface you defined in module<code> analog_top </code>(in<code> analog_top.v </code>) and uses it to connect instance<code> analog_top </code>in module<code> top </code>as follows:</p>
<ul><li>Port<code> in1</code>&#160;and <code>in2 </code>are scalar ports of direction <code>inout</code>.</li></ul><ul><li>Port<code> itune</code>&#160;is a vector <code>inout</code>&#160;port.</li></ul>
<p>The elaborator uses this information to make the following connections:</p>
<ul><li><code> pll_clk </code>in module<code> top</code>&#160;connects to SPICE port <code>in2 </code></li></ul><ul><li><code> itune[0]</code>&#160;in module<code> top</code>&#160;connects to SPICE port&#160;<code>itune[0] </code></li></ul><ul><li><code> itune[1]</code>&#160;in module<code> top</code>&#160;connects to SPICE port&#160;<code>itune[1] </code></li></ul><ul><li><code> ext_clk</code>&#160;in module<code> top</code>&#160;connects to SPICE port&#160;<code>in1 </code></li></ul><h3 id="AppendixE:UsingtheThree-StepFlow-1042059Usinghdl.varandcds.libtoMapLibrariesandViews"><span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1042059"></span>Using hdl.var and cds.lib to Map Libraries and Views</h3>

<p>The following example illustrates the concepts introduced in this chapter.</p>

<p>A file called <code>mychip.vams</code>&#160;contains a Verilog-AMS module called <code>mychip</code>. Module <code>mychip</code>&#160;instantiates two other modules: <code>m1</code>&#160;and <code>m2</code>.</p>
<p align="left"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/305236166/305236173.png" data-linked-resource-container-id="305236166" data-linked-resource-container-version="3" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="appE.30.1.2.png" data-linked-resource-id="305236173" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/305236166/305236173.png" width="640px" /></span></p>

<p>You have two descriptions each of <code>m1</code>&#160;and <code>m2</code>&#160;as follows:</p>
<ul><li>For<code> m1</code>, you have both a behavioral and an RTL description in files <code>m1.vb</code>&#160;and <code>m1.vr</code>, respectively.</li></ul><ul><li>For<code> m2</code>, you have both an RTL and a synthesized gate-level representation in files <code>m2.vr</code>&#160;and <code>m2.vg</code>, respectively.</li></ul><div class="table-wrap"><table border="1" cellpadding="5" cellspacing="0" class="wrapped confluenceTable" style="width: 631.0px;"><tbody><tr><th class="confluenceTh" valign="middle" width="186">
<p>Cell</p>
</th><th class="confluenceTh" valign="middle" width="234">
<p>Files</p>
</th><th class="confluenceTh" valign="middle" width="211">
<p>View</p>
</th></tr>
<tr><td class="confluenceTd" valign="top">
<p><code> mychip </code></p>
</td>
<td class="confluenceTd" valign="top">
<p><code> mychip.vams </code></p>
</td>
<td class="confluenceTd" valign="top">
<p>Structural</p>
</td>
</tr>
<tr><td class="confluenceTd" valign="top">
<p><code> m1 </code></p>
</td>
<td class="confluenceTd" valign="top">
<p><code> m1.vb </code></p>

<p><code> m1.vr </code></p>
</td>
<td class="confluenceTd" valign="top">
<p>Behavioral</p>

<p>RTL</p>
</td>
</tr>
<tr><td class="confluenceTd" valign="top">
<p><code> m2 </code></p>
</td>
<td class="confluenceTd" valign="top">
<p><code> m2.vr </code></p>

<p><code> m2.vg </code></p>
</td>
<td class="confluenceTd" valign="top">
<p>RTL</p>

<p>Gates</p>
</td>
</tr>
</tbody></table></div>

<p>You run your Cadence software from a directory called <code>src</code>. Your&#160;<code>src</code>&#160;directory contains the following files:</p>
<ul><li>All the design source files mentioned above</li></ul><ul><li>A&#160;<code>cds.lib</code>&#160;file</li></ul><ul><li>An <code>hdl.var</code>&#160;file</li></ul>
<p>You create a <code>worklib</code>&#160;directory at the same level as <code>src</code>&#160;to use as the work library. Your directory structure looks like this:</p>
<p align="left"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/305236166/305236170.png" data-linked-resource-container-id="305236166" data-linked-resource-container-version="3" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="appE.30.1.3.png" data-linked-resource-id="305236170" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/305236166/305236170.png" width="640px" /></span></p>

<p>Your&#160;<code>cds.lib</code>&#160;file contains the following statement, which defines a library called <code>worklib</code>:</p>

<p><code> # cds.lib fileDEFINE worklib ../worklib </code></p>

<p>Your <code>hdl.var</code>&#160;file contains definitions of the&#160;<code>LIB_MAP</code>&#160;and <code>VIEW_MAP</code>&#160;variables, which specify the library and view mapping for Verilog-AMS design units.</p>
<div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>Your <code>hdl.var</code> file contains definitions of the&#160;<code>LIB_MAP</code>&#160;and&#160;<code>VIEW_MAP</code>&#160;variables, which specify the library and view mapping for Verilog-AMS design units.</p>
</div>
</div>

<p><code>
    <span style="color: rgb(0,0,0);"># Define library mapping.<br /># Compile all files in src/ into worklibDEFINE LIB_MAP (./ =&gt; worklib)</span>
  </code></p>

<p><code>
    <span style="color: rgb(0,0,0);"># Define view mapping.<br /># Files with .vb extension are compiled into view</span>
    <code style="color: rgb(0,0,0);"> beh<br /> </code>
    <span style="color: rgb(0,0,0);"># Files with .vr extension are compiled into view</span>
    <code style="color: rgb(0,0,0);"> rtl<br /> </code>
    <span style="color: rgb(0,0,0);"># Files with .vg extension are compiled into view gates<br /># Files with .vams extension are compiled into view module</span>
  </code></p>

<p><code>
    <span style="color: rgb(0,0,0);">DEFINE VIEW_MAP (.vb =&gt; beh, \<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.vr =&gt; rtl, \<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.vg =&gt; gates, \<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;.vams =&gt; module)</span>
  </code></p>

<p>You use&#160;<code>xmvlog</code>&#160;to compile the design units in the source files as follows:</p>

<p><code> xmvlog mychip.vams m1.vb m1.vr m2.vg m2.vr </code></p>

<p>Using the mappings in <code>hdl.var</code>, the compiler creates a cell and view for each design unit. The library in this example is <code>worklib</code>. The design units in this example yield the following Library.Cell:View items:</p>
<div class="table-wrap"><table border="0" cellpadding="4" cellspacing="0" class="wrapped confluenceTable" style="width: 648.0px;"><tbody><tr><th class="confluenceTh" valign="middle" width="192">
<p>Input File</p>
</th><th class="confluenceTh" valign="middle" width="456">
<p>Library.Cell:View</p>
</th></tr>
<tr><td class="confluenceTd" valign="top">
<p><code> mychip.vams </code></p>
</td>
<td class="confluenceTd" valign="top">
<p><code> worklib.mychip:module </code></p>
</td>
</tr>
<tr><td class="confluenceTd" valign="top">
<p><code> m1.vb </code></p>
</td>
<td class="confluenceTd" valign="top">
<p><code> worklib.m1:beh </code></p>
</td>
</tr>
<tr><td class="confluenceTd" valign="top">
<p><code> m1.vr </code></p>
</td>
<td class="confluenceTd" valign="top">
<p><code> worklib.m1:rtl </code></p>
</td>
</tr>
<tr><td class="confluenceTd" valign="top">
<p><code> m2.vg </code></p>
</td>
<td class="confluenceTd" valign="top">
<p><code> worklib.m2:gates </code></p>
</td>
</tr>
<tr><td class="confluenceTd" valign="top">
<p><code> m2.vr </code></p>
</td>
<td class="confluenceTd" valign="top">
<p><code> worklib.m2:rtl </code></p>
</td>
</tr>
</tbody></table></div>

<p>The compiler creates a <a href="Glossary.html#Glossary-1034677">.pak</a>&#160;file in the library directory (<code>worklib</code>) containing all of the intermediate objects.</p>
<p align="left"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/305236166/305236174.png" data-linked-resource-container-id="305236166" data-linked-resource-container-version="3" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="appE.30.1.4.png" data-linked-resource-id="305236174" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/305236166/305236174.png" /></span></p>

<p>You pass the Library.Cell:View notation of the top-level module (<code>mychip</code>) to <code>xmelab</code>&#160;to elaborate the design as follows:</p>

<p><code> xmelab worklib.mychip:module </code></p>

<p>Because there is only one view of module <code>mychip</code>&#160;in the library, you may omit the library and view specification as follows:</p>

<p><code> xmelab mychip </code></p>

<p>The elaborator generates a simulation <a href="Elaborating.html#Elaborating-1037780">snapshot</a>&#160;for the design and stores intermediate objects in the <code>.pak</code>&#160;file. The snapshot is also a Library.Cell:View which, in this example, is called<code> worklib.mychip:module.</code></p>

<p>You pass the elaboration snapshot to <code>xmsim</code>&#160;to simulate the design as follows:</p>

<p><code> xmsim worklib.mychip:module </code></p>

<p>Because there is only one snapshot in the library, you may omit the library and view specification as follows:</p>

<p><code> xmsim mychip </code></p>
<h2 id="AppendixE:UsingtheThree-StepFlow-SettinguptheLibraryPathEnvironmentVariables">Setting up the Library Path Environment Variables</h2>

<p>For the three-step flow, you need library path environment variable as follows:</p>

<p><span style="color: rgb(0,0,0);"> <strong>For the 64-Bit Version</strong> </span></p>

<p>For Red Hat Linux, set your library path environment variable as follows:</p>

<p><code>
    <span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;font-size: small;">setenv LD_LIBRARY_PATH install_dir /tools/lib/64bit: install_dir/tools/lib:${LD_LIBRARY_PATH}</span>
  </code></p>

<p>For SUSE Linux, set your library path environment variable as follows:</p>

<p><code>
    <span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;font-size: small;">setenv LD_LIBRARY_PATH install_dir /tools/lib/64bit: install_dir/tools/lib/64bit/<br />SuSE: install_dir/ tools/systemc/gcc/install/lib64: install_dir/tools/<br />lib: install_dir /tools/lib/SuSE:${LD_LIBRARY_PATH}</span>
  </code></p>

<p>For AIX, set your library path environment variable as follows:</p>

<p><code>
    <span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;font-size: small;">setenv LIBPATH install_dir /tools/lib/64bit: install_dir /tools/lib:${LIBPATH}</span>
  </code></p>

<p><span style="color: rgb(0,0,0);"> <strong>For the 32-Bit Version</strong> </span></p>

<p>For Red Hat Linux, set your library path environment variable as follows:</p>

<p><code>
    <span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;font-size: small;">setenv LD_LIBRARY_PATH install_dir /tools/lib:${LD_LIBRARY_PATH}</span>
  </code></p>

<p>For SUSE Linux, set your library path environment variable as follows:</p>

<p><code>
    <span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;font-size: small;">setenv LD_LIBRARY_PATH install_dir /tools/lib: install_dir/tools/lib/<br />SuSE:${LD_LIBRARY_PATH}</span>
  </code></p>

<p>For AIX, set your library path environment variable as follows:</p>

<p><code>
    <span style="color: rgb(0,0,0);font-family: &quot;Courier New&quot;;font-size: small;">setenv LIBPATH install_dir /tools/lib:${LIBPATH}</span>
  </code></p>
<h2 id="AppendixE:UsingtheThree-StepFlow-RunningtheSimulatorinThreeStepsrunningAMS_3step1037546">Running the Simulator in Three Steps<span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-runningAMS_3step"></span> <span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1037546"></span></h2>

<p>You can run the Spectre AMS Designer Simulator in steps by running the three main executables in succession. Each executable has its own command-line syntax and arguments. See &quot;<a href="#AppendixE:UsingtheThree-StepFlow-1037624">Compiling the Design with xmvlog</a>&quot;,&#160;<a href="#AppendixE:UsingtheThree-StepFlow-1037727">&quot;Elaborating the Design with xmelab</a>&quot;, and &quot;<a href="#AppendixE:UsingtheThree-StepFlow-1037846">Simulating the Design with xmsim</a>&quot; for more information.</p>

<p>You must have a library definition file (<code>cds.lib</code>) and you should have an <code>hdl.var</code>&#160;file. While these files can be very basic, they can become quite complex. See<a href="#AppendixE:UsingtheThree-StepFlow-1037599"> &quot;Setting Up Your Design Environment for the Three-Step Approach&quot;</a>.</p>

<p>Cadence recommends using the three-step approach to run the AMS Designer simulator for designs that are organized in a library-based system. In contrast, some simulators, such as Verilog-XL, use a file-based system. You should also use the three-step approach if you do not depend on being able to switch between the Spectre AMS Designer Simulator and Verilog-XL.</p>

<p>The three-step approach</p>
<ul><li>Provides more flexibility and control over the placement and reuse of intermediate files.</li></ul><ul><li>Uses a simpler set of binding rules than the single-step approach.Binding is more predictable and manageable for the three-step approach. For more information about binding, see<a href="Elaborating.html#Elaborating-1047632"> &quot;Binding during Elaboration&quot;</a>.</li></ul><ul><li>Provides finer control over the update mechanisms.</li></ul><ul><li>Provides better incremental recompile performance for designs that continually rescan a directory or several directories or files.You can eliminate this behavior by organizing the design in a library-based system, making this process much more efficient.</li></ul>
<p>See the following topics for more information:</p>
<ul><li><a href="#AppendixE:UsingtheThree-StepFlow-1037599">Setting Up Your Design Environment for the Three-Step Approach</a></li></ul><ul><li><a href="#AppendixE:UsingtheThree-StepFlow-1037624"> Compiling the Design with xmvlog </a></li></ul><ul><li><a href="#AppendixE:UsingtheThree-StepFlow-1037727">Elaborating the Design with xmelab</a></li></ul><ul><li><a href="#AppendixE:UsingtheThree-StepFlow-1037846"> Simulating the Design with xmsim </a></li></ul><ul><li><a href="#AppendixE:UsingtheThree-StepFlow-1037992"> Understanding the Simulator Library Databases </a></li></ul><ul><li><a href="#AppendixE:UsingtheThree-StepFlow-1038007"> Using a Configuration </a></li></ul><h3 id="AppendixE:UsingtheThree-StepFlow-SettingUpYourDesignEnvironmentfortheThree-StepApproach1037599">Setting Up Your Design Environment for the Three-Step Approach<span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1037599"></span></h3>

<p>Spectre<span style="color: rgb(0,0,0);"> <sup>&#174;</sup> </span>AMS Designer simulator libraries contain compiled objects (modules, macromodules, and user-defined primitives) and other derived data. The library structure consists of a<span style="color: rgb(0,0,255);"> <a class="message-url" href="../SettingUp/Setting_Up_Your_Environment.html#lib_cell_view">Library.Cell:View</a> </span>(L.C:V) approach such that</p>
<ul><li>A library relates to a specific design or to a reference library</li></ul><ul><li>Cells relate to specific modules or building blocks of the design</li></ul><ul><li>Views relate to different representations of the building blocks</li></ul>
<p>Each library has a logical name that corresponds to a unique directory. When you finish compiling and elaborating a design, the software creates a single file containing all of the internal representations of cells and views that the simulator requires and puts that file in the library directory.</p>

<p>To run the Spectre AMS Designer Simulator, you need to set up a<span style="color: rgb(0,0,255);font-family: &quot;Courier New&quot;;font-size: small;"> <a class="message-url" href="../SettingUp/Setting_Up_Your_Environment.html#cdslib">cds.lib</a> </span>file. This file contains statements that define your libraries and map logical library names to physical directory paths.</p>

<p>In addition, you can create an<span style="color: rgb(0,0,255);font-family: &quot;Courier New&quot;;font-size: small;"> <a class="message-url" href="../SettingUp/Setting_Up_Your_Environment.html#hdlvar">hdl.var</a> </span>file. This file defines which library is the work library and can contain definitions of other variables that configure your design environment, control the operation of Cadence<span style="color: rgb(0,0,0);"> <sup>&#174;</sup> </span>software, and specify the locations of support files and startup scripts.</p>
<div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>If you run the Spectre AMS Designer Simulator using&#160;<code>xrun</code>, the software creates <code>cds.lib</code> and <code>hdl.var</code> files for you automatically.</p>
</div>
</div>

<p>You can have more than one <code>cds.lib</code>&#160;or <code>hdl.var</code>&#160;file. By default, the AMS Designer simulator searches for these files in the following locations and uses only the first one it finds:</p>
<ul><li>The current work directory</li></ul><ul><li><code> $CDS_WORKAREA</code>&#160;(user work area, if defined)</li></ul><ul><li><code> $CDS_SEARCHDIR</code>&#160;(if defined)</li></ul><ul><li><code> $HOME </code></li></ul><ul><li><code> $CDS_PROJECT</code>&#160;(project area, if defined)</li></ul><ul><li><code> $CDS_SITE</code>&#160;(site-specific location, if defined)</li></ul><ul><li><code> your_install_dir</code> <code>/share </code></li></ul>
<p>You can create a<span style="color: rgb(0,0,255);font-family: &quot;Courier New&quot;;font-size: small;"> <a class="message-url" href="../SettingUp/Setting_Up_Your_Environment.html#setuploc">setup.loc</a> </span>file to change the directories to search or to change the search order for the <code>cds.lib</code>&#160;and <code>hdl.var</code>&#160;files.</p>
<h3 id="AppendixE:UsingtheThree-StepFlow-CompilingtheDesignwithxmvlogrunningAMSncvlog1037624">Compiling the Design with xmvlog<span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-runningAMSncvlog"></span> <span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1037624"></span></h3>

<p><code> xmvlog</code>&#160;compiles your source -&#160;The compiler checks the syntax of the <a href="Glossary.html#Glossary-1032191">HDL</a>&#160;design units (modules, macromodules, or user-defined primitives) in the input source files and generates an intermediate representation for each HDL design unit. The software stores these intermediate representations in a single file in the library directory and names the database file as follows:<br /> <br /> <code>xlm.   architecture   .ib_version   .pak</code> <br /> <br />For example, the name of the library database file might be something like the following:<br /> <code>xlm.sun4v.091.pak</code> <br /> <br /> See<a href="#AppendixE:UsingtheThree-StepFlow-1037992"> &quot;Understanding the Simulator Library Databases&quot; </a>for more information on library databases.<br /> <br />Using the single-step startup approach, <code>xmvlog</code>&#160;creates a binding list that the elaborator uses. Any change that you make to a source file causes the software to regenerate that binding list.<br /> <br />The following figure shows the inputs and outputs of <code>xmvlog</code>:<br /> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/305236166/305236167.png" data-linked-resource-container-id="305236166" data-linked-resource-container-version="3" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="appE.30.1.5.png" data-linked-resource-id="305236167" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/305236166/305236167.png" /></span> <br />See the chapter,&#160;<a href="Compiling.html#Compiling-1031356">&quot;Compiling&quot; </a>for more information about compiling with <code>xmvlog</code>.</p>
<h3 id="AppendixE:UsingtheThree-StepFlow-ElaboratingtheDesignwithxmelab1037727runningAMSncelab">Elaborating the Design with xmelab<span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1037727"></span> <span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-runningAMSncelab"></span></h3>

<p><code> xmelab</code>&#160;elaborates the design - The elaborator takes as input the Library.Cell:View name of the top-level <a href="Glossary.html#Glossary-1032191">HDL</a>&#160;design unit. It then constructs a hierarchy based on the instantiation and configuration information in the design, establishes connectivity, and computes the initial values for all of the objects in the design.<br /> <br />If <code>xmelab</code>&#160;does not find any errors, it produces a snapshot. The snapshot, which contains the simulation data at simulation time 0, is the input to the <code>xmsim</code>&#160;simulator.<br /> <br />The software stores both the machine code and the snapshot in the library database file, along with the intermediate objects that are the result of compilation.<br /> <br />By default, the elaborator generates a snapshot that contains simulation constructs that have no read, write, or connectivity access. By limiting access to simulation objects, the elaborator can perform several optimizations that greatly increase performance.<br /> <br />When you run simulations in &quot;regression&quot; mode, the default access level is the obvious choice. However, if you run the simulator in this mode, you cannot access objects from a point outside the <a href="Glossary.html#Glossary-1032191">HDL</a>&#160;code. For example, you cannot probe objects that do not have read access and the software cannot generate waveforms for these objects.<br /> <br />To run the simulation in debug mode with access to simulation objects, use the&#160;<code>-access</code>&#160;option to enable different kinds of access to simulation objects. You can also include an access file using the <code>-afile</code>&#160;option to specify the access capability for particular instances and for parts of a design.<br /> <br />See<a href="Elaborating.html#Elaborating-1033476"> &quot;Enabling Read, Write, or Connectivity Access to Digital Simulation Objects&quot; </a>for more information on running the Spectre AMS Designer Simulator in regression mode versus running the simulator in debug mode.<br /> <br />The following figure shows the inputs and outputs of <code>xmelab</code>:<br /> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/305236166/305236169.png" data-linked-resource-container-id="305236166" data-linked-resource-container-version="3" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="appE.30.1.6.png" data-linked-resource-id="305236169" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/305236166/305236169.png" /></span> <br />Using the multi-step approach, the elaborator makes all binding decisions. Using the single-step approach, the elaborator uses the binding list that <code>xmvlog</code>&#160;generates.See the chapter,&#160;<a href="Elaborating.html#Elaborating-1031356">&quot;Elaborating&quot; </a>for more information about elaborating with <code>xmelab</code>.</p>
<h3 id="AppendixE:UsingtheThree-StepFlow-SimulatingtheDesignwithxmsimrunningAMSncsim1037846">Simulating the Design with xmsim<span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-runningAMSncsim"></span> <span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1037846"></span></h3>

<p>The simulator loads the snapshot that the elaborator generated, as well as other objects the compiler and elaborator generate that the snapshot references. The simulator might also load&#160;<a href="Glossary.html#Glossary-1032191">HDL</a>&#160;source files, script files, and other data files (using <code>$read*</code>&#160;tasks or <code>textio</code>). <code>xmsim</code>&#160;can generate a log file, an <a href="Glossary.html#Glossary-1034342">SHM</a>&#160;or <a href="Glossary.html#Glossary-1032273">VCD</a>&#160;database, and other results files.</p>

<p>The following figure shows the inputs and outputs of <code>xmsim</code>.</p>
<p align="left"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/305236166/305236171.png" data-linked-resource-container-id="305236166" data-linked-resource-container-version="3" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="appE.30.1.7.png" data-linked-resource-id="305236171" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/305236166/305236171.png" width="640px" /></span></p>

<p>See the chapter, <a href="Simulating.html#Simulating-1031356">&quot;Simulating&quot;</a>&#160;for more information.</p>

<p>You can run the <code>xmsim</code>&#160;simulator</p>
<ul><li>In noninteractive mode: The simulation runs immediately after initialization</li></ul><ul><li>In interactive mode: The simulator stops to await input before simulating time zero</li></ul>
<p>You can also run the simulator with the Cadence SimVision environment. The SimVision environment is a comprehensive debug environment that consists of</p>
<ul><li>A main window in which you can view your source and perform a wide variety of debug operations</li></ul><ul><li>Advanced debug programs that you can access from the main window:</li></ul><ul><ul><li>The Navigator lets you view your current design hierarchy in a graphical tree representation and as a list of objects with their current simulation values and declarations</li></ul></ul><ul><ul><li>The Watch Window lets you select and then watch signal value changes</li></ul></ul><ul><ul><li>The Trace Signals sidebar lets you trace backwards through a design from a signal that has a questionable value to where a signal first diverges from the expected behavior</li></ul></ul>
<p>The SimVision environment also includes the SimVision waveform viewer and SimCompare, an application that lets you compare results stored in <a href="Glossary.html#Glossary-1034342">SHM </a>(<a href="Glossary.html#Glossary-1034354">SST2</a>) or VCD databases. See  the<span style="color: rgb(0,0,255);"> <a class="message-url" href="../SimVisionIntro/SimVisionIntroTOC.html">Introduction to SimVision</a> </span>and the<span style="color: rgb(0,0,255);"> <a class="message-url" href="../UsingSimCompare/UsingSimCompareTOC.html">Using SimCompare</a> </span>books for more information.</p>

<p>Because the Spectre AMS Designer Simulator is a compiled code simulator that does not contain an interpreter, and because <code>xmsim</code>&#160;must be able to display and manipulate mixed-language constructs, you cannot type Verilog or Verilog-AMS commands at the command-line prompt. Instead, the AMS Designer simulator supports a set of Tool Command Language (Tcl) commands for interactive debugging. See the&#160;<a href="Appendix_B__Tcl-Based_Debugging.html">Appendix B: Tcl-Based Debugging</a>&#160;for a list of interactive commands.</p>
<div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>If you run <code>xmelab</code> in the default (regression) mode to elaborate the design, you will not have read, write, or connectivity access to simulation objects. A warning or error message appears if you execute a Tcl command that requires read or write access. See <a href="Elaborating.html#Elaborating-1033476">&quot;Enabling Read, Write, or Connectivity Access to Digital Simulation Objects&quot;</a> for more information.</p>
</div>
</div>

<p>You can use Tk with the AMS Designer simulator. Tk is a toolkit for the X Windows System that extends the Tcl facilities with commands that you can use to build user interfaces, so that you can develop Motif-like user interfaces by writing Tcl scripts instead of writing C code. Cadence does not ship Tk with the simulator. However, the required shared library and the library of Tcl script files is available on the internet. See<span style="color: rgb(0,0,255);"> <a class="message-url" href="../tclcmdref/tclcmdrefTOC.html">Xcelium Simulator Tcl Command Reference</a> </span>for instructions on enabling Tk in the Cadence NC-Verilog simulator.</p>
<h3 id="AppendixE:UsingtheThree-StepFlow-UnderstandingtheSimulatorLibraryDatabases1037992">Understanding the Simulator Library Databases<span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1037992"></span></h3>

<p>When you compile and elaborate a design, the software stores all intermediate objects in a single file in the design library. This library database file is called</p>

<p><code>  xlm.architecture.<em>lib_version</em>.pak  </code></p>

<p>For example, the name of the library database file might look like the following:</p>

<p><code> xlm.sun4v.091.pak </code></p>

<p>Library database files by default have both read and write access. You can use the&#160;<code>xmpack</code>&#160;utility to change the properties of a database to make it read-only or add-only.</p>

<p>The software uses a file-locking mechanism to manage multiple processes that might need to read or modify the contents of a library at one time. If a process cannot get a required lock, the AMS Designer simulator issues a warning and the process tries again a short time later. If a process cannot get a lock after approximately one hour, the process times out and exits.</p>

<p>Here are two examples of warning messages that the file-locking mechanism might issue:</p>

<p><code> xmvlog: *W,DLWTLK: Waiting for a read lock on library &#39;alt_max2&#39;. </code></p>

<p><code>  xmvhdl_cg: *W,DLWTLK: Waiting for a write lock on library &#39;worklib&#39;.  </code></p>

<p>In rare cases, file locking results in a deadlock in which neither process can proceed because each is waiting for the other to release a lock. For example, some processes that you suspend with a <code>Control-Z</code>&#160;retain their locks (<code>xmelab</code>&#160;is such a process). In these cases, you must use the <code>xmpack -unlock</code>&#160;command to terminate the process.</p>

<p>A signal-handling mechanism ensures that when an unexpected event, such as a <code>Control-C</code>, occurs the simulator flushes the database to the disk. However, terminating a process with&#160;<code>kill -9</code>&#160;or a power failure can corrupt a library database. In these cases, you must delete the library database file and rebuild.</p>

<p>The following example shows a message that indicates a corrupted library:</p>

<p><code> xmvlog: *F,DLPAKC: Packed library for alt_max2 is corrupt,<br /> please remove ./alt_max2/xlm.sun4v.091.pak. </code></p>
<h3 id="AppendixE:UsingtheThree-StepFlow-UsingaConfiguration1038007">Using a Configuration<span class="confluence-anchor-link" id="AppendixE:UsingtheThree-StepFlow-1038007"></span></h3>

<p>A configuration is a set of rules that specifies which cellviews under a top-level cell are part of a design for a given purpose (such as elaboration or simulation). The cellview for the top-level cell contains the configuration. You can use the hierarchy editor (<a href="Glossary.html#Glossary-1033954">HED</a>) to create configurations (see the<em> <span style="color: rgb(0,0,0);"> Cadence Hierarchy Editor User Guide </span> </em>for more information).</p>

<p>To use configurations in the Spectre AMS Designer flow, follow these guidelines:</p>
<ul><li>Compile the design with the&#160;<code>-use5x</code>&#160;command-line option and make sure the design is located in a Cadence library.For more information, see <a href="Compiling.html#Compiling-1031416">&quot;xmvlog Command Syntax and Options&quot;</a>.</li></ul><ul><li>Use the&#160;<code>
      <a href="Elaborating.html#Elaborating-1046823">-use5x4vhdl</a>
    </code>&#160;command-line option when you elaborate the design.This option applies configurations to VHDL as well as Verilog-AMS modules.</li></ul><ul><li>(Optional) Use&#160;<code>
      <a href="Elaborating.html#Elaborating-1031415">xmelab -snapshot</a>
    </code>&#160;to specify a different location for the simulation snapshot (other than the cellview directory of the first design unit specified on the&#160;<code>xmelab </code>command line).</li></ul><div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>For information about one-step simulation using <code>xrun</code>, see<a href="Using_xrun_for_AMS_Simulation.html#UsingxrunforAMSSimulation-1031602">&#160;&quot;Using xrun for AMS Simulation&quot;</a>.</p>
</div>
</div>
<div class="table-wrap"><table border="0" cellpadding="3" cellspacing="0" class="wrapped confluenceTable" style="width: 100.0%;"><colgroup> <col /> <col /> </colgroup><tbody><tr valign="baseline"><td class="confluenceTd">
<p><span> 1</span></p>
</td>
<td class="confluenceTd">
<p>See<a href="#AppendixE:UsingtheThree-StepFlow-1041995"> Using Port Mapping Files: Rules to Remember </a>for other ways.</p>
</td>
</tr>
</tbody></table></div>

                    </div>
<br /><br /></div>
<footer xmlns:html="http://www.w3.org/1999/xhtml"><nav class="navigation"><b><em><a href="Appendix_D__Using_the_Profiler.html" id="prev" title="Appendix_D__Using_the_Profiler">Appendix_D__Using_the_Profiler</a></em></b><b><em><a href="Appendix_F__Migrating_to_an_amsd_Block_from_prop.cfg.html" id="nex" title="Appendix_F__Migrating_to_an_amsd_Block_from_prop.cfg">Appendix_F__Migrating_to_an_am ...</a></em></b></nav><div>
          For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2019, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved.
        </div>
</footer><br xmlns:html="http://www.w3.org/1999/xhtml" /></body></html>