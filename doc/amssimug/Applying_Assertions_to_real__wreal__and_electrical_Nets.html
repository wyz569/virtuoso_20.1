
<html><head><title>Applying Assertions to real, wreal, and electrical Nets</title>
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="jaini" />
<meta name="CreateDate" content="2019-11-04" />
<meta name="CreateTime" content="1572864932" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the Virtuoso AMS Designer simulator, a mixed-signal simulator that supports the Verilog-AMS and VHDL-AMS language standards." />
<meta name="DocTitle" content="Spectre AMS Designer and Xcelium Simulator Mixed-Signal User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Applying Assertions to real, wreal, and electrical Nets" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="concept" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="Digital Mixed Signal,Analog Mixed Signal,Explorer,AMS Designer," />
<meta name="prod_subfeature" content="SV-MS,SV-MS,AMS Designer," />
<meta name="FileType" content="Chapter" />
<meta name="Keyword" content="amssimug" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2019-11-04" />
<meta name="ModifiedTime" content="1572864932" />
<meta name="NextFile" content="Connecting_SystemVerilog_Interface_to_DMS_Verilog-AMS__Electrical__Signals.html" />
<meta name="Group" content="Analog Mixed-Signal Simulation" />
<meta name="Platform" content="Functional Verification" />
<meta name="PrevFile" content="Using_Wildcard-Named_Port_Connections_in_AMS.html" />
<meta name="Product" content="Xcelium" />
<meta name="ProductFamily" content="Functional Verification" />
<meta name="ProductVersion" content="19.09" />
<meta name="RightsManagement" content="Copyright 2012-2019 Cadence Design Systems Inc." />
<meta name="Title" content="Spectre AMS Designer and Xcelium Simulator Mixed-Signal User Guide -- Applying Assertions to real, wreal, and electrical Nets" />
<meta name="Version" content="19.09" />
<meta name="Renderer" content="WIKI" />
<meta name="SpaceKey" content="amssimug2003" />
<meta name="confluence-version" content="6.13.3" />
<meta name="ecms-plugin-version" content="03.30.005" />

        
        <link href="styles/site.css" rel="stylesheet" type="text/css" />
        <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
    

    </head><body style="background-color: #FFFFFF;"><!-- Begin Buttons --><header xmlns:html="http://www.w3.org/1999/xhtml"><div class="docHeadr">Product Documentation<img src="images/Cadence-Logo.jpg" /></div>
<nav class="blueHead"><ul><li><a class="content" href="amssimugTOC.html">Contents</a></li><li><a class="prev" href="Using_Wildcard-Named_Port_Connections_in_AMS.html" title="Using_Wildcard-Named_Port_Connections_in_AMS">Using_Wildcard-Named_Port_Conn ...</a></li><li style="float: right;"><a class="viewPrint" href="amssimug.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="Connecting_SystemVerilog_Interface_to_DMS_Verilog-AMS__Electrical__Signals.html" title="Connecting_SystemVerilog_Interface_to_DMS_Verilog-AMS__Electrical__Signals">Connecting_SystemVerilog_Inter ...</a></li></ul></nav></header><!-- End Buttons --><div xmlns:html="http://www.w3.org/1999/xhtml" style="font-size:14px;line-height:1.42857142857;margin:20px 0 0 0;font-weight:bold;"><center>Spectre AMS Designer and Xcelium Simulator Mixed-Signal User Guide<br />Product Version 19.09, September 2019</center></div>
<div xmlns:html="http://www.w3.org/1999/xhtml" style="margin-left:5%;">
<p></p>

<p></p>
<div id="main-header">
                    
                    
                                                <h1 style="margin: 4px 0 4px;"><span>Applying Assertions to real, wreal, and electrical Nets</span></h1>

                    
                </div>
<div class="wiki-content group" id="main-content">
                    
<p><span class="confluence-anchor-link" id="ApplyingAssertionstoreal,wreal,andelectricalNets-1075263"></span><span class="confluence-anchor-link" id="ApplyingAssertionstoreal,wreal,andelectricalNets-wrealAssert"></span><span class="confluence-anchor-link" id="ApplyingAssertionstoreal,wreal,andelectricalNets-assertions"></span>The AMS Designer simulator&#160;lets you use SystemVerilog Assertions on SystemVerilog<code style="letter-spacing: 0.0px;">&#160;real&#160;</code>variables (or ports) that connect to&#160;<span style="color: rgb(0,0,255);"><a class="message-url" href="../verilogamsref/chap4.html#wreal">wreal</a></span>or <code style="letter-spacing: 0.0px;">electrical</code>&#160;nets, and&#160;<a href="Glossary.html#Glossary-1034986">PSL</a>&#160;assertions on&#160;<code style="letter-spacing: 0.0px;">real</code>&#160;and Verilog-AMS&#160;<code style="letter-spacing: 0.0px;">wreal</code>&#160;nets that connect to&#160;<code style="letter-spacing: 0.0px;">electrical</code>&#160;nets.</p>
<div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>PSL stands for the property specification language that is undergoing standardization as IEEE 1850 Property Specification Language.</p>
</div>
</div>

<p>See the following topics for details:</p>
<ul><li><a href="#ApplyingAssertionstoreal,wreal,andelectricalNets-1075291">SystemVerilog Assertions</a></li></ul><ul><li><a href="#ApplyingAssertionstoreal,wreal,andelectricalNets-1075338">Using Analog System Tasks in SVA</a></li></ul>
<p>For more information on writing assertions, refer to the<span style="color: rgb(0,0,0);"><em>&#160;Assertion Writing Guide</em>.</span></p>
<h3 id="ApplyingAssertionstoreal,wreal,andelectricalNets-SystemVerilogAssertionsSVA1075291">SystemVerilog Assertions<span class="confluence-anchor-link" id="ApplyingAssertionstoreal,wreal,andelectricalNets-SVA"></span><span class="confluence-anchor-link" id="ApplyingAssertionstoreal,wreal,andelectricalNets-1075291"></span></h3>

<p>Using the AMS Designer simulator, you can specify a SystemVerilog Assertion (<a href="Glossary.html#Glossary-1034951">SVA</a>) on a SystemVerilog&#160;<code>real</code>&#160;port that connects to a&#160;<code>wreal</code>&#160;or&#160;<code>electrical</code>&#160;net. You can use the SVA to check the value of the&#160;<code>wreal</code>&#160;or&#160;<code>electrical</code>&#160;net.</p>
<div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>When you connect a SystemVerilog <code>real</code> port to an<code>&#160;electrical</code> net, the elaborator inserts the appropriate real-to-electrical or electrical-to-real interface element automatically. See<a href="Using_SystemVerilog_Modules.html">&#160;Using SystemVerilog Modules&#160;</a>for details.</p>
</div>
</div>

<p>In the following example, SystemVerilog&#160;<code>real</code>&#160;number ports (<code>r</code>,<code>&#160;xr</code>, and&#160;<code>wr</code>) are connected to nets belonging to the electrical domain and nets of type&#160;<code>wreal.</code></p>

<p><code>module top;</code></p>

<p><code>&#160;&#160;var real r, xr, wr;</code></p>

<p><code>&#160;&#160;assign xr = 3.14;</code></p>

<p><code>&#160;&#160;ams_electrical_src e_s1(r);&#160;&#160;// causes insertion of Electrical2Real connection<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;// module</code></p>

<p><code>&#160;&#160;ams_electrical_dst e_d1(xr); // causes insertion of Real2Electrical connection<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;// module</code></p>

<p><code>&#160;&#160;ams_wreal_src&#160;&#160;&#160;&#160;&#160;&#160;w_s1(wr); // Connects SystemVerilog real variable to wreal</code></p>

<p><code>endmodule</code>&#160;</p>

<p><code>module ams_electrical_dst(e);</code></p>

<p><code>&#160;&#160;input e; electrical e;</code><br /><code>&#160; initial #10 $display(&quot;%M: %f&quot;, V(e));</code></p>

<p><code>endmodule</code>&#160;</p>

<p><code>module ams_electrical_src(e);</code></p>

<p><code>&#160;&#160;output e; electrical e;</code><br /><code>&#160; analog V(e) &lt;+ 5.0;</code></p>

<p><code>endmodule</code>&#160;</p>

<p><code>module ams_wreal_src(w);</code></p>

<p><code>&#160;&#160;output w; wreal w;</code><br /><code>&#160; assign w = 2.5;</code></p>

<p><code>endmodule</code></p>

<p>Once the SystemVerilog real variables import the AMS functionality through the code above, they can appear in any SystemVerilog assertion statement that permits the use of real variables. For more details on how real variables can be used in SystemVerilog assertion,<span style="color: rgb(0,0,255);">&#160;<a class="message-url" href="../abvquickstart/abvquickstartTOC.html">SVA Quick Reference</a>&#160;</span><code>real</code>&#160;variable,&#160;<code>r</code>, that comes in as a&#160;<code>wreal</code>&#160;port (from the&#160;<code>ams_design</code>&#160;instance), <code>w</code>:</p>

<p><code>module sv_tb;<br />&#160;&#160;real r;<br />&#160;&#160;time t;</code></p>

<p><code>&#160; ams_design a1(r);</code></p>

<p><code>&#160;&#160;always @(r) begin<br />&#160;&#160;&#160;&#160;assert (r &lt; 5.5) else begin<br />&#160;&#160;&#160;&#160;&#160;&#160;t = $time;<br />&#160;&#160;&#160;&#160;&#160;&#160;$error(&quot;assert failed at time %0t&quot;,t);<br />&#160;&#160;&#160;&#160;end<br />&#160;&#160;end<br />endmodule</code></p>

<p><code>module ams_design(w);<br />&#160;&#160;output w; wreal w;<br />&#160;&#160;assign w =5.6;<br />end</code></p>

<p><a href="#ApplyingAssertionstoreal,wreal,andelectricalNets-1075332">Figure, SystemVerilog real variable used inside a SystemVerilog assertion</a>&#160;shows another example of a SystemVerilog real variable being used inside a SystemVerilog assertion.</p>
<div class="pbi_avoid"><span class="content-title"><strong>Figure 20.1:</strong> SystemVerilog real variable used inside a SystemVerilog assertion&#160;<span class="confluence-anchor-link" id="ApplyingAssertionstoreal,wreal,andelectricalNets-1075332"></span></span><p align="left"><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/305236129/305236130.png" data-linked-resource-container-id="305236129" data-linked-resource-container-version="3" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="svams.23.1.7.png" data-linked-resource-id="305236130" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/305236129/305236130.png" /></span></p>
</div>
<h3 id="ApplyingAssertionstoreal,wreal,andelectricalNets-UsingAnalogSystemTasksinSVA1075338">Using Analog System Tasks in SVA<span class="confluence-anchor-link" id="ApplyingAssertionstoreal,wreal,andelectricalNets-1075338"></span></h3>

<p>SystemVerilog Assertions (<a href="Glossary.html#Glossary-1034951">SVA</a>) can contain analog system tasks like&#160;<code>$cds_get_analog_value()</code>&#160;to access the values of analog objects for use within assertions. SVA semantics specify the use of sampled values of all signals, except local variables, during assertion evaluation.</p>

<p>However, if any digital signal changes during assertion evaluation, there is the risk of sampling analog objects (via&#160;<code>$cds_get_analog_value()</code>) too. This is not acceptable because values of such analog objects could have changed significantly since the last sampling and may be out of date for a fair evaluation.</p>

<p>Consider the following example:</p>

<p><code>default clocking CLK @(negedge clk); endclocking</code></p>

<p><code>assert property (</code><br /><code>&#160; a &amp; !b</code><br /><code>&#160; |-&gt;</code><br /><code>&#160; $cds_get_analog_value(&quot;top.simpleVAMS.x&quot;) &gt; c</code><br /><code>);</code></p>

<p>The signals of the assertion above would be sampled whenever digital signals, &#39;<code>a</code>&#39;, &#39;<code>b</code>&#39;, &#39;<code>c</code>&#39;, or &#39;<code>clk</code>&#39; change, whereas the assertion would be evaluated at the negative edge of &#39;<code>clk</code>&#39;.</p>

<p>So the value of the expression</p>

<p><code>$cds_get_analog_value(&quot;top.simpleVAMS.x&quot;) &gt; c</code></p>

<p>used in the assertion evaluation would be the value that existed when the signals were sampled the last time.</p>

<p>To eliminate the evaluation error caused by this, the assertion evaluation process treats the expression just like local variables and uses the current value of the expression</p>

<p><code>$cds_get_analog_value(&quot;top.simpleVAMS.x&quot;) &gt; c</code></p>

<p>Note, however, that like local variables, it uses the current value of ALL digital signals in the expression that contains the analog system function. In this case, the current value of &#39;<code>&#160;c&#160;</code>&#39; would be used.</p>

<p>This can cause race conditions when such digital signals change on the same edge as the clock. This is currently a limitation in the general assertion solution.</p>

                    </div>
<br /><br /></div>
<footer xmlns:html="http://www.w3.org/1999/xhtml"><nav class="navigation"><b><em><a href="Using_Wildcard-Named_Port_Connections_in_AMS.html" id="prev" title="Using_Wildcard-Named_Port_Connections_in_AMS">Using_Wildcard-Named_Port_Conn ...</a></em></b><b><em><a href="Connecting_SystemVerilog_Interface_to_DMS_Verilog-AMS__Electrical__Signals.html" id="nex" title="Connecting_SystemVerilog_Interface_to_DMS_Verilog-AMS__Electrical__Signals">Connecting_SystemVerilog_Inter ...</a></em></b></nav><div>
          For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2019, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved.
        </div>
</footer><br xmlns:html="http://www.w3.org/1999/xhtml" /></body></html>