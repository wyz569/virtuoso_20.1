
<html><head><title>Using IEEE 1801 Standard (UPF) with AMS Designer</title>
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="jaini" />
<meta name="CreateDate" content="2019-11-04" />
<meta name="CreateTime" content="1572864942" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the Virtuoso AMS Designer simulator, a mixed-signal simulator that supports the Verilog-AMS and VHDL-AMS language standards." />
<meta name="DocTitle" content="Spectre AMS Designer and Xcelium Simulator Mixed-Signal User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Using IEEE 1801 Standard (UPF) with AMS Designer" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="concept" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="Digital Mixed Signal,Digital Mixed Signal,Analog Mixed Signal,Explorer,AMS Designer," />
<meta name="prod_subfeature" content="LP-MS,Low Power Sim,LP-MS,AMS Designer," />
<meta name="FileType" content="Chapter" />
<meta name="Keyword" content="amssimug" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2019-11-04" />
<meta name="ModifiedTime" content="1572864942" />
<meta name="NextFile" content="SystemC_Integration_for_Mixed-Signal_Verification.html" />
<meta name="Group" content="Analog Mixed-Signal Simulation" />
<meta name="Platform" content="Functional Verification" />
<meta name="PrevFile" content="Using_Common_Power_Format_with_AMS_Designer.html" />
<meta name="Product" content="Xcelium" />
<meta name="ProductFamily" content="Functional Verification" />
<meta name="ProductVersion" content="19.09" />
<meta name="RightsManagement" content="Copyright 2012-2019 Cadence Design Systems Inc." />
<meta name="Title" content="Spectre AMS Designer and Xcelium Simulator Mixed-Signal User Guide -- Using IEEE 1801 Standard (UPF) with AMS Designer" />
<meta name="Version" content="19.09" />
<meta name="Renderer" content="WIKI" />
<meta name="SpaceKey" content="amssimug2003" />
<meta name="confluence-version" content="6.13.3" />
<meta name="ecms-plugin-version" content="03.30.005" />
<script type="text/javascript" src="styles/shCore1.js">/*<![CDATA[*//*]]>*/</script><script type="text/javascript" src="styles/shCore.js">/*<![CDATA[*//*]]>*/</script><script type="text/javascript" src="styles/shBrushCpp.js">/*<![CDATA[*//*]]>*/</script><script type="text/javascript" src="styles/shBrushJava.js">/*<![CDATA[*//*]]>*/</script><link rel="stylesheet" href="styles/shCoreDefault.css" type="text/css" /><script type="text/javascript">/*<![CDATA[*/
SyntaxHighlighter.all();
/*]]>*/</script>
        
        <link href="styles/site.css" rel="stylesheet" type="text/css" />
        <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
    

    </head><body style="background-color: #FFFFFF;"><!-- Begin Buttons --><header xmlns:html="http://www.w3.org/1999/xhtml"><div class="docHeadr">Product Documentation<img src="images/Cadence-Logo.jpg" /></div>
<nav class="blueHead"><ul><li><a class="content" href="amssimugTOC.html">Contents</a></li><li><a class="prev" href="Using_Common_Power_Format_with_AMS_Designer.html" title="Using_Common_Power_Format_with_AMS_Designer">Using_Common_Power_Format_with ...</a></li><li style="float: right;"><a class="viewPrint" href="amssimug.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="SystemC_Integration_for_Mixed-Signal_Verification.html" title="SystemC_Integration_for_Mixed-Signal_Verification">SystemC_Integration_for_Mixed- ...</a></li></ul></nav></header><!-- End Buttons --><div xmlns:html="http://www.w3.org/1999/xhtml" style="font-size:14px;line-height:1.42857142857;margin:20px 0 0 0;font-weight:bold;"><center>Spectre AMS Designer and Xcelium Simulator Mixed-Signal User Guide<br />Product Version 19.09, September 2019</center></div>
<div xmlns:html="http://www.w3.org/1999/xhtml" style="margin-left:5%;">
<p></p>

<p></p>
<div id="main-header">
                    
                    
                                                <h1 style="margin: 4px 0 4px;"><span>Using IEEE 1801 Standard (UPF) with AMS Designer</span></h1>

                    
                </div>
<div class="wiki-content group" id="main-content">
                    
<p>Starting with the 14.1 release, support for IEEE 1801 standard, Unified Power Format (UPF) has been added in the mixed signal context. UPF is a standardized format for specifying power-saving techniques early in the design process to deliver an end-to-end low-power design solution to designers.</p>

<p>The AMS Designer simulator supports the following UPF commands:</p>
<ul><li><code>add_port_state</code></li></ul><ul><li><code>add_pst_state</code></li></ul><ul><li><code>add_power_state</code></li></ul><ul><li><code>associate_supply_set</code></li></ul><ul><li><code>connect_logic_net</code></li></ul><ul><li><code>connect_supply_net</code></li></ul><ul><li><code>connect_supply_set</code></li></ul><ul><li><code>create_logic_net</code></li></ul><ul><li><code>create_logic_port</code></li></ul><ul><li><code>create_pst</code></li></ul><ul><li><code>create_power_domain</code></li></ul><ul><li><code>create_power_switch</code></li></ul><ul><li><code>create_supply_net</code></li></ul><ul><li><code>create_supply_port</code></li></ul><ul><li><code>create_supply_set</code></li></ul><ul><li><code>connect_supply_net</code></li></ul><ul><li><code>connect_supply_set</code></li></ul><ul><li><code>find_objects</code></li></ul><ul><li><code>load_upf</code></li></ul><ul><li><code>set_design_top</code></li></ul><ul><li><code>set_domain_supply_net</code></li></ul><ul><li><code>set_isolation</code></li></ul><ul><li><code>set_isolation_control</code></li></ul><ul><li><code>set_port_attributes</code></li></ul><ul><li><code>set_scope</code></li></ul><ul><li><code>set_retention</code></li></ul><ul><li><code>set_retention_control</code></li></ul><ul><li><code>set_related_supply_net</code></li></ul><ul><li><code>set_simstate_behavior</code></li></ul><ul><li><code>supply_on</code></li></ul>
<p>A new option&#160;<code>-lps_1801</code>&#160;has been added to xmelab and xrun to enable the IEEE1801 flow.</p>
<div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>You can specify the power intent either in IEEE1801standard or CPF, but not both.</p>
</div>
</div>
<h3 id="UsingIEEE1801Standard(UPF)withAMSDesigner-PowerSmartConnectModules"><br />Power Smart Connect Modules</h3>

<p>The AMS Designer simulator supports the power-smart connect modules for IEEE 1801 standard (UPF). The IEEE 1801 standard shares the same set of connect modules with the CPF power-smart connect modules. However, the names of the power-smart connect modules have been unified to have the suffix<code>&#160;_LPS.</code></p>

<p>Like the CPF power-smart connect modules, the low power intent can be described in a IEEE 1801 file, and the&#160;<code>-lps_1801</code>&#160;option can be added to the&#160;<code>xrun</code>&#160;or&#160;<code>xmelab</code>&#160;command line to enable the IEEE 1801 flow. The selection and insertion of power-smart connect modules complies with the Verilog-AMS language semantics. The power-smart connect modules parameter<code>&#160;vpso&#160;</code>is also supported with IEEE 1801 in the ie card configuration. This parameter is used to specify the voltage value passed to the analog block when the digital block driving it is shut off. The default value of the<code>&#160;vpso&#160;</code>parameter is 0.2.</p>

<p>The following figure illustrates how a power-smart connect module reflects the digital block&#39;s low power intent in IEEE 1801 file, and propagates to analog block:</p>

<p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" data-base-url="https://rdwiki.cadence.com" data-image-src="attachments/305236151/305236152.png" data-linked-resource-container-id="305236151" data-linked-resource-container-version="1" data-linked-resource-content-type="image/png" data-linked-resource-default-alias="lpams.24.1.6.png" data-linked-resource-id="305236152" data-linked-resource-type="attachment" data-linked-resource-version="1" data-unresolved-comment-count="0" src="attachments/305236151/305236152.png" width="640px" /></span></p>

<p>In the above figure, the low power intent for the digital block&#160;<code>digital_A</code>&#160;is described using in IEEE 1801 format and is applied using the&#160;<code>-lps_1801</code>&#160;option. In this case, the power-smart connect module can identify:</p>
<ul><li>The power domain state of the&#160;<code>digital_A</code>&#160;block and use the voltage value of the supply set associated with the power domain&#160;<code>PD1</code>&#160;to perform digital-to-analog transition.</li></ul><ul><li>The isolation rule applied on the digital port and propagate the correct analog value to the&#160;<code>analog_B</code>&#160;block.</li></ul><div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>Refer to the connect library in the installation to see the power-smart connect module definitions.</p>
</div>
</div>
<h3 id="UsingIEEE1801Standard(UPF)withAMSDesigner-SpecifyingPowerIntentonMixed-SignalBlocks">Specifying Power Intent on Mixed-Signal Blocks</h3>

<p>The power intent for the mixed-signal blocks can be described using the IEEE 1801 format and is applied using the&#160;<code>-lps_ams_sim</code>&#160;option at the&#160;<code>xrun</code>&#160;or&#160;<code>xmelab</code>&#160;command-line. Based on the power intent information, the&#160; built-in power-smart connect modules can be inserted at the mixed-signal boundary. The built-in power-smart connect modules:</p>
<ul><li>Propagate the power state over the mixed-signal boundary</li></ul><ul><li>Monitor the working voltage conflicts of multiple drivers and loads</li></ul><ul><li>Check the voltage compatibility between the driver side and load side</li></ul>
<p>Power corruption is applied on the wreal signals in power-shutoff state and is controlled by the following options:</p>
<ul><li><code>default</code>&#160;- forces the wreal signal to&#160;<code>`wrealXState</code>&#160;during power-shutoff state</li></ul><ul><li><code>-lps_wreal_nocorrupt&#160;</code>-&#160; no corruption value is applied on the wreal signal during power-shutoff state</li></ul><ul><li><code>-lps_wreal_corrupt_value &lt;</code><code>value</code><code>&gt;&#160;</code>- applies the specified value on the wreal signal during power-shutoff state. The value can be a real number,&#160;<code>&#39;wrealXState&#39;/&#39;x&#39;&#160;</code>or<code>&#160;&#39;wrealZState&#39;/&#39;z&#39;</code></li></ul>
<p>And, you can use the AMSCCPF VPI task, <code>$amslps_power_state_register(iPwrState, vPwrArgArray)</code>, to define your own power aware connect module. This VPI task could be used to get the following information:</p>
<ul><li>the power state, by back tracing the drivers of input port of smart-ie</li><li>the nominal voltages, which are specified in the CPF conttrol file</li><li>the power shut-off voltage on analog side</li></ul>
<p>Where,</p>
<ul><li><code>iPwrState</code> is a register, which is associated with power state of driver side (it could be logic, wreal or electrical), and it&#39;s value is updated automatically if power state changes happen during simulation.<ul><li><code>1&#39;b1</code>: driver is in power on state</li><li><code>1&#39;b0</code>: driver is in power off state</li><li><code>1&#39;bX</code>: driver is in standby state</li><li><code>1&#39;bZ</code>: driver is in power transition&#160;</li></ul></li></ul><p style="margin-left: 60.0px;">For Bidir, the <code>iPwrState</code> is a register vector <code>[1:0]iPwrState</code>. <code>iPwrState[0]</code> is used to track power state of digital driver and <code>iPwrState[1]</code> is used to track power state of analog side.</p>
<ul><li><code>vPwrArgArray</code> is a real array variable, which is associated with power domain working voltage info, on digital side, that specified in LP(CPF or IEEE1801) files. And the value is changed automatically if power mode changed during simulation.<ul><li><code>vPwrArgArray[0]</code>: power corruption value of electrical signal</li><li><code>vPwrArgArray[1]</code>: supply voltage of power domain</li><li><code>vPwrArgArray[2]</code>: ground voltage of power domain</li><li><code>vPwrArgArray[3]</code>: pmos bias voltage of power domain</li><li><code>vPwrArgArray[4]</code>: nmos bias voltage of power domain</li><li><code>vPwrArgArray[5]</code>: power corruption value of wreal signal</li></ul></li></ul>
<p>By default, the amslps-vpi task links the real array with voltage info of the digital side. However, you can use the <code>-lps_ams_avref</code> option to access the power supply of the power-smart connect modules from the power domain of the analog side.</p>
<h3 id="UsingIEEE1801Standard(UPF)withAMSDesigner-Power-AwareAnalog/RNMBlocks">Power-Aware Analog/RNM Blocks</h3>

<p>Support for IEEE 1801 standard is available on a mixed signal network in which low power-aware signal path is correctly interpreted between digital and analog driver/receiver, and low power-aware supply connection is correctly established to connect both analog and digital power supplies.</p>

<p>The&#160;<code>connect_supply_net</code>&#160;command in IEEE 1801 has been enhanced to support the connection of mixed signal network.</p>

<p><code>connect_supply_net net_name -ports&#160;{ port_list&#160;}</code></p>

<p>Signals in&#160;<code>port_list</code>&#160;with type&#160;<code>logic</code>&#160;and&#160;<code>supply_net_type</code>&#160;are handled by&#160;UPF and AMS-LPS processing ignores&#160;these signals automatically.</p>

<p>UPF supply nets can be connected to design supply nets such as electrical, wreal, and SV-Real Number Modeling (SV-RNM) nets using the&#160;<code>connect_supply_net</code>&#160;command. This is a unidirectional connection, where the voltage info of the UPF supply nets propagates to design supply nets; and, the power state info on the UPF supply nets are ignored. You can enable this feature using the&#160;<em>xrun</em>&#160;option,&#160;<code>-lpa_ams_uca</code>&#160;at the command line.</p>

<p>Additionally, the UPF supply nets and design supply nets can be bidirectionally connected using the&#160;<em>xrun</em>&#160;option,&#160;<code>-lps_ams_connect_supply</code>.&#160; The bidirectional connect module,&#160;<code>ER_bidir</code>&#160;is automatically inserted on the boundary of UPF and design. This allows the voltage info of the UPF supply nets to propagate to the design supply nets.</p>
<div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body">
<p>For AMSD LP1801 Test Bench, you must not enable both <code>-lps_ams_connect_supply</code> and <code>-lps_ams_uca</code> in the same simulation. Cadence recommends you use the <code>-lps_ams_connect_supply</code> command instead of <code>-lps_ams_uca</code>.</p>
</div>
</div>

<p>In the bidirectional connection, the IEEE 1801 command&#160;<code>create_hdl2upf_vct</code>&#160;converts the analog voltage in the design&#160;to IEEE 1801-defined supply net value and state. Low power-aware connect modules are now aware of the dynamic power supply and convert the signals from logic to electrical accordingly. For example:</p>

<p><code>create_hdl2upf_vct VCTR2U -hdl_type {sv cds_rnm} -table { {Expression PowerNetState} ... }</code></p>

<p><code>connect_supply_net SUPPLY_NET -ports { powr_list } -vct VCTR2U</code></p>

<p>Here,&#160;<code>cds_rnm</code>&#160;is a reserved keyword to allow real number content in the&#160;<code>-table</code>&#160;argument. It indicates the mapping of real-valued expressions to the IEEE 1801 supply nets for lower power simulation.</p>

<p>The datatypes for SV-UDN can be real (<code>real</code>,&#160;<code>realtime</code>), logic (<code>bit</code>,&#160;<code>logic</code>,&#160;<code>reg</code>), integer (<code>int</code>) and&#160;<code>enum</code>. And,&#160;you need to specify the element of SV-UDN structure. For example:</p>

<p><code>create_hdl2upf_vct vct_name -hdl_type { sv UDN.RealElement }&#160;-table {{real_expression state_value}*}</code></p>

<p>The expression contains an operator and a value. Following operators are supported:</p>
<ul><li>Relational:<code>&#160;&gt;&#160;</code>,<code>&#160;&gt;=&#160;</code>,<code>&#160;&lt;&#160;</code>, and<code>&#160;&lt;=</code></li></ul><ul><li>Logical Equality:<code>&#160;==&#160;</code>and<code>&#160;!=</code></li></ul><ul><li>Case Equality:<code>&#160;===&#160;</code>and<code>&#160;!==</code></li></ul>
<p>The value can be a real number,&#160;<code>`wrealXState</code>, or<code>&#160;`wrealZState.</code>&#160;The case equality operators can contain only<code>&#160;`wrealXState</code>, or<code>&#160;`wrealZState&#160;</code>as values. Variables or parameters are not supported in HDL code.</p>

<p>Mappings with<code>&#160;==&#160;</code>and<code>&#160;===&#160;</code>take the highest priority, whereas mappings with&#160;<code>!=&#160;</code>and<code>&#160;!==&#160;</code>take the lowest priority. In addition, mappings with the greatest threshold for<code>&#160;&gt;&#160;</code>or<code>&#160;&gt;==&#160;</code>or lowest threshold for&#160;<code>&lt;</code>&#160;or&#160;<code>&lt;=</code>&#160;take the highest priority.</p>

<p>UPF supply nets must have state and voltage. The UPF state can be UNDETERMINED, PARTIAL_ON, FULL_ON, OFF.&#160;<br />wreal and electrical ports computed by RNM or Verilog-AMS or Spectre/SPICE model provide only the voltage, and no UPF state. When such port drives a UPF supply net, a UPF VCT (Value Conversion Table) must be defined and set at the connection definition. The VCT creates the UPF states for the UPF supply net.<br />The following example illustrates that when an LDO instance is simulated (in Spectre or SPICE), the LDO output, named&#160;<code>vout11</code>&#160;in SPICE sub-circuit, drives a UPF supply net named&#160;<code>VDD11sn</code>:</p>
<div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence"># CREATE A UPF SUPPLY NET
create_supply_net VDD11sn
# DEFINE VALUE CONVERTION TABLE CONVERTING REAL VALUES INTO net_state_type UPF VALUES
create_hdl2upf_vct VCTR2U_VDD11 -hdl_type {sv cds_rnm} \-table { {&gt;=1.0 FULL_ON} {&gt;=0.5 PARTIAL_ON} {&lt;0.5 OFF} } 
# IT IMPORTANT TO ATTACHED THE VCT ONLY TO SUCH CONNECT STATEMENT BECAUSE IT TOUCHED A TRUE SPICE ELECTRICAL PORT
connect_supply_net VDD11sn -ports {I0_top_ana/LDO_SPICE/vout11} -vct VCTR2U_VDD11
# THE RESULT WILL BE THE FOLLOWING
# WHEN V(I0_top_ana/LDO_SPICE/vout11) &gt; 1.0 THEN the UPF VDD11sn WILL BE IN &#8220;FULL_ON&#8221; state.
# ELSE IF V(I0_top_ana/LDO_SPICE/vout11) &gt;=0.5 THEN the UPF VDD11sn WILL BE IN &#8220;PARTIAL_ON&#8221; state 
# ELSE IF V(I0_top_ana/LDO_SPICE/vout11) &lt;0.5 THEN the UPF VDD11sn WILL BE IN &#8220;OFF&#8221; state.</pre>
</div>
</div>

<p>Also, the power state info on the UPF supply nets can be converted to analog voltage in design using the&#160;IEEE 1801 command,&#160;<code style="letter-spacing: 0.0px;">create_upf2hdl_vct</code>, has also been enhanced to describe the mapping from the power net to the voltage gate value, as shown in the following example:</p>

<p><code>create_upf2hdl_vct VCTU2RGND -hdl_type {sv cds_rnm} -table {{OFF `wrealZstate} {UNDETERMINED `wrealXState} {FULL_ON 0}}</code></p>

<p><code>connect_supply_net GND -ports { powr_list } -vct VCTU2RGND</code></p>
<ul><li>If the power state is&#160;<code>OFF</code>, the simulator applies a value&#160;<code>`wrealZState</code>&#160;on the mixed-signal supply net;</li></ul><ul><li>If the power state is&#160;<code>UNDETERMINED</code>, the simulator applies a value&#160;<code>`wrealXState</code>&#160;on the mixed-signal supply net;</li></ul><ul><li>If the power state is&#160;<code>FULL_ON</code>, the simulator applies a value&#160;<code>0</code>&#160;on the mixed-signal supply net.</li></ul>
<p>To enable support for VCT definitions in UPF for SV-UDN connections, you must specify the&#160;<code>lps_ams_supply_vct</code>&#160;option. The datatypes for SV-UDN can be real (real, realtime), logic (bit, logic, reg), integer (int) and enum. And, you need to specify the element of SV-UDN structure. For example:</p>

<p><code>create_hdl2upf_vct vct_name -hdl_type { sv UDN.RealElement } -table {{real_expression state_value}*}</code></p>

<p>Also, you can apply VCTs on multiple SV-UDN fields with same datatype. For example:</p>

<p><code>create_upf2hdl_vct VCTS2V -hdl_type {sv EEnet.V} \</code><br /><code>-table { {FULL_ON 1.5} {OFF 0.0} }</code><br /><code>create_upf2hdl_vct VCTS2I -hdl_type {sv EEnet.I} \</code><br /><code>-table { {FULL_ON 0.001} {OFF 0.0001} }</code><br /><code>create_upf2hdl_vct VCTS2R -hdl_type {sv EEnet.R} \</code><br /><code>-table { {FULL_ON 100} {OFF 50} }</code></p>

<p><code>connect_supply_net vdd -ports {i_ana2/vdd} -vct VCTS2V</code><br /><code>connect_supply_net vdd -ports {i_ana2/vdd} -vct VCTS2I</code><br /><code>connect_supply_net vdd -ports {i_ana2/vdd} -vct VCTS2R</code></p>

<p>If there is a supply connection specified in Verilog model, the tool applies a connection between the RTL and UPF signal.&#160;If the same port name exists in UPF and HDL models, a connection is established on the UPF supply port.</p>

<p>In the following example, tool applies a connection between UPF supply net&#160;<code>VDD</code>&#160;and HDL net&#160;<code>ipmu/VDD</code>.&#160;</p>
<div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">----------tb.upf-----------------------------------
load_upf top.upf -scope dut
create_supply_net VDD
connect_supply_net VDD -ports {dut/VDD}   // connecting to UPF
connect_supply_net VDD -ports {ipmu/VDD}  // connecting to HDL
----------top.upf---------------------------------
create_supply_port VDD
create_supply_net VDD
connect_supply_net VDD -ports {VDD}       // connecting to UPF
connect_supply_net VDD -ports {iainv/VDD} // connecting to HDL 
                                          // optimized away since the HDL signal  &#8220;iainv/VDD&#8221; is connecting to &#8220;ipmu/VDD&#8221; in HDL scope.
connect_supply_net VDD -ports {iwinv/VDD} // connecting to HDL
                                          // optimized away since the HDL signal  &#8220;iwinv/VDD&#8221; is connecting to &#8220;ipmu/VDD&#8221; in HDL scope.
-----------------tb.sv----------------------------
module tb();
 pmu  ipmu(VDD);
 top  dut(VDD);
endmodule;
----------------top.vams---------------------
module top(VDD);
 ainv  iainv(VDD);
 winv  iwinv(VDD);
endmodule</pre>
</div>
</div>
<h3 id="UsingIEEE1801Standard(UPF)withAMSDesigner-SpecifyingParameterValuesforConnectModulesonPowerSupplyNets">Specifying Parameter Values for Connect Modules on Power Supply Nets</h3>

<p>A new parameter&#160;<code>idealmode</code>&#160;has been added to the built-in E-R connect module (<code>ER_bidir</code>) that enables you to specify an ideal voltage source for the connect module on power supply nets.</p>

<p>The parameter can be set in the following two ways:</p>
<ul><li>Using the&#160;<code>ie</code>&#160;statement - You can set the value of the&#160;<code>rout</code>&#160;parameter to 0, which changes the value of&#160;<code>idealmode</code>&#160;parameter to 1 automatically.</li></ul><ul><li>Using the&#160;<code>-amsconnrules</code>&#160;option - You can specify the value of the&#160;<code>idealmode</code>&#160;parameter in the user-defined connect rules.</li></ul>
<p>By default, the power supply net takes the discipline&#160;<code>discrete_amslps.</code>&#160;However, you can set the discipline for a particular power supply net by specifying the&#160;<code>-setdiscipline</code>&#160;option at the command line. The tool automatically selects the connect module from the connect rules based on the discipline of IEEE1801 power supply net.</p>

<p><code># CREATE A UPF SUPPLY NET</code><br /><code>create_supply_net VDD11sn</code><br /><code># DEFINE VALUE CONVERTION TABLE CONVERTING REAL VALUES INTO net_state_type UPF VALUES</code><br /><code>create_hdl2upf_vct VCTR2U_VDD11 -hdl_type {sv cds_rnm} \</code></p>

<p><code>-table { {&gt;=1.0 FULL_ON} {&gt;=0.5 PARTIAL_ON} {&lt;0.5 OFF} }&#160;</code><br /><code># IT IMPORTANT TO ATTACHED THE VCT ONLY TO SUCH CONNECT STATEMENT BECAUSE IT TOUCHED A TRUE SPICE ELECTRICAL PORT</code><br /><code>connect_supply_net VDD11sn -ports {I0_top_ana/LDO_SPICE/vout11} -vct VCTR2U_VDD11</code><br /><code># THE RESULT WILL BE THE FOLLOWING</code><br /><code># WHEN V(I0_top_ana/LDO_SPICE/vout11) &gt; 1.0 THEN the UPF VDD11sn WILL BE IN &#8220;FULL_ON&#8221; state.</code><br /><code># ELSE IF V(I0_top_ana/LDO_SPICE/vout11) &gt;=0.5 THEN the UPF VDD11sn WILL BE IN &#8220;PARTIAL_ON&#8221; state&#160;</code><br /><code># ELSE IF V(I0_top_ana/LDO_SPICE/vout11) &lt;0.5 THEN the UPF VDD11sn WILL BE IN &#8220;OFF&#8221; state.</code></p>

                    </div>
<br /><br /></div>
<footer xmlns:html="http://www.w3.org/1999/xhtml"><nav class="navigation"><b><em><a href="Using_Common_Power_Format_with_AMS_Designer.html" id="prev" title="Using_Common_Power_Format_with_AMS_Designer">Using_Common_Power_Format_with ...</a></em></b><b><em><a href="SystemC_Integration_for_Mixed-Signal_Verification.html" id="nex" title="SystemC_Integration_for_Mixed-Signal_Verification">SystemC_Integration_for_Mixed- ...</a></em></b></nav><div>
          For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2019, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved.
        </div>
</footer><br xmlns:html="http://www.w3.org/1999/xhtml" /></body></html>