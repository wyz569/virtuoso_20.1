
<html><head><title>Connecting SystemVerilog Interface to DMS/Verilog-AMS (Electrical) Signals</title>
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="jaini" />
<meta name="CreateDate" content="2019-11-04" />
<meta name="CreateTime" content="1572864933" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the Virtuoso AMS Designer simulator, a mixed-signal simulator that supports the Verilog-AMS and VHDL-AMS language standards." />
<meta name="DocTitle" content="Spectre AMS Designer and Xcelium Simulator Mixed-Signal User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Connecting SystemVerilog Interface to DMS/Verilog-AMS (Electrical) Signals" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="concept" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="Digital Mixed Signal,Analog Mixed Signal,Explorer,AMS Designer," />
<meta name="prod_subfeature" content="SV-MS,SV-MS,AMS Designer," />
<meta name="FileType" content="Chapter" />
<meta name="Keyword" content="amssimug" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2019-11-04" />
<meta name="ModifiedTime" content="1572864933" />
<meta name="NextFile" content="Coercion_for_SystemVerilog_Interfaces__Program__or_Checker_Blocks.html" />
<meta name="Group" content="Analog Mixed-Signal Simulation" />
<meta name="Platform" content="Functional Verification" />
<meta name="PrevFile" content="Applying_Assertions_to_real__wreal__and_electrical_Nets.html" />
<meta name="Product" content="Xcelium" />
<meta name="ProductFamily" content="Functional Verification" />
<meta name="ProductVersion" content="19.09" />
<meta name="RightsManagement" content="Copyright 2012-2019 Cadence Design Systems Inc." />
<meta name="Title" content="Spectre AMS Designer and Xcelium Simulator Mixed-Signal User Guide -- Connecting SystemVerilog Interface to DMS/Verilog-AMS (Electrical) Signals" />
<meta name="Version" content="19.09" />
<meta name="Renderer" content="WIKI" />
<meta name="SpaceKey" content="amssimug2003" />
<meta name="confluence-version" content="6.13.3" />
<meta name="ecms-plugin-version" content="03.30.005" />

        
        <link href="styles/site.css" rel="stylesheet" type="text/css" />
        <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
    

    </head><body style="background-color: #FFFFFF;"><!-- Begin Buttons --><header xmlns:html="http://www.w3.org/1999/xhtml"><div class="docHeadr">Product Documentation<img src="images/Cadence-Logo.jpg" /></div>
<nav class="blueHead"><ul><li><a class="content" href="amssimugTOC.html">Contents</a></li><li><a class="prev" href="Applying_Assertions_to_real__wreal__and_electrical_Nets.html" title="Applying_Assertions_to_real__wreal__and_electrical_Nets">Applying_Assertions_to_real__w ...</a></li><li style="float: right;"><a class="viewPrint" href="amssimug.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="Coercion_for_SystemVerilog_Interfaces__Program__or_Checker_Blocks.html" title="Coercion_for_SystemVerilog_Interfaces__Program__or_Checker_Blocks">Coercion_for_SystemVerilog_Int ...</a></li></ul></nav></header><!-- End Buttons --><div xmlns:html="http://www.w3.org/1999/xhtml" style="font-size:14px;line-height:1.42857142857;margin:20px 0 0 0;font-weight:bold;"><center>Spectre AMS Designer and Xcelium Simulator Mixed-Signal User Guide<br />Product Version 19.09, September 2019</center></div>
<div xmlns:html="http://www.w3.org/1999/xhtml" style="margin-left:5%;">
<p></p>

<p></p>
<div id="main-header">
                    
                    
                                                <h1 style="margin: 4px 0 4px;"><span>Connecting SystemVerilog Interface to DMS/Verilog-AMS (Electrical) Signals</span></h1>

                    
                </div>
<div class="wiki-content group" id="main-content">
                    
<p><span class="confluence-anchor-link" id="ConnectingSystemVerilogInterfacetoDMS/Verilog-AMS(Electrical)Signals-sv_interface"></span><span class="confluence-anchor-link" id="ConnectingSystemVerilogInterfacetoDMS/Verilog-AMS(Electrical)Signals-sv_interface"></span><span class="confluence-anchor-link" id="ConnectingSystemVerilogInterfacetoDMS/Verilog-AMS(Electrical)Signals-1075070"></span>A SystemVerilog interface&#160;may be used to connect modules with mixed-signal content.&#160;You must use the&#160;<code style="letter-spacing: 0.0px;">-ams_svintf</code>&#160;command-line option for the SV interface to electrical connections. For instance, for interface signals connecting to VAMS signals such as wreals or for complex interfaces where an interface signal is connecting to DMS reals.</p>

<p>The following examples of interface declaration show how a mixed signal net can be declared as a member of an interface.</p>

<p><code>interface foo;<br />&#160;&#160;&#160;&#160;user_nettpe x;<br />&#160;&#160;&#160;&#160;modport ...;<br />endinterface</code></p>

<p><code>interface foo;<br />&#160;&#160;&#160;&#160;wreal1driver x;<br />endinterface</code></p>

<p><code>interface foo;<br />&#160;&#160;&#160;&#160;wrealsum x;<br />endinterface</code></p>

<p><code>interface foo;<br />&#160;&#160;&#160;&#160;wrealavg x;<br />endinterface</code></p>

<p><code>interface foo;<br />&#160;&#160;&#160;&#160;wrealmax x;<br />endinterface</code></p>

<p><code>interface foo;<br />&#160;&#160;&#160;&#160;wrealmin x;<br />endinterface</code></p>

<p><code>interface foo;<br />&#160;&#160;&#160;&#160;wreal4state x;<br />endinterface</code></p>

<p>The following examples highlight how a SystemVerilog interface might be used to connect modules with mixed-signal SystemVerilog DMS objects (including custom nettype and modports)</p>

<p><span style="color: rgb(0,0,0);"><strong>Case 1</strong></span>: When the mixed-signal module instance has an interface port</p>

<p><code>//Interface Definition(SV)</code></p>

<p><code>interface foo;</code></p>

<p><code>&#160;&#160;&#160;&#160;wreal4state x;</code></p>

<p><code>&#160;&#160;&#160;&#160;wire x;</code></p>

<p><code>endinterface&#160;</code></p>

<p><code>//bar has an interface port</code><br /><code>module bar(foo u);</code><br /><code>endmodule&#160;</code></p>

<p><code>//baz has an interfafce port</code><br /><code>module baz(foo u);</code><br /><code>endmodule&#160;</code></p>

<p><code>module tb</code><br /><code>&#160; &#160; foo u()</code></p>

<p><code>//explict port connection on instance v of bar</code><br /><code>&#160; &#160; bar v(u)</code><br /><code>//implicit (or .*) connection on instance w of baz</code><br /><code>&#160; &#160; baz w(.*)</code><br /><code>endmodule</code>&#160;</p>

<p><span style="color: rgb(0,0,0);"><strong>Case 2</strong></span>: When the module instance does not have an interface port</p>

<p><code>//bak does not have an interface port</code></p>

<p><code>module bak (inout wreal4state x,</code><br /><code>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;inout wreal4state y);</code><br /><code>endmodule</code></p>

<p><code>module tb;</code><br /><code>foo u();</code><br /><code>//explicit port connection on instance v of bar</code></p>

<p><code>&#160;&#160;&#160;&#160;bar v(u);</code></p>

<p><code>//referenced port connection on instance w of bak</code><br /><code>&#160; &#160; bak w(u.x, u.y);</code><br /><code>endmodule</code></p>

<p>The above cases outline the interface connectivity schemes when the modules have real numbered ports. These include wreals and SystemVerilog user-defined nettypes. Such modules are typically written in the SystemVerilog context. When the module is written in the Verilog-AMS context (file with&#160;<code>.vams</code>&#160;extension), a SystemVerilog wrapper must be used to encapsulate the module before connection with an interface. This is because there is no concept of an interface in the Verilog-AMS language.</p>

<p><span style="color: rgb(0,0,0);"><strong>Case 3</strong></span>: When a module instance is a Verilog-AMS block</p>

<p><code>`include &quot;disciplines.h&quot;&#160;</code></p>

<p><code>//bal has an electrical port x and a wreal port y; it is a Verilog-AMS block</code><br /><code>module bal(x,y);</code></p>

<p><code>&#160;&#160;&#160;&#160;electrical x;</code><br /><code>&#160; &#160; wreal y;</code><br /><code>end module&#160;</code></p>

<p><code>//balwrap is a SystemVerilog wrapper for bal</code><br /><code>module balwrap(foo,u);</code><br /><code>&#160; &#160; bal v(u.x, u.y);</code><br /><code>endmodule&#160;</code></p>

<p><code>module tb;</code></p>

<p><code>// implicit (or .*) connection on instance v or bar</code><br /><code>&#160; &#160; bar v(.*);</code><br /><code>//implicit (or .*) connection on instance w of balwrap</code><br /><code>&#160; &#160; balwrap w(.*);</code><br /><code>endmodule</code></p>
<h4 id="ConnectingSystemVerilogInterfacetoDMS/Verilog-AMS(Electrical)Signals-NotesandLimitations">Notes and Limitations</h4>
<ul><li>There is limited support for coercion when using SystemVerilog interface in mixed-signal designs</li></ul><ul><li>Discipline resolution rules apply as usual, however, not all DR optimizations are supported</li></ul><ul><li>IE optimization, such as back-to-back IE insertion with electrical drivers and receivers is not supported. It is supported for back-to-back scenarios consisting of real type (<code>cds_rnm_pkg</code>&#160;types) drivers and real (<code>cds_rnm_pkg</code>&#160;type) receivers.</li></ul><ul><li>Modports cannot be used with electrical signals</li></ul><ul><li>Ports involving interface signals that are unpacked array wires or user-defined nettypes are not supported</li></ul><ul><li>In designs with complex hierarchy of modules, the&#160;<code>-amsoptie</code>&#160;option is not supported</li></ul><ul><li>Interface signals that are used in purely digital context remain digital even when connected to electrical signals. This includes the use of signal in clocking blocks.</li></ul><ul><li>All limitations for digital implementations for SystemVerilog interface apply to mixed-signal implementations</li></ul>
                    </div>
<br /><br /></div>
<footer xmlns:html="http://www.w3.org/1999/xhtml"><nav class="navigation"><b><em><a href="Applying_Assertions_to_real__wreal__and_electrical_Nets.html" id="prev" title="Applying_Assertions_to_real__wreal__and_electrical_Nets">Applying_Assertions_to_real__w ...</a></em></b><b><em><a href="Coercion_for_SystemVerilog_Interfaces__Program__or_Checker_Blocks.html" id="nex" title="Coercion_for_SystemVerilog_Interfaces__Program__or_Checker_Blocks">Coercion_for_SystemVerilog_Int ...</a></em></b></nav><div>
          For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2019, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved.
        </div>
</footer><br xmlns:html="http://www.w3.org/1999/xhtml" /></body></html>