
<html><head><title>Appendix A: Updating Legacy Libraries and Netlists</title>
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="jaini" />
<meta name="CreateDate" content="2019-11-04" />
<meta name="CreateTime" content="1572864947" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the Virtuoso AMS Designer simulator, a mixed-signal simulator that supports the Verilog-AMS and VHDL-AMS language standards." />
<meta name="DocTitle" content="Spectre AMS Designer and Xcelium Simulator Mixed-Signal User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Appendix A: Updating Legacy Libraries and Netlists" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="FileType" content="Chapter" />
<meta name="Keyword" content="amssimug" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2019-11-04" />
<meta name="ModifiedTime" content="1572864947" />
<meta name="NextFile" content="Appendix_B__Tcl-Based_Debugging.html" />
<meta name="Group" content="Analog Mixed-Signal Simulation" />
<meta name="Platform" content="Functional Verification" />
<meta name="PrevFile" content="Incremental_Elaboration_for_Mixed-Signal.html" />
<meta name="Product" content="Xcelium" />
<meta name="ProductFamily" content="Functional Verification" />
<meta name="ProductVersion" content="19.09" />
<meta name="RightsManagement" content="Copyright 2012-2019 Cadence Design Systems Inc." />
<meta name="Title" content="Spectre AMS Designer and Xcelium Simulator Mixed-Signal User Guide -- Appendix A: Updating Legacy Libraries and Netlists" />
<meta name="Version" content="19.09" />
<meta name="Renderer" content="WIKI" />
<meta name="SpaceKey" content="amssimug2003" />
<meta name="confluence-version" content="6.13.3" />
<meta name="ecms-plugin-version" content="03.30.005" />

        
        <link href="styles/site.css" rel="stylesheet" type="text/css" />
        <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
    

    </head><body style="background-color: #FFFFFF;"><!-- Begin Buttons --><header xmlns:html="http://www.w3.org/1999/xhtml"><div class="docHeadr">Product Documentation<img src="images/Cadence-Logo.jpg" /></div>
<nav class="blueHead"><ul><li><a class="content" href="amssimugTOC.html">Contents</a></li><li><a class="prev" href="Incremental_Elaboration_for_Mixed-Signal.html" title="Incremental_Elaboration_for_Mixed-Signal">Incremental_Elaboration_for_Mi ...</a></li><li style="float: right;"><a class="viewPrint" href="amssimug.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="Appendix_B__Tcl-Based_Debugging.html" title="Appendix_B__Tcl-Based_Debugging">Appendix_B__Tcl-Based_Debuggin ...</a></li></ul></nav></header><!-- End Buttons --><div xmlns:html="http://www.w3.org/1999/xhtml" style="font-size:14px;line-height:1.42857142857;margin:20px 0 0 0;font-weight:bold;"><center>Spectre AMS Designer and Xcelium Simulator Mixed-Signal User Guide<br />Product Version 19.09, September 2019</center></div>
<div xmlns:html="http://www.w3.org/1999/xhtml" style="margin-left:5%;">
<p></p>

<p></p>
<div id="main-header">
                    
                    
                                                <h1 style="margin: 4px 0 4px;"><span>Appendix A: Updating Legacy Libraries and Netlists</span></h1>

                    
                </div>
<div class="wiki-content group" id="main-content">
                    <div><span class="confluence-anchor-link" id="AppendixA:UpdatingLegacyLibrariesandNetlists-1031783"></span>
<p>This appendix highlights changes that you might have to make to your existing libraries before using them with the AMS Designer simulator.</p>
<h2 id="AppendixA:UpdatingLegacyLibrariesandNetlists-UpdatingVerilog-AModules">Updating Verilog-A Modules</h2>

<p>The Verilog<span style="color: rgb(0,0,0);"><sup>&#174;</sup></span>-A language is a subset of Verilog-AMS, but some of the language elements in that subset have changed since the release of Verilog-A. As a result, you might need to revise your Verilog-A modules before using them as Verilog-AMS modules. For more information, see the&#160;<span style="color: rgb(0,0,255);"><a class="message-url" href="../verilogamsref/appG.html">&quot;Updating Verilog-A Modules&quot;</a></span>appendix, in<span style="color: rgb(0,0,0);"><em> Cadence Verilog-AMS Language Reference</em>.</span></p>

<p>In addition, some Verilog-A modules can be made more efficient by rewriting them to take advantage of the digital and mixed-signal aspects of Verilog-AMS. In these cases, you might want to generate an alternate cellview for use with the AMS Designer simulator. For more information, see the&#160;<span style="color: rgb(0,0,255);"><a class="message-url" href="../verilogamsref/chap11.html">&quot;Mixed-Signal Aspects of Verilog-AMS&quot;</a></span>chapter, in<span style="color: rgb(0,0,0);"><em> Cadence Verilog-AMS Language Reference</em>.</span></p>
<h2 id="AppendixA:UpdatingLegacyLibrariesandNetlists-UpdatingSpectreHDLModules">Updating SpectreHDL Modules</h2>

<p>The AMS Designer simulator does not support SpectreHDL modules, so to use that functionality, you must convert SpectreHDL modules to Verilog-A. In most cases, conversion involves syntax changes only, but sometimes semantic and functional differences prevent conversion. See &quot;Converting SpectreHDL to Verilog-A&quot; in the<em><span style="color: rgb(0,0,0);"> Cadence Verilog-A Language Reference </span></em>for more information.</p>
<h2 id="AppendixA:UpdatingLegacyLibrariesandNetlists-UpdatingLibrariesofAnalogMasters">Updating Libraries of Analog Masters</h2>

<p>The AMS Designer simulator uses analog primitive tables to accelerate the processing of Spectre/SPICE model files. Each model card has a unique name, referred to as the analog master, which allows it to be accessed by Verilog-AMS. Before you can use model files in your designs you must create analog primitive table files for them. See <a href="Preparing_the_Design__Using_Analog_Primitives_and_Subcircuits.html">Chapter, &quot;Preparing the Design: Using Analog Primitives and Subcircuits,&quot;</a>&#160;for more information.</p>
<h2 id="AppendixA:UpdatingLegacyLibrariesandNetlists-UpdatingVerilogModules">Updating Verilog Modules</h2>

<p>A module written for the purely digital Verilog language can often be used without change in the AMS Designer simulator. However, it might be necessary to make some minor changes, such as escaping or modifying keywords, to make the module legal for both Verilog and Verilog-AMS. If it is not possible to modify a Verilog module to make it compliant with both languages, you can use the unmodified file by compiling it<span style="color: rgb(0,0,0);"> without </span>using the&#160;<code>-AMS</code>&#160;option for the <code>xmvlog</code>&#160;command.</p>

<p>For example, you might have a Verilog module that uses <code>branch</code>&#160;as a variable. That is legal in Verilog but illegal in Verilog-AMS (which recognizes<code> branch </code>as a keyword). As a result, you must compile the module without using the&#160;<code>-AMS</code>&#160;option so that the module is compiled as Verilog, not as Verilog-AMS.</p>
<h2 id="AppendixA:UpdatingLegacyLibrariesandNetlists-UpdatingVHDLBlocks">Updating VHDL Blocks</h2>

<p>With the Spectre AMS Designer Simulator, you can use VHDL textual data directly, without importing models. Any VHDL block that runs with the NC-VHDL simulator runs with the AMS Designer simulator too.</p>
<h2 id="AppendixA:UpdatingLegacyLibrariesandNetlists-UpdatingLegacyNetlists">Updating Legacy Netlists</h2>

<p>Netlists used for analog-only simulators, such as the Spectre<span style="color: rgb(0,0,0);"><sup>&#174;</sup></span>circuit simulator, serve a number of purposes, including instantiating components, setting initial conditions, defining models, and specifying analyses. In the Spectre<span style="color: rgb(0,0,0);"><sup>&#174;</sup></span>AMS Designer simulator, instantiation and model specification are separated from the simulator controls and some of the analog controls are separated from the rest of the simulation controls. As a result, the primary way of controlling the analog solver is to define an analog simulation control file. The controls you can use in the analog simulation control file differ slightly from those in netlists, so you might need to rewrite legacy netlists to use the controls described in <a href="Specifying_Controls_for_the_Analog_Solvers.html#SpecifyingControlsfortheAnalogSolvers-1033389">Chapter, &quot;Specifying Controls for the Analog Solvers.&quot;</a></p>

<p>The AMS Designer simulator does not support everything used in existing netlists. For information about unsupported features, see the<span style="color: rgb(0,0,255);"> <a class="message-url" href="../amssimugKPNS/amssimugKPNS.html">Spectre AMS Simulator Known Problems and Solutions</a>.</span></p>
<h2 id="AppendixA:UpdatingLegacyLibrariesandNetlists-UpdatingExistingDesigns">Updating Existing Designs</h2>

<p>Designs entered using Virtuoso Schematic Editor in flows such as the Cadence<span style="color: rgb(0,0,0);"><sup>&#174;</sup></span>analog design environment flow are automatically translated to Verilog-AMS netlists. Issues including some of the above mentioned issues must first be addressed before the AMS netlister can properly work. For guidance about complying with the AMS design guidelines, see the &quot;Designing for Virtuoso AMS Compliance&quot; chapter, of<span style="color: rgb(0,0,0);"><em> Virtuoso AMS Environment User Guide</em>.</span></p>
</div>

                    </div>
<br /><br /></div>
<footer xmlns:html="http://www.w3.org/1999/xhtml"><nav class="navigation"><b><em><a href="Incremental_Elaboration_for_Mixed-Signal.html" id="prev" title="Incremental_Elaboration_for_Mixed-Signal">Incremental_Elaboration_for_Mi ...</a></em></b><b><em><a href="Appendix_B__Tcl-Based_Debugging.html" id="nex" title="Appendix_B__Tcl-Based_Debugging">Appendix_B__Tcl-Based_Debuggin ...</a></em></b></nav><div>
          For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2019, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved.
        </div>
</footer><br xmlns:html="http://www.w3.org/1999/xhtml" /></body></html>