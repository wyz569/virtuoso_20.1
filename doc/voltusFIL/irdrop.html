
<html><head><title>IR Drop Analysis Results</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="pallabi" />
<meta name="CreateDate" content="2020-09-11" />
<meta name="CreateTime" content="1599811560" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="This manual describes the use flow information in Voltus-Fi Custom Power Integrity Solution L." />
<meta name="DocTitle" content="Voltus-Fi Custom Power Integrity Solution L User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="IR Drop Analysis Results" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.2" />
<meta name="Keyword" content="voltusFIL" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2020-09-11" />
<meta name="ModifiedTime" content="1599811560" />
<meta name="NextFile" content="emanalysis.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Digital IC Design,Digital IC Design" />
<meta name="PrevFile" content="env_variables.html" />
<meta name="c_product" content="Virtuoso Power System,Voltus-Fi" />
<meta name="Product" content="Virtuoso Power System,Voltus-Fi" />
<meta name="ProductFamily" content="Virtuoso Power System,Voltus-Fi" />
<meta name="ProductVersion" content="ICADVM20.1" />
<meta name="RightsManagement" content="Copyright 2012-2020 Cadence Design Systems Inc." />
<meta name="Title" content="Voltus-Fi Custom Power Integrity Solution L User Guide -- IR Drop Analysis Results" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="ICADVM20.1" />
<meta name="SpaceKey" content="voltusFILICADVM201" />
<meta name="webflare-version" content="2.0" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="voltusFILTOC.html">Contents</a></li><li><a class="prev" href="env_variables.html" title="Environment Variables">Environment Variables</a></li><li style="float: right;"><a class="viewPrint" href="voltusFIL.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="emanalysis.html" title="EM Analysis Results">EM Analysis Results</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Voltus-Fi Custom Power Integrity Solution L User Guide<br />Product Version ICADVM20.1, October 2020</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>6
<a id="pgfId-55593"></a><a id="97089"></a></h1>
<h1>
<a id="pgfId-55595"></a><hr />
<a id="58483"></a>IR Drop Analysis Results<hr />
</h1>

<ul><li>
<a id="pgfId-55604"></a><a href="irdrop.html#20601">Overview</a></li><li>
<a id="pgfId-100237"></a><a href="irdrop.html#29065">Signal Net IR Drop Analysis</a></li><li>
<a id="pgfId-155163"></a><a href="irdrop.html#57236">Solid Shape Highlighting</a></li><li>
<a id="pgfId-155167"></a><a href="irdrop.html#45930">Displaying Finer Color Gradient for Selected Layers in IR and EM Plots</a></li><li>
<a id="pgfId-163295"></a><a href="irdrop.html#56338">Loading the DFII Layer Map File by Default</a></li><li>
<a id="pgfId-163305"></a><a href="irdrop.html#81731">Setting a Layer Index for Displaying Violations on the Layout</a></li><li>
<a id="pgfId-55622"></a><a href="irdrop.html#56689">The IR Drop Analysis Flow</a><ul><li>
<a id="pgfId-83059"></a><a href="irdrop.html#52428">The IR Drop Analysis Batch Mode Flow</a></li><li>
<a id="pgfId-155045"></a><a href="irdrop.html#68945">The IR Drop Analysis GUI Flow</a><ul><li>
<a id="pgfId-155135"></a><a href="irdrop.html#81728">Viewing the IR Drop Analysis Results</a></li><li>
<a id="pgfId-156964"></a><a href="irdrop.html#85306">Displaying and Querying EMIR Results</a></li></ul></li></ul></li><li>
<a id="pgfId-87637"></a><a href="irdrop.html#13240">Types of IR Drop Analysis Plots</a></li><li>
<a id="pgfId-158778"></a><a href="irdrop.html#12422">Plotting the Least-Resistive Path</a><ul><li>
<a id="pgfId-161881"></a><a href="irdrop.html#43762">The LRP Browser</a></li><li>
<a id="pgfId-161898"></a><a href="irdrop.html#12657">Shorting Layers for LRP Analysis</a></li><li>
<a id="pgfId-161908"></a><a href="irdrop.html#58315">Displaying LRP for the Node on the Selected Marker</a></li></ul></li><li>
<a id="pgfId-118928"></a><a href="irdrop.html#16686">Generating EMIR Analysis Reports in Voltus-Fi-L</a><ul><li>
<a id="pgfId-161918"></a><a href="irdrop.html#90743">Reports Generated Using the EMIR Control File</a></li><li>
<a id="pgfId-161935"></a><a href="irdrop.html#25075">Default Reports Generated by Voltus-Fi-L for EMIR Analysis</a></li><li>
<a id="pgfId-162579"></a><a href="irdrop.html#15498">RLRP Report</a></li></ul></li><li>
<a id="pgfId-164984"></a><a href="irdrop.html#49052">Reporting On-Resistance Values</a><ul><li>
<a id="pgfId-164994"></a><a href="irdrop.html#60468">Overview</a></li><li>
<a id="pgfId-165010"></a><a href="irdrop.html#42748">Generating the RON Report</a></li><li>
<a id="pgfId-165016"></a><a href="irdrop.html#57740">Output</a></li></ul></li></ul>
























<h2>
<a id="pgfId-86273"></a><a id="20601"></a>Overv<a id="marker-95298"></a>iew</h2>

<p>
<a id="pgfId-155190"></a>Voltus-Fi-L uses the results of the simulation performed using the <code>vavo-db</code> or the parameter storage format (<code>PSF</code>) data to perform IR drop and EM analysis. The software provides both batch mode and GUI support for performing these analyses. </p>

<h2>
<a id="pgfId-153175"></a><a id="29065"></a>Sign<a id="IR drop"></a>al Net IR Drop Analysis</h2>

<p>
<a id="pgfId-155326"></a>By default, IR drop analysis can only be applied to power nets, which are nets driven by DC or constant voltage sources. The advanced feature, signal net IR drop analysis, lets you perform IR drop analysis on signal nets, which are nets that are not connected to any DC or constant voltage source. </p>
<p>
<a id="pgfId-160708"></a>In the signal net IR drop analysis, the maximum or average IR drop is reported using the <code>analysis=[sigvmax sigvavg] </code>statement in the EMIR control file (<code>emir.config</code>). </p>
<p>
<a id="pgfId-163065"></a>For details, see the <h-hot><a actuate="user" class="URL" href="../voltusFIXL/irdrop.html#SignalNetIRDropAnalysis" show="replace" xml:link="simple">Signal Net IR Drop Analysis</a></h-hot> section in the &#8220;IR Drop Analysis Results&#8221; chapter of the <em>Voltus-Fi Custom Power Integrity Solution XL User Guide.</em></p>

<h2>
<a id="pgfId-163069"></a><a id="57236"></a>Solid<a id="marker-163068"></a> Shape Highlighting</h2>

<p>
<a id="pgfId-155379"></a>The rail analysis plots that are displayed on the Virtuoso Layout can be viewed as either stick diagrams or solid shape highlights. In the solid shape display, the plots highlight the full shape of the presistors, while in the stick diagram display, the presistors are connected through thin lines over the layout shapes.</p>
<p>
<a id="pgfId-155371"></a>The solid shape display is more useful for designers because it allows them to see the shapes that are failing the analysis. There are two flows for solid shape display. You can either specify the DFII layermap file or the QRC run name for viewing solid shape display for plots. When you specify the QRC run name, the plots are displayed based on the shape database generated by Quantus QRC.</p>
<p>
<a id="pgfId-155391"></a>For details, see the <h-hot><a actuate="user" class="URL" href="../voltusFIXL/irdrop.html#SolidShapeHighlighting" show="replace" xml:link="simple">Solid Shape Highlighting</a></h-hot> section in the &#8220;IR Drop Analysis Results&#8221; chapter of the <em>Voltus-Fi Custom Power Integrity Solution XL User Guide.</em></p>

<h2>
<a id="pgfId-155446"></a><a id="45930"></a>Displaying <a id="FinerColorGradient"></a>Finer Color Gradient for Selected Layers in IR and EM Plots</h2>

<p>
<a id="pgfId-164506"></a>In the DFII layermap flow, for solid shape display of IR/EM violations on the Virtuoso layout, Voltus-Fi-L locates all the nodes lying on a shape and then colors the shape with the worst violation value among all resistors connected to these nodes.</p>
<p>
<a id="pgfId-164507"></a>However, sometimes resistors do not align well with the shapes used to display the violations. This may be because the shapes are large and have multiple nodes and resistors. Voltus-Fi supports a finer display of the color gradient for violations in different segments of such layers. The shape polygons are split into subpolygons and then the subpolygons are colored with the worst violation value for all resistors connected to the nodes in the split shape. This feature is turned on by default for all layers. However, you can select specific layers to view their finer gradient instead of viewing for all layers. </p>
<p>
<a id="pgfId-155471"></a>For this, specify the <em>DFII Layermap</em> file and then click the <em>Finer Gradient</em> button provided on the IR or EM tabs of the IR/EM Results form. In the <em>Finer Gradient Layer Selection</em> pop-up, click <em>Deselect All</em> and then select the PGDB layers for which you want to view finer gradient. For details of the steps involved, see <h-hot><a actuate="user" class="URL" href="../voltusFIXL/irdrop.html#DisplayingFinerColorGradient" show="replace" xml:link="simple">Displaying Finer Color Gradient for Selected Layers in IR and EM Plots</a></h-hot> in the &#8220;IR Drop Analysis Results&#8221; chapter of the <em>Voltus-Fi Custom Power Integrity Solution XL User Guide.</em></p>

<h2>
<a id="pgfId-163156"></a><a id="56338"></a>Loading <a id="vfiDfiiLayerMapFile"></a>the DFII Layer Map File by Default</h2>

<p>
<a id="pgfId-163408"></a>You can specify the path to the DFII Layer Map file in the GUI for both IR drop and EM analysis results in the <em>DFII Layermap file</em> field provided in both the IR and EM tabs of the IR/EM Results form. You can also use a variable to load the layer map file by default. For this, specify the DFII layer map file in either the <code>.cdsinit</code> or the <code>.cdsenv</code> file by using the <code>vfiDfiiLayerMapFile </code>environment variable. The syntax and example of specifying the path to the DFII layer map file is provided below.</p>
<ul><li>
<a id="pgfId-163409"></a>In the <code>.cdsinit</code> file, specify the following:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id163410">
<a id="pgfId-163410"></a>envSetVal(&quot;voltus_fi.results&quot;  &quot;vfiDfiiLayerMapFile&quot;  &#39;string&#8217; </pre><pre class="webflare-pre-block webflare-courier-new" id="#id163411">
<a id="pgfId-163411"></a>&quot;amsPLL_oa_flow/df2layermap&quot;)</pre>
<a id="pgfId-163412"></a>Where,<br />
<a id="pgfId-163413"></a><code>voltus_fi.results</code> is the name of the tool<br />
<a id="pgfId-163414"></a><code>vfiDfiiLayerMapFile</code> is the name of the variable<br />
<a id="pgfId-163415"></a><code>amsPLL_oa_flow</code> is the path to the layer map file<br />
<a id="pgfId-163416"></a><code>df2layermap</code> is the name of the layer map file</li><li>
<a id="pgfId-163417"></a>In the <code>.cdsenv</code> file, specify the following:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id163418">
<a id="pgfId-163418"></a>voltus_fi.results vfiDfiiLayerMapFile string &quot;amsPLL_oa_flow/df2layermap&quot;</pre></li></ul>










<h2>
<a id="pgfId-163257"></a><a id="81731"></a>Setting a Layer Index for <a id="vfiLayerIndex"></a>Displaying Violations on the Layout</h2>

<p>
<a id="pgfId-163440"></a>Voltus-Fi-L creates layers for displaying the EMIR violations when you plot them on the Virtuoso Layout. By default, the software uses more than a hundred layers for displaying violations. It creates these layers by using a layer index value or layer number that is equal to or greater than 256.</p>
<p>
<a id="pgfId-163441"></a>However, if you are already using the same layer number as that used by Voltus-Fi-L, a layer number conflict will occur and a warning will be issued. To avoid this warning, specify a different value for the layer number. You can specify the layer index value in either the <code>.cdsinit</code> or the <code>.cdsenv</code> file by using the <code>vfiLayerIndex</code> environment variable. The syntax and example of specifying the variable is provided below.</p>
<ul><li>
<a id="pgfId-163442"></a>In the <code>.cdsinit</code> file, specify the following:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id163443">
<a id="pgfId-163443"></a>envSetVal(&quot;voltus_fi.results&quot;  &quot;vfiLayerIndex&quot;  &#39;int value&#8217;)</pre>
<a id="pgfId-163444"></a>Where,<br />
<a id="pgfId-163445"></a><code>voltus_fi.results</code> is the name of the software<br />
<a id="pgfId-163446"></a><code>vfiLayerIndex</code> is the name of the variable<br />
<a id="pgfId-163447"></a><code>int</code> is integer<br />
<a id="pgfId-163448"></a><code>value</code> is the layer index value<br />
<a id="pgfId-163449"></a>For example,<pre class="webflare-pre-block webflare-courier-new" id="#id163450">
<a id="pgfId-163450"></a>envSetVal(&quot;voltus_fi.results&quot;  &quot;vfiLayerIndex&quot;  &#39;int 270&#8217;)</pre></li><li>
<a id="pgfId-163451"></a>In the <code>.cdsenv</code> file, specify the following:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id163452">
<a id="pgfId-163452"></a>voltus_fi.results <code>vfiLayerIndex</code> int value</pre>
<a id="pgfId-163453"></a>For example,<pre class="webflare-pre-block webflare-courier-new" id="#id163454">
<a id="pgfId-163454"></a>voltus_fi.results <code>vfiLayerIndex</code> int 270</pre></li></ul>













<h2>
<a id="pgfId-154350"></a><a id="26264"></a>The <a id="56689"></a>IR Drop Analysis Flow</h2>

<p>
<a id="pgfId-154351"></a>In this section, the use model for the IR drop analysis flow is detailed for batch mode and GUI mode. </p>
<ul><li>
<a id="pgfId-154362"></a><a href="irdrop.html#52428">The IR Drop Analysis Batch Mode Flow</a></li><li>
<a id="pgfId-154378"></a><a href="irdrop.html#68945">The IR Drop Analysis GUI Flow</a></li></ul>


<h2>
<a id="pgfId-153642"></a>The <a id="52428"></a>IR Drop <a id="IRDropBatchModeFlow"></a>Analysis Batch Mode Flow</h2>

<p>
<a id="pgfId-153643"></a>The IR drop analysis batch mode flow can be run using either the EMIR configuration file used in Voltus-Fi-XL or the command file used by VPS-L. The complete details of the batch mode flow are covered in the &#8220;Batch Mode Execution&#8221; chapter.</p>
<p>
<a id="pgfId-157443"></a>For details of the Voltus-Fi-L batch mode flow, see the following sections in the &#8220;<a href="batchmode.html#58483">Batch Mode Execution</a>&#8221; chapter:</p>
<ul><li>
<a id="pgfId-157450"></a><a href="batchmode.html#49385">The Command File Support</a><ul><li>
<a id="pgfId-157496"></a><a href="batchmode.html#56494">Supported VPSL Batch File Commands</a></li></ul></li><li>
<a id="pgfId-157460"></a><a href="batchmode.html#29389">The Configuration File Support</a> <ul><li>
<a id="pgfId-157509"></a><a href="batchmode.html#20925">EMIR Control File Options Supported in Voltus-Fi-L</a></li></ul></li></ul>



<p>
<a id="pgfId-160761"></a>For details about migrating from VPS-L to Voltus-Fi-L in batch mode, see <a href="batchmode.html#34374">Migrating from VPS-L to Voltus-Fi-L in Batch Mode</a> in the &#8220;Batch Mode Execution&#8221; chapter.</p>
<p>
<a id="pgfId-153647"></a>The batch mode IR drop analysis flow involves the following key tasks, which are detailed in the sections below:</p>
<ul><li>
<a id="pgfId-153651"></a><a href="irdrop.html#82399">Loading the IR Drop Analysis Results</a></li><li>
<a id="pgfId-153655"></a><a href="irdrop.html#11920">Printing the IR Drop Analysis Reports</a></li></ul>


<h4>
<a id="pgfId-153658"></a><a id="82399"></a>Loading the IR Drop Analysis Results</h4>

<p>
<a id="pgfId-153659"></a>When the VPS-L command file is used for running Voltus-Fi-L in the batch mode, you can load the IR drop analysis results by writing the following command in the <code>vfibatch</code> command file:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-153660"></a><a href="batchmode.html#43350"><h-hot>load_ir_results_extview</h-hot><code></code></a><code> -i cmd_file</code></pre>

<p>
<a id="pgfId-153661"></a>Where,</p>
<p>
<a id="pgfId-153662"></a><code>cmd_file</code> is the same batch file that is used in the VPS-L batch mode execution.</p>

<h4>
<a id="pgfId-153664"></a><a id="11920"></a>Printing the IR Drop Analysis Reports</h4>

<p>
<a id="pgfId-153665"></a>When the EMIR configuration file is used for running Voltus-Fi-L in the batch mode, the IR drop analysis report, <code>#.rpt_ir</code>,<code> </code>is generated automatically by the tool.</p>
<p>
<a id="pgfId-153666"></a>When the VPS-L batch command file is used for running Voltus-Fi-L in the batch mode, the command, <code>print_ir_report</code>, is used to generate the IR drop analysis reports. This is the same command that is used to print IR drop analysis reports in Voltus-Fi-XL.</p>
<p>
<a id="pgfId-153667"></a>The syntax of the command is as follows:</p>

<a id="pgfId-153668"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
print_ir_report
-net {all_power | netname}
-type {ir | iravg | rc | rcavg | rcrms}
[-threshold <code><em>threshold_value</em></code>]
-filename <code><em>output_file_name</em></code>]</pre>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-162030"></a>In the <code>-type </code>parameter, only the analysis types listed in the syntax above are supported in the Voltus-Fi-L flow.</div>
<p>
<a id="pgfId-153674"></a>For details of the above command and its parameters, see <a href="batchmode.html#52225">print_ir_report</a> in the &#8220;Batch Mode Execution&#8221; chapter.</p>

<h3>
<a id="pgfId-153678"></a>Sample Command Files for IR Drop Analysis</h3>

<p>
<a id="pgfId-157489"></a>Sample command files used for running the IR drop analysis in batch mode in Voltus-Fi-L are provided below.</p>
<ul><li>
<a id="pgfId-157395"></a>A sample batch command file, same as the VPS-L command file, used for IR drop analysis is provided below.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id160803">
<a id="pgfId-160803"></a>;vsa batch mode command file</pre><pre class="webflare-pre-block webflare-courier-new" id="#id160804">
<a id="pgfId-160804"></a>;common commands for EM and IR</pre><pre class="webflare-pre-block webflare-courier-new" id="#id160805">
<a id="pgfId-160805"></a>_vsa_extracted_lib_cell_view &#8220;amsPLL&#8221; &#8220;vco&#8221; &#8220;av_extracted_sol&#8221;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id157418">
<a id="pgfId-157418"></a>_vsa_testbench_lib_cell_view &#8220;amsPLL&#8221; &#8220;TB1_vco_single&#8221; &#8220;schematic&#8221;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id157419">
<a id="pgfId-157419"></a>_vsa_simulation_directory &#8220;/custom/TB1_vco_single/spectre/schematic/&#8221;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id157420">
<a id="pgfId-157420"></a>_vsa_pres_cellname &#8220;presistor&#8221;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id157421">
<a id="pgfId-157421"></a>_vsa_analysis_data &#8220;TRANSIENT&#8221; </pre><pre class="webflare-pre-block webflare-courier-new" id="#id157422">
<a id="pgfId-157422"></a></pre><pre class="webflare-pre-block webflare-courier-new" id="#id157423">
<a id="pgfId-157423"></a>;IR specific commands</pre><pre class="webflare-pre-block webflare-courier-new" id="#id157424">
<a id="pgfId-157424"></a>;_vsa_analyze_IR &#8220;0&#8221; &#8220;170n&#8221; </pre><pre class="webflare-pre-block webflare-courier-new" id="#id157425">
<a id="pgfId-157425"></a>_vsa_analyze_ir</pre><pre class="webflare-pre-block webflare-courier-new" id="#id157684">
<a id="pgfId-157684"></a>exit</pre></li><li>
<a id="pgfId-157553"></a>A sample batch command file, same as the EMIR configuration file, used for IR drop analysis is provided below.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id157554">
<a id="pgfId-157554"></a>DC Operating Point (DCOP) Analysis</pre><pre class="webflare-pre-block webflare-courier-new" id="#id157555">
<a id="pgfId-157555"></a>================================</pre><pre class="webflare-pre-block webflare-courier-new" id="#id157556">
<a id="pgfId-157556"></a>net name=[*] analysis=[vavg vmax]</pre><pre class="webflare-pre-block webflare-courier-new" id="#id157557">
<a id="pgfId-157557"></a>emirutil view=[lib=amsPLL cell=vco view=av_extracted_vco_oa]</pre><pre class="webflare-pre-block webflare-courier-new" id="#id157558">
<a id="pgfId-157558"></a>emirutil view_tb=[lib=amsPLL cell=TB1_vco_single view=schematic]</pre><pre class="webflare-pre-block webflare-courier-new" id="#id157559">
<a id="pgfId-157559"></a>emirutil analysisType=&quot;dc&quot;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id157560">
<a id="pgfId-157560"></a>emirutil analysisName=&quot;dcOp-dc&quot; </pre><pre class="webflare-pre-block webflare-courier-new" id="#id157561">
<a id="pgfId-157561"></a>emirutil presCellName=&quot;presistor&quot;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id157562">
<a id="pgfId-157562"></a>emirutil qrc_output=[runDir=vco_lvs_oa runName=vco]</pre><pre class="webflare-pre-block webflare-courier-new" id="#id157563">
<a id="pgfId-157563"></a>emirutil hierarchy=&quot;/X1&#8221;</pre></li></ul>
























<h2>
<a id="pgfId-153691"></a><a id="68945"></a>The IR Drop Analysis GUI Flow</h2>

<p>
<a id="pgfId-153692"></a>To view the IR drop analysis results in Voltus-Fi-L, ensure the following are provided:</p>
<ul><li>
<a id="pgfId-159997"></a>The <code>emir</code> mode is enabled while performing simulation</li><li>
<a id="pgfId-159998"></a>The name of the simulation result directory </li><li>
<a id="pgfId-162697"></a>The DFII layermap file</li><li>
<a id="pgfId-162677"></a>The Quantus QRC run directory</li><li>
<a id="pgfId-162678"></a>The Quantus QRC run name</li><li>
<a id="pgfId-162711"></a>The hierarchy name</li><li>
<a id="pgfId-162712"></a>The presistor cell name</li></ul>






<p>
<a id="pgfId-159987"></a>The following topics are covered in this section:</p>
<ul><li>
<a id="pgfId-156978"></a><a href="irdrop.html#81728">Viewing the IR Drop Analysis Results</a></li><li>
<a id="pgfId-157000"></a><a href="irdrop.html#85306">Displaying and Querying EMIR Results</a></li></ul>


<h3>
<a id="pgfId-153703"></a><a id="81728"></a>Viewing the <a id="IRAnalysisVoltusFi"></a>IR Drop Analysis Results</h3>

<p>
<a id="pgfId-155610"></a>Follow these steps to view the IR drop analysis results:</p>
<ul><li>
<a id="pgfId-153708"></a>In the Voltus-Fi-L console, choose <em>IR/EM Analysis</em> menu &#8211; <em>Rail Analysis Results</em>. The IR/EM Results form opens. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-155668"></a>In this form, only the IR, EM, and LRP Browser tabs are available. All other tabs are currently disabled.</div></li><li>
<a id="pgfId-153709"></a>Click the IR tab to plot the IR drop analysis results. This form is shown below.<br /><strong class="webflare-fig-line-height">Figure 6-1
<a id="pgfId-153710"></a>IR/EM Results Form &#8211; The IR Tab</strong>
<a id="pgfId-153714"></a><div class="webflare-div-image">
<img width="495" height="677" src="images/irdrop-2.gif" /></div></li></ul>







<p>
<a id="pgfId-153715"></a>In the <em>Results</em> group box:</p>
<ul><li>
<a id="pgfId-153716"></a>The EXT_VIEW is already selected to enable the extracted view support. </li><li>
<a id="pgfId-153717"></a>Specify the <em>State Directory/Results File</em>, which is the path to the simulation directory that stores the results of the simulation.</li><li>
<a id="pgfId-160909"></a>Specify the <em>Shrink factor</em>, if any, by which the extracted view was shrunk. This is used for flows where the extracted view is generated with a shrunk technology but the layout remains on the original technology. For example, if the original extracted view was shrunk by 80%, the shrink factor should be specified as 0.8. The shrink factor value is less than 1.</li><li>
<a id="pgfId-153718"></a>Specify the <em>Input Type Options </em>to specify the type of data, PSF or VAVO_DB, to be used for the IR drop analysis. When you click this button, the Input Type Options pop-up window opens. This is shown below.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-153719"></a>The input type must be specified before running the IR drop or EM analysis.</div><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-163556"></a>You can also specify the input type options using the SKILL function, <a actuate="user" class="URL" href="../voltusFIXL/appB_functions.html#vsaSetInputType" show="replace" xml:link="simple">vsaSetInputType</a>.</div><strong>Figure 6-2
<a id="pgfId-153720"></a>Input Type Options</strong>
<a id="pgfId-153724"></a><div class="webflare-div-image">
<img width="375" height="260" src="images/irdrop-3.gif" /></div>
<a id="pgfId-153725"></a>In the above form, provide the following inputs:<ul><li>
<a id="pgfId-153726"></a>Select either <em>PSF</em> or <em>VAVO_DB</em> depending upon the input data being used for the analysis. If your simulation data is in the <code>vavo.db</code> format, the <em>VAVO_DB</em> option is selected by default. You can also specify this option in the batch mode by using the <a href="batchmode.html#53026">_vsa_vavo_db_file</a> command.</li><li>
<a id="pgfId-153727"></a>For the PSF data, specify the analysis type in the <em>Analyze Results </em>cyclic field. You can specify either DC operating point (DCOP) analysis or transient (<code>tran</code>) analysis. <ul><li>
<a id="pgfId-153728"></a>The DCOP analysis is recommended for large analog designs that are difficult to simulate in Spectre using transient analysis, especially when all parasitics are included.</li><li>
<a id="pgfId-153729"></a>The transient analysis option sets the simulation time in seconds automatically when the from/to fields are selected. For transient analysis, separate start and stop times can be specified using the <em>from</em> and <em>to</em> fields. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-153730"></a>You can also specify the start and stop time in the batch mode by using the <a href="batchmode.html#30956">_vsa_analyze_ir</a> command in the command file for IR drop analysis. If you are using the <code>emir.conf</code> file, specify the <code>emirutil</code> command options, <code>analysisStartTime</code> and <code>analysisStopTime</code>. If the start and stop times are not specified, the default is the full duration of the simulation.</div><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-155757"></a>For details of the <code>emirutil</code> commands supported in Voltus-Fi-L, see the <a href="batchmode.html#20925">EMIR Control File Options Supported in Voltus-Fi-L</a> in the &#8220;Batch Mode Execution&#8221; chapter.</div></li></ul></li><li>
<a id="pgfId-153731"></a>When the analysis type is specified, the type of analysis is displayed in the <em>Analyze Type</em> field.</li><li>
<a id="pgfId-153732"></a>For the VAVO_DB data, select the <em>DB Files</em> from the list. This is the <code>vavo_db</code> file to be used for the analysis.</li><li>
<a id="pgfId-153733"></a>Click <em>OK</em>.</li><li>
<a id="pgfId-166473"></a>Sele<a id="SelectQRCRun"></a>ct <em>QRC Run. </em>Two text fields with browse buttons appear in the form. Click on the Browse buttons to open the pop-up windows, <em>Select QRC Run Directory</em> and <em>Select QRC Run Name</em> to specify the path to the QRC <em>Run Directory</em> and the QRC <em>Run Name</em>, respectively.<br /><ffi2-fig-frame-in-2 id="#id166525">
<a id="pgfId-166525"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="498" height="217" src="images/irdrop-4.gif" /></div><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-166529"></a>When you switch between the IR and EM tabs, the selected <em>QRC Run</em> remains intact. This means that the QRC run selections, run directory and run name fields, made on one tab remain populated for the other tab even after clearing the analysis results. </div></li></ul></li><li>
<a id="pgfId-155776"></a>Specify the <em>DFII Layermap</em>. This layermap file is the extracted view-to-DFII layermap file. When this file is specified, the plots displayed on the extracted view show solid shape highlighting. For details, see <a href="irdrop.html#57236">Solid Shape Highlighting</a>. For a sample file, see <a href="fileformats.html#16327">DFII Layer Map File</a> in the &#8220;File Formats&#8221; chapter<em>.</em><br />
<a id="pgfId-163118"></a>You can also specify this file by using the <code>vfiDfiiLayerMapFile </code>environment variable in either the <code>.cdsenv</code> or the <code>.cdsinit</code> file. For more information, see <a href="irdrop.html#56338">Loading the DFII Layer Map File by Default</a>.<br />
<a id="pgfId-155831"></a>The following considerations apply to the DFII layermap flow:<ul><li>
<a id="pgfId-155832"></a>When the DFII layermap file is specified, the visibility of the DFII layers on the layout is synchronized with the layers selected in the <em>Layers</em> group box or the layer selection window of the Display form.</li><li>
<a id="pgfId-155833"></a>When the correct mapping in the DFII layermap file is either not specified or if some layers are missing in this file, then the resistors or nodes of those layers will not be highlighted on the layout because there will be no shapes attached to them.</li><li>
<a id="pgfId-155834"></a>When this file is not specified, the pop-up-window shown below opens. If you click <em>Yes</em>, the plots are displayed using stick diagrams. <br /><ffi2-fig-frame-in-2 id="#id155838">
<a id="pgfId-155838"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="461" height="105" src="images/irdrop-5.gif" /></div></li></ul></li><li>
<a id="pgfId-155839"></a>For the DFII layermap flow, click <em>Finer Gradient </em>to view the finer gradient for the selected layers. When you click this button, the <em>Finer Gradient Layer Selection</em> pop-up window opens. This is shown in the figure below.<br /><strong class="webflare-fig-line-height">Figure 6-3
<a id="pgfId-155840"></a>Selecting Layers for Viewing Finer Gradient</strong><ffi2-fig-frame-in-2 id="#id155844">
<a id="pgfId-155844"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="298" height="291" src="images/irdrop-6.gif" /></div>
<a id="pgfId-155847"></a>In this window, all the layers are selected by default. Click <em>Deselect All</em> and then select specific PGDB layers for which you want to view finer gradient and click <em>OK</em>. For details, see <a href="irdrop.html#45930">Displaying Finer Color Gradient for Selected Layers in IR and EM Plots</a>.</li><li>
<a id="pgfId-156660"></a>Select <em>Advanced</em>. The Advanced Options form opens. <br /><strong class="webflare-fig-line-height">Figure 6-4
<a id="pgfId-156661"></a>Advanced Options</strong>
<a id="pgfId-156665"></a><div class="webflare-div-image">
<img width="357" height="176" src="images/irdrop-7.gif" /></div>
<a id="pgfId-163795"></a>In this form, specify the following:<ul><li>
<a id="pgfId-163796"></a><em>Hierarchy</em>&#8212;the hierarchy of the design</li><li>
<a id="pgfId-163797"></a><em>pResCellName</em>&#8212;the cell name of the parasitic resistor that is added to the extracted view. The default name is <code>presistor</code>. This is shown above.</li></ul></li><li>
<a id="pgfId-153751"></a>Click <em>Load Results</em> to load the results of the IR drop Analysis. After the results are loaded, the list in the Net Plot group box is enabled. </li><li>
<a id="pgfId-156702"></a>Once the results are loaded, the <em>Rail Analysis </em>cyclic field in the <em>Net Plot </em>group box becomes enabled. From the list, select the type of plot you want to view. The details of the plot types available are provided in <a href="irdrop.html#13240">Types of IR Drop Analysis Plots</a>.</li><li>
<a id="pgfId-165940"></a>Click <em>Power Nets</em><a id="NetSelection"></a> to list all power nets in the list box. </li><li>
<a id="pgfId-165941"></a>Click <em>Signal Net</em>s to list all signal nets in the list box. </li><li>
<a id="pgfId-165942"></a>Click <em>All Nets </em>to list all power and signal nets in the list box.</li><li>
<a id="pgfId-165943"></a>Click <em>Select All Nets</em> to select all the nets listed in the table. For example, if you select <em>Power Nets</em> and click <em>Select All Nets</em>, all power nets listed in the table are selected. The list box lists <em>Net Type</em> and the corresponding <em>Net Name</em>. <br />
<a id="pgfId-156143"></a>You can search for specific nets for which you want to plot results by typing the net name in the text field provided in the form. The list box is updated to display information about the specified net. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-156144"></a>The net name is case-sensitive. This is shown in the image below.</div><ffi2-fig-frame-in-2 id="#id156148">
<a id="pgfId-156148"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="371" height="115" src="images/irdrop-8.gif" /></div>
<a id="pgfId-156152"></a>An example of an IR plot for selected nets is shown in <a href="irdrop.html#89327">Figure&#160;</a>.</li><li>
<a id="pgfId-156730"></a>Click <em>Show Plot</em> to view the plots for the selected nets on the extracted view. When you click <em>Show Plot</em>, the IR/EM Results form expands to show the available plot display options. In this form, you can customize the IR drop analysis plot displays.<br />
<a id="pgfId-156732"></a>For details, see <a href="irdrop.html#85306">Displaying and Querying EMIR Results</a>.</li><li>
<a id="pgfId-166454"></a>Click <em>Clear Plot</em><a id="ClearPlot"></a> to clear the plot for the selected net from the Virtuoso layout. For this, select the net for which you want to clear the plot in the list box and then click <em>Clear Plot</em>. </li><li>
<a id="pgfId-156155"></a>Specify <em>IR threshold (V) </em><a id="IRThresholdValue"></a>for viewing IR drop violations above the specified threshold value. Select <em>V</em> or <em>mV</em> to specify the threshold voltage in volt and millivolt, respectively. When this value is specified, the <em>Min - Max</em> slider range is updated to reflect the specified minimum violation value and the plot is updated on the layout. For example, in the image below, the IR threshold value is specified as 0.5. So, the <em>Min</em> value of the slider range is updated to 0.5.<br /><strong class="webflare-fig-line-height">Figure 6-5
<a id="pgfId-156156"></a>Specifying the Threshold Value for Viewing IR Drop Violations </strong>
<a id="pgfId-156167"></a><div class="webflare-div-image">
<img width="671" height="537" src="images/irdrop-9.gif" /></div></li><li>
<a id="pgfId-156211"></a>Click <em>Save</em> to save the specified settings in a configuration file. </li><li>
<a id="pgfId-156510"></a>Click <em>Load</em> to automatically load settings saved in a previous run in the IR/EM Results form. <br /><strong class="webflare-fig-line-height">Figure 6-6
<a id="pgfId-156221"></a><a id="43436"></a>Viewing the IR Plot for All Power Nets </strong>
<a id="pgfId-156225"></a><div class="webflare-div-image">
<img width="670" height="559" src="images/irdrop-10.gif" /></div><strong>Figure 6-7
<a id="pgfId-156227"></a><a id="89327"></a>Viewing IR Plot for Selected Signal Net</strong>
<a id="pgfId-156414"></a><div class="webflare-div-image">
<img width="673" height="566" src="images/irdrop-11.gif" /></div></li></ul>



















































































<h3>
<a id="pgfId-156782"></a><a id="85306"></a>Displaying <a id="marker-156780"></a>and Querying <a id="DisplayingQueryingEMIRResults"></a>EMIR Results</h3>

<p>
<a id="pgfId-156783"></a>Voltus-Fi-L lets you specify the plot display settings for the IR drop and EM plots that are displayed on the Virtuoso layout. </p>
<p>
<a id="pgfId-156784"></a>The plot display options include a <em>Min - Max</em> slider that lets you customize the range of violations you want to view. A continuous RGB gradient is used to highlight the worst violation regions in the design. The vast range of color options provided by the RGB gradient makes it easier to view a range of violations on the layout. </p>
<p>
<a id="pgfId-156792"></a>In addition to specifying settings for the plots displayed on the layout, there are options to query the layout for viewing specific violations. The results of the query are highlighted in the EM/IR tab of the Annotation Browser. </p>
<p>
<a id="pgfId-166312"></a>You can also compare reports that are generated for different analysis types either in the GUI or the batch mode. You can compare any two reports; one GUI and one batch report, two GUI reports, or even two batch reports. For this, <em>Compare Report</em> button is provided in the Display form.</p>
<p>
<a id="pgfId-156845"></a>For detailed descriptions of the display options and query feature in the GUI mode, see <h-hot><a actuate="user" class="URL" href="../voltusFIXL/irdrop.html#DisplayingQueryingEMIRResults" show="replace" xml:link="simple">Displaying and Querying EMIR Results</a></h-hot> in the &#8220;IR Drop Analysis Plots&#8221; chapter of the <em>Voltus-Fi Custom Power Integrity Solution XL User Guide.</em></p>
<p>
<a id="pgfId-156793"></a>The section, Displaying and Querying EMIR Results includes the following topics and subtopics:</p>
<ul><li>
<a id="pgfId-156797"></a><a actuate="user" class="URL" href="../voltusFIXL/irdrop.html#ViewingEMIRAnnotationBrowser" show="replace" xml:link="simple">Viewing EMIR Violations in the Annotation Browser</a><ul><li>
<a id="pgfId-166332"></a>Information Displayed in the EM/IR Tab of the Annotation Browser</li><li>
<a id="pgfId-166333"></a>Information Displayed in the Description Section of the Annotation Browser</li></ul></li><li>
<a id="pgfId-156801"></a><a actuate="user" class="URL" href="../voltusFIXL/irdrop.html#QueryingEMIRResults" show="replace" xml:link="simple">Querying EMIR Results</a><ul><li>
<a id="pgfId-166352"></a>Viewing worst violations</li><li>
<a id="pgfId-166353"></a>Viewing all violations in selected area</li><li>
<a id="pgfId-166354"></a>Querying Specific Points and Areas on the Layout for Resistor Information</li></ul></li><li>
<a id="pgfId-156805"></a><a actuate="user" class="URL" href="../voltusFIXL/irdrop.html#DisplayOptions" show="replace" xml:link="simple">Specifying the Display Options for IR/EM Plots</a><ul><li>
<a id="pgfId-166286"></a>The following topics are covered in this section:</li><li>
<a id="pgfId-166287"></a>Selecting Layers for Viewing Violations</li><li>
<a id="pgfId-166288"></a>Customizing the Range for Viewing Violations</li><li>
<a id="pgfId-166289"></a>Customizing the Display Options for Plots</li><li>
<a id="pgfId-166290"></a>Viewing and Managing Violations on the Layout</li><li>
<a id="pgfId-166291"></a>Viewing Worst Violations</li><li>
<a id="pgfId-166292"></a>Viewing all Violations in Selected Area</li><li>
<a id="pgfId-166293"></a>Querying Specific Points and Areas on the Layout for Resistor Information</li><li>
<a id="pgfId-166294"></a>Saving the IR Drop Analysis Result Plots and Reports</li><li>
<a id="pgfId-166295"></a>Comparing Reports</li></ul></li></ul>

















<p>
<a id="pgfId-162833"></a>For the batch command flow of the Query feature, see <a href="batchmode.html#65787">Batch Command for RON Reports</a> in the &#8220;Batch Mode Execution&#8221; chapter.</p>

<h2>
<a id="pgfId-114893"></a><a id="13240"></a><a id="72711"></a>Types <a id="marker-114892"></a>of IR D<a id="TypesIRDropPlots"></a>rop Analysis Plots</h2>

<p>
<a id="pgfId-114894"></a>Following types of IR drop analysis results plots are available in the list in the <em>Rail Analysis </em>field in the IR/EM Results form. </p>
<ul><li style="list-style-type: none;background-image: none;"><ul><li>
<a id="pgfId-154771"></a><a actuate="user" class="URL" href="../voltusFIXL/irdrop.html#ir" show="replace" xml:link="simple">IR &#8211; IR Drop</a>: analyzes and reports the voltage drop</li><li>
<a id="pgfId-161130"></a><a actuate="user" class="URL" href="../voltusFIXL/irdrop.html#ir" show="replace" xml:link="simple">IRAVG &#8211; IR Avg Drop</a>: analyzes and reports the average voltage drop</li><li>
<a id="pgfId-161108"></a><a actuate="user" class="URL" href="../voltusFIXL/irdrop.html#rc" show="replace" xml:link="simple">RC &#8211; Resistor Current</a>: analyzes and reports peak resistor currents</li><li>
<a id="pgfId-161094"></a><a actuate="user" class="URL" href="../voltusFIXL/irdrop.html#rc" show="replace" xml:link="simple">RCAVG &#8211; Average Resistor Current</a>: analyzes and reports average resistor currents</li><li>
<a id="pgfId-154775"></a><a actuate="user" class="URL" href="../voltusFIXL/irdrop.html#rc" show="replace" xml:link="simple">RCRMS - RMS Resistor Current</a>: analyzes and reports RMS resistor currents</li></ul></li></ul>




<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-154777"></a>For details of the above plots, see <a actuate="user" class="URL" href="../voltusFIXL/irdrop.html#TypesIRDropPlots" show="replace" xml:link="simple">Types of IR Drop Analysis Plots</a> in the &#8220;IR Drop Analysis&#8221; chapter of the <em>Voltus-Fi Custom Power Integrity Solution XL User Guide</em>.</div>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-156092"></a>The following IR drop analysis plots, currently supported in Voltus-Fi-XL, are not supported in Voltus-Fi-L:</div>
<ul><li style="list-style-type: none;background-image: none;"><ul><li>
<a id="pgfId-156093"></a>IV &#8211; Transistor Voltage Plot</li><li>
<a id="pgfId-156094"></a>PI &#8211; Powergate Current Plot</li><li>
<a id="pgfId-156095"></a>PV &#8211; Powergate Voltage Plot</li><li>
<a id="pgfId-156096"></a>REffective &#8211; Effective Resistance Plot</li><li>
<a id="pgfId-156097"></a>TC &#8211; Tap Current Plots</li></ul></li></ul>





<h2>
<a id="pgfId-158285"></a><a id="12422"></a>Plotting the L<a id="marker-158283"></a>east-Resistive<a id="lrp"></a> Path </h2>

<p>
<a id="pgfId-158286"></a>The least-resistive path (LRP) plot lets you identify the weakly-connected instances in the design during early stages of power planning. The resistance for an instance pin is calculated as the total resistance along the least resistance path. If an instance has multiple power pins connected to the power grid, the LRP plot uses the pin with the worst (highest) resistance value to plot the instance-based data. This plot highlights the current path for the selected instance to the voltage source. A long LRP usually results in high resistance and potentially high voltage drop.</p>
<p>
<a id="pgfId-158287"></a>In addition to identifying and displaying the worst IR drop violations, the LRP feature in Voltus-Fi-L lets you plot LRP on demand for any node. You can view the LRP for any high IR drop node by selecting it on the layout. There are two options provided in the GUI, <em>Get Layout Node </em>and <em>Get Marker Node</em>, to let you select a node on the GUI and view its LRP, and to select an object in the Annotation Browser and view the LRP for the node on the selected marker. For details, see <a href="irdrop.html#43762">The LRP Browser</a> and <a href="irdrop.html#58315">Displaying LRP for the Node on the Selected Marker</a>, respectively.</p>
<p>
<a id="pgfId-158294"></a>The use model for LRP analysis is detailed below.</p>
<p>
<a id="pgfId-158295"></a>To view the LRP plot for a net, perform the following steps after loading the IR drop analysis results:</p>
<ul><li>
<a id="pgfId-158296"></a>Click <em>Select Nets</em> to select the net for which you want to view the LRP plot.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-158297"></a>The LRP plot feature works for one net at a time. It can only be used in the &#8220;<em>Select Nets</em>&#8221; mode and not in the &#8220;<em>All Nets</em>&#8221; mode.</div></li><li>
<a id="pgfId-158298"></a>Click <em>Show Plot</em>. The LRP Browser tab in the IR/EM Results form gets enabled. This is shown below.<br /><strong class="webflare-fig-line-height">Figure 6-8
<a id="pgfId-158299"></a>IR/EM Results Form &#8211; Plotting the Least-Resistive Path</strong>
<a id="pgfId-158303"></a><div class="webflare-div-image">
<img width="665" height="564" src="images/irdrop-12.gif" /></div></li></ul>






<h3>
<a id="pgfId-158306"></a><a id="43762"></a>The LRP<a id="LRPBrowser"></a> Browser</h3>

<p>
<a id="pgfId-158307"></a>The LRP Browser tab lets you specify the nets, layers, and nodes for which you want to view the LRP plots. The various options provided for this tab are detailed below.</p>
<p>
<a id="pgfId-158308"></a>Voltus-Fi-L provides support in the form of tips about the information to be filled out in the various fields in the LRP Browser form. This tooltip appears when you hover the pointer over a field in the form. This is shown below.</p>

<p><strong>Figure 6-9
<a id="pgfId-158309"></a>Tooltips for LRP Browser Tab</strong></p>
<p>
<a id="pgfId-158313"></a></p>
<div class="webflare-div-image">
<img width="493" height="407" src="images/irdrop-13.gif" /></div>

<p>
<a id="pgfId-158314"></a>To start, click the LRP Browser tab of the IR/EM Results form. The form shown below opens.</p>

<p><strong>Figure 6-10
<a id="pgfId-158317"></a><a id="34669"></a>LRP<a id="RailAnalysisResultsLRPbrowser"></a> Browser Tab of the IR/EM Results Form</strong></p>
<p>
<a id="pgfId-158321"></a></p>
<div class="webflare-div-image">
<img width="500" height="691" src="images/irdrop-14.gif" /></div>

<p class="webflare-indent1">
<a id="pgfId-158322"></a>There are two group boxes in this tab, the <em>LRP Paths</em> and <em>Resistance Path</em>.</p>
<ul><li>
<a id="pgfId-158323"></a>In the <em>LRP Paths</em> group box, specify the net for which you want to perform the LRP analysis in the <em>Select Nets</em> field. The net selected in the IR tab is selected by default.</li><li>
<a id="pgfId-158324"></a>Click <em>Compute LRP</em> to compute the LRP values for all the nodes of the selected net. The information is populated in the <em>Node ID - Node Name</em> and the <em>LRP Value</em> columns of the table in the <em>LRP Paths</em> group box. </li><li>
<a id="pgfId-158325"></a>Click <em>Shorted Layers</em> to short specific layers for the LRP analysis. For details, see <a href="irdrop.html#12657">Shorting Layers for LRP Analysis</a>.</li><li>
<a id="pgfId-158329"></a>Click <em>Get layout Node</em> to select a node on the layout. Click this button and then click anywhere in the Virtuoso layout window. The node-name text box will print information about the <em>X</em>- and <em>Y</em>- co-ordinates, and the <em>Layer</em> name for the node present nearest to the location of the click. The LRP path of the selected node will be shown in the table below. </li><li>
<a id="pgfId-158330"></a>Click <em>Get Marker Node </em>to view the LRP values for a node, if present, on a selected marker. For this, enable the Annotation Browser, select a marker and click this button. If the marker is associated with a node name, the LRP for the node will be shown in the table below. For details, see <a href="irdrop.html#58315">Displaying LRP for the Node on the Selected Marker</a>.</li><li>
<a id="pgfId-158334"></a>Type the name of the node in the <em>Node Id or Name</em> to retrieve the LRP value for the specific node. Node names can also be regular expressions. The LRP table shows all nodes matching the regular expression. This saves time otherwise taken to scroll through the list of nodes to find information for a specific node.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-158335"></a>You can type the name of any node in this field, including a node that is not included in the list of violations. In this case, the table in the <em>Resistance Path</em> group box shows the information for the node of the selected net and the plot displays the LRP path.</div></li><li>
<a id="pgfId-158336"></a>Specify the <em>Number of Paths</em> or the number of violations that you want to view. By default, top 100 violations are listed.</li><li>
<a id="pgfId-158337"></a>The table shows the LRP for the selected net to all instances or nodes defined for the net in the <em>Node ID - Node Name</em> column and their corresponding LRP values in the <em>LRP Value</em> column. For each instance, the table shows the cumulative resistance on the path.</li><li>
<a id="pgfId-158338"></a>Select an instance in the list to view its LRP on the layout. When an instance is clicked, the LRP path is highlighted in red in the Virtuoso layout. This is shown in the image below.</li><li>
<a id="pgfId-158339"></a>In the <em>Resistance Path</em> group box of the LRP Browser tab, you can view the list of resistors for a path. For details of the columns in the table, see <a href="irdrop.html#38149">Resistance Path Group Box Table Information</a>. Select <em>Auto Zoom</em> to automatically zoom to the resistor being selected in the path on the layout. The LRP path is highlighted with a white border and the resistor from the path is highlighted in red. This is shown below.<br /><strong class="webflare-fig-line-height">Figure 6-11
<a id="pgfId-158343"></a>Least-Resistive Path for a Resistor Highlighted on the Virtuoso Layout</strong>
<a id="pgfId-158347"></a><div class="webflare-div-image">
<img width="667" height="625" src="images/irdrop-15.gif" /></div><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-158348"></a>If the tables in the LRP browser tab do not show any entries, ensure the following:</div><ul><li>
<a id="pgfId-158349"></a>The selected net should have at least one pin location or voltage-source location</li></ul></li><li>
<a id="pgfId-158351"></a>Click <em>Print Report</em> to print the LRP values of the specific resistors in a text file. The Select report file pop-up window opens. Specify the name of the report file and click <em>Save</em>. The report opens in the console. This is shown below.<br /><strong class="webflare-fig-line-height">Figure 6-12
<a id="pgfId-159285"></a>Sample RLRP Report </strong>
<a id="pgfId-159297"></a><div class="webflare-div-image">
<img width="670" height="344" src="images/irdrop-16.gif" /></div>
<a id="pgfId-162476"></a>You can also generate RLRP reports in the batch mode by using the <a href="batchmode.html#50121">print_rlrp_report</a> command. <br />
<a id="pgfId-162478"></a>A sample report is shown in <a actuate="user" class="URL" href="../voltusFIXL/irdrop.html#RLRPReport" show="replace" xml:link="simple">RLRP Report</a> in the &#8220;IR Drop Analysis&#8221; chapter of the <em>Voltus-Fi Custom Power Integrity Solution XL User Guide.</em></li><li>
<a id="pgfId-158355"></a>Click <em>Clear Highlight</em> to clear the LRP highlighted on the layout.</li><li>
<a id="pgfId-158357"></a>Check <em>segmentwise</em><a id="SegmentWiseReportingLRP"></a> to view the combined resistance values for a layer in the Resistance Path table. When this option is enabled, all the resistors on a layer, metal or via, will be merged into one segment for the purpose of LRP reporting. In the image below, the resistors, <code>rg12</code>, <code>rg13</code>, and <code>rg14</code> on layer <code>mt3</code> are shown in the Resistor Path table. This is the display when the <em>segmentwise</em> option is not selected.<br /><strong class="webflare-fig-line-height">Figure 6-13
<a id="pgfId-158358"></a>Display of Resistor Paths</strong>
<a id="pgfId-158362"></a><div class="webflare-div-image">
<img width="668" height="112" src="images/irdrop-17.gif" /></div>
<a id="pgfId-161345"></a>In the image below, the resistors for the layer, <code>mt3</code> are combined to display the resistor path for the segment. This is highlighted in red in the image below.<br /><strong class="webflare-fig-line-height">Figure 6-14
<a id="pgfId-158363"></a>Segment-wise Display of Resistor Paths</strong>
<a id="pgfId-158368"></a><div class="webflare-div-image">
<img width="668" height="102" src="images/irdrop-18.gif" /></div>
<a id="pgfId-163013"></a>In the above image, the resistors for the layer, <code>mt3</code> are combined to display the resistor path for the segment. This is highlighted in red in the above image.</li></ul>









































<h4>
<a id="pgfId-163016"></a><a id="38149"></a>Resistance Pa<a id="ResistancePathTable"></a>th Group Box Table Information</h4>

<p>
<a id="pgfId-158373"></a>The Resistance Path table lists all the resistors in the LRP path for the node selected in the <em>Node ID - Node Name</em> table. You can click any row to highlight the resistor in the layout window. </p>
<p>
<a id="pgfId-158374"></a>A section of the <em>Resistance Path</em> table is shown in the image below. The details of the column information is provided subsequently.</p>

<p><strong>Figure 6-15
<a id="pgfId-158375"></a>Information in the Resistance Path Table</strong></p>
<p>
<a id="pgfId-158379"></a></p>
<div class="webflare-div-image">
<img width="668" height="137" src="images/irdrop-19.gif" /></div>

<p>
<a id="pgfId-158380"></a>The following information is provided in the table:</p>
<ul><li>
<a id="pgfId-158381"></a><em>Res-Name</em>: Name of the resistor on the layer</li><li>
<a id="pgfId-158382"></a><em>R Val (Ohm)</em>: The resistance value of the resistor</li><li>
<a id="pgfId-158383"></a><em>V-Drop (V)</em>: The voltage drop across the resistor</li><li>
<a id="pgfId-158384"></a><em>Layer</em>: Name of the layer on which the resistor is located</li><li>
<a id="pgfId-158385"></a><em>Length (u)</em>: The length of the resistor in micron</li><li>
<a id="pgfId-158386"></a><em>Width (u)</em>: The width of the resistor in micron</li><li>
<a id="pgfId-158387"></a><em>Acc.LRP (ohm)</em>: The accumulative resistance along the LRP</li><li>
<a id="pgfId-158388"></a><em>Acc.V-Drop (ohm)</em>: The accumulative voltage drop along the LRP</li><li>
<a id="pgfId-158389"></a><em>Current (A)</em>: The current across the resistor</li><li>
<a id="pgfId-158390"></a><em>Acc.Current (A)</em>: The accumulative current along the LRP</li><li>
<a id="pgfId-158391"></a><em>Time</em>: The simulation time captured from the simulation result file</li><li>
<a id="pgfId-158392"></a><em>current-density (A/u)</em>: The Current Density across the resistor</li><li>
<a id="pgfId-158393"></a><em>Location (u)</em>: The location of the resistor</li></ul>













<h3>
<a id="pgfId-158397"></a><a id="12657"></a>Shorting<a id="ShortingLayers"></a> Layers<a id="ShortingLayersLRP"></a> for LRP Analysis</h3>

<p>
<a id="pgfId-158398"></a>While computing LRP for a node or instance, you can short specific layers. When you do this, all the resistance on the specified layer is shorted. That means, the LRP display shows a value of 0 for all resistors on the shorted layer. This is shown in the images below.</p>
<p>
<a id="pgfId-158399"></a>When you click <em>Shorted layers</em>, the <em>Filters</em> pop-up window opens. In this window, select the layer you want to short. You can short multiple layers.</p>
<p>
<a id="pgfId-158400"></a>For example, in the image below, layer <code>Metal1</code> or <code>mt1</code> is shorted.</p>

<p><strong>Figure 6-16
<a id="pgfId-158401"></a>Specifying the layers to be shorted for the LRP Analysis</strong></p>
<p>
<a id="pgfId-158405"></a></p>
<div class="webflare-div-image">
<img width="500" height="636" src="images/irdrop-20.gif" /></div>

<p>
<a id="pgfId-158406"></a>When a layer is shorted, the resistance value information in the Resistance Path group box shows a value of <code>0</code> in the <em>R val (Ohm)</em> column for all the resistors on that layer. For example, in the image below, the LRP value for resistor <code>rf147</code> on layer <code>mt1</code> is 0.</p>

<p><strong>Figure 6-17
<a id="pgfId-158407"></a>LRP Value for Resistors on the Shorted Layer</strong></p>
<p>
<a id="pgfId-158412"></a></p>
<div class="webflare-div-image">
<img width="495" height="638" src="images/irdrop-21.gif" /></div>
<h3>
<a id="pgfId-158415"></a><a id="58315"></a>Displaying<a id="DisplayingLRPTapMarker"></a> LRP for the Node on the Selected Marker</h3>

<p>
<a id="pgfId-158416"></a>You can display the LRP for a node on the selected marker in the Annotation Browser. When you select a violation marker in the Browser, it is highlighted on the layout. If the marker is associated with a node name, you can view the LRP for the node. </p>
<p>
<a id="pgfId-158417"></a>The steps are detailed below.</p>
<ul><li>
<a id="pgfId-158418"></a>In the IR tab, select the plot type and click <em>Show Plot</em>.</li><li>
<a id="pgfId-158419"></a>In the Display form, select <em>Violation Browser</em>. The Annotation Browser window opens in the layout. Select a violation and the violation marker is displayed on the layout.</li><li>
<a id="pgfId-158420"></a>In the LRP Browser tab, click <em>Get Marker Node</em>. The information for the node &#8211; the x- and y- co-ordinates and the layer name &#8211; on the marker is populated in the LRP browser tab.</li><li>
<a id="pgfId-158421"></a>Click the node name in the LRP table and then click <em>Compute LRP</em> to compute the LRP value for the node and to view the least-resistive path for the node on the layout.<br />
<a id="pgfId-158422"></a>An example is shown below.<br /><strong class="webflare-fig-line-height">Figure 6-18
<a id="pgfId-158423"></a>Displaying LRP for the Node on the Selected Marker</strong>
<a id="pgfId-160395"></a><div class="webflare-div-image">
<img width="667" height="583" src="images/irdrop-22.gif" /></div></li></ul>








<h2>
<a id="pgfId-158270"></a><a id="16686"></a>Generating EMIR Analysis Reports in Voltus-Fi-L</h2>

<p>
<a id="pgfId-161513"></a>The following topics are covered in this section:</p>
<ul><li>
<a id="pgfId-161686"></a><a href="irdrop.html#90743">Reports Generated Using the EMIR Control File</a></li><li>
<a id="pgfId-161700"></a><a href="irdrop.html#25075">Default Reports Generated by Voltus-Fi-L for EMIR Analysis</a></li><li>
<a id="pgfId-162303"></a><a href="irdrop.html#15498">RLRP Report</a></li></ul>



<h3>
<a id="pgfId-161520"></a><a id="90743"></a>Reports Generated Using the EMIR Control File</h3>

<p>
<a id="pgfId-161527"></a>You can generate both textual and html reports for EMIR results in Voltus-Fi-L from the simulation results by specifying the EMIR control file (<code>emir.conf</code>), the EMIR database file, and the output directory. In the EMIR control file, the <code>emirutil</code> command&#8217;s <code>report</code> option is set to <code>text</code> or <code>html</code> depending upon the required output.</p>
<p>
<a id="pgfId-161549"></a>For details, see <h-hot><a actuate="user" class="URL" href="../voltusFIXL/irdrop.html#ReportsGeneratedEMIRControlFile" show="replace" xml:link="simple">Reports Generated using the EMIR Control File </a></h-hot>in the &#8220;IR Drop Analysis&#8221; chapter of the <em>Voltus-Fi Custom Power Integrity Solution XL User Guide.</em></p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-161726"></a>
For details of the supported EMIR control file options that can be specified, see <a href="batchmode.html#20925">EMIR Control File Options Supported in Voltus-Fi-L</a> in the &#8220;Batch Mode Execution&#8221; chapter. </div>

<p class="webflare-indent1">
<a id="pgfId-162247"></a>You can also see the <a actuate="user" class="URL" href="../voltusFIXL/dataprep.html#emirControlFileOptions" show="replace" xml:link="simple">EMIR Control FIle Options Supported in Voltus-Fi-XL</a> in the &#8220;Data Preparation&#8221; chapter of the <em>Voltus-Fi Custom Power Integrity Solution XL User Guide.</em> </p>
<p class="webflare-indent1">
<a id="pgfId-161775"></a>For details on how to specify variables using the <code>emirutil</code> command in the EMIR control file, see <a href="variables.html#80527">Using the emirutil Command in the EMIR Control File</a> in the &#8220;Variables&#8221; chapter<em>.</em></p>

<h3>
<a id="pgfId-161574"></a><a id="25075"></a>Default Reports Generated by Voltus-Fi-L for EMIR Analysis</h3>

<p>
<a id="pgfId-161592"></a>By default, Voltus-Fi-L generates the following reports for EMIR analysis:</p>
<ul><li>
<a id="pgfId-161593"></a>IR drop analysis reports with the extension, <code>#.rpt_ir</code> </li><li>
<a id="pgfId-161594"></a>EM analysis reports with the extension, <code>#.rpt_em</code> </li><li>
<a id="pgfId-161606"></a>Summary report (<code>summary.rpt</code>), which includes reports for the IR drop and EM analyses performed in the current run<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-161584"></a>All default reports print the software version number in the header. </div></li></ul>



<p>
<a id="pgfId-162409"></a>For details of the report formats and sample reports, see <h-hot><a actuate="user" class="URL" href="../voltusFIXL/irdrop.html#DefaultReportsGenerated" show="replace" xml:link="simple">Default Reports Generated for EMIR Analysis</a></h-hot> in the &#8220;IR Drop Analysis&#8221; chapter of the <em>Voltus-Fi Custom Power Integrity Solution XL User Guide.</em></p>

<h3>
<a id="pgfId-162341"></a><a id="15498"></a>RLRP Report</h3>

<p>
<a id="pgfId-162342"></a>RLRP analysis report (<code>RLRP.rpt</code>) includes the LRP values of the instances or tap-nodes of the specified net. </p>
<p>
<a id="pgfId-162366"></a>For details of the report format and sample report, see <h-hot><a actuate="user" class="URL" href="../voltusFIXL/irdrop.html#RLRPReport" show="replace" xml:link="simple">RLRP Report</a></h-hot> in the &#8220;IR Drop Analysis&#8221; chapter of the <em>Voltus-Fi Custom Power Integrity Solution XL User Guide.</em></p>

<h2>
<a id="pgfId-164880"></a><a id="49052"></a>Reportin<a id="ReportingRONValues"></a>g On-Resistance Values </h2>
<h3>
<a id="pgfId-164882"></a><a id="60468"></a>Overview</h3>

<p>
<a id="pgfId-164883"></a>Voltus-Fi-L reports the on-resistance (RON) values for all layers and devices between specified pairs of pins in a design. The software reports the combined resistance contribution of both pins in the pair and the contribution from each pin. The resistance values are reported in ohms.</p>
<p>
<a id="pgfId-164884"></a>For this feature, <code>report_vfi_L_ron</code> command has been provided. For details, see <a href="batchmode.html#50280">report_vfi_L_ron</a>.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-164888"></a>The flow is currently enabled only after setting the variable shown below:</div>
<p>
<a id="pgfId-164889"></a><code>setenv ENABLE_VFI_L_RON_DATA_READING_FROM_PSF t</code></p>

<h3>
<a id="pgfId-164891"></a><a id="42748"></a>Generating the RON Report</h3>

<p>
<a id="pgfId-164892"></a>This flow is supported only in the batch mode. To enable this flow, perform the following steps:</p>
<ul><li>
<a id="pgfId-164893"></a>Create a command file including the information below. This command file is then used to load results in Voltus-Fi and report RON.<ul><li>
<a id="pgfId-164894"></a><code>set_variable extViewExtraCmdFile &#8220;</code><span class="webflare-courier-new" style="white-space:pre"><em>file_name</em></span><code>&#8221;</code></li><li>
<a id="pgfId-164895"></a><code>load_em_results_extview -i cmd_file</code></li><li>
<a id="pgfId-164896"></a><code>report_vfi_L_ron
-pin_pair_file </code><span class="webflare-courier-new" style="white-space:pre"><em>file_name
</em></span><code>[-device_ron true | false]
-param_list_file </code><span class="webflare-courier-new" style="white-space:pre"><em>file_name
</em></span><code>-output_file </code><span class="webflare-courier-new" style="white-space:pre"><em>file_name</em></span></li></ul></li><li>
<a id="pgfId-164901"></a>Specify the above command file in Voltus-Fi as follows:
<code>vfibatch &#8211;cmd </code><span class="webflare-courier-new" style="white-space:pre"><em>cmd_file</em></span></li></ul>




<p>
<a id="pgfId-164902"></a>Example</p>
<p>
<a id="pgfId-164903"></a>The below set of commands are included in the main command file, <code>main.cmd</code>.</p>
<ul><li>
<a id="pgfId-164904"></a><code>set_variable extViewExtraCmdFile &#8220;extViewExtraCmdFile&#8221;</code><br />
<a id="pgfId-164905"></a>Specifies the command file, <code>extViewExtraCmdFile,</code> for running EM analysis in batch mode in Voltus-Fi-L. For more information on the contents of this file, see <a href="irdrop.html#81221">Contents of the extViewExtraCmdFile</a>.</li><li>
<a id="pgfId-164906"></a><code>load_em_results_extview -i vsaEM_allpin_vavodb_voltus_fi.cmd</code><br />
<a id="pgfId-164907"></a>Loads the EM results stored in the <code>vsaEM_allpin_vavodb_voltus_fi.cmd</code> file. </li><li>
<a id="pgfId-164908"></a><code>report_vfi_L_ron -pin_pair_file pin_pair.txt -output_file output.rpt</code><br />
<a id="pgfId-164909"></a>Creates a RON report in the <code>output.rpt </code>file for the pin-pairs specified in the <code>pin_pair.txt</code> file.</li><li>
<a id="pgfId-164910"></a><code>vfibatch -cmd main.cmd</code><br />
<a id="pgfId-164911"></a>The <code>main.cmd</code> file is then used in Voltus-Fi, as shown above.</li></ul>








<h4>
<a id="pgfId-164913"></a><a id="81221"></a>Contents of the extViewExtraCmdFile </h4>

<p>
<a id="pgfId-164914"></a>The extracted-view data is loaded through the cmd_file, <code>extViewExtraCmdFile</code>. A sample command file for EM analysis is shown below.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-164915"></a>;vsa batch mode command file</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-164916"></a>;common commands </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-164917"></a>_vsa_extracted_lib_cell_view &#8220;amsPLL&#8221; &#8220;vco&#8221; &#8220;av_extracted_sol&#8221;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-164918"></a>_vsa_testbench_lib_cell_view &#8220;amsPLL&#8221; &#8220;TB1_vco_single&#8221; &#8220;schematic&#8221;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-164919"></a>_vsa_simulation_directory &#8220;/custom/TB1_vco_single/spectre/schematic/&#8221;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-164920"></a>_vsa_pres_cellname &#8220;presistor&#8221;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-164921"></a>_vsa_analysis_data &#8220;TRANSIENT&#8221;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-164922"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-164923"></a>;commands for EM analysis</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-164924"></a>_vsa_qrc_run_directory &#8220;/custom/WORK/AV/LVS_emir&#8221;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-164925"></a>_vsa_em_data_file &#8220;emDataFile.txt&#8221;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-164926"></a>;_vsa_analyze_em &quot;0&quot; &quot;1n&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-164927"></a>_vsa_analyze_em</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-164928"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-164929"></a>exit</pre>
<h3>
<a id="pgfId-164931"></a><a id="57740"></a>Output</h3>

<p>
<a id="pgfId-164932"></a>The RON report includes the following information:</p>
<ul><li>
<a id="pgfId-164933"></a>Voltage source names and their corresponding terminal/pin names, voltage values, and current values</li><li>
<a id="pgfId-164934"></a>Total RON values for devices and wires for the specified pin pairs</li><li>
<a id="pgfId-164935"></a>Parameters for the devices being used for calculating the device RON</li><li>
<a id="pgfId-164936"></a>Layer-based wire RON for both pins in the pin-pair combinations</li><li>
<a id="pgfId-164937"></a>Layer-based wire RON for each pin in the pin-pair combinations</li></ul>





<h4>
<a id="pgfId-164938"></a>Sample Pin-Pair File</h4>

<p>
<a id="pgfId-165322"></a>D S</p>
<p>
<a id="pgfId-164939"></a>Where <code>D</code> and <code>S</code> are names of pins separated by a space.</p>

<h4>
<a id="pgfId-164940"></a>Sample RON Report</h4>

<p>
<a id="pgfId-164941"></a>A sample RON report is shown below.</p>

<p><strong>Figure 6-19
<a id="pgfId-164942"></a>Sample RON Report</strong></p>
<p>
<a id="pgfId-164946"></a></p>
<div class="webflare-div-image">
<img width="490" height="659" src="images/irdrop-24.gif" /></div>
<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="env_variables.html" id="prev" title="Environment Variables">Environment Variables</a></em></b><b><em><a href="emanalysis.html" id="nex" title="EM Analysis Results">EM Analysis Results</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2020, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>