
<html><head><title>Power-Grid View Creation</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="pallabi" />
<meta name="CreateDate" content="2020-09-11" />
<meta name="CreateTime" content="1599811561" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="This manual describes the use flow information in Voltus-Fi Custom Power Integrity Solution L." />
<meta name="DocTitle" content="Voltus-Fi Custom Power Integrity Solution L User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Power-Grid View Creation" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.2" />
<meta name="Keyword" content="voltusFIL" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2020-09-11" />
<meta name="ModifiedTime" content="1599811561" />
<meta name="NextFile" content="vsaPlot.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Digital IC Design,Digital IC Design" />
<meta name="PrevFile" content="app_functions.html" />
<meta name="c_product" content="Virtuoso Power System,Voltus-Fi" />
<meta name="Product" content="Virtuoso Power System,Voltus-Fi" />
<meta name="ProductFamily" content="Virtuoso Power System,Voltus-Fi" />
<meta name="ProductVersion" content="ICADVM20.1" />
<meta name="RightsManagement" content="Copyright 2012-2020 Cadence Design Systems Inc." />
<meta name="Title" content="Voltus-Fi Custom Power Integrity Solution L User Guide -- Power-Grid View Creation" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="ICADVM20.1" />
<meta name="SpaceKey" content="voltusFILICADVM201" />
<meta name="webflare-version" content="2.0" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="voltusFILTOC.html">Contents</a></li><li><a class="prev" href="app_functions.html" title="SKILL Functions">SKILL Functions</a></li><li style="float: right;"><a class="viewPrint" href="voltusFIL.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="vsaPlot.html" title="Viewing Results in vsaplot or vfiplot">Viewing Results in vsaplot or  ...</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Voltus-Fi Custom Power Integrity Solution L User Guide<br />Product Version ICADVM20.1, October 2020</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>10
<a id="pgfId-15123250"></a></h1>
<h1>
<a id="pgfId-15123252"></a><hr />
<a id="33947"></a>Power-Grid View Creation<hr />
</h1>

<ul><li>
<a id="pgfId-15123147"></a><a href="pgvcreation.html#95352">The Power-Grid View Flow</a></li><li>
<a id="pgfId-15215970"></a><a href="pgvcreation.html#55697">Data Requirements and Flow for PGV Creation</a></li><li>
<a id="pgfId-15215981"></a><a href="pgvcreation.html#14365">Creating Power-Grid Views</a></li><li>
<a id="pgfId-15306182"></a><a href="pgvcreation.html#19674">Writing Out a PGV Command File</a></li><li>
<a id="pgfId-15307107"></a><a href="pgvcreation.html#81690">Outputs of PGV Generation</a></li></ul>





<h2>
<a id="pgfId-15306854"></a><a id="95352"></a>The Power-Grid View Flow</h2>

<p>
<a id="pgfId-15306855"></a>Voltus-Fi-L provides the ability to create power-grid views (PGVs) of an analog design block that can be used in Voltus for mixed-signal analysis. PGVs contain the following: </p>
<ul><li>
<a id="pgfId-15306856"></a>A model view of the design</li><li>
<a id="pgfId-15306857"></a>Information about the power ports of the cell or block</li><li>
<a id="pgfId-15306858"></a>Information about the internal power grid, intrinsic capacitance, and the tap current distribution within the cell or block</li></ul>


<p>
<a id="pgfId-15306859"></a>PGVs provide an accurate characterization of capacitance and currents, and power-grid extraction. Voltus uses these views to model the power rail and power distribution information for each instance of the cell in the design for dynamic or static full-chip power-grid analysis.</p>
<p>
<a id="pgfId-15307243"></a>For more information about PGVs, refer to the &#8220;Power-Grid Library Generation&#8221; chapter in the <em>Voltus IC Power Integrity Solution User Guide</em>.</p>

<h2>
<a id="pgfId-15306864"></a><a id="55697"></a>Data Requirements and Flow for PGV Creation</h2>

<p>
<a id="pgfId-15306865"></a>The following table shows the required inputs for generating power-grid views in Voltus-Fi-L. The inputs are categorized into the following: 1) from the design; and 2) from the user.</p>
<p>
<a id="pgfId-15306927"></a></p>
<table class="webflareTable" id="#id15306866">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<p>
<a id="pgfId-15306868"></a>Type of Inputs</p>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<p>
<a id="pgfId-15306870"></a><strong>Required Inputs</strong></p>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<p>
<a id="pgfId-15306872"></a><strong>Details</strong></p>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="4">
<p>
<a id="pgfId-15306874"></a>Design Inputs</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-15306876"></a><code>Detailed Standard Parasitic Format (DSPF)</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-15306878"></a>Required for providing the following information:</p>
<ul><li>
<a id="pgfId-15306879"></a>All power ground nets extracted</li><li>
<a id="pgfId-15306880"></a>Layer information with each resistor</li><li>
<a id="pgfId-15306881"></a>x, y coordinates of the parasitic resistors </li><li>
<a id="pgfId-15306882"></a>A valid layermap external file that lists all layers</li><li>
<a id="pgfId-15306883"></a>Lumped C of the signal nets</li></ul>





</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-15306887"></a><code>Spice models and corresponding SPICE corners</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-15306889"></a>Required for SPICE simulation</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-15306893"></a><code>QRC Techfile</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-15306895"></a>Required for power-grid extraction</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-15306899"></a><code>LEF file</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-15306901"></a>Required for port connectivities</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-15306903"></a>User Inputs</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-15306905"></a><code>Net names</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-15306907"></a>Required for extraction and pin information</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-15306909"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-15306911"></a><code>DSPF layermap file</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-15306913"></a>Required to provide information about the order and type of layers in the DSPF file.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-15306915"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-15306917"></a><code>LEF layermap file</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-15306919"></a>Required for providing mapping between the layer names in the LEF file and the layer names in the technology file.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-15306921"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-15306923"></a><code>Stimulus file</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-15306925"></a>Required for providing information about simulation vectors, start time/stop time, and the time interval for running the simulation.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-15306926"></a>This is required only for dynamic PGV generation.</div>

</td>
</tr>
</tbody></table>
<p>
<a id="pgfId-15307300"></a>The following diagram illustrates the flow of PGV creation in Voltus-Fi-L.</p>

<p><strong>Figure 10-1
<a id="pgfId-15307301"></a>Power-Grid View Generation Flow in Voltus-Fi-L</strong></p>
<p>
<a id="pgfId-15307305"></a></p>
<div class="webflare-div-image">
<img width="559" height="477" src="images/pgvcreation-2.gif" /></div>
<h2>
<a id="pgfId-15306930"></a><a id="14365"></a>Creating Power-<a id="PGVCreationVoltusFi"></a>Grid Views</h2>

<p>
<a id="pgfId-15306931"></a>To create PGVs in Voltus-Fi-L, perform the following steps:</p>
<ul><li>
<a id="pgfId-15306932"></a>In the Voltus-Fi-L console, select <em>IR/EM Analysis </em>&#8211; <em>Create Power Grid View. </em></li><li>
<a id="pgfId-15306933"></a>The PowerGridView Creation form opens. This form is shown below.<br /><strong class="webflare-fig-line-height">Figure 10-2
<a id="pgfId-15306934"></a>The PowerGridView Creation Form</strong>
<a id="pgfId-15306938"></a><div class="webflare-div-image">
<img width="590" height="587" src="images/pgvcreation-3.gif" /></div></li><li>
<a id="pgfId-15306939"></a>The <em>CELL name </em>field is already populated with the name of the cell for which the power-grid view is being created. This is chosen from the open extracted view.</li><li>
<a id="pgfId-15306940"></a>In <em>View Type</em>, choose either <em>static</em> or <em>dynamic</em>, to specify the type of analysis for which you want to generate the view.</li><li>
<a id="pgfId-15306941"></a>Select the <em>QRC Tech File</em>, which is the name of the Quantus QRC technology file that will be used for PGV generation.</li><li>
<a id="pgfId-15306942"></a>Select the <em>DSPF File</em>, which is the third party or the xDSPF netlist file that is to be imported.</li><li>
<a id="pgfId-15306943"></a>Select the <em>DSPF Map File</em>, which is the layermap file that has the layer type and layer stack information of the DPSF file, from the top-most layer to the bottom-most layer. The Layer type column specifies the type of layer: metal, via, or local; while the Process layername column specifies the name of the layer. To view an example, see <a href="fileformats.html#13695">DSPF Layermap File</a> in the &#8220;File Formats&#8221; chapter.<br /><div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-15306947"></a>
In the DSPF map file, ensure that the layer information is provided in the top-to-bottom order. If this order is not followed, the power-grid database (PGDB) will not be created.</div></li><li>
<a id="pgfId-15306948"></a>Specify the <em>LEF Layer Map File</em>, which contains information for mapping the layer names in the LEF file to the layer names in the technology file. To view an example, see <a href="fileformats.html#35924">LEF Layermap File</a> in the &#8220;File Formats&#8221; chapter.</li><li>
<a id="pgfId-15306952"></a>Select the technology LEF files and the Macro LEF files in the <em>Input LEF</em> field. The technology LEF files contain the LEF information for the technology data, and the Macro LEF files contain the LEF data for the design. The selected filenames will appear in the <em>LEF FILE LIST</em>. Click <em>Remove LEF</em> to remove any file from the <em>LEF FILE LIST</em>.</li><li>
<a id="pgfId-15306953"></a>In the <em>Enter Multiple Net names and their voltages in pair netname:voltage</em> field, type the names of the nets and their corresponding voltages in the specified format. For example, <code>VDD:1.8 VSS:0.0</code>. You can specify multiple net names separated by a space.</li><li>
<a id="pgfId-15306954"></a>To specify the Spice Models information, perform the following steps:<ul><li>
<a id="pgfId-15306955"></a>Select the <em>Spice Model File</em> used by the SPICE netlist.</li><li>
<a id="pgfId-15306956"></a>Type the corresponding <em>Spice Corner</em> to be used from the model file.</li><li>
<a id="pgfId-15306957"></a>Click <em>Add</em> to add the SPICE model &#8211; SPICE corner pair to the table.</li><li>
<a id="pgfId-15306958"></a>Continue till all models and their corresponding corners are specified.</li><li>
<a id="pgfId-15306959"></a>Click <em>Remove</em> to remove a pair from the table.</li></ul></li><li>
<a id="pgfId-15306960"></a>The Dynamic group box is activated only when you choose the <em>View type</em> as <em>dynamic</em>. In this group box, provide the specifications for dynamic PGV generation.<ul><li>
<a id="pgfId-15306961"></a>Select the <em>Stimulus File</em>, which is the input file for the simulator. Choose this option to specify the vector information to be used for the simulation.</li><li>
<a id="pgfId-15306962"></a>Specify the <em>Start,</em> <em>Stop</em> time in nanoseconds (<code>ns</code>), and <em>Step Size</em> in picoseconds (ps).This specifies the simulation start time, stop time, and step size. The default value of step size is 200 <code>ps</code>.</li><li>
<a id="pgfId-15306963"></a>Choose APS in the <em>Simulator </em>cyclic field. </li></ul></li><li>
<a id="pgfId-15306964"></a>Select the <em>Output Directory </em>to write the output data. By default, the power-grid views are stored in the work directory.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-15306965"></a>This option lets you save different outputs without overwriting the existing ones. However, if the output is stored in the default directory, then the new output file, created while generating the power-grid views in the current run, overwrites the existing one.</div></li><li>
<a id="pgfId-15306966"></a>Select the <em>PGDB Map File</em>, which is the layermap file that contains the mapping information, to map the xDSPF layer names that are written in the simulation database to the layer names in the technology file. To view a sample file, see <a href="fileformats.html#57642">PGDB Layermap File</a> in the &#8220;File Formats&#8221; chapter.</li><li>
<a id="pgfId-15306970"></a>Click <em>OK</em>.</li></ul>
































<h2>
<a id="pgfId-15306973"></a><a id="19674"></a>Writing Out a PG<a id="vsaPGVResultsSaveCommandsHelp"></a>V Command File</h2>

<p>
<a id="pgfId-15306974"></a>To generate a batch mode command file for PGV generation, follow these steps:</p>
<ul><li>
<a id="pgfId-15306975"></a>In the PowerGridView Creation form, click <em>Generate Command File</em>. The Save PGV Commands To A File form opens. This form is shown below.<br /><strong class="webflare-fig-line-height">Figure 10-3
<a id="pgfId-15306977"></a><a id="94620"></a>PGV Command File Generation</strong>
<a id="pgfId-15306981"></a><div class="webflare-div-image">
<img width="595" height="200" src="images/pgvcreation-5.gif" /></div></li><li>
<a id="pgfId-15306982"></a>In this form, specify the <em>Command File Name</em>. If the command filename is not specified, the software either uses <code>&lt;Batch job Name&gt;.cmd</code>  as the default command file name, or if the batch job name is not provided, then it uses <code>vsaPGVBatch.cmd </code>as the default command filename.</li><li>
<a id="pgfId-15306983"></a>Specify the <em>Batch Job Name</em>, which is a unique job name to distinguish between different jobs. This allows you to run multiple command files &#8211; generated by different job names &#8211; in the same working directory.</li><li>
<a id="pgfId-15306984"></a>Click <em>View file</em> to view the command file. This option is selected by default. If you do not want to view the command file, you can change the default selection of this option by setting the <code>_vsaUncheckViewFile</code> environment variable to <code>true</code>. For details, see <a href="env_variables.html#95727">_vsaUncheckViewFile</a> in the &#8220;Environment Variables&#8221; chapter.</li><li>
<a id="pgfId-15306988"></a>In the <em>Run Options</em> group box, click <em>Run file</em> to run the generated command file in the background.</li><li>
<a id="pgfId-15306989"></a>Specify the Local Server Farm or the <em>LSF Command String</em>, which is the name of the wrapper string command that will launch the tool in the batch mode. For example, you can specify bsub -q lnx64 as the LSF command string. You can also specify the LSF string by using the environment variable, <code>_vsaLSFMachineString.</code> When this environment variable is set, the <em>LSF Command String</em> field is pre-filled with the specified command. For details, see <a href="env_variables.html#91797">_vsaLSFMachineString</a> in the &#8220;Environment Variables&#8221; chapter.</li><li>
<a id="pgfId-15306993"></a>Click <em>OK</em>.</li></ul>












<h2>
<a id="pgfId-15306995"></a><a id="81690"></a>Outputs of PGV Generation</h2>

<p>
<a id="pgfId-15306996"></a>Following are the outputs of PGV generation in Voltus-Fi-L:</p>
<ul><li>
<a id="pgfId-15306997"></a>A binary database that contains the following:<ul><li>
<a id="pgfId-15306998"></a>Geometric views of the cell</li><li>
<a id="pgfId-15306999"></a>Port information</li><li>
<a id="pgfId-15307000"></a>Power-grid views</li></ul></li><li>
<a id="pgfId-15296543"></a>Text report and summary file with detailed information about the power-grid views.</li></ul>





<h4>
<a id="pgfId-15307474"></a>Sample Batch Command file</h4>

<p>
<a id="pgfId-15307475"></a>A sample PGV batch command file is shown below:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-15307476"></a>;vsa batch mode command file</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-15307477"></a>;commands for PGV generation</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-15307478"></a>_vsa_testbench_lib_cell_view &quot;amsPLL&quot; &quot;TB1_vco_single&quot; &quot;schematic&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-15307479"></a>_vsa_extracted_lib_cell_view &quot;amsPLL&quot; &quot;vco&quot; &quot;av_R&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-15307480"></a>_vsa_pgv_output_directory &quot;dyn_pgv&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-15307481"></a>_vsa_pgv_tech_file &quot;qrcTechFile&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-15307482"></a>_vsa_pgv_lef_layer_map_file &quot;leflayermap&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-15307483"></a>_vsa_pgv_pgdb_map_file &#8220;pgdb.map&#8221;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-15307484"></a>_vsa_pgv_net &quot;vdd!&quot; &quot; 1.2&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-15307485"></a>_vsa_pgv_net &quot;gnd!&quot; &quot;0.0&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-15307486"></a>_vsa_pgv_lef_files &quot;amspll.lef tech.lef&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-15307487"></a>_vsa_pgv_dynamic_options &quot;amspll.vector&quot; &quot;0.0ns&quot; &quot;120.0ns&quot; &quot;250ps&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-15307488"></a>_vsa_pgv_spice_model &quot;cln90g_lk.l&quot; &quot;TT tt_hvt&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-15307489"></a>_vsa_pgv_spice_model &quot;cln90g_sr.l&quot; &quot;TT_sr&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-15307490"></a>_vsa_pgv_dspf_file &quot;vco.xdspf&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-15307491"></a>_vsa_pgv_dspf_layermap &quot;layermap_dspf&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-15307492"></a>_vsa_create_pgv</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-15307493"></a>exit</pre>
<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="app_functions.html" id="prev" title="SKILL Functions">SKILL Functions</a></em></b><b><em><a href="vsaPlot.html" id="nex" title="Viewing Results in vsaplot or vfiplot">Viewing Results in vsaplot or  ...</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2020, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>