
<html><head><title>IR/EM Analysis Flow</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="pallabi" />
<meta name="CreateDate" content="2020-09-11" />
<meta name="CreateTime" content="1599811548" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="This manual describes the use flow information in Voltus-Fi Custom Power Integrity Solution L." />
<meta name="DocTitle" content="Voltus-Fi Custom Power Integrity Solution L User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="IR/EM Analysis Flow" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.2" />
<meta name="Keyword" content="voltusFIL" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2020-09-11" />
<meta name="ModifiedTime" content="1599811548" />
<meta name="NextFile" content="env_variables.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Digital IC Design,Digital IC Design" />
<meta name="PrevFile" content="intro.html" />
<meta name="c_product" content="Virtuoso Power System,Voltus-Fi" />
<meta name="Product" content="Virtuoso Power System,Voltus-Fi" />
<meta name="ProductFamily" content="Virtuoso Power System,Voltus-Fi" />
<meta name="ProductVersion" content="ICADVM20.1" />
<meta name="RightsManagement" content="Copyright 2012-2020 Cadence Design Systems Inc." />
<meta name="Title" content="Voltus-Fi Custom Power Integrity Solution L User Guide -- IR/EM Analysis Flow" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="ICADVM20.1" />
<meta name="SpaceKey" content="voltusFILICADVM201" />
<meta name="webflare-version" content="2.0" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="voltusFILTOC.html">Contents</a></li><li><a class="prev" href="intro.html" title="Product Overview">Product Overview</a></li><li style="float: right;"><a class="viewPrint" href="voltusFIL.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="env_variables.html" title="Environment Variables">Environment Variables</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Voltus-Fi Custom Power Integrity Solution L User Guide<br />Product Version ICADVM20.1, October 2020</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>4
<a id="pgfId-1032955"></a></h1>
<h1>
<a id="pgfId-1048575"></a><hr />
<a id="55429"></a>IR/EM Analysis Flow<hr />
</h1>

<ul><li>
<a id="pgfId-1048416"></a><a href="analysisflow.html#41214">Overview</a></li><li>
<a id="pgfId-1048507"></a><a href="analysisflow.html#17915">Running Pegasus or PVS LVS</a></li><li>
<a id="pgfId-1048511"></a><a href="analysisflow.html#89465">Running Pegasus or PVS Quantus</a></li><li>
<a id="pgfId-1049881"></a><a href="analysisflow.html#89895">Running Extraction with Quantus QRC (Calibre) Interface</a></li><li>
<a id="pgfId-1048515"></a><a href="analysisflow.html#78108">Running a Spectre Simulation</a></li><li>
<a id="pgfId-1057959"></a><a href="analysisflow.html#80570">Running an APS Simulation</a></li></ul>






<h2>
<a id="pgfId-1044986"></a><a id="41214"></a>Overview</h2>

<p>
<a id="pgfId-1090824"></a>Before performing IR drop and EM analysis in Voltus-Fi-L, you need to generate the extracted view of the design and then simulate this view. This is referred to as the IR/EM Analysis flow. </p>
<p>
<a id="pgfId-1094684"></a>The IR/EM Analysis flow involves the following:</p>
<ul><li>
<a id="pgfId-1090825"></a>Comparing the schematic design with the layout design to verify the logical connectivity of the design. This is done by running either Pegasus LVS/PVS LVS (Layout as compared to Schematic) or Calibre<sup>&#174;</sup> LVS. </li><li>
<a id="pgfId-1090826"></a>Extracting the parasitic resistance and capacitance from the power and ground nets and creating an extracted view of the design using Quantus QRC. </li><li>
<a id="pgfId-1090829"></a>Simulating the extracted view of the design using Spectre or APS simulators. </li></ul>


<p>
<a id="pgfId-1094401"></a>Once these are completed successfully, the simulation results generated as an output, are used as input in Voltus-Fi-L to view and plot the IR drop and EM analysis results on the Virtuoso layout and generate reports of the analyses to identify and debug regions of high IR drop and EM violations in the design.</p>
<p>
<a id="pgfId-1094525"></a>The above tasks are detailed in the following sections:</p>
<ul><li>
<a id="pgfId-1094536"></a><a href="analysisflow.html#17915">Running Pegasus or PVS LVS</a></li><li>
<a id="pgfId-1094556"></a><a href="analysisflow.html#89465">Running Pegasus or PVS Quantus</a></li><li>
<a id="pgfId-1094566"></a><a href="analysisflow.html#89895">Running Extraction with Quantus QRC (Calibre) Interface</a></li><li>
<a id="pgfId-1094576"></a><a href="analysisflow.html#78108">Running a Spectre Simulation</a></li><li>
<a id="pgfId-1094586"></a><a href="analysisflow.html#80570">Running an APS Simulation</a></li></ul>




<p>
<a id="pgfId-1070972"></a>This high-level flow of the above tasks is shown below.</p>

<p><strong>Figure 4-1
<a id="pgfId-1064378"></a>Voltus-Fi-L Pre-Requisites High-Level Flow</strong></p>
<p>
<a id="pgfId-1064449"></a></p>
<div class="webflare-div-image">
<img width="481" height="510" src="images/analysisflow-2.gif" /></div>
<p>
<a id="pgfId-1064444"></a></p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1094736"></a>Quantus QRC creates an extracted view that can be simulated in Cadence&#174; Analog Design Environment (ADE). Use Voltus-Fi-L to superimpose the simulation data generated through circuit simulation using Cadence<sup>&#174;</sup> Spectre<sup>&#174;</sup> Circuit Simulator or Virtuoso<sup>&#174;</sup> Accelerated Parallel Simulator (APS) onto the Virtuoso extracted view. </div>
<p>
<a id="pgfId-1034530"></a>The following sections describe this flow in detail and explain the options to be set for Pegasus/PVS and Spectre for this analysis and the flow for Voltus-Fi-L. </p>

<h2>
<a id="pgfId-1034531"></a><a id="17915"></a>Running <a id="RunningPVSLVS"></a>Pegasus or PVS LVS</h2>

<p>
<a id="pgfId-1035670"></a>Before extracting the power grid and the signal nets, run <a id="marker-1035669"></a>Pegasus or PVS LVS on the layout view of the design you want to analyze. No special modifications are required to be made to the Pegasus/PVS LVS decks. </p>
<p>
<a id="pgfId-1077242"></a>In the <em>Virtuoso Layout Suite</em>, perform the following steps:</p>
<ul><li>
<a id="pgfId-1093174"></a>Select <em>Pegasus/PVS</em> from the Main menu of the Virtuoso Layout Suite.</li><li>
<a id="pgfId-1082697"></a>Select <em>Run LVS</em> from this menu. This is shown below.<br /><strong class="webflare-fig-line-height">Figure 4-2
<a id="pgfId-1082709"></a>Run LVS Menu from PVS Menu</strong>
<a id="pgfId-1096659"></a><div class="webflare-div-image">
<img width="176" height="270" src="images/analysisflow-3.gif" /></div><strong>Figure 4-3
<a id="pgfId-1096663"></a>Run LVS Menu from Pegasus Menu</strong>
<a id="pgfId-1096668"></a><div class="webflare-div-image">
<img width="176" height="291" src="images/analysisflow-4.gif" /></div></li><li>
<a id="pgfId-1082618"></a>The Pegasus/PVS LVS Run Submission Form opens. The Pegasus and PVS LVS Run Submission forms are shown below.<br /><strong class="webflare-fig-line-height">Figure 4-4
<a id="pgfId-1082774"></a>Pegasus LVS Run Submission Form</strong>
<a id="pgfId-1096554"></a><div class="webflare-div-image">
<img width="520" height="507" src="images/analysisflow-5.gif" /></div><strong>Figure 4-5
<a id="pgfId-1096558"></a>PVS LVS Run Submission Form</strong>
<a id="pgfId-1096562"></a><div class="webflare-div-image">
<img width="500" height="495" src="images/analysisflow-6.gif" /></div></li></ul>


















<p>
<a id="pgfId-1094775"></a>In this form,</p>
<ul><li>
<a id="pgfId-1094776"></a>Click <em>Run Data</em> and specify the Run Directory path.</li><li>
<a id="pgfId-1094777"></a>Click <em>Rules</em> and specify the rules deck file as shown below.<br /><strong class="webflare-fig-line-height">Figure 4-6
<a id="pgfId-1094778"></a>Specifying the Rules Deck File</strong>
<a id="pgfId-1094782"></a><div class="webflare-div-image">
<img width="535" height="290" src="images/analysisflow-7.gif" /></div></li><li>
<a id="pgfId-1094783"></a>Select <em>Input</em> and provide the input data in the <em>Layout </em>and <em>Schematic</em> group boxes. The forms for Pegasus are shown below.<br /><strong class="webflare-fig-line-height">Figure 4-7
<a id="pgfId-1094784"></a>Specifying the Input Options in Pegasus</strong>
<a id="pgfId-1094788"></a><div class="webflare-div-image">
<img width="517" height="631" src="images/analysisflow-8.gif" /></div></li><li>
<a id="pgfId-1094789"></a>Select <em>Output</em> on the left side of the form and provide the required inputs, as shown below.<br /><strong class="webflare-fig-line-height">Figure 4-8
<a id="pgfId-1094790"></a>Specifying the Output Options in Pegasus</strong>
<a id="pgfId-1094794"></a><div class="webflare-div-image">
<img width="520" height="632" src="images/analysisflow-9.gif" /></div></li><li>
<a id="pgfId-1094795"></a>Click Apply. The Pegasus/PVS LVS run starts. At the end of the LVS run, the following window opens. It displays the Comparison Results as Match.<br /><strong class="webflare-fig-line-height">Figure 4-9
<a id="pgfId-1094796"></a>LVS Run Status</strong>
<a id="pgfId-1094800"></a><div class="webflare-div-image">
<img width="274" height="160" src="images/analysisflow-10.gif" /></div></li><li>
<a id="pgfId-1094801"></a>The LVS Run results are stored in the <code>runLVS</code> directory.</li></ul>

























<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1062848"></a>For detailed information on running Pegasus/PVS LVS, see the <em>Cadence&#174; PegasusTM User Guide</em> or <em>Cadence PVS User Guide</em>.</div>

<h2>
<a id="pgfId-1034543"></a><a id="89465"></a>Running P<a id="RunningPVSQRC"></a>egasus or PVS Quantus</h2>

<p>
<a id="pgfId-1035632"></a>After the LVS run is complete, the parasitic resistance and capacitance must be extracted from the power and ground nets for power-grid analysis, and from the signal nets. Although, no rule changes are required to run Quantus, some options need to be enabled to generate the <a id="marker-1034796"></a>extracted view correctly. For more information on running Quantus, see the <em>Quantus QRC Extraction Users Manual</em>.</p>
<p>
<a id="pgfId-1078741"></a>The following steps are detailed for running Pegasus or PVS Quantus:</p>
<ul><li>
<a id="pgfId-1077928"></a>In the main menu of the <em>Virtuoso Layout Suite</em>, choose <em>QRC </em>&#8211;<em> Run Pegasus </em>or <em>Run PVS </em>&#8211; <em>Quantus</em>. </li><li>
<a id="pgfId-1093232"></a>The Quantus (Pegasus) or Quantus QRC (PVS) Interface form opens. These forms are shown below.<br /><strong class="webflare-fig-line-height">Figure 4-10
<a id="pgfId-1082847"></a>Quantus (Pegasus) Interface Form</strong>
<a id="pgfId-1096795"></a><div class="webflare-div-image">
<img width="419" height="159" src="images/analysisflow-11.gif" /></div><strong>Figure 4-11
<a id="pgfId-1096806"></a>Quantus QRC (PVS) Interface Form</strong>
<a id="pgfId-1096810"></a><div class="webflare-div-image">
<img width="419" height="159" src="images/analysisflow-12.gif" /></div></li><li>
<a id="pgfId-1092048"></a>Specify the <em>Pegasus/PVS Data Directory </em>and the<em> Quantus/Quantus QRC Tech Lib.</em></li><li>
<a id="pgfId-1092062"></a>Click <em>OK</em>.</li><li>
<a id="pgfId-1083118"></a>The Quantus (Pegasus)/Quantus QRC (PVS) Parasitic Extraction Run Form<em> </em>opens. In this form<em>, </em>select the <a id="marker-1084153"></a><em>Setup</em> tab.The form shown below opens.<br /><strong class="webflare-fig-line-height">Figure 4-12
<a id="pgfId-1084089"></a>Quantus (Pegasus) Parasitic Extraction Run Form &#8211; Setup Tab</strong>
<a id="pgfId-1096868"></a><div class="webflare-div-image">
<img width="548" height="649" src="images/analysisflow-13.gif" /></div><strong>Figure 4-13
<a id="pgfId-1096872"></a>Quantus QRC (PVS) Parasitic Extraction Run Form &#8211; Setup Tab</strong>
<a id="pgfId-1096876"></a><div class="webflare-div-image">
<img width="548" height="649" src="images/analysisflow-14.gif" /></div></li><li>
<a id="pgfId-1092151"></a>Ensure that the <em>Output</em> is set to <em>Extracted View</em>. </li><li>
<a id="pgfId-1077573"></a>Select the <em>Extraction </em>tab. The form shown below opens.<br /><strong class="webflare-fig-line-height">Figure 4-14
<a id="pgfId-1084261"></a>Quantus (Pegasus) Parasitic Extraction Run Form &#8211; Extraction Tab<a id="73672"></a></strong>
<a id="pgfId-1096897"></a><div class="webflare-div-image">
<img width="554" height="694" src="images/analysisflow-15.gif" /></div><strong>Figure 4-15
<a id="pgfId-1096902"></a>Quantus QRC (PVS) Parasitic Extraction Run Form &#8211; Extraction Tab</strong>
<a id="pgfId-1096906"></a><div class="webflare-div-image">
<img width="554" height="694" src="images/analysisflow-16.gif" /></div></li><li>
<a id="pgfId-1092296"></a>In the <em>Extraction Type </em>cyclic field, specify either resistance and capacitance (<em>RC</em>) or only resistance (<em>R only</em>). In the above image, RC is selected, which means that both resistance and capacitance are being extracted. When <em>Extraction Type</em> selected is <em>R Only</em>, the simulation time is short. While selecting the extraction type, consider the type of simulation being run. <br />
<a id="pgfId-1092313"></a>For example, to run a DC operating point (DCOP) simulation, select <em>R only</em> as the <em>Extraction Type</em> because the capacitance values are not required.</li></ul>


































<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1044438"></a>The extraction time in Quantus can be reduced by selecting specific nets of interest. To do this, perform the following steps:</div>
<ul><li>
<a id="pgfId-1093068"></a>Select <em>Net Selection Type </em>&#8211; <em>Selected Nets Proper</em>. </li><li>
<a id="pgfId-1093078"></a>Select the <em>Netlisting </em><a id="marker-1075103"></a>tab. The form shown below opens.<br /><strong class="webflare-fig-line-height">Figure 4-16
<a id="pgfId-1084369"></a>Quantus (Pegasus) Parasitic Extraction Run form &#8211; Netlisting Tab</strong>
<a id="pgfId-1096983"></a><div class="webflare-div-image">
<img width="558" height="698" src="images/analysisflow-17.gif" /></div><strong>Figure 4-17
<a id="pgfId-1096987"></a>Quantus QRC (PVS) Parasitic Extraction Run form &#8211; Netlisting Tab</strong>
<a id="pgfId-1096991"></a><div class="webflare-div-image">
<img width="558" height="698" src="images/analysisflow-18.gif" /></div></li><li>
<a id="pgfId-1078938"></a>Click <em>EM Analysis</em> to activate the extraction options specific to EM analysis during the Quantus QRC run.</li><li>
<a id="pgfId-1081951"></a>Click <em>Add Explicit Vias </em><a id="marker-1075108"></a>to prevent the merging of via resistance into the net resistance. <a id="marker-1075109"></a><a id="marker-1075110"></a></li><li>
<a id="pgfId-1079276"></a>In the <em>Parasitic Resistance Width </em><a id="marker-1079275"></a>cyclic field, specify <em>Drawn</em>. The parasitic resistance width option annotates the extracted view with the width of parasitic resistors, which is required to compute the <a id="marker-1079277"></a>Current Density. </li><li>
<a id="pgfId-1080665"></a>Click <em>Parasitic Resistance Temperature Coefficent</em> if you want to store TC1 and TC2 parameters in the extracted view. This is useful when you want to perform IR/EM analysis at different temperatures. </li><li>
<a id="pgfId-1079279"></a>Deselect <em>Import Globals</em> to enable Quantus QRC to extract resistance from power and ground nets. </li></ul>














<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1079928"></a>The Electromigration analysis requires the parasitic resistors to be present in the <code>extracted_view</code>. To ensure this, the <em>Parasitic Resistors Models</em> switch must be set to &#8220;<code>Include Model</code>&#8221; or &#8220;<code>Include as Comment</code>&#8221;. If &#8220;<code>Include Model</code>&#8221; is selected, you will be required to update the <code>emDataFile.txt</code> to match the model names.</div>
<ul><li>
<a id="pgfId-1094950"></a>Click <em>Apply</em>. The Quantus extraction run will start. At the end of the extraction run, the following window opens to show the status of the run.<br /><strong class="webflare-fig-line-height">Figure 4-18
<a id="pgfId-1094951"></a>Quantus QRC Run Status</strong>
<a id="pgfId-1094955"></a><div class="webflare-div-image">
<img width="433" height="196" src="images/analysisflow-19.gif" /></div><div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1084440"></a>
To proceed to the next step, simulating the extracted view, ensure that the extracted view in Quantus QRC is successfully created.</div></li></ul>





<h2>
<a id="pgfId-1078796"></a><a id="89895"></a><a id="25328"></a><a id="83524"></a><a id="40935"></a>Running Extractio<a id="QRCCalibre"></a>n with Quantus QRC (Calibre) Interface </h2>

<p>
<a id="pgfId-1079427"></a>Quantus QRC accepts a Calibre database as input for extraction in place of Pegasus LVS or PVS LVS.</p>
<p>
<a id="pgfId-1077540"></a>The extracted view includes a standard DFII (design framework II) extracted view, which has parasitic properties backannotated onto a layout design for simulation purposes. The extracted view can be simulated using third-party simulation tools like Spectre or APS (Accelerated Parallel Simulator) to interpret the Quantus QRC output effectively, and use the simulation results as input to Voltus-Fi-L. </p>
<p>
<a id="pgfId-1077896"></a>In the main menu of the <em>Virtuoso Layout Suite</em>, perform the following steps:</p>
<ul><li>
<a id="pgfId-1093497"></a>Choose <em>QRC </em>&#8211;<em> Run Calibre-Quantus QRC</em></li><li>
<a id="pgfId-1093511"></a>The Quantus QRC (Calibre) Interface form opens. This form is shown below.<br /><strong class="webflare-fig-line-height">Figure 4-19
<a id="pgfId-1085271"></a>Quantus QRC (Calibre) Interface Form</strong>
<a id="pgfId-1085275"></a><div class="webflare-div-image">
<img width="420" height="266" src="images/analysisflow-21.gif" /></div></li></ul>






<p>
<a id="pgfId-1049719"></a>For more information on how Quantus QRC reads the Calibre input data and performs extraction, see &#8220;Running Quantus QRC with Calibre&#174; Input&#8221; in the <em>Quantus QRC Extraction Users Manual.</em></p>

<h2>
<a id="pgfId-1078775"></a><a id="78108"></a>Running a <a id="RunningSpectreSimulation"></a>Spectre Simulation</h2>

<p>
<a id="pgfId-1078777"></a>After running extraction, the next step is to use an existing <a id="marker-1078776"></a>testbench and simulate the <a id="marker-1078778"></a>extracted view within the Virtuoso&#174; Analog design Environment (ADE). The results of the simulation are stored in the simulation directory. This directory is specified when loading the IR drop and EM analysis results in Voltus-Fi-L.</p>
<p>
<a id="pgfId-1094992"></a>You can use Cadence<sup>&#174;</sup> Spectre<sup>&#174;</sup> Circuit Simulator. This simulation environment saves the voltages on all the nodes in the design. You must run a <a id="marker-1078779"></a>transient or a <a id="marker-1078781"></a>DC operating point (DCOP) simulation to perform <a id="marker-1078782"></a>IR Drop analysis or <a id="marker-1078784"></a>electromigration analysis.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1094211"></a>For Voltus-Fi-L, the Spectre simulation is supported only with the 64-bit version of the Spectre software.</div>
<p>
<a id="pgfId-1061986"></a>An example of a testbench in <a id="marker-1034804"></a>Virtuoso&#174; Schematic Editor is shown below.</p>

<p><strong>Figure 4-20
<a id="pgfId-1034578"></a><a id="42193"></a>Testbench in Virtuoso Schematic Editor</strong></p>
<p>
<a id="pgfId-1034582"></a></p>
<div class="webflare-div-image">
<img width="664" height="475" src="images/analysisflow-22.gif" /></div>

<p>
<a id="pgfId-1082455"></a>Follow these steps to run <a id="marker-1082454"></a>Spectre simulation for Voltus-Fi-L:</p>
<ul><li>
<a id="pgfId-1082456"></a>In the Environment Options form, specify the extracted view in the simulation in the <em>Switch View List</em> field. You can also use config views. This is shown in the figure below.<a id="marker-1082457"></a><br /><strong class="webflare-fig-line-height">Figure 4-21
<a id="pgfId-1086988"></a>Environment Options Form </strong>
<a id="pgfId-1086992"></a><div class="webflare-div-image">
<img width="490" height="320" src="images/analysisflow-23.gif" /></div></li><li>
<a id="pgfId-1034585"></a>In the Save Options form, ensure that the <em>a</em><em>llpub</em> option is selected. The Options dialog box is activated by the <em>Outputs</em><a id="marker-1034886"></a> &#8211; <em>Save All</em> command. Only the node voltages are saved during the Spectre simulation. You do not need to create any <code>measure</code><a id="marker-1034887"></a> statements. This is shown in the figure below.<br /><strong class="webflare-fig-line-height">Figure 4-22
<a id="pgfId-1087044"></a><a id="42556"></a>Save Options Form</strong>
<a id="pgfId-1087048"></a><div class="webflare-div-image">
<img width="490" height="484" src="images/analysisflow-24.gif" /></div></li></ul>











<p>
<a id="pgfId-1042824"></a>Before proceeding to the next step, ensure that Spectre simulation is completed successfully. It is useful to save the Spectre simulation state for later use, if required. The Voltus-Fi-L Reader can read results in <code>SST2</code> database format as well as <code>PSF/PSF-XL</code> waveform format.</p>

<h2>
<a id="pgfId-1057929"></a><a id="80570"></a>Running<a id="RunningAPSSimulation"></a> an APS Simulation</h2>

<p>
<a id="pgfId-1057930"></a>You can perform simulation using the Virtuoso&#174; APS. These simulation results can be used as input to Voltus-Fi-L instead of the simulation results from <a id="marker-1088018"></a>Virtuoso&#174; Spectre simulator, if required. Virtuoso&#174; APS is a next-generation SPICE simulator that provides high performance, high capacity circuit simulation with full Cadence<sup>&#174;</sup> Spectre<sup>&#174;</sup> Circuit Simulator accuracy. APS achieves maximum simulation performance by enabling multi-threading on multi-core and multi-CPU shared memory systems. This simulator lets you simulate large pre- and post-layout designs faster than the Spectre simulator. </p>
<p>
<a id="pgfId-1057931"></a>The APS use model is identical to that of Spectre, with the same netlist syntax, device model, analyses, features, and output format support. </p>
<p>
<a id="pgfId-1057932"></a>Follow these steps to run the APS simulation for Voltus-Fi-L:</p>
<ul><li>
<a id="pgfId-1057933"></a>In the <em>Environment Options</em> form, specify the extracted view in the simulation in the <em>Switch View List</em> field. You can also specify <a id="marker-1057934"></a>config views. This is shown above in the &#8220;Running a Spectre Simulation&#8221; section.</li><li>
<a id="pgfId-1057937"></a>In the <em>Save Options</em> form, ensure that the <em>allpub</em> option is selected. The Save Options dialog box is activated by the <em>Outputs</em> &#8211; <em>Save All</em> command. This is shown above in the &#8220;Running a Spectre Simulation&#8221; section. Only the node voltages are saved during the APS simulation. No <code>measure</code><a id="marker-1088057"></a> statements need to be created.</li><li>
<a id="pgfId-1086579"></a>In the High-Performance Simulation Options form, ensure that <em>All </em>is selected as<em> Preserve Instance</em>. This is shown in the figure below.<br /><strong class="webflare-fig-line-height">Figure 4-23
<a id="pgfId-1089370"></a>High-Performance Simulation Options Form</strong>
<a id="pgfId-1089374"></a><div class="webflare-div-image">
<img width="558" height="358" src="images/analysisflow-25.gif" /></div></li></ul>







<p>
<a id="pgfId-1089375"></a>Before proceeding to the next step, ensure that the APS simulation is completed successfully. It is useful to save the APS simulation state for later use, if required. Voltus-Fi-L reader can read results in the <code>SST2</code> database and the <code>PSF/PSF-XL</code> waveform formats.</p>
<p>
<a id="pgfId-1081635"></a>For very large designs, APS can write the simulation data in a Voltus-Fi-L-specific format. Average, peak, and RMS analyses can be performed faster by using this data. </p>
<p>
<a id="pgfId-1087182"></a>For example, for generating the EMIR output during transient analysis, follow these steps:</p>
<ul><li>
<a id="pgfId-1087250"></a>In the Virtuoso&#174; Analog Design Environment, select <em>Analysis</em> &#8211;<em> Choose</em>. The Choosing Analyses form opens. </li><li>
<a id="pgfId-1087456"></a>Select <em>tran</em> as the <em>Analysis</em> type. This form is shown below.<br /><strong class="webflare-fig-line-height">Figure 4-24
<a id="pgfId-1092655"></a>Choose Analyses Form</strong>
<a id="pgfId-1092673"></a><div class="webflare-div-image">
<img width="403" height="446" src="images/analysisflow-26.gif" /></div></li><li>
<a id="pgfId-1087509"></a>In this form:<ul><li>
<a id="pgfId-1092867"></a>Select the <em>Enabled </em>check box.</li><li>
<a id="pgfId-1087287"></a>Click <em>Options</em>. The Transient Options form opens. This form is shown below.<br /><strong class="webflare-fig-line-height">Figure 4-25
<a id="pgfId-1092765"></a>Transient Options Form</strong>
<a id="pgfId-1087305"></a><div class="webflare-div-image">
<img width="398" height="396" src="images/analysisflow-27.gif" /></div></li></ul></li><li>
<a id="pgfId-1087560"></a>In the Transient Options form, select the <em>EM/IR Output</em> tab. On this tab:<ul><li>
<a id="pgfId-1087580"></a>Click <em>vavo</em> as the <em>emirformat</em>. </li><li>
<a id="pgfId-1087587"></a>Specify the <em>emirstart</em> time and <em>emirstop</em> time.</li><li>
<a id="pgfId-1087597"></a>Specify the <em>emirfile.</em></li><li>
<a id="pgfId-1092827"></a>Click <em>OK</em>.</li></ul></li></ul>



















<p>
<a id="pgfId-1087184"></a>The syntax for generating EMIR output during transient analysis is as follows:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081280"></a>Name tran [emirformat=vavo|none] [emirstart=time] [emirstop=time] [emirfile=dbfileName]</pre>

<p>
<a id="pgfId-1081350"></a>Where:</p>

<p class="webflare-indent1">
<a id="pgfId-1081833"></a></p>
<table class="webflareTable webflareTableIndent" id="#id1081781">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1081807"></a><span class="webflare-courier-new" style="white-space:pre"><em>Name</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1081809"></a>The name of the transient analysis.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1081811"></a>emirformat</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1081813"></a>Turns on the <code>vavo.db</code> file output capability. Possible values are <code>vavo</code> and <code>none</code>. Default is <code>none</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1081815"></a>emirstart/emirstop</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1081817"></a>Specifies the time window start and stop times. The default of start and stop times are same as the start and stop times for transient analysis, respectively.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1081819"></a>emirfile</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1081821"></a>Specifies the name of the EM/IR output database file. Default is <code>tranName_emir_vavo.db</code>. This file is saved in the raw directory.</p>
</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-1081544"></a>Example:</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081565"></a>tran1 tran stop=15s errpreset=moderate emirformat=vavo emirfile=&quot;testDB&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081554"></a>emirstart=1s emirstop=15s</pre>

<p>
<a id="pgfId-1081594"></a>Calculates the required information for EM and IR analysis and saves it in the <code>testDB.db</code> file.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1090396"></a>To generate the <code>emirformat</code> database file version <code>5.0</code>, set the environment variable, <code>EMIR_VAVO_DB 5.0.</code>This database file version significantly reduces the simulation runtime and it is supported with the following APS simulator versions:</div>
<ul><li>
<a id="pgfId-1090397"></a>MMSIM121_ISR16 and above</li><li>
<a id="pgfId-1089883"></a>MMSIM131_ISR2 and above</li></ul>


<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="intro.html" id="prev" title="Product Overview">Product Overview</a></em></b><b><em><a href="env_variables.html" id="nex" title="Environment Variables">Environment Variables</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2020, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>