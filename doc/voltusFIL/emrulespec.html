
<html><head><title>EM Rules Specification</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="pallabi" />
<meta name="CreateDate" content="2020-09-11" />
<meta name="CreateTime" content="1599811554" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="This manual describes the use flow information in Voltus-Fi Custom Power Integrity Solution L." />
<meta name="DocTitle" content="Voltus-Fi Custom Power Integrity Solution L User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="EM Rules Specification" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.2" />
<meta name="Keyword" content="voltusFIL" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2020-09-11" />
<meta name="ModifiedTime" content="1599811554" />
<meta name="NextFile" content="app_functions.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Digital IC Design,Digital IC Design" />
<meta name="PrevFile" content="emanalysis.html" />
<meta name="c_product" content="Virtuoso Power System,Voltus-Fi" />
<meta name="Product" content="Virtuoso Power System,Voltus-Fi" />
<meta name="ProductFamily" content="Virtuoso Power System,Voltus-Fi" />
<meta name="ProductVersion" content="ICADVM20.1" />
<meta name="RightsManagement" content="Copyright 2012-2020 Cadence Design Systems Inc." />
<meta name="Title" content="Voltus-Fi Custom Power Integrity Solution L User Guide -- EM Rules Specification" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="ICADVM20.1" />
<meta name="SpaceKey" content="voltusFILICADVM201" />
<meta name="webflare-version" content="2.0" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="voltusFILTOC.html">Contents</a></li><li><a class="prev" href="emanalysis.html" title="EM Analysis Results">EM Analysis Results</a></li><li style="float: right;"><a class="viewPrint" href="voltusFIL.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="app_functions.html" title="SKILL Functions">SKILL Functions</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Voltus-Fi Custom Power Integrity Solution L User Guide<br />Product Version ICADVM20.1, October 2020</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>8
<a id="pgfId-4562"></a><a id="97089"></a></h1>
<h1>
<a id="pgfId-40164"></a><hr />
<a id="58483"></a>EM Rules Spe<a id="marker-40804"></a>cification<hr />
</h1>

<ul><li>
<a id="pgfId-55399"></a><a href="emrulespec.html#81495">EM Rule File Requirements</a><ul><li>
<a id="pgfId-58641"></a><a href="emrulespec.html#16627">EM Rules in qrcTechFile</a><ul><li>
<a id="pgfId-77597"></a><a href="emrulespec.html#81391">Parameters for Limit-Based Analysis</a></li><li>
<a id="pgfId-77610"></a><a href="emrulespec.html#44816">Current Density (JMAX) Keywords</a></li><li>
<a id="pgfId-70858"></a><a href="emrulespec.html#72254">Rules for Defining EM Parameters</a></li><li>
<a id="pgfId-70143"></a><a href="emrulespec.html#85069">EM Rule Selection Priority</a></li></ul></li><li>
<a id="pgfId-58658"></a><a href="emrulespec.html#76528">EM Rules in EM Data File</a><ul><li>
<a id="pgfId-77551"></a><a href="emrulespec.html#96227">EM Rules Specifications Supported in EmData File</a></li><li>
<a id="pgfId-77572"></a><a href="emrulespec.html#47072">EM Rules Specifications not Supported in Voltus-Fi-L</a></li></ul></li></ul></li></ul>









<h2>
<a id="pgfId-66617"></a><a id="81495"></a>EM Rule <a id="marker-66616"></a>File Requirements</h2>

<p>
<a id="pgfId-62812"></a>Before running EMIR analysis in Voltus-Fi-L, you need to specify the EM reliability rules. </p>
<p>
<a id="pgfId-61872"></a>The EM reliability rules can be specified in any of these files: the QRC technology file (<code>qrcTechFile</code>), the ICT file, or the EM data file (<code>emDataFile</code>). </p>
<p>
<a id="pgfId-61873"></a>The ICT file contains the process information for the design and information about the EM rules. This is a text-based file that can be edited using any text editor. </p>
<p>
<a id="pgfId-60657"></a>You can either specify the ICT file directly as an input for EM analysis, or you can use the information in the ICT file to update the <code>qrcTechFile</code>. You can view a sample <h-hot><a actuate="user" class="URL" href="../voltusFIXL/fileformats.html#ICTFile" show="replace" xml:link="simple">ICT File</a></h-hot> in the &#8220;File Formats&#8221; chapter of the <em>Voltus-Fi Custom Power Integrity Solution XL User Guide</em>. </p>
<p>
<a id="pgfId-59997"></a>The EM reliability rules that can be specified in the <code>qrcTechFile</code> and the <code>emDataFile</code> are detailed below. The following topics are covered:</p>
<ul><li>
<a id="pgfId-77286"></a><a href="emrulespec.html#16627">EM Rules in qrcTechFile</a></li><li>
<a id="pgfId-77299"></a><a href="emrulespec.html#76528">EM Rules in EM Data File</a></li></ul>


<h3>
<a id="pgfId-57903"></a><a id="16627"></a>EM Ru<a id="marker-61385"></a>les in qrcTechFile</h3>

<p>
<a id="pgfId-57904"></a>This section provides details of the Current Density (jmax) keywords that can be specified in the <code>qrcTechFile</code> and the rules for defining EM parameters. It covers the following topics:</p>
<ul><li>
<a id="pgfId-68403"></a><a href="emrulespec.html#81391">Parameters for Limit-Based Analysis</a></li><li>
<a id="pgfId-68417"></a><a href="emrulespec.html#44816">Current Density (JMAX) Keywords</a></li><li>
<a id="pgfId-68428"></a><a href="emrulespec.html#72254">Rules for Defining EM Parameters</a></li><li>
<a id="pgfId-68439"></a><a href="emrulespec.html#72254">Rules for Specifying Via Area</a></li><li>
<a id="pgfId-68450"></a><a href="emrulespec.html#37648">Rules for Specifying EM Analysis Type for Power and Ground Nets</a></li><li>
<a id="pgfId-71441"></a><a href="emrulespec.html#85069">EM Rule Selection Priority</a></li></ul>





<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-59760"></a>Currently, Voltus-Fi-L only supports parameters for limit-based EM analysis. </div>

<h4>
<a id="pgfId-57906"></a><a id="81391"></a>Parameter<a id="marker-61400"></a>s for Limit-Based Analysis</h4>

<p>
<a id="pgfId-57907"></a>The following parameters can be specified in the <code>qrcTechFile</code>:</p>

<h4>Table 8-1
<a id="pgfId-68371"></a>Limit-Based Analysis Parameters</h4>
<p>
<a id="pgfId-60666"></a></p>
<table class="webflareTable" id="#id60675">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id60677">
<a id="pgfId-60677"></a>Parameter Name</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id60679">
<a id="pgfId-60679"></a>Description</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-60681"></a><code>em_vcwidth &lt;</code><span class="webflare-courier-new" style="white-space:pre"><em>value</em></span><code>&gt;</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-60683"></a>Optional parameter for <code>via</code> that defines the minimum size via that is used by the software to identify single square via. This parameter is similar to the <code>viaWidthList</code> parameter in <code>emDataFile</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-60685"></a><code>em_W_n</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-60770"></a>Optional parameter that specifies the wire width in microns below which a line is considered narrow. All lines are considered wide unless you specify otherwise using this parameter</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-60687"></a>It helps to select the rule between <code>em_jmax_*_w</code> and <code>em_jmax_*_n</code>. If <code>w &lt; em_W_n</code> ,   then <code>em_jmax_*_n</code> is selected, otherwise <code>em_jmax_*_w</code> selected.</div>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-75763"></a><a id="em_jmax_dc_rms_metal_line_factor"></a><code>em_jmax_dc_rms_metal_line_factor</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-75765"></a>Defines the relationship between the value of power on metal lines and the <code>I</code><code><sub>rms</sub></code> rating values for DC RMS analysis.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-75759"></a><code>em_jmax_ac_rms_metal_line_factor</code><a id="em_jmax_ac_rms_metal_line_factor"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-75761"></a>Defines the relationship between the value of power on metal lines and the <code>I</code><code><sub>rms</sub></code> rating values for AC RMS analysis.</p>

</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-57919"></a><a id="44816"></a>Current <a id="marker-61395"></a>Density (JMAX) Keywords</h4>

<p>
<a id="pgfId-57920"></a>The table below lists the Current Density keywords that are supported in Voltus-Fi-L.</p>

<h4>Table 8-2
<a id="pgfId-60842"></a>Current Density Keywords</h4>
<p>
<a id="pgfId-67707"></a></p>
<table class="webflareTable" id="#id67725">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id67727">
<a id="pgfId-67727"></a>Keyword</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id67729">
<a id="pgfId-67729"></a>Description</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-67731"></a><code>em_jmax_dc_avg*</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-67733"></a>Optional keyword that specifies the DC AVG analysis in Voltus-Fi-L</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-68237"></a><code>em_jmax_ac_avg*</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-68239"></a>Optional keyword that specifies the AC AVG analysis in Voltus-Fi-L</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-67735"></a><code>em_jmax_dc_peak*</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-67737"></a>Optional keyword that specifies DC PEAK analysis in Voltus-Fi-L</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-68305"></a><code>em_jmax_ac_peak*</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-68307"></a>Optional keyword that specifies AC_PEAK analysis in Voltus-Fi-L</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-67739"></a><code>em_jmax_dc_rms*</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-67741"></a>Optional keyword that specifies DC RMS analysis in Voltus-Fi-L</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-68273"></a><code>em_jmax_ac_rms*</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-68291"></a>Optional keyword that specifies AC RMS analysis in Voltus-Fi-L</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-57925"></a>Where star <code>&#8216;*&#8217;</code> implies that &#8216;<code>_w</code>&#8217; and &#8216;<code>_n</code>&#8217; rules are also supported.</p>

<h3>
<a id="pgfId-57928"></a><a id="72254"></a>Rules for Defining EM Parameters</h3>

<p>
<a id="pgfId-58195"></a>An example of the EM rule for defining the <code>em_jmax_dc_avg</code> parameter is provided below:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-58196"></a>[em_jmax_dc_avg &lt;value&gt; | &lt;value_1&gt; &lt;area_1/width_1&gt; [...] | EQU &lt;fn(E)&gt;]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-63031"></a>[jmax_factor &lt;temp1&gt; &lt;scale1&gt; [&lt;temp2&gt; &lt;scale2&gt; ...]]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-63032"></a>[jmax_life &lt;life1&gt; &lt;scale1&gt; [&lt;life2&gt; &lt;scale2&gt;.......]]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-63033"></a>[current_direction up | down | both] </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-61045"></a>[conditions]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-58202"></a>[single]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-58203"></a>[power_rail/power_grid&#160;&#160;&#160;&#160;]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-68593"></a>[priority==&lt;priority no.&gt;]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-71419"></a>[device==&#8221;&lt;device model names&gt;&#8221;]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-68594"></a>[sub_conductor==&quot;&lt;subconductor names&gt;&quot;]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-74351"></a>[color==&quot;&lt;list of color no.&gt;&quot;]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-68595"></a>[mask==&lt;mask no.&gt;]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-68581"></a></pre>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-58204"></a>Currently, the <code>via_range</code> construct is not supported in Voltus-Fi-L. If it is specified in the EM rule, it will be ignored by the software.</div>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-58206"></a>[via_range <code><em>&lt;value&gt;</em></code>]</pre>

<p>
<a id="pgfId-57932"></a>All other EM parameters are defined with the same structure but apply to different characteristics of the <code>em_model</code> (peak current versus average for instance). The following rules apply to all the <code>em_model</code> parameters:</p>
<ul><li>
<a id="pgfId-57933"></a>Equations in EM Model<br />
<a id="pgfId-57934"></a>An EOL or one of the qualifiers (<code>jmax_factor</code>, <code>current_direction,</code>or <code>single</code>) marks the end of an equation specifying the Current Density limit. If the equation resolves into two separate equations, then this will result in an error.<br />
<a id="pgfId-57935"></a>For EQU, the following operators (case-insensitive) are supported:<ul><li>
<a id="pgfId-57936"></a><code>SQRT</code></li><li>
<a id="pgfId-57937"></a><code>LOG</code></li><li>
<a id="pgfId-57938"></a><code>EXP</code></li><li>
<a id="pgfId-57939"></a><code>* / + -</code></li><li>
<a id="pgfId-57940"></a><code>()</code></li><li>
<a id="pgfId-57941"></a><code>e</code></li><li>
<a id="pgfId-57942"></a><code>^</code><br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-57943"></a>Square brackets &#8216;<code>[]</code>&#8217; are not supported. A comma &#8216;,&#8217; implies multiple equations, and results in an error. The period &#8216;.&#8217; is ambiguous and should not be used to indicate multiplication (use * instead). </div></li></ul>
<a id="pgfId-57944"></a>Spaces are permitted to make an equation more readable.<br />
<a id="pgfId-57945"></a>Variables within equations (such as <code>deltaT, w</code> and <code>l</code>) will be populated by the analysis tool at run-time. Use the <code>em_variables </code>parameter in the process definition to globally declare variables that are used within the various <code>em_models</code>.<br />
<a id="pgfId-57946"></a>The equation definition ends when reaching the end of line (EOL) or another keyword (<code>jmax_factor, current_direction</code>, or <code>single</code>).</li><li>
<a id="pgfId-59831"></a>Order Dependency<br />
<a id="pgfId-57948"></a>The actual Current Density limit (value, piece-wise linear or PWL pairs, or equation) should follow immediately after the Current Density keyword (<code>em_jmax_dc_avg</code>). Any of the qualifiers (<code>jmax_factor</code>, <code>current_direction</code>, or <code>single</code>) will come after that. The order of the qualifiers is not important.</li><li>
<a id="pgfId-57949"></a>Units of Values<br />
<a id="pgfId-57950"></a>The unit should be specified in accordance with the setting defined by the <code>em_conductor_unit</code>, <code>em_via_unit</code>, and <code>em_via_area_unit</code> parameters defined in the process definition. Units are specified as:<ul><li>
<a id="pgfId-57951"></a>For a single value or an equation:<ul><li>
<a id="pgfId-57952"></a><code>A/cm</code><code><sup>2</sup></code> or <code>mA</code> for metal layers (width based)</li><li>
<a id="pgfId-57953"></a><code>A/via</code> or <code>mA</code> for via layers (per via)</li></ul></li><li>
<a id="pgfId-57954"></a>For a PWL table:<ul><li>
<a id="pgfId-57955"></a><code>A/cm</code><code><sup>2</sup></code> or <code>mA</code>, with width specified in microns for metal layers </li><li>
<a id="pgfId-57956"></a><code>A/cm</code><code><sup>2</sup></code> or <code>mA</code>, with area specified in square microns for via layers </li></ul></li></ul></li><li>
<a id="pgfId-57957"></a>JMAX Factor<br />
<a id="pgfId-57958"></a><code>jmax_factor &lt;temp1&gt; &lt;scale1&gt; [&lt;temp2&gt; &lt;scale2&gt; ...]</code><br />
<a id="pgfId-57959"></a><code>jmax_factor </code>is the optional scaling factor to use at different temperatures compared to the reference temperature (defined by <code>em_tref</code> in the process definition). The temperature for <code>jmax_factor</code> should be specified in degrees Celsius.<br />
<a id="pgfId-57960"></a>Scaling factor is a positive integer: <code>&gt;1 to scale up, &lt;1 to scale down, or 1 for no scale effect</code>.<br />
<a id="pgfId-76032"></a>If the specified temperature, <code>T</code>, falls between the defined minimum and maximum temperatures, the software will calculate a new scale factor (RT) using the formula, <code>TTF=A*J^(-n)*exp(Ea/kT)</code>. <br />
<a id="pgfId-76206"></a>For example:<pre class="webflare-pre-block webflare-courier-new" id="#id76034">
<a id="pgfId-76034"></a>RT = RT1*exp((Ea/kT)*(1/T-1/T1))</pre>
<a id="pgfId-76035"></a>where <pre class="webflare-pre-block webflare-courier-new" id="#id76158">
<a id="pgfId-76158"></a>Ea/kT=(T1*T2/(T1-T2))*ln(RT2/RT1)</pre><br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-76037"></a>If the specified temperature, <code>T</code>, is either below or above the defined minimum and maximum temperatures, the software will use the minimum and maximum temperature for calculating the scale factor, respectively.</div><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-57961"></a>When setting scale factors for multiple temperatures, they should be specified in an ascending sequence to enable interpolation.</div></li><li>
<a id="pgfId-57962"></a>Format of the Conditions<br />
<a id="pgfId-57963"></a>Condition = <code>[L/W/Lu/Wu/Lb/Wb/Lv2v/Td/r/a/N &lt; | &lt;= | &gt; | &gt;= | == | != &lt;value in microns/micro seconds&gt;] | [Itolerance &lt; | &lt;= | &gt; | &gt;= | == | != &lt;value in percentage&gt;]</code><br />
<a id="pgfId-57964"></a>Conditions = <code>[condition]*</code><br />
<a id="pgfId-57965"></a>The <code>L </code>parameter specifies the length-based jmax values in microns.<br />
<a id="pgfId-57966"></a>The <code>W </code>parameter specifies the width-based jmax values in microns.<br />
<a id="pgfId-57967"></a><code>L</code> and <code>W</code> are applicable for both metals and vias.<br />
<a id="pgfId-57968"></a><code>Lu, Lb, Wu,</code> and <code>Wb</code> are applicable for vias only.<br />
<a id="pgfId-58239"></a><code>Lv2v</code> and <code>Itolerance</code> are applicable only for the <code>power_rail</code> rule.<br />
<a id="pgfId-57969"></a>Where,<br />
<a id="pgfId-57970"></a><code>L </code>= length
<code>W </code>= Width
<code>Lu</code> = Upper metal length
<code>Lb</code> = Bottom metal length
<code>Wu</code> = Upper metal width
<code>Wb</code> = Lower metal width
<code>Lv2v</code> = Distance between terminal vias
<code>Itolerance</code> = Difference in the current values of terminal vias. For example, if a difference of up to 5 percent is acceptable, then specify &#39;<code>Itolerance &lt;= 0.05</code>&#39;.
<code>T</code><code><sub>d </sub></code>= Time duration in micro second or total &#8216;On Time&#8221; period
<code>r</code> = Duty ratio
<code>a</code> = Area of the single cut in the via or in the via array
<code>N</code> = Number of vias in the via array<br />
<a id="pgfId-57971"></a><em>Voltus-Fi-L</em> supports metal length/width rules above and below vias, where, the dimensions to be checked for the rules are different for the metal above and the metal below. In this case, <code>Lu/Wu</code> refers to dimensions of the metal above the via and <code>Lb/Wb</code> refers to dimensions of the metal below the via.</li><li>
<a id="pgfId-57973"></a>Single<br />
<a id="pgfId-59861"></a>The keyword, <code>single</code> can be specified to differentiate between a single square cut via and square viaarray. The following example shows how to use the <code>single</code> keyword:<pre class="webflare-pre-block webflare-courier-new" id="#id57974">
<a id="pgfId-57974"></a>em_jmax_dc_avg PWL 0.022  0.01  jmax_factor 105 1.1  110 1.0 115</pre><pre class="webflare-pre-block webflare-courier-new" id="#id57975">
<a id="pgfId-57975"></a>0.9 120 0.8 125 0.7 130 0.6 140 0.5 150 0.4  current_direction up</pre><pre class="webflare-pre-block webflare-courier-new" id="#id57976">
<a id="pgfId-57976"></a>Lb &gt; 4 Wb &gt;= 0.05  current_direction up single</pre></li><li>
<a id="pgfId-71041"></a>JMAX Life<br />
<a id="pgfId-71055"></a>The keyword, <code>jmax_life</code> provides the ability to set the scaling factor that applies to the Current Density limits for different lifetimes. The syntax is as follows:<pre class="webflare-pre-block webflare-courier-new" id="#id71092">
<a id="pgfId-71092"></a>jmax_life &lt;life1&gt; &lt;scale1&gt; [&lt;life2&gt; &lt;scale2&gt;.......]</pre><br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-73904"></a>The software will take the unit of lifetime from the <code>em_lifetime_units</code> parameter specified in the process section of the ICT file.</div></li><li>
<a id="pgfId-57977"></a>Current Direction<br />
<a id="pgfId-59871"></a><code>current_direction [up | down | both]</code> can be specified for via current direction. The syntax of <code>current_direction</code> is:<ul><li>
<a id="pgfId-57978"></a><code>up</code> - means the direction of the current is from bottom to top and specifies to use the length and width of the metal below <code>Lb/Wb</code> for the VIA Jmax factor</li><li>
<a id="pgfId-57979"></a><code>down</code> - means the direction of the current is from top to bottom and specifies to use the length and width of the metal above Lu/Wu for VIA Jmax factor</li><li>
<a id="pgfId-57980"></a><code>both</code> - This rule is only applicable when the direction of the current is uncertain. This rule is unlikely to be applied since the software calculates the current direction</li></ul></li><li>
<a id="pgfId-58312"></a>Power Rail/Power Grid<br />
<a id="pgfId-59896"></a>The keyword <code>power_rail </code>or <code>power_grid </code>can be specified to enable the particular EM rule for power-rail analysis. When power-rail analysis is enabled, an EM rule with the <code>power_rail </code>or <code>power_grid </code>keyword will have a higher priority than any other rule.<pre class="webflare-pre-block webflare-courier-new" id="#id58313">
<a id="pgfId-58313"></a>em_jmax_dc_avg PWL 0.022 0.01 jmax_factor 105 1.1 110 1.0 115</pre><pre class="webflare-pre-block webflare-courier-new" id="#id58314">
<a id="pgfId-58314"></a>0.9 120 0.8 125 0.7 130 0.6 140 0.5 150 0.4 </pre><pre class="webflare-pre-block webflare-courier-new" id="#id58315">
<a id="pgfId-58315"></a>Lb &gt; 4 Wb &gt;= 0.05 current_direction up  </pre><pre class="webflare-pre-block webflare-courier-new" id="#id58316">
<a id="pgfId-58316"></a>power_rail  Lv2v &lt;= 5 Itolerance &lt;= 0.05</pre></li><li>
<a id="pgfId-58317"></a>ApplyR<br />
<a id="pgfId-59912"></a>The keyword <code>applyR</code> can be used to modify the threshold value of ratio &#8220;r&#8221; in AC-Peak analysis. The default value of this parameter is <code>0.05</code>. Modifying this parameter is useful in scenarios where the value of &#8220;<code>r</code>&#8221; is very small. A small &#8220;<code>r</code>&#8221; value results in an unreasonable increase in the <code>Ipeak_ac</code> limit. You can avoid such scenarios by resetting the value of &#8220;r&#8221; in the ICT file. For example:<pre class="webflare-pre-block webflare-courier-new" id="#id58318">
<a id="pgfId-58318"></a>em_jmax_ac_peak EQU 4.0 r &lt; 0.01 applyR 0.01</pre></li><li>
<a id="pgfId-68640"></a>Priority<br />
<a id="pgfId-68657"></a>Specifies the priority of a rule. It is an integer number. Currently the only value that is supported is <code>1</code>. The syntax is as follows:<pre class="webflare-pre-block webflare-courier-new" id="#id68856">
<a id="pgfId-68856"></a>priority==&lt;integer no.&gt;</pre><br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-68863"></a>The rule with <code>priority==1</code> is only enabled when the variable &#39;<code>powerRailRules=n10_special</code>&#39; is set and when the <code>power_grid</code> and <code>power_rail</code> keywords are also specified.</div></li><li>
<a id="pgfId-71208"></a>Device<br />
<a id="pgfId-71209"></a>This keyword is used to specify different EM rules for device resistors, which are subsets of other layers. The syntax is as follows:<pre class="webflare-pre-block webflare-courier-new" id="#id71210">
<a id="pgfId-71210"></a><code>device==&quot;device model names&quot;</code></pre>
<a id="pgfId-71211"></a>For example, the following keyword specifies that the particular EM rule is only applicable to device with the model names, &#8220;<code>devRA devRB</code>&#8221;.<pre class="webflare-pre-block webflare-courier-new" id="#id71212">
<a id="pgfId-71212"></a><code>device==&quot;devRA devRB&quot;</code></pre></li><li>
<a id="pgfId-71200"></a>Subconductor<br />
<a id="pgfId-68713"></a>This keyword is used to specify different EM rules for subconductors, which are subsets of poly or other layers. The syntax is as follows:<br />
<a id="pgfId-68778"></a><code>sub_conductor==&quot;subconductor names&quot;</code><br />
<a id="pgfId-68738"></a>For example, the following keyword specifies that the particular EM rule is only applicable to subconductor layers, <code>pploy</code> and <code>gpoly</code>.<br />
<a id="pgfId-68745"></a><code>sub_conductor==&quot;ppoly gpoly&quot;</code></li><li>
<a id="pgfId-68785"></a>br<a id="bridge_via"></a>idge_via<br />
<a id="pgfId-73891"></a>This keyword is used to specify that the particular EM rule will apply only to bridge vias.</li><li>
<a id="pgfId-74380"></a>Color<br />
<a id="pgfId-74381"></a>This keyword is used to specify that the particular EM rule is only applicable to the resistor with the specified color number.<br />
<a id="pgfId-74382"></a>For example,<br />
<a id="pgfId-74383"></a><code>color==&#8221;2 4 5&#8221;</code> specifies that the particular EM rule is only applicable to the resistor with property, <code>$M=2,$M=4</code>, or <code>$M=6</code>.</li><li>
<a id="pgfId-73884"></a>Masks<br />
<a id="pgfId-68795"></a>This keyword is used to specify that the particular EM rule is only applicable to the resistor with the specified mask number.<br />
<a id="pgfId-68822"></a>For example,<br />
<a id="pgfId-68829"></a><code>mask==2</code> specifies that the particular EM rule is only applicable to the resistor with property, <code>$M=2</code>.</li></ul>





























































































<h4>
<a id="pgfId-65162"></a><a id="72254"></a>Rules for Specifying Via Area</h4>

<p>
<a id="pgfId-65172"></a>You can specify PWL in either one of the following ways:</p>
<ul><li>
<a id="pgfId-65179"></a>Provide PWL for a specific area:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id65220">
<a id="pgfId-65220"></a><code>em_jmax_* PWL Value_1 area_1 &#8230; Value_N areaN</code></pre>
<a id="pgfId-65230"></a>For example, <pre class="webflare-pre-block webflare-courier-new" id="#id65237">
<a id="pgfId-65237"></a>em_jmax_* PWL 1.3 2.0 1.7 3.0 </pre></li><li>
<a id="pgfId-65275"></a>Provide PWL for a specified area range:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id65285">
<a id="pgfId-65285"></a>em_jmax_* EQU &lt;equation with &#39;a&#39;&gt; conditions</pre>
<a id="pgfId-65307"></a>For example,<pre class="webflare-pre-block webflare-courier-new" id="#id65328">
<a id="pgfId-65328"></a>em_jmax_* EQU (1.3 * a)/2.0  a&gt;=0.0 a&lt;2.5 </pre><pre class="webflare-pre-block webflare-courier-new" id="#id65329">
<a id="pgfId-65329"></a>em_jmax_* EQU (1.7 * a)/3.0  a&gt;=2.5 N&gt;=3</pre><pre class="webflare-pre-block webflare-courier-new" id="#id65330">
<a id="pgfId-65330"></a>em_jmax_* EQU (1.9 * a)/3.0  a&gt;=2.5 N&lt;3 </pre></li></ul>










<h4>
<a id="pgfId-67575"></a><a id="37648"></a>Rules for S<a id="RulesSpecifyingEMAnalysisType"></a>pecifying EM Analysis Type for Power and Ground Nets</h4>

<p>
<a id="pgfId-68139"></a>Set the variable, <a href="variables.html#90607"><h-hot>splitACDCRules</h-hot><code></code></a>, to <code>true</code> for specifying different rules for EM analysis of power and signal nets. You can set this variable in the following ways:</p>
<ul><li>
<a id="pgfId-68140"></a><code>setenv </code><a href="env_variables.html#76623">VOLTUSFI_SPLIT_ACDC_RULES<code></code></a><code> true</code></li><li>
<a id="pgfId-68350"></a><code>set_variable splitACDCRules true</code><br />
<a id="pgfId-68351"></a>When this variable is specified using the <code>set_variable</code> command, it takes priority over the <code>setenv</code> variable.</li><li>
<a id="pgfId-68156"></a>Set the variable, <a href="variables.html#90607">splitACDCRules</a> to <code>true</code> in the Variables form. You can open this form from the EM tab of the IR/EM Results form.</li></ul>



<p>
<a id="pgfId-68141"></a>The table below shows the rules for power and signal nets for both scenarios, when the variable is set and when it is not set.</p>

<h4>Table 8-3
<a id="pgfId-67619"></a>Rules for Power and Signal Nets</h4>
<p>
<a id="pgfId-67641"></a></p>
<table class="webflareTable" id="#id67649">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id68068">
<a id="pgfId-68068"></a>splitACDCRules false</span>
</th>
<th class="webflareTh" colspan="2" rowspan="1">
<span class="tbl-head" id="#id68070">
<a id="pgfId-68070"></a>                     splitACDCRules true</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id68074">
<a id="pgfId-68074"></a>Power and Signal Nets</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id68076">
<a id="pgfId-68076"></a>       Power Nets</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id68078">
<a id="pgfId-68078"></a>       Signal Nets</span>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-68080"></a><code>em_jmax_dc_peak</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-68082"></a><code>em_jmax_dc_peak</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-68084"></a><code>em_jmax_ac_peak</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-68086"></a><code>em_jmax_dc_avg</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-68088"></a><code>em_jmax_dc_avg</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-68090"></a><code>em_jmax_ac_avg</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-68092"></a><code>em_jmax_ac_rms</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-68094"></a><code>em_jmax_dc_rms</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-68096"></a><code>em_jmax_ac_rms</code></p>
</td>
</tr>
</tbody></table>
<h3>
<a id="pgfId-68898"></a><a id="85069"></a>EM R<a id="EMRuleSelection"></a>ule Selection Priority</h3>

<p>
<a id="pgfId-68912"></a>This section details the order of priority in which the EM rules are applied by Voltus-Fi-L based on the specified keywords. The order of priority of keywords in descending order is provided below:</p>
<ol><li>
<a id="pgfId-70250"></a>device --&gt; highest priority</li><li>
<a id="pgfId-71113"></a>sub_conductor </li><li>
<a id="pgfId-74033"></a>bridge_via</li><li>
<a id="pgfId-70318"></a>priority</li><li>
<a id="pgfId-70271"></a>power_grid/power_rail</li><li>
<a id="pgfId-74440"></a>color</li><li>
<a id="pgfId-70278"></a>mask</li><li>
<a id="pgfId-70285"></a>current_direction</li><li>
<a id="pgfId-70292"></a>Conditions</li><li>
<a id="pgfId-70299"></a>Area matching in case of PWL</li><li>
<a id="pgfId-70342"></a>Base rule</li><li>
<a id="pgfId-70349"></a>Optimistic/pessimistic rules --&gt; lowest priority</li></ol>











<p>
<a id="pgfId-70356"></a>These are detailed below.</p>
<ul><li>
<a id="pgfId-71142"></a><code>device</code> <br />
<a id="pgfId-71143"></a>When a device is specified in the EM rule file, the software first looks for the <code>device</code> keyword and applies the EM rules to the specified device. <br />
<a id="pgfId-71144"></a>For example, for a device with model name, <code>devRA</code>, if the following rules are specified in the ICT file:<pre class="webflare-pre-block webflare-courier-new" id="#id71145">
<a id="pgfId-71145"></a>1. em_jmax* &#8230;   device==&#8220;devRA&#8221;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id71146">
<a id="pgfId-71146"></a>2. em_jmax* &#8230;   device==&#8220;devRB&#8221;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id71147">
<a id="pgfId-71147"></a>3. em_jmax* &#8230;</pre>
<a id="pgfId-71148"></a>Then the software follows the order of priority provided below:<ul><li>
<a id="pgfId-71149"></a>Match rule 1 because it has a matching <code>device</code> keyword</li><li>
<a id="pgfId-71150"></a>Match rule 3 if rule 1 does not match</li><li>
<a id="pgfId-68919"></a>Skip rule 2 because it is for device, <code>devRB</code></li></ul></li><li>
<a id="pgfId-71185"></a><code>sub_conductor</code> <br />
<a id="pgfId-68960"></a>When a sub conductor is specified in the EM rule file, the software first looks for the <code>sub_conductor</code> keyword and applies the EM rules to the specified sub conductor. <br />
<a id="pgfId-68983"></a>For example, for a resistor on layer, <code>ppoly</code>, if the following rules are specified in the ICT file:<pre class="webflare-pre-block webflare-courier-new" id="#id68961">
<a id="pgfId-68961"></a>1. em_jmax* &#8230;   sub_conductor==&#8220;ppoly&#8221;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id68998">
<a id="pgfId-68998"></a>2. em_jmax* &#8230;   sub_conductor==&#8220;gpoly&#8221;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id69011">
<a id="pgfId-69011"></a>3. em_jmax* &#8230;</pre>
<a id="pgfId-69037"></a>Then the software follows the order of priority provided below:<ul><li>
<a id="pgfId-69050"></a>Match rule 1 because it has a matching <code>sub_conductor </code>keyword</li><li>
<a id="pgfId-69079"></a>Match rule 3 if rule 1 does not match</li><li>
<a id="pgfId-69065"></a>Skip rule 2 because it is for sub conductor, <code>gpoly</code></li></ul></li><li>
<a id="pgfId-73946"></a><code>bridge_via</code><br />
<a id="pgfId-73954"></a>When a <code>bridge_via</code> is specified in the EM rule file, the software first looks for the <code>bridge_via</code> keyword and applies the EM rules having <code>bridge_via</code> keyword for the bridge via. In case, the via is not bridge via, rules having <code>bridge_via</code> keyword will be ignored. <br />
<a id="pgfId-73955"></a>For example, for a bridge via, if the following rules are specified in the ICT file:<pre class="webflare-pre-block webflare-courier-new" id="#id74007">
<a id="pgfId-74007"></a>1. em_jmax* &#8230; bridge_via</pre><pre class="webflare-pre-block webflare-courier-new" id="#id73957">
<a id="pgfId-73957"></a>2. em_jmax* &#8230; </pre>
<a id="pgfId-73959"></a>Then the software follows the order of priority provided below:<ul><li>
<a id="pgfId-73960"></a>Match rule 1 because it is a bridge via</li><li>
<a id="pgfId-73961"></a>Match rule 2 if rule 1 does not match</li></ul><br />
<a id="pgfId-73947"></a>In case, the via is not bridge via, then the software will match rule 2. </li><li>
<a id="pgfId-73948"></a><code>priority</code> <br />
<a id="pgfId-69125"></a>When a priority is specified in the EM rule file, in the following manner:<pre class="webflare-pre-block webflare-courier-new" id="#id69150">
<a id="pgfId-69150"></a>1. em_jmax* &#8230;   priority==1    </pre><pre class="webflare-pre-block webflare-courier-new" id="#id69151">
<a id="pgfId-69151"></a>2. em_jmax* &#8230;</pre>
<a id="pgfId-69142"></a>Then the software follows the order of priority provided below:<ul><li>
<a id="pgfId-69199"></a>Match rule 1 when <code>powerRailRules=n10_special</code> is set</li><li>
<a id="pgfId-69213"></a>Match rule 2 if rule 1 does not match</li></ul></li><li>
<a id="pgfId-69222"></a><code>power_rail/power_grid</code> <br />
<a id="pgfId-69239"></a>When the <code>power_rail/power_grid</code> keyword is specified in the EM rule file, in the following manner:<pre class="webflare-pre-block webflare-courier-new" id="#id69257">
<a id="pgfId-69257"></a>1. em_jmax* &#8230;   power_grid    </pre><pre class="webflare-pre-block webflare-courier-new" id="#id69258">
<a id="pgfId-69258"></a>2. em_jmax* &#8230;</pre>
<a id="pgfId-69249"></a>Then the software follows the order of priority provided below:<ul><li>
<a id="pgfId-69310"></a>Match rule 1 when the power grid analysis is enabled</li><li>
<a id="pgfId-69302"></a>Match rule 2 if rule 1 does not match</li></ul></li><li>
<a id="pgfId-74448"></a><code>color</code><br />
<a id="pgfId-74449"></a>When the <code>color</code> keyword is specified in the EM rule file, in the following manner:<pre class="webflare-pre-block webflare-courier-new" id="#id74450">
<a id="pgfId-74450"></a>1. em_jmax* &#8230;   color==&#8221;1 3 5&#8221; </pre><pre class="webflare-pre-block webflare-courier-new" id="#id74451">
<a id="pgfId-74451"></a>2. em_jmax* &#8230;</pre>
<a id="pgfId-74452"></a>For example, if a resistor has color number 5, specified using <code>$M=5</code>, then the software follows the order of priority provided below:<ul><li>
<a id="pgfId-74453"></a>Match rule 1 for the specified color number</li><li>
<a id="pgfId-74454"></a>Match rule 2 if rule 1 does not match</li></ul></li><li>
<a id="pgfId-70435"></a><code>mask</code><br />
<a id="pgfId-70436"></a>When the <code>mask</code> keyword is specified in the EM rule file, in the following manner:<pre class="webflare-pre-block webflare-courier-new" id="#id70437">
<a id="pgfId-70437"></a>1. em_jmax* &#8230;   mask==2 </pre><pre class="webflare-pre-block webflare-courier-new" id="#id69348">
<a id="pgfId-69348"></a>2. em_jmax* &#8230;</pre>
<a id="pgfId-69349"></a>For example, if a resistor has mask number 2, specified using <code>$M=2</code>, then the software follows the order of priority provided below:<ul><li>
<a id="pgfId-69350"></a>Match rule 1 for the specified mask number</li><li>
<a id="pgfId-69338"></a>Match rule 2 if rule 1 does not match</li></ul></li><li>
<a id="pgfId-69423"></a><code>current_direction</code><br />
<a id="pgfId-69424"></a>When the <code>current_direction</code> keyword is specified in the EM rule file, in the following manner:<pre class="webflare-pre-block webflare-courier-new" id="#id69380">
<a id="pgfId-69380"></a>1. em_jmax* &#8230;   current_direction up</pre><pre class="webflare-pre-block webflare-courier-new" id="#id69399">
<a id="pgfId-69399"></a>2. em_jmax* &#8230;   current_direction down</pre><pre class="webflare-pre-block webflare-courier-new" id="#id69381">
<a id="pgfId-69381"></a>3. em_jmax* &#8230;</pre>
<a id="pgfId-69382"></a>Then, for a resistor with <code>current_direction up</code>, the software follows the order of priority provided below:<ul><li>
<a id="pgfId-69383"></a>Match rule 1 because it has a matching <code>current_direction</code> keyword</li><li>
<a id="pgfId-69434"></a>Match rule 3 if rule 1 does not match</li><li>
<a id="pgfId-69370"></a>Skip rule 2 because the current direction is not matching</li></ul></li><li>
<a id="pgfId-69466"></a>Conditions<br />
<a id="pgfId-69467"></a>When conditions are specified in the EM rule file, in the following manner:<pre class="webflare-pre-block webflare-courier-new" id="#id69499">
<a id="pgfId-69499"></a>1. em_jmax* &#8230;   L &lt;=5</pre><pre class="webflare-pre-block webflare-courier-new" id="#id69500">
<a id="pgfId-69500"></a>2. em_jmax  &#8230;   L &gt; 5</pre><pre class="webflare-pre-block webflare-courier-new" id="#id69468">
<a id="pgfId-69468"></a>3. em_jmax* &#8230;</pre>
<a id="pgfId-69471"></a>Then the software follows the order of priority provided below:<ul><li>
<a id="pgfId-69472"></a>Match rules 1 and 2 because conditions are specified</li><li>
<a id="pgfId-69454"></a>Match rule 3 if rules 1 and 2 are not matching</li></ul></li><li>
<a id="pgfId-69596"></a>Area Matching from the PWL<br />
<a id="pgfId-69669"></a>When the PWL for specific via areas are specified in the EM rule file, in the following manner:<pre class="webflare-pre-block webflare-courier-new" id="#id69670">
<a id="pgfId-69670"></a>1. em_jmax* &#8230;   PWL AREA_1  VAL_1   AREA_2  VAL_2   L &lt;=5 </pre><pre class="webflare-pre-block webflare-courier-new" id="#id69671">
<a id="pgfId-69671"></a>2. em_jmax  &#8230;   PWL AREA_3  VAL_3   AREA_4  VAL_4   L &lt;=5</pre>
<a id="pgfId-69635"></a>Then the software follows the order of priority provided below:<ul><li>
<a id="pgfId-69602"></a>Match the exact areas provided in the rule file</li><li>
<a id="pgfId-69603"></a>The software does not interpolate for unmatched areas (areas other than <code>AREA_1, AREA_2, AREA_3, </code>and <code>AREA_4</code> in above example)</li></ul></li><li>
<a id="pgfId-69735"></a>Base Rule Selection<br />
<a id="pgfId-69736"></a>When the PWL for specific via area is specified in the EM rule file, without any conditions in the following manner:<pre class="webflare-pre-block webflare-courier-new" id="#id69737">
<a id="pgfId-69737"></a>em_jmax* &#8230;   PWL AREA_1 VAL_1   AREA_2  VAL_2 </pre>
<a id="pgfId-69739"></a>Then the software follows the order of priority provided below:<ul><li>
<a id="pgfId-69740"></a>Match the exact areas from the base rule</li><li>
<a id="pgfId-69741"></a>The software does not interpolate for unmatched areas (areas other than <code>AREA_1</code> and <code>AREA_2</code> in above example)</li></ul></li><li>
<a id="pgfId-69781"></a>Optimistic/Pessimistic Rule Selection<br />
<a id="pgfId-69802"></a>When multiple rules are selected after all conditions match, the software selects the optimistic/pessimistic value based on whether the variable, <code>optimisticEMRuleSelection</code>, is set to <code>true</code> or <code>false.</code><br />
<a id="pgfId-69845"></a>By default, the software selects the pessimistic value.<br />
<a id="pgfId-70506"></a>For example, when the following rule set is provided:<pre class="webflare-pre-block webflare-courier-new" id="#id70507">
<a id="pgfId-70507"></a>1. em_jmax*   EQU   1.5    &#8230;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id70508">
<a id="pgfId-70508"></a>2. em_jmax*   EQU   3.5    &#8230;</pre><pre class="webflare-pre-block webflare-courier-new" id="#id70509">
<a id="pgfId-70509"></a>3. em_jmax*   EQU   2.5    &#8230;</pre><ul><li>
<a id="pgfId-70510"></a>Rule 1 is selected by default because it is more pessimistic as compared to rules 2 and 3</li><li>
<a id="pgfId-70511"></a>When the variable, <code><a href="variables.html#23647">optimisticEMRuleSelection</a><code></code>,</code> is set to <code>true</code>, then rule 2 is selected because it is more optimistic as compared to the other rules</li><li>
<a id="pgfId-70512"></a>Rule 2 is skipped because it is neither the most pessimistic nor the most optimistic</li></ul></li></ul>

































































































<h4>
<a id="pgfId-70527"></a>Example</h4>

<p>
<a id="pgfId-70673"></a>Consider the two scenarios provided below for EM rule selection.</p>
<p>
<a id="pgfId-70549"></a>The given rule set is as follows:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-70610"></a><code>1. em_jmax*&#8230; current_direction up L&gt;=5</code></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-70611"></a><code>2. em_jmax*&#8230; current_direction up L&lt;5</code></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-70612"></a><code>3. em_jmax*&#8230; current_direction down L&gt;=5</code></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-70602"></a><code>4. em_jmax*&#8230; L&lt;5</code></pre>

<p>
<a id="pgfId-70557"></a>Case 1: EM rule selection for a resistor with current direction &#8220;<code>up</code>&#8221; and with <code>L==3</code> will be as follows:</p>
<ul><li>
<a id="pgfId-70559"></a>The tool will select rules 1 and 2 because they match the current direction &#8220;<code>up</code>&#8221;</li><li>
<a id="pgfId-70560"></a>Of the two selected rules, the tool will discard rule 1 because of the non-matching condition, <code>L&gt;=5</code> and it will select rule 2 because of the condition, <code>L==3</code>, which matches the condition <code>L&lt;5</code></li></ul>

<p>
<a id="pgfId-70561"></a>The final rule selection in Case 1 will be rule 2.</p>
<p>
<a id="pgfId-70564"></a>Case 2: EM rule selection for a resistor with current direction &#8220;<code>down</code>&#8221; and <code>L==2</code> will be as follows:</p>
<ul><li>
<a id="pgfId-70566"></a>The tool will first select rule 3 as it matches the current direction &#8220;<code>down</code>&#8221;</li><li>
<a id="pgfId-70567"></a>The tool will then discard the selected rule 3 because of the non-matching condition, <code>L&gt;=5</code></li><li>
<a id="pgfId-70568"></a>The tool will then select rule 4 from the remaining rules, as rule 4 does not have any current direction condition but it matches the condition, <code>L&lt;5</code></li></ul>


<p>
<a id="pgfId-70770"></a>The final rule selection in Case 2 will be rule 4.</p>

<h3>
<a id="pgfId-68964"></a><a id="76528"></a>EM Rules in EM<a id="marker-68963"></a> Data File</h3>

<p>
<a id="pgfId-61194"></a>An EM data file specifies the technology information, such as Current Density limits, and provides a mapping between the layers for highlighting. </p>
<p>
<a id="pgfId-77926"></a>Single line comments can be added by beginning the line with a semicolon (&#8216;<code>;</code>&#8217;). For example:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-77927"></a>; This is a comment line</pre>

<p>
<a id="pgfId-77914"></a>For a sample EM Data file, see <h-hot><a actuate="user" class="URL" href="../voltusFIXL/fileformats.html#EMDataFile" show="replace" xml:link="simple">EM Data File</a></h-hot> in the &#8220;File Formats&#8221; chapter of the <em>Voltus-Fi Custom Power Integrity Solution XL User Guide</em>.</p>

<h4>
<a id="pgfId-77420"></a><a id="96227"></a>EM Rules Specifications Supported in EmData File</h4>

<p>
<a id="pgfId-77421"></a>The EM Rule specifications supported in Voltus-Fi-L are listed below:</p>
<ul><li>
<a id="pgfId-77422"></a><code>currentDensityMPV</code>: Specifies the Current Density of via in milliamps per via instead of the standard milliamps per micron.</li><li>
<a id="pgfId-77423"></a><code>deltaT</code>: Specifies the maximum rise in temperature in degree Celsius, caused due to Joule heating. It must be a positive value. If you do not specify the rise in temperature, Voltus-Fi-L considers a default temperature of 5 degrees Celsius. This is an ideal condition where the design must be EM free.

<code>deltaT</code> can be used in defining the Current Density limit: <code>Irms</code><br />
<a id="pgfId-77424"></a>For example,<pre class="webflare-pre-block webflare-courier-new" id="#id77425">
<a id="pgfId-77425"></a>(nil layer &quot;M1&quot; minW 0.09 maxW 12.0 currentDensity </pre><pre class="webflare-pre-block webflare-courier-new" id="#id77426">
<a id="pgfId-77426"></a>(((sqrt(18.33*deltaT*(w-.016)*(w-.016)*(w-.016+.352)/(w-.016+.0443) )/w), 110)))</pre></li><li>
<a id="pgfId-77427"></a><code>recoveryFactor</code>: Calculates the effective DC electromigration in bipolar current wave forms. This accounts for some &#39;sweep back recovery&#39; of EM during the negative portion of the current wave form. The recovery factor is specified in the EM Rules specification file as:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id77428">
<a id="pgfId-77428"></a>recoveryFactor=&lt;<code><em>value</em></code>&gt;</pre>
<a id="pgfId-77429"></a>where the user-specified value ranges from 0 to 1.0.<br />
<a id="pgfId-77430"></a>The following equation shows how the recovery factor is used by the software while calculating the total average EM current:<pre class="webflare-pre-block webflare-courier-new" id="#id77431">
<a id="pgfId-77431"></a>I (avg) = max( I+, I- ) - (recovery factor)* min( I+, I-)</pre>
<a id="pgfId-77432"></a>where <code>I+</code> is the average of <code>I</code> in the positive direction and <code>I-</code> is the average of <code>I</code> in the negative direction</li><li>
<a id="pgfId-77433"></a><code>recoveryFactorList</code>: Specifies the list of layers and the corresponding recovery factors to be used for these layers during EM analysis. The following example shows how different recovery factors are specified for layers, <code>Via1</code> and <code>mt1</code>.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id77434">
<a id="pgfId-77434"></a>recoveryFactorList=((&quot;Via1&quot; 0.7) (&quot;mt1&quot; 0.3))</pre><br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-77435"></a>If both <code>recoveryFactor</code> and <code>recoveryFactorList</code> are specified, the list of layers and their corresponding values specified using the <code>recoveryFactorList</code> keyword will get preference.</div></li><li>
<a id="pgfId-77436"></a><code>cadGrid</code>: Specifies the minimum width of parasitic resistor. The unit of measurement is micrometer (<code>um</code>) or micron.</li><li>
<a id="pgfId-77437"></a><code>routingLayers</code>: The routing layers are the names of the DFII layers that are used for routing. Include only the poly and metals. An example follows:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id77438">
<a id="pgfId-77438"></a>routingLayers = (&quot;poly1&quot; &quot;m1&quot; &quot;m2&quot; &quot;m3&quot; &quot;m4&quot; &quot;m5&quot; &quot;m6&quot; &quot;m7&quot; &quot;m8&quot; &quot;m9&quot; &quot;MD&quot;)</pre></li><li>
<a id="pgfId-77439"></a><code>viaLayers</code>: Specifies the DFII layer name of via layers.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id77440">
<a id="pgfId-77440"></a>( Metal1      Cont            Poly       )  // the via layer is Cont</pre>
<a id="pgfId-77441"></a>An example of the viaLayers syntax follows:<pre class="webflare-pre-block webflare-courier-new" id="#id77442">
<a id="pgfId-77442"></a>viaLayers=(&quot;cw&quot; &quot;v1&quot; &quot;v2&quot; &quot;v3&quot; &quot;v4&quot; &quot;v5&quot; &quot;v6&quot; &quot;v7&quot; &quot;v8&quot;)</pre></li><li>
<a id="pgfId-77443"></a><code>xrefLayers</code>: These are the cross-reference layers that provide mapping between the Quantus QRC layer name, Current Density name, and the DFII layer name. If a layer is not present in <code>xreflayers</code> mapping, its DFII name is used as the Current Density name and Quantus QRC name.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id77444">
<a id="pgfId-77444"></a>((&quot;QRCName&quot; (&quot;currentDensityName&quot; &quot;DFIIName&quot;))</pre></li><li>
<a id="pgfId-77445"></a><code>CurrentDensSpecList</code>: Refers to the Current Density specification declared by the foundry. The syntax allows one layer to support two different Current Density specifications according to the width of the material. The following Current Density specifications are provided in the emDataFile: <code>avgCurrentDensSpecList, avgAbsCurrentDensSpecList, rmsCurrentDensSpecList, DCrmsCurrentDensSpecList, peakCurrentDensSpecList, and ACpeakCurrentDensSpecList</code><br />
<a id="pgfId-77446"></a>The following optional parameters are supported:<br />
<a id="pgfId-77447"></a><code>minW, maxW, minL, maxL, minLu, maxLu, minWu, maxWu, minWb, maxWb, minLb, maxLb</code></li><li>
<a id="pgfId-77448"></a>Layer Stack: The layerstack contains a list of layer names and corresponding upper metal and bottom metal layer names.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id77449">
<a id="pgfId-77449"></a><code><em>((&quot;LayerName&quot; (&quot;upperMetalLayerName&quot; &quot;bottomMetalLayerName&quot;))</em></code></pre><ul><li>
<a id="pgfId-77450"></a><span class="webflare-courier-new" style="white-space:pre"><em>LayerName</em></span> is the layer name specified in the extracted view</li><li>
<a id="pgfId-77451"></a><span class="webflare-courier-new" style="white-space:pre"><em>upperMetalLayerName</em></span> is the upper metal layer name in the extracted view</li><li>
<a id="pgfId-77452"></a><span class="webflare-courier-new" style="white-space:pre"><em>bottomMetalLayerName</em></span> is the bottom metal layer name in the extracted view</li></ul></li><li>
<a id="pgfId-77453"></a><code>viaWidthList</code>: Specifies the minimum via width. For example:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id77454">
<a id="pgfId-77454"></a>viaWidthList=((&quot;Cont&quot; 0.2)(&quot;Via1&quot; 0.2))</pre>
<a id="pgfId-77455"></a>Where,<br />
<a id="pgfId-77456"></a><code>Cont</code> is the DFII name of via layer.<br />
<a id="pgfId-77457"></a><code>0.2</code> is the minimum width of the default via for this layer.</li><li>
<a id="pgfId-77459"></a><code>extViaWidthList</code>: Specifies the minimum via width. For example:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id77460">
<a id="pgfId-77460"></a>extViaWidthList=((&quot;extCont&quot; 0.2)(&quot;extVia1&quot; 0.2))</pre>
<a id="pgfId-77461"></a>Where<br />
<a id="pgfId-77462"></a><code>extCont</code> is the Quantus QRC (Extraction) name of via layer.<br />
<a id="pgfId-77463"></a><code>0.2</code> is the minimum width of the default via for this layer.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-77464"></a><code>viaWidthList</code> will be ignored if <code>extViaWidthList</code> is specified. </div></li><li>
<a id="pgfId-77465"></a><code>DesignResistors</code>: Specifies the list of design resistor cell names. For each cell name, you can specify the resistor property name, width property name, length property name, and units for width and length property names for which the design resistors are to be analyzed. Specifying the resistor property name, width property name, length property name, and unit name is optional. If any of these property names is not specified, the software uses &#8220;r&#8221;, &#8220;w&#8221;, &#8220;l&#8221;, and &#8220;meter&#8221;, respectively, as the default values for these properties.<br />
<a id="pgfId-77466"></a>The width and length property names are specified when the names of these properties are different from the &#8220;w&#8221; and &#8220;l&#8221; in the extracted view.<br />
<a id="pgfId-77467"></a>Syntax:<pre class="webflare-pre-block webflare-courier-new" id="#id77468">
<a id="pgfId-77468"></a>DesignResistors = (&quot;CellName1&quot; &quot;CellName2&quot; &quot;CellName3&quot;)
DesignResistors = (&quot;CellName.*&quot;)</pre></li><li>
<a id="pgfId-77469"></a><code>junctionTemp</code>: Specifies the temperature to be used for EM analysis. Used as <code>tj</code> in ICT.</li><li>
<a id="pgfId-77470"></a><code>applyRThreshold</code>: Specifies the threshold ratio <code>&#8220;</code>r<code>&#8221;</code> for AC-Peak analysis. The default value of threshold ratio is <code>0.05</code>.</li><li>
<a id="pgfId-77471"></a><code>rmsMultiplierPin</code>: Specifies the RMS relaxation factor for EM power-grid analysis. The default value is <code>1.0</code>.</li><li>
<a id="pgfId-77472"></a><code>rmsMultiplierSignal</code>: Specifies the RMS relaxation factor for signal EM analysis. The default value is <code>1.0</code>.</li></ul>


















































<h4>
<a id="pgfId-77476"></a><a id="47072"></a>EM Rules Specifications not Supported in Voltus-Fi-L</h4>

<ul><li>
<a id="pgfId-77477"></a><code>Jmaxlife</code>: Specifies the scaling factor that applies to the Current Density limits for different lifetimes.</li><li>
<a id="pgfId-77478"></a><code>BulkTerminal</code>: Specifies the bulk terminals of the design resistors that are to be ignored while performing EM analysis.</li><li>
<a id="pgfId-77479"></a><code>minI</code>: Used to limit the reporting of small currents which are of little or no interest.</li><li>
<a id="pgfId-77480"></a><code>durationTime</code>: Specifies the maximum time period for which violations are allowed.</li><li>
<a id="pgfId-77481"></a><code>technologyNode</code>: Specifies the technology-dependent calculation. </li><li>
<a id="pgfId-77482"></a><code>viaLengthList</code>: Specifies the via length. </li><li>
<a id="pgfId-77483"></a><code>extViaLengthList</code>: Specifies the via length. It get preference over viaLengthList. </li><li>
<a id="pgfId-77484"></a><code>selectResistors</code>: Selects resistors by their names. All other resistors will be ignored for the analysis. </li><li>
<a id="pgfId-77485"></a><code>selectLayers</code>: Selects resistors based on the extracted layer name. All resistors on other layers will be ignored for the analysis. </li><li>
<a id="pgfId-77486"></a><code>ignoreLayers</code>: Ignores resistors based on the extracted layer name. All resistors on other layers will be selected for the analysis.</li><li>
<a id="pgfId-77487"></a><code>ignoreResistors</code>: Ignores resistors by their name. All other resistors will be selected for the analysis. </li><li>
<a id="pgfId-77488"></a><code>meshR</code>: Specifies regions for mesh resistance extraction. </li><li>
<a id="pgfId-77489"></a><code>fracture_vias</code>: Specifies whether or not there are dummy vias present. </li><li>
<a id="pgfId-77490"></a><code>Thickness</code>: Specifies the thickness of the layers.</li></ul>














<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="emanalysis.html" id="prev" title="EM Analysis Results">EM Analysis Results</a></em></b><b><em><a href="app_functions.html" id="nex" title="SKILL Functions">SKILL Functions</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2020, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>