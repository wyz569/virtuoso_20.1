
<html><head><title>Package Design Translation Using Allegro Translators (ICADVM20.1 Virtuoso MultiTech Framework Only)</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="sumehta" />
<meta name="CreateDate" content="2020-09-19" />
<meta name="CreateTime" content="1600501881" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="This manual contains information about the following Cadence translators: Stream In, Stream Out, SpiceIn, CDL Out, LEF In, LEF Out, DEF In, DEF Out, Import from Allegro and Export to Allegro." />
<meta name="DocTitle" content="Design Data Translators Reference" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Package Design Translation Using Allegro Translators (ICADVM20.1 Virtuoso MultiTech Framework Only)" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.2.1" />
<meta name="Keyword" content="transrefOA" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2020-09-19" />
<meta name="ModifiedTime" content="1600501881" />
<meta name="NextFile" content="appA.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Cadence Shared Tools" />
<meta name="PrevFile" content="chap5.html" />
<meta name="c_product" content="Virtuoso Layout Suite,Virtuoso Schematic Editor,Virtuoso Analog Design Environment" />
<meta name="Product" content="Virtuoso Shared Tools" />
<meta name="ProductFamily" content="Virtuoso Shared Tools" />
<meta name="ProductVersion" content="ICADVM20.1" />
<meta name="RightsManagement" content="Copyright 2012-2020 Cadence Design Systems Inc." />
<meta name="Title" content="Design Data Translators Reference -- Package Design Translation Using Allegro Translators (ICADVM20.1 Virtuoso MultiTech Framework Only)" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="ICADVM20.1" />
<meta name="SpaceKey" content="transrefOAICADVM201" />
<meta name="webflare-version" content="2.0" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="transrefOATOC.html">Contents</a></li><li><a class="prev" href="chap5.html" title="Design Translation Using LEF/DEF Translator">Design Translation Using LEF/D ...</a></li><li style="float: right;"><a class="viewPrint" href="transrefOA.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="appA.html" title="Stream Format">Stream Format</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Design Data Translators Reference<br />Product Version ICADVM20.1, October 2020</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>7
<a id="pgfId-1348914"></a> </h1>
<h1>
<a id="pgfId-1348916"></a><hr />
Package Design Translation Using Allegro Translators (ICADVM20.1 Virtuoso MultiTech Framework Only)<hr />
</h1>

<p>
<a id="pgfId-1387405"></a>This chapter contai<a id="allegrotranslator"></a>ns the following sections:</p>
<ul><li>
<a id="pgfId-1407749"></a><a href="allegro.html#28287">Introduction to Allegro Translator</a></li><li>
<a id="pgfId-1395952"></a><a href="allegro.html#59591">Using the Allegro Translator</a></li><li>
<a id="pgfId-1407775"></a><a href="allegro.html#61123">Methods Used to Perform Package Design Translation</a></li><li>
<a id="pgfId-1407782"></a><a href="allegro.html#81782">Import Allegro File Form</a></li><li>
<a id="pgfId-1407799"></a><a href="allegro.html#83151">Export Allegro File Form</a></li><li>
<a id="pgfId-1407848"></a><a href="allegro.html#31882">Design Object Mapping</a></li><li>
<a id="pgfId-1424847"></a><a href="allegro.html#16609">Translating Parametrized Tline Cells</a></li><li>
<a id="pgfId-1407855"></a><a href="allegro.html#86771">Data Model Mapping</a></li><li>
<a id="pgfId-1411795"></a><a href="allegro.html#54696">Layer Mapping</a></li><li>
<a id="pgfId-1421715"></a><a href="allegro.html#40543">Troubleshooting Allegro File Translation Issues</a></li></ul>










<h2>
<a id="pgfId-1387406"></a><a id="28287"></a>Introduction to Allegro Translator</h2>

<p>
<a id="pgfId-1387820"></a>VRF is a schematic-driven layout flow in Virtuoso. The technology lets you use Virtuoso to create and edit package schematics and layouts. Package design and implementation are done in Allegro, which supports objects such as SMD (Surface Mounted Devices), padstacks, dies, bondwires, and bondwire fingers.</p>
<p>
<a id="pgfId-1387821"></a>If the package implementation is initiated in Allegro and continued in Virtuoso, the Allegro Import translator maps these Allegro concepts into instances of Pcells. The supermasters are provided in a generic library and are also used when the package implementation is initiated in Virtuoso. During instance creation, CDF parameters are used to bind instance parameters to appropriate values.</p>
<p>
<a id="pgfId-1387822"></a>Since Virtuoso does not have all the features to finish the package, implementation needs to be finished in Allegro. Layout data is transferred from Virtuoso to Allegro using the Allegro Export translator. The Allegro Export translator maps the parameters on the Pcell instances back to the Allegro objects. </p>

<h2>
<a id="pgfId-1388309"></a><a id="59591"></a>Using the Allegro Translator</h2>

<p>
<a id="pgfId-1388964"></a>Allegro translator enables you to translate the following Allegro files:</p>
<ul><li>
<a id="pgfId-1414053"></a>Cadence SiP Layout (.sip) </li><li>
<a id="pgfId-1389468"></a>Allegro Package Designer (.mcm) </li><li>
<a id="pgfId-1389372"></a>Technology file with layer stack up and constraint information</li><li>
<a id="pgfId-1412599"></a>Catalog of DRA </li><li>
<a id="pgfId-1389453"></a>A board or package file created in Allegro PCB Layout (.brd)</li></ul>




<p>
<a id="pgfId-1388320"></a>Where, </p>
<ul><li>
<a id="pgfId-1401809"></a>A single SiP (sip, mcm, .brd) file or technology file is converted into an OpenAccess database. </li><li>
<a id="pgfId-1401898"></a>A catalog of DRA are converted into base cellviews. </li></ul>


<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1422194"></a>This tool works with cdnsip version 17.20.052 or later. </div>

<p>
<a id="pgfId-1402037"></a>Allegro Import involves the following two phases:</p>
<ol><li>
<a id="pgfId-1402070"></a>In the first phase, the SiP file is read in the cdsnip tool that creates an intermediate file containing all the necessary information. </li><li>
<a id="pgfId-1402239"></a>The Allegro Import translator reads this file and creates the OpenAccess database in Virtuoso. <br />
<a id="pgfId-1402347"></a>User can now edit this database in Virtuoso. </li></ol>


<p>
<a id="pgfId-1402673"></a>Allegro Export also involves two phases, which are the following:</p>
<ol><li>
<a id="pgfId-1402741"></a>The updated OpenAccess database is read in Virtuoso and an intermediate file is created. </li><li>
<a id="pgfId-1402853"></a>The cdnsip tool is invoked to read this intermediate file and create the Allegro file or a DRA catalog. <br />
<a id="pgfId-1387748"></a><div class="webflare-div-image">
<img width="668" height="237" src="images/allegro-2.gif" /></div></li></ol>




<h2>
<a id="pgfId-1387947"></a><a id="61123"></a>Methods Used to Perform Package Design Translation</h2>

<p>
<a id="pgfId-1387412"></a>You can translate package design files by using the Allegro translators accessible through a Graphical User Interface (GUI). </p>
<p>
<a id="pgfId-1395557"></a>To translate an Allegro package file to Virtuoso, launch:</p>
<ul><li>
<a id="pgfId-1395737"></a><a href="allegro.html#81782">Import Allegro File Form</a></li></ul>
<p>
<a id="pgfId-1395758"></a>To export a file from Virtuoso to an Allegro package file, launch:</p>
<ul><li>
<a id="pgfId-1395829"></a><a href="allegro.html#83151">Export Allegro File Form</a></li></ul>

<h2>
<a id="pgfId-1387415"></a><a id="81782"></a>Import All<a id="allegroImport"></a>egro File Form</h2>

<p>
<a id="pgfId-1388856"></a>To launch Allegro Import translator and display the Import Allegro File form, select the <em>File &#8211; Import &#8211; From Allegro </em>option from the CIW. </p>
<p>
<a id="pgfId-1390103"></a>This section describes the various options on the Import Allegro File form. </p>

<h3>
<a id="pgfId-1387417"></a><a id="21869"></a>Import Mode</h3>

<p>
<a id="pgfId-1390180"></a>Use the <em>Import Mode</em> option to specify the mode that you want to use to import package design files from Allegro:</p>
<ul><li>
<a id="pgfId-1390661"></a><a href="allegro.html#34340">Layout(sip/mcm/brd)</a></li><li>
<a id="pgfId-1390782"></a><a href="allegro.html#64800">Technology Information (sip/mcm/brd)</a></li><li>
<a id="pgfId-1390793"></a><a href="allegro.html#48467">DRA Files</a></li></ul>



<h4>
<a id="pgfId-1387418"></a><a id="34340"></a>Layout(sip/mcm/brd)</h4>
<p>
<a id="pgfId-1394649"></a></p>
<div class="webflare-div-image">
<img width="668" height="558" src="images/allegro-3.gif" /></div>

<p>
<a id="pgfId-1390165"></a>The <em>Layout(sip/mcm/brd)</em> option lets you import the design from Allegro into Virtuoso. This is the default option.</p>

<h4><em>
<a id="pgfId-1390924"></a>Allegro File</em></h4>

<p>
<a id="pgfId-1394315"></a>Specify the <em>Allegro File</em> to be imported to Virtuoso. For example, <code>./sip_files/PKG_TOP4.sip</code>. You can also use the <em>File Browser</em> button to select the Allegro file. </p>
<p>
<a id="pgfId-1394316"></a>A typical Allegro file contains BGA cells, the vias to be used for package routing, and the technology file used in SiP. The technology file is compiled into the Virtuoso technology database. </p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1391972"></a>The package technology file is not the same as the Virtuoso technology file. </div>
<h4><em>
<a id="pgfId-1387420"></a>Library</em></h4>

<p>
<a id="pgfId-1390164"></a>Use the <em>Library </em>field to specify the target library where data is to be translated. The library name should be a logical name and follow the naming conventions supported by OpenAccess. For example, <code>VRF_PKG_TOP</code>. You can also select an existing library as the target library from the drop-down list.</p>

<h4><em>
<a id="pgfId-1392191"></a>Overwrite Components and Technology Information</em></h4>

<p>
<a id="pgfId-1392268"></a>Select the <em>Overwrite Components and Technology Information </em>option to overwrite all the existing information in the target library during translation. This option is disabled by default and is enabled only when you select an existing library file, as shown below:</p>

<p>
<a id="pgfId-1404771"></a></p>
<div class="webflare-div-image">
<img width="668" height="160" src="images/allegro-4.gif" /></div>

<p>
<a id="pgfId-1403755"></a>This option enables you to import files from Allegro in the following two modes:</p>
<ul><li>
<a id="pgfId-1404292"></a><strong>Incremental mode</strong> when the <em>Overwrite Components and Technology Information </em>option is deselected.<br />
<a id="pgfId-1404245"></a>As stated earlier, not all updates related to a package can be done in Virtuoso. Therefore, you need to frequently import and export package designs between Allegro and Virtuoso. The default incremental mode enables you to update the existing library file every time you import a package design from Allegro. </li><li>
<a id="pgfId-1404292"></a><strong>Non-incremental mode</strong> when the <em>Overwrite Components and Technology</em> is selected.<br />
<a id="pgfId-1403753"></a>In this mode, the contents of the selected library file are overwritten during import. </li></ul>




<h4><em>
<a id="pgfId-1387421"></a>Schematics Reference</em></h4>

<p>
<a id="pgfId-1392404"></a>Expand the <em>Schematics Reference </em>section to specify whether you want to import the schematics-related information in the layout. </p>
<ul><li>
<a id="pgfId-1387422"></a><strong>None
</strong>Specify the None option if you do not want to add schematics references. This is the default value. </li><li>
<a id="pgfId-1419490"></a><strong>Generate Instances as in Schematic
</strong>Select the <em>Generate Instances as in Schematic</em> option to use an existing package schematic to create layout instances with the layout master of the corresponding schematic instance in Virtuoso. 

When this option is specified, only those components from Allegro layout are imported that do not already exist in Virtuoso package schematic. 

For example, consider a package schematic with die, <code>D1</code>, and SMD cellviews, <code>R1</code> and <code>R2</code>, and that<code> D1</code>, <code>R1</code>, and <code>R2</code> already exist in the schematic in Virtuoso. Now, when you specify the <em>Generate Instances as in Schematic</em> option, then <code>D1</code>, <code>R1</code>, and <code>R2</code> are not imported. Instead, components from the schematic in Virtuoso are instantiated in the layout.

This option is useful in reimporting an Allegro layout that was previously exported from Virtuoso.</li></ul>


<h4><em>
<a id="pgfId-1387425"></a>Layout Generation</em></h4>

<p>
<a id="pgfId-1393451"></a>Expand the Layout Generation section to specify how you want to handle some of the layout components during import. </p>
<ul><li>
<a id="pgfId-1387426"></a><strong>Add Symbol cellview for new BGA Components
</strong>Specify the <em>Add Symbol cellview for new BGA Components </em>option to create a <code>symbol</code> view for the BGA that is being imported. The BGA is detected as the cell with the following configuration:
<code>COMPONENTCLASS=IO
</code>The <code>symbol</code> view of the BGA components can be instantiated in the Package schematic.</li><li>
<a id="pgfId-1394771"></a><strong>Convert Dynamic Shapes to Static Shapes
</strong>Specify the Convert Dynamic Shapes to Static Shapes option to convert dynamic shapes to statics shapes during import. No dynamic layer-purpose pair is created during this process. </li></ul>


<h4><em>
<a id="pgfId-1387428"></a>Advanced</em></h4>

<p>
<a id="pgfId-1393616"></a>Expand the <em>Advanced</em> section to specify the following additional options. </p>
<ul><li>
<a id="pgfId-1387429"></a><strong>Display Resolution
</strong>Use the Display Resolution drop-down list to specify the resolution for the top level cellview. Valid values are <em>Very High</em>, <em>High</em>, <em>Medium</em>, and <em>Low</em>. These values can be updated using <a actuate="user" class="URL" href="../vlehelp/appA.html#dspoptions" show="replace" xml:link="simple">Display Options</a> in Virtuoso Layout Suite documentation. </li><li>
<a id="pgfId-1387434"></a><strong>Layer Mapping File
</strong>Use the <em>Layer Mapping File </em>field to specify an existing layer map file. You can also click the <em>File Browser </em>button<em> </em>to select the layer map file. </li><li>
<a id="pgfId-1393956"></a><strong>Run Directory
</strong>Use the <em>Run Directory</em> field to specify the default directory for all the files you specify in the Import Allegro File form. The run directory is created automatically (provided you have the appropriate permissions, if it does not exist during Allegro translation. 
Default value: Current working directory</li></ul>



<h4>
<a id="pgfId-1387436"></a><a id="64800"></a>Technology Information (sip/mcm/brd)</h4>
<p>
<a id="pgfId-1394822"></a></p>
<div class="webflare-div-image">
<img width="668" height="280" src="images/allegro-5.gif" /></div>

<p>
<a id="pgfId-1394199"></a>Use the <em>Technology Information (sip/mcm/brd)</em> option if you want to import only the technology information, such as stack up and constraints and vias. When you select this option the design information is not updated.</p>

<h4><em>
<a id="pgfId-1394281"></a>Allegro File</em></h4>

<p>
<a id="pgfId-1394282"></a>Specify the <em>Allegro File</em> to be imported to Virtuoso. For example, <code>./sip_files/PKG_TOP4.sip</code>. You can also use the <em>File Browser</em> button to select the Allegro file. </p>
<p>
<a id="pgfId-1394283"></a>A typical Allegro file contains the BGA cells, the vias to be used for package routing, and the technology file used in SiP. The technology file is compiled into the Virtuoso technology database. In this mode, only the technology information and vias are imported.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1394284"></a>The package technology file is not the same as the Virtuoso technology file. </div>
<h4><em>
<a id="pgfId-1394285"></a>Library</em></h4>

<p>
<a id="pgfId-1394286"></a>Use the <em>Library </em>field to specify the target library where data is to be translated. The library name should be a logical name and follow the naming conventions supported by OpenAccess. For example, <code>VRF_PKG_TOP</code>. You can also select an existing library as the target library from the drop-down list.</p>

<h4><em>
<a id="pgfId-1398121"></a>Overwrite Components and Technology Information </em></h4>

<p>
<a id="pgfId-1404820"></a>Select the <em>Overwrite Components and Technology Information </em>option to overwrite all the existing information in the target library during translation. This option is disabled by default and is enabled only when you select an existing library file, as shown below:</p>

<p>
<a id="pgfId-1404824"></a></p>
<div class="webflare-div-image">
<img width="668" height="160" src="images/allegro-6.gif" /></div>

<p>
<a id="pgfId-1404825"></a>This option enables you to import files from Allegro in following two modes:</p>
<ul><li>
<a id="pgfId-1404826"></a><strong>Incremental mode</strong> when the <em>Overwrite Components and Technology Information </em>option is deselected<br />
<a id="pgfId-1404827"></a>As stated earlier, not all updates related to a package can be done in Virtuoso. Therefore, you need to frequently import and export package designs between Allegro and Virtuoso. The default incremental mode enables you to update the existing library file every time you import a package design from Allegro. </li><li>
<a id="pgfId-1404828"></a><strong>Non-incremental mode</strong> when the <em>Overwrite Components and Technology</em> is selected<br />
<a id="pgfId-1398102"></a>In this mode, the contents of the selected library file are overwritten during import.</li></ul>




<h4><em>
<a id="pgfId-1387439"></a>Advanced</em></h4>

<p>
<a id="pgfId-1394329"></a>Expand the Advanced options to specify the following:</p>
<ul><li>
<a id="pgfId-1394399"></a><strong>Layer Mapping File
</strong>Use the <em>Layer Mapping File </em>field to specify an existing layer map file. You can also click the <em>File Browser </em>button<em> </em>to select the layer map file. </li><li>
<a id="pgfId-1394401"></a><strong>Run Directory
</strong>Use the <em>Run</em> <em>Directory</em> field to specify the default directory for all the files you specify in the <em>Import from Allegro </em>form. The run directory is created automatically (provided you have the appropriate permissions) if it does not exist during Allegro translation. 

Default value: Current working directory</li></ul>


<h4>
<a id="pgfId-1387443"></a><a id="48467"></a>DRA Files</h4>
<p>
<a id="pgfId-1394849"></a></p>
<div class="webflare-div-image">
<img width="668" height="214" src="images/allegro-7.gif" /></div>

<p>
<a id="pgfId-1394585"></a>Specify <em>Import Mode </em>as <em>DRA Files </em>to import multiple DRA files from Allegro. In this mode, a technology independent layout Pcell (TILP) and the base symbol definition (symdef_base) are created in Virtuoso.</p>

<h4><em>
<a id="pgfId-1394581"></a>DRA File Directory</em></h4>

<p>
<a id="pgfId-1394966"></a>Use DRA File Directory to specify the path to the directory containing the DRA files and padstack definitions in the DRA. You can also click the <em>Directory Browser </em>button<em> </em>to select the directory. </p>

<h4><em>
<a id="pgfId-1395205"></a>Library</em></h4>

<p>
<a id="pgfId-1395206"></a>Use the <em>Library </em>field to specify the target library where a catalog of DRA cellviews will be saved after import. The library name should be a logical name and follow the naming conventions supported by OpenAccess. For example, <code>VRF_PKG_TOP</code>. You can also select an existing library as the target library from the drop-down list.</p>

<h4><em>
<a id="pgfId-1398147"></a>Overwrite Components and Technology Information </em></h4>

<p>
<a id="pgfId-1404885"></a>Select the <em>Overwrite Components and Technology Information </em>option to overwrite all the existing information in the target library during translation. This option is disabled by default and is enabled only when you select an existing library file, as shown below:</p>

<p>
<a id="pgfId-1404889"></a></p>
<div class="webflare-div-image">
<img width="668" height="209" src="images/allegro-8.gif" /></div>

<p>
<a id="pgfId-1404890"></a>This option enables you to import files from the Allegro in following two modes:</p>
<ul><li>
<a id="pgfId-1404891"></a><strong>Incremental mode</strong> when the <em>Overwrite Components and Technology Information </em>option is deselected.<br />
<a id="pgfId-1404892"></a>As stated earlier, not all updates related to a package can be done in Virtuoso. Therefore, you need to frequently import and export package designs between Allegro and Virtuoso. The default incremental mode enables you to update the existing library file every time you import a package design from Allegro. </li><li>
<a id="pgfId-1404893"></a><strong>Non-incremental mode</strong> when the <em>Overwrite Components and Technology</em> is selected.<br />
<a id="pgfId-1395201"></a>In this mode, the contents of the selected library file are overwritten during import.</li></ul>




<h4><em>
<a id="pgfId-1387446"></a>SMD JEDEC Footprint Import Mode</em></h4>

<p>
<a id="pgfId-1390489"></a>When the <em>SMD JEDEC Footprint Import Mode</em> option is selected, only the base abstract cellview <code>layout</code> is created. </p>

<h2>
<a id="pgfId-1387448"></a><a id="83151"></a>Export All<a id="allegroExport"></a>egro File Form</h2>

<p>
<a id="pgfId-1389738"></a>You can export SiP or MCM files from Virtuoso by using the Allegro Export translator.</p>
<p>
<a id="pgfId-1397613"></a>After export, a new package file is created from the specified cellview and saved in the Allegro file. </p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1418101"></a>The Allegro Export translator, only exports full files. It does not support incremental export. </div>

<p>
<a id="pgfId-1396072"></a>To launch Allegro Export translator and display the Export Allegro File form, select the <em>File &#8211; Export &#8211; To Allegro </em>option from the CIW. </p>

<p>
<a id="pgfId-1396288"></a></p>
<div class="webflare-div-image">
<img width="668" height="323" src="images/allegro-9.gif" /></div>

<p>
<a id="pgfId-1396211"></a>This section describes the various options on the Export Allegro File form. </p>

<h3>
<a id="pgfId-1387449"></a>Library</h3>

<p>
<a id="pgfId-1396333"></a>Use the <em>Library </em>option to specify a library from which a design is to be translated to the Allegro format. This is a mandatory field. You can also click the <em>Library Browser</em> button to select the library from the Library Browser form. </p>

<h3>
<a id="pgfId-1387450"></a>Cell</h3>

<p>
<a id="pgfId-1396367"></a>Use the <em>Cell </em>option to specify the name of the cell at the top of the hierarchy that you want to translate to the Allegro package file. </p>

<h3>
<a id="pgfId-1387451"></a>View</h3>

<p>
<a id="pgfId-1396356"></a>Use the <em>View </em>field to specify the view names that are created in the target library during translation. </p>

<h3>
<a id="pgfId-1387452"></a>Allegro File</h3>

<p>
<a id="pgfId-1396409"></a>Specify the <em>Allegro File</em> to which the exported data will be saved. You can also use the <em>File Browser</em> button to select the Allegro file. </p>
<p>
<a id="pgfId-1416752"></a>Allegro Export proceeds only when you select a file with the correct file extension. The type of file depends on the fabric type in the technology database. It is:</p>
<ul><li>
<a id="pgfId-1416962"></a>.sip for a package</li><li>
<a id="pgfId-1417144"></a>.mcm for a module</li><li>
<a id="pgfId-1417173"></a>.brd for a board</li></ul>


<p>
<a id="pgfId-1417227"></a>Allegro Export can automatically detect the design type and propose the correct file extension.</p>

<h3>
<a id="pgfId-1396410"></a>Advanced</h3>

<p>
<a id="pgfId-1396747"></a>Expand the <em>Advanced</em> option to specify the following additional options:</p>

<h4>
<a id="pgfId-1387454"></a>Layer Mapping File</h4>

<p>
<a id="pgfId-1396426"></a>Use the <em>Layer Map </em>field to specify an existing layer map file. You can also click the <em>File Browser </em>button<em> </em>to select the layer map file. </p>

<h4>
<a id="pgfId-1387455"></a>Run Directory</h4>

<p>
<a id="pgfId-1396441"></a>The <em>Run</em> <em>Directory</em> field accepts the default directory for all the files you specify in the Export Allegro File form. If you want to read from or write to a file that is not present in the run directory, type the full path in the field for the file.</p>
<p>
<a id="pgfId-1396442"></a>Use the directory browser to select the path of the run directory.</p>
<p>
<a id="pgfId-1396443"></a>Default value: Current working directory</p>

<h2>
<a id="pgfId-1387456"></a><a id="31882"></a>Design Object Mapping</h2>

<p>
<a id="pgfId-1396867"></a>The following images show a design in Allegro and how it looks when it is translated to Virtuoso:</p>

<p>
<a id="pgfId-1397048"></a></p>
<div class="webflare-div-image">
<img width="668" height="247" src="images/allegro-10.gif" /></div>

<p>
<a id="pgfId-1397163"></a>The following image shows some of the Allegro design objects that have been translated to Virtuoso using the Allegro Import translator. </p>

<p>
<a id="pgfId-1405032"></a></p>
<div class="webflare-div-image">
<img width="668" height="375" src="images/allegro-11.gif" /></div>

<p>
<a id="pgfId-1399556"></a>For more information on Allegro package design objects, see <h-hot><a actuate="user" class="URL" href="../vrf/chap1.html#package_def" show="replace" xml:link="simple">Packaging Definitions</a></h-hot> in <em><a actuate="user" class="URL" href="../vrf/vrfTOC.html#firstpage" show="replace" xml:link="simple">Virtuoso RF Flow Guide</a></em>.</p>
<p>
<a id="pgfId-1405371"></a>Here, <em>die</em> is a wire-bound die component which has an outline and bounding pads. </p>
<p>
<a id="pgfId-1405990"></a>Attached to the die are bounding wires that are three-dimensional objects and are represented as Pcells in Virtuoso and clines in Allegro. </p>
<p>
<a id="pgfId-1405993"></a><em>Bonding fingers</em> are the attachment points on the substrate for the wire bonds. They are pieces of metal, which are represented as separate objects in Allegro and finger instances in Virtuoso. </p>
<p>
<a id="pgfId-1405186"></a>Next, you can see a <em>pin of a package</em>, where a package is a ball grid array (BGA) component, which is the container for the pins that have connections to the board. </p>
<p>
<a id="pgfId-1406159"></a>Next, a component in the design is the surface mounted device (SMD), which has two pins in the design. At the bottom of the design, you can see some other components, such as pins of the die, shapes, vias, and clines. </p>

<h3>
<a id="pgfId-1407263"></a>Components and Symbols in SMD</h3>

<p>
<a id="pgfId-1407130"></a>During Allegro Import translation, we translate only the device type, which is the component definition (compdef) of the device. It is specified as the name of the TILPs, which is instantiated in Virtuoso. </p>
<p>
<a id="pgfId-1407337"></a>In the following screenshot, the name of the cell is the name of the TILP</p>

<div class="webflare-div-image">
<img width="668" height="169" src="images/allegro-12.gif" /></div>

<p>
<a id="pgfId-1407558"></a>When a TILP is instantiated it takes several parameters. In case of SMD, one the parameters is <em>JEDEC_TYPE</em>. This represents the name of the package based on its size. For example, in the screenshot below, <code>0402</code> represents package of a certain size. In Allegro, this is a symbol, which is a physical device, and in Virtuoso it is the symbol definition or symdef.</p>
<p>
<a id="pgfId-1408216"></a></p>

<div class="webflare-div-image">
<img width="668" height="169" src="images/allegro-13.gif" /></div>

<p>
<a id="pgfId-1407888"></a>In Virtuoso, there is a hierarchy of a TILP, which is the device type, and this Pcell refers to the base cell, which is the symdef.</p>

<h2>
<a id="pgfId-1424543"></a><a id="16609"></a>Translating Param<a id="tlineAllegroTranslator"></a>etrized Tline Cells</h2>

<p>
<a id="pgfId-1424944"></a>The Allegro translator preserves the instances of the parametrized <code>Tline</code> cells from the <code>rfTlineLib</code> library when they are exported to SiP from Virtuoso and then imported back.</p>
<p>
<a id="pgfId-1424980"></a>When the design is exported to SiP, the library/cell/view and the Pcell parameter values of the <code>Tline</code> Pcell are stored in the <code>SIPOA_TLINE</code> property on the <code>Tline</code> symbol in SiP. At the same time, the <code>Tline</code> symbol in SiP is locked to prevent this property from being modified.</p>
<p>
<a id="pgfId-1424716"></a>When the design is imported from Allegro back to Virtuoso, the value of this property is used to recreate the <code>Tline</code> Pcell as the instance of the cell from <code>rfTlineLib</code>.</p>

<h2>
<a id="pgfId-1387457"></a><a id="86771"></a>Data Model Mapping</h2>

<p>
<a id="pgfId-1398478"></a>Data models in Allegro and Virtuoso have significant differences. The Allegro Import and Export translators bridge these modular differences. </p>
<p>
<a id="pgfId-1401768"></a>The following table shows how package design objects in Allegro are mapped to objects in Virtuoso:</p>
<table class="webflareTable" id="#id1399817">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<p>
<a id="pgfId-1398848"></a><strong>Package Design Objects in Allegro</strong></p>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<p>
<a id="pgfId-1398850"></a><strong>Objects created in Virtuoso</strong></p>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<p>
<a id="pgfId-1398852"></a><strong>Description</strong></p>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1398766"></a><code>design</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1398768"></a>cellview</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1398770"></a>In Allegro, <code>design</code> is the top-level view. It is represented by the top cellview in Virtuoso. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1398772"></a><code>symdef</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1398774"></a>Base cellview </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1398776"></a>The <span class="webflare-courier-new" style="white-space:pre"><em>sipObjectType</em></span> of the TIILP is set as <code>package</code>, <code>SMD</code>, or <code>die</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1398778"></a><code>padstack</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1398780"></a>Base cellview</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-1409067"></a>Padstacks can be instantiated as pins or vias. </p>
<p>
<a id="pgfId-1409184"></a>The <span class="webflare-courier-new" style="white-space:pre"><em>sipObjectType</em></span> property for a padstack is <code>padstack</code>.</p>
<p>
<a id="pgfId-1416521"></a>The <code>sipPadStackType</code> property is set to <code>via</code> or <code>other</code>, where <code>other</code> corresponds to <code>pins</code>.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1398784"></a>compdef</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1398786"></a>TILP</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1398788"></a>This is a logical object, where a device type in Allegro is defined as the TILP cell name in Virtuoso. Therefore, the TILP name is the same as the name of the device name in Allegro. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1399165"></a>Other components, such as functions and function pins are not modeled in Virtuoso.</div>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1398808"></a>symbol </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1398810"></a>TILP instance</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1398812"></a>Instance of a physical device in Allegro. </p>
<p>
<a id="pgfId-1399191"></a>In SMD, the symdef cell name is defined as <span class="webflare-courier-new" style="white-space:pre"><em>JEDEC_TYPE</em></span>, which will have the name of the actual base cell defining the symbol. </p>
<p>
<a id="pgfId-1409598"></a>If this is not an SMD and is a package or a die, then the <span class="webflare-courier-new" style="white-space:pre"><em>baseCellViewName</em></span> property is defined, which gives the name of the symbol definition.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1398820"></a>component</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1398822"></a>TILP instance</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1398824"></a>Same as the symbol TILP instance</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1398826"></a>pin</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1398828"></a>TILP instance pin</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1410163"></a>Pins are instances of a padstack in Allegro and are allowed only inside symbols. In Virtuoso they are instance pins with terminals, instantiating a padstack. </p>
<p>
<a id="pgfId-1409901"></a>The definition for pins is added to the symbol definitions of cellviews representing symdef. </p>
<p>
<a id="pgfId-1410100"></a>Padstack view is defined in the <span class="webflare-courier-new" style="white-space:pre"><em>baseCellViewName</em></span> property.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1398838"></a>via</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1398840"></a>TILP via instance </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1398842"></a>Vias are instances of a padstack Allegro and can be placed anywhere in the design. </p>
<p>
<a id="pgfId-1410319"></a>Padstack view is defined in the <span class="webflare-courier-new" style="white-space:pre"><em>baseCellViewName</em></span> property. </p>
<p>
<a id="pgfId-1416124"></a>Vias also need a customViaDef in the technology database.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1399436"></a>Bonding Finger</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1399438"></a>pkgLib/finger instance</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1410343"></a>Bonding fingers are instances of padstack Allegro. In Virtuoso, they are Pcells with several parameters such as shape type and dimension. They can also refer to an existing Pcell. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1399430"></a>Bonding Wire</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1399432"></a>pkgLib/wirebond instance</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1399434"></a>Bonding wires are represented as Pcells in Virtuoso with two attachments as the parameters. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1399424"></a>Cline</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1399426"></a>path</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1399428"></a>Clines are mapped to a curved path in Virtuoso. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1399418"></a>Shape</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1399420"></a>curved polygon</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1399422"></a>Shapes, including rectangles and circles, are specified as curved polygons in Virtuoso. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1399412"></a>Text</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1399414"></a>Label/Curved Paths</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1410776"></a>Text in Allegro can be translated as either labels or geometries in Virtuoso. Geometries are created by converting text to curved paths in figGroups.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1399406"></a>Line</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1399408"></a>Path/Line</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1399410"></a>Specified as non-metal layers with non-zero or zero width</p>
</td>
</tr>
</tbody></table>

<h2>
<a id="pgfId-1410900"></a><a id="54696"></a>Layer Mapping</h2>

<p>
<a id="pgfId-1411040"></a>Cross-section layers in Allegro are mapped to technology layers with functions: metal, dielectric, and diestack.</p>

<p>
<a id="pgfId-1411041"></a>Non-cross-section layers are mapped according to the definitions in the technology library, cdsDefTechLib.</p>
<p>
<a id="pgfId-1417539"></a></p>
<table class="webflareTable" id="#id1411224">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<p>
<a id="pgfId-1411703"></a><strong>Layer type</strong></p>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<p>
<a id="pgfId-1411705"></a><strong>Type in Allegro</strong></p>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<p>
<a id="pgfId-1411707"></a><strong>Type in Virtuoso</strong></p>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-1411480"></a>Solder Mask</p>

</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-1411226"></a><code>SOLDERMASK_TOP</code></p>
<p>
<a id="pgfId-1411697"></a><code>SOLDERMASK_BOTTOM</code></p>

</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1411228"></a><code>solderMaskTop, solderMaskBottom</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-1411482"></a>Place bound top</p>

</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-1411230"></a><code>PLACE_BOUND_TOP</code></p>
<p>
<a id="pgfId-1411699"></a><code>PLACE_BOUND_BOTTOM</code></p>

</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1411232"></a><code>prBoundary</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-1411484"></a>DFA bound top</p>

</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-1411234"></a><code>DFA_BOUND_TOP</code></p>
<p>
<a id="pgfId-1411701"></a><code>DFA_BOUND_BOTTOM</code></p>

</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1411236"></a><code>assemblyBoundary</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-1411486"></a>Substrate geometry</p>

</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-1411238"></a><code>SUBSTRATE_GEOMETRY/WB_GUIDE_LINE </code></p>

</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1411240"></a><code>wirebondFingerGuide</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-1411488"></a>Customer-defined layers</p>

</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1411403"></a><code>COMPONENT GEOMETRY</code></p>
<p>
<a id="pgfId-1411463"></a><code>SILKSCREEN_TOP</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1411430"></a><code>COMPONENT_GEOMETRY</code></p>
<p>
<a id="pgfId-1411448"></a><code>SILKSCREEN_TOP</code></p>
<p>
<a id="pgfId-1411252"></a>In this case, </p>
<p>
<a id="pgfId-1411695"></a>Class name is mapped to purpose name</p>
<p>
<a id="pgfId-1411655"></a>Subclass is mapped to layer name</p>
</td>
</tr>
</tbody></table>
<h2>
<a id="pgfId-1411904"></a><a id="40543"></a>Troubleshooting Allegro File Translation Issues</h2>

<p>
<a id="pgfId-1420661"></a>This section discusses issues that you might face during translation of Allegro files and shows how to either resolve or workaround them.</p>

<h4>
<a id="pgfId-1420939"></a>Allegro Import translation of an SIP file fails with an error in dbCreateVia</h4>

<p>
<a id="pgfId-1420856"></a>This issue occurs when layers of type <code>conductor</code> are defined outside the substrate. This causes issues because layers outside the substrate can be only of type <code>diestack</code> or <code>dielectric</code>. </p>
<p>
<a id="pgfId-1421247"></a>In this case, if you open the Layer Stack Editor, Allegro Import translator will issue another warning indicating that something is wrong with the layer stack definition.</p>
<p>
<a id="pgfId-1421371"></a>To resolve this issue, fix the SiP design using the <code>config substrate layers</code> command at the SiP command prompt.</p>

<h4>
<a id="pgfId-1420861"></a>Missing instances after mirrored rotation</h4>

<p>
<a id="pgfId-1420835"></a>In Allegro, a user is allowed to change elements in the instantiation of a symbol definition. In contrast, it is not possible to edit the instance of a master in Virtuoso. </p>
<p>
<a id="pgfId-1421755"></a>For example consider a text element that is rotated on some or all of the instances by 180 degrees. The rotation parameter of the instance is correctly translated by Allegro Import translator and all the other parameters (like mirrored) are also correctly propagated. However, the imported instance does not match the component definition any longer because the instance was edited earlier. </p>
<p>
<a id="pgfId-1421778"></a>In most cases, the translator detects these cases and creates a variant. Examples of such changes are symbol rotation, mirroring, and flipping. Other changes like changes to specific objects inside the symbol instance cannot be detected and result in mismatches between the Allegro view of the geometry within the edited symbol and the Virtuoso view of the underlying master. </p>
<p>
<a id="pgfId-1421782"></a>To resolve this issue, the variants must be manually created in Allegro by associating the symbols with new symbol definitions containing the edited geometries.</p>

<h4>
<a id="pgfId-1422551"></a>Finger instances in Virtuoso are exported to Allegro as padstacks</h4>

<p>
<a id="pgfId-1424195"></a>When you export instances of bond fingers from Virtuoso to Allegro, they are always created as padstack instances in the SIP layout. The shape type in Virtuoso is ignored. When such bond fingers are imported from Allegro back to Virtuoso, their layout is restored, but their shape type becomes padstack regardless of their previous shape type. The exported bond finger shape type can only be restored to its original shape type manually by defining all the required parameters, such as <code>shapeType</code>, <code>width</code>, <code>length</code>, <code>layer</code>, <code>diameter</code>, and <code>soldermask</code> for each bond finger instance. Additionally, it needs to be ensured that the <code>shapeType</code> and other parameters stored on the finger match the definition of the padstack the finger instance is referencing. If the change of shape type when exporting and importing bond fingers to and from Allegro is not desired, it can be avoided by defining their <code>shapeType</code> as padstack.</p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="chap5.html" id="prev" title="Design Translation Using LEF/DEF Translator">Design Translation Using LEF/D ...</a></em></b><b><em><a href="appA.html" id="nex" title="Stream Format">Stream Format</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2020, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>