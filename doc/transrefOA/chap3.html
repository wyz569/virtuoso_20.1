
<html><head><title>Netlist Import Using Spice In</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="sumehta" />
<meta name="CreateDate" content="2020-09-19" />
<meta name="CreateTime" content="1600501928" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="This manual contains information about the following Cadence translators: Stream In, Stream Out, SpiceIn, CDL Out, LEF In, LEF Out, DEF In, DEF Out, Import from Allegro and Export to Allegro." />
<meta name="DocTitle" content="Design Data Translators Reference" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Netlist Import Using Spice In" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.2.1" />
<meta name="Keyword" content="transrefOA" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2020-09-19" />
<meta name="ModifiedTime" content="1600501928" />
<meta name="NextFile" content="chap4.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Cadence Shared Tools" />
<meta name="PrevFile" content="xoasis.html" />
<meta name="c_product" content="Virtuoso Layout Suite,Virtuoso Schematic Editor,Virtuoso Analog Design Environment" />
<meta name="Product" content="Virtuoso Shared Tools" />
<meta name="ProductFamily" content="Virtuoso Shared Tools" />
<meta name="ProductVersion" content="ICADVM20.1" />
<meta name="RightsManagement" content="Copyright 2012-2020 Cadence Design Systems Inc." />
<meta name="Title" content="Design Data Translators Reference -- Netlist Import Using Spice In" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="ICADVM20.1" />
<meta name="SpaceKey" content="transrefOAICADVM201" />
<meta name="webflare-version" content="2.0" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="transrefOATOC.html">Contents</a></li><li><a class="prev" href="xoasis.html" title="Design Translation Using XOasis Translator">Design Translation Using XOasi ...</a></li><li style="float: right;"><a class="viewPrint" href="transrefOA.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="chap4.html" title="Design Translation Using CDL Out">Design Translation Using CDL O ...</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Design Data Translators Reference<br />Product Version ICADVM20.1, October 2020</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>4
<a id="pgfId-1032955"></a></h1>
<h1>
<a id="pgfId-1036323"></a><hr />
<a id="31936"></a>Netlist Import Using Spice In<hr />
</h1>

<p>
<a id="pgfId-1036357"></a>This chapter covers the following: </p>
<ul><li>
<a id="pgfId-1036361"></a><a href="chap3.html#39355">Introduction to Spice In</a></li><li>
<a id="pgfId-1036365"></a><a href="chap3.html#84847">Using Spice In</a><ul><li>
<a id="pgfId-1036369"></a><a href="chap3.html#77117">Running Spice In from GUI</a></li><li>
<a id="pgfId-1036373"></a><a href="chap3.html#48856">Running Spice In from Command Line</a></li></ul></li><li>
<a id="pgfId-1036377"></a><a href="chap3.html#58353">Inherited Connections Supported</a></li><li>
<a id="pgfId-1036381"></a><a href="chap3.html#81369">Creating a Spice In Parameter File</a></li><li>
<a id="pgfId-1036385"></a><a href="chap3.html#90454">Creating a Device-Map File</a></li><li>
<a id="pgfId-1036389"></a><a href="chap3.html#70561">Handling Parameters</a></li><li>
<a id="pgfId-1036393"></a><a href="chap3.html#34416">Handling Terminal Order for Sub-Circuits</a></li></ul>









<h2>
<a id="pgfId-1036399"></a><a id="39355"></a>Introduction to Spice In</h2>

<p>
<a id="pgfId-1036400"></a>Virtuoso<sup>&#174;</sup> Spice In imports CDL, HSpice, Spectre, and SPICE netlists into the OpenAccess database by generating either Virtuoso Schematic or Virtuoso Netlist views. It also creates Virtuoso Symbol views wherever required.</p>
<p>
<a id="pgfId-1036401"></a>The figure below shows the types of netlists that can be imported using Spice In and the types of output views generated.</p>

<p>
<a id="pgfId-1036425"></a></p>
<div class="webflare-div-image">
<img width="575" height="177" src="images/chap3-2.gif" /></div>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1036426"></a>The term Spice In this chapter is used to refer to the SPICE2 and SPICE3 dialects of the SPICE language. The Simulation Program with Integrated Circuit Emphasis (SPICE) language was developed at the University of California, Berkeley, and is used by many EDA vendors to simulate all types of circuits.</div>

<p>
<a id="pgfId-1036427"></a>The Spice In examples are present at the following location: &lt;install_dir&gt;/tools/dfII/samples/Spice In. For more information on examples of Spice In, refer the readme.txt file present at the above mentioned location.</p>
<h3>
<a id="pgfId-1036429"></a><a id="63418"></a>Features of Spice In</h3>
<h4>
<a id="pgfId-1036430"></a>General Features</h4>

<ul><li>
<a id="pgfId-1036431"></a>Generates a Virtuoso Schematic or a Virtuoso Netlist view.</li><li>
<a id="pgfId-1036432"></a>Imports sub-circuit level parameters of a sub-circuit as Component Description Format (CDF) Component Parameters at the cell level. For more information about CDF, see the <em><a actuate="user" class="URL" href="../cdfuser/cdfuserTOC.html#firstpage" show="replace" xml:link="simple">Component Description Format User Guide</a></em>.<br />
<a id="pgfId-1036434"></a>For more information about how Spice In imports sub-circuit level parameters, see <a href="chap3.html#70561">Handling Parameters</a>.</li><li>
<a id="pgfId-1036438"></a>Uses terminal order (<code>termOrder</code>) from the CDF Simulation Information of the specified simulator for creating connections between the nets of an instance and the terminals of the master cell of the instance.<br />
<a id="pgfId-1036441"></a>For more information about how and where Spice In creates terminal order, see <a href="chap3.html#34416">Handling Terminal Order for Sub-Circuits</a>.</li><li>
<a id="pgfId-1036443"></a>Saves the terminals of a sub-circuit as <code>termOrder</code> in the CDF Simulation Information of the specified simulator.</li><li>
<a id="pgfId-1036444"></a>Maps devices from model libraries to a user PDK.</li><li>
<a id="pgfId-1036445"></a>Enhances placed and routed schematics by using the Analog Schematic Generation feature. For more information on ASG, see <a href="chap3.html#57240">Analog Schematic Generation Tab</a>.</li></ul>








<h4>
<a id="pgfId-1036449"></a>Spice/Spectre</h4>

<ul><li>
<a id="pgfId-1036450"></a>Imports global parameters as design variables at the top-cell level. The design variables can be used in pre-processing of the design before simulating it using Virtuoso<sup>&#174;</sup> Analog Design Environment (ADE). For more information about ADE, see <em><a actuate="user" class="URL" href="../anasimhelp/anasimhelpTOC.html#firstpage" show="replace" xml:link="simple">Virtuoso ADE L User Guide</a></em> or <em><a actuate="user" class="URL" href="../adexl/adexlTOC.html#firstpage" show="replace" xml:link="simple">Virtuoso ADE XL User Guide</a></em>.<br />
<a id="pgfId-1036455"></a>For more information about how Spice In imports the global parameters, see <a href="chap3.html#70561">Handling Parameters</a>.</li></ul>


<h3>
<a id="pgfId-1036459"></a>Flows Using Spice In</h3>

<p>
<a id="pgfId-1036460"></a>Spice In aids you in a number of design and simulation flows, such as:</p>
<ul><li>
<a id="pgfId-1036461"></a>Designing and simulating analog circuits using Virtuoso<sup>&#174;</sup> Schematic Editor (VSE) and Virtuoso ADE</li><li>
<a id="pgfId-1036462"></a>Creating Virtuoso Layout views using Virtuoso<sup>&#174;</sup> Layout Suite (VLS), and subsequently running layout-versus-schematic (LVS) using LVS tools.</li></ul>

<p>
<a id="pgfId-1036463"></a>The following figure shows the flows that use Spice In.</p>

<p>
<a id="pgfId-1036499"></a></p>
<div class="webflare-div-image">
<img width="435" height="393" src="images/chap3-3.gif" /></div>
<h2>
<a id="pgfId-1039226"></a>Licensing in Spice In</h2>
<p>
<a id="pgfId-1053694"></a><strong>(IC6.1.8 Only)</strong></p>

<p>
<a id="pgfId-1039227"></a>Spice In searches for the following licenses in the specified order and checks out one of them:</p>
<ul><li>
<a id="pgfId-1039228"></a>1 license of Virtuoso<sup>&#174;</sup> Schematic Editor L<br />
<a id="pgfId-1039230"></a>For more information about the Virtuoso Schematic Editor L, see the <em><a actuate="user" class="URL" href="../comphelp/comphelpTOC.html#firstpage" show="replace" xml:link="simple">Virtuoso Schematic Editor User Guide</a></em></li><li>
<a id="pgfId-1039234"></a>1 license of Virtuoso<sup>&#174;</sup> Schematic Editor XL<br />
<a id="pgfId-1053670"></a>For more information about the Virtuoso Schematic Editor XL, see the <em><a actuate="user" class="URL" href="../comphelp/comphelpTOC.html#firstpage" show="replace" xml:link="simple">Virtuoso Schematic Editor User Guide</a></em></li><li>
<a id="pgfId-1039231"></a>1 license of Virtuoso<sup>&#174;</sup> Layout Suite L<br />
<a id="pgfId-1039233"></a>For more information about the Virtuoso Layout Suite L, see the <em><a actuate="user" class="URL" href="../vlehelp/vlehelpTOC.html#firstpage" show="replace" xml:link="simple">Virtuoso Layout Suite L User Guide</a></em></li><li>
<a id="pgfId-1039237"></a>1 license of Virtuoso<sup>&#174;</sup> Layout Suite XL<br />
<a id="pgfId-1039239"></a>For more information about the Virtuoso Layout Suite XL, see the <em><a actuate="user" class="URL" href="../vxlhelp/vxlhelpTOC.html#firstpage" show="replace" xml:link="simple">Virtuoso Layout Suite XL User Guide</a></em>.</li><li>
<a id="pgfId-1039240"></a>4 tokens of Virtuoso<sup>&#174;</sup> Layout Suite GXL<br />
<a id="pgfId-1039242"></a>For more information about the Virtuoso Layout Suite GXL, see the <em><a actuate="user" class="URL" href="../vlsgxl/vlsgxlTOC.html#firstpage" show="replace" xml:link="simple">Virtuoso Layout Suite GXL Reference</a></em>.</li></ul>









<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1039243"></a>If the ASG option is enabled, then licenses of Virtuoso<sup>&#174;</sup> Schematic Editor L and Virtuoso<sup>&#174;</sup> Layout Suite L are not referred.</div>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1041633"></a>
By default, the ASG option is disabled in the GUI mode. You can enable the ASG option by using the .<span class="webflare-courier-new" style="white-space:pre"><em>cdsenv</em></span> setting: 

<code>* envSetVal(&quot;spiceIn&quot; &quot;asgMode&quot; &#39;boolean t)
</code>However, in the Spice In command line the ASG option is enabled by default.

The <code>-noasg</code> argument can be used to run Spice In without ASG.</div>

<p>
<a id="pgfId-1053732"></a><strong>(ICADVM20.1 Only)</strong></p>
<p>
<a id="pgfId-1053757"></a>Spice In searches for the following licenses in the specified order and checks out one of them:</p>
<ul><li>
<a id="pgfId-1053758"></a>1 license of Virtuoso<sup>&#174;</sup> Schematic Editor L<br />
<a id="pgfId-1053760"></a>For more information about the Virtuoso Schematic Editor L, see the <em><a actuate="user" class="URL" href="../comphelp/comphelpTOC.html#firstpage" show="replace" xml:link="simple">Virtuoso Schematic Editor User Guide</a></em></li><li>
<a id="pgfId-1053761"></a>1 license of Virtuoso<sup>&#174;</sup> Schematic Editor XL<br />
<a id="pgfId-1053763"></a>For more information about the Virtuoso Schematic Editor XL, see the <em><a actuate="user" class="URL" href="../comphelp/comphelpTOC.html#firstpage" show="replace" xml:link="simple">Virtuoso Schematic Editor User Guide</a></em></li><li>
<a id="pgfId-1053767"></a>1 license of Virtuoso<sup>&#174;</sup> Layout Suite XL<br />
<a id="pgfId-1053769"></a>For more information about the Virtuoso Layout Suite XL, see the <em><a actuate="user" class="URL" href="../vxlhelp/vxlhelpTOC.html#firstpage" show="replace" xml:link="simple">Virtuoso Layout Suite XL User Guide</a></em>.</li><li>
<a id="pgfId-1053770"></a>4 tokens of Virtuoso<sup>&#174;</sup> Layout Suite GXL</li></ul>






<p>
<a id="pgfId-1053705"></a>For more information about the Virtuoso Layout Suite GXL, see the <em><a actuate="user" class="URL" href="../vlsgxl/vlsgxlTOC.html#firstpage" show="replace" xml:link="simple">Virtuoso Layout Suite GXL Reference</a></em>.</p>
<ul><li>
<a id="pgfId-1053798"></a>1 license of Virtuoso<sup>&#174;</sup> Layout Suite EXL</li></ul>
<p>
<a id="pgfId-1053794"></a>For more information about the Virtuoso Layout Suite EXL, see the <em><a actuate="user" class="URL" href="../doc/vlsexl/vlsexlTOC.html#firstpage" show="replace" xml:link="simple">Virtuoso Layout Suite EXL User Guide</a></em>.</p>
<ul><li>
<a id="pgfId-1053816"></a>1 license of Virtuoso<sup>&#174;</sup> Layout Suite EAD</li></ul>
<p>
<a id="pgfId-1053812"></a>For more information about the Virtuoso Layout Suite EAD, see the <em><a actuate="user" class="URL" href="..//vead/veadTOC.html#firstpage" show="replace" xml:link="simple">Virtuoso Electrically Aware Design Flow Guide</a></em>.</p>

<h2>
<a id="pgfId-1040822"></a>Affects of Control Commands during Import</h2>

<p>
<a id="pgfId-1040858"></a>There are various control commands, such as <code>*.scale</code>, which have an affect during import of cdl netlist.</p>

<h3>
<a id="pgfId-1040859"></a>*.sca<a id="scale"></a>le Command</h3>

<ul><li>
<a id="pgfId-1040860"></a>If the <code>*.scale</code> command is present in netlist with or without the <code>micron</code> argument, the values are expanded during parsing of netlist. <br />
<a id="pgfId-1040135"></a>Even if the <code>*.scale</code> command is not present in the netist during parsing will have the same effect.<br />
<a id="pgfId-1040178"></a>All these conditions are illustrated below:<ul><li>
<a id="pgfId-1040191"></a>The <code>*.scale</code> command is present without an argument<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1040192">
<a id="pgfId-1040192"></a>*.BIPOLAR</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1040193">
<a id="pgfId-1040193"></a>*.CAPVAL</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1040194">
<a id="pgfId-1040194"></a>*.RESVAL</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1040195">
<a id="pgfId-1040195"></a>*.DIOAREA</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1040196">
<a id="pgfId-1040196"></a>*.DIOPERI</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1040197">
<a id="pgfId-1040197"></a></pre><pre class="webflare-pre-block webflare-courier-new" id="#id1040198">
<a id="pgfId-1040198"></a>*.scale </pre><pre class="webflare-pre-block webflare-courier-new" id="#id1040199">
<a id="pgfId-1040199"></a></pre><pre class="webflare-pre-block webflare-courier-new" id="#id1040200">
<a id="pgfId-1040200"></a>.subckt topCell a b c d</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1040201">
<a id="pgfId-1040201"></a></pre><pre class="webflare-pre-block webflare-courier-new" id="#id1040202">
<a id="pgfId-1040202"></a>C1 a b 20n M=2 $[CX]</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1040203">
<a id="pgfId-1040203"></a>D1 c d DI AREA=10n PJ=5p M=9</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1040204">
<a id="pgfId-1040204"></a>Q1 c a d nz M=11 $EA=17f $L=9n $w=8p</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1040205">
<a id="pgfId-1040205"></a>R1 d a 10M M=4 $.MODEL=rx $w=19p $L=11n</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1040206">
<a id="pgfId-1040206"></a>M1 d c a b px W=15n L=17f M=2</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1040207">
<a id="pgfId-1040207"></a>J1 a b c nx W=5p L=10f</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1040208">
<a id="pgfId-1040208"></a>.END</pre></li><li>
<a id="pgfId-1040209"></a>The <code>*.scale</code> command is present with the <code>micron</code> argument<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1039934">
<a id="pgfId-1039934"></a>*.BIPOLAR</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1039935">
<a id="pgfId-1039935"></a>*.CAPVAL</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1039936">
<a id="pgfId-1039936"></a>*.RESVAL</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1039937">
<a id="pgfId-1039937"></a>*.DIOAREA</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1039938">
<a id="pgfId-1039938"></a>*.DIOPERI</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1039939">
<a id="pgfId-1039939"></a></pre><pre class="webflare-pre-block webflare-courier-new" id="#id1039940">
<a id="pgfId-1039940"></a>*.scale micron</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1039941">
<a id="pgfId-1039941"></a></pre><pre class="webflare-pre-block webflare-courier-new" id="#id1039942">
<a id="pgfId-1039942"></a>.subckt topCell a b c d</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1039943">
<a id="pgfId-1039943"></a></pre><pre class="webflare-pre-block webflare-courier-new" id="#id1039944">
<a id="pgfId-1039944"></a>C1 a b 20n M=2 $[CX]</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1039945">
<a id="pgfId-1039945"></a>D1 c d DI AREA=10n PJ=5p M=9</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1039946">
<a id="pgfId-1039946"></a>Q1 c a d nz M=11 $EA=17f $L=9n $w=8p</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1039947">
<a id="pgfId-1039947"></a>R1 d a 10M M=4 $.MODEL=rx $w=19p $L=11n</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1039948">
<a id="pgfId-1039948"></a>M1 d c a b px W=15n L=17f M=2</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1039949">
<a id="pgfId-1039949"></a>J1 a b c nx W=5p L=10f</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1039926">
<a id="pgfId-1039926"></a>.END</pre></li><li>
<a id="pgfId-1039971"></a>The <code>*.scale</code> command is not present<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1039986">
<a id="pgfId-1039986"></a>*.BIPOLAR</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1039987">
<a id="pgfId-1039987"></a>*.CAPVAL</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1039988">
<a id="pgfId-1039988"></a>*.RESVAL</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1039989">
<a id="pgfId-1039989"></a>*.DIOAREA</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1039990">
<a id="pgfId-1039990"></a>*.DIOPERI</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1039991">
<a id="pgfId-1039991"></a></pre><pre class="webflare-pre-block webflare-courier-new" id="#id1039992">
<a id="pgfId-1039992"></a>.subckt topCell a b c d</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1039993">
<a id="pgfId-1039993"></a></pre><pre class="webflare-pre-block webflare-courier-new" id="#id1039994">
<a id="pgfId-1039994"></a>C1 a b 20n M=2 $[CX]</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1039995">
<a id="pgfId-1039995"></a>D1 c d DI AREA=10n PJ=5p M=9</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1039996">
<a id="pgfId-1039996"></a>Q1 c a d nz M=11 $EA=17f $L=9n $w=8p</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1039997">
<a id="pgfId-1039997"></a>R1 d a 10M M=4 $.MODEL=rx $w=19p $L=11n</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1039998">
<a id="pgfId-1039998"></a>M1 d c a b px W=15n L=17f M=2</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1039999">
<a id="pgfId-1039999"></a>J1 a b c nx W=5p L=10f</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1040121">
<a id="pgfId-1040121"></a>.END</pre></li></ul></li></ul>




























































<p>
<a id="pgfId-1040122"></a>Based on the above conditions the parameter values are expanded as:</p>

<a id="pgfId-1040123"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
C1 a b 20n M=2 $[CX]                           * 2e-08 , 2</pre>
<a id="pgfId-1040079"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
D1 c d DI AREA=10n PJ=5p M=9                   * 1e-08, 5e-12, 9</pre>
<a id="pgfId-1040081"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
Q1 c a d nz M=11 $EA=17f $L=9n $w=8p           * 11, 1.7e-14, 9e-09, 8e-12 </pre>
<a id="pgfId-1040083"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
R1 d a 10M M=4 $.MODEL=rx $w=19p $L=11n         * 1e+07, 4, 1.9e-11, 1.1e-08         </pre>
<a id="pgfId-1040085"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
M1 d c a b px W=15n L=17f M=2                   * 1.5e-08, 1.7e-14, 2 </pre>
<a id="pgfId-1040087"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
J1 a b c nx W=5p L=10f                          * 5e-12, 1e-14</pre>
<a id="pgfId-1040069"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
.END</pre>

<ul><li>
<a id="pgfId-1040245"></a>If the <code>*.scale meter</code> is present in netlist then only <span class="webflare-courier-new" style="white-space:pre"><em>Length</em></span> and <span class="webflare-courier-new" style="white-space:pre"><em>Width</em></span> parameters are multiplied by <code>1e+06</code>. There is no impact on other parameters. For example:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1040300">
<a id="pgfId-1040300"></a>*.BIPOLAR</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1040301">
<a id="pgfId-1040301"></a>*.CAPVAL</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1040302">
<a id="pgfId-1040302"></a>*.RESVAL</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1040303">
<a id="pgfId-1040303"></a>*.DIOAREA</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1040304">
<a id="pgfId-1040304"></a>*.DIOPERI</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1040305">
<a id="pgfId-1040305"></a></pre><pre class="webflare-pre-block webflare-courier-new" id="#id1040306">
<a id="pgfId-1040306"></a>*.scale meter</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1040307">
<a id="pgfId-1040307"></a></pre><pre class="webflare-pre-block webflare-courier-new" id="#id1040914">
<a id="pgfId-1040914"></a>.subckt topCell a b c d </pre><br /><table class="webflareTable" id="#id1040885">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1040887"></a>C1 a b 20n M=2 $[CX]</pre>

</td>
<td class="webflareTd" colspan="1" rowspan="1">

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1040889"></a>* 2e-08 , 2&#160;&#160;  ;; No affect of meter as L, W are affected only</pre>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1040891"></a>D1 c d DI AREA=10n PJ=5p M=9</pre>

</td>
<td class="webflareTd" colspan="1" rowspan="1">

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1040893"></a>* 1e-08, 5e-12, 9&#160;&#160;;; No affect of meter as L, W are affected only</pre>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1040895"></a>Q1 c a d nz M=11 $EA=17f $L=9n $w=8p</pre>

</td>
<td class="webflareTd" colspan="1" rowspan="1">

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1040897"></a> 11, 1.7e-14, .009, 8e-06 ;</pre>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1040899"></a>R1 d a 10M M=4 $.MODEL=rx $w=19p $L=11n</pre>

</td>
<td class="webflareTd" colspan="1" rowspan="1">

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1040901"></a>* 1e+07, 4, 1.9e-05, .011</pre>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1040903"></a>M1 d c a b px W=15n L=17f M=2</pre>

</td>
<td class="webflareTd" colspan="1" rowspan="1">

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1040905"></a>* 0.015 , 1.7e-08, 2</pre>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1040907"></a>J1 a b c nx W=5p L=10f</pre>

</td>
<td class="webflareTd" colspan="1" rowspan="1">

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1040909"></a>* 5e-06, 1e-08</pre>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1040911"></a>.END</pre>

</td>
<td class="webflareTd" colspan="1" rowspan="1">

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1040913"></a></pre>

</td>
</tr>
</tbody></table></li></ul>











<h2>
<a id="pgfId-1036576"></a><a id="84847"></a>Using Spice In</h2>

<p>
<a id="pgfId-1036580"></a>Spice In can be run using either the <h-hot><a href="chap3.html#spiceingui">GUI</a></h-hot> or the <h-hot><a href="chap3.html#commandline">command line</a></h-hot> interface. The following figure depicts the inputs and outputs of Spice In.</p>

<p>
<a id="pgfId-1036638"></a></p>
<div class="webflare-div-image">
<img width="591" height="335" src="images/chap3-5.gif" /></div>
<h3>
<a id="pgfId-1036641"></a><a id="77117"></a>Ru<a id="spiceingui"></a>nning Spice In from GUI</h3>

<p>
<a id="pgfId-1036642"></a>Use the Spice In GUI to specify the inputs and the desired outputs for the design import. The following sections explain how to launch and use the GUI.</p>
<ul><li>
<a id="pgfId-1036646"></a><a href="chap3.html#14344">Launching the Spice In GUI</a></li><li>
<a id="pgfId-1036650"></a><a href="chap3.html#68352">Working with the Spice In GUI</a></li><li>
<a id="pgfId-1036654"></a><a href="chap3.html#55983">Customizing the Spice In Environment</a></li><li>
<a id="pgfId-1036658"></a><a href="chap3.html#49358">Running Spice In</a></li></ul>




<h4>
<a id="pgfId-1036660"></a><a id="14344"></a>Launching the Spice In GUI</h4>
<p>
<a id="pgfId-1036661"></a>Spice In can be launched from Virtuoso<sup>&#174;</sup> Design Environment workbenches: <code>virtuoso </code>and<code> layout</code>.</p>

<p>
<a id="pgfId-1036662"></a>To launch the Spice In GUI, perform the following steps:</p>
<ol><li>
<a id="pgfId-1036663"></a>Open the CIW of the aforementioned Virtuoso workbenches.</li><li>
<a id="pgfId-1036665"></a>Select <em>File &#8212; Import &#8212; Spice</em>. The <em>Virtuoso</em>&#174; Spice In<a id="spiceInGuiForm"></a> form is displayed.<br />
<a id="pgfId-1036669"></a><div class="webflare-div-image">
<img width="574" height="731" src="images/chap3-6.gif" /></div></li></ol>




<h4>
<a id="pgfId-1036671"></a><a id="68352"></a>Working with the Spice In GUI</h4>

<p>
<a id="pgfId-1036672"></a>You can use the Spice In GUI to load an existing parameter file as well as modify a parameter file. A parameter file, written in SKILL<sup>&#174;</sup> language, is a list of parameters specified as name-value pairs. The parameter file is used to save values for the various fields in the form, thereby allowing the values used in one session to be reused in another session. For more information about the parameter file, see <a href="chap3.html#81369">Creating a Spice In Parameter File</a> and <a href="chap3.html#54028">Mapping Parameter File Options with the Spice In GUI Options</a>.</p>

<h4><em>
<a id="pgfId-1036679"></a>Loading a Parameter File </em></h4>
<p>
<a id="pgfId-1036680"></a>You can load an existing parameter file, by using the <em>Load</em> button at the bottom of the <em>Spice In</em> form as shown in the figure. </p>
<div class="webflare-div-image">
<img width="668" height="95" src="images/chap3-7.gif" /></div>

<p>
<a id="pgfId-1036685"></a>To load a parameter file, perform the following steps:</p>
<ol><li>
<a id="pgfId-1036686"></a>Click <em>Load</em>.<br />
<a id="pgfId-1036687"></a>The <em>Load SpiceIn Parameter File</em> window is displayed.<br />
<a id="pgfId-1036691"></a><div class="webflare-div-image">
<img width="565" height="386" src="images/chap3-8.gif" /></div></li><li>
<a id="pgfId-1036692"></a>Browse to the location where the parameter file is located.</li><li>
<a id="pgfId-1036693"></a>Select the parameter file and click <em>Open</em>. By default, the parameter file is displayed as spiceIn.params.<br />
<a id="pgfId-1036694"></a>The values of the fields on all the tabs of the <em>Virtuoso Spice In</em> form are updated with the values from the parameter file. However, if any errors or warnings are displayed in CIW, correct them before proceeding further.<br />
<a id="pgfId-1036695"></a>In addition to the option name-value pairs, the Spice In parameter file contains the name of the <em>Schematic</em> <em>Generation</em> options parameter file. Therefore, when you click the <em>Load</em> button on the <em>Input</em> tab, the values of the fields in the <em>Schematic</em> <em>Generation</em> tab are updated from the <em>Schematic Generation</em> parameter file.</li></ol>










<h4><em>
<a id="pgfId-1036696"></a>Saving an Option to a Parameter File</em></h4>

<p>
<a id="pgfId-1036697"></a>You can also save the values in various fields in GUI form to a parameter file. To save the values, perform the following steps:</p>

<ol><li>
<a id="pgfId-1036698"></a>Specify values for one or more GUI fields, and set the options as desired.</li><li>
<a id="pgfId-1036699"></a>Click Save. The <em>Save SpiceIn Parameters</em> window is displayed.<br />
<a id="pgfId-1036703"></a><div class="webflare-div-image">
<img width="599" height="410" src="images/chap3-9.gif" /></div></li><li>
<a id="pgfId-1036704"></a>Specify the name of a file in which you want to save the GUI settings. Spice In creates the file if it does not exist in your current working directory.</li><li>
<a id="pgfId-1036705"></a>Click <em>Save</em>.<br />
<a id="pgfId-1036706"></a>The values of the GUI fields for which the default values have been updated are saved to the specified parameter file. The <em>Schematic Generation</em> parameters are saved in a separate file schOpts_&lt;filename&gt;.</li></ol>









<p>
<a id="pgfId-1036707"></a>The other options in the Spice In GUI form are grouped into the following tabs:</p>
<ul><li style="list-style-type: none;background-image: none;"><ul><li>
<a id="pgfId-1036711"></a><em><a href="chap3.html#97022">Input Tab</a><em></em></em></li><li>
<a id="pgfId-1036715"></a><em><a href="chap3.html#70625">Output Tab</a><em></em></em></li><li>
<a id="pgfId-1036719"></a><a href="chap3.html#20634">Schematic Generation Tab</a></li><li>
<a id="pgfId-1036723"></a><a href="chap3.html#59870">Device Map Tab</a></li><li>
<a id="pgfId-1036727"></a><a href="chap3.html#21495">Overwrite Cells Tab</a></li><li>
<a id="pgfId-1036731"></a><a href="chap3.html#57240">Analog Schematic Generation Tab</a></li></ul></li></ul>






<h4>
<a id="pgfId-1036733"></a><a id="97022"></a>Input Tab</h4>
<p>
<a id="pgfId-1036737"></a></p>
<div class="webflare-div-image">
<img width="574" height="733" src="images/chap3-10.gif" /></div>

<p>
<a id="pgfId-1036738"></a>The following sections explain the tasks you can achieve using the options on the <em>Input</em> tab.</p>

<h4><em>
<a id="pgfId-1036740"></a>S<a id="netlistfile"></a>pecifying the Netlist File</em></h4>

<p>
<a id="pgfId-1036741"></a>In the <em>Netlist File</em> field, specify the netlist you want to import. This is a mandatory field.</p>
<p>
<a id="pgfId-1036742"></a>If the netlist file is not located in the current working directory, you can either manually specify the absolute or relative path of the file or search for the file by using the <em>Ellipses (...) </em>button.</p>

<ol><li style="list-style-type: none;background-image: none;"><ol><li>
<a id="pgfId-1036743"></a>Click the Ellipses (...) button. The <em>Netlist File</em> window appears.<br />
<a id="pgfId-1036747"></a><div class="webflare-div-image">
<img width="562" height="387" src="images/chap3-11.gif" /></div></li><li>
<a id="pgfId-1036748"></a>Browse to the location where the netlist file is located.</li><li>
<a id="pgfId-1036749"></a>Select the netlist file and click either <em>Open</em> or <em>Apply</em>.<br />
<a id="pgfId-1036750"></a>This would close the <em>Netlist File</em> window and the name of the netlist file along with its absolute path appears in the <em>Netlist File</em> field.</li></ol></li></ol>





<h4><em>
<a id="pgfId-1036752"></a>S<a id="netlistlang"></a>pecifying the Language of the Netlist File</em></h4>

<p>
<a id="pgfId-1036753"></a>Select the appropriate <em>Netlist Language</em> option to specify the language of the netlist. You can select from the options <em>CDL</em>, <em>HSpice</em>, <em>Spectre</em>, and <em>SPICE</em>.</p>
<p>
<a id="pgfId-1036754"></a>Default Value: Spectre</p>

<h4><em>
<a id="pgfId-1036760"></a><a id="89177"></a>Specifying the<a id="topcell"></a> Top Cell</em></h4>

<p>
<a id="pgfId-1036761"></a><em>Top Cell</em> specifies the name of the top cell of the design hierarchy to be imported. The top cell concept for a CDL netlist is different from that for HSpice, Spectre, and SPICE netlists.</p>
<ul><li>
<a id="pgfId-1036762"></a>For a CDL Netlist<br />
<a id="pgfId-1036763"></a>CDL netlists always have instances bound to a <code>subckt</code> statement. Therefore, the concept of top cell and &#8220;loose&#8221; instances, as applicable to HSpice, Spectre, and SPICE netlists, does not hold true for a CDL netlist. The Top Cell field will not be available in GUI for a CDL netlist.</li><li>
<a id="pgfId-1036764"></a>For HSpice, Spectre, and SPICE Netlists<br />
<a id="pgfId-1036765"></a>Specify the top cell as the top-level sub-circuit name where all the &#8220;loose&#8221; instances will be placed. This is illustrated through the example below.<br />
<a id="pgfId-1036766"></a>For example, consider the following snippet of the Spectre netlist:<br /><ffi2-fig-frame-in-2 id="#id1036814">
<a id="pgfId-1036814"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="597" height="595" src="images/chap3-12.gif" /></div>
<a id="pgfId-1041814"></a>In this netlist, the &#8220;loose&#8221; instances, <code>I8</code>, <code>R1</code>,<code>I2</code>, <code>V2</code>, are not contained within any <code>subckt-ends</code> statement. These loose instances are ought to be present in a top cell named &quot;ampTest&quot;. Top cell is a container cellview (OA database) for all loose instances. All loose instances are a part of a cellview. If there are no global nets, no global parameters, and no loose instances in a cellview, then no topcell will be created.<br />
<a id="pgfId-1036816"></a>You can specify this top cell value in the <em>Top Cell</em> field if you are importing an HSpice, Spectre, or SPICE netlist.<br />
<a id="pgfId-1036817"></a>Default Value: top</li></ul>











<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1036818"></a>If top cell is given a name which is a sub-circuit in the netlist, an error message will be displayed and import will abort.</div>

<h4><em>
<a id="pgfId-1036819"></a>Importing the Sub Circuits List</em></h4>

<p>
<a id="pgfId-1036820"></a>Import sub circuits list is a list of sub-circuits that needs to be completely imported along with their hierarchy. The sub-circuit list is separated by a white space. For example: amplifier control vsource.</p>
<ul><li>
<a id="pgfId-1036821"></a>For a CDL Netlist<br />
<a id="pgfId-1036822"></a>In the case a CDL netlist, the input netlist might comprise of multiple levels of design hierarchies. In that case, specify the top cell of the part of the design hierarchy you want to import. Consider the hierarchy depicted in the following figure:<br />
<a id="pgfId-1036853"></a><div class="webflare-div-image">
<img width="216" height="151" src="images/chap3-13.gif" /></div>
<a id="pgfId-1036854"></a>If you want to translate cells <code>C</code>, <code>D</code>, <code>E</code>, and <code>F</code> but not <code>A</code> and <code>B</code>, specify cell <code>C</code> as one of the entry in the import sub-circuit list. If you want to translate cells <code>B</code> and <code>C </code>but not <code>A</code>, specify cells <code>B</code> and <code>C</code> as import sub-circuit list entries.<br />
<a id="pgfId-1041589"></a>Pin direction for CDL netlist can be set in the following ways:<ul><li>
<a id="pgfId-1041380"></a>The <code>*.PININFO</code> control command is used to specify pin type <code>*.PININFO signalName:pinType</code> where, <code>pinType</code> specifies one of the following pin types:<br />
<a id="pgfId-1041386"></a><code>i or I &#8211; input pin</code><br />
<a id="pgfId-1041387"></a><code>o or O &#8211; output pin</code><br />
<a id="pgfId-1041388"></a><code>b or B &#8211; input/output (bidirectional)</code><br />
<a id="pgfId-1041389"></a><code>p or P &#8211; power</code><br />
<a id="pgfId-1041390"></a><code>g or G &#8211; ground</code><br />
<a id="pgfId-1041394"></a><strong>Example</strong><br />
<a id="pgfId-1041562"></a>Below is the example of Pin direction for CDL netlist:<br />
<a id="pgfId-1041395"></a><code>.subckt inv Y A</code><br />
<a id="pgfId-1041396"></a><code>*.PININFO Y:O A:I</code><br />
<a id="pgfId-1041397"></a><code>M1 VDD A Y vdd p w=10u l=2u</code><br />
<a id="pgfId-1041398"></a><code>M0 Y A gnd gnd N w=5u l=2u</code><br />
<a id="pgfId-1041399"></a><code>.ends inv</code></li><li>
<a id="pgfId-1041495"></a>A slash (/) character in <code>.subckt</code> statements distinguishes the output ports (before the slash) and the input ports (after the slash). In the example below, ports <code>a</code> and <code>b</code> are output ports, and ports <code>d</code> and <code>e</code> are input ports for cell <code>xxx</code>.</li></ul><br />
<a id="pgfId-1041511"></a><code>.subckt xxx a b / d e</code></li><li>
<a id="pgfId-1036855"></a>For HSpice, Spectre, and SPICE Netlists<br />
<a id="pgfId-1036856"></a>To import all loose instances and/or more hierarchies, enter the name of the top cell and the sub-circuit names in the Import Sub-Circuits List field. If the top cell name is not specified in the Import Sub-Circuits List field, none of the loose instances and their masters, if any, will be imported.<br />
<a id="pgfId-1036857"></a>If you do not specify any value in the Import Sub-circuits List field, all the sub-circuits in the netlist will be imported. However, if the name specified in the Import Sub-circuits List field is not a sub-circuit in the netlist, a warning message will be displayed. Also, if all the specified names are invalid, an error message will be displayed and Spice In will abort.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1036858"></a>While importing sub-circuit Pins, if sub-circuit symbol is present in the output library then the sub-circuit pins directions are created by seeing direction of sub-circuit symbol. However, if sub-circuit pins are not present in the output directory then sub-circuit pins directions are created as bidirectional.</div></li></ul>





























<h4><em>
<a id="pgfId-1036862"></a>Sp<a id="reference"></a>ecifying the Reference Libraries</em></h4>

<p>
<a id="pgfId-1036863"></a>In the <em>Reference Library List</em> field, specify all the reference libraries. The names of reference libraries should be separated by blank spaces. Ensure that the specified reference library names are defined in the <code>cds.lib</code> file. This is a mandatory field.</p>
<p>
<a id="pgfId-1036864"></a>During the netlist import, Spice In searches the specified libraries sequentially for the master cellview definitions for primitive devices. Incase of CDL, the sub-circuits with box definition (box elements), the master will be searched in the given reference libraries.</p>
<p>
<a id="pgfId-1036865"></a>The criteria for match is:</p>
<ul><li>
<a id="pgfId-1036866"></a>cell name should match and a symbol view must exist.</li><li>
<a id="pgfId-1036867"></a>terminal count should match the required number of terminals for a device.</li><li>
<a id="pgfId-1036868"></a>termOrder information must be present either in siminfo section or device mapping file. There is no concept of default termOrder of primitives.</li><li>
<a id="pgfId-1036869"></a>pins specified in the termOrder must exist on the corresponding cellview.</li></ul>



<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1036870"></a>If no matching criteria is met and the search fails, Spice In will abort.</div>

<h4><em>
<a id="pgfId-1036873"></a>Triggering CDF parameters callba<a id="triggerCDFParam"></a>ck</em></h4>

<p>
<a id="pgfId-1045871"></a>When the <em>Trigger CDF parameters callback</em> check box on the <em>Input</em> tab is selected, CDF parameters callback is triggered to update the derived or dependent parameters immediately after the Spice In import is complete. If the cellviews are already imported, the callbacks are triggered for the list of cellviews that is to be overwritten in the current Spice In run. Callbacks are triggered for both the netlist and schematic views. </p>
<p>
<a id="pgfId-1045873"></a>The T<em>rigger CDF parameters callback</em> checkbox is selected by default. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1052225"></a>Callbacks are not triggered in batch mode. Additionally, CDF Callbacks are not triggered for data types cyclic, radio, and button due to CDBA limitation.</div>

<h4><em>
<a id="pgfId-1045671"></a><a id="31030"></a>Spe<a id="devicesource"></a>cifying the Input for Device Information</em></h4>

<p>
<a id="pgfId-1036875"></a>In the frame <em>Look for Device Information in</em><a id="lookfordevice"></a> on the <em>Input</em> tab, select an option to specify the location where Spice In should search for the device information, <code>termOrder</code> in this case. The <code>termOrder</code> exists in CDF Simulation Information and is different for different simulators. In contrast to the analog PDKs, such as the <code>analogLib</code> from Cadence, where every master cell has CDF, digital PDKs do not have any CDF associated with the master cells. In the case of digital PDKs, therefore, Spice In reads the terminal order through the <code>termOrder</code> construct of the device-map file. For more information about the <code>termOrder</code>, see <a href="chap3.html#34416">Handling Terminal Order for Sub-Circuits</a>.</p>
<p>
<a id="pgfId-1036879"></a>So, in the <em>Look for Device Information in</em> frame, you can also select the <em>Device Mapping File </em>option. Spice In, accordingly, reads <code>termOrder</code> from a device-map file. The termOrder specified in the device mapping file will have precedence over siminfo.</p>
<ul><li>
<a id="pgfId-1036880"></a>Select the appropriate simulator for which you want Spice In to read the <code>termOrder</code>. You can select one from <em>ams</em>, <em>auCdl</em>, <em>hspiceD</em>, and <em>spectre</em>.<br />
<a id="pgfId-1036881"></a>Default value: spectre</li><li>
<a id="pgfId-1036883"></a>If you select the <em><a href="chap3.html#devicemapfile">Device Mapping File </a></em>option, specify the name of the device-map file on the <em>Device Map </em>tab. For details on creating a device map file, see the <a href="chap3.html#90454">Creating a Device-Map File</a> section of this chapter. If you have selected the Device Mapping File option but not specified any device mapping file in the Device Map tab, an error message will be displayed asking you to specify a valid device mapping file in the Device Map tab.<br />
<a id="pgfId-1036887"></a>Default value: Deselected</li></ul>




<h4><em>
<a id="pgfId-1036889"></a>Specifying t<a id="masterforground"></a>he Master Cell for Ground Node</em></h4>

<p>
<a id="pgfId-1036890"></a>The net <code>0</code> represents the ground node. Spice In creates connections between all occurrences of net <code>0</code> and a ground node instance. For creating the connection, Spice In first creates an instance of the ground node master cell at the sub-circuit level. Next, it connects a net <code>0</code> with the ground node instance, and proceeds to connect all occurrences of net <code>0</code> in a sub-circuit to the ground node instance.</p>
<p>
<a id="pgfId-1036891"></a>Consider the following instance definition:</p>

<p>
<a id="pgfId-1036898"></a></p>
<div class="webflare-div-image">
<img width="239" height="40" src="images/chap3-14.gif" /></div>

<p>
<a id="pgfId-1036899"></a>In the above definition, the nets <code>net5</code> and <code>0</code> are connected to the two terminals of the resistor <code>R0</code>. Net <code>0</code> is the ground node. At the sub-circuit level, Spice In creates an instance of the ground node master cell. It then connects the net <code>0</code> to the ground node instance.</p>
<p>
<a id="pgfId-1036900"></a>To create an instance of the ground node, Spice In requires the name of the master cell of the ground node. You can update this value in the <em>Master Cell for Ground Node </em>field. Spice In searches for this master cell in the reference libraries.</p>
<p>
<a id="pgfId-1036901"></a>Default value: gnd</p>

<h4><em>
<a id="pgfId-1055656"></a>Specifying Merge BusBits</em></h4>
<p>
<a id="pgfId-1055915"></a></p>
<div class="webflare-div-image">
<img width="668" height="67" src="images/chap3-15.gif" /></div>

<p>
<a id="pgfId-1055715"></a>This option lets you choose either angular <code>&lt;&gt;</code> or square <code>[]</code> delimiters. Specify the delimiter used in the netlist before import. If you specify an incorrect delimiter, it results into schematic with scalar bits.</p>
<p>
<a id="pgfId-1056409"></a>The Spice In Parameter for this option is <code>busDelimiter. Valid value are squarebracket</code> and <code>angularbracket</code>.</p>
<p>
<a id="pgfId-1056592"></a>For example, that if scalar ports exist in a cell definition and if they can be merged, this feature merge them as shown below:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1056594"></a>A&lt;0&gt; A&lt;1&gt; A&lt;3&gt; =&gt; A&lt;0:1&gt; A&lt;3&gt;</pre>

<p>
<a id="pgfId-1056219"></a>Default value: Deselected. When you select this option, the angular <code>&lt;&gt;</code> delimiter is selected by default. </p>

<h4>
<a id="pgfId-1036903"></a><a id="70625"></a>Output Tab</h4>
<p>
<a id="pgfId-1036907"></a></p>
<div class="webflare-div-image">
<img width="574" height="735" src="images/chap3-16.gif" /></div>

<p>
<a id="pgfId-1044595"></a>The following sections explain the tasks you can achieve using the options on the <em>Output </em>tab.</p>

<h4><em>
<a id="pgfId-1044597"></a>Specif<a id="logfile"></a>ying the Log File</em></h4>

<p>
<a id="pgfId-1044598"></a>In the <em>Log File</em> field, specify the name of the log file that Spice In would use for storing progress, error, warning, and information messages. Alternatively. click the ellipses (...) button to search for the log file. All the parameter values that you specify at the time of importing a netlist are also recorded in the log file. The log file also contains messages regarding the device-map feature.</p>
<p>
<a id="pgfId-1036912"></a>Default value: spiceIn.log</p>

<h4><em>
<a id="pgfId-1036914"></a>Spe<a id="library"></a>cifying the Output Library</em></h4>

<p>
<a id="pgfId-1036915"></a>In the <em>Output Library</em> field, specify the name of the library to which the netlist file should be imported. Alternatively, click the ellipses (...) button to search for an already existing library to which you want to import the netlist file. If the library does not exist, Spice In will create a new library in the current working directory. Spice In creates the output OpenAccess 2.2 cellviews in the specified output library. This is a mandatory field.</p>

<h4><em>
<a id="pgfId-1049100"></a>Specifying the Processing of Technology File</em></h4>

<p>
<a id="pgfId-1049451"></a>The <em>Process Technology File</em> option allows you to decide whether you want to create a technology file during the Spice In translation. If you deselect this option, no <code>tech.db</code> is created during translation.</p>
<p>
<a id="pgfId-1049452"></a>Default Value: Selected</p>

<h4><em>
<a id="pgfId-1049510"></a>Specifying the Output View Information</em></h4>

<ul><li>
<a id="pgfId-1049455"></a>O<a id="type"></a>utput View Type<br />
<a id="pgfId-1036919"></a>Spice In can import the netlist file as either a Virtuoso Netlist view or a Virtuoso Schematic view. A Virtuoso Netlist view has only the connectivity information, with all the sub-circuits and instances placed at the origin whereas the Virtuoso Schematic view has adequate placement and routing information.<br />
<a id="pgfId-1036920"></a>Select the <em>Output View Type</em> as either <em>netlist</em> or <em>schematic.</em><br />
<a id="pgfId-1036921"></a>Default value: schematic</li><li>
<a id="pgfId-1036923"></a>Outp<a id="name"></a>ut View Name<br />
<a id="pgfId-1036924"></a>The default names used by Spice In for the Virtuoso Netlist and Virtuoso Schematic views are <code>netlist</code> and <code>schematic</code>, respectively. This is shown in the figure below.<br />
<a id="pgfId-1036928"></a><div class="webflare-div-image">
<img width="541" height="197" src="images/chap3-17.gif" /></div>
<a id="pgfId-1036929"></a>You can change the view name in the <em>Output View Name</em> field. For example, you can specify <code>my_schematic</code> as the Virtuoso Schematic view name. <br />
<a id="pgfId-1036930"></a>Default value: schematic (when view type is selected as schematic)<br />
<a id="pgfId-1036931"></a>Default value: netlist (when view type is selected as netlist)</li></ul>













<h4><em>
<a id="pgfId-1036933"></a>Specifyi<a id="simulator"></a>ng the Output for Device Information</em></h4>

<p>
<a id="pgfId-1036934"></a>Spice In saves information for parameters and termOrder of each sub-circuit in the CDF Simulation Information at the base-cell level. Since different Simulation Information sections exist for different simulators, Spice In requires the name of the simulator for which you want to save the <code>termOrder</code>.</p>
<p>
<a id="pgfId-1036935"></a>In the <em>Save Device Simulation Information in CDF for </em>frame on the <em>Output</em> tab, select a simulator &#8212; <em>ams</em>, <em>auCdl</em>, <em>hspiceD</em>, and <em>spectre</em> &#8212; for which Spice In should save the device information (<code>termOrder</code>) for the sub-circuits defined in the input netlist. For more information about the <code>termOrder</code>, see <a href="chap3.html#34416">Handling Terminal Order for Sub-Circuits</a>.</p>
<p>
<a id="pgfId-1036939"></a>Default value: spectre</p>

<h4><em>
<a id="pgfId-1050994"></a>Creating Default Model Names for Primitives</em></h4>

<p>
<a id="pgfId-1051396"></a>The <em>Create Default Model Name</em> for Primitives enables you to specify whether Spice In should automatically add default model names for primitive devices, such as capacitor, resistor, and inductor that have no model name. </p>
<p>
<a id="pgfId-1051385"></a>Default Value: Selected</p>

<h4>
<a id="pgfId-1036941"></a><a id="schggen"></a><a id="20634"></a>Schematic<a id="schgen"></a> Generation Tab</h4>
<div class="webflare-div-image">
<img width="667" height="814" src="images/chap3-18.gif" /></div>

<p>
<a id="pgfId-1040966"></a>For descriptions of the options in the <em>Schematic Generation</em> tab, refer to the <em><a actuate="user" class="URL" href="../conn2schuser/chap2.html#schgenOpt" show="replace" xml:link="simple">Schematic Generation Options</a></em> section in the <em>Connectivity-to-Schematic User Guide</em>.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1047674"></a>The <em>Generate Top Cell Symbol</em><a id="spiceGenTopCellSymb"></a> option is available only on the <em>Schematic Generation </em>tab of the Virtuoso Spice In form. Select this option to generate the symbol of the top cell during schematic generation.</div>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1036949"></a>The Analog Schematic Generation option is deselected by default. Also, the Analog Schematic Generation tab page will be deselected.</div>

<h4>
<a id="pgfId-1036951"></a><a id="59870"></a>Device Map Tab</h4>
<p>
<a id="pgfId-1036955"></a></p>
<div class="webflare-div-image">
<img width="580" height="735" src="images/chap3-19.gif" /></div>

<p>
<a id="pgfId-1036989"></a>The various columns in the <em>Device Mapping Details</em> table are described below.</p>
<table class="webflareTable" id="#id1036956">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036958"></a>Field</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036960"></a>Description</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036962"></a>DevToMap</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036964"></a>The primitive devices that need to be mapped to a user-defined master cell name. This field cannot be empty.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036966"></a>MappedTo</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036968"></a>The name of the user-defined master cell name to which the corresponding primitive device is mapped. This field cannot be empty.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036970"></a>PropMatch</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036972"></a>Specifies the device properties to match while mapping primitive devices to library cells. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036974"></a>TermOrder</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036976"></a>Specifies the terminal order to use.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036978"></a>Inherited Terminals</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036980"></a>Specifies the inherited terminals. For example, VDD&#160;&#160;[@VDD:%:VDD!]</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036982"></a>PropMap</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036984"></a>Specifies the properties to map.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036986"></a>AddProp</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036988"></a>Specifies the properties to be added.</p>
</td>
</tr>
</tbody></table>
<p>
<a id="pgfId-1044631"></a>The following section describes the task you can perform using the <em>Device Map</em> tab.</p>

<h4><em>
<a id="pgfId-1044632"></a>Working with Device Map Files</em></h4>

<p>
<a id="pgfId-1044633"></a>You can create, open, and save device map files by using the <em>File</em> button on the right-top corner as shown in the graphic.</p>

<p>
<a id="pgfId-1036996"></a> </p>
<div class="webflare-div-image">
<img width="206" height="165" src="images/chap3-20.gif" /></div>

<p>
<a id="pgfId-1037018"></a>The following table describes the various options available on clicking the <em>File</em> button.</p>
<table class="webflareTable" id="#id1036997">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036999"></a>Option</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037001"></a>Description</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037003"></a>New</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037005"></a>Initializes the Device Mapping Details table and enables you to create a file.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037007"></a>Open</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037009"></a>Opens an existing file.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037011"></a>Save</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037013"></a>Saves current file.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037015"></a>Save As</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037017"></a>Saves current file with a new name.</p>
</td>
</tr>
</tbody></table>

<h4><em>
<a id="pgfId-1039035"></a>Editing the Device Mapping Details</em></h4>

<p>
<a id="pgfId-1037020"></a>You can use the <em>Add/Edit</em> section to create, modify, and delete rows in the <em>Device Mapping Details</em> table. After editing the device mapping details, click the <em>File</em> -&gt; <em>Save</em> button before running Spice In.</p>
<p>
<a id="pgfId-1037021"></a>To create a row, select one of the entries in the Device Mapping Details section and then click the <em>Add Above</em> or the <em>Add Below</em> button. The <em>Add/Edit</em> section is enabled. </p>
<p>
<a id="pgfId-1046336"></a></p>

<div class="webflare-div-image">
<img width="668" height="251" src="images/chap3-21.gif" /></div>

<p>
<a id="pgfId-1046327"></a>Specify the device to map, device mapped to, device property to match, and the device term order in the <em>Device to Map</em>, <em>Device Mapped to</em>, <em>PropMatch</em> (Device Property to Match), and <em>Term Order</em> fields, respectively and then, click the <em>Commit</em> button. </p>
<p>
<a id="pgfId-1037022"></a>The new row is displayed in the <em>Device Mapping Details</em> table. </p>
<p>
<a id="pgfId-1037023"></a>To modify an existing row, select the row in the <em>Device Mapping Details</em> table, modify any of the properties in the <em>Add/Edit </em>section, and then click the <em>Commit</em> button to accept or the <em>Discard</em> button to cancel the changes. </p>
<p>
<a id="pgfId-1037024"></a>To delete a row, select the row in the <em>Device Mapping Details</em> table and then click the <em>Delete</em> button. </p>
<p>
<a id="pgfId-1037025"></a>You can use the <em>&lt;&lt;</em> and the <em>&gt;&gt;</em> buttons to traverse through the rows in the <em>Device Mapping Details</em> table. When you click either of the buttons, the values in the <em>Device to Map</em>, <em>Device Mapped to</em>, <em>Device Property to Match</em>, and <em>Device Term Order</em> fields get populated for the selected row.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1037026"></a>If you have specified a device mapping file on Device Map tab page but not enabled device mapping option on the Input tab page an error message will be displayed asking whether or not you want to enable the device mapping feature.</div>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1037027"></a>To link the device map file with Spice In, you must save the file onto the disk and select the Device Mapping File option in the Input tabbed page.</div>

<h4>
<a id="pgfId-1037030"></a><a id="21495"></a>Overwrite <a id="overwritecells"></a>Cells Tab</h4>
<p>
<a id="pgfId-1037034"></a></p>
<div class="webflare-div-image">
<img src="images/overwrite.gif" /></div>

<p>
<a id="pgfId-1037035"></a>The<em> Overwrite Cells</em> tab enables you to selectively retain cellviews in a netlist that you have already imported in the design. You can also selectively overwrite cellviews that you have imported. The <em>Overwrite</em> list box is populated with the cellviews in the output library specified in the <em>Output</em> tab. You can use the <em>Refresh</em> button to explicitly refresh the list with the cellviews in the current output library.</p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1037036"></a>
You must refresh after each import run.</div>

<p>
<a id="pgfId-1037037"></a>The following section describes the tasks you can perform using the option on the <em>Overwrite</em> <em>Cells</em> tab.</p>

<h4><em>
<a id="pgfId-1037038"></a>Overwriting All Cellviews </em></h4>

<p>
<a id="pgfId-1037039"></a>To overwrite all cellviews, select the <em>Overwrite Cellviews</em> check box, select the <em>All</em> radio button, and then click <em>OK</em> or <em>Apply</em>. All the cellviews in the netlist that you have imported will be overwritten.</p>

<h4><em>
<a id="pgfId-1037040"></a>Overwriting Cellviews Selectively</em></h4>

<p>
<a id="pgfId-1037041"></a>To selectively overwrite cellviews, select the <em>Overwrite Cellviews</em> check box and then click the <em>Selected</em> radio button. The <em>Overwrite</em> and <em>Do not Overwrite</em> list boxes are enabled. </p>
<p>
<a id="pgfId-1037042"></a>To overwrite cellviews, retain the cellviews in the <em>Overwrite</em> list box and move the others to the <em>Do not Overwrite</em> list box. To move cellviews to the <em>Do not Overwrite</em> list box, select the cellviews in the <em>Overwrite</em> list box and then click the <em>&gt;&gt;&gt;</em> button. You can use the <em>&lt;&lt;&lt;</em> button to move cellviews from the <em>Do Not Overwrite</em> list box to the <em>Overwrite</em> list box.</p>
<p>
<a id="pgfId-1037043"></a>You can also filter the cellviews list by specifying a search string in the text box below the lists and then click the <em>Select</em> button.</p>

<h4>
<a id="pgfId-1037045"></a><a id="57240"></a>Analog Schem<a id="analogsch"></a>atic Generation Tab</h4>

<p>
<a id="pgfId-1037047"></a>For description of the options in the Analog Schematic Generation tab, refer to the <strong><em><a actuate="user" class="URL" href="../conn2schuser/chap2.html#schgenOpt" show="replace" xml:link="simple">Analog Schematic Generation options</a></em></strong> section in the Connectivity-to-Schematic User Guide.</p>
<p>
<a id="pgfId-1038994"></a>Once you select the Analog Schematic Generation option in the <em>Schematic Generation</em> tab the Analog Schematic Generation tab page will be deselected.</p>

<p>
<a id="pgfId-1037055"></a></p>
<div class="webflare-div-image">
<img src="images/asg1.gif" /></div>
<p>
<a id="pgfId-1041069"></a></p>
<p>
<a id="pgfId-1044682"></a>After you add values in the required fields, you need to click the <em>OK</em> button to start the import process. Once you click the <em>OK</em> button, the progress bar is displayed.
</p>
<div class="webflare-div-image">
<img src="images/cancelimport.gif" /></div>

<p>
<a id="pgfId-1041073"></a>To cancel the import process, you can either click the <em>Cancel Import</em> button or the close <img src="images/close.gif" />
 button.</p>


<p>
<a id="pgfId-1044713"></a>After you cancel the import process, the Spice In aborted dialog box is displayed.<br /></p>

<div class="webflare-div-image">
<img src="images/abort.gif" /></div>
<h4>
<a id="pgfId-1037057"></a><a id="55983"></a>Customizing the Spice In Environment</h4>

<p>
<a id="pgfId-1037058"></a>To customize the default values of the fields in the Spice In form, do the following:</p>
<ol><li>
<a id="pgfId-1037060"></a>Copy the CDS environment file (<code>.cdsenv</code><a id="marker-1037059"></a>) from the following location to your current working directory:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1037061">
<a id="pgfId-1037061"></a><code><em>install_dir</em></code>/tools/dfII/etc/tools/spiceIn/</pre>
<a id="pgfId-1037062"></a>For more information about the <code>.cdsenv</code> file, see Chapter 9, &#8220;Specifying Environment Settings&#8221;, in the <em><a actuate="user" class="URL" href="../wincfg/wincfgTOC.html#firstpage" show="replace" xml:link="simple">Virtuoso Design Environment User Guide</a></em>.<br />
<a id="pgfId-1037064"></a>A sample Spice In <code>.cdsenv</code> file is shown below.<br />
<a id="pgfId-1037082"></a><div class="webflare-div-image">
<img width="499" height="187" src="images/chap3-27.gif" /></div></li><li>
<a id="pgfId-1037083"></a>Update the file based on your requirements and save it.<br />
<a id="pgfId-1037084"></a>The following table shows the default Spice In <code>.cdsenv</code> variables and the corresponding GUI options.<br />
<a id="pgfId-1037150"></a><table class="webflareTable" id="#id1037085">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1037087">
<a id="pgfId-1037087"></a>Spice In .cdsenv Variables</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1037089">
<a id="pgfId-1037089"></a>GUI Option</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037091"></a><code>topCell</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037094"></a><em><a actuate="user" class="URL" href="../transrefOA/chap3.html#topcell" show="replace" xml:link="simple">Top Cell</a></em></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037096"></a><code>logFile</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037099"></a><em><a actuate="user" class="URL" href="../transrefOA/chap3.html#logfile" show="replace" xml:link="simple">Log File</a></em></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037108"></a><code>language</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037111"></a><em><a actuate="user" class="URL" href="../transrefOA/chap3.html#netlistlang" show="replace" xml:link="simple">Netlist Language</a></em></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037113"></a><code>simName </code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037115"></a>This variable corresponds to one of the following options of </p>

<ul><li>
<a id="pgfId-1037116"></a><em>spice</em></li><li>
<a id="pgfId-1037117"></a><em>auCdl</em></li><li>
<a id="pgfId-1037118"></a><em>hspiceD</em></li><li>
<a id="pgfId-1037119"></a><em>spectre</em></li></ul>




<p>
<a id="pgfId-1037120"></a>The default value of this variable is <em>spectre</em>.</p>

<p>
<a id="pgfId-1037121"></a>The value for the variable <code>simName cannot be NULL.</code></p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037123"></a><code>outputSimName</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037126"></a><em><a actuate="user" class="URL" href="../transrefOA/chap3.html#simulator" show="replace" xml:link="simple">Save Device Simulation Information in CDF for</a></em></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037128"></a><code>outputViewName</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037131"></a><em><a actuate="user" class="URL" href="../transrefOA/chap3.html#name" show="replace" xml:link="simple">Output View Name</a></em></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037133"></a><code>outputViewType</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037136"></a><em><a actuate="user" class="URL" href="../transrefOA/chap3.html#type" show="replace" xml:link="simple">Output View Type</a></em></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037146"></a><code>masterCellForGnd</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037149"></a><em><a actuate="user" class="URL" href="../transrefOA/chap3.html#masterforground" show="replace" xml:link="simple">Master Cell for Ground Node</a></em></p>
</td>
</tr>
</tbody></table></li><li>
<a id="pgfId-1037151"></a>Restart Spice In to load the changed settings.</li></ol>















<h4>
<a id="pgfId-1037153"></a><a id="49358"></a>Running Spice In</h4>

<ol><li>
<a id="pgfId-1037157"></a>Start the Spice In GUI. (see <a href="chap3.html#14344">Launching the Spice In GUI</a>)</li><li>
<a id="pgfId-1037158"></a>Specify the required input information in the <em>Input</em> and <em>Device Map</em> tabs to import your netlist. You can customize the output schematic using the options on the <em>Schematic Generation</em> tab. (see <a href="chap3.html#68352">Working with the Spice In GUI</a>)</li><li>
<a id="pgfId-1037162"></a>Click <em>OK</em> or <em>Apply</em>. Spice In begins the import.<br />
<a id="pgfId-1037163"></a>Based on whether the execution is successful or not, the <em>Spice In succeeded!</em> or the <em>Spice In failed!</em> dialog box comes up.<br />
<a id="pgfId-1037167"></a><div class="webflare-div-image">
<img width="296" height="132" src="images/chap3-28.gif" /></div></li><li>
<a id="pgfId-1037168"></a>Click <em>Yes</em> to view the log file.<br />
<a id="pgfId-1037169"></a>The <em>&lt;logfile&gt;</em> window appears.<br />
<a id="pgfId-1037173"></a><div class="webflare-div-image">
<img width="663" height="580" src="images/chap3-29.gif" /></div>
<a id="pgfId-1037174"></a>You can go through this file to view the progress of Spice In as well as the intermediate and final outputs generated by Spice In.</li></ol>















<h3>
<a id="pgfId-1037177"></a><a id="48856"></a>Run<a id="commandline"></a>ning Spice In from Command Line</h3>

<p>
<a id="pgfId-1037178"></a>You can run Spice In from the command line by using the command <code>spiceIn</code> and specifying a parameter file name. The parameter file must contain the mandatory import parameter options (<code>netlistFile</code>, <code>outputLib</code>, and <code>refLibList</code>) and their values. Specify the parameter file using the <code>param</code> option. For more information about the parameter file, see <a href="chap3.html#81369">Creating a Spice In Parameter File</a> and <a href="chap3.html#54028">Mapping Parameter File Options with the Spice In GUI Options</a>.</p>
<p>
<a id="pgfId-1037185"></a>Use the following syntax for running the <code>spiceIn</code> command:</p>
<table class="webflareTable" id="#id1037186">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1037188">
<a id="pgfId-1037188"></a>Syntax</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<a id="pgfId-1037190"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
spiceIn -param &lt;<code><em>paramFileName</em></code>&gt;</pre>
</td>
</tr>
</tbody></table>
<p>
<a id="pgfId-1037192"></a>The other options that can be used with the <code>spiceIn</code> command are listed below.</p>
<table class="webflareTable" id="#id1037193">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049283"></a><code>-help</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049285"></a>Displays the descriptions of the command-line options.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049287"></a><code>-V or -version</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049289"></a>Provides Cadence release version.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049291"></a><code>-W</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049293"></a>Provides Cadence release subversion.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1049295"></a><code>-param </code><span class="webflare-courier-new" style="white-space:pre"><em>paramFile</em></span><code> or -p </code><span class="webflare-courier-new" style="white-space:pre"><em>paramFile</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1050595"></a><code>&#160;&#160;                 </code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049297"></a>Takes SKILL parameter file as input</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1049300"></a><code>-netlistFile </code><span class="webflare-courier-new" style="white-space:pre"><em>netlistFile</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1050636"></a><code>&#160;&#160;                 </code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049302"></a>Takes the file to be imported</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1049304"></a><code>-outputList </code><span class="webflare-courier-new" style="white-space:pre"><em>outputLibraryName</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1050677"></a><code>&#160;&#160;                 </code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049306"></a>Takes the output library for imported data</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049308"></a><code>-language </code><span class="webflare-courier-new" style="white-space:pre"><em>language</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049310"></a>Takes the Netlist language</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1050714"></a><code>-reflibList </code><span class="webflare-courier-new" style="white-space:pre"><em>reflibList</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1050863"></a><code>&#160;&#160;                 </code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049314"></a>Takes the list of reference libraries (in double quotes if multiple libraries)</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1050718"></a><code>-devmapFile </code><span class="webflare-courier-new" style="white-space:pre"><em>devMapFile</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1050877"></a><code>&#160;&#160;                 </code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049318"></a>Takes the device mapping to be used</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049320"></a><code>-noAsg</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1049322"></a>Does not use Enhanced Analog Schematic Generation</p>
</td>
</tr>
</tbody></table>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1037236"></a>The parameter values specified in command line override the values in the parameter file.</div>

<div class="webflare-information-macro webflare-macro-warning">
<a id="pgfId-1041787"></a>
The spiceIn command options V, W, and version are case-sensitive. The remaining commands are NOT case sensitive.</div>
<h2>
<a id="pgfId-1037239"></a><a id="58353"></a>Inherited Connections Supported</h2>

<p>
<a id="pgfId-1037240"></a>Inherited connections enables you to selectively override global signals within your design originated in the Virtuoso<sup>&#174;</sup> Schematic Editor. To have this override information available to other Cadence<sup>&#174;</sup> tools across the design flow, the information is communicated to the software by means of net expressions and a class of properties called <code>netSet</code> properties.</p>
<p>
<a id="pgfId-1037241"></a>Initially, while importing a spice family netlist in OA database using Spice In, user typically needs symbol views of primitive devices to have exact number of terminals as used on the instance line, failing which the graphical view is not created successfully. </p>
<p>
<a id="pgfId-1037242"></a>However, now Spice In will be able to use the primitive devices symbol views with lesser number for IO terminals to create graphical views from a textual netlist without breaking the connectivity information.</p>

<div class="webflare-information-macro webflare-macro-warning">
<a id="pgfId-1037243"></a>
There should be inherited terminals (nets with net expressions) only on primitive device views. If there are inherited net expressions at any hierarchical cellview level, the solution will not work.</div>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1037244"></a>User will be able to write the required information in the device mapping file, which will be used by Spice In to identify the net expression used in the primitive device.</div>

<h3>
<a id="pgfId-1037245"></a>Functional Description</h3>

<p>
<a id="pgfId-1037246"></a>The Cadence Netlister generated netlist tries to resolve inherited connection by providing extra terminals at sub-circuit interface level. This extra terminal set is a union of net expressions in the cellview and net expressions defined on the instance masters of the instances used in the cellview. The generated netlist does not have any marking between the two classes of extra terminals.</p>

<h4>
<a id="pgfId-1037247"></a>Importing Sub-Circuit Terminals</h4>

<p>
<a id="pgfId-1037248"></a>Spice In iterates over all the extra terminals at the sub-circuit interface. Therefore, all extra terminals (ihn*) will be imported as schematic terminals too.</p>

<h4>
<a id="pgfId-1037249"></a>Importing Instance Connections</h4>

<p>
<a id="pgfId-1037250"></a>The instance connection in the netlist may have extra connection representing net expression used in the switch view during netlisting. The textual netlist will not have any information about the switch view used during netlisting. Therefore, Spice In will search for inherited terminal in the following order:</p>
<ul><li>
<a id="pgfId-1037251"></a>First, Spice In will search for inherited terminal in the device map file. To view the syntax of inherited terminal refer to <a href="chap3.html#67445">The inhTerms Construct</a>.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1037255"></a>The terminal must be a part of <code>termOrder</code>.</div></li><li>
<a id="pgfId-1037256"></a>If the information is not found in the device map then it will search the user-defined <code>simview</code>. For more information, refer to <a href="chap3.html#31030">Specifying the Input for Device Information</a></li></ul>


<p>
<a id="pgfId-1037260"></a>To process these extra terminals Spice In will look up the master in the device mapping file supplied by the user to identity the name of net expression used in the switch view. If such information is found in device mapping file, the instance will be created in the schematic with connections depending on how the sub-circuit terminals are created in the schematic.</p>

<h4>
<a id="pgfId-1037261"></a>Creating Extra Sub-circuit Terminals</h4>

<p>
<a id="pgfId-1037262"></a>If the sub-circuit is imported with extra terminal, Spice In has the flexibility of not creating <code>netSet</code> on hierarchical instances because there are explicit terminals to pass down the value from top to bottom. However, in this case Spice In will create <code>netSet</code> on all primitive devices found in the netlist.</p>

<h4>
<a id="pgfId-1037263"></a>Scenario</h4>

<p>
<a id="pgfId-1037264"></a>There can be situations where the primitive device using capacitor with a symbol having two terminals and the switch view having three terminals with one terminal, BULK that has a netExpression, [bulk:%:gnd!]</p>
<p>
<a id="pgfId-1037268"></a></p>

<div class="webflare-div-image">
<img src="images/ex1.GIF" /></div>

<p>
<a id="pgfId-1037269"></a>The generated netlist is:</p>
<p>
<a id="pgfId-1037270"></a><code>.subckt bottom A B inh_bulk ## this is the extra terminal</code></p>
<p>
<a id="pgfId-1037271"></a><code>C0 A B vdd! cap</code></p>
<p>
<a id="pgfId-1037272"></a><code>C1 A B inh_bulk cap</code></p>
<p>
<a id="pgfId-1037273"></a><code>C2 A B A cap</code></p>
<p>
<a id="pgfId-1037274"></a><code>.ends</code></p>
<p>
<a id="pgfId-1037275"></a></p>
<p>
<a id="pgfId-1037279"></a></p>

<div class="webflare-div-image">
<img src="images/ex2.GIF" /></div>

<p>
<a id="pgfId-1037280"></a>The generated netlist is:</p>
<p>
<a id="pgfId-1037281"></a><code>.subckt middle A B inh_bulk</code></p>
<p>
<a id="pgfId-1037282"></a><code>Xbot0 A B vdd!</code></p>
<p>
<a id="pgfId-1037283"></a><code>Xbot1 A B inh_bulk</code></p>
<p>
<a id="pgfId-1037284"></a><code>Xbot2 A B B</code></p>
<p>
<a id="pgfId-1037285"></a><code>.ends</code></p>
<p>
<a id="pgfId-1037286"></a></p>
<p>
<a id="pgfId-1037290"></a></p>

<div class="webflare-div-image">
<img src="images/ex3.GIF" /></div>

<p>
<a id="pgfId-1037291"></a>The generated netlist is:</p>
<p>
<a id="pgfId-1037292"></a><code>Xmid0 A B gnd! middle</code></p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1037293"></a>Default value (gnd!) automatically created in netlist</div>
<p>
<a id="pgfId-1037294"></a><code>Xmid1 A B vdd! middle</code></p>
<p>
<a id="pgfId-1037295"></a><code>Xmid2 A B A middle</code></p>
<p>
<a id="pgfId-1037296"></a></p>
<p>
<a id="pgfId-1037297"></a>Now, if you import the complete netlist in a new Spice In then there can be two schematics with extra terminals.</p>
<p>
<a id="pgfId-1037301"></a></p>

<div class="webflare-div-image">
<img src="images/ex4.GIF" /></div>

<p>
<a id="pgfId-1037302"></a></p>
<p>
<a id="pgfId-1037306"></a></p>

<div class="webflare-div-image">
<img src="images/ex5.GIF" /></div>

<p>
<a id="pgfId-1037310"></a></p>

<div class="webflare-div-image">
<img src="images/ex6.GIF" /></div>

<p>
<a id="pgfId-1037311"></a>The netlist generated after netlisting the above scenario is:</p>
<p>
<a id="pgfId-1037312"></a><code>.subckt bottom A B inh_bulk</code></p>
<p>
<a id="pgfId-1037313"></a><code>C0 A B vdd! cap</code></p>
<p>
<a id="pgfId-1037314"></a><code>C1 A B inh_bulk cap</code></p>
<p>
<a id="pgfId-1037315"></a><code>C1 A B A</code></p>
<p>
<a id="pgfId-1037316"></a><code>.ends</code></p>
<p>
<a id="pgfId-1037317"></a></p>
<p>
<a id="pgfId-1037318"></a><code>.subckt middle A B inh_bulk</code></p>
<p>
<a id="pgfId-1037319"></a><code>Xbot0 A B vdd! bottom</code></p>
<p>
<a id="pgfId-1037320"></a><code>Xbot1 A B inh_bulk bottom</code></p>
<p>
<a id="pgfId-1037321"></a><code>Xbot2 A B B bottom</code></p>
<p>
<a id="pgfId-1037322"></a><code>.ends</code></p>
<p>
<a id="pgfId-1037323"></a></p>
<p>
<a id="pgfId-1037324"></a>//loose instances</p>
<p>
<a id="pgfId-1037325"></a><code>Xmid0 A B gnd! middle</code></p>
<p>
<a id="pgfId-1037326"></a><code>Xmid1 A B vdd! middle</code></p>
<p>
<a id="pgfId-1037327"></a><code>Xmid2 A B A middle</code></p>

<h2>
<a id="pgfId-1037329"></a><a id="81369"></a>Creating a Spice In Parameter File</h2>

<p>
<a id="pgfId-1037330"></a>The Spice In parameter file, written in SKILL language, is a Disembodied Property List (DPL) of parameters specified as name-value pairs. These values are required to import the netlist file. The various parameters map to different fields in the GUI. The parameter file is used both to populate the fields in the GUI and also to save values from the GUI. You can create a Spice In parameter file in the following ways:</p>
<ul><li>
<a id="pgfId-1037331"></a>Use the <em>Save</em> button in the Spice In form to save the information currently entered in the form. The information is saved to the file you specify as the parameter file. You can use this method to create a Schematic Generation parameter file as well.</li><li>
<a id="pgfId-1037332"></a>Copy the sample parameter file, <code>param.il</code>, from the <code>samples/spiceIn</code> directory to your current working directory and modify the contents of the file as required.</li></ul>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1037333"></a>You can use any of the above methods to create a <em>Schematic Generation </em>parameter file.</div>
<p>
<a id="pgfId-1037334"></a>It is mandatory to specify the following parameters and their values in the parameter file:</p>
<ul><li>
<a id="pgfId-1037335"></a><code>netlistFile</code>: Input netlist file</li><li>
<a id="pgfId-1037336"></a><code>outputLib</code>: Name of the output library</li><li>
<a id="pgfId-1037337"></a><code>refLibList</code>: List of reference libraries</li></ul>


<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1037338"></a>Spice In does not support the following legacy (5141 based CDL In) parameter file options:</div>

<p>
<a id="pgfId-1037352"></a></p>
<div class="webflare-div-image">
<img width="520" height="137" src="images/chap3-37.gif" /></div>

<p class="webflare-indent1">
<a id="pgfId-1037353"></a>To convert these CDLIn parameter file options to a Spice In readable parameter file, run the <code>cdl2spcTmpl.pl</code> script. The <code>cdl2spcTmpl.pl</code> script converts the above CDLIn parameter file options to the following Spice In parameter options. For more information, type <code>cdl2spcTmpl.pl -h </code>on the command line. The new mapping is as follows:</p>

<p>
<a id="pgfId-1037367"></a></p>
<div class="webflare-div-image">
<img width="668" height="136" src="images/chap3-38.gif" /></div>
<h3>
<a id="pgfId-1037369"></a>Sample Spice In <a id="marker-1037368"></a>Parameter File</h3>
<p>
<a id="pgfId-1037393"></a></p>
<div class="webflare-div-image">
<img width="453" height="344" src="images/chap3-39.gif" /></div>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1037394"></a>The option names in the parameter file are case-insensitive when running through command line. However, when loading the option names in parameter file using the GUI, the option names are case sensitive.</div>

<h3>
<a id="pgfId-1037396"></a><a id="54028"></a>Mapping Parameter File Options with the Spice In GUI Options</h3>

<p>
<a id="pgfId-1037397"></a>The following table provides a list of all the Spice In parameter file options and their corresponding Spice In GUI options.</p>

<p>
<a id="pgfId-1046710"></a></p>
<table class="webflareTable" id="#id1046477">
<tbody><tr>
<th class="webflareTh" colspan="3" rowspan="1">
<span class="tbl-head" id="#id1046479">
<a id="pgfId-1046479"></a>Parameter File</span>
</th>
<th class="webflareTh" colspan="1" rowspan="2">
<span class="tbl-head" id="#id1046485">
<a id="pgfId-1046485"></a>Spice In GUI Option</span>
</th>
</tr>
<tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1046487">
<a id="pgfId-1046487"></a>Parameter Name</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1046489">
<a id="pgfId-1046489"></a> Valid Values</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1046491">
<a id="pgfId-1046491"></a>Default Value</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046495"></a><code>language</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046497"></a>cdl, hspice, spectre, spice</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046499"></a>spectre</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046502"></a><em><a href="chap3.html#netlistlang">Netlist Language</a></em></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046504"></a><code>netlistFile</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046506"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046508"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046511"></a><em><a href="chap3.html#netlistfile">Netlist File</a></em></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046513"></a><code>topCell</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046515"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046517"></a>&#8217;top&#8217;</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046520"></a><em><a href="chap3.html#topcell">Top Cell</a></em></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046522"></a><code>outputLib</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046524"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046526"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046529"></a><em><a href="chap3.html#library">Output Library</a></em></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046531"></a><code>refLibList</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046533"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046535"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046538"></a><em><a href="chap3.html#reference">Reference Library List</a></em></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046540"></a><code>logFile</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046542"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046544"></a>spiceIn.log</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046547"></a><em>Log File</em></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046549"></a><code>outputViewType</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046551"></a>netlist, schematic</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046553"></a>schematic</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046556"></a><em><a href="chap3.html#type">Output View Type</a></em></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046558"></a><code>importSubList</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046560"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046562"></a>&quot;&quot; (all subckts in netlist)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046565"></a><em><a href="chap3.html#type">Import Sub-circuits List</a></em></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046567"></a><code>outputViewName</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046569"></a>netlist, schematic<br /></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046571"></a>- netlist<br />  (outputViewType     = &quot;netlist&quot;)<br /> - schematic<br />   (outputViewType    = &quot;schematic&quot;)</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046574"></a><em><a href="chap3.html#name">Output View Name</a></em></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046576"></a><code>devMapFile</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046578"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046580"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046583"></a><em><a href="chap3.html#devicemapfile">Device-Map File</a></em></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046585"></a><code>simName</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046587"></a>ams, aucdl, hspiced, spectre</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046589"></a>spectre</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046591"></a><strong>
Simulation Information Section in CDF</strong>
</p>
<p>
<a id="pgfId-1046592"></a>Note: This GUI option is grayed out for this release. This is a known issue and will be taken up in the next release.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046594"></a><code>outputSimName</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046596"></a>ams, auCdl, hspiced, spectre</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046598"></a>spectre</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046601"></a><em><a href="chap3.html#simulator">Save Device Simulation Information in CDF for</a></em></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046603"></a><code>masterCellForGnd</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046605"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046607"></a>gnd</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046610"></a><em><a href="chap3.html#masterforground">Master Cell for Ground Node</a></em></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046612"></a><code>overwriteCells</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046614"></a>all, none, selected</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046616"></a>none</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046619"></a><em><a href="chap3.html#overwritecells">Overwrite Cells Tab</a></em></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046621"></a><code>overwriteCellsList</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046623"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046625"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046628"></a><em><a href="chap3.html#overwritecells">Overwrite Cells Tab </a></em></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046630"></a>conn2schArgs</p>
</td>
<td class="webflareTd" colspan="1" rowspan="8">
<p>
<a id="pgfId-1046632"></a><em></em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="8">
<p>
<a id="pgfId-1046634"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046636"></a>Schematic Generation Tab</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046638"></a><code>+PLACE_ONLY</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046644"></a><em>Full Place and Route</em></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046646"></a><code>NOSQUARE</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046652"></a><em>Generate Square Schematics</em></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046654"></a><code>MIN_CROSSOVERS</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046660"></a><em>Minimize Crossovers</em></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046662"></a><code>FAST_LABELS</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046668"></a><em>Optimize Wire Label Locations</em></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046670"></a><code>+NOXTRSCH</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046676"></a><em>Extract Schematics</em></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046678"></a><code>VERBOSE</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046684"></a><em>Verbose</em></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046686"></a>ASG</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046692"></a>Enhanced Schematic Generation</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046694"></a>conn2schParamFile</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046696"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046698"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046700"></a>No equivalent option in the GUI</p>
<p>
<a id="pgfId-1046701"></a>Used to specify a schematic generation parameter file that contains the schematic generation parameters and their values</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046703"></a>paramCaseValue</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046705"></a>lower</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046707"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1046709"></a>If paramCase value is set to <code>lower</code>, then it will change the parameter to lower case. However, if this option is not specified in the parameter file, then it will take to default param case.</p>
</td>
</tr>
</tbody></table>
<h2>
<a id="pgfId-1046745"></a><a id="90454"></a><a id="devicemapfile"></a>C<a id="spice 24"></a><a id="Spice 24"></a>reati<a id="Spice-24"></a>ng a <a id="marker-1046743"></a>Device<a id="spice-24"></a>-Map File</h2>

<p>
<a id="pgfId-1046746"></a>A device-map file is a list of mapping between model names and master cells. The model name is present in the definition of an instance in the input netlist. </p>
<p>
<a id="pgfId-1053405"></a>Tool uses the following model names for different devices:</p>
<ul><li>
<a id="pgfId-1053406"></a><code>nfet</code> and <code>pfet</code> for a MOSFET device</li><li>
<a id="pgfId-1053439"></a><code>resistor</code> for a resistor device</li><li>
<a id="pgfId-1053445"></a><code>capacitor</code> for a capacitor device</li><li>
<a id="pgfId-1053410"></a><code>diode</code> for diode a device</li><li>
<a id="pgfId-1053411"></a><code>npn</code> and <code>pnp</code> for a BJT device</li><li>
<a id="pgfId-1053399"></a><code>inductor</code> for inductor a device</li></ul>





<p>
<a id="pgfId-1053397"></a>Spice In needs the master cell name of an instance to create the instance in the schematic. You can specify the device-map file name in the <em>Device Map</em> form or in the parameter file by using the <code>&#8216;devMapFile</code> option.spice 24 Spice-24 Spice 24 spice-24</p>
<p>
<a id="pgfId-1037637"></a>The Spice In device-map file includes six constructs &#8212; <code>devSelect</code>, <code>termOrder, propMatch, inhTerms, propMap, </code>and<code> addProp</code>. These are further explained in the sections below.</p>

<h3>
<a id="pgfId-1037638"></a>The devSelect Construct</h3>

<p>
<a id="pgfId-1037639"></a>This construct is used for specifying the device maps in a device-map file. It allows you to replace the name of the master cell of an instance with the user-defined master cell name. </p>

<p>
<a id="pgfId-1037658"></a></p>
<table class="webflareTable" id="#id1037640">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1037642">
<a id="pgfId-1037642"></a>Syntax</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<a id="pgfId-1037644"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
 devSelect := &lt;<code><em>primitiveDeviceName</em></code>&gt; &lt;<code><em>userDefinedMasterCellName</em></code>&gt;</pre>
</td>
</tr>
</tbody></table>
<table class="webflareTable" id="#id1037645">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037647"></a>where,</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037649"></a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037651"></a><span class="webflare-courier-new" style="white-space:pre"><em>primitiveDeviceName</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037653"></a>Master cell of an instance as specified in the input netlist file.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037655"></a><span class="webflare-courier-new" style="white-space:pre"><em>userDefinedMasterCellName</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1037657"></a>Master cell name that you want Spice In to use for that instance. This master cell is likely present in any of the reference libraries (user&#8217;s PDKs).</p>
</td>
</tr>
</tbody></table>
<p class="webflare-indent2">
<a id="pgfId-1043061"></a>There should be a whitespace character on either side of the construct separator (:=). Spice In is case-insensitive to construct names. Therefore, <code>devSelect</code> may be written as <code>DevSeLect</code> or with any other case variation.</p>
<h4>
<a id="pgfId-1043072"></a>Example 1</h4>

<p>
<a id="pgfId-1043073"></a>In the following example, <code>trnmos</code> is mapped to <code>nmos4</code> and <code>trpnp</code> to <code>pmos4</code>.</p>

<p>
<a id="pgfId-1043080"></a></p>
<div class="webflare-div-image">
<img width="189" height="44" src="images/chap3-40.gif" /></div>
<h4>
<a id="pgfId-1043058"></a>Example 2</h4>

<p>
<a id="pgfId-1037670"></a>If no device-mapping is used, Spice In assumes the master cell name to be the same as the model name used in the instance definition. It then uses this master cell name to search for its symbol view in the specified reference libraries.</p>
<p>
<a id="pgfId-1037671"></a>Consider the following instance definition: </p>

<p>
<a id="pgfId-1037678"></a></p>
<div class="webflare-div-image">
<img width="172" height="40" src="images/chap3-41.gif" /></div>

<p>
<a id="pgfId-1037679"></a>In this instance definition, <code>resistor</code> is the model name for the instance <code>R0</code>. If no device-mapping is used, it can be deduced that the master cell for <code>R0</code> is also <code>resistor</code>. In that case, Spice In searches for the symbol view of the master cell <code>resistor</code> in the reference libraries.</p>

<h3>
<a id="pgfId-1037680"></a>The termorder Construct</h3>

<p>
<a id="pgfId-1037681"></a>The device-map file allows another construct definition, that of the <code>termOrder</code>. In the case of digital PDKs, CDF is not present at the cell level. In that case, you can specify the names and order of the terminals at the master-cell level through the <code>termOrder</code> construct of device map.</p>

<p>
<a id="pgfId-1037687"></a></p>
<table class="webflareTable" id="#id1037682">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1037684">
<a id="pgfId-1037684"></a>Syntax</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<a id="pgfId-1037686"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
 termOrder := &lt;<code><em>list of terminals separated by a whitespace character</em></code>&gt;</pre>
</td>
</tr>
</tbody></table>
<h3>
<a id="pgfId-1037688"></a>The propMatch <a id="propMatch"></a>Construct</h3>

<p>
<a id="pgfId-1037689"></a>Each specified property name must be followed by the property value. The property names must exist in the specified primitive devices. Also, the values of each specified property must match else mapping will not be done for the device. Spice In supports all valid properties of an instance while matching.</p>
<p>
<a id="pgfId-1037690"></a>The propMatch construct is used in both Spice and CDL context to match on basis of properties to different library cells. </p>
<p>
<a id="pgfId-1048033"></a>Example: </p>
<p>
<a id="pgfId-1048053"></a>Consider two voltage devices in a SPICE netlist with different types:</p>
<p>
<a id="pgfId-1047835"></a><code>V0 M N PULSE DC=1.0</code></p>
<p>
<a id="pgfId-1047836"></a><code>V1 A B SIN DC=1.0</code></p>
<p>
<a id="pgfId-1047838"></a>To map each type to a different cell, you need to create device mapping as follows:</p>
<p>
<a id="pgfId-1047840"></a><code>devSelect := vsource vpulse</code></p>
<p>
<a id="pgfId-1047841"></a><code>propMatch := type pulse</code></p>
<p>
<a id="pgfId-1047843"></a>and</p>
<p>
<a id="pgfId-1047845"></a><code>devSelect := vsource vsin</code></p>
<p>
<a id="pgfId-1047846"></a><code>propMatch := type sine</code></p>
<p>
<a id="pgfId-1048061"></a>Example: </p>
<p>
<a id="pgfId-1048062"></a>Consider the following CDL netlist:</p>
<p>
<a id="pgfId-1048090"></a><code>.SUBCKT spiceprob A B C D</code></p>
<p>
<a id="pgfId-1048091"></a><code>M1 A B C D NM1 w=3m</code></p>
<p>
<a id="pgfId-1048092"></a><code>M2 A B C D NM2</code></p>
<p>
<a id="pgfId-1048093"></a><code>M3 A B C D NM3 w=1 l=2</code></p>
<p>
<a id="pgfId-1048094"></a><code>.ENDS</code></p>
<p>
<a id="pgfId-1048095"></a>To map each type to a different cell, you need to create device mapping as follows:</p>
<p>
<a id="pgfId-1048101"></a><code>devSelect := nfet nmos4</code></p>
<p>
<a id="pgfId-1048102"></a><code>propMatch := subtype NM2</code></p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1048103"></a>The CDL property, <code>subtype</code> is an internal property that was considered during spice import.</div>
<p>
<a id="pgfId-1048104"></a><code>devSelect := nfet nmos4</code></p>
<p>
<a id="pgfId-1048105"></a><code>propMatch := l 2</code></p>
<p>
<a id="pgfId-1048106"></a></p>
<p>
<a id="pgfId-1048107"></a><code>devSelect := nfet nmos</code></p>
<p>
<a id="pgfId-1048108"></a><code>propMatch := w 0.003</code></p>

<h3>
<a id="pgfId-1043403"></a><a id="67445"></a>The inhTerms Construct</h3>

<p>
<a id="pgfId-1043404"></a>This construct is used for specifying the inherited terminals in the device-map file.</p>

<p>
<a id="pgfId-1043410"></a></p>
<table class="webflareTable" id="#id1043405">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1043407">
<a id="pgfId-1043407"></a>Syntax</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<a id="pgfId-1043409"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
 inhTerms := &lt;terminal name&gt; [&lt;NetExp&gt;]</pre>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1037718"></a>Example:</p>

<a id="pgfId-1037719"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
inhTerms := B [@bulk_n:%:gnd!]</pre>
<h3>
<a id="pgfId-1037720"></a>The propMap Construct</h3>

<p>
<a id="pgfId-1037721"></a>This construct is used if properties of the mapped device are different from the primitive device.</p>

<p>
<a id="pgfId-1037727"></a></p>
<table class="webflareTable" id="#id1037722">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1037724">
<a id="pgfId-1037724"></a>Syntax</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<a id="pgfId-1037726"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
 propMap := &lt;list of properties to map&gt;</pre>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1048790"></a>Example:</p>
<p>
<a id="pgfId-1037729"></a>If the primitive device, <code>pfet</code> has properties <code>w </code>and<code> l </code>and the corresponding property in the mapped device, <code>pmos</code> is width and length, then the <code>propMap</code> syntax is as follows:</p>

<a id="pgfId-1037730"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
propMap := w width l length</pre>

<p>
<a id="pgfId-1037731"></a>If both user-defined propmapping (device map propmapping) and cdfPropmapping is given then priority is given to user-defined propmapping.</p>
<p>
<a id="pgfId-1037732"></a>For example, if in cdfPropmapping <code>w</code> may be mapped to width and in device map file, <code>w</code> is mapped to <code>wid</code>, then while creating a netlist, <code>wid</code> property will be created.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1048911"></a>If you do not want to create a property or overwrite an existing property, then you can map this property to another property by using the propMap construct in device mapping file.</div>

<h3>
<a id="pgfId-1037733"></a>The addProp Construct</h3>

<p>
<a id="pgfId-1037734"></a>This construct is used to specify additional properties and their values if the mapped device has user-defined string properties. Both property name and property value must be specified. While adding properties, propmapping is not considered.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1037735"></a>The property value is of <code>string</code> type.</div>
<p>
<a id="pgfId-1037741"></a></p>
<table class="webflareTable" id="#id1037736">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1037738">
<a id="pgfId-1037738"></a>Syntax</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<a id="pgfId-1037740"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
 addProp := &lt;list of additional properties to map&gt;</pre>
</td>
</tr>
</tbody></table>
<p>
<a id="pgfId-1037742"></a>Example:</p>
<p>
<a id="pgfId-1037743"></a>If the primitive device, <code>pfet</code> has anadditional property <code>Name</code> and the corresponding property value is <code>Pm01</code>, then the <code>addProp</code> syntax will be as follows:</p>

<a id="pgfId-1037744"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
addProp := Name Pm01</pre>

<p>
<a id="pgfId-1037748"></a><a id="70561"></a>Handling Parameters</p>
<p>
<a id="pgfId-1044990"></a>This section explains how Spice In handles global and sub-circuit level parameters.</p>

<h3>
<a id="pgfId-1037749"></a>Global Parameters</h3>

<ul><li>
<a id="pgfId-1037750"></a>For Spice, Spectre Netlist</li></ul>
<p>
<a id="pgfId-1037751"></a>Global parameters are defined at the beginning of a netlist and outside the sub-circuit definitions. It is optional to provide a value to a global parameter. The keywords <code>.PARAM</code> and <code>parameters</code> are used to define a global parameter in HSpice and Spectre netlists, respectively. </p>
<p>
<a id="pgfId-1037752"></a>Spice In imports global parameters as design variables at the top-cell level. It creates the property <code>designVarList</code> at the top-cell level. The value of <code>designVarList</code> is a list of property name-value pairs. When you open ADE from VSE, the design variables can be viewed in ADE. You can change the values of the design variables and do pre-processing before the simulation. This feature of Spice In provides a stronger integration channel between VSE and ADE.</p>
<p>
<a id="pgfId-1037753"></a>The example of amplifier mentioned previously, consider the following snippet of the Spectre netlist:</p>

<p>
<a id="pgfId-1037796"></a></p>
<div class="webflare-div-image">
<img width="597" height="595" src="images/chap3-42.gif" /></div>

<p>
<a id="pgfId-1037797"></a>This netlist contains the global parameters <code>CAP</code> and <code>RES</code> with the default value of <code>.8p </code>and<code> 100ohms, </code>respectively. When Spice In imports this netlist, <code>CAP</code> and <code>RES</code> are created as design variables on <code>ampTest</code>, which is the top cell. The following figure of ADE-L opened from VSE shows that the design variable along with its value has been imported.</p>

<p>
<a id="pgfId-1037807"></a></p>
<div class="webflare-div-image">
<img width="669" height="465" src="images/chap3-43.gif" /></div>

<ul><li>
<a id="pgfId-1037808"></a>For a CDLNetlist</li></ul>
<p>
<a id="pgfId-1037809"></a>Global parameters are defined usually at the top of netlist using .PARAM control statement. The global parameters are added to each sub-circuit that uses the global parameters in its instance line. These global parameters are stored as CDF properties at base level and the default values are assigned as given in the netlist. The data type of these properties is also determined from the netlist.</p>
<p>
<a id="pgfId-1037810"></a>For example, consider the following snippet of a CDL netlist</p>
<p>
<a id="pgfId-1037820"></a></p>

<div class="webflare-div-image">
<img width="326" height="95" src="images/chap3-44.gif" /></div>

<p>
<a id="pgfId-1037821"></a>After importing, the CDF for sub-circuit TEST will be p1(default value 10p), p2(default value10u) and g2(default value 20u).</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1037822"></a>g2 is appearing in the CDF of TEST because its a global parameter and is used at instance M0.</div>
<p>
<a id="pgfId-1037826"></a></p>

<div class="webflare-div-image">
<img width="668" height="449" src="images/chap3-45.gif" /></div>
<h3>
<a id="pgfId-1037827"></a>Sub-Circuit Level Parameters</h3>

<p>
<a id="pgfId-1037828"></a>Sub-circuit level parameters are defined at the sub-circuit level. It is optional to provide a value to a sub-circuit level parameter. Just like global parameters, the keywords <code>.PARAM</code> and <code>parameters</code> are used to define a local parameter in HSpice and Spectre netlists, respectively. In case of CDL these parameters are specified after then IO pin declaration at SUBCKT statement.</p>
<p>
<a id="pgfId-1037829"></a>Spice In imports sub-circuit level parameters as CDF Component Parameters at the base-cell level for that sub-circuit. The default value assigned to a sub-circuit level parameter is saved as the default value of the corresponding CDF Component Parameter.</p>
<p>
<a id="pgfId-1037830"></a>Consider the following sub-circuit definition used in the illustrative netlist:</p>
<p>
<a id="pgfId-1037848"></a></p>

<div class="webflare-div-image">
<img width="389" height="265" src="images/chap3-46.gif" /></div>

<p>
<a id="pgfId-1037849"></a>The sub-circuit <code>amplifier</code> has the sub-circuit level parameter <code>my_res </code>and <code>my_cap</code>. No default value is assigned to <code>my_res</code>. However, <code>my_cap </code>has a default value of <code>100f.</code>The following figure shows the CDF Component Parameter after Spice In runs on the given netlist.</p>

<p>
<a id="pgfId-1037854"></a><a id="41824"></a></p>
<div class="webflare-div-image">
<img width="666" height="449" src="images/chap3-47.gif" /></div>

<p>
<a id="pgfId-1037855"></a></p>

<h2>
<a id="pgfId-1037857"></a><a id="34416"></a>Handling Terminal Order for Sub-Circuits</h2>

<p>
<a id="pgfId-1037858"></a>This section explains how Spice In uses CDF Simulation Information for creating net-terminal connections.</p>
<p>
<a id="pgfId-1044497"></a>The <code>termOrder</code> provides the following information:</p>
<ul><li>
<a id="pgfId-1044498"></a>Names of the terminals of the master cell</li><li>
<a id="pgfId-1044499"></a>Order of the terminals of the master cell during connection</li></ul>

<p>
<a id="pgfId-1037862"></a>Spice In needs to read <code>termOrder</code> to establish connections between the nets of an instance and the terminals of the master cell of the instance. </p>

<h3>
<a id="pgfId-1037863"></a>Source of the Terminal Order Information</h3>

<p>
<a id="pgfId-1037864"></a>In analog PDKs, such as the <code>analogLib</code> from Cadence, every master cell has CDF. CDF comprises of two parts &#8212; Component Parameters and Simulation Information. The <code>termOrder</code> exists in the Simulation Information, as shown in the figure below.</p>

<p>
<a id="pgfId-1037898"></a></p>
<div class="webflare-div-image">
<img width="628" height="267" src="images/chap3-48.gif" /></div>

<p>
<a id="pgfId-1037899"></a>A separate CDF Simulation Information section exists for each simulator, such as <em>ams</em>, <em>auCdl</em>, <em>hspiceD</em>, and <em>spectre</em>, and therefore, the <code>termOrder</code> is different for every simulator.</p>

<h3>
<a id="pgfId-1037900"></a>Creation of Terminal Order</h3>

<p>
<a id="pgfId-1037901"></a>While importing an input netlist, Spice In does the following:</p>
<ol><li>
<a id="pgfId-1037902"></a>Creates the base cell CDF for each cell</li><li>
<a id="pgfId-1037903"></a>Imports any sub-circuit level parameters as the base cell CDF Component Parameters</li><li>
<a id="pgfId-1037904"></a>Saves the names and order of the terminals as <code>termOrder</code> in the CDF Simulation Information for the specified simulator</li></ol>


<p>
<a id="pgfId-1037905"></a>You select a simulator in the <em>Save Device Simulation Information in CDF for</em> frame on the <em>Import</em> tab or specify a simulator name for the parameter <code>outputSimName</code> in the parameter file. Spice In creates the <code>termOrder</code> in the CDF Simulation Information section for the specified simulator. The device-map file also provides a construct for specifying the <code>termOrder</code>. For more information, see <a href="chap3.html#90454">Creating a Device-Map File</a>.</p>
<p>
<a id="pgfId-1037909"></a>Consider the following sub-circuit definition from the netlist:</p>

<p>
<a id="pgfId-1037930"></a></p>
<div class="webflare-div-image">
<img width="427" height="261" src="images/chap3-49.gif" /></div>

<p>
<a id="pgfId-1037931"></a>In this scenario, assume that the simulator for which the device information is to be saved is specified as <em>spectre</em>. Therefore, Spice In saves the <code>termOrder</code> of the sub-circuit <code>amplifier</code> in the CDF Simulation Information for <em>spectre</em>.</p>
<p>
<a id="pgfId-1037932"></a>The following figure shows the creation of this <code>termOrder</code> for <em>spectre</em>:</p>

<p>
<a id="pgfId-1037936"></a></p>
<div class="webflare-div-image">
<img width="665" height="546" src="images/chap3-50.gif" /></div>

<p>
<a id="pgfId-1042067"></a>For information about Spice In SKILL functions, see the <em><a actuate="user" class="URL" href="../sktransrefOA/sktransrefOATOC.html#firstpage" show="replace" xml:link="simple">Design Data Translator&#8217;s SKILL Reference</a></em>.<a id="19318"></a></p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="xoasis.html" id="prev" title="Design Translation Using XOasis Translator">Design Translation Using XOasi ...</a></em></b><b><em><a href="chap4.html" id="nex" title="Design Translation Using CDL Out">Design Translation Using CDL O ...</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2020, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>