
<html><head><title>Working With Hierarchical Designs</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="komal" />
<meta name="CreateDate" content="2020-09-18" />
<meta name="CreateTime" content="1600420371" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes how to use the Virtuoso Layout Suite XL layout editor." />
<meta name="DocTitle" content="Virtuoso Layout Suite XL: Basic Editing User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Working With Hierarchical Designs" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.2.1" />
<meta name="Keyword" content="vlehelp" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2020-09-18" />
<meta name="ModifiedTime" content="1600420371" />
<meta name="NextFile" content="chap6.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="chap4.html" />
<meta name="c_product" content="Virtuoso Layout Suite" />
<meta name="Product" content="Virtuoso Layout Suite" />
<meta name="ProductFamily" content="Virtuoso Layout Suite" />
<meta name="ProductVersion" content="ICADVM20.1" />
<meta name="RightsManagement" content="Copyright 2012-2020 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Layout Suite XL: Basic Editing User Guide -- Working With Hierarchical Designs" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="ICADVM20.1" />
<meta name="SpaceKey" content="vlehelpICADVM201" />
<meta name="webflare-version" content="2.0" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="vlehelpTOC.html">Contents</a></li><li><a class="prev" href="chap4.html" title="Using Design Tools">Using Design Tools</a></li><li style="float: right;"><a class="viewPrint" href="vlehelp.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="chap6.html" title="Creating Objects">Creating Objects</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Layout Suite XL: Basic Editing User Guide<br />Product Version ICADVM20.1, October 2020</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>5
<a id="pgfId-1022860"></a></h1>
<h1>
<a id="pgfId-1022861"></a><hr />
<a id="16372"></a>Working With Hierarchical Designs<hr />
</h1>

<p>
<a id="pgfId-1022862"></a>This chapter contains these topics:</p>
<ul><li>
<a id="pgfId-1014140"></a><a href="chap5.html#30253">Hierarchical Designs</a></li><li>
<a id="pgfId-1016814"></a><a href="chap5.html#17605">Hierarchical Editing</a><ul><li>
<a id="pgfId-1024613"></a><a href="chap5.html#36329">Descending into a Cellview</a></li><li>
<a id="pgfId-1024622"></a><a href="chap5.html#20613">Returning to a Different Hierarchy Level</a></li><li>
<a id="pgfId-1028257"></a><a href="chap5.html#22392">Editing a Cell in Place</a></li><li>
<a id="pgfId-1031512"></a><a href="chap5.html#89866">Editing in Place into an Instance Array</a></li><li>
<a id="pgfId-1028292"></a><a href="chap5.html#39108">Using the Tree Form</a></li><li>
<a id="pgfId-1029497"></a><a href="chap5.html#79855">Using the Print Hierarchy Tree Command</a></li><li>
<a id="pgfId-1028298"></a><a href="chap5.html#38880">Making Hierarchy Editable</a></li><li>
<a id="pgfId-1024626"></a><a href="chap5.html#41630">Making Cells</a></li><li>
<a id="pgfId-1024630"></a><a href="chap5.html#29693">Flattening Instances</a></li><li>
<a id="pgfId-1024634"></a><a href="chap5.html#17817">Copying and Cutting Through the Hierarchy</a></li></ul></li><li>
<a id="pgfId-1023290"></a><a href="chap5.html#90809">Embedded Module Hierarchy Designs</a></li><li>
<a id="pgfId-1027883"></a><a href="chap5.html#13719">Listing the Data In Cellviews</a></li><li>
<a id="pgfId-1016815"></a><a href="chap5.html#33679">Refreshing Memory after Editing</a></li></ul>















<h2>
<a id="pgfId-1014193"></a><a id="hier"></a><a id="30253"></a>Hierarchical <a id="overviewFirstpage"></a>Designs</h2>

<p>
<a id="pgfId-1014196"></a>Hierarchical designs are created by placing instances of other references to cellview inside other cellview. </p>
<p>
<a id="pgfId-1017445"></a>Levels of hierarchy are numbered from top to bottom, with the top cellview having the lowest number. The top cell is the cellview you are currently viewing in a design window, unless you have descended into the hierarchy or are using <em>Edit In Place</em>.</p>

<p>
<a id="pgfId-1017457"></a></p>
<div class="webflare-div-image">
<img width="489" height="199" src="images/chap5-2.gif" /></div>

<p>
<a id="pgfId-1017446"></a>In the above figure, when you view Top cell, it is level 0. When you view Cell C or Cell D, it is considered level 1, and instances Cell A and Cell B are considered level 2.</p>

<h3>
<a id="pgfId-1017438"></a><a id="master"></a><a id="20899"></a>Master Cells and Cell Instances</h3>

<p>
<a id="pgfId-1022147"></a>When you place a cellview within another cellview, the placed reference of the cellview is called an instance. The placed instance now has a master cellview. In the above example, Cell A has been placed twice in the design. If you edit the master of Cell A, all instances of that cellview are changed.</p>

<h3>
<a id="pgfId-1025197"></a><a id="63794"></a><a id="recursion"></a><a id="36774"></a>Checking for Instance Recursion</h3>

<p>
<a id="pgfId-1014311"></a>You can prevent commands such as <em>Create Instance</em>, <em>Make Cell</em>, and <em>Search/Replace</em> from creating an instance of itself in a cellview by turning recursion checking on in the <em>Editor Options</em> form.</p>
<p>
<a id="pgfId-1014312"></a>To automatically check for recursion when placing instances,</p>
<ol><li>
<a id="pgfId-1014314"></a>From the cellview window menu, choose <em>Options &#8211; Editor</em> [<code>Shift-e</code>]. <br />
<a id="pgfId-1018108"></a>The <a href="appA.html#41538">Layout Editor Options Form</a> opens.</li><li>
<a id="pgfId-1014315"></a>Click <em>Recursion Check</em>.</li><li>
<a id="pgfId-1014316"></a>Click <em>OK</em>.</li></ol>




<h3>
<a id="pgfId-1014319"></a><a id="chgMaster"></a><a id="27786"></a>Changing the Origin of a Cellview</h3>
<div class="webflare-information-macro webflare-macro-warning">
<a id="pgfId-1014322"></a>
Moving the origin of a master cellview changes the location of all placed instances of that cellview.</div>
<table class="webflareTable" id="#id1024640">
<tbody><tr>
<td class="webflareTd" colspan="2" rowspan="1">
<span class="tbl-head" id="#id1028556">
<a id="pgfId-1028556"></a>Support for Objects</span>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024653"></a>Blockages</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024685"></a>The <em>Move Origin</em> command fully supports blockage objects.</p>

<ul><li>
<a id="pgfId-1024686"></a>When you move the origin of blockage objects without owners, the coordinates are updated.</li><li>
<a id="pgfId-1024687"></a>When you move the origin of owners of blockage objects, the blockage coordinates are also updated.</li></ul>


</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024660"></a>Boundaries</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024689"></a>The <em>Move Origin</em> command fully supports boundary objects.</p>

<ul><li>
<a id="pgfId-1024690"></a>For a snap boundary, a form appears asking &#8220;Would you like to rearrange objects taking Snap Boundary as origin?&#8221; </li></ul>

</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-1014323"></a>To change the origin of the cellview,</p>
<ol><li>
<a id="pgfId-1014334"></a>From the cellview window menu, choose <em>Edit &#8211; Advanced &#8211; Move Origin</em>.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1029091"></a>The <em>Move Origin</em> command is disabled if you are editing a group.</div></li><li>
<a id="pgfId-1014335"></a>Move the pointer where you want the new origin.<br />
<a id="pgfId-1014336"></a>Two crosshairs showing the new X and Y axes follow the pointer.<br />
<a id="pgfId-1027939"></a><div class="webflare-div-image">
<img width="660" height="211" src="images/chap5-4.gif" /></div></li></ol>








<h2>
<a id="pgfId-1027977"></a><a id="17605"></a>Hierarchical Editing</h2>
<h3>
<a id="pgfId-1028086"></a><a id="descend"></a><a id="36329"></a>Descending into a Cellview </h3>

<p>
<a id="pgfId-1021686"></a>The <em>Descend</em> command lets you descend into any level of an instance hierarchy, and the <em>Descend</em> form lets you choose the view type/name when descending into instances. </p>
<p>
<a id="pgfId-1022445"></a>To descend into a cellview,</p>
<ol><li>
<a id="pgfId-1022450"></a>Choose <em>Edit &#8211; Hierarchy &#8211; Descend Edit</em> or <em>Descend Read. </em><br />
<a id="pgfId-1022546"></a>You can choose whether you want to edit using <em>Descend Edit</em>, as long as the parent is opened in edit mode, or read only using <em>Descend Read</em> that allows you to descend into an instance and view the contents without the ability to edit the instance. </li><li>
<a id="pgfId-1022475"></a>Optionally you can choose to be prompted for the view type by pressing F3 to bring up the <a href="appA.html#82343">Descend Options Form</a> and checking the box. <br />
<a id="pgfId-1022478"></a>The default is set so such that you are not prompted for the view type. If the <em>Prompt For View Name</em> field is not set, and the master cell of the instance has more than one view type available, the command will determine which cellview to descend into. If the <em>Prompt For View Name</em> field is set, and the master cell of the instance has more than one view type available, a form is displayed containing a cyclic field with all the possible view names listed. You can then select the cellview to descend into. By selecting Prompt for View Name, each time you descend into a cellview, you will be prompted for the view type. </li><li>
<a id="pgfId-1022647"></a>Click the instance whose cell you want to edit. You can use the <code>Spacebar</code> key, to toggle between the overlapping objects under the pointer. (see <a href="chap2.html#61854">Cycling Through Preselected Objects</a>)<br /><div class="webflare-information-macro webflare-macro-tip">
<a id="pgfId-1031590"></a>
You can select the instance and right-click it to display the <em>Instance</em> context menu. Select <em>Descend Edit</em> or <em>Descend Read.</em></div></li><li>
<a id="pgfId-1031591"></a>Return up the hierarchy by choosing <em>Edit &#8211; Hierarchy &#8211; Retur</em><em>n To Level </em>[b] or <em>Return</em> [Shift + b]. Alternatively, you can right-click and select <em>Return</em> on the <em>Layout </em>context menu. You can also choose <em>Edit &#8211; Hierarchy &#8211; Retur</em><em>n To</em> Top, to return to the top level of the instance hierarchy.</li></ol>








<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1022650"></a>Once you have chosen whether to be prompted for the cellview type, you can  or post-select instance when using the <em>Descend</em> command. </div>
<p>
<a id="pgfId-1022571"></a>You can set in advance which mode you prefer using the <a href="../sklayoutref/layout.html#leHiDescend">leHiDescend</a> SKILL function. It has an optional text string <span class="webflare-courier-new" style="white-space:pre"><em>t_mode</em></span> specifying the mode in which to open the selected instance. When &quot;<code>nil&quot;</code>, the instance is opened in the same mode as its parent. When &quot;<code>read&quot;</code>, the instance is opened in read mode. When &quot;<code>edit&quot;</code>, the instance is opened in edit mode if its parent is open in edit mode; otherwise, a window pops up stating that the instance cannot be opened in edit mode and advising that you open it in read mode. When the<span class="webflare-courier-new" style="white-space:pre"><em> t_mode</em></span> argument is not specified, automatically selects the edit mode to use when descending into the hierarchy. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1022572"></a>The layout editor does not use the <em>Create New Window When Descending</em> option in the User Preferences form. Selecting or deselecting this option will not affect your work in the layout editor.</div>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1034695"></a>If the top cellview is opened in Layout Viewer, the descend into a new tab or window always opens the master in the Layout Viewer, regardless of the default application settings.</div>

<h3>
<a id="pgfId-1016192"></a><a id="rtlForm"></a><a id="20613"></a>Returning to a Different Hierarchy Level</h3>

<p>
<a id="pgfId-1018575"></a><a id="return"></a><a id="27858"></a>If you have use <em>Edit in Place</em> or <em>Descend</em>, you can return to a higher level in the hierarchy.</p>
<p>
<a id="pgfId-1018577"></a>To return to a specific level,</p>
<ol><li>
<a id="pgfId-1022733"></a>To return up the hierarchy by choosing <em>Edit &#8211; Hierarchy &#8211; Retur</em><em>n To Level </em>[b] or <em>Return</em> [Shift + b]. </li><li>
<a id="pgfId-1016234"></a>When choosing <em>Return To Level</em>, click a cellview name in of the cellview.</li><li>
<a id="pgfId-1016235"></a>Click <em>OK</em>.<br />
<a id="pgfId-1016236"></a>If you are using <em>Edit In Place</em>, the window border changes to show the cell you chose.<br />
<a id="pgfId-1016237"></a>If you previously used <em>Descend</em>, the window contents change to show the cell you chose.</li></ol>





<h3>
<a id="pgfId-1028102"></a><a id="editIn"></a><a id="22392"></a>Editing a <a id="editInstFirstpage"></a>Cell in Place</h3>

<p>
<a id="pgfId-1028108"></a>You can <a id="51154"></a>edit the master cell of an instance while viewing the instance in the current cellview. This is called editing in place (EIP).</p>
<p>
<a id="pgfId-1028112"></a>The behavior of the <em>Edit In Place</em> command differs based on the selection mode. Consider the following design that illustrates the difference between the two modes. Cellview <code>cv1</code> contains the instance <code>ILevel1</code>.</p>
<p>
<a id="pgfId-1031346"></a>Using the <code>Spacebar</code> key, you can toggle between the overlapping objects under the pointer. You can also choose <em>Edit &#8211; Hierarchy &#8211; Retur</em><em>n To</em> Top, to return to the top level of the instance hierarchy.</p>
<p>
<a id="pgfId-1032076"></a>When you have created a group and you select the <em>Edit In Place</em> option, you can use the <em>Remove from Group</em> option in the context-sensitive menu to remove a shape from the group.</p>

<h3>
<a id="pgfId-1031402"></a><a id="89866"></a>Editing in Place into an <a id="arrayMember"></a>Instance Array</h3>

<p>
<a id="pgfId-1031388"></a>When editing in place into an instance array, the <a href="appA.html#94078">Select Array Member Form</a> appears which allows you to enter the row and column information for the array member you want to edit.</p>
<p>
<a id="pgfId-1028143"></a></p>

<div class="webflare-div-image">
<img width="668" height="707" src="images/chap5-6.gif" /></div>

<p>
<a id="pgfId-1028144"></a>The instance <code>ILevel1</code> contains a polygon, the Pcell instance <code>ILevel2pcell</code>, and the instance <code>Ilevel2</code>.</p>

<p>
<a id="pgfId-1028186"></a></p>
<div class="webflare-div-image">
<img width="656" height="353" src="images/chap5-7.gif" /></div>
<h4>
<a id="pgfId-1028187"></a>Edit In Place in Pre-Selection Mode</h4>

<p>
<a id="pgfId-1028188"></a>In <code>cv1</code>, select <code>ILevel1</code> and then run the <em>Edit - Hierarchy - Edit In Place</em> command or right-click the selected <code>ILevel1</code> and select <em>Edit In Place</em> from the context menu. The master cellview of <code>ILevel1</code> displays for editing in place. Because you can only top-level instances, the ion mode lets you EIP only one level in the hierarchy. To EIP other levels of the hierarchy, select the instance again and run the <em>Edit In Place</em> command each time to descend the hierarchy. To ascend the hierarchy, select <em>Edit &#8211; Hierarchy &#8211; Retur</em><em>n To Level </em>[b] or <em>Return</em> [Shift + b]. </p>

<h4>
<a id="pgfId-1028192"></a>Edit In Place in Post-Selection Mode</h4>

<p>
<a id="pgfId-1030816"></a>The behavior of the post-selection mode <em>Edit In Place</em> command depends on the area clicked for selection. Invoke the <em>Edit - Hierarchy - Edit In Place</em> command and then click the bounding box of <code>ILevel1</code>. The following situations are possible:</p>
<ul><li>
<a id="pgfId-1028194"></a>If the click point is on the bounding box of <code>ILevel2</code>, the master cellview of <code>ILevel2</code> becomes the cellview to be edited in place. The banner at the top of the window changes to show that the master cell for that instance is open for edit. If the <em>EIP Surround</em> is off in the <em>Display Options</em> form, only the cell to be edited in place appears. </li><li>
<a id="pgfId-1028197"></a>If the click point is in the area of <code>ILevel2pcell</code>, the message &#8220;Cannot edit in place a parameterized cell&#8221; displays because the cellview at the lowest level in the hierarchy at the point of click is a Pcell. If the click point is at an empty area within the <code>Ilevel2pcell</code> bbox, there is a beep sound and the &#8220;Point at a shape in the cellview to be edited-in-place&#8221; prompt.</li><li>
<a id="pgfId-1028198"></a>If the click point is in the area of the polygon, the master cellview of <code>ILevel1</code> becomes the cellview to be edited in place.</li><li>
<a id="pgfId-1028199"></a>If the click point is in an empty area in <code>ILevel1</code>, there is a beep sound and the &#8220;Point at a shape in the cellview to be edited-in-place&#8221; prompt.</li></ul>



<p>
<a id="pgfId-1030956"></a>In the post-selection mode, when the pointer is over a shape of the cellview to be edited in place, the shape is highlighted. You can EIP &#8216;n&#8217; levels; the destination cellview (master of the lowest instance in the hierarchy) should not be a Pcell. To return up the hierarchy, select <em>Edit &#8211; Hierarchy &#8211; Retur</em><em>n To Level </em>[b] or <em>Return</em> [Shift + b]. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1028204"></a>When you are done editing with <em>Edit In Place</em>, and as you return up the hierarchy, each level you pass is accessible in edit mode if you started in a cell that is in edit mode. If a lower-level cell was originally in read-only mode, it will return to read only once you return up the hierarchy. Additionally, if you have changed anything in a lower cell, you will be prompted to save that master cell.</div>

<div class="webflare-information-macro webflare-macro-video">
<a id="pgfId-1032253"></a>
For an overview on how to toggle shapes in EIP and Descent Edit/Read mode, see the video <em><a actuate="user" class="URL" href="https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1Od0000002JnVxEAK&amp;pageName=ArticleContent&amp;sq=005d0000001T4ADAA0_20176851952134" show="replace" xml:link="simple">Toggling shapes in EIP and Descend Edit / Read mode</a></em>.</div>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1033868"></a><em>Edit In Place</em> and <em>Descend Edit</em> options are available for virtual hierarchies.</div>

<h4>
<a id="pgfId-1029687"></a><a id="52090"></a>Freezing and Unfreezing Pcell Instances<a id="freezeUnfreezePcell"></a></h4>

<p>
<a id="pgfId-1029704"></a>For Pcell editing, all geometric updates are performed through the Pcell parameters. Also, stretch handles provide you with a graphical way to update Pcell geometries. However, these graphical updates are also internally managed through Pcell parameters. For user-defined Pcells, there may be a situation when the desired Pcell editing cannot be performed by the supported Pcell parameters. In such cases, you can use the freeze and unfreeze Pcells options. The freeze and unfreeze commands enable you to perform Pcell editing that is not supported by the Pcell parameters.</p>
<p>
<a id="pgfId-1029864"></a>The freeze Pcells option enables you to convert a Pcell instance to a non-Pcell instance of a new master created on the disk. Similar to any other instance, once you freeze the Pcell instance, you can use the EIP command to perform geometric updates to the design master.</p>
<p>
<a id="pgfId-1029960"></a>The unfreeze Pcells option enables you to convert the frozen non-Pcell instance to its original Pcell instance.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1029871"></a>The freeze Pcells option creates a new design master on the disk. So, it should be used only when the Pcell parameters are not sufficient to create the required geometry.</div>
<p>
<a id="pgfId-1029992"></a>You can use one of the following methods to use the freeze and unfreeze options:</p>
<ul><li>
<a id="pgfId-1030038"></a>Use the below mentioned SKILL functions use the freeze and unfreeze options:<ul><li>
<a id="pgfId-1030110"></a>Use the <a href="../sklayoutref/layout.html#leFreezeInst">leFreezeInst</a> function to convert a Pcell instance to a non-Pcell instance of a new master created on the disk. This function preserves the geometry, connectivity, and cross-probing with schematic information of the instance.</li><li>
<a id="pgfId-1031690"></a>Use the <a href="../sklayoutref/layout.html#leUnfreezeInst">leUnfreezeInst</a> function to convert the frozen non-Pcell instance to its original Pcell instance. All editing that has been performed on the non-Pcell instance is not preserved.</li></ul></li><li>
<a id="pgfId-1031691"></a>Use the context-sensitive menu options, <em>Freeze Pcell</em> and <em>Unfreeze Pcell</em>. <ul><li>
<a id="pgfId-1031692"></a>The <em>Freeze Pcell </em>option is available in the context-sensitive menu of a Pcell instance. This option enables you to freeze a Pcell instance.<br /><ffi2-fig-frame-in-2 id="#id1030550">
<a id="pgfId-1030550"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="582" height="379" src="images/chap5-9.gif" /></div>
<a id="pgfId-1030449"></a>In the <a href="appA.html#17171">Freeze Pcell Instance Form</a>, you specify the library, cell, and view of the non-Pcell instance of the new master created on the disk.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1030660"></a>Alternatively, you can use the <a href="appB.html#11354">supressFreezePcellUI</a> environment variable to freeze a Pcell instance without displaying the <a href="appA.html#17171">Freeze Pcell Instance Form</a>. </div></li><li>
<a id="pgfId-1030555"></a>The <em>Unfreeze Pcell</em> option is available in the context-sensitive menu of a frozen non-Pcell instance. This option enables you to unfreeze a frozen non-Pcell instance.<br /><ffi2-fig-frame-in-2 id="#id1030479">
<a id="pgfId-1030479"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="582" height="381" src="images/chap5-10.gif" /></div></li></ul></li></ul>














<h3>
<a id="pgfId-1028226"></a><a id="39108"></a><a id="treeForm"></a><a id="22034"></a>Using the Tree Form</h3>

<p>
<a id="pgfId-1028230"></a>The <em>Tree</em> command displays a list showing the hierarchy of cellview instances in the current cellview. </p>
<p>
<a id="pgfId-1028234"></a><a id="tree"></a><a id="20257"></a>To list the hierarchy of instances in the current cellview,</p>
<ol><li>
<a id="pgfId-1028237"></a>Choose <em>Edit &#8211; Hierarchy &#8211; Tree</em>. <br />
<a id="pgfId-1028239"></a>The <a href="appA.html#60650">Tree Form</a> appears.</li><li>
<a id="pgfId-1028240"></a>Set <em>Display</em> to one of the following:<ul><li>
<a id="pgfId-1028241"></a>To list the hierarchy from top level to stop level, select the <em>Top to stop level </em>option.</li><li>
<a id="pgfId-1028242"></a>To list the hierarchy from the current level of hierarchy to the stop level, select the <em>Current to stop level </em>option.<em></em></li><li>
<a id="pgfId-1028243"></a>To list the hierarchy from the top level to the current level of hierarchy, select the <em>Top to current</em> option.</li><li>
<a id="pgfId-1031824"></a>To list the hierarchy from the current level of hierarchy to a level of hierarchy that you specify, select the <em>Current to user level</em> option.</li></ul><br />
<a id="pgfId-1028244"></a><strong>Note:</strong> The <em>Display Level</em><em>s: Start and Stop</em> settings on the Display Options form limit the number of levels reported by this command.</li><li>
<a id="pgfId-1028245"></a>Click <em>OK</em>.<br />
<a id="pgfId-1028246"></a>A text window, <em>Tree</em>, listing the hierarchy appears.</li><li>
<a id="pgfId-1028247"></a>Choose <em>File &#8211; Close </em>to close the window.</li></ol>











<h4>
<a id="pgfId-1028250"></a><a id="instances"></a><a id="12060"></a>Tree Window Information</h4>

<p>
<a id="pgfId-1028251"></a>The cellview instances information lists the hierarchy of instances in this cellview or the instances above or below the edit in place cell. The number in parentheses represents how many times that instance appears in the design.</p>
<p>
<a id="pgfId-1028252"></a>Indents show that instances of the indented cells are inside the instance listed above.</p>

<h3>
<a id="pgfId-1029399"></a><a id="printHierTree"></a><a id="79855"></a>Using the Print Hierarchy Tree Command</h3>

<p>
<a id="pgfId-1029400"></a>The <em>Print Hierarchy Tree</em> command displays a list showing the hierarchy of cellview instances in the selected cellview.</p>
<p>
<a id="pgfId-1029402"></a><a id="tree"></a>To list the hierarchy of instances in the selected cellview,</p>
<ol><li>
<a id="pgfId-1029403"></a>Choose <em>Tools &#8211; Print Hierarchy Tree</em> from the CIW.<br />
<a id="pgfId-1029407"></a>The <a href="appA.html#17257">Print Hierarchy Tree Form</a> form appears.</li><li>
<a id="pgfId-1029408"></a>Select the <em>Library</em>, <em>Cell</em>, and <em>View</em> for which you want print the hierarchy tree.</li><li>
<a id="pgfId-1029481"></a>Click <em>OK/Apply</em>.<br />
<a id="pgfId-1029410"></a>The text window, <em>Hierarchy Tree</em>, listing the hierarchy appears.</li></ol>




<p>
<a id="pgfId-1029412"></a>The <em>Print Hierarchy Tree</em> command has better performance compared to the <em>Edit &#8211; Hierarchy &#8211; Tree</em> command. This command lets you print the hierarchy tree without the need to open the design, which could take long time to open for a large design.</p>

<h4>
<a id="pgfId-1029440"></a><a id="instances"></a>Hierarchy Tree Window Information</h4>

<p>
<a id="pgfId-1029441"></a>The cellview instances information lists the hierarchy of instances in this cellview or the instances above or below the edit in place cell. The number in parentheses represents how many times that instance appears in the design.</p>
<p>
<a id="pgfId-1029426"></a>Indents show that instances of the indented cells are inside the instance listed above.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1034826"></a>There are two versions of hierarchy tree described in the above sections, <em>Edit &#8211; Hierarchy &#8211; Tree </em>and <em>CIW</em> <em>&#8211; Tools &#8211; Print Hierarchy Tree</em>. <em>Edit &#8211; Hierarchy &#8211; Tree </em>prints the hierarchy as displayed in the <em>Navigator</em> assistant. It considers edits in the virtual memory. However, <em>CIW</em> &#8211; <em>Tools</em> &#8211; <em>Print Hierarchy Tree</em> does not consider edits in the virtual memory which are not committed.</div>

<h3>
<a id="pgfId-1024020"></a><a id="38880"></a>Making Hierarchy Editable</h3>

<p>
<a id="pgfId-1028297"></a>Use the <em>Make Editable</em> command to switch to the edit mode for updating the hierarchy.</p>
<p>
<a id="pgfId-1028318"></a>To make a hierarchy editable,</p>
<ol><li>
<a id="pgfId-1028322"></a>Choose <em>Edit &#8211; Hierarchy &#8211; Make Editable</em>.<br />
<a id="pgfId-1028324"></a>The <a href="appA.html#33659">Make Readonly/Editable Form</a> opens. This form lists master cellviews of all the instances existing in the current cellview.</li><li>
<a id="pgfId-1028329"></a>To list only specific master cellviews, use the <em>Filter</em> options to specify a search criteria.<ol><li>
<a id="pgfId-1028354"></a>You can display the master cellviews of all or only the instances selected in the cellview</li><li>
<a id="pgfId-1028366"></a>You can specify a <em>Name</em> and <em>Type</em> criteria for filtering the master cellviews to display in the left pane.</li></ol></li><li>
<a id="pgfId-1028367"></a>Select a <em>Readonly</em> master cellview in the left pane and click <em>Make Editable</em>. Alternatively, select an <em>Editable</em> master cellview in the left pane and click <em>Make ReadOnly</em>. You can select multiple master cellviews and change their mode.</li></ol>






<h3>
<a id="pgfId-1028296"></a><a id="41630"></a>Making Cells</h3>

<p>
<a id="pgfId-1024400"></a>You can use the <em>Make Cell</em> command to add levels of hierarchy.</p>
<table class="webflareTable" id="#id1024379">
<tbody><tr>
<td class="webflareTd" colspan="2" rowspan="1">
<span class="tbl-head" id="#id1028661">
<a id="pgfId-1028661"></a>Support for Objects</span>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024382"></a>Blockages</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<ul><li>
<a id="pgfId-1024384"></a>When you select blockages without selecting their owner, a new cell with the selected blockages is created without any owner information. When <em>Replace selected figures</em> option is selected, <em>Make Cell </em>replaces all the selected set including blockage objects with the instance of the new cell in the current cellview. Once it is replaced, the ownership information is not retained.</li><li>
<a id="pgfId-1024385"></a>When you select both the owner(s) and the blockage(s), a new cell with the selected owner, all its children, and all associated blockages is created. When <em>Replace selected figures</em> is option is selected, all selected objects are replaced in the current cellview with the instance of the new cell and its owner.</li></ul>


</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024416"></a>Boundaries</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024418"></a>The <em>Make Cell </em>command does not support snap and cluster boundary objects.</p>

<ul><li>
<a id="pgfId-1024419"></a>For area boundary objects, If the constraint group name is part of the same cellview, both the area boundary object and the constraint group are copied over. If the constraint group is not part of the same cellview, only the area boundary object is copied over.</li><li>
<a id="pgfId-1024420"></a>For the PRBoundary object, if its associated blockages are selected as well, the relationship between the PRBoundary and blockage(s) objects must be maintained. Even when the <em>Replace selected figures</em> option is selected, the prBoundary remains in the current cellview.</li></ul>


</td>
</tr>
</tbody></table>
<p>
<a id="pgfId-1024024"></a>You can copy selected objects in the current cellview into a new cell with the layout editor.</p>
<p>
<a id="pgfId-1024050"></a><a id="create"></a><a id="37435"></a>To create a cell from objects in your layout,</p>
<ol><li>
<a id="pgfId-1024052"></a>Select the objects you want to place into a new cell.</li><li>
<a id="pgfId-1024059"></a>Choose <em>Edit &#8211; Hierarchy &#8211; Make Cell</em>.<br />
<a id="pgfId-1024315"></a>The <a href="appA.html#17551">Make Cell Form</a> opens. </li><li>
<a id="pgfId-1024060"></a>Type the library, cell, and view names for the new cell.</li><li>
<a id="pgfId-1024062"></a>In the <em>Make Cell</em> form, do one of the following:<ul><li>
<a id="pgfId-1024063"></a>Select the <em>Replace selected figures</em> option to replace the selected objects with an instance of the new cell. </li><li>
<a id="pgfId-1024064"></a>Deselect the <em>Replace selected figures</em> option to leave the objects unchanged.</li></ul></li><li>
<a id="pgfId-1024065"></a>Click <em>OK</em>.<br />
<a id="pgfId-1031622"></a>The lowerLeft point of the bounding box of the created cell will be placed at the origin (0,0).<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1024066"></a>If you type the name of an existing cell, a dialog box lets you choose to overwrite the existing cell with a new one.</div>
<a id="pgfId-1024100"></a><div class="webflare-div-image">
<img width="631" height="136" src="images/chap5-11.gif" /></div></li></ol>












<h3>
<a id="pgfId-1024103"></a><a id="29693"></a>Flattening <a id="flattenFirstpage"></a>Instances</h3>

<p>
<a id="pgfId-1024108"></a><a id="flattenForm"></a>The <em>Flatten</em> command copies the contents of a cell or array up one or more levels in the hierarchy.</p>
<table class="webflareTable" id="#id1024471">
<tbody><tr>
<td class="webflareTd" colspan="2" rowspan="1">
<span class="tbl-head" id="#id1028754">
<a id="pgfId-1028754"></a>Support for Objects</span>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024512"></a>ROD Objects</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024514"></a>The <em>Flatten</em> command fully supports ROD objects.</p>
<p>
<a id="pgfId-1024515"></a>To preserve the attributes of ROD objects (such as object name, alignments, multipart path subparts, multipart rectangle sub-rectangles, and master rectangles in multipart rectangles), select the <em>Preserve: ROD objects</em> option on th Flatten form. When this option is off, ROD objects become ordinary unnamed objects, the subparts of multipart paths become ordinary paths and rectangles, the master rectangles in multipart rectangles become ordinary, unnamed rectangles, and the sub-rectangles of multipart rectangles become ordinary rectangles.</p>
<p>
<a id="pgfId-1024516"></a>The system assigns the flattened object a name based on the hierarchical name of the ROD object by replacing slashes with dashes. For example, when you flatten the ROD object <code>I1/I4/rect3</code>, the resulting object is named <code>I1-I4-rect3</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024477"></a>Blockages</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1028777"></a>Only instances contained within the blockage are flattened. The blockage object itself is not flattened.</p>

<ul><li>
<a id="pgfId-1028778"></a>If you select an instance which is the owner of a blockage to flatten (based on the flattening level), only the instance is flattened, and the blockage remains without any ownership information. If the owner instance is not selected for flattening, then the ownership relation remains unchanged.</li><li>
<a id="pgfId-1028779"></a>When you flatten an instance with a placement halo, the placement halo will convert to a placement blockage with the appropriate points.</li><li>
<a id="pgfId-1024535"></a>If you flatten instances containing blockages and you want to delete the remaining blockages, use the <em>Delete Detached blockages</em> option on the <em>Flatten</em> form.</li></ul>



</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024482"></a>Boundaries</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1024495"></a>The <em>Flatten </em>command does not support P&amp;R and snap boundary objects.</p>

<ul><li>
<a id="pgfId-1024496"></a>If you flatten an area boundary object which results in a non-unique name, an extension is added to the name, with a resulting informational message appearing in the CIW. If the associated constraint group no longer exists after the flatten, the object is stripped of its constraint group name, with a resulting informational message appearing in the CIW. All normal transformations associated with flattening of an instance will also apply for the area boundary object.</li><li>
<a id="pgfId-1024497"></a>If you flatten a cluster, with a cluster boundary and the cluster boundary becomes irrelevant, the cluster object set is updated and the cluster boundary is removed.If you flatten a cluster boundary object which results in a non-unique name, an extension is added to the name, with a resulting informational message appearing in the CIW. It is possible to have a hierarchical set of clusters based on the depth of the flatten command. All transformations associated with the flattening of an instance will also apply for the cluster boundary object.</li><li>
<a id="pgfId-1024498"></a>If the flatten command results in a cellview that has no instances, you must remove all clusters and cluster boundary objects from the cellview.</li></ul>



</td>
</tr>
</tbody></table>
<p>
<a id="pgfId-1024469"></a>To display the detail in all instances you want to flatten,</p>
<ol><li>
<a id="pgfId-1024140"></a>Choose <em>Options &#8211; Display</em> [<code>e</code>]. <br />
<a id="pgfId-1024142"></a>The <a href="appA.html#38064">Display Options Form</a> opens.</li><li>
<a id="pgfId-1024143"></a>Set <em>Display Controls</em> to display the detail in all instances you want to flatten.</li><li>
<a id="pgfId-1024144"></a>Click <em>OK</em>.</li><li>
<a id="pgfId-1024145"></a>Choose <em>Edit &#8211; Hierarchy &#8211; Flatten</em>.<br />
<a id="pgfId-1024356"></a>The <a href="appA.html#12935">Flatten Form</a> opens. </li><li>
<a id="pgfId-1024147"></a>Set the <em>Hierarchy Level</em> to <em>one level</em>, <em>displayed level</em>, or <em>user level</em>.</li><li>
<a id="pgfId-1024148"></a>Click <em>OK</em>.<br />
<a id="pgfId-1024194"></a><div class="webflare-div-image">
<img width="648" height="203" src="images/chap5-12.gif" /></div></li></ol>











<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1031462"></a>When flattening Pcell instances, you can delete fluid shapes by specifying the environment variable <a href="appB.html#18850">deleteFluidShapes</a>.</div>

<h3>
<a id="pgfId-1024197"></a><a id="copyinstance"></a><a id="17817"></a>Copying and Cutting Through the Hierarchy</h3>

<p>
<a id="pgfId-1024198"></a><em>Yank</em> and <em>Paste</em> can cut and copy all or part of instances and shapes in a designated area. </p>
<p>
<a id="pgfId-1024211"></a>To copy parts of cell instances,</p>
<ol><li>
<a id="pgfId-1024212"></a>Choose <em>Options &#8211; Display</em> [<code>e</code>]. <br />
<a id="pgfId-1024214"></a>The <a href="appA.html#38064">Display Options Form</a> appears.</li><li>
<a id="pgfId-1024215"></a>Set <em>Display Controls</em> to display the detail in all instances you want to copy.</li><li>
<a id="pgfId-1024216"></a>Click <em>OK</em>.</li><li>
<a id="pgfId-1024217"></a>Choose <em>Edit &#8211; Basic &#8211; Yank</em> [<code>y</code>]. <br />
<a id="pgfId-1024219"></a>The <a href="appA.html#40102">Yank Form</a> opens.</li><li>
<a id="pgfId-1024220"></a>Set the <em>Yank Levels</em>.</li><li>
<a id="pgfId-1024221"></a>Click and drag to create a box around the area you want to yank.</li><li>
<a id="pgfId-1024222"></a>Choose <em>Edit &#8211; Basic &#8211; Paste</em> [<code>Shift-y</code>].</li><li>
<a id="pgfId-1024223"></a>Click to place the copies.<br />
<a id="pgfId-1024257"></a><div class="webflare-div-image">
<img width="627" height="166" src="images/chap5-13.gif" /></div></li></ol>












<h2>
<a id="pgfId-1027859"></a><a id="90809"></a>Embedded Module Hierarchy Designs</h2>
<h3>
<a id="pgfId-1027862"></a><a id="15362"></a>Uniquifying the Cellview</h3>

<p>
<a id="pgfId-1027863"></a>Cellviews that contain EMH elements must be uniquified before making changes involving hierarchical objects. Examples would be creating, deleting, or editing objects with hierarchical names. An example of an edit operation that requires you to uniquify the cellview is the creation of an instance using a hierarchical path name.</p>

<div class="webflare-information-macro webflare-macro-warning">
<a id="pgfId-1027864"></a>
You can open a non-uniquified design in Virtuoso Layout Suite. However, while performing an edit operation on the design, which tries to change the hierarchy of the EMH, you will receive warning messages regarding the non-uniquified instances. You will then need to uniquify the cellview. </div>

<p>
<a id="pgfId-1027865"></a>The uniquification feature checks out the VLS XL or a higher license. The command works only on <code>oacMaskLayout</code> view types.</p>
<p>
<a id="pgfId-1027866"></a>To uniquify the cellview:</p>
<ol><li>
<a id="pgfId-1027867"></a>Select <em>Tools &#8212; Uniquify</em> in the CIW.<br />
<a id="pgfId-1027871"></a>This opens the <a href="appA.html#31613">Uniquify Form</a>.</li><li>
<a id="pgfId-1027872"></a>Specify the library, cell, and view names in the <em>Library</em>, <em>Cell</em>, and <em>View</em> fields. If uniquification happens successfully, a message displays after its completion.<br />
<a id="pgfId-1027873"></a>If the cellview is already uniquified, a message appears to inform you about it. If the specified cellview cannot be opened, the command exits displaying an appropriate message about the failure.<br />
<a id="pgfId-1027874"></a>The license is checked back in when the <em>Uniquify</em> form is closed.</li></ol>




<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1029537"></a>The <em>Uniquify</em> command does not disable the <em>Undo</em> command, and it can, therefore, be used when you uniquify the cellview.</div>

<h2>
<a id="pgfId-1027857"></a><a id="13719"></a>Listing the <a id="displayFirstpage"></a>Data In <a id="listCellviews"></a>Cellviews</h2>

<p>
<a id="pgfId-1023243"></a>To display a summary of the contents of this cellview,</p>
<ol><li>
<a id="pgfId-1023250"></a>Choose <em>File &#8211; Summary</em>.<br />
<a id="pgfId-1023252"></a>A <a href="appA.html#31793">Summary Window</a> containing the summary appears.<br />
<a id="pgfId-1023277"></a><div class="webflare-div-image">
<img width="668" height="533" src="images/chap5-14.gif" /></div></li><li>
<a id="pgfId-1023278"></a>Choose <em>File &#8211; Close </em>to close the window.</li></ol>







<h2>
<a id="pgfId-1024937"></a><a id="33679"></a>Refreshing <a id="viewEditFirstpage"></a>Memory after Editing</h2>

<p>
<a id="pgfId-1024946"></a>Another user might edit a master cellview that is instantiated in the cellview you currently have open. You can update the memory of your computer to reflect the results of such edits with the <em>Refresh</em> command.</p>
<p>
<a id="pgfId-1024949"></a><a id="view"></a><a id="18167"></a>To view other users&#8217; edits,</p>
<ol><li>
<a id="pgfId-1024950"></a>Choose <em>Edit &#8211; Hierarchy &#8211; Refresh</em>.<ul><li>
<a id="pgfId-1024951"></a>If no other users have made edits that affect this cellview, a dialog box tells you that no cellviews were refreshed. </li><li>
<a id="pgfId-1024952"></a>If the master cells for any instances in this cellview have changed, a message asks if you want to update these instances.</li></ul></li><li>
<a id="pgfId-1024954"></a>In the <a href="appA.html#11400">Refresh Cellviews Form</a>, set any instances you want to update.</li><li>
<a id="pgfId-1024955"></a>Click <em>OK</em>.<br />
<a id="pgfId-1024956"></a>The cellview is redrawn to show changes made to the master cells.</li></ol>






<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="chap4.html" id="prev" title="Using Design Tools">Using Design Tools</a></em></b><b><em><a href="chap6.html" id="nex" title="Creating Objects">Creating Objects</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2020, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>