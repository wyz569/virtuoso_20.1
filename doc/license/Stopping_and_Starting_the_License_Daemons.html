<?xml version="1.0" encoding="UTF-8"?>
<html><head><title>Stopping and Starting the License Daemons</title>
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="Technical Publications" />
<meta name="CreateDate" content="2018-05-24" />
<meta name="CreateTime" content="1527193830" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Cadence License Manager" />
<meta name="DocTitle" content="Cadence License Manager" />
<meta name="DocType" content="Installation" />
<meta name="FileTitle" content="Stopping and Starting the License Daemons" />
<meta name="Keywords" content="" />
<meta name="FileType" content="Chapter" />
<meta name="Keyword" content="license" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2018-05-24" />
<meta name="ModifiedTime" content="1527193830" />
<meta name="NextFile" content="Changing_the_License_File.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Cadence Shared Tools," />
<meta name="PrevFile" content="Monitoring_Licensing.html" />
<meta name="Product" content="Cadence Shared Tools," />
<meta name="ProductFamily" content="Cadence Shared Tools," />
<meta name="ProductVersion" content="12.11" />
<meta name="RightsManagement" content="Copyright 2012-2018 Cadence Design Systems Inc." />
<meta name="Title" content="Cadence License Manager -- Stopping and Starting the License Daemons" />
<meta name="Version" content="12.11" />
<meta name="Renderer" content="WIKI" />
<meta name="SpaceKey" content="license1211" />
<meta name="confluence-version" content="6.2.3" />
<meta name="ecms-plugin-version" content="01.00.012" />

        
        <link href="styles/site.css" rel="stylesheet" type="text/css" />
        <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
    

    </head><body style="margin-left: 5%;background-color: #FFFFFF;">
<!-- Begin Buttons -->
<table xmlns:html="http://www.w3.org/1999/xhtml" border="0" cellpadding="0" cellspacing="0" width="650">
<tbody>
<tr>
<td colspan="10" height="36" width="650">
<img height="34" src="../support/header_doc.gif" width="650" />
</td>
</tr>
<tr>
<td height="20" width="59">
<a href="javascript:openLibrary()">
<img alt="View Library" border="0" height="20" src="../support/nav2_library.gif" width="59" />
</a>
</td>
<td height="20" width="73">
<a href="licenseTOC.html">
<img alt="Table of Contents" border="0" src="../support/nav2_toc.gif" />
</a>
</td>
<td height="20" width="46">
<img alt="Index" border="0" src="../support/nav2_index_b.gif" />
</td>
<td>
<a href="Monitoring_Licensing.html">
<img alt="Previous" border="0" src="../support/nav2_previous.gif" />
</a>
</td>
<td>
<a href="Changing_the_License_File.html">
<img alt="Next" border="0" src="../support/nav_next.gif" />
</a>
</td>
<td height="20">
<a href="license.pdf">
<img alt="Open PDF to print book" border="0" height="20" src="../support/nav2_print.gif" width="114" />
</a>
</td>
<td height="20" width="61">
<img src="../support/nav2_black.gif" />
</td>
<td height="20" width="76">
<a href="/feedback.htm">
<img alt="Email Comments" border="0" height="20" src="../support/nav2_feedback.gif" width="76" />
</a>
</td>
<td height="20" width="43">
<a href="../cdsuser/help.html">
<img alt="Help Using Documentation" border="0" height="20" src="../support/nav2_help.gif" width="43" />
</a>
</td>
<td height="20" width="37">
<a href="/exitsearch.htm">
<img alt="Shut Down Cadence Documentation Server" border="0" height="20" src="../support/nav2_exit.gif" width="37" />
</a>
</td>
</tr>
</tbody>
</table>
<!-- End Buttons -->
<p xmlns:html="http://www.w3.org/1999/xhtml"></p>
<hr xmlns:html="http://www.w3.org/1999/xhtml" />
<p xmlns:html="http://www.w3.org/1999/xhtml"></p>
<div id="main-header">
                    
                    
                                                <h1 style="margin: 4px 0 4px;">
<span>Stopping and Starting the License Daemons</span>
</h1>
                    
                </div>
<div class="wiki-content group" id="main-content">
                    <p>You need to stop and restart the license daemons</p>
<ul>
<li>After you modify</li>
</ul>
<ul>
<ul>
<li>The path to the license file</li>
</ul>
</ul>
<ul>
<ul>
<li>The host name or port number in the license file</li>
</ul>
</ul>
<ul>
<ul>
<li>The <a href="Managing_Licenses.html"> <span style="color: rgb(0,0,0);font-family: Courier New;font-size: small;">options</span> </a> file</li>
</ul>
</ul>
<ul>
<li>To start a <a href="Monitoring_Licensing.html">new debug log file</a>
</li>
</ul>
<p> You must stop the license daemons carefully to prevent loss of users&apos; data.</p>
<ul>
<li>
<span style="color: rgb(0,0,255);"> <u> <a href="#StoppingandStartingtheLicenseDaemons-stoplicdem">Stopping the License Daemons</a> </u> </span>
</li>
</ul>
<ul>
<li>
<span style="color: rgb(0,0,255);"> <u> <a href="#StoppingandStartingtheLicenseDaemons-startlicdem">Starting the License Daemons</a> </u> </span>
</li>
</ul>
<h3 id="StoppingandStartingtheLicenseDaemons-StoppingtheLicenseDaemons">Stopping the License Daemons</h3>
<p>
<span class="confluence-anchor-link" id="StoppingandStartingtheLicenseDaemons-stoplicdem"></span>
</p>
<p>If you are not the owner of the daemon, you will need to be <span style="color: rgb(0,0,0);font-family: Courier New;font-size: small;">root</span> or be listed in <span style="color: rgb(0,0,0);font-family: Courier New;font-size: small;">lmadmin</span> group or group <span style="color: rgb(0,0,0);font-family: Courier New;font-size: small;">0</span> in <span style="color: rgb(0,0,0);font-family: Courier New;font-size: small;">/etc/group</span> or <span style="color: rgb(0,0,0);font-family: Courier New;font-size: small;">NIS</span> or its equivalent to stop the daemons.</p>
<div>
<p>&nbsp;</p>
<div class="confluence-information-macro confluence-information-macro-information">
<span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span>
<div class="confluence-information-macro-body">
<p>
<span style="font-size: medium;"> Ensure that you stop and restart the license manager during low activity time. Do <strong>not</strong> use the <span style="color: rgb(0,0,0);font-family: Courier New;font-size: small;">-9</span> option of the <span style="color: rgb(0,0,0);font-family: Courier New;font-size: small;">kill</span> command. </span>
</p>
</div>
</div>
</div>
<p>Follow these steps to stop the daemons.</p>
<ul>
<li>Notify users that you are terminating the license daemons so that they can exit the products properly.</li>
<li> Verify that no users are accessing FlexNet licenses.</li>
</ul>
<p>
<br /> <span style="color: rgb(0,0,0);font-family: Courier New;font-size: small;"> cd <span style="color: rgb(0,0,0);font-family: Courier New;font-size: small;"> <em>install_dir</em> </span>/tools/bin<br />./lmstat -a -c <span style="color: rgb(0,0,0);font-family: Courier New;font-size: small;"> <em>license_file</em> </span> </span>
</p>
<ul>
<li>Terminate the licensing daemons.</li>
</ul>
<p>
<br /> <span style="color: rgb(0,0,0);font-family: Courier New;font-size: small;"> ./lmdown -c <span style="color: rgb(0,0,0);font-family: Courier New;font-size: small;"> <em>license_file</em> </span> </span>
</p>
<p>
<span style="color: rgb(0,0,0);"> <strong>Note: </strong> </span>  You only need to execute <span style="color: rgb(0,0,0);font-family: Courier New;font-size: small;">lmdown</span> on one node of a license fault tolerant system.</p>
<p>The <span style="color: rgb(0,0,0);">lmdown<span style="color: rgb(0,16,0);"> </span>
</span>utility shuts down ALL license daemons in the specified license file. If you do not specify a license file and you have multiple license files in your path,</p>
<p>
<span style="color: rgb(0,0,0);font-family: Courier New;font-size: small;">lmdown </span>shuts down ALL license daemons in all license files. The license daemons write their last messages to the debug log file, close the file, and exit. All licenses granted by those daemons return to the license pool. If an application is still running when you terminate the license daemons, the next time the client program tries to verify its license, the license will not be valid.</p>
<p>Only use your operating system&apos;s <span style="color: rgb(0,0,0);">kill<span style="color: rgb(0,16,0);"> </span>
</span>command if <span style="color: rgb(0,0,0);">lmdown<span style="color: rgb(0,16,0);"> </span>
</span>does not work. If you started <span style="color: rgb(0,0,0);">lmgrd<span style="color: rgb(0,16,0);"> </span>
</span>with lmgrd <span style="color: rgb(0,0,0);">-2 -p -x lmdown</span>, you cannot use <span style="color: rgb(0,0,0);">lmdown<span style="color: rgb(0,16,0);"> </span>
</span>to shut the daemons down.</p>
<ul>
<li>Verify that the license daemons are no longer running.</li>
</ul>
<p>
<span style="color: rgb(0,0,0);font-family: Courier New;font-size: small;"> ./lmstat -a -c <span style="color: rgb(0,0,0);font-family: Courier New;font-size: small;"> <em>license_file</em> </span> <em> </em> </span>
</p>
<p>Go to <a href="#StoppingandStartingtheLicenseDaemons-startlicdem">Starting the License Daemons</a>
</p>
<h3 id="StoppingandStartingtheLicenseDaemons-StartingtheLicenseDaemons">Starting the License Daemons</h3>
<p>
<span class="confluence-anchor-link" id="StoppingandStartingtheLicenseDaemons-startlicdem"></span>
</p>
<p>If you have multiple license servers, restart the license daemons on each license server that you have shut down.</p>
<p> To restart the license daemons, follow these steps.</p>
<ul>
<li>Verify that the daemons are not running.</li>
</ul>
<p>
<span style="color: rgb(0,0,0);font-family: Courier New;font-size: small;"> cd <span style="color: rgb(0,0,0);font-family: Courier New;font-size: small;"> <em>install_dir</em> </span>/tools/bin<br />./lmstat -c <span style="color: rgb(0,0,0);font-family: Courier New;font-size: small;"> <em>license_file</em> </span> <em> </em>-a</span>
</p>
<ul>
<li style="list-style-type: none;background-image: none;">
<ul>
<li>If the license daemons are running,&nbsp;<a href="#StoppingandStartingtheLicenseDaemons-stoplicdem">stop the daemons</a>
<span style="color: rgb(0,0,255);">.</span>
</li>
</ul>
</li>
</ul>
<div>
<div class="confluence-information-macro confluence-information-macro-information">
<span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span>
<div class="confluence-information-macro-body">
<p>
<span style="font-size: medium;"> Ensure that you stop and restart the license manager during low activity time. Do <strong>not</strong> use the <span style="color: rgb(0,0,0);font-family: Courier New;font-size: small;">-9</span> option of the <span style="color: rgb(0,0,0);font-family: Courier New;font-size: small;">kill</span> command. </span>
</p>
</div>
</div>
</div>
<ul>
<li>Start the license daemons.<ul>
<li>You must have write permission to the log file to start the license daemons.</li>
<li>If the <span style="color: rgb(0,0,0);font-family: Courier New;font-size: small;">/etc/rc.lic</span> script starts the license daemons, type <br /> <span style="color: rgb(0,0,0);font-family: Courier New;font-size: small;"> /etc/<a href="Configuring_Licensing.html"> <span style="color: rgb(0,0,255);">rc.lic</span> </a> </span>
</li>
<li>If you did not create the script to start the license daemons, type <br />
<span style="color: rgb(0,0,0);font-family: Courier New;font-size: small;"> nohup lmgrd -c <span style="color: rgb(0,0,0);font-family: Courier New;font-size: small;"> <em>license_file</em> </span> &gt; /usr/tmp/license.log &amp;</span>
</li>
</ul>
</li>
</ul>
<p style="margin-left: 120.0px;">
<span style="color: rgb(0,0,0);"> This command starts the license daemons using <span style="color: rgb(0,0,0);font-family: Courier New;font-size: small;"> <em>license_file</em> </span>, records the licensing activity in <span style="color: rgb(0,0,0);font-family: Courier New;font-size: small;">/usr/tmp/license.log</span>, and runs in the background. </span>
</p>
<ol>
<ul>
<li>Check the log file for error messages. <br /> <span style="color: rgb(0,0,0);"> If you see the following message in the license log file, <br /> <span style="color: rgb(0,0,0);font-family: Courier New;font-size: small;">/usr/tmp/license.log</span>, another license daemon is probably running.</span>
</li>
</ul>
</ol>
<p style="margin-left: 90.0px;">
<span style="color: rgb(0,0,0);font-family: Courier New;font-size: small;"> ERROR: <span style="color: rgb(0,0,0);font-family: Courier New;font-size: small;"> <em>date</em> </span> <span style="color: rgb(0,0,0);font-family: Courier New;font-size: small;"> <em>time</em> </span> (cdslmd) Retrying socket bind (address in use)</span>
</p>
<p style="margin-left: 60.0px;">
<span style="color: rgb(0,0,0);"> &nbsp;Depending on the settings on your machine, sometimes take as long as five minutes to close a port after you have shut down the daemons. Wait and try again.</span>
</p>
<ul>
<li>Verify that the license daemons are up and running.</li>
</ul>
<p style="margin-left: 60.0px;">
<span style="color: rgb(0,0,0);font-family: Courier New;font-size: small;"> ./lmstat -a -c <span style="color: rgb(0,0,0);font-family: Courier New;font-size: small;"> <em>license_file</em> </span> </span>
</p>
                    </div>
<hr xmlns:html="http://www.w3.org/1999/xhtml" />
<hr xmlns:html="http://www.w3.org/1999/xhtml" align="left" />
<div xmlns:html="http://www.w3.org/1999/xhtml" style="text-align: left;">
<!-- Begin Buttons -->
<table border="0" cellpadding="0" cellspacing="0" width="650">
<tbody>
<tr>
<td colspan="10" height="36" width="650">
<img height="34" src="../support/header_doc.gif" width="650" />
</td>
</tr>
<tr>
<td height="20" width="59">
<a href="javascript:openLibrary()">
<img alt="View Library" border="0" height="20" src="../support/nav2_library.gif" width="59" />
</a>
</td>
<td height="20" width="73">
<a href="licenseTOC.html">
<img alt="Table of Contents" border="0" src="../support/nav2_toc.gif" />
</a>
</td>
<td height="20" width="46">
<img alt="Index" border="0" src="../support/nav2_index_b.gif" />
</td>
<td>
<a href="Monitoring_Licensing.html">
<img alt="Previous" border="0" src="../support/nav2_previous.gif" />
</a>
</td>
<td>
<a href="Changing_the_License_File.html">
<img alt="Next" border="0" src="../support/nav_next.gif" />
</a>
</td>
<td height="20">
<a href="license.pdf">
<img alt="Open PDF to print book" border="0" height="20" src="../support/nav2_print.gif" width="114" />
</a>
</td>
<td height="20" width="61">
<img src="../support/nav2_black.gif" />
</td>
<td height="20" width="76">
<a href="/feedback.htm">
<img alt="Email Comments" border="0" height="20" src="../support/nav2_feedback.gif" width="76" />
</a>
</td>
<td height="20" width="43">
<a href="../cdsuser/help.html">
<img alt="Help Using Documentation" border="0" height="20" src="../support/nav2_help.gif" width="43" />
</a>
</td>
<td height="20" width="37">
<a href="/exitsearch.htm">
<img alt="Shut Down Cadence Documentation Server" border="0" height="20" src="../support/nav2_exit.gif" width="37" />
</a>
</td>
</tr>
</tbody>
</table>
<!-- End Buttons -->
</div>
<br xmlns:html="http://www.w3.org/1999/xhtml" />
<font xmlns:html="http://www.w3.org/1999/xhtml" size="-1">
For support, see <a href="http://support.cadence.com" target="_blank">Cadence Online Support</a> service.</font>
<br xmlns:html="http://www.w3.org/1999/xhtml" />
<br xmlns:html="http://www.w3.org/1999/xhtml" />
<font xmlns:html="http://www.w3.org/1999/xhtml" size="-1">
<i>Copyright &copy; 2018, <a href="http://www.cadence.com">Cadence Design Systems, Inc.</a>
</i>
</font>
<br xmlns:html="http://www.w3.org/1999/xhtml" />
<font xmlns:html="http://www.w3.org/1999/xhtml" size="-1">
All rights reserved.</font>
<br xmlns:html="http://www.w3.org/1999/xhtml" />
<br xmlns:html="http://www.w3.org/1999/xhtml" />

</body></html>