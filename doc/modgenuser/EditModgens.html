
<html><head><title>Editing Modgens</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="spriya" />
<meta name="CreateDate" content="2020-09-15" />
<meta name="CreateTime" content="1600172382" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the functionality of the Virtuoso Layout Suite GXL cell planner, module generator, and analog placement functionality in the current release." />
<meta name="DocTitle" content="Virtuoso Module Generator User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Editing Modgens" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.2.1" />
<meta name="Keyword" content="modgenuser" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2020-09-15" />
<meta name="ModifiedTime" content="1600172382" />
<meta name="NextFile" content="modgenTopology.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="ModgenPatterns.html" />
<meta name="c_product" content="Virtuoso Layout Suite" />
<meta name="Product" content="Virtuoso Layout Suite" />
<meta name="ProductFamily" content="Virtuoso Layout Suite" />
<meta name="ProductVersion" content="ICADVM20.1" />
<meta name="RightsManagement" content="Copyright 2012-2020 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Module Generator User Guide -- Editing Modgens" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="ICADVM20.1" />
<meta name="SpaceKey" content="modgenuserICADVM201" />
<meta name="webflare-version" content="2.0" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="modgenuserTOC.html">Contents</a></li><li><a class="prev" href="ModgenPatterns.html" title="Working with Patterns">Working with Patterns</a></li><li style="float: right;"><a class="viewPrint" href="modgenuser.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="modgenTopology.html" title="Creating Topology Patterns and pin-to-trunk Routing">Creating Topology Patterns and ...</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Module Generator User Guide<br />Product Version ICADVM20.1, October 2020</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>3
<a id="pgfId-1032955"></a></h1>
<h1>
<a id="pgfId-1035250"></a><hr />
<a id="84703"></a>Editing Modgens<hr />
</h1>

<p>
<a id="pgfId-1088582"></a>This chapter covers:</p>
<ul><li>
<a id="pgfId-1103091"></a><a href="EditModgens.html#68091">Using the Modgen On-Canvas Commands</a></li><li>
<a id="pgfId-1109519"></a><a href="EditModgens.html#31499">Support for Row Regions</a></li><li>
<a id="pgfId-1121932"></a><a href="EditModgens.html#52828">Generating Reusable Modgen Templates</a></li><li>
<a id="pgfId-1103095"></a><a href="EditModgens.html#44632">Adding Dummy Devices</a></li><li>
<a id="pgfId-1036972"></a><a href="EditModgens.html#94846">Adding Body Contacts</a></li><li>
<a id="pgfId-1044062"></a><a href="EditModgens.html#18651">Defining Grid Placement</a></li><li>
<a id="pgfId-1036976"></a><a href="EditModgens.html#10032">Specifying Guard Rings</a></li><li>
<a id="pgfId-1036981"></a><a href="EditModgens.html#44563">Abutting Devices</a></li><li>
<a id="pgfId-1038885"></a><a href="EditModgens.html#30619">Specifying Device Alignment and Spacing</a></li><li>
<a id="pgfId-1094609"></a><a href="EditModgens.html#67558">Merging Layers</a></li></ul>










<h2>
<a id="pgfId-1102941"></a><a id="68091"></a>Using the Modg<a id="modgenOnCanvas"></a>en On-Canvas Commands</h2>

<p>
<a id="pgfId-1102942"></a>Virtuoso provides the following Modgen on-canvas commands that can be used to perform certain tasks without opening the Modgen Editor. To access the Modgen on-canvas commands, either select the Modgen constraint in the layout canvas and choose <em>Modgen</em> from the shortcut menu or select <em>Place&#8212;Modgen</em>.</p>

<p>
<a id="pgfId-1106671"></a></p>
<table class="webflareTable" id="#id1102943">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1102945"></a><strong>Command Name</strong></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1102947"></a>Description</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1102952"></a><em>Create/Edit Modgen <img src="images/CreateEditModgenIcon.gif" /><br /></em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1102954"></a>If the selected device(s) are not part of an existing Modgen constraint, creates a new Modgen constraint. The Modgen Editor is not displayed.</p>
<p>
<a id="pgfId-1102955"></a>If the selected device(s) are part of an existing Modgen constraint, opens it in the Modgen Editor. For more information, see <a href="GettingStarted.html#81446"><h-hot>Creating a Modgen</h-hot><code></code></a>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1117317"></a>Extract Template <img src="images/ExtractTemplate.gif" /></p>
<p>
<a id="pgfId-1117400"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1117319"></a>Generates a reusable template for each device group available in the given Modgen.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1117321"></a>Create Modgen From Template <img src="images/CreateModgenFromTemplate.gif" /></p>
<p>
<a id="pgfId-1117415"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1117323"></a>Applies existing Modgen reuse templates to the specified instances to generate matching Modgens.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1105301"></a><em>Grid Pattern Editor</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1105303"></a>Displays the Grid Pattern Editor and Grid Pattern Mapping assistants. For more information, see <a href="ModgenPatterns.html#78240">Grid Pattern Editor</a>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1102963"></a><em>Split Rows <img src="images/SplitModgenRows.gif" /><br /></em></p>
<p>
<a id="pgfId-1102964"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1102966"></a>Splits each Modgen row into two rows.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1102971"></a><em>UnSplit Rows <img src="images/UnsplitCommand.gif" /><br /></em></p>
<p>
<a id="pgfId-1102972"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1102974"></a>Combines every two rows of Modgen into a single row.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1102979"></a><em>Abut Instances <img src="images/abut_icon.gif" /><br /></em></p>
<p>
<a id="pgfId-1102980"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1102982"></a>Abuts the Modgen devices.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1102984"></a><em>UnAbut Instances <img src="images/unabut_icon.gif" /><br /></em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1102989"></a>Unabuts the Modgen devices. For more information about the abutment and unabutment options, see <a href="EditModgens.html#44563">Abutting Devices</a>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1102994"></a><em>Dummies</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1102999"></a>Displays a submenu with the following commands that can be used to add or remove dummies:</p>

<ul><li>
<a id="pgfId-1105772"></a>Add Dummy Column Left <img src="images/DummyColumnLeft.gif" /></li><li>
<a id="pgfId-1105853"></a>Add Dummy Column Right <img src="images/DummyColumnRight.gif" /></li><li>
<a id="pgfId-1105872"></a>Add Dummy Row Top <img src="images/DummyRowTop.gif" /></li><li>
<a id="pgfId-1105893"></a>Add Dummy Row Bottom <img src="images/DummyRowBottom.gif" /></li><li>
<a id="pgfId-1105842"></a>Add Surround Dummies <img src="images/SurroundDummiesIcon.gif" /></li><li>
<a id="pgfId-1105744"></a>Remove Surround Dummies <img src="images/RemoveDummiesIcon.gif" /></li><li>
<a id="pgfId-1122352"></a>Delete All Dummies <img src="images/DeleteDummiesIcon.gif" /></li></ul>


























<p>
<a id="pgfId-1105795"></a>For more information, see <a href="EditModgens.html#31939">Adding Dummy Devices</a>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1103012"></a><em>Set Member Alignment/Spacing <img src="images/SetMemberAlignmentIcon.gif" /><br /></em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1103017"></a>Displays the Set Member Alignment and Spacing form to specify the alignment and spacing values for the Modgen devices. For more information, see <a href="EditModgens.html#30619">Specifying Device Alignment and Spacing</a>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1105325"></a><em>Merge Layers</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1105327"></a>Displays the Select merge layers form, in which you can specify the layers that need to be merged. For more information, see <a href="EditModgens.html#67558">Merging Layers</a>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1103022"></a><em>Guard Ring</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1103024"></a>Displays a submenu with the following commands that can be used to create different types of guard rings:</p>

<ul><li>
<a id="pgfId-1103028"></a>Add Fluid Guard Ring <img src="images/FGRIcon.gif" /></li><li>
<a id="pgfId-1103032"></a>Add MPP Guard Ring <img src="images/MPPIcon.gif" /></li><li>
<a id="pgfId-1103036"></a>Add Identical Guard Ring <img src="images/IdenticalGR_Icon.gif" /></li><li>
<a id="pgfId-1105330"></a>Remove Guard Ring <img src="images/DeleteGR.gif" /></li></ul>














<p>
<a id="pgfId-1103040"></a>For more information, see <a href="EditModgens.html#10032">Specifying Guard Rings</a>.</p>
</td>
</tr>
</tbody></table>
<h3>
<a id="pgfId-1103042"></a>Assist<a id="GPEOnCanvas"></a>ants:</h3>

<ul><li>
<a id="pgfId-1103046"></a><a href="ModgenPatterns.html#78240">Grid Pattern Editor</a></li><li>
<a id="pgfId-1103050"></a><a href="ModgenPatterns.html#13728">Grid Pattern Mapping</a></li></ul>

<p>
<a id="pgfId-1110459"></a>As in the case of other layout instances, you can use the Property Editor assistant to interactively update the properties of a Modgen.</p>
<p>
<a id="pgfId-1110324"></a>You can use the Property Editor assistant to edit attributes of the Modgen currently selected in the layout design. Any changes you make to the Modgen properties are immediately applied to the Modgen in the layout canvas, as displayed in the figure below.</p>

<p>
<a id="pgfId-1110543"></a></p>
<div class="webflare-div-image">
<img src="images/ModgenInPEA.gif" /></div>
<h2>
<a id="pgfId-1103051"></a><a id="31499"></a>Support for Row Regions</h2>

<p>
<a id="pgfId-1109632"></a>(ICADVM20.1 EXL Only) All Modgen creation, modification, and regeneration commands, including the Modgen on-canvas commands, recognize row regions. Therefore, a Modgen, when created or regenerated, automatically fits into an existing row region that is valid for the members in the Modgen configuration. If invalid, the row region is ignored during Modgen generation.</p>
<p>
<a id="pgfId-1109634"></a>When a Modgen is created interactively from the layout design, the orientations of the Modgen members may be altered to ensure compact placement of the Modgen members within the placement rows. </p>
<p>
<a id="pgfId-1109628"></a>For more information about the row infrastructure, see <h-hot><a actuate="user" class="URL" href="../vplacer/Rows.html#firstpage" show="replace" xml:link="simple">Creating Rows</a></h-hot> in <em>Virtuoso Placer User Guide</em>.</p>
<p>
<a id="pgfId-1109736"></a>For more information about the various row-based SKILL functions, see <h-hot><a actuate="user" class="URL" href="../skdfref/placement.html#dbRowFunc" show="replace" xml:link="simple">Row-based Functions</a></h-hot> in <em>Virtuoso Design Environment SKILL Reference</em>.</p>
<p>
<a id="pgfId-1109881"></a>For more information about the SKILL functions to define placement area, see <h-hot><a actuate="user" class="URL" href="../skdfref/placement.html#dbPlaceDef" show="replace" xml:link="simple">Placement Area Definition Functions</a></h-hot> in <em>Virtuoso Design Environment SKILL Reference</em>.</p>

<h2>
<a id="pgfId-1117473"></a><a id="52828"></a>Generating Reusable M<a id="modgenTemplate"></a>odgen Templates</h2>

<p>
<a id="pgfId-1117508"></a>(ICADVM20.1 Only) Virtuoso supports a template-driven Modgen reuse solution to help improve layout productivity. A Modgen template comprises a set of Modgen parameters, such as the interdigitation pattern, abutment, dummy definitions, and spacing values, that can be reused to create a gridded layout of matching structures.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1121226"></a>Mosaics are not supported for extraction and reuse.</div>
<p>
<a id="pgfId-1121250"></a>This section covers the following topics:</p>
<ul><li>
<a id="pgfId-1121294"></a><a href="EditModgens.html#10026">Template-Driven Modgen Reuse Flow</a></li><li>
<a id="pgfId-1121305"></a><a href="EditModgens.html#33965">Generating a Modgen Template File</a></li><li>
<a id="pgfId-1121312"></a><a href="EditModgens.html#68472">Reusing the Modgen Template File</a></li></ul>



<h4>
<a id="pgfId-1118881"></a><a id="10026"></a>Template-Driven Modgen Reuse Flow</h4>

<p>
<a id="pgfId-1117566"></a>The following diagrams depict the template-driven Modgen reuse flow. </p>

<p>
<a id="pgfId-1121327"></a></p>
<div class="webflare-div-image">
<img width="668" height="547" src="images/EditModgens-22.gif" /></div>

<ol><li>
<a id="pgfId-1121351"></a>The tool extracts Modgens from the source layout for important structures in the source schematic (Flow 1) and for existing Modgens, if available (Flow 2). </li><li>
<a id="pgfId-1121357"></a>The information is saved in the Modgen template files. </li><li>
<a id="pgfId-1121360"></a>The template files are then grouped by their structure type. The Modgen templates are reused in the target layout to generate Modgens that include similar structures in the target schematic.</li></ol>



<h4>
<a id="pgfId-1117514"></a><a id="33965"></a>Generating a Modgen Template File</h4>

<p>
<a id="pgfId-1118966"></a>To generate a Modgen template file:</p>
<ol><li>
<a id="pgfId-1119108"></a>Select the required Modgen constraint either in the layout canvas or in the Constraint Manager assistant.</li><li>
<a id="pgfId-1119164"></a>Open the <a href="ModgenForms.html#29731">Reuse Template Exaction</a> form using one of the following methods: <ul><li>
<a id="pgfId-1121464"></a>Choose <em>Place</em>&#8212;<em>Modgen</em>&#8212;<em>Extract Template</em>. </li><li>
<a id="pgfId-1121469"></a>Choose <em>Layout Reuse</em>&#8212;<em>Create Reuse Templates from Modgens</em> in Constraint Manager.</li><li>
<a id="pgfId-1121567"></a>Choose <em>Layout Reuse</em>&#8212;<em>Create Reuse Templates from Layout</em> in Constraint Manager.</li><li>
<a id="pgfId-1121687"></a>Use the <a actuate="user" class="URL" href="../sklayoutref/modgen.html#gpeTemplateExtractLaunchForm" show="replace" xml:link="simple">gpeTemplateExtractLaunchForm </a>SKILL function.<br />
<a id="pgfId-1119247"></a><div class="webflare-div-image">
<img src="images/CreateTemplate2.gif" /></div></li></ul></li><li>
<a id="pgfId-1119241"></a>Specify a <em>Device Group</em>. Template files are created under matching or specified group names. Default is<em> Generic Group</em>. </li><li>
<a id="pgfId-1119353"></a>Specify a <em>Pattern File</em> name with the <code>.txt</code> extension. This is the Modgen template file.</li><li>
<a id="pgfId-1119418"></a>Click <em>Apply</em> to save the template file.</li><li>
<a id="pgfId-1119464"></a>Click <em>OK</em>. Constraint parameters from the source Modgen are stored in the template file.</li></ol>













<p>
<a id="pgfId-1121041"></a>Corresponding SKILL Functions: </p>
<ul><li>
<a id="pgfId-1121756"></a><a actuate="user" class="URL" href="../sklayoutref/modgen.html#gpeTemplateExtractLaunchForm" show="replace" xml:link="simple">gpeTemplateExtractLaunchForm</a></li><li>
<a id="pgfId-1121091"></a><a actuate="user" class="URL" href="../sklayoutref/modgen.html#gpeExtractTemplateFromMG" show="replace" xml:link="simple">gpeExtractTemplateFromMG</a></li></ul>

<p>
<a id="pgfId-1130490"></a></p>
<p>
<a id="pgfId-1130488"></a></p>

<h4><em>
<a id="pgfId-1128995"></a>Parameters of a Modgen Reuse Template File</em></h4>

<p>
<a id="pgfId-1128813"></a>A Modgen template comprises a set of Modgen parameters that can be reused to create a grid-based layout of matching structures. The following image shows a sample Modgen reuse template file:</p>

<p>
<a id="pgfId-1129078"></a></p>
<div class="webflare-div-image">
<img width="668" height="669" src="images/EditModgens-24.gif" /></div>

<p>
<a id="pgfId-1128810"></a>The following table describes the parameters of a Modgen template file:</p>

<p>
<a id="pgfId-1131638"></a></p>
<table class="webflareTable" id="#id1131651">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1125030"></a><code>routeEnable = t | nil </code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1125032"></a><strong>Description:</strong> Specifies whether the pin-to-trunk router is to be used to route the Modgen devices. </p>
<p>
<a id="pgfId-1130744"></a><strong>Valid Values:</strong> <code>t</code> and <code>nil</code></p>
<p>
<a id="pgfId-1130741"></a>When set to <code>nil</code>, all route-related parameters are ignored and a topology pattern is not created.</p>
<p>
<a id="pgfId-1129294"></a>When <code>routeEnable</code> is set to <code>t</code> and <code>router</code> is set to <code>nil</code>, a topology pattern is created but the pin-to-trunk router is not called.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1125034"></a><code>routeOverDevice = t | nil </code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1125036"></a><strong>Description:</strong> Allows horizontal routes to be generated over devices. </p>
<p>
<a id="pgfId-1130829"></a><strong>Valid Values:</strong> <code>t</code> and <code>nil</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1133041"></a><code>horizontalChannelNets = </code><span class="webflare-courier-new" style="white-space:pre"><em>l_netNames</em></span><code> | nil </code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1125038"></a><code></code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1125040"></a><strong>Description:</strong> (Optional) Lists channel nets for the horizontal trunks. If not specified (which is recommended), channel nets in the new Modgen are created based on the net connections.</p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1131060"></a>Channel nets are the nets between Modgen rows.</div>

<p>
<a id="pgfId-1130963"></a><strong>Valid Values:</strong> <span class="webflare-courier-new" style="white-space:pre"><em>l_netNames</em></span> and <code>nil</code></p>
<p>
<a id="pgfId-1129841"></a><strong>Default Value:</strong> <code>nil</code>, which indicates no channel nets are to be created. </p>
<p>
<a id="pgfId-1131048"></a><strong>Example: </strong></p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1132932"></a><code>list(&quot;net1&quot; &quot;net2&quot; &quot;net3&quot;)</code></pre>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1133071"></a><code>horizontalOutsideNets = </code><span class="webflare-courier-new" style="white-space:pre"><em>l_netNames</em></span><code> | nil</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1125042"></a><code></code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1129775"></a><strong>Description:</strong> Lists the nets that are above or below the Modgen. When this parameter is not specified, outside nets are created based on connections. </p>
<p>
<a id="pgfId-1131148"></a><strong>Valid Values:</strong> <span class="webflare-courier-new" style="white-space:pre"><em>l_netNames</em></span>, <code>nil</code></p>
<p>
<a id="pgfId-1129775"></a><strong>Default Value:</strong> <code>nil</code>, which indicates that no trunks are to be created above or below the Modgen.</p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1131124"></a><strong>Example: </strong><code>horizontalOutsideNets=list(&quot;net1 net2 net3&quot;)</code></pre>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1133097"></a><code>horizontalTrunkWidths = </code><span class="webflare-courier-new" style="white-space:pre"><em>l_netWidths</em></span><code> | nil</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1125841"></a><code> </code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1131269"></a><strong>Description:</strong> Specifies a space-separated list of horizontal trunk widths.</p>
<p>
<a id="pgfId-1131293"></a><strong>Valid Values:</strong> <span class="webflare-courier-new" style="white-space:pre"><em>l_netWidths</em></span>, <code>nil</code></p>
<p>
<a id="pgfId-1131376"></a>If a single value is specified, it is applied to all channel nets.</p>
<p>
<a id="pgfId-1131291"></a><strong>Default Value:</strong> <code>nil</code>, which indicates that the default values from either the technology file or a predefined WSP are used. </p>
<p>
<a id="pgfId-1131296"></a><strong>Example: </strong></p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1132944"></a><code>list(list(&quot;D1&quot; 0.22) list(&quot;D2&quot; 0.22))</code></pre>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1133133"></a><code>horizontalNetOrder = </code><span class="webflare-courier-new" style="white-space:pre"><em>l_netOrder</em></span><code> | nil </code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1125050"></a><code></code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1125052"></a><strong>Description:</strong> Specifies the net order of channel nets. </p>
<p>
<a id="pgfId-1131430"></a><strong>Valid Values:</strong> <span class="webflare-courier-new" style="white-space:pre"><em>l_netOrder</em></span> and <code>nil</code></p>
<p>
<a id="pgfId-1131409"></a><strong>Default Value:</strong> <code>nil</code> </p>
<p>
<a id="pgfId-1132962"></a><code>horizontalNetOrder</code> values depends on the value of <code>horizontalChannelNets</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-1124981"></a><code>trimTrunks = t | nil </code></p>

</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1125056"></a><strong>Description:</strong> Specifies whether the ends of the horizontal trunks are to be trimmed while routing.</p>
<p>
<a id="pgfId-1131552"></a><strong>Valid Values:</strong> <code>t</code> and <code>nil</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1125058"></a><code>shareHorizontalTracks = t | nil </code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1125060"></a><strong>Description:</strong> Specifies whether two nets can share the same horizontal trunk.</p>
<p>
<a id="pgfId-1131794"></a><strong>Valid Values:</strong> <code>t</code> and <code>nil</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1133161"></a><code>horizontalTrunkLayerName = </code><span class="webflare-courier-new" style="white-space:pre"><em>t_layerName</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1125062"></a><span class="webflare-courier-new" style="white-space:pre"><em></em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1125064"></a>Specifies the layer on which horizontal trunks are to be generated. This is a mandatory parameter.</p>
<p>
<a id="pgfId-1131809"></a><strong>Valid Values:</strong> <span class="webflare-courier-new" style="white-space:pre"><em>t_layerName</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1125066"></a><code>twigGLayerName = </code><span class="webflare-courier-new" style="white-space:pre"><em>t_layerName</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1125068"></a><strong>Description:</strong> Specifies the layer in which the twigs that are connected to the gate terminal are to be generated. This is a mandatory parameter.</p>
<p>
<a id="pgfId-1131861"></a><strong>Valid Values:</strong> <span class="webflare-courier-new" style="white-space:pre"><em>t_layerName</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">

<p>
<a id="pgfId-1133179"></a><code>twigGLayerWidth = </code><span class="webflare-courier-new" style="white-space:pre"><em>f_twigGLayerWidth</em></span></p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-1124985"></a><span class="webflare-courier-new" style="white-space:pre"><em></em></span></p>

</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1125245"></a><strong>Description:</strong> Specifies the width of the gate net twigs.</p>
<p>
<a id="pgfId-1131163"></a><strong>Valid Values:</strong> <span class="webflare-courier-new" style="white-space:pre"><em>f_twigGLayerWidth</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1125247"></a><code>twigSDLayerName = </code><span class="webflare-courier-new" style="white-space:pre"><em>t_layerName</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1125249"></a><strong>Description:</strong> Specifies the layer in which the twigs connected to the source and drain terminals are to be generated.</p>
<p>
<a id="pgfId-1131945"></a><strong>Valid Values:</strong> <span class="webflare-courier-new" style="white-space:pre"><em>t_layerName</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1133207"></a><code>twigSDLayerWidth = </code><span class="webflare-courier-new" style="white-space:pre"><em>t_twigSDLayerWidth</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1125287"></a><span class="webflare-courier-new" style="white-space:pre"><em></em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1125289"></a><strong>Description:</strong> Specifies the width of the source and drain gate twigs. This is a mandatory parameter.</p>
<p>
<a id="pgfId-1132038"></a><strong>Valid Values:</strong> <span class="webflare-courier-new" style="white-space:pre"><em>t_twigSDLayerWidth</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1133237"></a><code>horizontalMinNumCuts = nil | </code><span class="webflare-courier-new" style="white-space:pre"><em>n_numCuts</em></span><code> </code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1125291"></a><code></code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1125293"></a><strong>Description:</strong> Specifies the minimum number of cuts for the vias connecting the twigs to other objects. </p>
<p>
<a id="pgfId-1132116"></a><strong>Valid Values:</strong> <code>nil</code> and <span class="webflare-courier-new" style="white-space:pre"><em>n_numCuts</em></span><code> }</code></p>
<p>
<a id="pgfId-1132068"></a><strong>Default Value:</strong> <code>1</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1125295"></a><code>anchorReference</code> = <code>nil</code> | <span class="webflare-courier-new" style="white-space:pre"><em>t_refLayer</em></span> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1125297"></a><strong>Description:</strong> Specifies the reference layer or the anchor from which the trunk chain must start.</p>
<p>
<a id="pgfId-1132160"></a><strong>Valid Values:</strong> <code>nil</code> and <span class="webflare-courier-new" style="white-space:pre"><em>t_refLayer</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1133263"></a><code>firstHorizontalChannelTrackOffset</code> = <code>nil</code> | <span class="webflare-courier-new" style="white-space:pre"><em>f_offset</em></span> </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1127301"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1125301"></a><strong>Description:</strong> Specifies the offset of the first horizontal channel track from the specified <code>anchorReference</code> value.</p>
<p>
<a id="pgfId-1132199"></a><strong>Valid Values: </strong><code>nil</code> and <span class="webflare-courier-new" style="white-space:pre"><em>f_offset</em></span> </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">

<p>
<a id="pgfId-1133289"></a><code>firstHorizontalOutsideTrackOffset</code> = <code>nil</code> | <span class="webflare-courier-new" style="white-space:pre"><em>f_offset</em></span> </p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-1127378"></a></p>

</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1125305"></a><strong>Description:</strong> Specifies the offset of the first horizontal track outside the channel from the specified <code>anchorReference</code> value.</p>
<p>
<a id="pgfId-1132234"></a><strong>Valid Values: </strong><code>nil</code> and <span class="webflare-courier-new" style="white-space:pre"><em>f_offset</em></span> </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1133317"></a><code>firstHorizontalDeviceTrackOffset</code> = <code>nil</code> | <span class="webflare-courier-new" style="white-space:pre"><em>f_offset</em></span> </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1126531"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1126533"></a><strong>Description:</strong> Specifies the offset of the first horizontal device track of the <code>overDevice</code> trunk chain.</p>
<p>
<a id="pgfId-1132293"></a><strong>Valid Values:</strong> <code>nil</code> and <span class="webflare-courier-new" style="white-space:pre"><em>f_offset</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1126535"></a><code>enableVerticalTrunks</code> <code>= t | nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1126537"></a><strong>Description:</strong> Specifies whether vertical trunks can be created. The default value is <code>nil</code>.</p>
<p>
<a id="pgfId-1132421"></a><strong>Valid Values:</strong> <code>t</code> and <code>nil</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1133349"></a><code>verticalTrunkLayerName = </code><span class="webflare-courier-new" style="white-space:pre"><em>t_layerName</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1126591"></a><span class="webflare-courier-new" style="white-space:pre"><em></em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1126593"></a><strong>Description:</strong> Specifies the layer on which vertical trunks are to be generated. The option can be set only if <code>enableVerticalTrunks </code>is set to <code>t</code>.</p>
<p>
<a id="pgfId-1132436"></a><strong>Valid Values:</strong> <span class="webflare-courier-new" style="white-space:pre"><em>t_layerName</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1133379"></a><code>verticalTrunkWidths</code> <code>= </code><span class="webflare-courier-new" style="white-space:pre"><em>l_netWidths</em></span><code> | nil </code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1127745"></a><code></code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1126611"></a><strong>Description:</strong> Specifies a space-separated list of vertical trunk widths. If a single value is specified, it is applied to all channel nets. The option can be set only if <code>enableVerticalTrunks </code>is set to <code>t</code>.</p>
<p>
<a id="pgfId-1132453"></a><strong>Valid Values:</strong> <span class="webflare-courier-new" style="white-space:pre"><em>l_netWidths</em></span> and <code>nil </code></p>
<p>
<a id="pgfId-1132602"></a><strong>Default Value:</strong> <code>nil</code>, which indicates that the default values from either the technology file or a predefined WSP are to be used.</p>
<p>
<a id="pgfId-1132543"></a><strong>Example: </strong></p>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1132950"></a><code>list(list(&quot;D1&quot; 0.22) list(&quot;D2&quot; 0.22))</code></pre>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1133407"></a><code>verticalNetOrder = </code><span class="webflare-courier-new" style="white-space:pre"><em>l_netOrder</em></span><code> | nil </code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1126613"></a><code></code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1126615"></a><strong>Description:</strong> Specifies the net order of vertical channel nets. The default value is <code>nil</code> because the default <code>horizontalChannelNets</code> is <code>nil</code>. The option can be set only if <code>enableVerticalTrunks</code> is set to <code>t</code>.</p>
<p>
<a id="pgfId-1132472"></a><strong>Valid Values:</strong> <span class="webflare-courier-new" style="white-space:pre"><em>l_netOrder</em></span> and <code>nil </code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1133479"></a><code>verticalMinNumCuts = nil | </code><span class="webflare-courier-new" style="white-space:pre"><em>n_numCuts</em></span><code> </code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1126631"></a><code></code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1126633"></a><strong>Description:</strong> Specifies the minimum number of cuts for the vias connecting the twigs to other objects. The default value is <code>1</code>. The option can be set only if <code>enableVerticalTrunks</code> is set to <code>t</code>.</p>
<p>
<a id="pgfId-1132666"></a><strong>Valid Values:</strong> <code>nil</code> and <span class="webflare-courier-new" style="white-space:pre"><em>n_numCuts</em></span><code> </code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1133511"></a><code>firstVerticalTrackOffset = nil | </code><span class="webflare-courier-new" style="white-space:pre"><em>f_offset</em></span><code> </code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1126657"></a><code></code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1126659"></a><strong>Description:</strong> Specifies the offset of the first vertical track from the specified <code>anchorReference</code> value.</p>
<p>
<a id="pgfId-1131881"></a><strong>Valid Values:</strong> <code>nil</code> and <span class="webflare-courier-new" style="white-space:pre"><em>f_offset</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1133541"></a><code>verticalTrunkSide =&quot;both&quot; | &quot;auto&quot; | &quot;left&quot; | &quot;right&quot;</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1126661"></a><code></code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1126663"></a><strong>Description:</strong> Specifies the side along which vertical trunks are to be generated.</p>
<p>
<a id="pgfId-1132818"></a>The option can be set only if <code>enableVerticalTrunks </code>is set to <code>t</code>.</p>
<p>
<a id="pgfId-1132834"></a><strong>Valid Values:</strong><code> left</code>, <code>right</code>, <code>both</code>, and <code>auto</code>. </p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1126665"></a><code>router {&quot;none&quot; | &quot;pinToTrunk&quot; }</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1126667"></a><strong>Description:</strong> Specifies whether the pin-to-trunk router is to be used for routing.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1133559"></a><code>horizontalChannelNetsDirection =&quot;top&quot; | &quot;bottom&quot; | &quot;both&quot;</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1126735"></a><code></code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1126737"></a><strong>Description:</strong> Specifies the direction of the horizontal channel nets, which is the direction from the trunk to the instance terminal. </p>
<p>
<a id="pgfId-1132841"></a><strong>Valid Values:</strong><code> top, bottom, both</code></p>
<p>
<a id="pgfId-1132839"></a><strong>Default Value: </strong><code>both</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1133585"></a><code>horizontalOutsideNetsDirection =&quot;top&quot; | &quot;bottom&quot; | &quot;both&quot;</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1126739"></a><code></code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1126741"></a><strong>Description:</strong> Specifies the direction of the horizontal nets that are outside channels. </p>
<p>
<a id="pgfId-1132905"></a><strong>Valid Values:</strong><code> top, bottom, both</code></p>
<p>
<a id="pgfId-1132901"></a><strong>Default Value: </strong><code>both</code></p>

</td>
</tr>
</tbody></table>
<h4>
<a id="pgfId-1118980"></a><a id="68472"></a>Reusing the Modgen Template File</h4>

<p>
<a id="pgfId-1119007"></a>The Modgen template file created above can be reused to generate a new Modgen constraint. To create a Modgen using a template file:</p>
<ol><li>
<a id="pgfId-1120091"></a>Navigate to the schematic design.</li><li>
<a id="pgfId-1120143"></a>Select the target devices in the Circuit Prospector assistant. These are the devices to be included in the new Modgen.</li><li>
<a id="pgfId-1120345"></a>In Layout EXL, choose <em>Place</em>&#8212;<em>Modgen</em>&#8212;<em>Create Modgen From Template</em>. The <a href="ModgenForms.html#80719">Apply Reuse Template</a> form is displayed.<br />
<a id="pgfId-1120513"></a><div class="webflare-div-image">
<img src="images/ApplyReuseTemplate.gif" /></div></li><li>
<a id="pgfId-1122057"></a>Select the <em>Device Group </em>that contains the required Modgen reuse template.</li><li>
<a id="pgfId-1120436"></a>Select the <em>Pattern File</em> corresponding to the Modgen template to be applied to the new Modgen. Parameters from the pattern file are loaded in the form.</li><li>
<a id="pgfId-1122158"></a>Specify the number of <em>Rows</em> to be generated.</li><li>
<a id="pgfId-1120569"></a>Update the pattern as per your requirements.</li><li>
<a id="pgfId-1120652"></a>Click <em>OK</em> to generate the Modgen. The new Modgen is listed in the Constraints Manager assistant.<br />
<a id="pgfId-1121099"></a><div class="webflare-div-image">
<img src="images/ConstraintManagerTemplate.gif" /></div></li></ol>















<p>
<a id="pgfId-1121011"></a>Corresponding SKILL function: <h-hot><a actuate="user" class="URL" href="../sklayoutref/modgen.html#gpeLoadTemplateLaunchForm" show="replace" xml:link="simple">gpeLoadTemplateLaunchForm</a></h-hot></p>

<h2>
<a id="pgfId-1102929"></a><a id="44632"></a><a id="31939"></a>Adding Dum<a id="modgendummy"></a>my Devices<a id="marker-1109607"></a><a id="modgenDummy"></a></h2>

<p>
<a id="pgfId-1060249"></a>Dummy devices are created to counter electrical effects that are observed at small geometries. You can create dummies around devices in Modgens. </p>
<p>
<a id="pgfId-1122993"></a>A device instance is considered a dummy if one or more of the following conditions are met:</p>
<ul><li>
<a id="pgfId-1122994"></a>The instance has one of the following properties set to <code>t</code>: <ul><li>
<a id="pgfId-1122995"></a><code>lxDummy</code></li><li>
<a id="pgfId-1122996"></a><code>ignore</code></li><li>
<a id="pgfId-1122997"></a><code>lvsIgnore</code></li></ul></li><li>
<a id="pgfId-1122998"></a>The instance has the <code>lxDummyOwner</code> property.</li><li>
<a id="pgfId-1122999"></a>The instance is not bound to the schematic. This behavior is controlled by a the <code>modgenCreateUnboundAsDummies</code> environment variable. The default value is <code>t</code>. In this state, the instance is considered a dummy. When set to <code>nil</code>, the instance is not considered a dummy.</li><li>
<a id="pgfId-1122989"></a>The instance gate net is the same as that assigned to the environment variable <code>modgenDummyNet</code>.</li></ul>






<p>
<a id="pgfId-1060250"></a>This section covers the following topics about creating and editing dummy devices:</p>
<ul><li>
<a id="pgfId-1060254"></a><a href="EditModgens.html#13336">Creating Dummy Devices</a></li><li>
<a id="pgfId-1036408"></a><a href="EditModgens.html#74129">Adding Dummy Device Rows or Columns</a></li><li>
<a id="pgfId-1036417"></a><a href="EditModgens.html#10901">Adding Dummy Devices to the Array</a></li><li>
<a id="pgfId-1107573"></a><a href="EditModgens.html#12068">Backannotating Dummy Devices</a></li><li>
<a id="pgfId-1071637"></a><a href="EditModgens.html#15049">Removing Dummy Devices</a></li><li>
<a id="pgfId-1071664"></a><a href="EditModgens.html#60508">Deleting Dummies</a></li></ul>






<h3>
<a id="pgfId-1036205"></a><a id="13336"></a>Creating Dummy D<a id="dummy_options"></a>evices</h3>

<p>
<a id="pgfId-1081268"></a>To create dummy devices, with the Modgen editor open:</p>
<ol><li>
<a id="pgfId-1081272"></a>Select one or more Modgen instances. </li><li>
<a id="pgfId-1114007"></a>Click the arrow next to the <em>Add Dummy</em> <img src="images/adddummy_icon.gif" />
 button on the toolbar. <br />
<a id="pgfId-1114044"></a>Alternative method: If the Modgen editor is not open, use the Modgen on-canvas command <em>Place</em>&#8212;<em>Modgen</em> and select the required location option.</li><li>
<a id="pgfId-1114010"></a>Choose one of the following location options:<ul><li>
<a id="pgfId-1081273"></a>Add Dummy Left: Adds dummy devices to the left of the selected Modgen instances<br /><ffi2-fig-frame-in-2 id="#id1081302">
<a id="pgfId-1081302"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img src="images/DummyLeft.gif" /></div></li><li>
<a id="pgfId-1081303"></a>Add Dummy Right: Adds dummy devices to the right of the selected Modgen instances<br /><ffi2-fig-frame-in-2 id="#id1081307">
<a id="pgfId-1081307"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img src="images/DummyRight.gif" /></div></li><li>
<a id="pgfId-1081308"></a>Add Dummy Top: Adds dummy devices above the selected Modgen instances<br /><ffi2-fig-frame-in-2 id="#id1081312">
<a id="pgfId-1081312"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img src="images/DummyTop.gif" /></div></li><li>
<a id="pgfId-1081313"></a>Add Dummy Bottom: Adds dummy devices below the selected Modgen instances<br /><ffi2-fig-frame-in-2 id="#id1081317">
<a id="pgfId-1081317"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img src="images/DummyBottom.gif" /></div></li><li>
<a id="pgfId-1086231"></a>Surround Dummies:<a id="45440"></a><a id="surroundDummies"></a> A ring of dummies is added around the selected Modgen instances. For more information, see <a href="EditModgens.html#23063">Adding Surround Dummies</a>.<br /><ffi2-fig-frame-in-2 id="#id1086235">
<a id="pgfId-1086235"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img src="images/DummySurround.gif" /></div></li></ul></li></ol>






























<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1108118"></a>If no Modgen instance is selected, depending on the specified location option, either a dummy row or a dummy column is added to the array of instances. For example, selecting <em>Add Dummy Left</em> adds a column to the left of the array, and selecting <em>Add Dummy Bottom</em> adds a row of dummies at the bottom.</div>

<h4>
<a id="pgfId-1113429"></a><a id="50037"></a>Adding Dummies to Sides</h4>

<p>
<a id="pgfId-1081325"></a>On selecting a dummy side, the <a href="ModgenForms.html#33860">Dummy Options</a> form is displayed.</p>

<p class="webflare-indent1">
<a id="pgfId-1081329"></a></p>
<div class="webflare-div-image">
<img src="images/DummyOptionsForm.gif" /></div>

<ol><li>
<a id="pgfId-1081330"></a><em>Apply To </em>lists the selected Modgen instances.</li><li>
<a id="pgfId-1081332"></a>In the <em>Dummy Net</em> section, specify the nets to which you want the dummy terminals attached. <a id="dummyNetOption"></a><ul><li>
<a id="pgfId-1081333"></a>To attach all selected dummy terminals to the same net, choose a net name from the <em>Default</em> combo box, which lists all nets that are connected to objects in the active Modgen. <br />
<a id="pgfId-1081334"></a>To choose a net that is present in the cellView, but not in the current Modgen, type the net name in the <em>Default</em> combo box. The entry is validated against all existing nets in the current cellView. If a matching net is not available in the current cellView, then a warning message is issued and the net is created.<br />
<a id="pgfId-1081338"></a>Corresponding Environment Variable: <a href="ModgenEnvars.html#69901">modgenDummyNet<code></code></a></li><li>
<a id="pgfId-1081339"></a>To connect individual dummy terminals to different nets, enable the <em>Set Individual Terminal Net</em> check box. <br />
<a id="pgfId-1081340"></a>A list of dummy terminals that are available in the current design is displayed. Use the combo box beside each dummy terminal name to specify the net to which it needs to be connected.<br /><ffi2-fig-frame-in-2 id="#id1081354">
<a id="pgfId-1081354"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="668" height="195" src="images/EditModgens-34.gif" /></div>
<a id="pgfId-1081355"></a>When <em>Set Individual Terminal Net</em> is enabled, the <em>Default</em> combo box is also still available. If you choose a different net in the <em>Default</em> combo box, then the selected net is applied only to the dummy terminals for which you have not specified individual terminal nets.</li></ul></li><li>
<a id="pgfId-1081356"></a>In the <em>Dummy Type </em>section, from the <em>Type </em>cyclic field, choose one of the following options:<br />
<a id="pgfId-1081360"></a><div class="webflare-div-image">
<img src="images/DummyType.gif" /></div><ul><li>
<a id="pgfId-1081361"></a>neighbor: The master <code>lib:cell:view</code> of the dummy will be the same as the neighboring device.</li><li>
<a id="pgfId-1081362"></a>default: you can specify a different master <code>lib:cell:view</code> for the dummy devices.</li><li>
<a id="pgfId-1104203"></a>copy: Creates identical dummies of the selected instances. In this mode, the dummy parameters and default values of the source instances are used. Different values cannot be specified.</li></ul><br />
<a id="pgfId-1104207"></a>Corresponding Environment Variable: <a href="ModgenEnvars.html#48506">modgenPhysConfigs</a></li><li>
<a id="pgfId-1109055"></a>Select <em>Specify Parameters</em> to edit the default dummy parameters.</li><li>
<a id="pgfId-1104208"></a>In the <em>Dummy Parameters</em> section, from the <em>Number of Fingers</em> cyclic field, choose one of the following:<ul><li>
<a id="pgfId-1081369"></a><em>CDF Default</em> &#8211; The default number of fingers, as specified in the CDF, is created</li><li>
<a id="pgfId-1081370"></a><em>Same As Neighbor</em> &#8211; The same number of fingers as the neighboring device is created</li><li>
<a id="pgfId-1081371"></a><em>Specify</em> &#8211; You can specify the number of fingers to be created in the box beside the <em>Number of Fingers</em> cyclic field</li></ul></li><li>
<a id="pgfId-1081372"></a>From the <em>Length</em> cyclic field, choose one of the following:<ul><li>
<a id="pgfId-1081373"></a><em>CDF Default</em> &#8211; The default finger length, as specified in the CDF, is considered</li><li>
<a id="pgfId-1081374"></a><em>Same As Neighbor</em> &#8211; The length of fingers of the neighboring device is considered</li><li>
<a id="pgfId-1081375"></a><em>Specify</em> &#8211; You can specify the length of fingers in the box beside the <em>Length</em> cyclic field<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1081376"></a>Scale factors can be used to specify the length; for example .1u.</div></li></ul></li><li>
<a id="pgfId-1081377"></a>(IC6.1.8 only)<br />
<a id="pgfId-1104744"></a>From the <em>Width </em>cyclic field, choose one of the following:<ul><li>
<a id="pgfId-1104745"></a><em>CDF Default</em> &#8211; The default number of fins, as specified in the CDF is considered</li><li>
<a id="pgfId-1104746"></a><em>Same As Neighbor</em> &#8211; The width of fingers of the neighboring device is considered</li><li>
<a id="pgfId-1081381"></a><em>Specify</em> &#8211; You can specify the width of fingers in the box beside the <em>Width</em> cyclic field<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1081382"></a>Scale factors can be used to specify the width; for example 200n.</div></li></ul>
<a id="pgfId-1081383"></a>(ICADVM20.1 Only)<br />
<a id="pgfId-1081384"></a>In ICADVM20.1, the <em>Width</em> cyclic field is replaced by the <em>Number of Fins </em>cyclic field. From the <em>Number of Fins </em>cyclic field, choose one of the following: <ul><li>
<a id="pgfId-1081385"></a><em>CDF Default</em> &#8211; The default number of fins, as specified in the CDF is considered</li><li>
<a id="pgfId-1081386"></a><em>Same As Neighbor</em> &#8211; The number of fins of the neighboring device is considered</li><li>
<a id="pgfId-1081387"></a><em>Specify</em> &#8211; You can specify the number of fins in the box beside the <em>Number of Fins</em> cyclic field<br /><div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1081388"></a>
The default values for the <em>Number of Fingers</em>, <em>Length</em>, and <em>Width /</em> <em>Number of Fins </em>cyclic fields are determined by the <a href="ModgenEnvars.html#73900">modgenMakeMinDummies</a> environment variable. For more information, see <a href="EditModgens.html#65653">Understanding the Neighbor Dummy Type</a>.</div></li></ul><br />
<a id="pgfId-1109258"></a>When<em> Width</em> represents the total width for the device (number of fingers * finger width), set the <a href="ModgenEnvars.html#81274">modgenWidthParamProportionalToFingers</a> environment variable to <code>t</code> to indicate that the finger width of Modgen dummy instances must be proportional to the number of fingers. For FinFET devices, the default value is <code>no</code>; for non-FinFET devices, the default value is <code>yes</code>.</li><li>
<a id="pgfId-1081393"></a>If you chose the Dummy <em>Type </em>as <em>default</em>, click <em>Browse</em> under <em>Default Dummy</em> to browse for the library, cell, and view you want for the dummy devices.<br />
<a id="pgfId-1081400"></a>Corresponding Environment Variable: <a href="ModgenEnvars.html#14759">modgenDummyLib</a>, <a href="ModgenEnvars.html#62024">modgenDummyCell</a>, <a href="ModgenEnvars.html#35411">modgenDummyView</a></li><li>
<a id="pgfId-1081404"></a>Select the <em>Remember Values</em> check box to save these values for all dummy devices.<br />
<a id="pgfId-1081405"></a>These values are saved on a per-user basis. So the Module Generator will always load these values until you overwrite them with new saved values.<br />
<a id="pgfId-1081409"></a>Corresponding Environment Variable: <a href="ModgenEnvars.html#54814">modgenRememberDummyVals</a></li><li>
<a id="pgfId-1081410"></a>Click <em>OK</em> or <em>Apply</em>.<ul><li>
<a id="pgfId-1081411"></a>Clicking <em>OK</em> applies the current settings and closes the form.</li><li>
<a id="pgfId-1081412"></a>Clicking <em>Apply</em> commits the changes, but keeps the form open for further modifications.</li></ul></li></ol>























































<p>
<a id="pgfId-1107042"></a>(ICADVM20.1 Only) For FinFET devices to support operations such as dummy creation, their component class must be set to NFIN or PFIN. To define these component types and assign devices to them, use either the Configure Physical Hierarchy command or the library and attributes mapping (LAM) file.</p>
<p>
<a id="pgfId-1107044"></a>In addition, the <em>Number of Fins</em> parameter must be included in the value of <h-hot><a actuate="user" class="URL" href="../vxlhelp/appA.html#transistorWidthParamNames" show="replace" xml:link="simple">transistorWidthParamNames</a></h-hot> environment variable:</p>
<p>
<a id="pgfId-1107035"></a><code>envSetVal(&quot;layoutXL&quot; &quot;transistorWidthParamNames&quot; &#39;string &quot;nfin nFin w wr&quot;)</code></p>

<h4>
<a id="pgfId-1114411"></a><a id="23063"></a>Adding Surro<a id="surroundModgen"></a>und Dummies</h4>

<p>
<a id="pgfId-1114538"></a>To add surround dummies around the selected Modgen instances, select <em>Surround Dummies</em> from the <em>Add Dummies</em> <img src="images/adddummy_icon.gif" /><span>drop-down list in the Modgen editor. The </span></p>
<a href="ModgenForms.html#71083">Surround Modgen</a> form is displayed.
<p>
<a id="pgfId-1115301"></a></p>
<div class="webflare-div-image">
<img width="668" height="518" src="images/EditModgens-38.gif" /></div>

<p>
<a id="pgfId-1115298"></a>This form lets you perform the following tasks:</p>
<ul><li>
<a id="pgfId-1114540"></a>(ICADVM20.1 Only) Load default values: <em>Default values</em> provides a list of pre-registerd SKILL call back functions from which you can load the values. This is helpful when you want to apply the same style across designs. You can load the values and edit them as per your requirement.<br />
<a id="pgfId-1115732"></a><div class="webflare-div-image">
<img width="668" height="326" src="images/EditModgens-39.gif" /></div></li><li>
<a id="pgfId-1114542"></a>(ICADVM20.1 Only) Select the sides: Choose one or more sides (<em>Top</em>, <em>Left</em>, <em>Right</em>, and <em>Bottom</em>) to add surround dummies. In the following example, dummies are added to all four sides of the Modgen constraint.<br />
<a id="pgfId-1116260"></a><div class="webflare-div-image">
<img width="668" height="295" src="images/EditModgens-40.gif" /></div></li><li>
<a id="pgfId-1114544"></a>Specify the cellview: On the <em>Master</em> tab (default), specify the <em>Library</em>, <em>Cell</em>, and <em>View</em> to be used to create custom dummy devices.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1117232"></a><em>View</em> lists only the <code>maskLayout</code> type views.</div></li><li>
<a id="pgfId-1114545"></a>Set the dummy parameters: The <em>Parameters</em> tab provides options to specify dummy parameters.<br />
<a id="pgfId-1115378"></a><div class="webflare-div-image">
<img src="images/SurroundDummies_ParametersTab.gif" /></div>
<a id="pgfId-1115370"></a>Specify the following options:<ul><li>
<a id="pgfId-1114783"></a>Number of fingers (<em>Num Fingers</em>) in each dummy. You can either type the required value in the field or choose from the following values: <ul><li>
<a id="pgfId-1114784"></a><em>Same As Neighbor</em>: The same number of fingers as the neighboring device are created.</li><li>
<a id="pgfId-1114776"></a><em>CDF Default</em>: The default number of fingers, as specified in the CDF, are created.</li></ul></li><li>
<a id="pgfId-1114838"></a><em>Length</em> of dummy fingers. You can either type the required value in the field or choose <em>Same as Neighbor</em> or <em>CDF Default</em>.</li><li>
<a id="pgfId-1114866"></a><em>Width</em> of dummy fingers. You can either type the required value in the field or choose <em>Same as Neighbor</em> or <em>CDF Default</em>.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1116090"></a>In ICADVM20.1, the <em>Width</em> cyclic field is replaced by the <em>Number of Fins </em>cyclic field. Valid values are the same as <em>Width</em>.</div></li></ul></li><li>
<a id="pgfId-1114546"></a>Define Connectivity: On the <em>Connectivity</em> tab, choose the net to which all dummy terminals must connect. If left blank (no net is selected), no terminals are created.<br />
<a id="pgfId-1115396"></a><div class="webflare-div-image">
<img src="images/SurroundDummies_ConnectivityTab.gif" /></div></li><li>
<a id="pgfId-1115273"></a>(ICADVM20.1 Only) Insert Tap Cells: The <em>Tap</em> tab provides the following options:<br />
<a id="pgfId-1115465"></a><div class="webflare-div-image">
<img src="images/SurroundDummies_TapTab.gif" /></div>
<a id="pgfId-1115527"></a>The options let you:<ul><li>
<a id="pgfId-1115274"></a>Insert dummies <em>Between Rows</em> and <em>Between Columns</em> by specifying the starting row or column index and the number of rows or columns to be skipped between dummy insertions.<br />
<a id="pgfId-1116351"></a><div class="webflare-div-image">
<img width="668" height="422" src="images/EditModgens-44.gif" /></div></li><li>
<a id="pgfId-1114439"></a>Insert a <em>Single Dummy Row</em> instead of individual dummies for each device. You can also specify the number of fingers to be inserted in each dummy row.<br />
<a id="pgfId-1116431"></a><div class="webflare-div-image">
<img width="668" height="367" src="images/EditModgens-45.gif" /></div></li></ul></li></ul>











































<h4>
<a id="pgfId-1081415"></a><a id="65653"></a>Understanding the Neighbor <a id="neighbordummy"></a>Dummy Type</h4>

<p>
<a id="pgfId-1081419"></a>If the <a href="ModgenEnvars.html#73900"><h-hot>modgenMakeMinDummies</h-hot><code></code></a> environment variable is set to <code>nil</code>, then the dummy is created using the lib/cell/view of the neighboring device. </p>
<p>
<a id="pgfId-1081420"></a>If the <code>modgenMakeMinDummies</code> environment variable is set to <code>t</code>, the following happens when a neighbor dummy is added to a MOSFET:</p>
<ul><li>
<a id="pgfId-1081421"></a>If the dummy&#8217;s location is on the right or left, a single finger, minimum length device is created to serve as the dummy.</li><li>
<a id="pgfId-1081422"></a>If the dummy&#8217;s location is on the top or bottom, a minimum width device with the same number of fingers as the neighbor is created to serve as the dummy.</li></ul>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1081423"></a>When setting the parameters to create minimum length and minimum width dummies, the CDF callbacks will be invoked.</div>
<p>
<a id="pgfId-1081424"></a>If added to a resistor:</p>
<ul><li>
<a id="pgfId-1081425"></a>If the dummy&#8217;s location is on the right or left, a single segment, minimum length device is created to serve as the dummy.</li><li>
<a id="pgfId-1081426"></a>If the dummy&#8217;s location is on the top or bottom, a minimum width device with the same number of segments is created to serve as the dummy.</li></ul>

<p>
<a id="pgfId-1081428"></a>In this case, the parameters for fingers (<a href="../vxlhelp/appA.html#lxFingeringNames">lxFingeringNames</a>), width (<a href="../vxlhelp/appA.html#sfactorNames">transistorWidthParamNames</a>), and s-factor (<a href="../vxlhelp/appA.html#transistorWidthParamNames">sfactorNames</a>) are used to create the device.</p>
<p>
<a id="pgfId-1104776"></a>The <code>lxFingeringNames</code> environment variable specifies parameter names that define Pcell gate fingering in VLS -XL. In addition, this environment variable is used by the Modgen placer when adding dummy devices to MOSFETs with the <a href="ModgenEnvars.html#73900"><h-hot>modgenMakeMinDummies</h-hot><code></code></a> environment variable set to t.</p>
<p>
<a id="pgfId-1081434"></a>For more information, refer to the <em><a actuate="user" class="URL" href="../vxlhelp/titlecopy.html#firstpage" show="replace" xml:link="simple">Virtuoso Layout Suite XL User Guide</a></em>.</p>

<h4>
<a id="pgfId-1081436"></a>Changing Dum<a id="dummyprop"></a>my Properties</h4>
<p>
<a id="pgfId-1081437"></a>You can change parameters of dummy instances using the Property Editor assistant in the Modgen editor window. To open the Property Editor assistant, right-click the menu area and select the <em>Property Editor</em> option from the shortcut menu.</p>

<p>
<a id="pgfId-1081599"></a>
After changing the parameter values, these changes are retained in the <code>dummyParams</code> member parameter in the constraint.</p>

<div class="webflare-div-image">
<img src="images/propeditor.gif" /></div>
<h4>
<a id="pgfId-1081441"></a>Defining Connectivity for Dummies</h4>

<p>
<a id="pgfId-1081442"></a>Use one of the following methods to reset the connectivity of dummies.</p>

<h4><em>
<a id="pgfId-1081443"></a>Using the Property Editor Assistant</em></h4>

<p>
<a id="pgfId-1081444"></a>Use this method to individually reset connectivity of terminals within a dummy. Each terminal can be connected to a different net. To reset connectivity using this method, open the Property Editor assistant by right-clicking the menu area and selecting the<em> Property Editor</em> option from the shortcut menu. Then, filter dummies by connectivity and change the net name.</p>

<p>
<a id="pgfId-1081448"></a></p>
<div class="webflare-div-image">
<img src="images/propeditor2.gif" /></div>
<h4><em>
<a id="pgfId-1081449"></a>Using the Modgen Pattern Editor</em></h4>

<p>
<a id="pgfId-1081450"></a>Use this method to connect all terminals within a dummy to a single net. Select the net name from the <em>Net </em>combo box in the Modgen Pattern Editor and click <em>OK</em>. </p>

<p>
<a id="pgfId-1081455"></a></p>
<div class="webflare-div-image">
<img width="668" height="194" src="images/EditModgens-48.gif" /></div>

<p>
<a id="pgfId-1081456"></a>The current settings override all previously-defined connectivity settings.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1081457"></a>If the <em>Net</em> combo box is left blank, then the connectivity definition in the Property Editor assistant remains valid.</div>

<h3>
<a id="pgfId-1081460"></a><a id="74129"></a>Adding Dummy Device Rows or Columns<a id="marker-1081459"></a></h3>

<p>
<a id="pgfId-1081461"></a>To add dummy devices around an array:</p>
<ol><li>
<a id="pgfId-1081462"></a>Select any device in an outer row or column of the array.<br />
<a id="pgfId-1081463"></a>Modgens provides the ability to add an entire row or column of dummy devices by selecting only one reference device. For instance, you can select any device in the left column and select <em>Add Dummy Row/Column </em>&gt; <em>Left</em> to add an entire column of dummies to the left of the Modgen. The <a href="ModgenForms.html#33860">Dummy Options<code></code></a> form is displayed. <br />
<a id="pgfId-1081467"></a><div class="webflare-div-image">
<img src="images/DummyOptionsForm.gif" /></div>
<a id="pgfId-1081468"></a>You can either set up the dummy options or accept the default options.</li><li>
<a id="pgfId-1081469"></a>Select the <em>Specify Parameters</em> check box in the <em>Dummy Parameters </em>section to specify the number of fingers, length, and width for all dummy devices. If the <em>Specify Parameters </em>check box is not selected, then the default values for these fields is determined by the <a href="ModgenEnvars.html#73900">modgenMakeMinDummies</a> environment variable. For more information, see <a href="EditModgens.html#65653">Understanding the Neighbor Dummy Type</a>.<br /><div class="webflare-information-macro webflare-macro-tip">
<a id="pgfId-1085875"></a>
The <em>Specify Parameters</em> check box is available only when the Dummy Options form is invoked by selecting <em>Add Dummy Row/Column </em>button.</div></li><li>
<a id="pgfId-1085882"></a>Modify dummy device options as desired. For more information, see <a href="EditModgens.html#50037">Adding Dummies to Sides</a>.</li><li>
<a id="pgfId-1081485"></a>Click <em>OK</em> or <em>Apply</em>.<ul><li>
<a id="pgfId-1081486"></a>Clicking <em>OK</em> applies the current settings and closes the form.</li><li>
<a id="pgfId-1081487"></a>Clicking <em>Apply</em> commits the changes, but keeps the form open for further modifications.</li></ul><br />
<a id="pgfId-1081488"></a>The Module Generator places the dummy devices as directed.</li></ol>
















<h3>
<a id="pgfId-1081490"></a><a id="10901"></a>Adding Dummy Devices to the Array</h3>

<p>
<a id="pgfId-1081491"></a>You can also choose to add dummy devices to the entire array.</p>
<ul><li>
<a id="pgfId-1081492"></a>Select any device in an outer row or column of the array.</li><li>
<a id="pgfId-1081496"></a>On the Modgen toolbar, click the arrow next to the <em>Add Dummy Row/Column</em><img src="images/adddummy.gif" />
 button and choose the location.</li></ul>


<h3>
<a id="pgfId-1107596"></a><a id="12068"></a>Backannotating Dummy Devices</h3>

<p>
<a id="pgfId-1107598"></a>Modgen dummy devices in the layout can be backannotated to their corresponding schematic to keep the two views synchronized. If the dummy layout instance is already bound to a symbol in the schematic, no back annotation is performed for that instance.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1107599"></a>You can backannotate dummies even when the layout view is open in the read-only mode.</div>
<p>
<a id="pgfId-1107600"></a>At any point, you can run <em>Check Against Source</em> to check for any instance mismatches with the schematic.</p>
<p>
<a id="pgfId-1107592"></a>To know more about dummy backannotation, see <h-hot><a actuate="user" class="URL" href="../vxlhelp/chap6.html#dummyBackAnnotate" show="replace" xml:link="simple">BackAnnotating Dummy Instances</a></h-hot> in <em>Virtuoso Layout Site XL User Guide</em>.</p>

<h3>
<a id="pgfId-1081499"></a><a id="15049"></a>Removing Dummy Devices<a id="marker-1107584"></a></h3>

<p>
<a id="pgfId-1081500"></a>To remove a dummy device, do one of the following:</p>
<ul><li>
<a id="pgfId-1081504"></a>Select the dummy device and click the <em>Delete</em> <img src="images/delete_icon.gif" />
 button on the toolbar.</li><li>
<a id="pgfId-1081505"></a>Select the dummy device and press the <em>Delete</em> key.</li></ul>



<p>
<a id="pgfId-1105954"></a>Select <em>Place</em>&#8212;<em>Modgen</em>&#8212;<em>Remove</em> <em>Modgen Surround Dummies</em> to remove surround dummies in the layout canvas.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1105983"></a>All empty rows and columns in the Modgen are deleted.</div>

<h3>
<a id="pgfId-1081507"></a><a id="60508"></a>Deleting Dummies</h3>

<p>
<a id="pgfId-1071567"></a>In the Modgen toolbar, click the arrow next to the <em>Add Dummy Row/Column</em><img src="images/adddummy.gif" />
 button and click one of the following buttons:</p>


<ul><li>
<a id="pgfId-1122425"></a>The <em>Delete All Dummy Rows/Columns </em>button to delete all dummy rows and columns of the Modgen. Alternatively, use the <a href="../sklayoutref/modgen.html#mgDeleteAllDummyRowColumnCB">mgDeleteAllDummyRowColumnCB </a>command.</li><li>
<a id="pgfId-1122451"></a>The <em>Delete All Dummies</em> button to delete all dummies in the design.</li></ul>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1106008"></a>Rows and columns with empty cells are deleted.</div>

<h2>
<a id="pgfId-1049701"></a><a id="94846"></a>Adding Body Contacts<a id="marker-1049699"></a><a id="modgenBC"></a></h2>

<p>
<a id="pgfId-1035561"></a>You can define properties for body contacts in the <a href="ModgenForms.html#97482">Body Contact Options</a> form, then add body contacts to the array in the layout.</p>

<h3>
<a id="pgfId-1036440"></a><a id="13640"></a>Defining Body Contact Properties<a id="marker-1037018"></a></h3>

<p>
<a id="pgfId-1036443"></a>In the Body Contact Options form, you can specify the type, net, and separation distance for body contacts. Because the body contact created by the Modgen tool matches the height of the member instance, you also need to specify which reference layer the body contact matches. If you do not specify a reference layer, the Modgen tool will match the body contact to the height of the bounding box of the member instance. The Modgen tool also uses the reference layer to calculate the separation distance.</p>
<ol><li>
<a id="pgfId-1036466"></a>In the toolbar, click the <em>Add Body Contact</em> <img src="images/addbc_icon.gif" />
 button.<br />
<a id="pgfId-1036470"></a>The Body Contact Options form appears.<br />
<a id="pgfId-1037669"></a><div class="webflare-div-image">
<img src="images/bodycontact.gif" /></div></li><li>
<a id="pgfId-1036471"></a>From the <em>Type</em> cyclic field, choose the type of body contact you want.<br />
<a id="pgfId-1036494"></a>This field is populated from the technology file.</li><li>
<a id="pgfId-1068935"></a>The <em>Net</em> combo box lists the nets that are connected to objects in the active Modgen. Choose the net to which you want body contacts attached to. To choose a net that is present in the cellView, but not in the current Modgen, type the net name in the <em>Net</em> combo box. The entry is validated against all existing nets in the current cellView. If a matching net is not available in the current cellView, then a warning message is issued and the net is created.</li><li>
<a id="pgfId-1036498"></a>From the<em> Layer </em>cyclic field, choose the reference layer for the body contacts.<br />
<a id="pgfId-1063047"></a>Environment Variable: <a href="ModgenEnvars.html#71089">modgenRememberBodyContactVals</a></li><li>
<a id="pgfId-1060773"></a>In the <em>Separation</em> field, enter the distance in microns that you want between body contacts and devices. This value is added to minimum DRC to space the body contact.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1060774"></a>You can also specify a negative value in this field. When you specify a negative value, the body contact is placed inside of the value that Modgen is calculating as a legal DRC distance.</div></li><li>
<a id="pgfId-1037684"></a>Select the <em>Remember Values</em> check box to save these values for all dummy devices.</li><li>
<a id="pgfId-1065773"></a>Click <em>OK</em> or <em>Apply</em>.<ul><li>
<a id="pgfId-1065774"></a>Clicking <em>OK</em> applies the current settings and closes the form.</li><li>
<a id="pgfId-1065775"></a>Clicking <em>Apply</em> commits the changes, but keeps the form open for further modifications.</li></ul></li></ol>



















<h3>
<a id="pgfId-1036454"></a><a id="85394"></a>Adding Body Contacts</h3>

<p>
<a id="pgfId-1036509"></a>You have two options for adding body contacts. You can add them in the layout on a row or column basis, or you can add all body contacts using the Modgen toolbar.</p>

<h4>
<a id="pgfId-1036510"></a><a id="79319"></a>Adding Body Contact Rows and Columns</h4>

<p>
<a id="pgfId-1036511"></a>You can add body contacts on a row or column basis in the layout.</p>
<ol><li>
<a id="pgfId-1036516"></a>Select a device in a row or column of the array.<br />
<a id="pgfId-1036517"></a>The body contacts you can add are dependent on which device you select.</li><li>
<a id="pgfId-1036518"></a>Do one of the following:<ul><li>
<a id="pgfId-1037724"></a>Right-click and choose <em>Add Body Contact &#8211; &lt;Location&gt;</em>.</li><li>
<a id="pgfId-1037727"></a>On the toolbar, click the arrow next to the <em>Add Body Contact </em>icon and choose a location option.</li></ul></li></ol>





<h4>
<a id="pgfId-1036441"></a>Adding Body Contacts to a Selected Device</h4>

<p>
<a id="pgfId-1036535"></a>You can also add body contacts to the selected device(s).</p>
<ol><li>
<a id="pgfId-1036540"></a>Select one or more devices.</li><li>
<a id="pgfId-1037749"></a>Do one of the following:<ul><li>
<a id="pgfId-1037750"></a>Right-click and choose <em>Add Body Contact &#8211; &lt;Location&gt;</em>.</li><li>
<a id="pgfId-1069032"></a>On the toolbar, click the arrow next to the <em>Add Body Contact </em><img src="images/addbc_icon.gif" />
 button and choose a location option.</li></ul></li></ol>




<h4>
<a id="pgfId-1069033"></a>Editing Body Contact Properties</h4>

<p>
<a id="pgfId-1069101"></a>You can edit body contact parameters using the Property Editor assistant in the Modgen editor window. To open the Property Editor assistant, right-click the menu area and select the Property Editor option from the shortcut menu.</p>

<p>
<a id="pgfId-1069065"></a></p>
<div class="webflare-div-image">
<img src="images/BodyContactPropEdit.gif" /></div>

<p>
<a id="pgfId-1069076"></a>The modified parameter values are applied to the selected body contact.</p>

<h3>
<a id="pgfId-1069035"></a><a id="24115"></a>Removing Body Contacts<a id="marker-1069034"></a></h3>

<p>
<a id="pgfId-1036551"></a>To remove body contacts, do one of the following:</p>
<ul><li>
<a id="pgfId-1037763"></a>Select the body contact and click the <em>Delete</em> <img src="images/delete_icon.gif" />
 button on the toolbar.</li><li>
<a id="pgfId-1037920"></a>Select the body contact and press the <em>Delete</em> key.</li></ul>




<h2>
<a id="pgfId-1044038"></a><a id="18651"></a>Defining Grid Placement</h2>

<p>
<a id="pgfId-1044833"></a>The Grid Placer is a back end placement engine for Modgen to generate the DRC-correct array placement. The Grid Placer places a set of instances according to their grid indexes into an array-like placement compacted to the minimum DRC and constraint-correct spacing. In addition, it enables you to specify the array size in terms of the number of rows and number of columns.</p>
<p>
<a id="pgfId-1044861"></a>As compared to the previous Modgen placement engine, the Grid Placer provides fast and flexible placement, which supports the constraints between member instances, well merging, and complex guard ring creation.</p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1044808"></a>
The Grid Placer algorithm scales better for large Modgens than the current cell by cell placement implementation.</div>

<p>
<a id="pgfId-1044768"></a>With the introduction of the Grid Placer, the semantics of the Modgen&#39;s horizontal and vertical alignment member parameters has changed. Earlier, alignment was relative to the sides of a grid cell as shown below:</p>

<p>
<a id="pgfId-1045481"></a></p>
<div class="webflare-div-image">
<img src="images/alignment1.GIF" /></div>

<p>
<a id="pgfId-1045470"></a>With the Grid Placer, the alignment is relative to a member&#39;s left or bottom neighbor. Therefore, setting a member&#39;s alignment to the left aligns its left edge with the left edge of the member below it. If the member is in the bottom row, vertical alignment had no effect. This is illustrated in the image below:</p>

<p>
<a id="pgfId-1045497"></a></p>
<div class="webflare-div-image">
<img src="images/alignment2.GIF" /></div>

<p>
<a id="pgfId-1062991"></a>Typically, Modgens are snapped to the manufacturing grid resolution as specified in the technology file when <em>Generate From Source</em> or <em>Generate Selected From Source</em> is used. </p>
<p>
<a id="pgfId-1063037"></a>You can also snap Modgen origin to the snap spacing specified by the <a href="ModgenEnvars.html#85331">modgenUseSnapSpacing</a> environment variable in the <code>.cdsinit</code> file.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1063042"></a>The Modgen origin is the origin of the figGroup, which is the lower-left corner of the <code>figGroup</code> bbox. The snapping is with respect to the Modgen origin.</div>

<h3>
<a id="pgfId-1047719"></a><a id="85797"></a>Placing Body Contacts</h3>

<p>
<a id="pgfId-1044174"></a>Body contacts for a device in the grid are supported by the Grid Placer. The Grid Placer is not responsible for creating the body contact geometry, but only for the placement of the body contacts. You can define the relative position, such as left, right, top, or bottom and spacing between the body contacts and member instance of the grid. It also incorporates the DRC between the body contact and neighbor grid geometry as a hard constraint.</p>
<p>
<a id="pgfId-1044877"></a>The Grid Placer also supports automatic minimum DRC spacing based placement for a body contact. This minimum DRC spacing would be obtained from the process rules on the database object.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1044261"></a>If there is a conflict between the DRC rules of neighbor member instances, the Grid Placer will use the maximum value as the DRC rule between the two instances.</div>

<h4>
<a id="pgfId-1044293"></a>Calculating DRC Rules</h4>

<p>
<a id="pgfId-1044906"></a>You can use the Process Rule Editor to query minimum spacing rules for a single or different layer to calculate the DRC rules between the neighboring grid objects.</p>
<p>
<a id="pgfId-1044332"></a>For same layer, you need to use the constraint definition <code>minSpacing</code>, while for different layers you need to use <code>minClearance</code>. While setting DRC rules between two devices, you need to consider the maximum of the <code>minSpacing</code> or <code>minClearance</code> values obtained from the Process Rule Editor on each of the two devices.</p>

<h3>
<a id="pgfId-1064025"></a><a id="85350"></a>Corner Case Conditions for Grid Placer</h3>

<p>
<a id="pgfId-1045642"></a>The parameters entered by users to define a Modgen can be put in two categories: one that defines the overall Module, and the other that defines each grid.</p>
<p>
<a id="pgfId-1045643"></a>The module-level input parameters include the number of rows/columns, guard rings, row routing spacing estimation, and constraints between grid objects.</p>
<p>
<a id="pgfId-1045644"></a>The grid-level input parameters define each grid object and its neighbors. This includes, row/column index, alignment, custom spacing, abutment, body contact, well layer, and DRC rules.</p>
<p>
<a id="pgfId-1045645"></a>A combination of both these input parameters can create conflicts.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1047366"></a>In Grid Placer, if a member which is abutted to its neighbor also has custom spacing, then abutment will take precedence and the custom spacing will be ignored.</div>

<h4>
<a id="pgfId-1045646"></a>Body Contact v/s Well Merge</h4>

<p>
<a id="pgfId-1045629"></a>Let&#8217;s consider a scenario of a possible conflict between body contact and well merge.</p>

<h4><em>
<a id="pgfId-1045657"></a>Scenario 1:</em></h4>

<p>
<a id="pgfId-1045668"></a>If the well-merge option is on, and the body contact has either the same well layer as the instance or no well layer in its geometry. Then, you enclose the body contact geometry with the well layer of the instance as shown in the image below. </p>
<p>
<a id="pgfId-1045709"></a></p>

<div class="webflare-div-image">
<img src="images/cornercase1.GIF" /></div>

<p>
<a id="pgfId-1045716"></a>Min-enclosure process rules need to be maintained between the well layer and the body contact geometry. However, if the body contact has a different well layer than the instance, you do not enclose the body contact with the well geometry of the instance.</p>

<h4><em>
<a id="pgfId-1045770"></a>Scenario 2:</em></h4>

<p>
<a id="pgfId-1045771"></a>If the well-merge option is on, and two neighboring instances in the grid sharing a common body contact also share the same well layer, then the well layers of both instances are merged maintaining minimum enclosure and minimum DRC rules as shown in the image below.</p>
<p>
<a id="pgfId-1045794"></a></p>

<div class="webflare-div-image">
<img src="images/cornercase2.GIF" /></div>

<p>
<a id="pgfId-1045802"></a>However, if the shared body contact happens to have a different well layer as the neighboring instances, well-merging would be disabled in this special case.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1047400"></a>If instance members in a Modgen have the same well layer but different bulk connectivity, then well merging is not allowed for these instances. Well merging is only applicable for instances that have the same well layer and same bulk connectivity.</div>

<h3>
<a id="pgfId-1068183"></a>Snapping Instance<a id="ff_ModgenSnapInstances"></a>s in Modgens (ICADVM20.1 Only) </h3>

<p>
<a id="pgfId-1068168"></a>To support FinFETs, the layout editor has been enhanced to automatically snap the Pcells in Modgens to the snap pattern. The entire Modgen block is, therefore, snapped to the top-level snap pattern shape. For more information about snap patterns, see <h-hot>Snapping Objects to Local Snap Pattern Shapes</h-hot><a id="marker-1104837"></a>.</p>

<h2>
<a id="pgfId-1045775"></a><a id="10032"></a>Specifying Guard Rings<a id="marker-1045773"></a><a id="modgenGR"></a></h2>

<p>
<a id="pgfId-1072257"></a>Guard rings are used to enclose one or more objects such as devices or device chains. You can use the Modgen tool to create multipart path (MPP) guard rings and fluid guard rings. Before creating guard rings, ensure that they are defined in the technology file.</p>
<p>
<a id="pgfId-1072258"></a>For more information about the procedures for creating the following types of guard rings, see:</p>
<ul><li>
<a id="pgfId-1066024"></a><a href="EditModgens.html#22147">Creating Multipath Part (MPP) Guard Rings</a></li><li>
<a id="pgfId-1066148"></a><a href="EditModgens.html#38623">Creating Fluid Guard Rings</a></li><li>
<a id="pgfId-1079035"></a><a href="EditModgens.html#30961">Creating Identical Guard Rings (ICADVM20.1 Only)</a><br /><div class="webflare-information-macro webflare-macro-tip">
<a id="pgfId-1086372"></a>
You can define guard rings directly in the layout canvas without opening Modgen Editor. Select <em>Place</em>&#8212;<em>Modgen</em>&#8212;<em>Add Modgen Guard Ring</em> and choose the required guard ring type. </div></li></ul>




<h3>
<a id="pgfId-1079037"></a><a id="22147"></a>Creating Multipath Part (MPP) Guard Rings</h3>

<p>
<a id="pgfId-1072277"></a>The Modgen tool can generate a guard ring based on MPPs defined in the technology file. In the Guard Rings page of the Module Generator form, you can specify the guard ring type, shape, net, separation distance, and MPP.</p>
<p>
<a id="pgfId-1072278"></a>You can either specify one spacing value that defines the separation between all four sides of the guard ring and the devices, or you can define a different value for each side. This spacing value is in addition to the minimum DRC distance. So, when creating a guard ring, the Modgen tool first finds the minimum DRC location at which to place the guard ring, examining each layer, then adds the specific spacing values to that distance in order to calculate the final location. To specify guard ring properties:</p>
<ol><li>
<a id="pgfId-1060572"></a>On the Modgen toolbar, click the <em>Guard Ring</em> <img src="images/guardring_icon.gif" />
 icon and choose <em>Create MPP Guard Ring</em><span>.</span><br />
<a id="pgfId-1072296"></a>The <a href="ModgenForms.html#60219">Guard Ring Options</a> form is displayed.<br />
<a id="pgfId-1037776"></a><div class="webflare-div-image">
<img src="images/MPP_GR_Form.gif" /></div></li><li>
<a id="pgfId-1072324"></a>From the <em>Type</em> drop-down field, select the type of guard ring you want.<br />
<a id="pgfId-1072325"></a>The Type drop-down field has the following options<ol><li>
<a id="pgfId-1072326"></a><em>none</em>: Indicates no guard ring and can be used to delete an existing one.</li><li>
<a id="pgfId-1072327"></a><em>ring</em>: Indicates a single guard ring around the entire Modgen.</li><li>
<a id="pgfId-1072328"></a><em>pane</em>: Indicates the new window pane configuration that includes a guard ring around all devices as well as the entire Modgen.</li></ol></li><li>
<a id="pgfId-1072344"></a>From the <em>Shape</em> field, select the shape of guard ring.</li><li>
<a id="pgfId-1072345"></a>From the<em> Net</em> combo box, select the net you want the guard ring attached to.</li><li>
<a id="pgfId-1072346"></a>Specify the <em>Spacing</em> between the sides of the guard ring and the devices by doing one of the following:<br />
<a id="pgfId-1072358"></a>To specify the same <em>Spacing </em>value for all sides of the guard ring:<ol><li>
<a id="pgfId-1072370"></a>Enter the distance in microns in the <em>Spacing</em> field. By default, the value is <code>0</code>.</li></ol><br />
<a id="pgfId-1072371"></a>To specify different spacing values for each side of the guard ring:<ol><li>
<a id="pgfId-1072383"></a>Enter a value for the left side in the <em>Left Spacing</em> field.</li><li>
<a id="pgfId-1072384"></a>Enter a value for the right side in the <em>Right Spacing</em> field.</li><li>
<a id="pgfId-1072385"></a>Enter a value for the top side in the <em>Top Spacing</em> field.</li><li>
<a id="pgfId-1048482"></a>Enter a value for the bottom in the <em>Bottom Spacing</em> field.<br /><div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1048483"></a>
The spacing value is in addition to the DRC spacing rule.</div><div class="webflare-information-macro webflare-macro-tip">
<a id="pgfId-1048484"></a>
You can specify a negative <em>Spacing </em>value. In this case, the guard ring is placed inside of the value that Modgen calculates as a legal DRC distance.</div><div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1072426"></a>
Once you have entered a value in any of the &lt;Side&gt; <em>Spacing</em> fields, all the &lt;Side&gt; Spacing fields apply, and the value in the <em>Spacing</em> field is ignored (as it applies to all sides).</div></li></ol></li><li>
<a id="pgfId-1072440"></a>From the<em> MPP To Use </em>cyclic field, choose an MPP for the guard ring.</li><li>
<a id="pgfId-1065757"></a>Click <em>OK</em> or <em>Apply</em>.<ul><li>
<a id="pgfId-1072453"></a>Clicking <em>OK</em> applies the current settings and closes the form.</li><li>
<a id="pgfId-1072476"></a>Clicking <em>Apply</em> commits the changes, but keeps the form open for further modifications.</li></ul><br />
<a id="pgfId-1072485"></a>The Module Generator creates a guard ring around the array using the parameters that you specified.</li></ol>


































<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1072478"></a>Modgen pane guard ring stripes will honor existing abutment between member instances. Therefore, guard ring stripes will be inserted only between unabutted instances, and not between abutted instances. If user unabuts existing instances, then the pane will be regenerated accordingly, and stripes will be inserted between all instances.</div>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1072513"></a>
Cluster spacing to guard ring is the sum of spacing and DRC between instance Bbox and edge of guard ring edge. 

Modgen spacing to guard ring is the sum of spacing and DRC between outermost layer instance data to guard ring edge.</div>
<h3>
<a id="pgfId-1066053"></a><a id="38623"></a>Creating Fluid Guar<a id="createModgenFGR"></a>d Rings</h3>

<p>
<a id="pgfId-1103864"></a>In addition to MPP guard rings, you can use the Modgen editor to create fluid guard rings (FGRs) around objects. FGRs are a type of fluid Pcells that can be used to enclose one or more objects such as devices or device chains. Before creating FGRs, ensure that the FGR is installed as a device class in the technology file. For more information about FGR installation, see <a actuate="user" class="URL" href="../fgrguide/installFGR.html#firstpage" show="replace" xml:link="simple">Installing Fluid Guard Rings</a> in the Virtuoso<sup>&#174;</sup> Fluid Guard Ring User Guide.</p>
<p>
<a id="pgfId-1103869"></a>To create an FGR, click the <em>Guard Ring</em> <img src="images/guardring_icon.gif" />
 icon on the Modgen toolbar and choose <em>Create Fluid Guard Ring</em></p><span>. </span>
<p>
<a id="pgfId-1103870"></a>The Create Guard Ring form is displayed.</p>

<p>
<a id="pgfId-1103874"></a></p>
<div class="webflare-div-image">
<img src="images/ModgenFGR.gif" /></div>

<p>
<a id="pgfId-1103875"></a>Typically, in Virtuoso Layout Suite L (Layout L), FGRs can be created in four different ways: by drawing a path, rectangle, or polygon, or by using the wrap mode. Each of these different modes represent a tab on the Create Guard Ring form. However, the Modgen Editor only supports creation of FGRs in the <em>Wrap</em> mode. In this mode, an FGR is created around the objects you select. The fluid guard ring parameters are stored in the Modgen constraint.</p>
<p>
<a id="pgfId-1103877"></a>For information about options on the <em>Wrap</em> tab of the Create Guard Ring form, see <h-hot><a actuate="user" class="URL" href="../fgrguide/createFGR.html#wrapMode" show="replace" xml:link="simple">Wrap Mode</a></h-hot> in the Virtuoso<sup>&#174;</sup> Fluid Guard Ring User Guide.</p>

<h4>
<a id="pgfId-1111705"></a>Hand Editing Fluid Guard Rings</h4>

<p>
<a id="pgfId-1111757"></a>When a Modgen is edited, the fluid guard rings in the Modgen are regenerated automatically. As a result, all the manual edits made to the fluid guard rings are lost. To avoid this, switch to the hand edit mode for the fluid guard rings. In this mode, fluid guard rings are not regenerated each time the Modgen is updated. Therefore, all customizations remain.</p>
<p>
<a id="pgfId-1111758"></a>To switch on the hand edit mode, either select <em>Enable Fluid Guard Ring Hand Edit Mode</em> from the<em> Guard Ring </em>menu, or use the <a href="../sklayoutref/modgen.html#mgFGREnterHandEdit">mgFGREnterHandEdit</a> SKILL function.</p>
<p>
<a id="pgfId-1111759"></a>To switch off the hand edit mode, either select <em>Disable Fluid Guard Ring Hand Edit Mode</em> from the<em> Guard Ring </em>menu, or use the <a href="../sklayoutref/modgen.html#mgFGRExitHandEdit">mgFGRExitHandEdit</a> SKILL function.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1111753"></a>Fluid guard rings can be edited manually both in and out of the hand edit mode. </div>

<h3>
<a id="pgfId-1103880"></a><a id="30961"></a>Creating Id<a id="IdenticalGRCreate"></a>entical Guard Rings (ICADVM20.1 Only) </h3>

<p>
<a id="pgfId-1103881"></a>In addition to MPP and fluid guard rings, you can create identical guard rings in Modgens. Identical guard rings are composed of unit cells that match the guarded instances in terms of their number of fingers, number of fins, finger alignment, and other parameters. </p>
<p>
<a id="pgfId-1103882"></a>The following diagram depicts identical guard rings:</p>

<p>
<a id="pgfId-1103886"></a></p>
<div class="webflare-div-image">
<img src="images/IdenticalGRDefinition.gif" /></div>

<p>
<a id="pgfId-1103887"></a>Select the <em>Create Identical Guard Ring</em> command from the<em> Guard Ring </em>menu to display the <a href="ModgenForms.html#80739">Identical Guard Ring Options</a> form.</p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1103891"></a>
The <em>Create Identical Guard Ring </em>command is available only if the PDK that you are using is configured to support identical guard rings. For more information on this capability, contact your Cadence Customer Support representative.</div>
<p>
<a id="pgfId-1103895"></a></p>
<div class="webflare-div-image">
<img src="images/IdenticalGR_Form.gif" /></div>

<p>
<a id="pgfId-1103896"></a>The Identical Guard Ring Options form contains the following options:</p>
<ul><li>
<a id="pgfId-1103897"></a><em>Type</em> defines the way in which the identical guard ring surrounds the adjoining Modgen instances. Choose one of the following guard ring types:<ul><li>
<a id="pgfId-1112471"></a>None: Deletes the identical guard ring.</li><li>
<a id="pgfId-1103898"></a>Surround: The identical guard ring surrounds all the instances.<br /><ffi2-fig-frame-in-2 id="#id1103902">
<a id="pgfId-1103902"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img src="images/IdenticalGR01.gif" /></div></li><li>
<a id="pgfId-1103903"></a>Surround+Strip: The guard ring surrounds all the instances, and strips of guard ring instances are inserted between one or more Modgen rows.<br /><ffi2-fig-frame-in-2 id="#id1103907">
<a id="pgfId-1103907"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img src="images/IdenticalGR02.gif" /></div></li><li>
<a id="pgfId-1103913"></a>Grid: The guard ring surrounds every instance or group of abutted instances separately.<br /><ffi2-fig-frame-in-2 id="#id1103925">
<a id="pgfId-1103925"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="668" height="390" src="images/EditModgens-71.gif" /></div></li></ul></li><li>
<a id="pgfId-1103926"></a><em>Horizontal Strip Width (in fins) </em>value specifies the vertical width (as a number of fins) of the horizontal guard ring strips, represented by the horizontal blue rectangles in the diagram above.<br />
<a id="pgfId-1103932"></a><div class="webflare-div-image">
<img width="668" height="57" src="images/EditModgens-72.gif" /></div></li><li>
<a id="pgfId-1103933"></a><em>GR Definition</em> is a definition provided by the PDK that defines many aspects of the guard ring. It provides information such as the unit cell <code>lib:cell:view</code>, its parameters, and parameter callbacks, which helps Modgens instantiate the guard ring correctly.</li><li>
<a id="pgfId-1103934"></a><em>Net</em> specifies the net to which the guard ring needs to be connected.</li><li>
<a id="pgfId-1103935"></a><em>Break GR</em> affects the <code>Metal1 </code>layer of all vertical guard ring strips except those on the left side of the guard ring. The effect is determined by the <em>GR Definition</em>, but usually the <code>Metal1 </code>layer is trimmed from the bottom as depicted in the following diagram.<br />
<a id="pgfId-1103944"></a><div class="webflare-div-image">
<img width="668" height="210" src="images/EditModgens-73.gif" /></div>
<a id="pgfId-1103945"></a>The <em>Break GR </em>option is used to provide spaces for connecting guarded instances via the <code>Metal1</code> layer routes.</li><li>
<a id="pgfId-1110097"></a><em>Add Corners</em> creates guard rings at all available corners around the selected instances.</li><li>
<a id="pgfId-1103946"></a>The side switches turn on or off the guard ring for the specified sides. For example, the following diagram depicts a <em>Grid</em> guard ring in which the right side is turned off. <br />
<a id="pgfId-1112547"></a><div class="webflare-div-image">
<img src="images/IdenticalGR06.gif" /></div></li><li>
<a id="pgfId-1112574"></a><em>Number of Rows Between Strips</em> is available when <em>Type</em> is set to either <em>Surround+Strip</em> or <em>Grid</em>. It specifies the number of instance rows that are required between strips of guard rings, counting from the bottom row. <br />
<a id="pgfId-1112599"></a>Example 1: <em>Type</em> is set to <em>Surround+Strip</em>; <em>Number of Rows Between Strips</em> is set to <code>2</code><br />
<a id="pgfId-1112651"></a><div class="webflare-div-image">
<img src="images/IdenticalGR03.gif" /></div>
<a id="pgfId-1103950"></a>Example 2: <em>Type</em> is set to <em>Grid</em>; <em>Number of Rows Between Strips</em> value is set to <code>2</code>.<br />
<a id="pgfId-1112711"></a><div class="webflare-div-image">
<img src="images/IGR_Grid_NumberOfRows.gif" /></div></li></ul>













































<h3>
<a id="pgfId-1103951"></a>Modifying a Guard Ring</h3>

<p>
<a id="pgfId-1103952"></a>To modify an existing guard ring:</p>
<ol><li>
<a id="pgfId-1104462"></a>Do one of the following:<ul><li>
<a id="pgfId-1104466"></a>In the toolbar, click the <em>Guard Ring</em> <img src="images/guardring_icon.gif" />
 icon.</li><li>
<a id="pgfId-1104467"></a>Right-click outside the array and choose <em>Edit Guard Ring</em>.</li></ul><br />
<a id="pgfId-1103963"></a>The <a href="ModgenForms.html#60219">Guard Ring Options</a> form appears.</li><li>
<a id="pgfId-1103964"></a>Modify the guard ring options as desired.<br />
<a id="pgfId-1103968"></a>For more information, see <a href="EditModgens.html#10032">Specifying Guard Rings</a>.</li><li>
<a id="pgfId-1103969"></a>Click <em>OK</em> when finished.</li></ol>









<h3>
<a id="pgfId-1103970"></a>Snapping Fluid Guard Rings to Fin Grids (ICADVM20.1 Only) </h3>

<p>
<a id="pgfId-1103971"></a>When you create an FGR for a FinFET device, the FGR instance automatically snaps to the underlying fin grids if the <em>Snap Pattern Snapping</em> check box is selected in the <h-hot><a actuate="user" class="URL" href="../vlehelp/appA.html#layoutEditorOptionsForm" show="replace" xml:link="simple">Layout Editor Options</a></h-hot> form.</p>
<p>
<a id="pgfId-1103973"></a>For detailed information about snap pattern grids in the layout canvas, refer to the <h-hot><a actuate="user" class="URL" href="../vlehelp/leFinfet.html#firstpage" show="replace" xml:link="simple">FinFET Support in Layout L</a></h-hot> chapter of the <em>Virtuoso Layout Suite L</em> User Guide.</p>

<h3>
<a id="pgfId-1103976"></a>Removing a Guard Ring<a id="marker-1103975"></a></h3>

<p>
<a id="pgfId-1103977"></a>Use one of the following methods to remove an existing guard ring:</p>

<h4><em>
<a id="pgfId-1104894"></a>Method 1:</em></h4>

<ol><li>
<a id="pgfId-1104923"></a>On the Modgen toolbar, click the <em>Guard Ring</em> <img src="images/guardring_icon.gif" />
 icon. </li><li>
<a id="pgfId-1104940"></a>Choose <em>Remove Guard Ring</em>.</li></ol>




<h4><em>
<a id="pgfId-1104960"></a>Method 2:</em></h4>

<ol><li>
<a id="pgfId-1103980"></a>Do one of the following:<ul><li>
<a id="pgfId-1103985"></a>In the toolbar, click the <em>Guard Ring</em> <img src="images/guardring_icon.gif" />
 icon.</li><li>
<a id="pgfId-1103986"></a>Right-click outside the array and choose <em>Edit Guard Ring</em>.</li></ul><br />
<a id="pgfId-1103987"></a>The Guard Ring Options form appears.</li><li>
<a id="pgfId-1103988"></a>From the <em>Type</em> cyclic field, choose <em>none</em> as the type.</li><li>
<a id="pgfId-1082226"></a>Click <em>OK</em> when finished.</li></ol>








<div class="webflare-information-macro webflare-macro-video">
<a id="pgfId-1104859"></a>
For more information, see the <a actuate="user" class="URL" href="https://support.cadence.com/wps/mypoc/cos?uri=deeplinkmin:VideoViewer;src=wp;q=Video/Custom_IC_Design/modgen_grrem.htm;searchHash=5c78a81038c2a7324c96748b3195c6d7" show="replace" xml:link="simple">Removing a Guard Ring from a Modgen</a> video.</div>
<h2>
<a id="pgfId-1103374"></a><a id="44563"></a>Abutting Devices<a id="marker-1103373"></a></h2>

<p>
<a id="pgfId-1103375"></a>For MOSFET member instances, Modgen supports abutment of devices. When you abut a device, Modgen remains aware of connectivity and may flip the device to correctly abut.</p>
<p>
<a id="pgfId-1103376"></a>You can also abut dummy devices to other devices, including other dummies. Internally, the dummy device&#8217;s net may be changed from the default specified in the Dummy Options form, but if the dummy device is removed from abutment, the net will revert to the default. When two instances are abutted, any body contacts between them are deleted.</p>
<p>
<a id="pgfId-1103377"></a>Modgen abutment uses the Layout XL chaining engine. Therefore, the abutment results are subject to the settings of the Layout XL chaining environment variables. For more information about these environment variables, see <h-hot><a actuate="user" class="URL" href="../vxlhelp/appA.html#firstpage" show="replace" xml:link="simple">Layout XL Environment Variables</a></h-hot>. Notable examples are <code>chainMirror</code> and <code>chainMirrorEquivOrients</code>. These environment variables are enabled by default, and may therefore result in unintended changes to the orientation of instances.</p>

<h4>
<a id="pgfId-1123633"></a>Prerequisites</h4>

<p>
<a id="pgfId-1124745"></a>The devices to be abutted must be registered as component types. It addition to abutment, this is a key requirement for operations like chaining and folding devices, identifying pseudo-parallel nets, and identifying devices and structures using the Circuit Prospector assistant (this is a schematic XL feature) in Schematic view.</p>
<p>
<a id="pgfId-1123996"></a>If the devices are not registered in the PDK, use one of the following methods to register devices as component types:</p>
<ul><li>
<a id="pgfId-1124088"></a>Use the <a href="../constraintsSKILL/constskillFunctions.html#ciRegisterDevice">ciRegisterDevice</a> function.</li><li>
<a id="pgfId-1124040"></a>Use the cph.lam file to assign the devices to component types NMOS, PMOS, NFIN, or PFIN. For more information, see <a actuate="user" class="URL" href="../vxlhelp/appE.html#firstpage" show="replace" xml:link="simple">Library and Attributes Mapping File Syntax</a>.</li><li>
<a id="pgfId-1124302"></a>Use the <em>Component Type</em> mode of the Configure Physical Hierarchy window to assign the devices to component types NMOS, PMOS, NFIN, or PFIN.</li></ul>


<p>
<a id="pgfId-1103379"></a>To set up the component types in the Configure Physical Hierarchy form:</p>
<ol><li>
<a id="pgfId-1103380"></a>Select <em>Edit</em> <em>&#8211;</em> <em>Component Type. </em>The <em>Configure Physical Hierarchy</em> window appears.<br />
<a id="pgfId-1103384"></a><div class="webflare-div-image">
<img src="images/comptype.gif" /></div></li><li>
<a id="pgfId-1103385"></a>Right-click the <em>No component type</em> directory and select the <em>Add component type </em>option from the shortcut menu. The <em>Create Component Type</em> dialog box is displayed.<br />
<a id="pgfId-1103389"></a>
<div class="webflare-div-image">
<img src="images/comptype1.gif" /></div></li><li>
<a id="pgfId-1103390"></a>Type the name of the component type and click <em>OK</em>.</li><li>
<a id="pgfId-1103391"></a>Select the newly added component type and specify its attributes in the <em>Attributes</em> section.<br />
<a id="pgfId-1104480"></a><div class="webflare-div-image">
<img src="images/comptype2.gif" /></div></li><li>
<a id="pgfId-1104481"></a>Click the <code>+</code> symbol next to <em>No component type</em> to expand it.</li><li>
<a id="pgfId-1103397"></a>Right-click the master cell you want to move and select the <em>Move cells</em> option from the shortcut menu. The Move Cells dialog box is displayed.<br />
<a id="pgfId-1103401"></a>
<div class="webflare-div-image">
<img src="images/comptype3.gif" /></div></li><li>
<a id="pgfId-1103402"></a>From the <em>Select new component type</em> drop-down menu, select the component category you want to move the cell to and click the <em>OK</em> button.</li><li>
<a id="pgfId-1103406"></a>Click the <em>Save</em> <img src="images/comptype4.gif" />
 icon.</li></ol>

























<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1103407"></a>All the above mentioned steps need to be performed only once on a design before invoking the Modgen Editor.</div>
<p>
<a id="pgfId-1103408"></a>Now, to abut devices, you need to perform the following steps:</p>
<ol><li>
<a id="pgfId-1103409"></a>Select two or more devices that you want to abut.</li></ol>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1103410"></a>Abutment in Modgen is a row-based operation. When you select multiple instances for abutment, the instances in each row are abutted separately.</div>
<ol><li>
<a id="pgfId-1103411"></a>Do one of the following:<ul><li>
<a id="pgfId-1103415"></a>In the Modgen toolbar, click the <em>Abut </em><img src="images/abut_icon.gif" />
 icon.</li><li>
<a id="pgfId-1103416"></a>Right-click the array and choose <em>Abut</em>.</li><li>
<a id="pgfId-1103417"></a>Select <em>Place</em>&#8212;<em>Modgen</em>&#8212;<em>Abut Modgen Instances</em>. <br /><div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1103418"></a>
By default, during abutment, the selected instances are mirrored, if needed. However, you can control whether to use mirroring instances or permutation of pins during the abutment process. To switch off mirroring and turn on pin permutation, set the <a href="ModgenEnvars.html#84981">chainPermutePins<code></code></a> cdsenv variable to t.</div></li></ul></li></ol>








<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1103422"></a>For a set of selected instances, abutment is performed only between the instances that can be abutted. For example, if there are body contacts between two neighboring instances that are selected, then those instances cannot abut.</div>

<h4>
<a id="pgfId-1103423"></a>Synchronized Abutment of Instances</h4>

<p>
<a id="pgfId-1103424"></a>To run the same abutment for all rows in the Modgen, before running the abutment command, turn on synchronized abutment by clicking the Synch Abut button <img src="images/SyncAbut.gif" /><span> on the Modgen toolbar. </span></p>

<p>
<a id="pgfId-1103428"></a>Instances in all rows of the Modgen are abutted in a synchronized operation along the column.</p>
<p>
<a id="pgfId-1103429"></a>Turn off the Synch Abut button (default) to abut each row individually, without considering the other rows.</p>

<h3>
<a id="pgfId-1103430"></a>Removing Abutment from Devices</h3>

<p>
<a id="pgfId-1103431"></a>If you do not want devices in a module generator array abutted:</p>
<ol><li>
<a id="pgfId-1103432"></a>Select the devices you do not want abutted.</li><li>
<a id="pgfId-1103433"></a>Do one of the following:<ul><li>
<a id="pgfId-1103437"></a>In the Modgen toolbar, click the <em>Unabut </em><img src="images/unabut_icon.gif" />
 icon.</li><li>
<a id="pgfId-1103438"></a>Right-click the array and choose <em>Unabut</em>.</li><li>
<a id="pgfId-1103439"></a>Select <em>Place</em>&#8212;<em>Modgen</em>&#8212;<em>UnAbut Modgen Instances</em>. </li></ul></li></ol>







<h3>
<a id="pgfId-1103440"></a>Abutting All Devices</h3>

<p>
<a id="pgfId-1103441"></a>You can also choose to abut all devices.</p>
<ol><li>
<a id="pgfId-1103442"></a>To abut all devices, do one of the following:<ul><li>
<a id="pgfId-1103446"></a>In the Modgen toolbar, click the <em>Abut All </em><img src="images/abutall.GIF" />
 icon.</li><li>
<a id="pgfId-1103447"></a>Right-click the array and choose <em>Abut All</em>.</li></ul></li></ol>




<p>
<a id="pgfId-1103451"></a>The <a href="ModgenEnvars.html#68553"><h-hot>modgenPatternFormAbutAll</h-hot><code></code></a> cdsenv variable enables you to abut all devices.</p>
<p>
<a id="pgfId-1103455"></a>The <a href="ModgenEnvars.html#26315"><h-hot>modgenMergeWells</h-hot><code></code></a> cdsenv variable allows dummies to have different connectivity on source and drain.</p>

<h3>
<a id="pgfId-1103456"></a>Creating Multiple Abutment Scenarios </h3>

<p>
<a id="pgfId-1103457"></a>Each Modgen constraint can be associated with multiple abutment scenarios. The Abutment parameter can take multiple values (0, 1, 2, 3, and so on), where each value is assigned to a different abutment scenario. The default value 0 means no abutment.</p>
<p>
<a id="pgfId-1103458"></a>Use the following SKILL functions to register, retrieve, and unregister abutment scenarios:</p>
<ul><li>
<a id="pgfId-1103459"></a><code>mgRegUserProc</code>: Registers abutment scenarios in the Modgen code to enable callbacks</li><li>
<a id="pgfId-1103460"></a><code>mgGetRegUserProc</code>: Displays information about registered abutment scenarios </li><li>
<a id="pgfId-1103461"></a><code>mgUnRegUserProc</code>: Unregisters the specified abutment scenarios</li></ul>



<h3>
<a id="pgfId-1103462"></a>Removing All Abutment</h3>

<p>
<a id="pgfId-1103463"></a>You can also choose to remove abutment from all devices.</p>
<ul><li>
<a id="pgfId-1103464"></a>Right-click the array and choose <em>Unabut All</em>.</li></ul>

<h3>
<a id="pgfId-1103466"></a>Abutm<a id="modgenDummyShapeAbutment"></a>ent of Dummy Shapes in Pcells (ICADVM20.1 Only) </h3>

<p>
<a id="pgfId-1103467"></a>The Modgen editor now supports the new Pcell abutment capability supported by Virtuoso Layout Suite XL. At advanced nodes, the Modgen editor supports the abutment of shapes in Pcell submasters that are not attached to pins. In addition to the usual abutment properties, these shapes also require an abutment name to be set in the Pcell SKILL code.</p>
<p>
<a id="pgfId-1103469"></a>For more information about abutment at 20nm, see <h-hot><a actuate="user" class="URL" href="../vxlhelp/chap5.html#dummyShapeAbutment" show="replace" xml:link="simple">Advanced Node Abutment of Dummy Shapes in Pcells (ICADVM20.1 Only)</a></h-hot>.</p>

<h2>
<a id="pgfId-1103472"></a><a id="30619"></a>Specifying Device<a id="DeviceAlignmentSpacing"></a> Alignment and Spacing<a id="marker-1104068"></a><a id="modgenAS"></a></h2>

<p>
<a id="pgfId-1103473"></a>Since one Modgen module can contain instances with different Pcell masters, the instances can have different dimensions. To arrange instances with different heights within a module, you can specify the vertical bounding box alignment (top, center, or bottom).</p>
<p>
<a id="pgfId-1103474"></a>When devices are aligned at the top, the top edges of the instances are aligned at the same Y-coordinate, while bottom edges are aligned at the same Y-coordinate for bottom alignment. For center alignment, the center of shorter instances are aligned with the center of the largest instance.</p>
<p>
<a id="pgfId-1103475"></a>The default vertical alignment is bottom. If you want to modify this alignment:</p>
<ol><li>
<a id="pgfId-1103476"></a>Select the devices you want aligned.</li><li>
<a id="pgfId-1103477"></a>Do one of the following:<ul><li>
<a id="pgfId-1103478"></a>Right-click and choose one of the following options:<ul><li>
<a id="pgfId-1103479"></a><em>Align &#8211; Top</em></li><li>
<a id="pgfId-1103480"></a><em>Align &#8211; Bottom</em></li><li>
<a id="pgfId-1103481"></a><em>Align &#8211; Center (V)</em></li><li>
<a id="pgfId-1103482"></a><em>Align &#8211; Center (H)</em></li><li>
<a id="pgfId-1103483"></a><em>Align &#8211; Left</em></li><li>
<a id="pgfId-1103484"></a><em>Align &#8211; Right</em></li></ul></li><li>
<a id="pgfId-1103488"></a>In the toolbar, click the arrow next to the <em>Alignment </em><img src="images/align_icon.gif" />
 icon and choose one of the following options:<ul><li>
<a id="pgfId-1103489"></a><em>Align Left</em></li><li>
<a id="pgfId-1103490"></a><em>Align Center (H)</em></li><li>
<a id="pgfId-1103491"></a><em>Align Right</em></li><li>
<a id="pgfId-1103492"></a><em>Align Top</em></li><li>
<a id="pgfId-1103493"></a><em>Align Center (V)</em></li><li>
<a id="pgfId-1103494"></a><em>Align Bottom</em></li></ul></li></ul></li></ol>

















<p>
<a id="pgfId-1103498"></a>You can also align using the <a href="ModgenForms.html#77457">Set Member Alignment and Spacing</a> form.</p>
<ol><li>
<a id="pgfId-1103499"></a>(Optional) Select the devices you want aligned.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1103500"></a>If you do not select any device, then the settings are applied to all devices in the current Modgen module.</div></li><li>
<a id="pgfId-1103502"></a>Do one of the foll<a id="spacing"></a>owing:<ul><li>
<a id="pgfId-1103503"></a>Right-click and choose <em>Set Member Alignment/Spacing</em>.</li><li>
<a id="pgfId-1105019"></a>Click the Member Spacing/Alignment icon <img src="images/SetMemberAlignmentIcon.gif" /><span>on the Modgen toolbar. </span></li></ul><br />
<a id="pgfId-1103511"></a>The <a href="ModgenForms.html#77457">Set Member Alignment and Spacing</a> form appears.<br />
<a id="pgfId-1104578"></a><div class="webflare-div-image">
<img src="images/MemberAlignmentAndSpacing.gif" /></div><div class="webflare-information-macro webflare-macro-tip">
<a id="pgfId-1104579"></a>
You can specify Modgen alignment and spacing parameters directly in the layout canvas. Select the required devices and choose <em>Place</em>&#8212;<em>Modgen</em>&#8212;<em>Set Member Alignment and Spacing</em> to display the Set Member Alignment and Spacing form.</div></li><li>
<a id="pgfId-1105092"></a>Specify the horizontal and vertical spacing and alignment settings. Horizontal alignment refers to the alignment of instances along the horizontal axis, which is the x-axis. Vertical alignment refers to the alignment of instances along the vertical axis, which is the y-axis.<br />
<a id="pgfId-1105142"></a>The <em>Alignment</em> fields display the default <em>Horizontal</em> and <em>Vertical</em> alignments of the selected instances. In the above example, all selected instances have the same vertical and horizontal alignments, &#8220;left&#8221; and &#8220;top&#8221; respectively. In the example below, the selected instances have the same vertical alignments, but their horizontal alignments are different. So, the horizontal <em>Alignment</em> is set to <em>(various)</em>.<br />
<a id="pgfId-1105147"></a><div class="webflare-div-image">
<img width="668" height="187" src="images/EditModgens-93.gif" /></div><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1105175"></a>When you change the <em>Alignment</em> from <em>various</em> to any other value, the <em>various</em> option disappears from the <em>Alignment</em> drop-down list.</div>
<a id="pgfId-1105163"></a>To specify different horizontal alignment values, in the <em>Horizontal</em> group box:<ol><li>
<a id="pgfId-1103519"></a>From the <em>Alignment</em> cyclic field, select one of the following options:<br />
<a id="pgfId-1103520"></a>left: The left edge of the selected instance is aligned with the left edge of the instance below it.<br /><ffi2-fig-frame-in-2 id="#id1103524">
<a id="pgfId-1103524"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img src="images/HoriAlignLeft.gif" /></div>
<a id="pgfId-1103525"></a>right: The right edge of the selected instance is aligned with the right edge of the instance below it.<br /><ffi2-fig-frame-in-2 id="#id1103529">
<a id="pgfId-1103529"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img src="images/HoriAlignRight.gif" /></div>
<a id="pgfId-1103530"></a>center: The center of the selected instance is aligned with the center of the instance below it.<br /><ffi2-fig-frame-in-2 id="#id1103534">
<a id="pgfId-1103534"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img src="images/HoriAlignCenter.gif" /></div>
<a id="pgfId-1103535"></a>custom: The left edge of the selected instance is separated by the specified horizontal distance from the right edge of the neighboring instance.<br /><ffi2-fig-frame-in-2 id="#id1103539">
<a id="pgfId-1103539"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img src="images/HoriAlignCustom.gif" /></div></li></ol>
<a id="pgfId-1103540"></a>To specify a different vertical alignment, in the <em>Vertical</em> group box: <ol><li>
<a id="pgfId-1105084"></a>From the <em>Alignment</em> cyclic field, select one of the following options:<br />
<a id="pgfId-1103543"></a>top: The top edge of the selected instance is aligned with the top edge of the instance to the left.<br /><ffi2-fig-frame-in-2 id="#id1103547">
<a id="pgfId-1103547"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img src="images/VertAlignTop.gif" /></div>
<a id="pgfId-1103548"></a>bottom: The bottom edge of the selected instance is aligned with the bottom edge of the instance to the left.<br /><ffi2-fig-frame-in-2 id="#id1103552">
<a id="pgfId-1103552"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img src="images/VertAlignBottom.gif" /></div>
<a id="pgfId-1103553"></a>center: The center of the selected instance is aligned with the center of the instance to the left.<br /><ffi2-fig-frame-in-2 id="#id1103557">
<a id="pgfId-1103557"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img src="images/VertAlignCenter.gif" /></div>
<a id="pgfId-1103558"></a>custom: The bottom edge of the selected instance is separated by the specified vertical distance from the top edge of the instance below it.<br /><ffi2-fig-frame-in-2 id="#id1103562">
<a id="pgfId-1103562"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img src="images/VertAlignCustom.gif" /></div><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1103563"></a>Multiple instances can be selected and their horizontal and vertical alignments can be set. For example, if multiple instances in a row are selected and their vertical alignment is set to top, then all instances are top aligned.</div></li></ol></li><li>
<a id="pgfId-1105196"></a>To specify a custom spacing, choose one of the following from the <em>Alignment</em> drop-down list:<ul><li>
<a id="pgfId-1105197"></a><em>custom </em>(refers to <code>customLeft</code> in horizontal alignment and <code>customBottom</code> in vertical alignment)</li><li>
<a id="pgfId-1105198"></a><em>customRight</em> (for horizontal spacing)</li><li>
<a id="pgfId-1105199"></a><em>customTop</em> (for vertical spacing) </li></ul><br />
<a id="pgfId-1105200"></a>With these selections, the spacing and reference options are made available. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1105201"></a>The spacing field is available when the <em>Alignment</em> is set to <em>custom</em> or <em>customRight</em>/<em>customTop</em> in either one or both of the <em>Horizontal</em> and <em>Vertical</em> sections.</div>
<a id="pgfId-1105202"></a>The spacing fields display the default <em>Spacing to Left</em> and <em>Spacing to Bottom</em> values of the selected instances. If the spacing values are different for the selected instances, then (<em>various)</em> is displayed. <br />
<a id="pgfId-1105207"></a><div class="webflare-div-image">
<img width="668" height="162" src="images/EditModgens-102.gif" /></div>
<a id="pgfId-1105208"></a>You can reset the spacing value by specifying a new value in the <em>Spacing to Left</em> and <em>Spacing to Bottom </em>fields and clicking <em>OK</em> or <em>Apply</em>.</li><li>
<a id="pgfId-1105225"></a>In the <em>Reference</em> section, select a reference <em>Layer</em> and <em>Purpose</em> based on which:<ul><li>
<a id="pgfId-1105572"></a>The horizontal or vertical spacing of devices must be calculated.</li><li>
<a id="pgfId-1105607"></a>Instances must be aligned horizontally or vertically.</li></ul><br />
<a id="pgfId-1105232"></a>Similar to <em>Alignment</em> and <em>Spacing</em> fields, if the layers and purposes are different for the selected instances, then (<em>various)</em> is displayed. You can reset these values and click <em>Apply</em> or <em>OK</em>.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1105233"></a>Notice that the <em>Layer</em> cyclic field is blank by default. If no value is chosen in this field, then the default behavior is that the devices will be spaced using their instance bounding boxes.</div></li><li>
<a id="pgfId-1105234"></a>Click <em>Save Values </em>to overwrite environment variables with the values specified in the Set Member Alignment and Spacing form.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1105235"></a>At any point, you can use <em>Load Values to </em>reset all values in the form with values from corresponding environment variables (stored in the .cdsenv file). These values were saved earlier by using the <em>Save Values</em> button.</div></li><li>
<a id="pgfId-1105236"></a>Select <em>Apply to All Modgen Members</em> to apply the custom spacing to all the devices in the module.<br />
<a id="pgfId-1105237"></a>If you do not select this option, the custom spacing is applied only to the selected devices.</li><li>
<a id="pgfId-1105238"></a>Click <em>OK</em> or <em>Apply</em>. Clicking <em>Revert</em> resets the values in the fields with corresponding values from the database.<br />
<a id="pgfId-1103568"></a>Clicking <em>Apply </em>commits the changes, but keeps the form open for further modifications to the Modgen members. You can perform tasks such as:<ul><li>
<a id="pgfId-1103569"></a>Changing the selection objects and reapplying the current settings</li><li>
<a id="pgfId-1103570"></a>Modifying the settings and applying to the current selection</li></ul></li></ol>













































































<h3>
<a id="pgfId-1103655"></a>Removing a Custom Spacing Distance</h3>

<p>
<a id="pgfId-1103656"></a>Because custom spacing is interpreted internally as a custom alignment, in order to truly remove a custom spacing distance, you must choose an alignment for the devices. For more information, see <a href="EditModgens.html#30619">Specifying Device Alignment and Spacing</a>.</p>

<h2>
<a id="pgfId-1103662"></a><a id="67558"></a>Merg<a id="MergeLayers"></a>ing Layers</h2>

<p>
<a id="pgfId-1103663"></a>Use the Select merge layers... form to specify the layers that need to be merged. </p>
<ol><li>
<a id="pgfId-1103667"></a>To invoke the Select merge layers... form, click the Merge Layers icon <img src="images/MergeLayerIcon.gif" /><span>on the Modgen toolbar. Alternatively, you can right-click anywhere in the Modgen Editor window and select </span><em>Merge Layers</em><span>. The Select merge layers... form is displayed.</span><br />
<a id="pgfId-1103671"></a><div class="webflare-div-image">
<img src="images/SelectMergeLayers.gif" /></div><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1103672"></a>The Select merge layers... form can also be invoked from Constraint Manager with the <code>mergeLayer</code> parameter in the Modgen <code>ci</code> constraint.</div></li><li>
<a id="pgfId-1103673"></a>Select the check boxes adjacent to the layers that you want to merge. Alternatively, select one of the Layers Preset: <em>default</em>, <em>well</em>, or <em>none</em> to select all layers of the selected type.</li><li>
<a id="pgfId-1103674"></a>Click <em>OK</em>.</li></ol>






<p>
<a id="pgfId-1103675"></a>By default, all the used layers in the layout are listed in the merge layers list box. However, selecting the <em>Use Layer Palette LPPs Only </em>check box in the Layout Editor Options form enables the synchronization between the layers displayed in the list and the layers listed in the Palette assistant of Layout XL.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1103676"></a>To access the Layout Editor Options form, choose <em>Options</em> - <em>Editor...</em> from the Layout XL window. For more information, see <a actuate="user" class="URL" href="../vlehelp/appA.html#layoutEditorOptionsForm" show="replace" xml:link="simple">Layout Editor Options form</a>.</div>
<p>
<a id="pgfId-1103678"></a>When you enable layer synchronization and change the filters in the Palette assistant by using the available check boxes (that is, <em>Used</em>, <em>Valid</em>, and <em>Routing</em>), you can ensure that layers of only a specific category are displayed in the merge layers list box. This change is visible when you update the filters in the Palette assistant and then launch the Select merge layers form, as illustrated in the figure below.</p>

<p>
<a id="pgfId-1103691"></a></p>
<div class="webflare-div-image">
<img width="668" height="540" src="images/EditModgens-105.gif" /></div>

<p>
<a id="pgfId-1103698"></a>Environment Variables: <a href="ModgenEnvars.html#26315"><h-hot>modgenMergeWells</h-hot><code></code></a>, <a href="ModgenEnvars.html#93276"><h-hot>modgenMergeLayers</h-hot><code></code></a></p>
<p>
<a id="pgfId-1103699"></a>Merging of wells is controlled by the <code>mergeLayer</code> parameter in the Modgen <code>ci</code> constraint. The default value for the <code>mergeLayer</code> parameter in Modgen is <code>default</code>. For backward compatibility with the 614 Modgen constraints, the <code>modgenMergeWells</code> environment variable can be set in the <code>.cdsenv</code> file. </p>
<p>
<a id="pgfId-1103700"></a>If this environment variable is set to <code>t</code> and the <code>mergeLayer</code> parameter is set to <code>default</code>, then the wells of the Modgen instances will be merged. However, if the environment variable is not set, and the <code>mergeLayer</code> parameter is set to <code>default</code>, the wells in the Modgen layout are not merged.</p>
<p>
<a id="pgfId-1103701"></a>Other possible values of the <code>mergeLayer</code> parameter are: <code>none</code>, <code>well</code>, and any other custom layer, which can be selected from the Constraint Manager GUI. If <code>mergeLayer</code> is set to <code>none</code>, then there will not be any well merging in the Modgen. If <code>mergeLayer</code> is set to <code>well</code>, then the wells of the Modgen devices will be merged and any DRCs between well layers and other layers of the devices will be ignored. If <code>mergeLayer</code> is set to a custom layer, such as <code>Oxide_thickness</code>, then the shapes on that layer will be merged and DRCs between that specified layer and other layers of the devices will be ignored. </p>
<p>
<a id="pgfId-1103702"></a>In addition, you can merge multiple layers, such as <code>Nwell</code> and <code>Oxide_thk</code>. Before merging layers, only the top-level net connectivity between the layers is checked. So, layers across devices that have different master Pcells can also be merged. An example for well merging is shown below:</p>

<p>
<a id="pgfId-1103706"></a></p>
<div class="webflare-div-image">
<img src="images/wellmerge.gif" /></div>

<p>
<a id="pgfId-1104712"></a>To specify whether the analog placer should have control over the well and body contact geometry, set the <code>aapDefaultWellsUnderPlacerControl</code> environment variable to <code>t</code>.</p>
<p>
<a id="pgfId-1104716"></a>The merge layer functionality differs when there is a pane guard ring inside the Modgen structure. A layer across a pane guard ring is merged only if one of the following situations is applicable.</p>
<ul><li>
<a id="pgfId-1103712"></a>The layer is defined as a recognition layer in the technology file.</li><li>
<a id="pgfId-1103713"></a>The layer is a well layer with the same net connectivity across all devices and the pane guard ring.</li></ul>

<p>
<a id="pgfId-1103717"></a>For more information about guard rings, see <a href="EditModgens.html#10032">Specifying Guard Rings</a>.</p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="ModgenPatterns.html" id="prev" title="Working with Patterns">Working with Patterns</a></em></b><b><em><a href="modgenTopology.html" id="nex" title="Creating Topology Patterns and pin-to-trunk Routing">Creating Topology Patterns and ...</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2020, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>