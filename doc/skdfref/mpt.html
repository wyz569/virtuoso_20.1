
<html><head><title>Multi-Patterning Technology Database Access Functions (ICADVM20.1 Only) </title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="TopicTags" content="TRUE" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="sumehta" />
<meta name="CreateDate" content="2020-09-19" />
<meta name="CreateTime" content="1600501618" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes SKILL functions that interface with Virtuoso design environment applications. These applications include the graphics editor, database access, design management, and design flow." />
<meta name="DocTitle" content="Virtuoso Design Environment SKILL Reference" />
<meta name="DocType" content="SKILL Reference" />
<meta name="FileTitle" content="Multi-Patterning Technology Database Access Functions (ICADVM20.1 Only)" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.2.1" />
<meta name="Keyword" content="skdfref" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2020-09-19" />
<meta name="ModifiedTime" content="1600501618" />
<meta name="NextFile" content="wsp.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Cadence Shared Tools" />
<meta name="PrevFile" content="figset.html" />
<meta name="c_product" content="Virtuoso Layout Suite,Virtuoso Schematic Editor,Virtuoso Analog Design Environment" />
<meta name="Product" content="Virtuoso Shared Tools" />
<meta name="ProductFamily" content="Virtuoso Shared Tools" />
<meta name="ProductVersion" content="ICADVM20.1" />
<meta name="RightsManagement" content="Copyright 2012-2020 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Design Environment SKILL Reference -- Multi-Patterning Technology Database Access Functions (ICADVM20.1 Only)" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="ICADVM20.1" />
<meta name="SpaceKey" content="skdfrefICADVM201" />
<meta name="webflare-version" content="2.0" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="skdfrefTOC.html">Contents</a></li><li><a class="prev" href="figset.html" title="Figure Set Database Access Functions">Figure Set Database Access Fun ...</a></li><li style="float: right;"><a class="viewPrint" href="skdfref.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="wsp.html" title="Width Spacing Pattern Database Access Functions (ICADVM20.1 Only)">Width Spacing Pattern Database ...</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Design Environment SKILL Reference<br />Product Version ICADVM20.1, October 2020</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>


<h1>13
<a name="pgfId-1749174"></a></h1>

<h1>
<a name="pgfId-1749176"></a><hr />
Multi-Patterning Technology Database Access Functions (ICADVM20.1 Only) <hr />
</h1>

<p>
<a name="pgfId-1782992"></a><a name="mptfunc"></a>Multi-patterning technology uses two or more mask processes to manufacture a design layer. Colors are used to represent the individual masks. The following section describes the SKILL functions that support photo mask coloring of objects and coloring methods for MPT. </p>
<p>
<a name="pgfId-1782993"></a>For more information about multi-patterning lithography and how to use Virtuoso&#174; Multi-Patterning Technology (MPT) for designs that require two or more masks for a drawn layer, see <em>Virtuoso&#174; Multi-Patterning Technology User Guide</em> in the ICADVM20.1 release.</p>
<p>
<a name="pgfId-1741718"></a>Supported functions include:</p>
<ul><li>
<a name="pgfId-1741722"></a><a href="mpt.html#36805">dbCellViewAreLayerShiftsValid</a> </li><li>
<a name="pgfId-1741726"></a><a href="mpt.html#16294">dbCellViewClearLayerShifts</a> </li><li>
<a name="pgfId-1741730"></a><a href="mpt.html#93784">dbCellViewHasLayerShifts</a> </li><li>
<a name="pgfId-1760549"></a><a href="mpt.html#27379">dbCellViewUpdateLayerShifts</a> </li><li>
<a name="pgfId-1760553"></a><a href="mpt.html#96928">dbCellViewInitForLayerShifting</a> </li><li>
<a name="pgfId-1760562"></a><a href="mpt.html#49353">dbClearUnusedOccShapeColorData</a></li><li>
<a name="pgfId-1760557"></a><a href="mpt.html#43317">dbInstGetLayerShifts</a> </li><li>
<a name="pgfId-1784751"></a><a href="mpt.html#57667">dbInstGetLayerShifts2</a></li><li>
<a name="pgfId-1741746"></a><a href="mpt.html#92047">dbInstHasLayerShifts</a> </li><li>
<a name="pgfId-1741750"></a><a href="mpt.html#52812">dbInstSetLayerShifts</a> </li><li>
<a name="pgfId-1784761"></a><a href="mpt.html#33930">dbInstSetLayerShifts2</a></li><li>
<a name="pgfId-1741754"></a><a href="mpt.html#79172">dbInstClearLayerShifts</a> </li><li>
<a name="pgfId-1741758"></a><a href="mpt.html#18988">dbIsShapeColoringAllowed</a> </li><li>
<a name="pgfId-1741762"></a><a href="mpt.html#43556">dbIsShapeColored</a> </li><li>
<a name="pgfId-1741766"></a><a href="mpt.html#22780">dbGetShapeColor</a> </li><li>
<a name="pgfId-1741770"></a><a href="mpt.html#77528">dbSetShapeColor</a> </li><li>
<a name="pgfId-1741774"></a><a href="mpt.html#52157">dbIsShapeColorLocked</a> </li><li>
<a name="pgfId-1741778"></a><a href="mpt.html#93188">dbSetShapeColorLocked</a> </li><li>
<a name="pgfId-1741782"></a><a href="mpt.html#26372">dbIsBlockageColored</a> </li><li>
<a name="pgfId-1741786"></a><a href="mpt.html#53554">dbIsBlockageColoringAllowed</a> </li><li>
<a name="pgfId-1741790"></a><a href="mpt.html#48500">dbGetBlockageColor</a> </li><li>
<a name="pgfId-1741794"></a><a href="mpt.html#52937">dbSetBlockageColor</a> </li><li>
<a name="pgfId-1767459"></a><a href="mpt.html#31587">dbIsViaColorStateLocked</a> </li><li>
<a name="pgfId-1767463"></a><a href="mpt.html#41142">dbSetViaColorStateLocked</a></li><li>
<a name="pgfId-1767467"></a><a href="mpt.html#81828">dbIsViaColorStateLayerLocked</a></li><li>
<a name="pgfId-1771253"></a><a href="mpt.html#43619">dbSetViaColorStateLayerLocked</a></li><li>
<a name="pgfId-1827560"></a><a href="mpt.html#79500">dbGetViaLayerNumColorMasks</a></li><li>
<a name="pgfId-1741798"></a><a href="mpt.html#17771">dbGetViaLayer1Control</a> </li><li>
<a name="pgfId-1741802"></a><a href="mpt.html#66269">dbGetViaLayer2Control</a> </li><li>
<a name="pgfId-1741806"></a><a href="mpt.html#67063">dbGetViaCutLayerControl</a> </li><li>
<a name="pgfId-1775936"></a><a href="mpt.html#33424">dbGetViaLayerControl</a></li><li>
<a name="pgfId-1741814"></a><a href="mpt.html#56645">dbSetViaLayer1Control</a></li><li>
<a name="pgfId-1741818"></a><a href="mpt.html#71921">dbSetViaLayer2Control</a></li><li>
<a name="pgfId-1741822"></a><a href="mpt.html#66870">dbSetViaCutLayerControl</a></li><li>
<a name="pgfId-1775943"></a><a href="mpt.html#99351">dbSetViaLayerControl</a></li><li>
<a name="pgfId-1815898"></a><a href="mpt.html#79073">dbSetViaColorInfo</a></li><li>
<a name="pgfId-1741830"></a><a href="mpt.html#70398">dbIsTrackPatternColored</a></li><li>
<a name="pgfId-1741834"></a><a href="mpt.html#90544">dbIsTrackPatternColorAlternating</a></li><li>
<a name="pgfId-1741838"></a><a href="mpt.html#11578">dbIsTrackPatternColoringAllowed</a></li><li>
<a name="pgfId-1741842"></a><a href="mpt.html#84199">dbGetTrackPatternFirstTrackColor</a></li><li>
<a name="pgfId-1741846"></a><a href="mpt.html#30204">dbSetTrackPatternFirstTrackColor</a></li><li>
<a name="pgfId-1741850"></a><a href="mpt.html#99460">dbSetTrackPatternColorAlternating</a></li><li>
<a name="pgfId-1741854"></a><a href="mpt.html#60919">dbCreateSameMaskGroup</a></li><li>
<a name="pgfId-1741858"></a><a href="mpt.html#64422">dbCreateDiffMaskGroup</a></li><li>
<a name="pgfId-1741862"></a><a href="mpt.html#97650">dbGetSameMaskDiffMaskGroups</a></li><li>
<a name="pgfId-1741866"></a><a href="mpt.html#31396">dbGetShapeSameMaskGroups</a> </li><li>
<a name="pgfId-1741870"></a><a href="mpt.html#34843">dbColorShapeQuery</a> </li><li>
<a name="pgfId-1741874"></a><a href="mpt.html#52137">dbGetIntegrationColorModel</a> </li><li>
<a name="pgfId-1741878"></a><a href="mpt.html#19594">dbGetColorModel</a> </li><li>
<a name="pgfId-1741882"></a><a href="mpt.html#11294">dbSetIntegrationColorModel</a> </li><li>
<a name="pgfId-1741886"></a><a href="mpt.html#17246">dbSetColorModel</a> </li><li>
<a name="pgfId-1741890"></a><a href="mpt.html#57252">dbRemoveLayerColorData</a></li><li>
<a name="pgfId-1741894"></a><a href="mpt.html#22943">dbColorShapeQuery2</a></li><li>
<a name="pgfId-1741898"></a><a href="mpt.html#46165">dbGetColoredOccShapes</a></li><li>
<a name="pgfId-1741902"></a><a href="mpt.html#25444">dbGetShapeEffectiveColor</a></li><li>
<a name="pgfId-1741906"></a><a href="mpt.html#88004">dbSetOccShapeColor</a></li><li>
<a name="pgfId-1741910"></a><a href="mpt.html#78864">dbSetOccShapeColorLocked</a></li><li>
<a name="pgfId-1805913"></a><a href="mpt.html#42892">dbGetHierColorOverride</a></li><li>
<a name="pgfId-1839265"></a><a href="mpt.html#48728">dbGetShapeColorLockType</a></li><li>
<a name="pgfId-1839283"></a><a href="mpt.html#73991">dbSetShapeColorLockType</a></li><li>
<a name="pgfId-1839301"></a><a href="mpt.html#28759">dbGetViaLayerColorLockType</a></li><li>
<a name="pgfId-1839319"></a><a href="mpt.html#23618">dbSetViaLayerColorLockType</a></li><li>
<a name="pgfId-1842800"></a><a href="mpt.html#57049">dbCellViewHasUnknownColorLockChanges</a></li><li>
<a name="pgfId-1842830"></a><a href="mpt.html#86195">dbGetShapeEffectiveColorLockType</a></li><li>
<a name="pgfId-1842848"></a><a href="mpt.html#58973">dbCellViewResetAllColorLockTypes</a></li><li>
<a name="pgfId-1842866"></a><a href="mpt.html#18891">dbSetOccShapeColorLockType</a></li></ul>


































































  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbCellViewAreLayerShiftsValid

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->





<h3>
<a name="pgfId-1741917"></a><a name="36805"></a>dbCellViewA<a name="dbCellViewAreLayerShiftsValid"></a>reLayerShiftsValid</h3>
<a name="pgfId-1741918"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbCellViewAreLayerShiftsValid(
<code><em>d_cellviewId
</em></code>)
=&gt; t / nil</pre>

<h4>
<a name="pgfId-1741920"></a>Description</h4>

<p>
<a name="pgfId-1741921"></a>(ICADVM20.1 Only) Returns a Boolean depending on whether the layer shift information on the instances in the specified cellview is synchronized with the layers and color information in the bound tech. This function is currently intended only for the advanced nodes release.</p>
<p>
<a name="pgfId-1741923"></a>Layer shift information can become invalid if the cellview is not bound to a tech, or if the bound tech is modified after the layer shifts were specified on the instances. If the layer shift information is not valid, use the <a href="mpt.html#27379">dbCellViewUpdateLayerShifts</a> function to reset the layer shift information on the instances in the cellview.</p>



<h4>
<a name="pgfId-1741929"></a>Arguments</h4>
<table class="webflareTable" id="#id1741924">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1741926"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_cellviewId</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1741928"></a>Specifies the cellview ID</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1741939"></a>Value Returned</h4>
<table class="webflareTable" id="#id1741930">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1741932"></a><code>t</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1741934"></a>Returns <code>t </code>if there is a valid per-layer shift on the instances in the cellview</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1741936"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1741938"></a>Returns <code>nil </code>if there is no valid per-layer shift on the instances in the cellview</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1741940"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1741941"></a>if( !dbCellViewAreLayerShiftsValid(cvId)</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a name="pgfId-1741942"></a>dbCellViewUpdateLayerShifts(cvId)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1741943"></a>)</pre>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbCellViewClearLayerShifts

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1741951"></a><a name="16294"></a>dbCellViewClearL<a name="dbCellViewClearLayerShifts"></a>ayerShifts</h3>
<a name="pgfId-1741952"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbCellViewClearLayerShifts(
<code><em>d_cellviewID
</em></code>)
=&gt; t / nil</pre>

<h4>
<a name="pgfId-1741954"></a>Description</h4>

<p>
<a name="pgfId-1741955"></a>(ICADVM20.1 Only) Clears the layer shift information from all instances in the specified cellview. Any cached layer shift specification for the tech bound to the cellview is left intact.</p>



<h4>
<a name="pgfId-1741962"></a>Arguments</h4>
<table class="webflareTable" id="#id1741957">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1741959"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_cellviewID</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1741961"></a>Specifies the cellview ID</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1741972"></a>Value Returned</h4>
<table class="webflareTable" id="#id1741963">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1741965"></a><code>t</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1741967"></a>Returns <code>t</code> if the per-layer color shifting information is successfully removed</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1741969"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1741971"></a>Returns <code>nil</code> if the per-layer color shifting information is not removed from the specified cellview</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1741973"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1741974"></a>dbCellViewClearLayerShifts(dbId)</pre>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbCellViewHasLayerShifts

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1741982"></a><a name="93784"></a>dbCellView<a name="dbCellViewHasLayerShifts"></a>HasLayerShifts</h3>
<a name="pgfId-1741983"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbCellViewHasLayerShifts(
<code><em>d_cellviewID
</em></code>)
=&gt; t / nil</pre>

<h4>
<a name="pgfId-1741985"></a>Description</h4>

<p>
<a name="pgfId-1741986"></a>(ICADVM20.1 Only) Returns a Boolean indicating whether there is layer shift information on any instance in the specified cellview.</p>



<h4>
<a name="pgfId-1741993"></a>Arguments</h4>
<table class="webflareTable" id="#id1741988">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1741990"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_cellviewID</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1741992"></a>Specifies the cellview ID</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1742003"></a>Value Returned</h4>
<table class="webflareTable" id="#id1741994">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1741996"></a><code>t</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1741998"></a>Returns <code>t</code> if there is layer shift information on any instance in the specified cellview</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742000"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742002"></a>Returns <code>nil</code> if there is no layer shift information on any instance in the specified cellview</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1742004"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1745218"></a>hasShifts = dbCellViewHasLayerShifts(cvId)</pre>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbCellViewUpdateLayerShifts

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1745221"></a><a name="27379"></a>dbCellViewUpdate<a name="dbCellViewUpdateLayerShifts"></a>LayerShifts</h3>
<a name="pgfId-1745222"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbCellViewUpdateLayerShifts(
<code><em>d_cellviewID
</em></code>)
=&gt; t / nil</pre>

<h4>
<a name="pgfId-1742016"></a>Description</h4>

<p>
<a name="pgfId-1742017"></a>(ICADVM20.1 Only) Creates or rebuilds the layer shift specification cache with the layers that are in the tech bound to the specified cellview. As a result, the per-layer shift information on the instances in the cellview is removed.</p>


<div class="webflare-information-macro webflare-macro-note">
<a name="pgfId-1742019"></a>If there exists a cellview with ID <code>cv</code> and instance with ID <code>inst</code> in the same cellview, you must call <code><a href="mpt.html#27379">dbCellViewUpdateLayerShifts</a><code></code>(cv)</code> before calling <code><a href="mpt.html#33930">dbInstSetLayerShifts2</a><code></code>(inst...)</code>. Otherwise, <code>nil</code> is returned and layer shifts are not set.</div>



<h4>
<a name="pgfId-1742025"></a>Arguments</h4>
<table class="webflareTable" id="#id1742020">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742022"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_cellviewID</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742024"></a>Specifies the cellview ID</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1742035"></a>Value Returned</h4>
<table class="webflareTable" id="#id1742026">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742028"></a><code>t</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742030"></a>Returns <code>t</code> if per-layer color specifications are successfully updated</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742032"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742034"></a>Returns <code>nil</code> if per-layer color specifications are not updated</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1742036"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742037"></a>if( !dbCellViewAreLayerShiftsValid(cvId)</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a name="pgfId-1742038"></a>dbCellViewUpdateLayerShifts(cvId)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1745209"></a>)</pre>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbCellViewInitForLayerShifting

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1745213"></a><a name="96928"></a>dbCellViewInitForLayerShifting<a name="dbCellViewInitForLayerShifting"></a></h3>
<a name="pgfId-1745214"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbCellViewInitForLayerShifting(
<code><em>d_cellviewID
</em></code>)
=&gt; t / nil</pre>

<h4>
<a name="pgfId-1742051"></a>Description</h4>

<p>
<a name="pgfId-1742053"></a>(ICADVM20.1 Only) Initializes the layer shift data for the given cell. </p>
<p>
<a name="pgfId-1742054"></a>It is an error if the technology is not bound to the design and there are colorShifts specified on any instances in the block.</p>



<h4>
<a name="pgfId-1742060"></a>Arguments</h4>
<table class="webflareTable" id="#id1742055">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742057"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_cellviewID</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742059"></a>Specifies the cellview ID</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1742070"></a>Value Returned</h4>
<table class="webflareTable" id="#id1742061">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742063"></a><code>t</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742065"></a>Returns <code>t</code> if initialization is successful.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742067"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742069"></a>Returns <code>nil</code> if initialization failed.</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1742071"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1760626"></a>dbCellViewInitForLayerShifting(dbObject) </pre>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbClearUnusedOccShapeColorData

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1760640"></a><a name="49353"></a>dbClearUnu<a name="dbClearUnusedOccShapeColorData"></a>sedOccShapeColorData</h3>
<a name="pgfId-1760641"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbClearUnusedOccShapeColorData(
<code><em>d_cellView
</em></code>[ ?dryRun { t | nil } ]
[ ?ignoreUnboundRefs { t | nil } ]
)
=&gt; <code><em>x_numClearedObjects</em></code> / nil</pre>

<h4>
<a name="pgfId-1760647"></a>Description</h4>

<p>
<a name="pgfId-1760648"></a>(ICADVM20.1 Only) Opens hierarchy below the given cellview and removes all occShape coloring data that does not have any effect on the display of coloring data in the opened hierarchy. By default, if some instances or vias in the hierarchy cannot be bound, the function prints a warning message and returns <code>nil</code>, but cleanup can be forced with the <code>ignoreUnboundRefs</code> argument. </p>
<p>
<a name="pgfId-1832120"></a>Suppose you do out-of-context edits, such as destroy, stretch, or move the master shape to a design that contains master shape of the hierarchical color lock (HCL). Now if this is the shape on which HCL is set, then HCL might not be visible when you open this top design. In this case, HCL data in the top design is retained but becomes unused. This function helps cleanup this data. </p>


<div class="webflare-information-macro webflare-macro-note">
<a name="pgfId-1832124"></a>Until hierarchy is fully open it is not possible to distinguish between used or unused HCL data. The dbClearUnusedOccShapeColorData helps you view the unused data and clear it. This function does not cleanup HCL violations. </div>



<h4>
<a name="pgfId-1760876"></a>Arguments</h4>
<table class="webflareTable" id="#id1832676">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1760928"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_cellView</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1760930"></a>Database ID of the cellview from which the unused occShape coloring data will be cleared.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1760932"></a><span class="webflare-courier-new" style="white-space:pre"><em>?dryRun</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1760934"></a>When set to <code>t</code>, opens hierarchy below the specified cellview, and calculates the number of objects containing unused occShape coloring data, but does not remove this data.</p>
<p>
<a name="pgfId-1832555"></a>Default Value: <code>nil</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a name="pgfId-1760940"></a><span class="webflare-courier-new" style="white-space:pre"><em>?ignoreUnboundRefs</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1832535"></a><span class="webflare-courier-new" style="white-space:pre"><em></em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1760942"></a>When set to <code>t</code>, clears unused occShape coloring data even if hierarchy cannot be fully opened.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1761096"></a><span class="webflare-courier-new" style="white-space:pre"><em>&#160;&#160;               </em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1760946"></a>Default Value: <code>nil</code></p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1760891"></a>Value Returned</h4>
<table class="webflareTable" id="#id1832699">
<tbody><tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a name="pgfId-1761076"></a><span class="webflare-courier-new" style="white-space:pre"><em>x_numClearedObjects</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1760884"></a><span class="webflare-courier-new" style="white-space:pre"><em>&#160;&#160;               </em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1760886"></a>A non-negative number of objects cleared. </p>
<p>
<a name="pgfId-1761039"></a>If <code>dryRun</code> is set to <code>t</code>, this number indicates how many objects are found with the specified cellview, without clearing the data. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1760888"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1760890"></a>Hierarchy below the given cellview cannot be opened or some other internal error occurred. </p>
<p>
<a name="pgfId-1761046"></a>Nothing was cleared.</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1761053"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1761054"></a>;; Open cellview &#39;myLib/myCell/myLayout&quot;:</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1761055"></a>window = geOpen(?lib &quot;myLib&quot; ?cell &quot;myCell&quot; ?view &quot;myLayout&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1761056"></a>cellView = geGetEditCellView(window)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1761057"></a></pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1761058"></a>;; Just open hierarchy and count unused data:</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1761059"></a>dbClearUnusedOccShapeColorData(cellview ?dryRun t)&#160;&#160;; for example, returns 5</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1761060"></a></pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1761061"></a>;; Remove unused data:</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1761062"></a>dbClearUnusedOccShapeColorData(cellview)&#160;&#160;; should return 5, too</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1761063"></a></pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1761064"></a>;; Save changes:</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1761065"></a>dbSave(cellview)</pre>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbInstGetLayerShifts

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1760631"></a><a name="43317"></a>dbInstGetLa<a name="dbInstGetLayerShifts"></a>yerShifts</h3>

<p>
<a name="pgfId-1784496"></a>This function is no longer supported. Use <a href="mpt.html#57667"><h-hot>dbInstGetLayerShifts2</h-hot><code></code></a> instead.</p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbInstGetLayerShifts2

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->






<h3>
<a name="pgfId-1784641"></a><a name="57667"></a>dbInstGetLa<a name="dbInstGetLayerShifts2"></a>yerShifts2</h3>
<a name="pgfId-1784642"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbInstGetLayerShifts2(
<code><em>d_instId
</em></code>)
=&gt; <code><em>l_layerShifts</em></code> / nil</pre>

<h4>
<a name="pgfId-1784644"></a>Description</h4>

<p>
<a name="pgfId-1784645"></a>(ICADVM20.1 Only) Returns a list of shifts that are applied to the layers in the master of the specified instance. </p>
<p>
<a name="pgfId-1784647"></a>The returned list will consist of sublists, each representing layer-shift pairs.</p>



<h4>
<a name="pgfId-1784653"></a>Arguments</h4>
<table class="webflareTable" id="#id1784648">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1784650"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_instId</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1784652"></a>Specifies the instance ID</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1784674"></a>Value Returned</h4>
<table class="webflareTable" id="#id1784654">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1784656"></a><span class="webflare-courier-new" style="white-space:pre"><em>l_layerShifts</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1784658"></a>Returns a list of layer-shift pairs, representing color shifts on the layers specified on the shapes in this instance in the following format:</p>
<p>
<a name="pgfId-1784659"></a><code>list(</code><span class="webflare-courier-new" style="white-space:pre"><em>g_layer t_shift</em></span><code>)</code></p>
<p>
<a name="pgfId-1784660"></a>where, <span class="webflare-courier-new" style="white-space:pre"><em>g_layer</em></span> is the layer number and <span class="webflare-courier-new" style="white-space:pre"><em>t_shift</em></span> is one of the following:</p>

<ul><li>
<a name="pgfId-1784661"></a><code>noShift</code>: There is no color shifting on this layer.</li><li>
<a name="pgfId-1784662"></a><code>shift1Shift</code>: Shift colors by one (mask1Color to mask2Color, mask2Color to mask3Color, mask3Color to mask1Color).</li><li>
<a name="pgfId-1784663"></a><code>shift2Shift</code>: Shift colors by two (mask1Color to mask3Color, mask2Color to mask1Color, mask3Color to mask2Color).</li><li>
<a name="pgfId-1784664"></a><code>fixedMask1Shift</code>: Shapes with mask1Color are not changed; shift mask2Color to mask3Color, and mask3Color to mask2Color.</li><li>
<a name="pgfId-1784665"></a><code>fixedMask2Shift</code>: Shapes with mask2Color are not changed; shift mask1Color to mask3Color, and mask3Color to mask1Color.</li><li>
<a name="pgfId-1848534"></a><code>fixedMask3Shift</code>: Shapes with mask3Color are not changed; shift mask1Color to mask2Color, and mask2Color to mask1Color.</li></ul>






</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1784671"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1784673"></a>There are no layer shifts specified on the instance.</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1784675"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1784700"></a>shifts = dbInstGetLayerShifts2(inst)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1784701"></a>=&gt; shifts = ((20 &quot;shift1Shift&quot;) (21 &quot;fixedMask2Shift&quot;))</pre>

<p>
<a name="pgfId-1784727"></a>Returns the layer-shift pairs for instance <code>inst</code>.</p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbInstHasLayerShifts

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1783656"></a><a name="92047"></a>dbInstHas<a name="dbInstHasLayerShifts"></a>LayerShifts</h3>
<a name="pgfId-1742111"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbInstHasLayerShifts(
<code><em>d_instId
</em></code>)
=&gt; t / nil</pre>

<h4>
<a name="pgfId-1742113"></a>Description</h4>

<p>
<a name="pgfId-1742114"></a>(ICADVM20.1 Only) Returns a Boolean value indicating whether per-layer color shifts are specified on the instance.</p>



<h4>
<a name="pgfId-1742121"></a>Arguments</h4>
<table class="webflareTable" id="#id1742116">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742118"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_instId</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742120"></a>Specifies instance ID</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1742131"></a>Value Returned</h4>
<table class="webflareTable" id="#id1742122">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742124"></a><code>t</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742126"></a>Returns <code>t </code>if per-layer color shifts exist on the specified instance</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742128"></a>nil</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742130"></a>Returns <code>nil</code> if per-layer color shifts do not exist on the specified instance</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1787120"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1787121"></a>hasShift = dbInstHasLayerShifts(instId) </pre>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbInstSetLayerShifts

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1742142"></a><a name="52812"></a>dbInstSe<a name="dbInstSetLayerShifts"></a>tLayerShifts</h3>

<p>
<a name="pgfId-1784605"></a>This function is no longer supported. Use <a href="mpt.html#33930"><h-hot>dbInstSetLayerShifts2</h-hot><code></code></a> instead. </p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbInstSetLayerShifts2

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->






<h3>
<a name="pgfId-1784523"></a><a name="33930"></a>dbInstSe<a name="dbInstSetLayerShifts2"></a>tLayerShifts2</h3>
<a name="pgfId-1784524"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbInstSetLayerShifts2(
<code><em>d_instId
l_layerShifts
</em></code>)
=&gt; t / nil</pre>

<h4>
<a name="pgfId-1784526"></a>Description</h4>

<p>
<a name="pgfId-1784528"></a>(ICADVM20.1 Only) Sets the given <span class="webflare-courier-new" style="white-space:pre"><em>l_layerShifts</em></span> on the specified instance.</p>
<p>
<a name="pgfId-1796346"></a>All layer shift settings can be applied to layers with three masks. Only <code>noShift</code> and <code>shift1Shift</code> can be applied to layers with two masks. </p>
<p>
<a name="pgfId-1816865"></a>Layer shifting cannot be run in the following conditions:</p>
<ul><li>
<a name="pgfId-1816876"></a>The <span class="webflare-courier-new" style="white-space:pre"><em>l_layerShifts</em></span> argument list has a layer that is not colorable. </li><li>
<a name="pgfId-1816890"></a>There are too many colorable layers in the technology. Contact Cadence Customer Support for assistance.</li></ul>



<div class="webflare-information-macro webflare-macro-note">
<a name="pgfId-1784529"></a>You must initialize the layer shift information for a cellview <em>before</em> setting them on the instances. To do this, run <code><a href="mpt.html#27379">dbCellViewUpdateLayerShifts</a><code></code>(</code><span class="webflare-courier-new" style="white-space:pre"><em>cv</em></span><code>) </code>where <span class="webflare-courier-new" style="white-space:pre"><em>cv</em></span> is the cellview ID. Otherwise, when you run <code>dbInstSetLayerShifts2</code> on these instances, <code>nil</code> is returned and layer shifts are not set.</div>



<h4>
<a name="pgfId-1784548"></a>Arguments</h4>
<table class="webflareTable" id="#id1784530">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1784532"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_instId</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1784534"></a>Specifies the instance ID</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1784536"></a><span class="webflare-courier-new" style="white-space:pre"><em>l_layerShifts</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1784538"></a>Lists the layer-shift pairs to be set on the specified instance. Each layer-shift pair is represented as <code>list(</code><span class="webflare-courier-new" style="white-space:pre"><em>g_layer t_shift</em></span>) where, <span class="webflare-courier-new" style="white-space:pre"><em>g_layer</em></span> is the layer name or layer number and <span class="webflare-courier-new" style="white-space:pre"><em>t_shift</em></span> is one of the following: </p>

<ul><li>
<a name="pgfId-1784539"></a><code>noShift</code>: There is no color shifting on this layer.</li><li>
<a name="pgfId-1784540"></a><code>shift1Shift</code>: Shifts colors by one (mask1Color to mask2Color, mask2Color to mask3Color, mask3Color to mask1Color).</li><li>
<a name="pgfId-1784541"></a><code>shift2Shift</code>: Shifts colors by two (mask1Color to mask3Color, mask2Color to mask1Color, mask3Color to mask2Color).</li><li>
<a name="pgfId-1784542"></a><code>fixedMask1Shift</code>: Shapes with mask1Color are not changed; shifts mask2Color to mask3Color, and mask3Color to mask2Color.</li><li>
<a name="pgfId-1784543"></a><code>fixedMask2Shift</code>: Shapes with mask2Color are not changed; shifts mask1Color to mask3Color, and mask3Color to mask1Color.</li><li>
<a name="pgfId-1848556"></a><code>fixedMask3Shift</code>: Shapes with mask3Color are not changed; shifts mask1Color to mask2Color, and mask2Color to mask1Color.</li></ul>






</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1784558"></a>Value Returned</h4>
<table class="webflareTable" id="#id1784549">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1784551"></a><code>t</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1784553"></a>Returns <code>t</code> if the master layer shifting information is successfully set</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1784555"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1784557"></a>Returns <code>nil</code> if an error occurs while setting the master layer shifting information</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1784559"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1784560"></a>shiftVals = list(list(30 &quot;noShift&quot;) list(31 &quot;fixedMask2Shift&quot;) list(&quot;Metal3&quot; &quot;shift1Shift&quot;))<br />dbInstSetLayerShifts2(inst shiftVals)</pre>

<p>
<a name="pgfId-1784588"></a>Sets the layer-shift pairs for instance <code>inst</code> on layer number <code>30</code>, layer number <code>31</code>, and <code>Metal3</code> to <code>noShift</code>, <code>fixedMask2Shift</code>, and <code>shift1Shift</code>, respectively.</p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbInstClearLayerShifts

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1784514"></a><a name="79172"></a>dbInstClea<a name="dbInstClearLayerShifts"></a>rLayerShifts</h3>
<a name="pgfId-1742180"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbInstClearLayerShifts(
<code><em>d_instId
</em></code>)
=&gt; t / nil</pre>

<h4>
<a name="pgfId-1742182"></a>Description</h4>

<p>
<a name="pgfId-1742183"></a>(ICADVM20.1 Only) Removes all per-layer color shifting information from the specified instance.</p>



<h4>
<a name="pgfId-1742190"></a>Arguments</h4>
<table class="webflareTable" id="#id1742185">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742187"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_instId</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742189"></a>Specifies instance ID</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1742200"></a>Value Returned</h4>
<table class="webflareTable" id="#id1742191">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742193"></a><code>t</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742195"></a>Returns <code>t</code> if the per-layer color shifting information is successfully removed from the specified instance</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742197"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742199"></a>Returns <code>nil</code> if the per-layer color shifting information is not removed from the specified instance</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1742201"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742202"></a>dbInstClearLayerShifts(instId)</pre>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbIsShapeColoringAllowed

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1742210"></a><a name="18988"></a>dbIsShapeCo<a name="dbIsShapeColoringAllowed"></a>loringAllowed</h3>
<a name="pgfId-1742211"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbIsShapeColoringAllowed(
<code><em>d_shapeID
</em></code>)
=&gt; t / nil</pre>

<h4>
<a name="pgfId-1742213"></a>Description</h4>

<p>
<a name="pgfId-1742214"></a>(ICADVM20.1 Only) Indicates whether the specified shape is of a type that can be colored or not. Only the following shapes can be colored: arcs, lines, donuts, ellipses, pathSegs, paths, rects, and polygons.</p>


<div class="webflare-information-macro webflare-macro-note">
<a name="pgfId-1742216"></a>This function does not check whether the layer associated with the shape is colorable or not, as defined in the technology database.</div>



<h4>
<a name="pgfId-1742222"></a>Arguments</h4>
<table class="webflareTable" id="#id1742217">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742219"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_shapeID</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742221"></a>Specifies the shape ID </p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1742232"></a>Value Returned</h4>
<table class="webflareTable" id="#id1742223">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742225"></a><code>t</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742227"></a>Returns <code>t</code> if the shape can be colored</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742229"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742231"></a>Returns <code>nil</code> if the shape cannot be colored</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1742233"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742234"></a>dbIsShapeColoringAllowed( dbCreateRect( cvId &quot;M1&quot; &quot;drawing&quot; &#39;((0 0) (100 100)) ) ) =&gt; t</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742235"></a>dbIsShapeColoringAllowed( dbCreateDot( cvId &quot;M1&quot; &quot;drawing&quot; &#39;(0 0) ) ) =&gt; nil</pre>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbIsShapeColored

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1742243"></a><a name="43556"></a>dbIsShap<a name="dbIsShapeColored"></a>eColored</h3>
<a name="pgfId-1742244"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbIsShapeColored(
<code><em>d_shapeID
</em></code>)
=&gt; t / nil</pre>

<h4>
<a name="pgfId-1742246"></a>Description</h4>

<p>
<a name="pgfId-1742247"></a>(ICADVM20.1 Only) Indicates whether the specified shape is colored in a color other than <code>grayColor</code>.</p>



<h4>
<a name="pgfId-1742254"></a>Arguments</h4>
<table class="webflareTable" id="#id1742249">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742251"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_shapeID</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742253"></a>Specifies the shape ID. </p>
<div class="webflare-information-macro webflare-macro-note">
<a name="pgfId-1831572"></a>To check the shape&#39;s colorability use <a href="mpt.html#18988">dbIsShapeColoringAllowed</a>. </div>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1742264"></a>Value Returned</h4>
<table class="webflareTable" id="#id1742255">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742257"></a><code>t</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742259"></a>Returns <code>t</code> if the shape is not colored in <code>grayColor</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742261"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742263"></a>Returns <code>nil</code> if the shape is colored in <code>grayColor</code> or the function encounters an error during execution</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1742265"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1803472"></a>dbIsShapeColored( coloredRect ) =&gt; t</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1803517"></a>dbIsShapeColored( dbCreateRect( cvId &quot;M1&quot; &quot;drawing&quot; &#39;((0 0) (100 100)) ) ) =&gt; nil ; newly created shapes are colored in gray color.</pre>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbGetShapeColor

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1803521"></a><a name="22780"></a>dbGetS<a name="dbGetShapeColor"></a>hapeColor</h3>
<a name="pgfId-1742276"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbGetShapeColor(
<code><em>d_shapeId
</em></code>)
=&gt; <code><em>t_maskColor</em></code> / nil</pre>

<h4>
<a name="pgfId-1742278"></a>Description</h4>

<p>
<a name="pgfId-1742279"></a>(ICADVM20.1 Only) Returns the assigned color of the specified shape. By default, all newly created shapes are of the <code>grayColor</code> color type, which represents the currently assigned color of the shape.</p>



<h4>
<a name="pgfId-1742286"></a>Arguments</h4>
<table class="webflareTable" id="#id1742281">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742283"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_shapeId</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742285"></a>ID of the shape whose color is to be returned.</p>
<div class="webflare-information-macro webflare-macro-note">
<a name="pgfId-1831583"></a>To check the shape&#39;s colorability use <a href="mpt.html#18988">dbIsShapeColoringAllowed</a>. </div>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1742296"></a>Value Returned</h4>
<table class="webflareTable" id="#id1742287">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742289"></a><span class="webflare-courier-new" style="white-space:pre"><em>t_maskColor</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1783009"></a>Returns a string representing the color of the shape. The shape color can be one of the following: <code>&quot;grayColor&quot;</code>, <code>&quot;mask1Color&quot;</code>, <code>&quot;mask2Color&quot;</code>, <code>&quot;mask3Color&quot;</code>, <code>&quot;mask4Color&quot;</code>, <code>&quot;mask5Color&quot;</code>, <code>&quot;mask6Color&quot;</code>, <code>&quot;mask7Color&quot;</code>, or <code>&quot;mask8Color&quot;</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742293"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1783011"></a>Returns <code>nil</code> if an error occurs during execution</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1742297"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742298"></a>dbGetShapeColor( coloredRect ) =&gt; &quot;mask2Color&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742299"></a>dbGetShapeColor( dbCreateRect( cvId &quot;M1&quot; &quot;drawing&quot; &#39;((0 0) (100 100)) ) ) =&gt; &quot;grayColor&quot;&#160;&#160; ; newly created shapes are colored in gray color.</pre>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbSetShapeColor

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1742309"></a><a name="77528"></a>dbSetSh<a name="dbSetShapeColor"></a>apeColor</h3>
<a name="pgfId-1742310"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbSetShapeColor(
<code><em>d_shapeId
t_maskColor
</em></code>)
=&gt; t / nil</pre>

<h4>
<a name="pgfId-1742312"></a>Description</h4>

<p>
<a name="pgfId-1742313"></a>(ICADVM20.1 Only) Assigns the specified color to the given shape if the color state is unlocked.</p>
<p>
<a name="pgfId-1742315"></a>If you try to set the color of a non-colorable shape, or if the layer associated with the shape is unbound or does not support coloring, the function results in an error.</p>



<h4>
<a name="pgfId-1742326"></a>Arguments</h4>
<table class="webflareTable" id="#id1742316">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742318"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_shapeId</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742320"></a>Specifies ID of the shape whose color is to be set.</p>
<div class="webflare-information-macro webflare-macro-note">
<a name="pgfId-1831609"></a>To check the shape&#39;s colorability use <a href="mpt.html#18988">dbIsShapeColoringAllowed</a>. </div>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742322"></a><span class="webflare-courier-new" style="white-space:pre"><em>t_maskColor</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742324"></a>Color to be set for the shape.</p>
<p>
<a name="pgfId-1742325"></a>Valid values: <code>grayColor</code>, <code>mask&lt;</code><span class="webflare-courier-new" style="white-space:pre"><em>mask number</em></span>&gt;<code>Color</code>, where &lt;<span class="webflare-courier-new" style="white-space:pre"><em>mask number</em></span>&gt; is 1, 2, and so on, up to the number of masks defined in the technology library for the layer.</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1742336"></a>Value Returned</h4>
<table class="webflareTable" id="#id1742327">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742329"></a><code>t</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742331"></a>Returns <code>t</code> if the function runs successfully.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742333"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742335"></a>Returns <code>nil</code> if there is an error.</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1742337"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742338"></a>dbSetShapeColor(coloredRect &quot;mask1Color&quot; ) =&gt; t</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742339"></a>dbGetShapeColor(coloredRect) =&gt; &quot;mask1Color&quot;</pre>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbIsShapeColorLocked

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1742347"></a><a name="52157"></a>dbIsShape<a name="dbIsShapeColorLocked"></a>ColorLocked</h3>
<a name="pgfId-1742348"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbIsShapeColorLocked(
<code><em>d_shapeID
</em></code>)
=&gt; t / nil</pre>

<h4>
<a name="pgfId-1742350"></a>Description</h4>

<p>
<a name="pgfId-1742352"></a>(ICADVM20.1 Only) Indicates whether the coloring for the specified shape is locked.</p>



<h4>
<a name="pgfId-1742358"></a>Arguments</h4>
<table class="webflareTable" id="#id1742353">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742355"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_shapeID</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742357"></a>Specifies the Shape ID.</p>
<div class="webflare-information-macro webflare-macro-note">
<a name="pgfId-1831636"></a>To check the shape&#39;s colorability, use <a href="mpt.html#18988">dbIsShapeColoringAllowed</a>. </div>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1742368"></a>Value Returned</h4>
<table class="webflareTable" id="#id1742359">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742361"></a><code>t</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742363"></a>Returns <code>t</code> if the coloring of the shapeID is locked.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742365"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742367"></a>Returns <code>nil</code> if the coloring of the shapeID is not locked or if there is an error.</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1742369"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742370"></a>dbSetShapeColorLocked( coloredRect t ) =&gt; t</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742371"></a>dbIsShapeColorLocked( coloredRect ) =&gt; t</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742372"></a>dbIsShapeColorLocked( dbCreateRect( cvId &quot;M1&quot; &quot;drawing&quot; &#39;((0 0) (100 100)) ) ) =&gt; nil&#160;&#160; ; newly created shapes have unlocked coloring</pre>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbSetShapeColorLocked

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1742380"></a><a name="93188"></a>dbSetShap<a name="dbSetShapeColorLocked"></a>eColorLocked</h3>
<a name="pgfId-1742381"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbSetShapeColorLocked(
<code><em>d_shapeId
g_setLocked
</em></code>)
=&gt; t / nil</pre>

<h4>
<a name="pgfId-1742383"></a>Description</h4>

<p>
<a name="pgfId-1742385"></a>(ICADVM20.1 Only) Changes the color state of the shape. </p>
<p>
<a name="pgfId-1742386"></a>If you try to set the color state of a non-colorable shape, it results in an error. It also results in an error if you set the color state of a shape whose color is <code>grayColor</code> because it is inconsistent to lock the coloring of an uncolored shape.</p>



<h4>
<a name="pgfId-1742397"></a>Arguments</h4>
<table class="webflareTable" id="#id1742387">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742389"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_shapeId</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742391"></a>Specifies the shape ID.</p>
<div class="webflare-information-macro webflare-macro-note">
<a name="pgfId-1831663"></a>To check the shape&#39;s colorability use <a href="mpt.html#18988">dbIsShapeColoringAllowed</a>. </div>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742393"></a><span class="webflare-courier-new" style="white-space:pre"><em>g_setLocked</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742395"></a>Specifies one of the two boolean values: <code>t</code> or <code>nil</code>. </p>
<p>
<a name="pgfId-1742396"></a><code>t</code> to change the state to <code>locked</code> and <code>nil</code> to change the state to <code>unlocked</code>.</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1742407"></a>Value Returned</h4>
<table class="webflareTable" id="#id1742398">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742400"></a><code>t</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742402"></a>Returns <code>t</code> if the function runs successfully</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742404"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742406"></a>Returns <code>nil</code> if the function encounters an error during execution</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1742408"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742409"></a>dbSetShapeColorLocked( coloredRect t ) =&gt; t</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742410"></a>dbGetShapeColor( coloredRect ) =&gt; &quot;mask2Color&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742411"></a></pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742412"></a>dbSetShapeColorLocked( coloredRect nil ) =&gt; t</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742413"></a>dbGetShapeColor( coloredRect ) =&gt; &quot;mask1Color&quot;</pre>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbIsBlockageColored

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1742421"></a><a name="26372"></a>dbIsBlock<a name="dbIsBlockageColored"></a>ageColored</h3>
<a name="pgfId-1742422"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbIsBlockageColored(
<code><em>d_blockageId
</em></code>)
=&gt; t / nil</pre>

<h4>
<a name="pgfId-1742424"></a>Description</h4>

<p>
<a name="pgfId-1742426"></a>(ICADVM20.1 Only) Indicates whether the specified blockage is colored in a color other than <code>grayColor</code>.</p>



<h4>
<a name="pgfId-1742432"></a>Arguments</h4>
<table class="webflareTable" id="#id1742427">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742429"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_blockageId</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742431"></a>Specifies the blockage ID</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1742442"></a>Value Returned</h4>
<table class="webflareTable" id="#id1742433">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742435"></a><code>t</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742437"></a>Returns <code>t</code> if the specified blockage is not colored in <code>grayColor</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742439"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742441"></a>Returns <code>nil</code> if the blockage is colored in <code>grayColor</code> or there is an error</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1742443"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742444"></a>dbIsBlockageColored( coloredBlockage ) =&gt; t</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742445"></a>dbIsBlockageColored( dbCreateLayerBlockage( cvId &quot;M1&quot; &quot;routing&quot; &#39;((0 0) (100 0) (100 100)) ) ) =&gt; nil&#160;&#160; ; newly created blockages are colored in gray color.</pre>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbIsBlockageColoringAllowed

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1742454"></a><a name="53554"></a>dbIsBlockage<a name="dbIsBlockageColoringAllowed"></a>ColoringAllowed</h3>
<a name="pgfId-1742455"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbIsBlockageColoringAllowed(
<code><em>d_blockageId
</em></code>)
=&gt; t / nil</pre>

<h4>
<a name="pgfId-1742457"></a>Description</h4>

<p>
<a name="pgfId-1742458"></a>(ICADVM20.1 Only) Indicates whether the specified blockage is of a blockage type that can be colored. Only layer blockages can be colored.</p>


<div class="webflare-information-macro webflare-macro-note">
<a name="pgfId-1742460"></a>This function does not check whether the layer associated with the blockage is colorable or not, as defined in the technology database.</div>



<h4>
<a name="pgfId-1742466"></a>Arguments</h4>
<table class="webflareTable" id="#id1742461">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742463"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_blockageId</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742465"></a>Specifies the blockage ID</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1742476"></a>Value Returned</h4>
<table class="webflareTable" id="#id1742467">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742469"></a><code>t</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742471"></a>Returns <code>t </code>if the blockage can be colored</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742473"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742475"></a>Returns <code>nil </code>if the blockage cannot be colored or there is an error</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1742477"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742478"></a>dbIsBlockageColoringAllowed( dbCreateLayerBlockage( cvId &quot;M1&quot; &quot;routing&quot; &#39;((0 0) (100 0) (100 100)) ) ) =&gt; t</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742479"></a>dbIsBlockageColoringAllowed( dbCreateAreaBlockage( cvId &#39;((0 0) (100 0) (100 100)) ) ) =&gt; nil</pre>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbGetBlockageColor

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1742487"></a><a name="48500"></a>dbGetBloc<a name="dbGetBlockageColor"></a>kageColor</h3>
<a name="pgfId-1742488"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbGetBlockageColor(
<code><em>d_blockageId
</em></code>)
=&gt; <code><em>t_maskColor</em></code> / nil</pre>

<h4>
<a name="pgfId-1742490"></a>Description</h4>

<p>
<a name="pgfId-1742491"></a>(ICADVM20.1 Only) Returns the color assigned to the given blockage. The default color type is <code>grayColor</code>.</p>



<h4>
<a name="pgfId-1742498"></a>Arguments</h4>
<table class="webflareTable" id="#id1742493">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742495"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_blockageId</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742497"></a>Specifies the blockage ID</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1742508"></a>Value Returned</h4>
<table class="webflareTable" id="#id1742499">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742501"></a><span class="webflare-courier-new" style="white-space:pre"><em>t_maskColor</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742503"></a>Returns the color assigned to the blockage. Possible values include: <code>&quot;grayColor&quot;</code>, <code>&quot;mask1Color&quot;</code>, <code>&quot;mask2Color&quot;</code>, <code>&quot;mask3Color&quot;</code>, <code>&quot;mask4Color&quot;</code>, <code>&quot;mask5Color&quot;</code>, <code>&quot;mask6Color&quot;</code>, <code>&quot;mask7Color&quot;</code>, <code>&quot;mask8Color&quot;</code>. <code>&quot;blackColor&quot;</code>, or <code>&quot;multiColor&quot;</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742505"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742507"></a>Returns <code>nil</code> if the function encounters an error during execution</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1742509"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742510"></a>dbSetBlockageColor( layerBlockage &quot;multiColor&quot; ) =&gt; t</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742511"></a>dbGetBlockageColor( layerBlockage ) =&gt; &quot;multiColor&quot;</pre>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbSetBlockageColor

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1742520"></a><a name="52937"></a>dbSetBloc<a name="dbSetBlockageColor"></a>kageColor</h3>
<a name="pgfId-1742521"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbSetBlockageColor(
<code><em>d_blockageID
t_maskColor
</em></code>)
=&gt; t / nil</pre>

<h4>
<a name="pgfId-1742523"></a>Description</h4>

<p>
<a name="pgfId-1742525"></a>(ICADVM20.1 Only) Assigns color to the specified blockage.</p>
<p>
<a name="pgfId-1742526"></a>If you try to assign color to the blockage that cannot be colored, results in an error.</p>



<h4>
<a name="pgfId-1742536"></a>Arguments</h4>
<table class="webflareTable" id="#id1742527">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742529"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_blockageID</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742531"></a>Specifies the blockage ID</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742533"></a><span class="webflare-courier-new" style="white-space:pre"><em>t_maskColor</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742535"></a>Color to be assigned to the blockage. <br />Valid values are: <code>&quot;grayColor&quot;</code>, <code>&quot;blackColor&quot;</code>, <code>&quot;multiColor&quot;</code>, or <code>&quot;mask&lt;</code><span class="webflare-courier-new" style="white-space:pre"><em>mask number</em></span><code>&gt;Color&quot;</code>, where <code>&lt;</code><span class="webflare-courier-new" style="white-space:pre"><em>mask number</em></span><code>&gt;</code> is 1, 2, and so on, up to the number of masks defined in the technology library for the layer. </p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1742546"></a>Value Returned</h4>
<table class="webflareTable" id="#id1742537">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742539"></a><code>t</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742541"></a>Returns <code>t</code> if the function runs successfully</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742543"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742545"></a>Returns <code>nil</code> if the function encounters an error</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1742547"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742548"></a>dbSetBlockageColor( areaBlockage &quot;mask1Color&quot; ) =&gt; nil</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742549"></a>dbSetBlockageColor( layerBlockage &quot;blackColor&quot; ) =&gt; t</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742550"></a>dbGetBlockageColor( layerBlockage ) =&gt; &quot;blackColor&quot; </pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1851574"></a></pre>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbIsViaColorStateLocked

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1767729"></a><a name="31587"></a>dbIsViaColorS<a name="dbIsViaColorStateLocked"></a>tateLocked</h3>
<a name="pgfId-1767730"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbIsViaColorStateLocked(
<code><em>d_viaId
</em></code>)
=&gt; t / nil</pre>

<h4>
<a name="pgfId-1767732"></a>Description</h4>

<p>
<a name="pgfId-1767733"></a>(ICADVM20.1 Only) Returns a Boolean indicating whether the coloring on the via is locked. The default value is <code>nil</code>.</p>



<h4>
<a name="pgfId-1767740"></a>Arguments</h4>
<table class="webflareTable" id="#id1767735">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1767737"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_viaId</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1767739"></a>Specifies the via ID</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1767750"></a>Value Returned</h4>
<table class="webflareTable" id="#id1767741">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1767743"></a><code>t</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1767745"></a>Returns <code>t</code> if the coloring on the via is locked</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1767747"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1767749"></a>Returns <code>nil</code> if the coloring on the via is not locked or an error occurs</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1767751"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1767752"></a>;Example 1</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1767753"></a>dbIsViaColorStateLocked( dbCreateVia( cvId viaDefId &#39;(0 0) &quot;R0&quot; ) ) </pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1767754"></a>=&gt; nil </pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1767755"></a></pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1767756"></a>;Example 2</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1767757"></a>dbSetViaColorStateLocked( via t ) =&gt; t</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1767758"></a>dbIsViaColorStateLocked( via ) =&gt; t</pre>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbSetViaColorStateLocked

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1767767"></a><a name="41142"></a>dbSetViaColor<a name="dbSetViaColorStateLocked"></a>StateLocked</h3>
<a name="pgfId-1767768"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbSetViaColorStateLocked(
<code><em>d_viaId
g_locked
</em></code>)
=&gt; t / nil</pre>

<h4>
<a name="pgfId-1767770"></a>Description</h4>

<p>
<a name="pgfId-1767772"></a>(ICADVM20.1 Only) Sets the color state for the specified via.</p>



<h4>
<a name="pgfId-1767783"></a>Arguments</h4>
<table class="webflareTable" id="#id1767773">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1767775"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_viaId</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1767777"></a>Specifies the via ID</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1767779"></a>g_locked</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1767781"></a>Specifies one of the two boolean values: <code>t</code> or <code>nil</code>. </p>
<p>
<a name="pgfId-1767782"></a><code>t</code> to change the state to <code>locked</code> and <code>nil</code> to change the state to <code>unlocked</code>.</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1767793"></a>Value Returned</h4>
<table class="webflareTable" id="#id1767784">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1767786"></a><code>t</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1767788"></a>Returns <code>t</code> if the coloring on the via is successfully set</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1767790"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1767792"></a>Returns <code>nil</code> if the coloring is not set or an error occurs during execution</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1767794"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1767795"></a>dbSetViaColorStateLocked( via t ) =&gt; t</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1767796"></a>dbIsViaColorStateLocked( via ) =&gt; t</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1771150"></a>dbSetViaCutLayerControl( via &quot;shift1&quot; ) =&gt; nil</pre>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbIsViaColorStateLayerLocked

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1771177"></a><a name="81828"></a>dbIsViaColor<a name="dbIsViaColorStateLayerLocked"></a>StateLayerLocked </h3>
<a name="pgfId-1771179"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbIsViaColorStateLayerLocked(
<code><em>d_dbViaId
t_dbViaLayerType
</em></code>)
=&gt; t / nil</pre>

<h4>
<a name="pgfId-1771180"></a>Description</h4>

<p>
<a name="pgfId-1771181"></a>(ICADVM20.1 Only) Indicates whether the coloring for the specified individual layer in a via is locked.</p>



<h4>
<a name="pgfId-1771193"></a>Arguments</h4>
<table class="webflareTable" id="#id1771183">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1771185"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_dbViaId</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1771187"></a>Database ID of a via.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1771189"></a><span class="webflare-courier-new" style="white-space:pre"><em>t_dbViaLayerType</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1771191"></a>Name of a valid via layer type. </p>
<p>
<a name="pgfId-1771192"></a>Valid values: <code>layer1</code>, <code>layer2</code>, <code>cutLayer</code></p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1771203"></a>Value Returned</h4>
<table class="webflareTable" id="#id1771194">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1771196"></a><code>t</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1771198"></a>Coloring state for the specified individual layer in a via is locked.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1771200"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a name="pgfId-1771202"></a>Coloring state for the specified individual layer in a via is not locked or if there is an error. </p>

</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1771204"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1771205"></a>dbSetViaColorStateLayerLocked(via1t_m2_m1 &quot;layer1&quot; t) =&gt; t</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1771206"></a>dbIsViaColorStateLayerLocked(via1t_m2_m1 &quot;layer1&quot;) =&gt; t</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1771207"></a>dbIsViaColorStateLocked(via1t_m2_m1) =&gt; t</pre>

<p>
<a name="pgfId-1771239"></a>Coloring state for the layer <code>layer1</code> in the via <code>via1t_m2_m1</code> is locked.</p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbSetViaColorStateLayerLocked

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1771161"></a><a name="43619"></a>dbSetViaColorStateL<a name="dbSetViaColorStateLayerLocked"></a>ayerLocked</h3>
<a name="pgfId-1771156"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbSetViaColorStateLayerLocked(
<code><em>d_dbViaId
t_dbViaLayerType
g_setLocked
</em></code>)
=&gt; t / nil</pre>

<h4>
<a name="pgfId-1767809"></a>Description</h4>

<p>
<a name="pgfId-1767811"></a>(ICADVM20.1 Only) Locks and unlocks the color state for individual layers in a via. </p>



<h4>
<a name="pgfId-1767830"></a>Arguments</h4>
<table class="webflareTable" id="#id1767812">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1767814"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_dbViaId</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1767816"></a>Database ID of a via.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1767818"></a><span class="webflare-courier-new" style="white-space:pre"><em>t_dbViaLayerType</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1767820"></a>Name of a valid via layer type. </p>
<p>
<a name="pgfId-1767821"></a>Valid values: <code>layer1</code>, <code>layer2</code>, <code>cutLayer</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1767823"></a><span class="webflare-courier-new" style="white-space:pre"><em>g_setLocked</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1767825"></a>Specifies the lock state for the specified layer: <code>t</code> locks the layer, <code>nil</code> unlocks the layer</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1767840"></a>Value Returned</h4>
<table class="webflareTable" id="#id1767831">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1767833"></a><code>t</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1767835"></a>Color state for the specified layer in the given via is changed.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1767837"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1767839"></a>The operation failed. </p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1767841"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1767842"></a>dbSetViaColorStateLayerLocked(via1t_m2_m1 &quot;layer1&quot; t) =&gt; t</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1767843"></a>dbIsViaColorStateLayerLocked(via1t_m2_m1 &quot;layer1&quot;) =&gt;&#160;&#160;t</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1767844"></a>dbIsViaColorStateLocked(via1t_m2_m1) =&gt; t</pre>

<p>
<a name="pgfId-1767845"></a>Color state for the layer <code>layer1</code> in the via <code>via1t_m2_m1</code> is changed to locked.</p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbGetViaLayerNumColorMasks

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1826191"></a><a name="79500"></a>dbGetVia<a name="dbGetViaLayerNumColorMasks"></a>LayerNumColorMasks</h3>
<a name="pgfId-1826192"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbGetViaLayerNumColorMasks(
<code><em>d_viaId
t_viaLayerType
</em></code>)
=&gt; <code><em>t_layerName</em></code> / nil</pre>

<h4>
<a name="pgfId-1826194"></a>Description</h4>

<p>
<a name="pgfId-1826195"></a>(ICADVM20.1 Only) Returns the number of supported color masks for specified layer of the given via.</p>



<h4>
<a name="pgfId-1826207"></a>Arguments</h4>
<table class="webflareTable" id="#id1826197">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1826199"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_viaId</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1826201"></a>Specifies the via ID.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1826203"></a><span class="webflare-courier-new" style="white-space:pre"><em>t_viaLayerType</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1826205"></a>Specifies the via layer type.</p>
<p>
<a name="pgfId-1826206"></a>Valid values: <code>layer1</code>, <code>layer2</code>, <code>cutLayer</code></p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1826217"></a>Value Returned</h4>
<table class="webflareTable" id="#id1826208">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1826210"></a><span class="webflare-courier-new" style="white-space:pre"><em>n_numMasks</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1826212"></a>Returns the number of supported color masks for the specified layer of the via.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1826214"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1826216"></a>Returns <code>nil</code> if an error occurs (for example, invalid via ID or layer type).</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1826218"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1826219"></a>cv = dbOpenCellViewByType( &quot;tech&quot; &quot;design&quot; &quot;layout&quot; &quot;maskLayout&quot; &quot;w&quot; )<br />viaDef_M2_M1 = techFindViaDefByName( tf &quot;M2_M1&quot; )<br />via1t_m2_m1 = dbCreateVia( cv viaDef_M2_M1 10:10 &quot;R0&quot; )<br />techSetLayerNumColorMasks( tf &quot;metal1&quot; 3 )<br />techSetLayerNumColorMasks( tf &quot;metal2&quot; 8 )</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1826220"></a>dbGetViaLayerNumColorMasks( via1t_m2_m1 &quot;layer1&quot; )<br />=&gt; 8</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1826221"></a>dbGetViaLayerNumColorMasks( via1t_m2_m1 &quot;layer2&quot; )<br />=&gt; 3</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1825413"></a>dbGetViaLayer( via1t_m2_m1 &quot;cutLayer&quot; )</pre>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbGetViaLayer1Control

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1767719"></a><a name="17771"></a>dbGetVia<a name="dbGetViaLayer1Control"></a>Layer1Control</h3>
<a name="pgfId-1767713"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbGetViaLayer1Control(
<code><em>d_viaId
</em></code>)
=&gt; <code><em>t_colorControl</em></code> / nil</pre>

<h4>
<a name="pgfId-1742562"></a>Description</h4>

<p>
<a name="pgfId-1742563"></a>(ICADVM20.1 Only) Returns the color control assigned to layer1 of the via. Default value for color control is <code>noShift</code>.</p>



<h4>
<a name="pgfId-1742570"></a>Arguments</h4>
<table class="webflareTable" id="#id1742565">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742567"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_viaId</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742569"></a>Specifies the via ID</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1742580"></a>Value Returned</h4>
<table class="webflareTable" id="#id1742571">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742573"></a><span class="webflare-courier-new" style="white-space:pre"><em>t_colorControl</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742575"></a>Returns the color control assigned to the layer2 of the via.</p>
<p>
<a name="pgfId-1776912"></a>Valid values: <code>noColor</code>, <code>noShift</code>, <code>shift1</code>, <code>shift2,shift2,shift3,shift4,shift5,shift6</code>,or<code> shift7</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742577"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742579"></a>Returns <code>nil</code> if an error occurs during execution</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1742581"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742582"></a>dbGetViaLayer1Control( dbCreateVia( cvId viaDefId &#39;(0 0) &quot;R0&quot; ) )</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742583"></a>=&gt; &quot;noShift&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742584"></a></pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742585"></a>dbGetViaLayer1Control( grayVia )</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742586"></a>=&gt; &quot;noColor&quot;</pre>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbGetViaLayer2Control

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1742594"></a><a name="66269"></a>dbGetVia<a name="dbGetViaLayer2Control"></a>Layer2Control</h3>
<a name="pgfId-1742595"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbGetViaLayer2Control(
<code><em>d_viaId
</em></code>)
=&gt; <code><em>t_colorControl</em></code> / nil</pre>

<h4>
<a name="pgfId-1742597"></a>Description</h4>

<p>
<a name="pgfId-1742598"></a>(ICADVM20.1 Only) Returns the color control assigned to layer 2 of the via. Default value for color control is <code>noShift</code>.</p>



<h4>
<a name="pgfId-1742605"></a>Arguments</h4>
<table class="webflareTable" id="#id1742600">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742602"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_viaId</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742604"></a>Specifies the via ID</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1742615"></a>Value Returned</h4>
<table class="webflareTable" id="#id1742606">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742608"></a><span class="webflare-courier-new" style="white-space:pre"><em>t_colorControl</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742610"></a>Returns the color control assigned to the layer2 of the via. </p>
<p>
<a name="pgfId-1776935"></a>Valid values: <code>noColor</code>, <code>noShift</code>, <code>shift1</code>, <code>shift2,shift2,shift3,shift4,shift5,shift6</code>,or<code> shift7</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742612"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742614"></a>Returns <code>nil</code> if an error occurs during execution</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1742616"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742617"></a>dbGetViaLayer2Control( dbCreateVia( cvId viaDefId &#39;(0 0) &quot;R0&quot; ) )</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742618"></a>=&gt; &quot;noShift&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742619"></a></pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742620"></a>dbGetViaLayer2Control( grayVia )</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742621"></a>=&gt; &quot;noColor&quot;</pre>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbGetViaCutLayerControl

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1742629"></a><a name="67063"></a>dbGetViaCut<a name="dbGetViaCutLayerControl"></a>LayerControl</h3>
<a name="pgfId-1742630"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbGetViaCutLayerControl(
<code><em>d_viaId
</em></code>)
=&gt; <code><em>t_colorControl</em></code> / nil</pre>

<h4>
<a name="pgfId-1742632"></a>Description</h4>

<p>
<a name="pgfId-1742633"></a>(ICADVM20.1 Only) Returns the color control assigned to the cut layer of the via. Default color control is <code>noShift.</code></p>



<h4>
<a name="pgfId-1742640"></a>Arguments</h4>
<table class="webflareTable" id="#id1742635">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742637"></a><code>d_viaId</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742639"></a>Specifies the via ID</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1742651"></a>Value Returned</h4>
<table class="webflareTable" id="#id1742641">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742643"></a><span class="webflare-courier-new" style="white-space:pre"><em>t_colorControl</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742645"></a>Returns the color control assigned to the cut layer of the via.</p>
<p>
<a name="pgfId-1742646"></a>Valid values: <code>noColor</code>, <code>noShift</code>, <code>shift1</code>, <code>shift2,shift2,shift3,shift4,shift5,shift6</code>,or<code> shift7</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742648"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742650"></a>Returns <code>nil</code> if an error occurs during execution</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1742652"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742653"></a>dbGetViaCutLayerControl( dbCreateVia( cvId viaDefId &#39;(0 0) &quot;R0&quot; ) ) =&gt; &quot;noShift&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742654"></a>dbGetViaCutLayerControl( grayVia ) =&gt; &quot;noColor&quot;</pre>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbGetViaLayerControl

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1775959"></a><a name="33424"></a>dbGetVia<a name="dbGetViaLayerControl"></a>LayerControl</h3>
<a name="pgfId-1775961"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbGetViaLayerControl(
<code><em>d_dbViaId
t_dbViaLayerType
</em></code>)
=&gt; <code><em>t_colorControl </em></code>/ nil</pre>

<h4>
<a name="pgfId-1775962"></a>Description</h4>

<p>
<a name="pgfId-1775963"></a>(ICADVM20.1 Only) Returns the color control assigned to the specified layer in the given via.</p>



<h4>
<a name="pgfId-1775975"></a>Arguments</h4>
<table class="webflareTable" id="#id1775965">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1775967"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_dbViaId</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1775969"></a>Database ID of a via.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1775971"></a><span class="webflare-courier-new" style="white-space:pre"><em>t_dbViaLayerType</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1775973"></a>Name of a valid via layer type. </p>
<p>
<a name="pgfId-1775974"></a>Valid values: <code>layer1</code>, <code>layer2</code>, <code>cutLayer</code></p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1775986"></a>Value Returned</h4>
<table class="webflareTable" id="#id1775976">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1775978"></a><span class="webflare-courier-new" style="white-space:pre"><em>t_colorControl</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1775980"></a>Returns the color control assigned to the specified layer in the given via.</p>
<p>
<a name="pgfId-1775981"></a>Valid values: <code>noColor</code>, <code>noShift</code>, <code>shift1</code>, <code>shift2,shift2,shift3,shift4,shift5,shift6</code>,or<code> shift7</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1775983"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1775985"></a>The operation failed.</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1775987"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1775988"></a>cv = dbOpenCellViewByType(&quot;tech&quot; &quot;design&quot; &quot;layout&quot; &quot;maskLayout&quot; &quot;w&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1775989"></a>viaDef_M2_M1 = techFindViaDefByName(tf &quot;M2_M1&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1775990"></a>via1t_m2_m1 = dbCreateVia(cv viaDef_M2_M1 10:10 &quot;R0&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1775991"></a></pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1775992"></a>dbSetViaLayerControl(via1t_m2_m1 &quot;layer2&quot; &quot;shift2&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1775993"></a>=&gt; t</pre>

<p>
<a name="pgfId-1775994"></a>Color control <code>shift2</code> is set on the layer <code>layer2</code> in the via <code>via1t_m2_m1</code>.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1775995"></a>dbGetViaLayer2Control( via1t_m2_m1 )</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1775996"></a>=&gt; &quot;shift2&quot;</pre>

<p>
<a name="pgfId-1775997"></a>Returns color control for <code>layer2</code> in the via <code>via1t_m2_m1</code> as <code>shift2</code>, using the function <code>dbGetViaLayer2Control</code>. </p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1776763"></a>dbGetViaLayerControl( via1t_m2_m1 &quot;layer2&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1776767"></a>=&gt; &quot;shift2&quot;</pre>

<p>
<a name="pgfId-1776783"></a>Returns color control for <code>layer2</code> in the via <code>via1t_m2_m1</code> as <code>shift2</code>, using the function <code>dbGetViaLayerControl</code> by specifying the name of the layer as one of the arguments. </p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbSetViaLayer1Control

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1775950"></a><a name="56645"></a>dbSetViaLay<a name="dbSetViaLayer1Control"></a>er1Control</h3>
<a name="pgfId-1742700"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbSetViaLayer1Control(
<code><em>d_viaId
t_colorControl
</em></code>)
=&gt; t / nil</pre>

<h4>
<a name="pgfId-1742702"></a>Description</h4>

<p>
<a name="pgfId-1742704"></a>(ICADVM20.1 Only) Sets the color control for layer1 shapes of the via master.</p>
<p>
<a name="pgfId-1742705"></a>It is an error to assign color control to the layer without allowed colored masks or if via color state is locked.</p>



<h4>
<a name="pgfId-1742715"></a>Arguments</h4>
<table class="webflareTable" id="#id1742706">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742708"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_viaId</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742710"></a>Specifies the via ID</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742712"></a><span class="webflare-courier-new" style="white-space:pre"><em>t_colorControl</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742714"></a>Specifies the string representing color control to be assigned to the layer1 shapes of the via master. </p>
<p>
<a name="pgfId-1818231"></a>Valid values: <code>noColor</code>, <code>noShift</code>, <code>shift1</code>, and so on, up to <code>shift</code><span class="webflare-courier-new" style="white-space:pre"><em>x</em></span>, where <span class="webflare-courier-new" style="white-space:pre"><em>x</em></span> is an integer equal to (number of masks for the via layer <code>-</code> <code>1</code>). For example, the valid values for a 3-mask via layer are: <code>noColor</code>, <code>noShift</code>, <code>shift1</code>, and <code>shift2</code>.</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1742725"></a>Value Returned</h4>
<table class="webflareTable" id="#id1742716">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742718"></a><code>t</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742720"></a>Returns <code>t</code> if the color controls are successfully set </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742722"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742724"></a>Returns <code>nil</code> if the color controls are not set or an error occurs during execution</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1742726"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742727"></a>;Example 1</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742728"></a>dbSetViaLayer1Control( via &quot;shift2&quot; )</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742729"></a>=&gt; t</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1783140"></a>dbSetViaColorStateLocked( via t )</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1783141"></a>=&gt; t</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1783142"></a>dbSetViaLayer1Control( via &quot;shift1&quot; ) </pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742733"></a>=&gt; nil </pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742734"></a>; Returns an error / nil because the color state is locked</pre>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbSetViaLayer2Control

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1742743"></a><a name="71921"></a>dbSetVia<a name="dbSetViaLayer2Control"></a>Layer2Control</h3>
<a name="pgfId-1742744"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbSetViaLayer2Control(
<code><em>d_viaId
t_colorControl
</em></code>)
=&gt; t / nil</pre>

<h4>
<a name="pgfId-1742746"></a>Description</h4>

<p>
<a name="pgfId-1742748"></a>(ICADVM20.1 Only) Sets the color control for layer2 shapes of the via master. </p>
<p>
<a name="pgfId-1742749"></a>It is an error to assign color control to the layer without allowed colored masks or if via color state is locked.</p>



<h4>
<a name="pgfId-1742759"></a>Arguments</h4>
<table class="webflareTable" id="#id1742750">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742752"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_viaId</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742754"></a>Specifies the via ID</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742756"></a><span class="webflare-courier-new" style="white-space:pre"><em>t_colorControl</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742758"></a>Specifies the string representing color control to be assigned to the layer1 shapes of the via master. </p>
<p>
<a name="pgfId-1777003"></a>Valid values: <code>noColor</code>, <code>noShift</code>, <code>shift1</code>, and so on, up to <code>shift</code><span class="webflare-courier-new" style="white-space:pre"><em>x</em></span>, where <span class="webflare-courier-new" style="white-space:pre"><em>x</em></span> is an integer equal to (number of masks for the via layer <code>-</code> <code>1</code>). For example, the valid values for a 3-mask via layer are: <code>noColor</code>, <code>noShift</code>, <code>shift1</code>, and <code>shift2</code>.</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1742769"></a>Value Returned</h4>
<table class="webflareTable" id="#id1742760">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742762"></a><code>t</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742764"></a>Returns <code>t</code> if the color controls are successfully set </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742766"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742768"></a>Returns <code>nil</code> if the color controls are not set or an error occurs during execution</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1742770"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742771"></a>dbSetViaLayer2Control( via &quot;shift2&quot; )</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742772"></a>=&gt; t</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742773"></a>dbSetViaColorStateLocked( via t )</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742774"></a>=&gt; t</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742775"></a>dbSetViaLayer2Control( via &quot;shift1&quot; ) </pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742776"></a>=&gt; nil </pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742777"></a>; Returns an error / nil because the color state is locked</pre>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbSetViaCutLayerControl

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1742785"></a><a name="66870"></a>dbSetViaCutL<a name="dbSetViaCutLayerControl"></a>ayerControl</h3>
<a name="pgfId-1742786"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbSetViaCutLayerControl(
<code><em>d_viaId
t_colorControl
</em></code>)
=&gt; t / nil</pre>

<h4>
<a name="pgfId-1742788"></a>Description</h4>

<p>
<a name="pgfId-1742790"></a>(ICADVM20.1 Only) Sets the color control for the cut layer shapes of the via master. </p>
<p>
<a name="pgfId-1742791"></a>It is an error to assign color control to the layer without allowed colored masks or if via color state is locked.</p>



<h4>
<a name="pgfId-1742801"></a>Arguments</h4>
<table class="webflareTable" id="#id1742792">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742794"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_viaId</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742796"></a>Specifies the via ID</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742798"></a><span class="webflare-courier-new" style="white-space:pre"><em>t_colorControl</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742800"></a>Specifies the string representing color control to be assigned to the cut layer shapes of the via master.</p>
<p>
<a name="pgfId-1777023"></a>Valid values: <code>noColor</code>, <code>noShift</code>, <code>shift1</code>, and so on, up to <code>shift</code><span class="webflare-courier-new" style="white-space:pre"><em>x</em></span>, where <span class="webflare-courier-new" style="white-space:pre"><em>x</em></span> is an integer equal to (number of masks for the via layer <code>-</code> <code>1</code>). For example, the valid values for a 3-mask via layer are: <code>noColor</code>, <code>noShift</code>, <code>shift1</code>, and <code>shift2</code>.</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1742811"></a>Value Returned</h4>
<table class="webflareTable" id="#id1742802">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742804"></a><code>t</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742806"></a>Returns t is the color control is successfully set</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742808"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742810"></a>Returns nil is the color control is not set or an error occurs during execution</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1742812"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742813"></a>dbSetViaCutLayerControl( via &quot;shift2&quot; ) =&gt; t</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742814"></a>dbSetViaColorStateLocked( via t ) =&gt; t</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742815"></a>dbSetViaCutLayerControl( via &quot;shift1&quot; ) =&gt; nil ; returns nil because the color state is locked</pre>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbSetViaLayerControl

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1776831"></a><a name="99351"></a>dbSetV<a name="dbSetViaLayerControl"></a>iaLayerControl</h3>
<a name="pgfId-1776833"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbSetViaLayerControl(
<code><em>d_dbViaId
t_dbViaLayerType
t_colorControl
</em></code>)
=&gt; t<code><em> </em></code>/ nil</pre>

<h4>
<a name="pgfId-1776834"></a>Description</h4>

<p>
<a name="pgfId-1776836"></a>(ICADVM20.1 Only) Sets the color control for the specified layer in the given via.</p>



<h4>
<a name="pgfId-1776852"></a>Arguments</h4>
<table class="webflareTable" id="#id1776837">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1776839"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_dbViaId</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1776841"></a>Database ID of a via.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1776843"></a><span class="webflare-courier-new" style="white-space:pre"><em>t_dbViaLayerType</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1776845"></a>Name of a valid via layer type. </p>
<p>
<a name="pgfId-1776846"></a>Valid values: <code>layer1</code>, <code>layer2</code>, <code>cutLayer</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1776848"></a><span class="webflare-courier-new" style="white-space:pre"><em>t_colorControl</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1776850"></a>Color control that can be assigned to the specified layer in the given via.</p>
<p>
<a name="pgfId-1776851"></a>Valid values: <code>noColor</code>, <code>noShift</code>, <code>shift1</code>, and so on, up to <code>shift</code><span class="webflare-courier-new" style="white-space:pre"><em>x</em></span>, where <span class="webflare-courier-new" style="white-space:pre"><em>x</em></span> is an integer equal to (number of masks for the via layer <code>-</code> <code>1</code>). For example, the valid values for a 3-mask via layer are: <code>noColor</code>, <code>noShift</code>, <code>shift1</code>, and <code>shift2</code>.</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1776862"></a>Value Returned</h4>
<table class="webflareTable" id="#id1776853">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1776855"></a><code>t</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1776857"></a>Color controls for the specified layer in the given via are successfully changed.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1776859"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1776861"></a>The operation failed. </p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1776863"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1776864"></a>cv = dbOpenCellViewByType(&quot;tech&quot; &quot;design&quot; &quot;layout&quot; &quot;maskLayout&quot; &quot;w&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1776865"></a>viaDef_M2_M1 = techFindViaDefByName(tf &quot;M2_M1&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1776866"></a>via1t_m2_m1 = dbCreateVia(cv viaDef_M2_M1 10:10 &quot;R0&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1776867"></a></pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1776868"></a>dbSetViaLayerControl(via1t_m2_m1 &quot;layer2&quot; &quot;shift2&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1776869"></a>=&gt; t</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1776870"></a>dbSetViaLayerControl(via1t_m2_m1 &quot;layer1&quot; &quot;shift1&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1776871"></a>=&gt; t</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1776872"></a>dbSetViaLayerControl(via1t_m2_m1 &quot;cutLayer&quot; &quot;shift1&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1776873"></a>=&gt; t</pre>

<p>
<a name="pgfId-1776874"></a>In this example, the following color controls are assigned to the specified layers in the via <code>via1t_m2_m1</code>:</p>
<ul><li>
<a name="pgfId-1776875"></a>Color control <code>shift2</code> to the layer <code>layer2</code>. </li><li>
<a name="pgfId-1776876"></a>Color control <code>shift1</code> to the layer <code>layer1</code>. </li><li>
<a name="pgfId-1776904"></a>Color control <code>shift1</code> to the layer <code>cutLayer</code>. </li></ul>



<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbSetViaColorInfo

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1816841"></a><a name="79073"></a>db<a name="dbSetViaColorInfo"></a>SetViaColorInfo</h3>
<a name="pgfId-1816843"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbSetViaColorInfo(
<code><em>d_dbViaId
l_layer1ControlInfo 
l_layer2ControlInfo 
l_cutLayerControlInfo 
</em></code>)
=&gt; t<code><em> </em></code>/ nil</pre>

<h4>
<a name="pgfId-1816741"></a>Description</h4>

<p>
<a name="pgfId-1816742"></a>(ICADVM20.1 Only) Updates the color control and color state for the three via layers (via layer1, via layer2, and cut layer) of the given via. </p>
<p>
<a name="pgfId-1816744"></a>A warning message is displayed with a return value of <code>nil</code> for conditions such as the following:</p>
<ul><li>
<a name="pgfId-1816745"></a>The color information argument is not set to <code>nil</code> for a via layer that is not colorable.</li><li>
<a name="pgfId-1816746"></a>The color information is not valid (for example, the color control value is <code>noColor</code> and the lock state is <code>t</code>). </li></ul>




<h4>
<a name="pgfId-1816777"></a>Arguments</h4>
<table class="webflareTable" id="#id1816747">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1816749"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_dbViaId</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1816751"></a>Database ID of the via.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1816753"></a><span class="webflare-courier-new" style="white-space:pre"><em>l_layer1ColorInfo</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1816755"></a><code>list( </code><span class="webflare-courier-new" style="white-space:pre"><em>t_colorControl g_locked </em></span>) <code>|</code> <code>nil</code></p>
<p>
<a name="pgfId-1816756"></a>Specifies the color information for via layer1 as a list of the following:</p>

<ul><li>
<a name="pgfId-1816757"></a><span class="webflare-courier-new" style="white-space:pre"><em>t_colorControl</em></span><br />
<a name="pgfId-1816758"></a>Color control to assign to the via layer.<br />
<a name="pgfId-1816759"></a>Valid values: <code>noColor</code>, <code>noShift</code>, <code>shift1</code>, and so on, up to <code>shift</code><span class="webflare-courier-new" style="white-space:pre"><em>x</em></span>, where <span class="webflare-courier-new" style="white-space:pre"><em>x</em></span> is an integer equal to the number of masks for the via layer <code>-</code> <code>1</code>. For example, the valid values for a 3-mask via layer are: <code>noColor</code>, <code>noShift</code>, <code>shift1</code>, and <code>shift2</code>.</li><li>
<a name="pgfId-1816760"></a><span class="webflare-courier-new" style="white-space:pre"><em>g_locked</em></span><br />
<a name="pgfId-1816761"></a>Specifies one of two Boolean values: <code>t</code> or <code>nil</code>, where <code>t</code> sets the via layer state to locked, and <code>nil</code> sets the state to unlocked.</li></ul>




<p>
<a name="pgfId-1816762"></a>Use <code>nil</code> for no change to the via layer.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1816764"></a><span class="webflare-courier-new" style="white-space:pre"><em>l_layer2ColorInfo</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1816766"></a><code>list( </code><span class="webflare-courier-new" style="white-space:pre"><em>t_colorControl g_locked </em></span>) <code>|</code> <code>nil</code></p>
<p>
<a name="pgfId-1816767"></a>Specifies the color information for via layer2, in the same format as <span class="webflare-courier-new" style="white-space:pre"><em>l_layer1ColorInfo.</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a name="pgfId-1816769"></a><span class="webflare-courier-new" style="white-space:pre"><em>l_cutLayerColorInfo</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1816773"></a><span class="webflare-courier-new" style="white-space:pre"><em> </em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1816775"></a><code>list( </code><span class="webflare-courier-new" style="white-space:pre"><em>t_colorControl g_locked </em></span>) <code>|</code> <code>nil</code></p>
<p>
<a name="pgfId-1816776"></a>Specifies the color information for the via cut layer, in the same format as <span class="webflare-courier-new" style="white-space:pre"><em>l_layer1ColorInfo.</em></span></p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1816787"></a>Value Returned</h4>
<table class="webflareTable" id="#id1816778">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1816780"></a><code>t</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1816782"></a>Color information for the via was successfully changed.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1816784"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1816786"></a>Color information for the via was not changed or an error occurred. </p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1816788"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1816789"></a>; Set environment.</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1816790"></a>w = dbOpenCellViewByType(&quot;lib&quot; &quot;design&quot; &quot;layout&quot; &quot;maskLayout&quot; &quot;w&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1816791"></a>cv = w-&gt;cellView</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1816792"></a>tf = techGetTechFile(cv)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1816793"></a>techCreateLayer(tf 1 &quot;M1&quot;)<br />techCreateLayer(tf 2 &quot;M2&quot;)<br />techCreateLayer(tf 3 &quot;V0&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1816794"></a>; Make the metal layers colorable.</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1816795"></a>techSetLayerNumColorMasks(tf &quot;M1&quot; 2) <br />techSetLayerNumColorMasks(tf &quot;M2&quot; 2)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1816796"></a>vd = techCreateStdViaDef(tf &quot;std&quot; &quot;M1&quot; &quot;M2&quot;<br />                         list(&quot;V0&quot; 1 1 1) list(1 1 &#39;(1 1))<br />                         &#39;(1 1) &#39;(1 1) &#39;(1 1) &#39;(1 1) &#39;(1 1))</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1816797"></a>v1 = dbCreateVia(cv vd 5:0 &quot;R0&quot;)<br />v2 = dbCreateVia(cv vd 10:0 &quot;R0&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1816798"></a>; Set color information for v1 and v2.</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1816799"></a>dbSetViaColorInfo(v1 list(&quot;noColor&quot; nil) list(&quot;shift1&quot; t) nil)<br />dbSetViaColorInfo(v2 list(&quot;noShift&quot; t) nil nil)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1816800"></a>; Check results.</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1816801"></a>dbGetViaLayerControl(v1 &quot;layer1&quot;)&#160;&#160;           ;  =&gt; &quot;noColor&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1816802"></a>dbIsViaColorStateLayerLocked(v1 &quot;layer1&quot;)&#160;&#160;   ;  =&gt; nil</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1816803"></a>dbGetViaLayerControl(v1 &quot;layer2&quot;)&#160;&#160;           ;  =&gt; &quot;shift1&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1816804"></a>dbIsViaColorStateLayerLocked(v1 &quot;layer2&quot;)&#160;&#160;   ;  =&gt; t</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1816805"></a>dbGetViaLayerControl(v1 &quot;cutLayer&quot;)&#160;&#160;         ;  =&gt; &quot;noShift&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1816806"></a>dbIsViaColorStateLayerLocked(v1 &quot;cutLayer&quot;)&#160;&#160; ;&#160;&#160;=&gt; nil</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1816807"></a></pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1816808"></a>dbGetViaLayerControl(v2 &quot;layer1&quot;)&#160;&#160;           ;  =&gt; &quot;noShift&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1816809"></a>dbIsViaColorStateLayerLocked(v2 &quot;layer1&quot;)&#160;&#160;   ;  =&gt; t</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1816810"></a>dbGetViaLayerControl(v2 &quot;layer2&quot;)&#160;&#160;           ;  =&gt; &quot;noColor&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1816811"></a>dbIsViaColorStateLayerLocked(v2 &quot;layer2&quot;)&#160;&#160;   ;  =&gt; nil</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1816812"></a>dbGetViaLayerControl(v2 &quot;cutLayer&quot;)&#160;&#160;         ;  =&gt; &quot;noShift&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1816813"></a>dbIsViaColorStateLayerLocked(v2 &quot;cutLayer&quot;)&#160;&#160; ;&#160;&#160;=&gt; nil</pre>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbIsTrackPatternColored

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1776822"></a><a name="70398"></a>dbIsTrackP<a name="dbIsTrackPatternColored"></a>atternColored</h3>
<a name="pgfId-1742863"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbIsTrackPatternColored(
<code><em>d_trackPatternId
</em></code>)
=&gt; t / nil</pre>

<h4>
<a name="pgfId-1742865"></a>Description</h4>

<p>
<a name="pgfId-1742867"></a>(ICADVM20.1 Only) Returns a Boolean value that indicates whether the first track of the specified track pattern is colored in a color other than gray.</p>
<p>
<a name="pgfId-1783548"></a>(ICADVM20.1 Only) To color the track pattern, use <a href="mpt.html#30204">dbSetTrackPatternFirstTrackColor</a> or <a href="mpt.html#99460">dbSetTrackPatternColorAlternating</a>.</p>



<h4>
<a name="pgfId-1742873"></a>Arguments</h4>
<table class="webflareTable" id="#id1742868">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742870"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_trackPatternId</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742872"></a>Specifies the track pattern ID</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1742883"></a>Value Returned</h4>
<table class="webflareTable" id="#id1742874">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742876"></a><code>t</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742878"></a>Returns <code>t</code> if the track pattern is colored </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742880"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742882"></a>Returns <code>nil</code> if the track pattern is not colored or an error occurs during execution</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1742884"></a>Examples</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742886"></a>dbIsTrackPatternColored( dbCreateTrackPattern( cvId t 100 10 10 &quot;M1&quot;) ) =&gt; nil</pre>

<p>
<a name="pgfId-1799003"></a>Creates a track pattern, then checks for coloring on the track pattern. Newly created track patterns are not colored.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1799045"></a>tpID = dbCreateTrackPattern( cvId t 100 10 10 &quot;M1&quot;) )<br />dbSetTrackPatternFirstTrackColor( tpID &quot;mask2Color&quot; )<br />dbIsTrackPatternColored( tpID ) =&gt; t</pre>

<p>
<a name="pgfId-1799024"></a>Creates a track pattern, then sets the first track color to <code>mask2Color</code>, which makes the track pattern colored.</p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbIsTrackPatternColorAlternating

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1742894"></a><a name="90544"></a>dbIsTrackPattern<a name="dbIsTrackPatternColorAlternating"></a>ColorAlternating</h3>
<a name="pgfId-1742895"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbIsTrackPatternColorAlternating(
<code><em>d_trackPatternId
</em></code>)
=&gt; t / nil</pre>

<h4>
<a name="pgfId-1742897"></a>Description</h4>

<p>
<a name="pgfId-1742898"></a>(ICADVM20.1 Only) Returns a Boolean value indicating whether the coloring for the specified track pattern is alternating.</p>



<h4>
<a name="pgfId-1742905"></a>Arguments</h4>
<table class="webflareTable" id="#id1742900">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742902"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_trackPatternId</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742904"></a>Specifies the track pattern ID</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1742915"></a>Value Returned</h4>
<table class="webflareTable" id="#id1742906">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742908"></a><code>t</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742910"></a>Returns <code>t </code>if the track pattern coloring is alternating. </p>
<div class="webflare-information-macro webflare-macro-note">
<a name="pgfId-1832724"></a>Newly created track patterns are alternating by default, even though they are not colored.</div>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742912"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742914"></a>Returns <code>nil</code> if the track pattern coloring is not alternating or if there is an error</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1742916"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742917"></a>dbIsTrackPatternColorAlternating( coloredAltTrackPattern ) =&gt; t</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742918"></a>dbIsTrackPatternColorAlternating( coloredAllSameTrackPattern ) =&gt; nil</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742919"></a>dbIsTrackPatternColorAlternating( dbCreateTrackPattern( cvId t 100 10 10 &quot;M1&quot;) ) =&gt; t</pre>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbIsTrackPatternColoringAllowed

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1742928"></a><a name="11578"></a>dbIsTrackPatternC<a name="dbIsTrackPatternColoringAllowed"></a>oloringAllowed</h3>
<a name="pgfId-1742929"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbIsTrackPatternColoringAllowed(
<code><em>d_trackPatternId
</em></code>)
=&gt; t / nil</pre>

<h4>
<a name="pgfId-1742931"></a>Description</h4>

<p>
<a name="pgfId-1742932"></a>(ICADVM20.1 Only) Returns a Boolean indicating whether the specified track pattern can be colored. Only track patterns with specified track layer can be colored.</p>



<h4>
<a name="pgfId-1742939"></a>Arguments</h4>
<table class="webflareTable" id="#id1742934">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742936"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_trackPatternId</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742938"></a>Specifies the track pattern ID that you want to check</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1742949"></a>Value Returned</h4>
<table class="webflareTable" id="#id1742940">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742942"></a><code>t</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742944"></a>Returns <code>t</code> if the track pattern can be colored</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742946"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742948"></a>Returns <code>nil</code> if the track pattern cannot be colored or an error occurs during execution</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1742950"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742951"></a>dbIsTrackPatternColoringAllowed( dbCreateTrackPattern( cvId t 100 10 10 &quot;M1&quot;) ) =&gt; t</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742952"></a>dbIsTrackPatternColoringAllowed( dbCreateTrackPattern( cvId t 100 10 10) ) =&gt; nil</pre>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbGetTrackPatternFirstTrackColor

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1742961"></a><a name="84199"></a>dbGetTrackPatter<a name="dbGetTrackPatternFirstTrackColor"></a>nFirstTrackColor</h3>
<a name="pgfId-1742962"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbGetTrackPatternFirstTrackColor(
<code><em>d_trackPatternId
</em></code>)
=&gt; <code><em>t_maskColor</em></code> / nil</pre>

<h4>
<a name="pgfId-1742964"></a>Description</h4>

<p>
<a name="pgfId-1742966"></a>(ICADVM20.1 Only) Returns the color assigned to the first track of the specified track pattern. Default color type is <code>grayColor</code>.</p>



<h4>
<a name="pgfId-1742972"></a>Arguments</h4>
<table class="webflareTable" id="#id1742967">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742969"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_trackPatternId</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742971"></a>Specifies the track pattern ID</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1742982"></a>Value Returned</h4>
<table class="webflareTable" id="#id1742973">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742975"></a><span class="webflare-courier-new" style="white-space:pre"><em>t_maskColor</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742977"></a>Returns a string representing the color assigned to the first track of the specified track pattern. Possible values are <code>&quot;grayColor&quot;</code>, <code>&quot;mask1Color&quot;</code>, <code>&quot;mask2Color&quot;</code>, <code>&quot;mask3Color&quot;</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742979"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1742981"></a>Returns <code>nil</code> if the color is cannot be returned or an error occurs during execution.</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1742983"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742984"></a>dbSetTrackPatternFirstTrackColor( layerBlockage &quot;mask1Color&quot; ) =&gt; t</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1742985"></a>dbGetTrackPatternFirstTrackColor( layerBlockage ) =&gt; &quot;mask1Color&quot;</pre>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbSetTrackPatternFirstTrackColor

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1742993"></a><a name="30204"></a>dbSetTrackPatternFirstTrack<a name="dbSetTrackPatternFirstTrackColor"></a>Color</h3>
<a name="pgfId-1742994"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbSetTrackPatternFirstTrackColor(
<code><em>d_trackPatternId
t_maskColor
</em></code>)
=&gt; t / nil</pre>

<h4>
<a name="pgfId-1742996"></a>Description</h4>

<p>
<a name="pgfId-1742998"></a>(ICADVM20.1 Only) Assigns a color to the first track of the specified track pattern.</p>
<p>
<a name="pgfId-1742999"></a>It is an error to assign color to the first track of the track pattern that cannot be colored.</p>



<h4>
<a name="pgfId-1743009"></a>Arguments</h4>
<table class="webflareTable" id="#id1743000">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743002"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_trackPatternId</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743004"></a>Specifies the track pattern ID</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743006"></a><span class="webflare-courier-new" style="white-space:pre"><em>t_maskColor</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743008"></a>Specifies a string representing color to be assigned to the first track of the specified track pattern. Possible values are <code>&quot;grayColor&quot;</code>, <code>&quot;mask1Color&quot;</code>, <code>&quot;mask2Color&quot;</code>, <code>&quot;mask3Color&quot;</code> </p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1743019"></a>Value Returned</h4>
<table class="webflareTable" id="#id1743010">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743012"></a><code>t</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743014"></a>Returns <code>t</code> if the color is successfully assigned to the first track</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743016"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743018"></a>Returns <code>nil</code> if the color is not assigned to the first track or an error occurs during execution</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1743020"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1743021"></a>dbSetTrackPatternFirstTrackColor( trackPatternWithoutTrackLayer &quot;mask1Color&quot; ) =&gt; nil</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1743023"></a>dbSetTrackPatternFirstTrackColor( trackPattern &quot;mask1Color&quot; ) =&gt; t</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1743024"></a>dbGetTrackPatternFirstTrackColor( trackPattern ) =&gt; &quot;mask1Color&quot; </pre>

<p>
<a name="pgfId-1852145"></a></p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbSetTrackPatternColorAlternating

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1743033"></a><a name="99460"></a>dbSetTrackPattern<a name="dbSetTrackPatternColorAlternating"></a>ColorAlternating</h3>
<a name="pgfId-1743034"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbSetTrackPatternColorAlternating(
<code><em>d_trackPatternId
g_isAlternating
</em></code>)
=&gt; t / nil</pre>

<h4>
<a name="pgfId-1743036"></a>Description</h4>

<p>
<a name="pgfId-1743038"></a>(ICADVM20.1 Only) Sets the coloring type of the track pattern.</p>



<h4>
<a name="pgfId-1743048"></a>Arguments</h4>
<table class="webflareTable" id="#id1743039">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743041"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_trackPatternId</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743043"></a>Specifies the track pattern ID</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743045"></a><span class="webflare-courier-new" style="white-space:pre"><em>g_isAlternating</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743047"></a>Specifies whether the same color should be used for all tracks in the pattern (<code>nil</code>) or the track pattern should cycle through the colors for the layer (<code>t</code>). The default is <code>t</code>.</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1743058"></a>Value Returned</h4>
<table class="webflareTable" id="#id1743049">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743051"></a><code>t</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743053"></a>Returns <code>t</code> if the specified coloring type is successfully set</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743055"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743057"></a>Returns <code>nil</code> if the coloring type is not set</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1743059"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1743060"></a>dbSetTrackPatternColorAlternating( trackPattern nil ) =&gt; t</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1743061"></a>dbIsTrackPatternColorAlternating( trackPattern ) =&gt; nil</pre>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbCreateSameMaskGroup

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1743069"></a><a name="60919"></a>dbCreateSame<a name="dbCreateSameMaskGroup"></a>MaskGroup</h3>
<a name="pgfId-1743070"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbCreateSameMaskGroup(
<code><em>d_cellView
t_groupName
</em></code>)
=&gt; <code><em>d_group </em></code>/ nil</pre>

<h4>
<a name="pgfId-1743072"></a>Description</h4>

<p>
<a name="pgfId-1743074"></a>(ICADVM20.1 Only) Creates a same-mask, color shape group (<span class="webflare-courier-new" style="white-space:pre"><em>d_group</em></span>) in the specified cellview with the given name. The name must be unique amongst all same-mask groups in the cellview. You can only add shapes to the resulting group. </p>
<p>
<a name="pgfId-1743075"></a>A same-mask, color shape group allows the user to specify a group of shapes on a layer that must be on the same color mask.</p>


<div class="webflare-information-macro webflare-macro-note">
<a name="pgfId-1849267"></a>The same mask groups created by the <code>dbCreateSameMaskGroup</code> function are protected by default. They cannot be returned in collections (for example, <code>cv~&gt;groups</code>). </div>



<h4>
<a name="pgfId-1743085"></a>Arguments</h4>
<table class="webflareTable" id="#id1743076">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743078"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_cellView</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743080"></a>Specifies the cellview ID</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743082"></a><span class="webflare-courier-new" style="white-space:pre"><em>t_groupName</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743084"></a>Specifies the name of a group that is to be created</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1743095"></a>Value Returned</h4>
<table class="webflareTable" id="#id1743086">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743088"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_group</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743090"></a>Returns the ID of the diff-mask group created</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743092"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743094"></a>Returns <code>nil</code> if an error occurs during execution</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1743096"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1743097"></a>groupMC1 = dbCreateSameMaskGroup( cvId &quot;MC1Group&quot; )</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1743098"></a>dbAddObjectToGroup( groupMC1 rectM1 )</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1743099"></a>dbAddObjectToGroup( groupMC1 circleM3 )</pre>


<h4><em>
<a name="pgfId-1849305"></a>Related Information</em></h4>

<p>
<a name="pgfId-1849331"></a><a href="mpt.html#97650">dbGetSameMaskDiffMaskGroups</a></p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbCreateDiffMaskGroup

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1743109"></a><a name="64422"></a>dbCreateD<a name="dbCreateDiffMaskGroup"></a>iffMaskGroup</h3>
<a name="pgfId-1743110"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbCreateDiffMaskGroup(
<code><em>d_cellView
t_groupName
d_sameMaskGroup1
d_sameMaskGroup2
</em></code>)
=&gt; <code><em>d_group </em></code>/ nil</pre>

<h4>
<a name="pgfId-1743112"></a>Description</h4>

<p>
<a name="pgfId-1743114"></a>(ICADVM20.1 Only) Creates a diff-mask, color shape group (<code>d_group</code>) in the specified cellview with a pair of same-mask color shape groups and with the given name. The name must be unique amongst all diff-mask groups in the cellview. </p>
<p>
<a name="pgfId-1743115"></a>A diff-mask, color shape group allows you to specify that the two same-mask color shapes must be on different color masks. </p>



<h4>
<a name="pgfId-1743133"></a>Arguments</h4>
<table class="webflareTable" id="#id1743116">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743118"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_cellView</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743120"></a>Specifies the cellview ID</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743122"></a><span class="webflare-courier-new" style="white-space:pre"><em>t_groupName</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743124"></a>Specifies the name of a group that is to be created</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743126"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_sameMaskGroup1</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743128"></a>Specifies the first group from the pair of groups of the shapes (of different colors)</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743130"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_sameMaskGroup2</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743132"></a>Specifies the second group from the pair of groups of the shapes (of different colors)</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1743143"></a>Value Returned</h4>
<table class="webflareTable" id="#id1743134">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743136"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_group</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743138"></a>Returns the ID of the diff-mask group created</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743140"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743142"></a>Returns <code>nil</code> if an error occurs during execution</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1743144"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1743145"></a>groupMC1 = dbCreateSameMaskGroup( cvId &quot;MC1Group&quot; )</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1743146"></a>dbAddObjectToGroup( groupMC1 rectM1 )</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1743147"></a>dbAddObjectToGroup( groupMC1 circleM3 )</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1743148"></a></pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1743149"></a>groupMC2 = dbCreateSameMaskGroup( cvId &quot;MC2Group&quot; )</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1743150"></a>dbAddObjectToGroup( groupMC2 rectM2 )</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1743151"></a></pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1743152"></a>groupDMC = dbCreateDiffMaskGroup( cvId &quot;DMCGroup&quot; groupMC1 groupMC2 )</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1743153"></a></pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1743154"></a>groupMC3 = dbCreateSameMaskGroup( cvId &quot;MC3Group&quot; )</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1743155"></a>dbAddObjectToGroup( groupMC3 polygonM1 )</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1743156"></a></pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1743157"></a>dbAddObjectToGroup( groupDMC groupMC3 )</pre>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbGetSameMaskDiffMaskGroups

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1743166"></a><a name="dbGetSameMaskDiffMaskGroups"></a><a name="97650"></a>dbGetSameMaskDiffMaskGroups</h3>
<a name="pgfId-1743168"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbGetSameMaskDiffMaskGroups(
<code><em>d_sameMaskGroupId
</em></code>)
=&gt; <code><em>l_listofGroups</em></code> / nil</pre>

<h4>
<a name="pgfId-1743169"></a>Description</h4>

<p>
<a name="pgfId-1743171"></a>(ICADVM20.1 Only) Accepts an object with the same mask color group as a parameter and returns a list of all groups of type &#39;diffMaskColor&#39;. </p>



<h4>
<a name="pgfId-1743177"></a>Arguments</h4>
<table class="webflareTable" id="#id1743172">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743174"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_sameMaskGroupId</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743176"></a>An object of the same mask color group</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1743187"></a>Value Returned</h4>
<table class="webflareTable" id="#id1743178">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743180"></a><span class="webflare-courier-new" style="white-space:pre"><em>l_listofGroups</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1783151"></a>Returns a list of all groups of type &#39;diffMaskColor&#39;</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743184"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1783153"></a>Returns <code>nil</code> if no groups of type &#39;diffMaskColor&#39; exist or error occurs during execution</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1743188"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1743189"></a>dbGetSameMaskDiffMaskGroups(groupId) <br />=&gt; (db:0x32fadc1c) </pre>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbGetShapeSameMaskGroups

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1743199"></a><a name="31396"></a>dbG<a name="dbGetShapeSameMaskGroups"></a>etShapeSameMaskGroups</h3>
<a name="pgfId-1743201"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbGetShapeSameMaskGroups(
<code><em>d_shapeId
</em></code>)
=&gt; <code><em>l_listofGroups</em></code> / nil</pre>

<h4>
<a name="pgfId-1743202"></a>Description</h4>

<p>
<a name="pgfId-1743204"></a>(ICADVM20.1 Only) Accepts the object of the shape for which you want to retrieve a list of all groups of type &#39;sameMaskColor&#39;. </p>



<h4>
<a name="pgfId-1743210"></a>Arguments</h4>
<table class="webflareTable" id="#id1743205">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743207"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_shapeId</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1833763"></a>Specifies the shape ID.</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1743220"></a>Value Returned</h4>
<table class="webflareTable" id="#id1743211">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743213"></a><span class="webflare-courier-new" style="white-space:pre"><em>l_listofGroups</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1783155"></a>Returns a list of all groups of type &#39;sameMaskColor&#39;</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743217"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1783157"></a>Returns <code>nil</code> if no groups of type &#39;sameMaskColor&#39; exist or error occurs during execution</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1743221"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1743222"></a>dbGetShapeSameMaskGroups(rectId) <br />=&gt; (db:0x32fadc1c) </pre>

<p>
<a name="pgfId-1858492"></a></p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbColorShapeQuery

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1743232"></a><a name="34843"></a>dbColorSh<a name="dbColorShapeQuery"></a>apeQuery</h3>
<a name="pgfId-1743233"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbColorShapeQuery( 
<code><em>d_cellViewId
l_layerPurposePair
l_bBox
</em></code>[ <code><em>x_startLevel</em></code> ]
[ <code><em>x_stopLevel</em></code> ]
[ <code><em>n_filterSize</em></code> ]
[ <code><em>l_transform</em></code> ]
)
=&gt; <code><em>l_shapeColorPairs</em></code> / nil</pre>

<h4>
<a name="pgfId-1743235"></a>Description</h4>

<p>
<a name="pgfId-1743237"></a>(ICADVM20.1 Only) Returns a list of all shapes and their effective color, where the bounding boxes of the shapes overlap the region specified by <span class="webflare-courier-new" style="white-space:pre"><em>l_bBox</em></span>. </p>


<div class="webflare-information-macro webflare-macro-note">
<a name="pgfId-1743238"></a>The effective color of a shape is the color after applying any hierarchical shifting that may be specified at different levels of the design hierarchy. This effective color may not be the color assigned to the shape.</div>
<div class="webflare-information-macro webflare-macro-information">
<a name="pgfId-1743239"></a>
Query of objects is based on the open hierarchy level. Only cellviews that are currently open will be searched. To ensure that all shapes are returned in a query list, <code>dbOpenHier</code> can be used to load all required cellviews. </div>



<h4>
<a name="pgfId-1743270"></a>Arguments</h4>
<table class="webflareTable" id="#id1743240">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743242"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_cellviewId</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743244"></a>Specifies the cellview ID</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743246"></a><span class="webflare-courier-new" style="white-space:pre"><em>l_layerPurposePair</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743248"></a>Specifies the layer-purpose pair</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743250"></a><span class="webflare-courier-new" style="white-space:pre"><em>l_bBox</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743252"></a>Specifies the region that should overlap bounding boxes of all returned shapes</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743254"></a><span class="webflare-courier-new" style="white-space:pre"><em>x_startLevel</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743256"></a>Specifies the level of the design hierarchy in which to start the querying process. If the startLevel argument is not specified, the start level defaults to 0.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743258"></a><span class="webflare-courier-new" style="white-space:pre"><em>x_stopLevel</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743260"></a>Specifies the level of the design hierarchy in which to stop the querying process. If the stopLevel argument is not specified, the stop level defaults to maximum hierarchy depth.</p>
<p>
<a name="pgfId-1743261"></a>The query will stop prior to x_stopLevel if it encounters a cellview which is not currently loaded.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743263"></a><span class="webflare-courier-new" style="white-space:pre"><em>n_filterSize</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743265"></a>Specifies the shapes filter size. The query produces only shapes with a size larger than the filterSize. If no filterSize argument is specified, the blockage filter size defaults to 0.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743267"></a><span class="webflare-courier-new" style="white-space:pre"><em>l_transform</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743269"></a>Describes the initial transformation to be used during the region querying process, such as offset, rotation, and/or magnification. If no transform argument is specified, the initial formation defaults to offset (0,0),and orientation R0.</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1743280"></a>Value Returned</h4>
<table class="webflareTable" id="#id1743271">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743273"></a><span class="webflare-courier-new" style="white-space:pre"><em>l_shapeColorPairs</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743275"></a>Returns a list of pairs (shape ID, shape color)</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743277"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743279"></a>Returns <code>nil</code> if an error occurs during execution</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1743281"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1743282"></a>dbColorShapeQuery( cvId &#39;(&quot;M1&quot; &quot;drawing&quot;) &#39;((0 0) (100 100)) )</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a name="pgfId-1743283"></a>=&gt; ((sh1Id &quot;mask1Color&quot;) (sh2Id &quot;grayColor&quot;))</pre>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbGetIntegrationColorModel

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1743291"></a><a name="52137"></a>dbGetIntegr<a name="dbGetIntegrationColorModel"></a>ationColorModel</h3>
<a name="pgfId-1743292"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbGetIntegrationColorModel(
<code><em>d_cellViewId
</em></code>)
=&gt; <code><em>t_integType</em></code> / nil</pre>

<h4>
<a name="pgfId-1743294"></a>Description</h4>

<p>
<a name="pgfId-1743295"></a>(ICADVM20.1 Only) Returns a string value of the <em>integration color model</em> constraint for the specified cellview. Possible values are <code>any</code> or <code>locked</code>. </p>



<h4>
<a name="pgfId-1743302"></a>Arguments</h4>
<table class="webflareTable" id="#id1743297">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743299"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_cellViewId</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743301"></a>Specifies the cellview ID</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1743312"></a>Value Returned</h4>
<table class="webflareTable" id="#id1743303">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743305"></a><span class="webflare-courier-new" style="white-space:pre"><em>t_integType</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743307"></a>Returns a string value representing the integration color model constraint for specified cellview</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743309"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743311"></a>Returns <code>nil</code> if an error occurs during execution</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1743313"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1743314"></a>dbGetIntegrationColorModel( cvId ) </pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1743315"></a>=&gt; &quot;locked&quot;</pre>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbGetColorModel

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1743324"></a><a name="19594"></a>dbGetCol<a name="dbGetColorModel"></a>orModel</h3>
<a name="pgfId-1743325"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbGetColorModel(
<code><em>d_cellViewId
</em></code>)
=&gt; <code><em>t_type</em></code> / nil</pre>

<h4>
<a name="pgfId-1743327"></a>Description</h4>

<p>
<a name="pgfId-1743328"></a>(ICADVM20.1 Only) Returns a string value of the <em>color model</em> constraint for the specified cellview. Possible values are <code>any</code>, <code>layerBased</code>, or <code>locked</code>. </p>



<h4>
<a name="pgfId-1743335"></a>Arguments</h4>
<table class="webflareTable" id="#id1743330">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743332"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_cellViewId</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743334"></a>Specifies the cellview ID</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1743345"></a>Value Returned</h4>
<table class="webflareTable" id="#id1743336">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743338"></a><span class="webflare-courier-new" style="white-space:pre"><em>t_type</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743340"></a>Returns a string value representing the color model constraint for specified cellview</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743342"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743344"></a>Returns <code>nil</code> if an error occurs during execution</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1743346"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1743347"></a>dbSetColorModel( cvId &quot;layerBased&quot; ) ; setting the color model constraint</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1743348"></a>=&gt; t</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1743349"></a>dbGetColorModel( cvId ) ; retrieving the color model constraint</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1743350"></a>=&gt; &quot;layerBased&quot; </pre>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbSetIntegrationColorModel

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1743358"></a><a name="11294"></a>dbSetIntegratio<a name="dbSetIntegrationColorModel"></a>nColorModel</h3>
<a name="pgfId-1743359"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbSetIntegrationColorModel(
<code><em>d_cellViewId
t_integType
</em></code>)
=&gt; t / nil</pre>

<h4>
<a name="pgfId-1743361"></a>Description</h4>

<p>
<a name="pgfId-1743362"></a>(ICADVM20.1 Only) Sets the value of the <em>integration color model</em> constraint for the specified cellview. Possible values are <code>any</code> or <code>locked</code>.</p>



<h4>
<a name="pgfId-1743373"></a>Arguments</h4>
<table class="webflareTable" id="#id1743364">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743366"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_cellViewId</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743368"></a>Specifies the cellview ID</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743370"></a><span class="webflare-courier-new" style="white-space:pre"><em>t_integType</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743372"></a>Specifies the value of the integration <em>color model</em> constraint you want to set</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1743383"></a>Value Returned</h4>
<table class="webflareTable" id="#id1743374">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743376"></a><code>t</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743378"></a>Returns <code>t</code> if the value is successfully set</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743380"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743382"></a>Returns <code>nil</code> if an error occurs during execution</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1743384"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1743385"></a>dbSetIntegrationColorModel( cvId &quot;any&quot; ) =&gt; t</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1743386"></a></pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1743387"></a>dbSetIntegrationColorModel( cvId &quot;layerBased&quot; ) =&gt; nil&#160;&#160; ; no &quot;layerBased&quot; integration color model</pre>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbSetColorModel

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1743396"></a><a name="17246"></a>dbSetCo<a name="dbSetColorModel"></a>lorModel</h3>
<a name="pgfId-1743397"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbSetColorModel(
<code><em>d_cellViewId
t_type
</em></code>)
=&gt; t / nil</pre>

<h4>
<a name="pgfId-1743399"></a>Description</h4>

<p>
<a name="pgfId-1743401"></a>(ICADVM20.1 Only) Sets the value of the <em>color model</em> constraint for the specified cellview. It specifies how you want the contents of the block to be color-shifted. Possible values are <code>any</code>, <code>layerBased</code>, or <code>locked</code>. </p>



<h4>
<a name="pgfId-1743411"></a>Arguments</h4>
<table class="webflareTable" id="#id1743402">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743404"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_cellViewId</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743406"></a>Specifies the cellview ID</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743408"></a><span class="webflare-courier-new" style="white-space:pre"><em>t_type</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743410"></a>Specifies the value of the <em>color model</em> constraint you want to set</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1743421"></a>Value Returned</h4>
<table class="webflareTable" id="#id1743412">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743414"></a><code>t</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743416"></a>Returns <code>t</code> if the value is successfully set</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743418"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743420"></a>Returns <code>nil</code> if an error occurs during execution</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1743422"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1743423"></a>dbSetColorModel( cvId &quot;layerBased&quot; ) </pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1743424"></a>=&gt; t</pre>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbRemoveLayerColorData

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1743433"></a><a name="57252"></a>dbRemov<a name="dbRemoveLayerColorData"></a>eLayerColorData</h3>
<a name="pgfId-1743434"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbRemoveLayerColorData(
<code><em>d_cellViewId
t_layerName
g_locked
</em></code>[ <code><em>g_via g_hcl g_instColorShift g_blockage g_trackPattern</em></code> ]
)
=&gt; t / nil</pre>

<h4>
<a name="pgfId-1743436"></a>Description</h4>

<p>
<a name="pgfId-1818121"></a>(ICADVM20.1 Only) Removes the color data from the specified layer in the given cellview. By default, all color data is removed. You can optionally preserve the via color data, hierarchical color locks, layer shift information, blockage color data, and track pattern color data.</p>



<h4>
<a name="pgfId-1743458"></a>Arguments</h4>
<table class="webflareTable" id="#id1743439">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743441"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_cellViewId</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743443"></a>ID of the cellview.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743445"></a><span class="webflare-courier-new" style="white-space:pre"><em>t_layerName</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743447"></a>Name of the layer.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743449"></a><span class="webflare-courier-new" style="white-space:pre"><em>g_locked</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743451"></a>If <code>t</code>, removes the layer color data regardless of the locked color state.</p>
<p>
<a name="pgfId-1743452"></a>If <code>nil</code>, the locked shapes and vias on that layer are not affected.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1816928"></a><span class="webflare-courier-new" style="white-space:pre"><em>g_via</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1816930"></a>(Default) If <code>t</code>, removes the via color data.</p>
<p>
<a name="pgfId-1816931"></a>If <code>nil</code>, the via color data is not affected.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1816944"></a><span class="webflare-courier-new" style="white-space:pre"><em>g_hcl</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1816946"></a>(Default) If <code>t</code>, removes the hierarchical color locks.</p>
<p>
<a name="pgfId-1816947"></a>If <code>nil</code>, the hierarchical color locks are not affected.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1816949"></a><span class="webflare-courier-new" style="white-space:pre"><em>g_instColorShift</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1816951"></a>(Default) If <code>t</code>, removes the layer shift information for the cellview.</p>
<p>
<a name="pgfId-1816952"></a>If <code>nil</code>, the layer shift information for the cellview is not affected.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1816968"></a><span class="webflare-courier-new" style="white-space:pre"><em>g_blockage</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1816970"></a>(Default) If <code>t</code>, removes the blockage color data.</p>
<p>
<a name="pgfId-1816971"></a>If <code>nil</code>, the blockage color data is not affected.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743454"></a><span class="webflare-courier-new" style="white-space:pre"><em>g_trackPattern</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743456"></a>(Default) If <code>t</code>, removes the track pattern color data.</p>
<p>
<a name="pgfId-1743457"></a>If <code>nil</code>, the track pattern color data is not affected.</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1743468"></a>Value Returned</h4>
<table class="webflareTable" id="#id1743459">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743461"></a><code>t</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743463"></a>Returns <code>t</code> if the color data is successfully removed.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743465"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1743467"></a>Returns <code>nil</code> in case of a failure.</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1743469"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1743470"></a>dbRemoveLayerColorData( cv &quot;M1&quot; t ) <br />&gt; t</pre>

<p>
<a name="pgfId-1817002"></a>Removes all the color data from the <code>M1</code> layer of the <code>cv</code> cellview.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1817012"></a>dbRemoveLayerColorData( cv &quot;M1&quot; t t t t t nil )</pre>

<p>
<a name="pgfId-1817026"></a>Removes all the color data from the <code>M1</code> layer of the <code>cv</code> cellview, except the track pattern color data.</p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbColorShapeQuery2

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1744784"></a><a name="22943"></a>dbColorShap<a name="dbColorShapeQuery2"></a>eQuery2</h3>
<a name="pgfId-1744786"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbColorShapeQuery2( 
<code><em>d_cellViewId
l_layerPurposePair
l_bBox
</em></code>[ <code><em>x_startLevel</em></code> ]
[ <code><em>x_stopLevel</em></code> ]
[ <code><em>n_filterSize</em></code> ]
[ <code><em>l_transform</em></code> ]
)
=&gt; <code><em>l_occShapesWithColorAndState</em></code> / nil</pre>

<h4>
<a name="pgfId-1744787"></a>Description</h4>

<p>
<a name="pgfId-1744789"></a>(ICADVM20.1 Only) Returns a list of shapes and occurrence shapes within a given region, and the coloring information for each shape. The coloring information includes the color, whether the color is locked, and whether the coloring is due to the color attribute or hierarchical color locking on the shape.</p>



<h4>
<a name="pgfId-1744790"></a>Arguments</h4>
<table class="webflareTable" id="#id1744791">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1744793"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_cellViewId</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1744795"></a>ID of the cellview.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1744797"></a><span class="webflare-courier-new" style="white-space:pre"><em>l_layerPurposePair</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1744799"></a>List of layer-purpose pairs.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1744801"></a><span class="webflare-courier-new" style="white-space:pre"><em>l_bBox</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1744803"></a>List of coordinates representing a bounding box.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1744805"></a><span class="webflare-courier-new" style="white-space:pre"><em>x_startLevel</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1744807"></a>The start hierarchy level for the query.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1744809"></a><span class="webflare-courier-new" style="white-space:pre"><em>x_stopLevel</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1744811"></a>The stop hierarchy level for the query.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1744813"></a><span class="webflare-courier-new" style="white-space:pre"><em>n_filterSize</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1744815"></a>The filter size for shapes.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1744817"></a><span class="webflare-courier-new" style="white-space:pre"><em>l_transform</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1744819"></a>The transform applied on the query.</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1744821"></a>Value Returned</h4>
<table class="webflareTable" id="#id1744822">
<tbody><tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a name="pgfId-1815738"></a><span class="webflare-courier-new" style="white-space:pre"><em>l_occShapesWithColorAndState</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1815742"></a> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1815744"></a><code>((</code><span class="webflare-courier-new" style="white-space:pre"><em>l_occShape</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>t_color</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>b_state b_isHCL</em></span><code>)...)<br /></code>A list of elements.</p>

<ul><li>
<a name="pgfId-1815745"></a><span class="webflare-courier-new" style="white-space:pre"><em>l_occShape</em></span><code> 
</code>is 
<code>list(</code><span class="webflare-courier-new" style="white-space:pre"><em>l_hierPath d_shapeId</em></span><code>)
</code>The hierarchical path to a shape.

where, <ul><li>
<a name="pgfId-1815747"></a><span class="webflare-courier-new" style="white-space:pre"><em>l_hierPath
</em></span>is
<code>list((</code><span class="webflare-courier-new" style="white-space:pre"><em>d_refId </em></span><code>| </code><span class="webflare-courier-new" style="white-space:pre"><em>l_mosaicElem</em></span><code>)&#8230;)
</code>where,<ul><li>
<a name="pgfId-1815749"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_refId
</em></span>The database ID of the non-mosaic instance or via.</li><li>
<a name="pgfId-1815750"></a><span class="webflare-courier-new" style="white-space:pre"><em>l_mosaicElem
</em></span>is
<code>list(</code><span class="webflare-courier-new" style="white-space:pre"><em>d_mosaicId x_row x_col</em></span><code>)
</code>Represents a mosaic element in the hierarchy path. 

where,
<span class="webflare-courier-new" style="white-space:pre"><em>d_mosaicId
</em></span>The database ID of the mosaic instance.
<span class="webflare-courier-new" style="white-space:pre"><em>x_row
</em></span>Row in which <span class="webflare-courier-new" style="white-space:pre"><em>d_shapeId</em></span> occurs inside this mosaic instance.
<span class="webflare-courier-new" style="white-space:pre"><em>x_col
</em></span>Column in which <span class="webflare-courier-new" style="white-space:pre"><em>d_shapeId</em></span> occurs inside this mosaic instance.</li></ul></li></ul></li><li>
<a name="pgfId-1815755"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_shapeId
</em></span>The database ID of the shape.</li></ul>







</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1744824"></a><span class="webflare-courier-new" style="white-space:pre"><em> </em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<ul><li>
<a name="pgfId-1783169"></a><span class="webflare-courier-new" style="white-space:pre"><em>t_color
</em></span>Name of the color mask (&quot;<code>grayColor</code>&quot;, &quot;<code>mask1Color</code>&quot;, &quot;<code>mask2Color</code>&quot;, &quot;<code>mask3Color</code>&quot;, <code>&quot;mask4Color&quot;</code>, <code>&quot;mask5Color&quot;</code>, <code>&quot;mask6Color&quot;</code>, <code>&quot;mask7Color&quot;</code>, or <code>&quot;mask8Color&quot;</code>).</li><li>
<a name="pgfId-1783170"></a><span class="webflare-courier-new" style="white-space:pre"><em>b_state</em></span> 
A Boolean value that determines whether the color of the shape is locked.</li><li>
<a name="pgfId-1744834"></a><span class="webflare-courier-new" style="white-space:pre"><em>b_isHCL
</em></span>A Boolean value that specifies whether the shape color is due to color attribute (<code>nil</code>) or hierarchical color locking (<code>t</code>).</li></ul>



</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1744836"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1744838"></a>Returned in case of failure.</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1744840"></a>Examples</h4>


<h4><em>
<a name="pgfId-1815769"></a>Example 1</em></h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1783192"></a>dbColorShapeQuery2(cv list(&quot;Metal1&quot; &quot;drawing&quot;) css()~&gt;bBox)<br />((((db:0x2edfd01a) db:0x56190228) &quot;grayColor&quot; nil nil)<br /> (((db:0x2edfd01a) db:0x5619022f) &quot;mask1Color&quot; t nil)<br /> (((db:0x2edfd01a) db:0x56190236) &quot;mask2Color&quot; t t)<br />)</pre>

<p>
<a name="pgfId-1783228"></a>Returns the list of <code>Metal1:drawing</code> shapes in the selected Pcell along with the information for each shape about its color, locked state, and whether the color is due to color attribute or hierarchical color locking (HCL). In the figure below, three shapes are reported. The first shape is not colored, the second is locked on <code>mask1Color</code> but not due to HCL, and the third is locked on <code>mask2Color</code> due to HCL.</p>


<p>
<a name="pgfId-1783246"></a></p>
<div class="webflare-div-image">
<img width="668" height="198" src="images/mpt-3.gif" /></div>



<h4><em>
<a name="pgfId-1797141"></a>Example 2</em></h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1815779"></a>(defun <strong>asNested</strong> (l)<br />   (if (cdr l) then<br />      (list (car l) (asNested (cdr l)))<br />   else<br />      l<br />   )  ; if<br />)&#160;&#160;; defun</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1815793"></a>occShapes = dbColorShapeQuery2( geGetEditCellView() <br />                                list( &quot;M1&quot; )<br />                                geGetEditCellView()~&gt;bBox )</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1815794"></a>foreach(occShape occShapes<br />   hierPathTransform = dbGetInstTransform( asNested( caar( occShape ) ) )<br />   printf(&quot; -- %L -- transform : %L \n&quot; car(occShape) hierPathTransform )<br />); foreach</pre>

<p>
<a name="pgfId-1815795"></a>Converts the hierarchical path output from <code>dbColorShapeQuery2</code> using the <strong>asNested</strong> function to the format accepted by <code>dbGetInstTransform</code>. The following is sample output for this example:</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1815796"></a> -- ((db:0x18c5e31a db:0x18c5de1a) db:0x18c5df9c) -- transform : ((1.9 2.0) &quot;R0&quot; 1.0) <br /> -- ((db:0x18c5d39a) db:0x18c5df9c) -- transform : ((1.9 2.04) &quot;R0&quot; 1.0)</pre>

<p>
<a name="pgfId-1858563"></a>Prints information for the <code>M1</code> occurrence shapes in the current edit cellview and the concatenated transform for each shape. The <code>asNested</code> function converts the dbColorShapeQuery2 output to the input format required by dbGetInstTransform.</p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbGetColoredOccShapes

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1744870"></a><a name="dbGetColoredOccShapes"></a><a name="46165"></a>dbGetColoredOccShapes</h3>
<a name="pgfId-1744871"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbGetColoredOccShapes( 
<code><em>d_refId 
</em></code>[ <code><em>b_lockedOnly </em></code>]<code><em> 
</em></code>)
=&gt; <code><em>l_occShapesWithColorAndState</em></code> / nil</pre>

<h4>
<a name="pgfId-1744873"></a>Description</h4>

<p>
<a name="pgfId-1744875"></a>(ICADVM20.1 Only) Generates a list of all the occurrence shapes, associated with the specified instance or via, that were colored due to hierarchical color locking. If the optional argument <span class="webflare-courier-new" style="white-space:pre"><em>b_lockedOnly</em></span> is <code>t</code>, only the locked colored occurrence shapes are included.</p>


<div class="webflare-information-macro webflare-macro-note">
<a name="pgfId-1744876"></a>This query can be used by the abutment-aware PDK codes.</div>



<h4>
<a name="pgfId-1744877"></a>Arguments</h4>
<table class="webflareTable" id="#id1744878">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1744880"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_refId</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1744882"></a>ID of an instance or a via.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1744884"></a><span class="webflare-courier-new" style="white-space:pre"><em>b_lockedOnly</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1750875"></a>A Boolean value that determines whether only the locked colored occurrence shapes are returned. </p>
<p>
<a name="pgfId-1744887"></a>When set to <code>t</code>, returns only the locked colored occurrence shapes. When set to <code>nil</code>, returns all the colored occurrence shapes. Valid values are <code>t</code> and <code>nil</code>. The default value is <code>nil</code>.</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1744889"></a>Value Returned</h4>
<table class="webflareTable" id="#id1744890">
<tbody><tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a name="pgfId-1783272"></a><span class="webflare-courier-new" style="white-space:pre"><em>l_occShapesWithColorAndState</em></span></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1783282"></a> </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1783294"></a><code>((</code><span class="webflare-courier-new" style="white-space:pre"><em>l_occShape</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>t_color</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>b_state</em></span><code>)...)<br /></code>A list of elements.</p>

<ul><li>
<a name="pgfId-1849922"></a><span class="webflare-courier-new" style="white-space:pre"><em>l_occShape</em></span><code> 
</code>is 
<code>list(</code><span class="webflare-courier-new" style="white-space:pre"><em>l_hierPath d_shapeId</em></span><code>)
</code>The hierarchical path to a shape.

where, <ul><li>
<a name="pgfId-1815823"></a><span class="webflare-courier-new" style="white-space:pre"><em>l_hierPath
</em></span>is
<code>list((</code><span class="webflare-courier-new" style="white-space:pre"><em>d_refId </em></span><code>| </code><span class="webflare-courier-new" style="white-space:pre"><em>l_mosaicElem</em></span><code>)&#8230;)
</code>where,<ul><li>
<a name="pgfId-1815825"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_refId
</em></span>The database ID of the non-mosaic instance or via.</li><li>
<a name="pgfId-1815826"></a><span class="webflare-courier-new" style="white-space:pre"><em>l_mosaicElem
</em></span>is
<code>list(</code><span class="webflare-courier-new" style="white-space:pre"><em>d_mosaicId x_row x_col</em></span><code>)
</code>Represents a mosaic element in the hierarchy path. 

where,
<span class="webflare-courier-new" style="white-space:pre"><em>d_mosaicId
</em></span>The database ID of the mosaic instance.
<span class="webflare-courier-new" style="white-space:pre"><em>x_row
</em></span>Row in which <span class="webflare-courier-new" style="white-space:pre"><em>d_shapeId</em></span> occurs inside this mosaic instance.
<span class="webflare-courier-new" style="white-space:pre"><em>x_col
</em></span>Column in which <span class="webflare-courier-new" style="white-space:pre"><em>d_shapeId</em></span> occurs inside this mosaic instance.</li></ul></li></ul></li></ul>




</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1849962"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<ul><li>
<a name="pgfId-1815831"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_shapeId
</em></span>The database ID of the shape.</li><li>
<a name="pgfId-1783301"></a><span class="webflare-courier-new" style="white-space:pre"><em>t_color
</em></span>Name of the color mask (&quot;<code>mask1Color</code>&quot;, &quot;<code>mask2Color</code>&quot;, or &quot;<code>mask3Color</code>&quot;, <code>&quot;mask4Color&quot;</code>, <code>&quot;mask5Color&quot;</code>, <code>&quot;mask6Color&quot;</code>, <code>&quot;mask7Color&quot;</code>, or <code>&quot;mask8Color&quot;</code>).</li><li>
<a name="pgfId-1783302"></a><span class="webflare-courier-new" style="white-space:pre"><em>b_state
</em></span>A Boolean value that determines whether the color of the shape is locked.</li></ul>



</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1783290"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1783304"></a>Returned in case of failure and when there are no colored occurrence shapes that meet the criteria and are a result of hierarchical color locking.</p>
</td>
</tr>
</tbody></table>

<p>
<a name="pgfId-1849960"></a>Examples</p>



<h4><em>
<a name="pgfId-1815861"></a>Example 1</em></h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1744912"></a>dbGetColoredOccShapes(css())<br />((((db:0x4d715a9a) db:0x25c6a81f) &quot;mask1Color&quot; t)<br /> (((db:0x4d715a9a) db:0x25c6a824) &quot;mask1Color&quot; t)<br /> (((db:0x4d715a9a) db:0x25c6a947) &quot;mask2Color&quot; t)<br /> (((db:0x4d715a9a) db:0x25c6a84c) &quot;mask2Color&quot; t)<br />)</pre>

<p>
<a name="pgfId-1744913"></a>Queries the current Pcell in the figure below. Returns four colored shapes found: two of the terminals have <code>mask2Color</code> from hierarchical color locking while the other two have <code>mask1Color</code> from hierarchical color locking.</p>


<p>
<a name="pgfId-1744917"></a></p>
<div class="webflare-div-image">
<img src="images/dbGetColoredOccShapes.gif" /></div>



<h4><em>
<a name="pgfId-1744918"></a>Example 2</em></h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1815871"></a>dbGetColoredOccShapes(css())<br />nil</pre>

<p>
<a name="pgfId-1744919"></a>In the figure below, none of the terminals is colored, so the query returns <code>nil</code>.</p>


<p>
<a name="pgfId-1744923"></a></p>
<div class="webflare-div-image">
<img src="images/dbGetColoredOccShapes3.gif" /></div>



<h4><em>
<a name="pgfId-1744924"></a>Example 3</em></h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1744925"></a>dbGetColoredOccShapes(css())<br />nil</pre>

<p>
<a name="pgfId-1744926"></a>In the figure below, the middle terminal is locked to <code>mask1Color</code> through the CDF parameter, not by hierarchical color locking, so it is not reported when the function is run.</p>


<p>
<a name="pgfId-1852511"></a></p>
<div class="webflare-div-image">
<img src="images/dbGetColoredOccShapes4.gif" /></div>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbGetShapeEffectiveColor

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->








<h3>
<a name="pgfId-1792481"></a><a name="dbGetShapeEffectiveColor"></a><a name="25444"></a>dbGetShapeEffectiveColor</h3>
<a name="pgfId-1792483"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbGetShapeEffectiveColor( 
<code><em>l_occShape 
</em></code>)
=&gt; <code><em>l_colorAndColorState</em></code> / nil</pre>

<h4>
<a name="pgfId-1792484"></a>Description</h4>

<p>
<a name="pgfId-1792486"></a>(ICADVM20.1 Only) Implements a query for individual colored shapes. This function takes an occurrence shape (a list consisting of the absolute hierarchical path and the master shape) as an argument. It returns the color of the shape and two Boolean values that indicate whether the color state is locked and whether it was colored by hierarchical color locking.</p>


<div class="webflare-information-macro webflare-macro-note">
<a name="pgfId-1820134"></a>This function cannot be used for flat (non-hierarchical) shapes. Use <a href="mpt.html#22780">dbGetShapeColor</a> and <a href="mpt.html#52157">dbIsShapeColorLocked</a> for non-hierarchical shapes.</div>

<p>
<a name="pgfId-1792487"></a>To get a list of shapes and occurrence shapes within a given region, and the coloring information for each shape, see <a href="mpt.html#22943">dbColorShapeQuery2</a>.</p>




<h4>
<a name="pgfId-1792506"></a>Arguments</h4>
<table class="webflareTable" id="#id1792491">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1792493"></a><span class="webflare-courier-new" style="white-space:pre"><em>l_occShape</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1792495"></a><code>list(</code><span class="webflare-courier-new" style="white-space:pre"><em>l_hierPath d_shapeId</em></span><code>)<br /></code>where, </p>

<ul><li>
<a name="pgfId-1792497"></a><span class="webflare-courier-new" style="white-space:pre"><em>l_hierPath
</em></span>is
<code>list((</code><span class="webflare-courier-new" style="white-space:pre"><em>d_refId </em></span><code>| </code><span class="webflare-courier-new" style="white-space:pre"><em>l_mosaicElem</em></span><code>)&#8230;)
</code>where,<ul><li>
<a name="pgfId-1792606"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_refId
</em></span>The database ID of the non-mosaic instance or via.</li><li>
<a name="pgfId-1792681"></a><span class="webflare-courier-new" style="white-space:pre"><em>l_mosaicElem
</em></span>is
<code>list(</code><span class="webflare-courier-new" style="white-space:pre"><em>d_mosaicId x_row x_col</em></span><code>)
</code>Represents a mosaic element in the hierarchy path. 

where,<ul><li>
<a name="pgfId-1792704"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_mosaicId
</em></span>The database ID of the mosaic instance.</li><li>
<a name="pgfId-1792705"></a><span class="webflare-courier-new" style="white-space:pre"><em>x_row
</em></span>Row in which <span class="webflare-courier-new" style="white-space:pre"><em>d_shapeId</em></span> occurs inside this mosaic instance.</li><li>
<a name="pgfId-1792667"></a><span class="webflare-courier-new" style="white-space:pre"><em>x_col
</em></span>Column in which <span class="webflare-courier-new" style="white-space:pre"><em>d_shapeId</em></span> occurs inside this mosaic instance.</li></ul></li></ul></li><li>
<a name="pgfId-1848660"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_shapeId
</em></span>The database ID of the shape.</li></ul>









</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1792520"></a>Value Returned</h4>
<table class="webflareTable" id="#id1792507">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1792509"></a><span class="webflare-courier-new" style="white-space:pre"><em>l_colorAndColorState</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1792511"></a><code>(</code><span class="webflare-courier-new" style="white-space:pre"><em>t_color</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>b_isLocked</em></span><code> </code><span class="webflare-courier-new" style="white-space:pre"><em>b_isHCL</em></span><code>)<br /></code>A list of elements.</p>
<p>
<a name="pgfId-1792512"></a>where,</p>

<ul><li>
<a name="pgfId-1792513"></a><span class="webflare-courier-new" style="white-space:pre"><em>t_color
</em></span>Name of the color mask (<code>&quot;grayColor&quot;</code>, <code>&quot;mask1Color&quot;</code>, <code>&quot;mask2Color&quot;</code>,<code> &quot;mask3Color&quot;</code>, <code>&quot;mask4Color&quot;</code>,<code> &quot;mask5Color&quot;</code>, <code>&quot;mask6Color&quot;</code>,<code> &quot;mask7Color&quot;</code>, or <code>&quot;mask8Color&quot;</code>)</li><li>
<a name="pgfId-1792514"></a><span class="webflare-courier-new" style="white-space:pre"><em>b_isLocked</em></span> 
A Boolean value that determines whether the color of the shape is locked.</li><li>
<a name="pgfId-1792515"></a><span class="webflare-courier-new" style="white-space:pre"><em>b_isHCL
</em></span>A Boolean value that specifies whether the shape color is due to the color attribute (<code>nil</code>) or hierarchical color locking (<code>t</code>).</li></ul>



</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1792517"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1792519"></a>Returned in case of failure.</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1792521"></a>Examples</h4>


<h4><em>
<a name="pgfId-1820181"></a>Example 1&#8211;Printing color information for shapes in a mosaic</em></h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1792522"></a>cv = dbOpenCellView(&quot;lib&quot; &quot;top&quot; &quot;layout&quot;)<br />mosaic = dbFindMosaicByName(cv &quot;M1&quot;)<br />foreach(shape mosaic-&gt;master-&gt;shapes<br />   hierPath = list(list(mosaic 1 0))<br />   occShape = list(hierPath shape)<br />   colorInfo = dbGetShapeEffectiveColor(occshape)<br />   printf(&quot;color=%s, isLocked=%L, isHCL=%L\n&quot; <br />           car(colorInfo) cadr(colorInfo) caddr(colorInfo)<br />          )<br />   )</pre>

<p>
<a name="pgfId-1792553"></a>Prints hierarchical coloring information (color, color state, and whether coloring is from hierarchical color locking) for each shape in the row 1 and column 0 element of the mosaic <code>M1</code>.</p>



<h4><em>
<a name="pgfId-1820202"></a>Example 2&#8211;Printing color information for hierarchical and non-hierarchical shapes</em></h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1820203"></a>shapes = dbShapeQuery( deGetCellView() list(&quot;M1&quot; &quot;drawing&quot;) list(0:0 0:0) )<br />foreach( occ shapes<br />   if( listp(occ) then<br />      path = reverse(cdr(reverse(occ))) ; gets all elements of the list but last<br />      shape = car(last(occ))<br />      println(dbGetShapeEffectiveColor(list(path shape)))<br />   else<br />      println(list(dbGetShapeColor(occ) dbIsShapeColorLocked(occ)))<br />   ) ; if<br />) ; foreach</pre>

<p>
<a name="pgfId-1820204"></a>Prints coloring information for <code>M1</code> shapes on the <code>drawing</code> purpose. The coloring information is printed by <a href="mpt.html#25444">dbGetShapeEffectiveColor</a> for hierarchical shapes, and by <a href="mpt.html#22780">dbGetShapeColor</a> and <a href="mpt.html#52157">dbIsShapeColorLocked</a> for non-hierarchical shapes.</p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbSetOccShapeColor

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1792733"></a><a name="88004"></a>dbSetOccSh<a name="dbSetOccShapeColor"></a>apeColor</h3>
<a name="pgfId-1792735"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbSetOccShapeColor( 
<code><em>l_occShape
t_color
</em></code>)
=&gt; <code>t</code> / nil</pre>

<h4>
<a name="pgfId-1792736"></a>Description</h4>

<p>
<a name="pgfId-1792738"></a>(ICADVM20.1 Only) Assigns the specified color to the given occurrence shape. You can set the color for occurrence shapes with types <code>Path</code>, <code>PathSeg</code>, <code>Polygon</code>, and <code>Rect</code>. </p>



<h4>
<a name="pgfId-1792758"></a>Arguments</h4>
<table class="webflareTable" id="#id1792739">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1792741"></a><span class="webflare-courier-new" style="white-space:pre"><em>l_occShape</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1792743"></a><code>list(</code><span class="webflare-courier-new" style="white-space:pre"><em>l_hierPath d_shapeId</em></span><code>)<br /></code>where, </p>

<ul><li>
<a name="pgfId-1792745"></a><span class="webflare-courier-new" style="white-space:pre"><em>l_hierPath
</em></span>is
<code>list((</code><span class="webflare-courier-new" style="white-space:pre"><em>d_refId </em></span><code>| </code><span class="webflare-courier-new" style="white-space:pre"><em>l_mosaicElem</em></span><code>)&#8230;)
</code>where,<ul><li>
<a name="pgfId-1792747"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_refId
</em></span>The database ID of the non-mosaic instance or via.</li><li>
<a name="pgfId-1792748"></a><span class="webflare-courier-new" style="white-space:pre"><em>l_mosaicElem
</em></span>is
<code>list(</code><span class="webflare-courier-new" style="white-space:pre"><em>d_mosaicId x_row x_col</em></span><code>)
</code>Represents a mosaic element in the hierarchy path. 

where,<ul><li>
<a name="pgfId-1792750"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_mosaicId
</em></span>The database ID of the mosaic instance.</li><li>
<a name="pgfId-1792751"></a><span class="webflare-courier-new" style="white-space:pre"><em>x_row
</em></span>Row in which <span class="webflare-courier-new" style="white-space:pre"><em>d_shapeId</em></span> occurs inside this mosaic instance.</li><li>
<a name="pgfId-1792752"></a><span class="webflare-courier-new" style="white-space:pre"><em>x_col
</em></span>Column in which <span class="webflare-courier-new" style="white-space:pre"><em>d_shapeId</em></span> occurs inside this mosaic instance.</li></ul></li></ul></li><li>
<a name="pgfId-1792942"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_shapeId
</em></span>The database ID of the shape to be colored.
Supported shapes: <code>Path</code>, <code>PathSeg</code>, <code>Polygon</code>, <code>Rect</code></li></ul>









</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1792755"></a><span class="webflare-courier-new" style="white-space:pre"><em>t_color</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1792757"></a>Name of the color mask (<code>&quot;grayColor&quot;</code>, <code>&quot;mask&lt;</code><span class="webflare-courier-new" style="white-space:pre"><em>mask number</em></span><code>&gt;Color&quot;</code>, where <code>&lt;</code><span class="webflare-courier-new" style="white-space:pre"><em>mask number</em></span><code>&gt;</code> is 1, 2, and so on, up to the number of masks defined in the technology library for the layer). If the color is <code>&quot;grayColor&quot;</code> and there is a hierarchical color lock (HCL) on the occurrence shape, the HCL will be removed if the color state is unlocked.</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1792772"></a>Value Returned</h4>
<table class="webflareTable" id="#id1792759">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1792761"></a><code>t</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a name="pgfId-1792763"></a>Color is assigned to the specified occurrence shape. </p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1792765"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1792767"></a>Returned in case of an error. An error occurs when an attempt is made to:</p>

<ul><li>
<a name="pgfId-1792768"></a>Set the color of the occurrence shape, and the color state of the occurrence shape or the shape is found to be locked. Unlock the color state of the occurrence shape before changing its color. </li><li>
<a name="pgfId-1792769"></a>Set the color mask to <code>&#39;multi&#39;</code> or <code>&#39;black&#39;</code>.</li><li>
<a name="pgfId-1792770"></a>Set the color of an occurrence shape that is on an unbounded layer or on a layer that does not support coloring.</li><li>
<a name="pgfId-1792771"></a>Set the color for occurrence shapes with a type other than <code>Path</code>, <code>PathSeg</code>, <code>Polygon</code>, or <code>Rect</code>.</li></ul>




</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1792773"></a>Examples</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1792774"></a>cv = dbOpenCellViewByType(&quot;tech&quot; &quot;design&quot; &quot;layout&quot; &quot;maskLayout&quot; &quot;w&quot;)<br />top = dbOpenCellViewByType(&quot;tech&quot; &quot;top&quot; &quot;layout&quot; &quot;maskLayout&quot; &quot;w&quot;)<br />inst = dbCreateInst(top cv &quot;InstInTop&quot; &#39;(0 0) &quot;R0&quot;)<br />rect0 = dbCreateRect(cv &#39;(&quot;metal2&quot; &quot;drawing&quot;) &#39;((1 8.6) (5.3 6.6)))<br />path = list(list(inst) rect0)<br />dbSetOccShapeColor(path &quot;mask2Color&quot;) </pre>

<p>
<a name="pgfId-1792775"></a>Creates a one-level occurrence shape <code>rect0</code>, then sets its color to <code>mask2Color</code>.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1792776"></a>viaDef_M2_M1 = techFindViaDefByName(tf &quot;M2_M1&quot;)<br />via1t_m2_m1  = dbCreateVia(cv viaDef_M2_M1 10:10 &quot;R0&quot;)<br />path = list(list(via1t_m2_m1) nth(1 via1t_m2_m1~&gt;viaHeader~&gt;master~&gt;shapes))<br />dbSetOccShapeColor(path &quot;mask1Color&quot;)</pre>

<p>
<a name="pgfId-1792777"></a>Creates a via, then sets the color of a randomly picked shape from the via master to <code>mask1Color</code>.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1792778"></a>rect1 = dbCreateRect(cv &#39;(&quot;metal2&quot; &quot;drawing&quot;) &#39;((0 7.6) (4.3 5.6)))<br />mosaic = dbCreateSimpleMosaic(top cv &quot;MosaicInTop&quot; list(0 0) &quot;R0&quot; 2 2 2 2)<br />path = list(list(list(mosaic 1 1)) rect1)<br />dbSetOccShapeColor(path &quot;mask2Color&quot;)<br />dbGetShapeEffectiveColor(path)</pre>

<p>
<a name="pgfId-1792779"></a>Sets the color of the instance of <code>rect1</code> inside the mosaic to <code>mask2Color</code>.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1792780"></a>dbSetOccShapeColor((list(list(inst1 inst2) rect) &quot;mask1Color&quot;)</pre>

<p>
<a name="pgfId-1792781"></a>Sets the color of the <code>rect</code> shapes in the instances given by <code>inst1</code> and <code>inst2</code> to <code>mask1Color</code>.</p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbSetOccShapeColorLocked

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1792790"></a><a name="78864"></a>dbSetOc<a name="dbSetOccShapeColorLocked"></a>cShapeColorLocked</h3>
<a name="pgfId-1792792"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbSetOccShapeColorLocked( 
<code><em>l_occShape
g_setLocked
</em></code>)
=&gt; t / nil</pre>

<h4>
<a name="pgfId-1792793"></a>Description</h4>

<p>
<a name="pgfId-1792795"></a>(ICADVM20.1 Only) Changes the color state of the specified occurrence shape. You can set the color state for occurrence shapes with types <code>Path</code>, <code>PathSeg</code>, <code>Polygon</code>, and <code>Rect</code>.</p>



<h4>
<a name="pgfId-1792817"></a>Arguments</h4>
<table class="webflareTable" id="#id1792796">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1792798"></a><span class="webflare-courier-new" style="white-space:pre"><em>l_occShape</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1792800"></a><code>list(</code><span class="webflare-courier-new" style="white-space:pre"><em>l_hierPath d_shapeId</em></span><code>)</code></p>
<p>
<a name="pgfId-1792801"></a>where, </p>

<ul><li>
<a name="pgfId-1792802"></a><span class="webflare-courier-new" style="white-space:pre"><em>l_hierPath
</em></span>is
<code>list((</code><span class="webflare-courier-new" style="white-space:pre"><em>d_refId </em></span><code>| </code><span class="webflare-courier-new" style="white-space:pre"><em>l_mosaicElem</em></span><code>)&#8230;)
</code>where,<ul><li>
<a name="pgfId-1792804"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_refId
</em></span>The database ID of the non-mosaic instance or via.</li><li>
<a name="pgfId-1792805"></a><span class="webflare-courier-new" style="white-space:pre"><em>l_mosaicElem
</em></span>is
<code>list</code>(<span class="webflare-courier-new" style="white-space:pre"><em>d_mosaicId x_row x_col</em></span><code>)
</code>Represents a mosaic element in the hierarchy path. 

where,<ul><li>
<a name="pgfId-1792920"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_mosaicId
</em></span>The database ID of the mosaic instance.</li><li>
<a name="pgfId-1792921"></a><span class="webflare-courier-new" style="white-space:pre"><em>x_row
</em></span>Row in which <span class="webflare-courier-new" style="white-space:pre"><em>d_shapeId</em></span> occurs inside this mosaic instance.</li><li>
<a name="pgfId-1792908"></a><span class="webflare-courier-new" style="white-space:pre"><em>x_col
</em></span>Column in which <span class="webflare-courier-new" style="white-space:pre"><em>d_shapeId</em></span> occurs inside this mosaic instance.</li></ul></li></ul></li><li>
<a name="pgfId-1831822"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_shapeId
</em></span>The database ID of the shape.
Supported shapes: <code>Path</code>, <code>PathSeg</code>, <code>Polygon</code>, <code>Rect</code></li></ul>









</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1792812"></a><span class="webflare-courier-new" style="white-space:pre"><em>g_setLocked</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a name="pgfId-1792814"></a><code>t|nil</code></p>
<ul><li>
<a name="pgfId-1792815"></a><code>t
</code>The occurrence shape will be <code>locked</code>. </li><li>
<a name="pgfId-1792816"></a><code>nil
</code>The occurrence shape will be <code>unlocked</code>.</li></ul>


</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1792830"></a>Value Returned</h4>
<table class="webflareTable" id="#id1792818">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1792820"></a><code>t</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a name="pgfId-1792822"></a>Color state of the specified occurrence shape is set. </p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1792824"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1792826"></a>Returned in case of an error. An error occurs when an attempt is made to:</p>

<ul><li>
<a name="pgfId-1792827"></a>Set the color state of a non-colorable shape.</li><li>
<a name="pgfId-1792828"></a>Set the color state of an occurrence shape that has color set to <code>&quot;grayColor&quot;</code>. </li><li>
<a name="pgfId-1792829"></a>Set the color state for an occurrence shape with a type other than <code>Path</code>, <code>PathSeg</code>, <code>Polygon</code>, or <code>Rect</code>.</li></ul>



</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1792831"></a>Examples</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1792832"></a>cv = dbOpenCellViewByType(&quot;tech&quot; &quot;design&quot; &quot;layout&quot; &quot;maskLayout&quot; &quot;w&quot;)<br />top = dbOpenCellViewByType(&quot;tech&quot; &quot;top&quot; &quot;layout&quot; &quot;maskLayout&quot; &quot;w&quot;)<br />inst = dbCreateInst(top cv &quot;InstInTop&quot; &#39;(0 0) &quot;R0&quot;)<br />rect0 = dbCreateRect(cv &#39;(&quot;metal2&quot; &quot;drawing&quot;) &#39;((1 8.6) (5.3 6.6)))<br />path = list(list(inst) rect0)<br />dbSetOccShapeColor(path &quot;mask1Color&quot;)<br />dbSetOccShapeColorLocked(path t) </pre>

<p>
<a name="pgfId-1792833"></a>Creates a one-level occurrence shape <code>rect0</code>, then sets it color to <code>mask1Color</code> and locks the color.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1792834"></a>viaDef_M2_M1 = techFindViaDefByName(tf &quot;M2_M1&quot;)<br />via1t_m2_m1 = dbCreateVia(cv viaDef_M2_M1 10:10 &quot;R0&quot;)<br />path = list(list(via1t_m2_m1) nth(1 via1t_m2_m1~&gt;viaHeader~&gt;master~&gt;shapes))<br />dbSetOccShapeColor(path &quot;mask2Color&quot;)<br />dbSetOccShapeColorLocked(path t)</pre>

<p>
<a name="pgfId-1792866"></a>Creates a via, then sets the color of a randomly picked shape from the via master to <code>mask2Color</code> and locks the color.</p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbGetHierColorOverride

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1805826"></a><a name="42892"></a>db<a name="dbGetHierColorOverride"></a>GetHierColorOverride</h3>
<a name="pgfId-1805828"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbGetHierColorOverride( 
<code><em>l_occShape 
</em></code>)
=&gt; <code><em>l_occShapeHCL</em></code> / nil</pre>

<h4>
<a name="pgfId-1805829"></a>Description</h4>

<p>
<a name="pgfId-1805831"></a>(ICADVM20.1 Only) Returns the occurrence shape with the topmost hierarchical color lock that defines the effective color of the given occurrence shape. <code>nil</code> is returned if the effective color of the given occurrence shape is not defined by a hierarchical color lock.</p>



<h4>
<a name="pgfId-1805850"></a>Arguments</h4>
<table class="webflareTable" id="#id1805832">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1805834"></a><span class="webflare-courier-new" style="white-space:pre"><em>l_occShape</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1805836"></a><code>list(</code><span class="webflare-courier-new" style="white-space:pre"><em>l_hierPath d_shapeId</em></span><code>)</code></p>
<p>
<a name="pgfId-1805837"></a>where, </p>

<ul><li>
<a name="pgfId-1805838"></a><span class="webflare-courier-new" style="white-space:pre"><em>l_hierPath
</em></span>is
<code>list((</code><span class="webflare-courier-new" style="white-space:pre"><em>d_refId </em></span><code>| </code><span class="webflare-courier-new" style="white-space:pre"><em>l_mosaicElem</em></span><code>)&#8230;)
</code>where,<ul><li>
<a name="pgfId-1805840"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_refId
</em></span>The database ID of the non-mosaic instance or via.</li><li>
<a name="pgfId-1805841"></a><span class="webflare-courier-new" style="white-space:pre"><em>l_mosaicElem
</em></span>is
<code>list(</code><span class="webflare-courier-new" style="white-space:pre"><em>d_mosaicId x_row x_col</em></span><code>)
</code>Represents a mosaic element in the hierarchy path. 

where,<ul><li>
<a name="pgfId-1805843"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_mosaicId
</em></span>The database ID of the mosaic instance.</li><li>
<a name="pgfId-1805844"></a><span class="webflare-courier-new" style="white-space:pre"><em>x_row
</em></span>Row in which <span class="webflare-courier-new" style="white-space:pre"><em>d_shapeId</em></span> occurs inside this mosaic instance.</li><li>
<a name="pgfId-1805845"></a><span class="webflare-courier-new" style="white-space:pre"><em>x_col
</em></span>Column in which <span class="webflare-courier-new" style="white-space:pre"><em>d_shapeId</em></span> occurs inside this mosaic instance.</li></ul></li></ul></li><li>
<a name="pgfId-1805849"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_shapeId
</em></span>The database ID of the shape.</li></ul>









</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1805861"></a>Value Returned</h4>
<table class="webflareTable" id="#id1805851">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1805853"></a><span class="webflare-courier-new" style="white-space:pre"><em>l_occShapeHCL</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1805855"></a><code>list(</code><span class="webflare-courier-new" style="white-space:pre"><em>l_hierPath d_shapeId</em></span><code>)</code></p>
<p>
<a name="pgfId-1805856"></a>List representing an occurrence shape using the same format as the input argument (<span class="webflare-courier-new" style="white-space:pre"><em>l_occShape</em></span>).</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1805858"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1805860"></a>There is no hierarchical color lock that defines the effective color for the given shape or there was an error in processing (for example, the occurrence does not exist).</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1805862"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1805863"></a>bot=dbOpenCellViewByType(&quot;tech&quot; &quot;bot&quot; &quot;layout&quot; &quot;maskLayout&quot; &quot;w&quot;)<br />mid=dbOpenCellViewByType(&quot;tech&quot; &quot;mid&quot; &quot;layout&quot; &quot;maskLayout&quot; &quot;w&quot;)<br />top=dbOpenCellViewByType(&quot;tech&quot; &quot;top&quot; &quot;layout&quot; &quot;maskLayout&quot; &quot;w&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1805864"></a>topToMid = dbCreateInst(top mid &quot;topToMid&quot; &#39;(30 0) &quot;R0&quot;)<br />midToBot = dbCreateInst(mid bot &quot;midToBot&quot; &#39;(0 0) &quot;R0&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1805865"></a>rect = dbCreateRect(bot &#39;(&quot;metal2&quot; &quot;drawing&quot;) &#39;((1 8.6) (5.3 6.6)))<br />dbSetOccShapeColor(list(list(midToBot) rect) &quot;mask1Color&quot;)<br />dbSetOccShapeColorLocked(list(list(midToBot) rect) t)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1805866"></a>hierPath = dbGetHierColorOverride(list(list(topToMid midToBot) rect))</pre>

<p>
<a name="pgfId-1805867"></a>Creates a hierarchical color lock on a shape <code>rect</code> in an instance, then returns the hierarchy path to that shape where the hierarchical color lock is set.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1805868"></a>foreach( l dbColorShapeQuery2(top list(&quot;metal2&quot; &quot;drawing&quot;) top~&gt;bBox )<br />   occShape = car(l)<br />   locked   = caddr(l)<br />   isHCL    = cadddr(l)<br />   when(locked &amp;&amp; isHCL<br />      hcl = dbGetHierColorOverride( occShape )<br />      dbSetOccShapeColorLocked( hcl nil ) <br />      dbSetOccShapeColor( hcl &quot;grayColor&quot; ) </pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1812150"></a>   )<br />)</pre>

<p>
<a name="pgfId-1805869"></a>Removes the color and hierarchical color lock on all the <code>metal2:drawing</code> shapes with a hierarchical color lock in the <code>top</code> cellview.</p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbGetShapeColorLockType

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1833588"></a><a name="48728"></a>dbGetShapeCo<a name="dbGetShapeColorLockType"></a>lorLockType</h3>
<a name="pgfId-1833590"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbGetShapeColorLockType(
<code><em>d_shapeId
</em></code>) 
=&gt; <code><em>t_lockType</em></code> / nil</pre>

<h4>
<a name="pgfId-1833591"></a>Description</h4>

<p>
<a name="pgfId-1833593"></a>(ICADVM20.1 Only) Returns the color lock type assigned to the specified shape. If the shape is not locked, <code>nil</code> is returned. </p>



<h4>
<a name="pgfId-1833612"></a>Arguments</h4>
<table class="webflareTable" id="#id1833594">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1833596"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_shapeId </em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1833806"></a>The database ID of a shape.</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1833623"></a>Value Returned</h4>
<table class="webflareTable" id="#id1833613">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1833615"></a><span class="webflare-courier-new" style="white-space:pre"><em>t_lockType</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a name="pgfId-1833618"></a>Color lock type assigned to the specified shape.</p>
<p>
<a name="pgfId-1833989"></a>Valid values:</p>
<ul><li>
<a name="pgfId-1834006"></a>user
Coloring of the shape is locked and the lock type &quot;system&quot; is not set. </li><li>
<a name="pgfId-1834012"></a>system
Coloring of the shape is locked and the lock type <code>&quot;system&quot;</code> has been set using the <a href="mpt.html#73991">dbSetShapeColorLockType<code></code></a> SKILL function or some other Cadence application. </li></ul>

<p>
<a name="pgfId-1846824"></a>By default, &quot;<code>user&quot;</code> lock type is assigned to locked shapes.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1833620"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1833622"></a>Shape is not locked. </p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1833624"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1834406"></a>shape = css()&#160;&#160;                        </pre>

<p>
<a name="pgfId-1834921"></a>Returns database ID of the currently selected shape.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1834407"></a>dbSetShapeColorLocked(shape nil)&#160;&#160;      </pre>

<p>
<a name="pgfId-1834931"></a>Unlocks the shape color.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1834408"></a>dbSetShapeColor(shape &quot;mask1Color&quot;) </pre>

<p>
<a name="pgfId-1834945"></a>Changes shape color.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1834409"></a>dbGetShapeColorLockType(shape)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1835365"></a>=&gt; nil</pre>

<p>
<a name="pgfId-1835335"></a>Shape color is unlocked.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1834410"></a>dbSetShapeColorLocked(shape t)</pre>

<p>
<a name="pgfId-1835125"></a>Locks the shape color.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1834411"></a>dbGetShapeColorLockType(shape) </pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1835370"></a>=&gt; &quot;user&quot;</pre>

<p>
<a name="pgfId-1835141"></a>Color lock type as <code>user</code>. </p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1834412"></a>dbSetShapeColorLockType(shape &quot;system&quot;) </pre>

<p>
<a name="pgfId-1835155"></a>Changes color lock type to <code>system</code>.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1834413"></a>dbGetShapeColorLockType(shape) </pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1835377"></a>=&gt; &quot;system&quot;</pre>

<p>
<a name="pgfId-1834891"></a>Color lock type is <code>system</code>.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1834414"></a>dbSetShapeColorLockType(shape nil)&#160;&#160;</pre>

<p>
<a name="pgfId-1835243"></a>Unlocks color of the locked shape. Shows that <code>dbSetShapeColorLockType</code> can be used to unlock color of the locked shape.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1835349"></a>dbGetShapeColorLockType(shape)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1835382"></a>=&gt; nil</pre>

<p>
<a name="pgfId-1835307"></a>Shape color is locked.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1834784"></a>dbIsShapeColorLocked(shape)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1835389"></a>=&gt; nil</pre>

<p>
<a name="pgfId-1835391"></a>Confirms that shape color is not locked</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1834417"></a>dbSetShapeColorLockType(shape &quot;system&quot;)</pre>

<p>
<a name="pgfId-1835400"></a>Sets color lock type as <code>system</code> directly on the unlocked shape.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1834419"></a>dbGetShapeColorLockType(shape)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1835436"></a>=&gt; &quot;system&quot;</pre>

<p>
<a name="pgfId-1835444"></a>Color lock type is <code>system</code>.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1833582"></a>dbIsShapeColorLocked(shape) </pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1835459"></a>=&gt; t</pre>

<p>
<a name="pgfId-1835461"></a>Confirms that shape color is locked.</p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbSetShapeColorLockType

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1835605"></a><a name="73991"></a>dbSetShapeC<a name="dbSetShapeColorLockType"></a>olorLockType</h3>
<a name="pgfId-1835606"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbSetShapeColorLockType(
<code><em>d_shapeId
g_lockType
</em></code>) 
=&gt; t / nil</pre>

<h4>
<a name="pgfId-1835607"></a>Description</h4>

<p>
<a name="pgfId-1835608"></a>(ICADVM20.1 Only) Sets the color lock type for the specified shape.</p>



<h4>
<a name="pgfId-1835614"></a>Arguments</h4>
<table class="webflareTable" id="#id1836211">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1835611"></a>d_shapeId </p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1835613"></a>The database ID of a shape.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1835617"></a><span class="webflare-courier-new" style="white-space:pre"><em>g_lockType</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a name="pgfId-1835619"></a>Color lock type to assign to the specified shape.</p>

<p>
<a name="pgfId-1838998"></a>Valid values:</p>

<ul><li>
<a name="pgfId-1838999"></a><code>&quot;user&quot;
</code>Sets coloring of the shape to locked, with lock type <code>&quot;user&quot;</code>. All shapes locked in the older versions of Virtuoso have these lock type.</li><li>
<a name="pgfId-1839000"></a><code>&quot;system&quot;
</code>Sets coloring of the shape to locked, with lock type <code>&quot;system&quot;</code>. This lock type indicates that the shape was locked by an automated coloring tool.</li><li>
<a name="pgfId-1839001"></a><code>nil
</code>Unlocks coloring of the shape and clears information about its lock type.</li></ul>


<p>
<a name="pgfId-1836019"></a>Default value for existing locked shapes is <code>&quot;user&quot;</code></p>

</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1835627"></a>Value Returned</h4>
<table class="webflareTable" id="#id1836197">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1835789"></a><code>t</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a name="pgfId-1835622"></a>Specified lock type is successfully set.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1835624"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1835928"></a>Lock type is not set. </p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1835628"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1836321"></a>shape = css()</pre>

<p>
<a name="pgfId-1836660"></a>Returns database ID of the currently selected shape.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1836322"></a>dbSetShapeColorLocked(shape nil) </pre>

<p>
<a name="pgfId-1836674"></a>Unlocks the shape color.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1836323"></a>dbSetShapeColor(shape &quot;mask1Color&quot;)</pre>

<p>
<a name="pgfId-1835634"></a>Changes shape color.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1836324"></a>dbGetShapeColorLockType(shape)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1836420"></a>=&gt; nil</pre>

<p>
<a name="pgfId-1836724"></a>Shape color is unlocked.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1836325"></a>dbSetShapeColorLocked(shape t)</pre>

<p>
<a name="pgfId-1836442"></a>Locks shape color.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1836326"></a>dbGetShapeColorLockType(shape)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1836484"></a>=&gt; &quot;user&quot;</pre>

<p>
<a name="pgfId-1836794"></a>Color lock type is <code>user</code>.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1836327"></a>dbSetShapeColorLockType(shape &quot;system&quot;) </pre>

<p>
<a name="pgfId-1836503"></a>Changes color lock type to <code>system</code>.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1836328"></a>dbGetShapeColorLockType(shape)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1836510"></a>=&gt; &quot;system&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1836329"></a>dbSetShapeColorLockType(shape nil) </pre>

<p>
<a name="pgfId-1836838"></a>Unlocks color of the locked shape. Shows that <code>dbSetShapeColorLockType</code> can be used to unlock color of the locked shape.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1836331"></a>dbGetShapeColorLockType(shape)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1836597"></a>=&gt; nil</pre>

<p>
<a name="pgfId-1836916"></a>Shape color is unlocked.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1836332"></a>dbIsShapeColorLocked(shape)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1836604"></a>=&gt; nil</pre>

<p>
<a name="pgfId-1836621"></a>Confirms that shape color is unlocked.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1836333"></a>dbSetShapeColorLockType(shape &quot;system&quot;) </pre>

<p>
<a name="pgfId-1836625"></a>Color lock type set directly on unlocked shape using <code>dbSetShapeColorLockType</code>.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1835658"></a>dbGetShapeColorLockType(shape)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1835659"></a>=&gt; &quot;system&quot;</pre>

<p>
<a name="pgfId-1835660"></a>Color lock type is <code>system</code>.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1835661"></a>dbIsShapeColorLocked(shape) </pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1835662"></a>=&gt; t</pre>

<p>
<a name="pgfId-1835601"></a>Confirms that shape color is locked.</p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbGetViaLayerColorLockType

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1837071"></a><a name="28759"></a>dbGetViaLayerCol<a name="dbGetViaLayerColorLockType"></a>orLockType</h3>
<a name="pgfId-1837096"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbGetViaLayerColorLockType(
<code><em>d_viaId 
t_viaLayerType
</em></code>) 
=&gt; <code><em>t_lockType / </em></code>nil</pre>

<h4>
<a name="pgfId-1837033"></a>Description</h4>

<p>
<a name="pgfId-1837034"></a>(ICADVM20.1 Only) Returns the color lock type assigned to the specified via layer. </p>



<h4>
<a name="pgfId-1837169"></a>Arguments</h4>
<table class="webflareTable" id="#id1837164">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1837243"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_viaId</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1837168"></a>The database ID of a via layer.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1837203"></a><span class="webflare-courier-new" style="white-space:pre"><em>t_viaLayerType</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1837263"></a>Specifies the via layer type.</p>
<p>
<a name="pgfId-1837264"></a>Valid values: <code>layer1</code>, <code>layer2</code>, <code>cutLayer</code></p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1837185"></a>Value Returned</h4>
<table class="webflareTable" id="#id1837170">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1837172"></a><span class="webflare-courier-new" style="white-space:pre"><em>t_lockType</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1837174"></a>Color lock type assigned to the specified via layer.</p>
<p>
<a name="pgfId-1837175"></a>Valid values:</p>

<ul><li>
<a name="pgfId-1837176"></a>user
Coloring of the via layer is locked and the lock type &quot;system&quot; is not set. </li><li>
<a name="pgfId-1837177"></a>system
Coloring of the via layer is locked and the lock type &quot;<code>system&quot;</code> has been set using the <a href="mpt.html#23618">dbSetViaLayerColorLockType<code></code></a> SKILL function or some other Cadence application.</li></ul>


</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1837182"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1837290"></a>Via layer is not locked. </p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1837186"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1837041"></a>via = css()</pre>

<p>
<a name="pgfId-1837448"></a>Returns database ID of the currently selected via.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1837042"></a>dbSetViaColorInfo(via</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1837043"></a>                  list(&quot;shift1&quot; nil) </pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1837044"></a>                  nil </pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1837045"></a>                  nil<br />                  )</pre>

<p>
<a name="pgfId-1837499"></a>Sets coloring of via <code>layer1</code> to unlocked <code>shift1</code>.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1837046"></a>dbGetViaLayerLockType(via &quot;layer1&quot;) </pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1837572"></a>=&gt; nil</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1837047"></a>dbSetViaColorStateLayerLocked(via &quot;layer1&quot; t) </pre>

<p>
<a name="pgfId-1837578"></a>Locks color of <code>layer1</code>.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1837048"></a>dbGetViaLayerLockType(via &quot;layer1&quot;) </pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1837617"></a>=&gt; &quot;user&quot;</pre>

<p>
<a name="pgfId-1837620"></a>Lock type for <code>layer1</code> is <code>user</code>. </p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1837049"></a>dbSetViaLayerColorLockType(via &quot;layer1&quot; &quot;system&quot;) </pre>

<p>
<a name="pgfId-1837664"></a>Changes color lock type to <code>system</code>.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1837050"></a>dbGetViaLayerLockType(via &quot;layer1&quot;) </pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1837685"></a>=&gt; &quot;system&quot;</pre>

<p>
<a name="pgfId-1837688"></a>Lock type for <code>layer1</code> is <code>system</code>. </p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1837051"></a>dbSetViaLayerColorLockType(via &quot;layer1&quot; nil)&#160;&#160;</pre>

<p>
<a name="pgfId-1837738"></a>Lock via <code>layer1</code> using dbSetViaLayerColorLockType.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1837053"></a>dbGetViaLayerLockType(via &quot;layer1&quot;)&#160;&#160;      </pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1837748"></a>=&gt; nil</pre>

<p>
<a name="pgfId-1837752"></a>Via <code>layer1</code> is unlocked.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1837054"></a>dbIsViaColorStateLayerLocked(via &quot;layer1&quot;) </pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1838230"></a>=&gt; nil</pre>

<p>
<a name="pgfId-1838233"></a>Confirms that vial layer1 is unlocked.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1837055"></a>dbSetViaColorInfo(via</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1837056"></a>                  list(&quot;noShift&quot; &quot;system&quot;) </pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1837057"></a>                  nil </pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1837058"></a>                  nil)</pre>

<p>
<a name="pgfId-1837755"></a>Sets color lock type <code>system</code> directly on unlocked via <code>layer1</code>. </p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1837059"></a>dbGetViaLayerLockType(via &quot;layer1&quot;) </pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1838308"></a>=&gt; &quot;system&quot;</pre>

<p>
<a name="pgfId-1838318"></a>Lock type for <code>layer1</code> is <code>system</code>. </p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1837029"></a>dbIsViaColorStateLayerLocked(via &quot;layer1&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1837807"></a>=&gt; t</pre>

<p>
<a name="pgfId-1837811"></a>Confirms that via <code>layer1</code> is locked.</p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbSetViaLayerColorLockType

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1838380"></a><a name="23618"></a>dbSetViaLayerCol<a name="dbSetViaLayerColorLockType"></a>orLockType</h3>
<a name="pgfId-1838335"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbSetViaLayerColorLockType(
<code><em>d_viaId
t_viaLayer
g_lockType
</em></code>)
=&gt; t / nil</pre>

<h4>
<a name="pgfId-1838421"></a>Description</h4>

<p>
<a name="pgfId-1838336"></a>(ICADVM20.1 Only) Sets the color lock type for the specified via layer.</p>



<h4>
<a name="pgfId-1838463"></a>Arguments</h4>
<table class="webflareTable" id="#id1839222">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1838455"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_viaId</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1839077"></a>The database ID of a via layer.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1838459"></a><span class="webflare-courier-new" style="white-space:pre"><em>t_viaLayerType</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1838461"></a>Specifies the via layer type.</p>
<p>
<a name="pgfId-1838462"></a>Valid values: <code>layer1</code>, <code>layer2</code>, <code>cutLayer</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1838477"></a><span class="webflare-courier-new" style="white-space:pre"><em>g_lockType</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1838631"></a>Color lock type to assign to the specified via layer.</p>
<p>
<a name="pgfId-1838632"></a>Valid values:</p>

<ul><li>
<a name="pgfId-1838870"></a><code>&quot;user&quot;
</code>Sets coloring of the via layer to locked, with lock type <code>&quot;user&quot;</code>. All via layers locked in the older versions of Virtuoso have these lock type.</li><li>
<a name="pgfId-1838905"></a><code>&quot;system&quot;
</code>Sets coloring of the via layer to locked, with lock type <code>&quot;system&quot;</code>. This lock type indicates that the via layer was locked by an automated coloring tool.</li><li>
<a name="pgfId-1838953"></a><code>nil
</code>Unlocks coloring of the via layer and clears information about its lock type.<br />
<a name="pgfId-1838486"></a>Default value for existing locked via layers is <code>&quot;user&quot;</code></li></ul>




</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1838499"></a>Value Returned</h4>
<table class="webflareTable" id="#id1838490">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1838492"></a><code>t</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a name="pgfId-1838494"></a>Specified lock type is successfully set.</p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1838496"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1838498"></a>Lock type is not set. </p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1838342"></a>Example</h4>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1838719"></a>via = css()</pre>

<p>
<a name="pgfId-1838720"></a>Returns database ID of the currently selected via.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1838721"></a>dbSetViaColorInfo(via</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1838722"></a>                  list(&quot;shift1&quot; nil) </pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1838723"></a>                  nil </pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1838724"></a>                  nil<br />                  )</pre>

<p>
<a name="pgfId-1838725"></a>Sets coloring of via <code>layer1</code> to unlocked <code>shift1</code>.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1838726"></a>dbGetViaLayerLockType(via &quot;layer1&quot;) </pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1838727"></a>=&gt; nil</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1838728"></a>dbSetViaColorStateLayerLocked(via &quot;layer1&quot; t) </pre>

<p>
<a name="pgfId-1838729"></a>Locks color of <code>layer1</code>.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1838730"></a>dbGetViaLayerLockType(via &quot;layer1&quot;) </pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1838731"></a>=&gt; &quot;user&quot;</pre>

<p>
<a name="pgfId-1838732"></a>Lock type for <code>layer1</code> is <code>user</code>. </p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1838733"></a>dbSetViaLayerColorLockType(via &quot;layer1&quot; &quot;system&quot;) </pre>

<p>
<a name="pgfId-1838734"></a>Changes color lock type to <code>system</code>.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1838735"></a>dbGetViaLayerLockType(via &quot;layer1&quot;) </pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1838736"></a>=&gt; &quot;system&quot;</pre>

<p>
<a name="pgfId-1838737"></a>Lock type for <code>layer1</code> is <code>system</code>. </p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1838738"></a>dbSetViaLayerColorLockType(via &quot;layer1&quot; nil)&#160;&#160;</pre>

<p>
<a name="pgfId-1838739"></a>Lock via <code>layer1</code> using dbSetViaLayerColorLockType.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1838740"></a>dbGetViaLayerLockType(via &quot;layer1&quot;)&#160;&#160;      </pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1838741"></a>=&gt; nil</pre>

<p>
<a name="pgfId-1838742"></a>Via <code>layer1</code> is unlocked.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1838743"></a>dbIsViaColorStateLayerLocked(via &quot;layer1&quot;) </pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1838744"></a>=&gt; nil</pre>

<p>
<a name="pgfId-1838745"></a>Confirms that vial layer1 is unlocked.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1838746"></a>dbSetViaColorInfo(via</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1838747"></a>                  list(&quot;noShift&quot; &quot;system&quot;) </pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1838748"></a>                  nil </pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1838749"></a>                  nil)</pre>

<p>
<a name="pgfId-1838750"></a>Sets color lock type <code>system</code> directly on unlocked via <code>layer1</code>. </p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1838751"></a>dbGetViaLayerLockType(via &quot;layer1&quot;) </pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1838752"></a>=&gt; &quot;system&quot;</pre>

<p>
<a name="pgfId-1838753"></a>Lock type for <code>layer1</code> is <code>system</code>. </p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1838754"></a>dbIsViaColorStateLayerLocked(via &quot;layer1&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1838755"></a>=&gt; t</pre>

<p>
<a name="pgfId-1838331"></a>Confirms that via <code>layer1</code> is locked.</p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbCellViewHasUnknownColorLockChanges

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1839339"></a><a name="57049"></a>dbCellViewHasUnkn<a name="dbCellViewHasUnknownColorLockChanges"></a>ownColorLockChanges</h3>
<a name="pgfId-1839361"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbCellViewHasUnknownColorLockChanges( 
<code><em>d_cellViewId</em></code> 
[ <code><em>g_shapes g_vias g_HCLs </em></code>] 
) 
=&gt; t / nil</pre>

<h4>
<a name="pgfId-1839362"></a>Description</h4>

<p>
<a name="pgfId-1839789"></a>(ICADVM20.1 Only) Checks whether any edits were done to the specified type of objects in the older versions of Virtuoso after color lock type information was set for some of them.</p>



<h4>
<a name="pgfId-1839363"></a>Arguments</h4>
<table class="webflareTable" id="#id1839847">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1839849"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_cellViewId</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1839967"></a>Specifies the cellview ID.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1839853"></a><span class="webflare-courier-new" style="white-space:pre"><em>g_shapes</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1839855"></a>A Boolean specifying whether the function should check color lock type of the shapes in the specified cellview.</p>
<p>
<a name="pgfId-1840009"></a>The default is <code>t</code>. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1839857"></a><span class="webflare-courier-new" style="white-space:pre"><em>g_vias</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1839859"></a>A Boolean specifying whether the function should check color lock type of the vias in the cellview.</p>
<p>
<a name="pgfId-1840187"></a>The default is <code>t</code>. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1839861"></a><span class="webflare-courier-new" style="white-space:pre"><em>g_HCLs</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1839863"></a>A Boolean specifying whether the function should check color lock type of the HCLs in the cellview.</p>
<p>
<a name="pgfId-1840202"></a>The default is <code>t</code>. </p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1839370"></a>Value Returned</h4>
<table class="webflareTable" id="#id1839929">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1839931"></a><code>t</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1839933"></a>Specified cellview has objects with unknown edits. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1839935"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1839937"></a>Specified cellview has no objects with unknown edits. </p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1839372"></a>Example</h4>

<p>
<a name="pgfId-1840411"></a>Consider that user1 creates a cellview with color lock type <code>&quot;system&quot;</code> using Virtuoso version ICADVM20.1 Base release. </p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839375"></a>cv = dbOpenCellViewByType(&quot;lib&quot; &quot;a&quot; &quot;layout&quot; &quot;maskLayout&quot; &quot;w&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839376"></a>r&#160;&#160;= dbCreateRect(a &quot;M1&quot; list(0.0:0.0 0.1:0.1))</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839377"></a>dbSetShapeColor(r1 &quot;mask1Color&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839378"></a>dbSetShapeColorLockType(or1 &quot;system&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839379"></a>dbSave(cv)</pre>

<p>
<a name="pgfId-1839380"></a>Next, user2 adds one more shape to this cellview using any advanced nodes Virtuoso release older than ICADV12.3 ISR15 and sends the data back to user1. </p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839383"></a>cv = dbOpenCellViewByType(&quot;lib&quot; &quot;a&quot; &quot;layout&quot; &quot;maskLayout&quot; &quot;a&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839384"></a>r&#160;&#160;= dbCreateRect(a &quot;M2&quot; list(0.2:0.0 0.3:0.1))</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839385"></a>dbSave(cv)</pre>

<p>
<a name="pgfId-1839387"></a>User1 will see that there are unknown changes on object type <code>shapes</code>. </p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1841187"></a>cv = dbOpenCellViewByType(&quot;lib&quot; &quot;a&quot; &quot;layout&quot; &quot;maskLayout&quot; &quot;a&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839390"></a>dbCellViewHasUnknownColorLockChanges(cv) </pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1841066"></a>=&gt; t</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1841069"></a></pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839391"></a>dbCellViewHasUnknownColorLockChanges(cv nil t t) </pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1841060"></a>=&gt; nil</pre>

<p>
<a name="pgfId-1839387"></a>The <code>dbCellViewHasUnknownColorLockChanges</code> function allows any edits on the given object type. Therefore even if user2 did not change any coloring in the cellview, user1 cannot see any changes made by user2.</p>
<p>
<a name="pgfId-1839393"></a>In this scenario, it is recommended to reset all lock types in the cellview:</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839395"></a>dbCellViewResetAllColorLockTypes(cv &quot;system&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839396"></a>dbCellViewHasUnknownColorLockChanges(cv) </pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842285"></a>=&gt; nil</pre>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbGetShapeEffectiveColorLockType

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1839357"></a><a name="86195"></a>dbGetShapeEffective<a name="dbGetShapeEffectiveColorLockType"></a>ColorLockType</h3>
<a name="pgfId-1841270"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbGetShapeEffectiveColorLockType( 
<code><em>l_occShape</em></code> 
) 
=&gt; <code><em>t_colorLockType</em></code> / nil</pre>

<h4>
<a name="pgfId-1839441"></a>Description</h4>

<p>
<a name="pgfId-1841308"></a>(ICADVM20.1 Only) Returns the effective color lock type of the specified occurrence shape. It is either the color lock type of the topmost HCL, returned by <a href="mpt.html#42892"><h-hot>dbGetHierColorOverride</h-hot><code></code></a> or the color lock type of the shape itself.</p>



<h4>
<a name="pgfId-1839443"></a>Arguments</h4>
<table class="webflareTable" id="#id1841411">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1843040"></a><span class="webflare-courier-new" style="white-space:pre"><em>l_occShape</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1843042"></a><code>list(</code><span class="webflare-courier-new" style="white-space:pre"><em>l_hierPath d_shapeId</em></span><code>)</code></p>
<p>
<a name="pgfId-1843043"></a>where, </p>

<ul><li>
<a name="pgfId-1843044"></a><span class="webflare-courier-new" style="white-space:pre"><em>l_hierPath
</em></span>is
<code>list((</code><span class="webflare-courier-new" style="white-space:pre"><em>d_refId </em></span><code>| </code><span class="webflare-courier-new" style="white-space:pre"><em>l_mosaicElem</em></span><code>)&#8230;)
</code>where,<ul><li>
<a name="pgfId-1843046"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_refId
</em></span>The database ID of the non-mosaic instance or via.</li><li>
<a name="pgfId-1843047"></a><span class="webflare-courier-new" style="white-space:pre"><em>l_mosaicElem
</em></span>is
<code>list(</code><span class="webflare-courier-new" style="white-space:pre"><em>d_mosaicId x_row x_col</em></span><code>)
</code>Represents a mosaic element in the hierarchy path.

where,<ul><li>
<a name="pgfId-1843049"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_mosaicId
</em></span>The database ID of the mosaic instance.</li><li>
<a name="pgfId-1843050"></a><span class="webflare-courier-new" style="white-space:pre"><em>x_row
</em></span>Row in which <span class="webflare-courier-new" style="white-space:pre"><em>d_shapeId</em></span> occurs inside this mosaic instance.</li><li>
<a name="pgfId-1843055"></a><span class="webflare-courier-new" style="white-space:pre"><em>x_col
</em></span>Column in which <span class="webflare-courier-new" style="white-space:pre"><em>d_shapeId</em></span> occurs inside this mosaic instance.</li></ul></li></ul></li><li>
<a name="pgfId-1848906"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_shapeId
</em></span>The database ID of the shape.</li></ul>









</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1839446"></a>Value Returned</h4>
<table class="webflareTable" id="#id1841422">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1841424"></a><span class="webflare-courier-new" style="white-space:pre"><em>t_colorLockType</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1841495"></a>Effective color lock type of the specified occurrence shape. </p>
<p>
<a name="pgfId-1841496"></a>Valid values:</p>
<p>
<a name="pgfId-1841497"></a>user<br />Coloring of the via layer is locked. </p>
<p>
<a name="pgfId-1841487"></a>system<br />Coloring of the shape was locked by automated coloring tools.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1841428"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1841430"></a>Color of the shape is unlocked.</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1839451"></a>Example</h4>

<p>
<a name="pgfId-1839452"></a>Create a hierarchy of three cellviews.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839453"></a>a = dbOpenCellViewByType(&quot;lib&quot; &quot;a&quot; &quot;layout&quot; &quot;maskLayout&quot; &quot;w&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839454"></a>b = dbOpenCellViewByType(&quot;lib&quot; &quot;b&quot; &quot;layout&quot; &quot;maskLayout&quot; &quot;w&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839455"></a>c = dbOpenCellViewByType(&quot;lib&quot; &quot;c&quot; &quot;layout&quot; &quot;maskLayout&quot; &quot;w&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839456"></a></pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839457"></a>ibc = dbCreateInst(b c &quot;ibc&quot; 0:0 &quot;R0&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839458"></a>iab = dbCreateInst(a b &quot;iab&quot; 0:0 &quot;R0&quot;)</pre>

<p>
<a name="pgfId-1839460"></a>Create rectangles at two lower levels and color them with HCLs.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839461"></a>r1 = dbCreateRect(c &quot;M1&quot; list(0.0:0.0 0.1:0.1))</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839462"></a>r2 = dbCreateRect(c &quot;M1&quot; list(0.2:0.0 0.3:0.1))</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839463"></a>r3 = dbCreateRect(b &quot;M1&quot; list(0.0:0.2 0.1:0.3))</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839464"></a></pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839465"></a>or1 = list(list(ibc) r1)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839466"></a>dbSetOccShapeColor(or1 &quot;mask1Color&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839467"></a>dbSetOccShapeColorLockType(or1 &quot;user&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839468"></a></pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839469"></a>or2 = list(list(iab ibc) r2)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839470"></a>dbSetOccShapeColor(or2 &quot;mask2Color&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839471"></a>dbSetOccShapeColorLockType(or2 &quot;system&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839472"></a></pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839473"></a>or3 = list(list(iab) r3)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839474"></a>dbSetOccShapeColor(or3 &quot;mask1Color&quot;)</pre>

<p>
<a name="pgfId-1839476"></a>Define a helper function to print <code>occShapes</code>.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839477"></a>defun(humanizeOccShape (occShape)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839478"></a>    when(occShape</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839479"></a>        list(</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839480"></a>            mapcar(lambda((inst) inst-&gt;name) car(occShape))</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839481"></a>            cadr(occShape)-&gt;bBox</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839482"></a>        ) ; cons</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839483"></a>    ) ; when</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839484"></a>) ; defun</pre>

<p>
<a name="pgfId-1839486"></a>Query all occurrences of all <code>M1</code> shapes in the cellview <code>a</code> and print the information about their coloring, including lock type and override.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839488"></a>foreach(l dbColorShapeQuery2(a &quot;M1&quot; a-&gt;bBox)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839489"></a>    occShape = car(l)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839490"></a>    color    = cadr(l)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839491"></a>    lockType = dbGetShapeEffectiveColorLockType(occShape)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839492"></a>    isHCL    = cadddr(l)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839493"></a>    hcl      = when(isHCL dbGetHierColorOverride(occShape))</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839494"></a></pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839495"></a>    printf(&quot;occ shape %L:\n  color=%L\n  lock type=%L\n  set by the override=%L\n&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839496"></a>           humanizeOccShape(occShape) color lockType humanizeOccShape(hcl))</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839497"></a>) ; foreach</pre>

<p>
<a name="pgfId-1839499"></a>The output will be similar to the following:</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839500"></a>occ shape ((&quot;iab&quot;) ((0.0 0.2) (0.1 0.3))):</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839501"></a>  color=&quot;mask1Color&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839502"></a>  lock type=nil</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839503"></a>  set by the override=((&quot;iab&quot;) ((0.0 0.2) (0.1 0.3)))</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839504"></a>occ shape ((&quot;iab&quot; &quot;ibc&quot;) ((0.0 0.0) (0.1 0.1))):</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839505"></a>  color=&quot;mask1Color&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839506"></a>  lock type=&quot;user&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839507"></a>  set by the override=((&quot;ibc&quot;) ((0.0 0.0) (0.1 0.1)))</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839508"></a>occ shape ((&quot;iab&quot; &quot;ibc&quot;) ((0.2 0.0) (0.3 0.1))):</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839509"></a>  color=&quot;mask2Color&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839510"></a>  lock type=&quot;system&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1839511"></a>  set by the override=((&quot;iab&quot; &quot;ibc&quot;) ((0.2 0.0) (0.3 0.1)))</pre>
<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbCellViewResetAllColorLockTypes

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1839437"></a><a name="58973"></a>dbCellViewR<a name="dbCellViewResetAllColorLockTypes"></a>esetAllColorLockTypes</h3>
<a name="pgfId-1841759"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbCellViewResetAllColorLockTypes( 
<code><em>d_cellViewId
t_value 
</em></code><code>[</code><code><em>g_shapes g_vias g_HCLs</em></code>]
) 
=&gt; t / nil</pre>

<h4>
<a name="pgfId-1839570"></a>Description</h4>

<p>
<a name="pgfId-1839571"></a>(ICADVM20.1 Only) Changes color lock type for all color-locked objects of the specified object types to the given value.</p>



<h4>
<a name="pgfId-1841850"></a>Arguments</h4>
<table class="webflareTable" id="#id1841873">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1841875"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_cellViewId</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1841877"></a>Specifies the cellview ID.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1841903"></a><span class="webflare-courier-new" style="white-space:pre"><em>t_value</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1841927"></a>Color lock type to reset the specified objects.</p>
<p>
<a name="pgfId-1841928"></a>Valid values: <code>&quot;user&quot;</code>, <code>&quot;system&quot;</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1841879"></a><span class="webflare-courier-new" style="white-space:pre"><em>g_shapes</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1841881"></a>A Boolean specifying whether the function should reset color lock type of the shapes in the specified cellview.</p>
<p>
<a name="pgfId-1841882"></a>The default is <code>t</code>. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1841884"></a><span class="webflare-courier-new" style="white-space:pre"><em>g_vias</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1841886"></a>A Boolean specifying whether the function should reset color lock type of the vias in the cellview.</p>
<p>
<a name="pgfId-1841887"></a>The default is <code>t</code>. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1841889"></a><span class="webflare-courier-new" style="white-space:pre"><em>g_HCLs</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1841891"></a>A Boolean specifying whether the function should reset color lock type of the HCLs in the cellview.</p>
<p>
<a name="pgfId-1841892"></a>The default is <code>t</code>. </p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1839580"></a>Value Returned</h4>
<table class="webflareTable" id="#id1842076">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1842078"></a>t</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1842080"></a>Color lock type is reset to the specified value for all color-locked objects of the specified object types. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1842082"></a>nil</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1842084"></a>An error occurs. </p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1839585"></a>Example</h4>

<p>
<a name="pgfId-1842289"></a>Consider that user1 creates a cellview with color lock type <code>&quot;system&quot;</code> using Virtuoso version ICADVM20.1 Base release. </p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842290"></a>cv = dbOpenCellViewByType(&quot;lib&quot; &quot;a&quot; &quot;layout&quot; &quot;maskLayout&quot; &quot;w&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842291"></a>r&#160;&#160;= dbCreateRect(a &quot;M1&quot; list(0.0:0.0 0.1:0.1))</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842292"></a>dbSetShapeColor(r1 &quot;mask1Color&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842293"></a>dbSetShapeColorLockType(or1 &quot;system&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842294"></a>dbSave(cv)</pre>

<p>
<a name="pgfId-1842295"></a>Next, user2 adds one more shape to this cellview using any advanced nodes Virtuoso release older than ICADV12.3 ISR15 and sends the data back to user1. </p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842296"></a>cv = dbOpenCellViewByType(&quot;lib&quot; &quot;a&quot; &quot;layout&quot; &quot;maskLayout&quot; &quot;a&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842297"></a>r&#160;&#160;= dbCreateRect(a &quot;M2&quot; list(0.2:0.0 0.3:0.1))</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842298"></a>dbSave(cv)</pre>

<p>
<a name="pgfId-1842299"></a>User1 will see that there are unknown changes on object type <code>shapes</code>. </p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842300"></a>cv = dbOpenCellViewByType(&quot;lib&quot; &quot;a&quot; &quot;layout&quot; &quot;maskLayout&quot; &quot;a&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842301"></a>dbCellViewHasUnknownColorLockChanges(cv) </pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842302"></a>=&gt; t</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842303"></a></pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842304"></a>dbCellViewHasUnknownColorLockChanges(cv nil t t) </pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842305"></a>=&gt; nil</pre>

<p>
<a name="pgfId-1842306"></a>The <code>dbCellViewHasUnknownColorLockChanges</code> function allows any edits on the given object type. Therefore even if user2 did not change any coloring in the cellview, user1 cannot see any changes made by user2.</p>
<p>
<a name="pgfId-1842307"></a>In this scenario, it is recommended to reset all lock types in the cellview:</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842308"></a>dbCellViewResetAllColorLockTypes(cv &quot;system&quot;)</pre>

<p>
<a name="pgfId-1839609"></a>dbCellViewHasUnknownColorLockChanges(cv) <br />=&gt; nil</p>

<!-- [TOPIC_END] -->
  <!--  [TOPIC_START_OPEN]type=cmdref

[TOPIC_START_ATTR]text=dbSetOccShapeColorLockType

[TOPIC_START_ATTR]description=

[TOPIC_START_ATTR]keyword=

[TOPIC_START_CLOSE] -->







<h3>
<a name="pgfId-1839566"></a><a name="18891"></a>dbSetOccSha<a name="dbSetOccShapeColorLockType"></a>peColorLockType</h3>
<a name="pgfId-1842326"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
dbSetOccShapeColorLockType( 
<code><em>l_occShape
g_colorLockType
</em></code>) 
=&gt; t / nil</pre>

<h4>
<a name="pgfId-1839657"></a>Description</h4>

<p>
<a name="pgfId-1842359"></a>(ICADVM20.1 Only) Changes the color lock type of the specified occurrence shape. You can set the color state only for occurrence shapes with the following types: Path, PathSeg, Polygon, and Rect.</p>
<p>
<a name="pgfId-1842365"></a>Error occurs when you try to set the color state:</p>
<ul><li>
<a name="pgfId-1839659"></a>of a non-colorable shape.</li><li>
<a name="pgfId-1839660"></a>if the color of the occurrence shape is gray because it is inconsistent to lock the coloring of an uncolored shape.</li></ul>



<div class="webflare-information-macro webflare-macro-note">
<a name="pgfId-1842458"></a>You can use the <a href="mpt.html#86195">dbGetShapeEffectiveColorLockType</a> function to check the color lock type of a given occShape.</div>



<h4>
<a name="pgfId-1842556"></a>Arguments</h4>
<table class="webflareTable" id="#id1842550">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1843090"></a><span class="webflare-courier-new" style="white-space:pre"><em>l_occShape&#160;&#160;     </em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1843092"></a><code>list(</code><span class="webflare-courier-new" style="white-space:pre"><em>l_hierPath d_shapeId</em></span><code>)</code></p>
<p>
<a name="pgfId-1843093"></a>where, </p>

<ul><li>
<a name="pgfId-1843094"></a><span class="webflare-courier-new" style="white-space:pre"><em>l_hierPath
</em></span>is
<code>list((</code><span class="webflare-courier-new" style="white-space:pre"><em>d_refId </em></span><code>| </code><span class="webflare-courier-new" style="white-space:pre"><em>l_mosaicElem</em></span><code>)&#8230;)
</code>where,<ul><li>
<a name="pgfId-1843096"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_refId
</em></span>The database ID of the non-mosaic instance or via.</li><li>
<a name="pgfId-1843097"></a><span class="webflare-courier-new" style="white-space:pre"><em>l_mosaicElem
</em></span>is
<code>list(</code><span class="webflare-courier-new" style="white-space:pre"><em>d_mosaicId x_row x_col</em></span><code>)
</code>Represents a mosaic element in the hierarchy path. 

where,<ul><li>
<a name="pgfId-1843099"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_mosaicId
</em></span>The database ID of the mosaic instance.</li><li>
<a name="pgfId-1843100"></a><span class="webflare-courier-new" style="white-space:pre"><em>x_row
</em></span>Row in which <span class="webflare-courier-new" style="white-space:pre"><em>d_shapeId</em></span> occurs inside this mosaic instance.</li><li>
<a name="pgfId-1848964"></a><span class="webflare-courier-new" style="white-space:pre"><em>x_col
</em></span>Column in which <span class="webflare-courier-new" style="white-space:pre"><em>d_shapeId</em></span> occurs inside this mosaic instance.</li></ul></li></ul></li><li>
<a name="pgfId-1842555"></a><span class="webflare-courier-new" style="white-space:pre"><em>d_shapeId
</em></span>The database ID of the shape.</li></ul>









</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1842596"></a><span class="webflare-courier-new" style="white-space:pre"><em>g_colorLockType</em></span></p>
<p>
<a name="pgfId-1842586"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1842608"></a>Color lock type to assign to the specified occurrence shape. </p>
<p>
<a name="pgfId-1842609"></a>Valid values:</p>

<ul><li>
<a name="pgfId-1842610"></a>&quot;user&quot;
Coloring of the occurrence shape is locked. </li><li>
<a name="pgfId-1842588"></a>&quot;system&quot;
Coloring of the occurrence shape was locked by automated coloring tools.</li><li>
<a name="pgfId-1842666"></a><code>nil
</code>Color of the occurrence shape is unlocked.</li></ul>



</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1842569"></a>Value Returned</h4>
<table class="webflareTable" id="#id1842557">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1842559"></a><code>t</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1842693"></a>Specified lock type is successfully set.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1842566"></a><code>nil</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a name="pgfId-1842568"></a>Lock type is not set.</p>
</td>
</tr>
</tbody></table>


<h4>
<a name="pgfId-1839675"></a>Example</h4>

<p>
<a name="pgfId-1842728"></a>Create a hierarchy of three cellviews.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842729"></a>a = dbOpenCellViewByType(&quot;lib&quot; &quot;a&quot; &quot;layout&quot; &quot;maskLayout&quot; &quot;w&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842730"></a>b = dbOpenCellViewByType(&quot;lib&quot; &quot;b&quot; &quot;layout&quot; &quot;maskLayout&quot; &quot;w&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842731"></a>c = dbOpenCellViewByType(&quot;lib&quot; &quot;c&quot; &quot;layout&quot; &quot;maskLayout&quot; &quot;w&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842732"></a></pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842733"></a>ibc = dbCreateInst(b c &quot;ibc&quot; 0:0 &quot;R0&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842734"></a>iab = dbCreateInst(a b &quot;iab&quot; 0:0 &quot;R0&quot;)</pre>

<p>
<a name="pgfId-1842735"></a>Create rectangles at two lower levels and color them with HCLs.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842736"></a>r1 = dbCreateRect(c &quot;M1&quot; list(0.0:0.0 0.1:0.1))</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842737"></a>r2 = dbCreateRect(c &quot;M1&quot; list(0.2:0.0 0.3:0.1))</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842738"></a>r3 = dbCreateRect(b &quot;M1&quot; list(0.0:0.2 0.1:0.3))</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842739"></a></pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842740"></a>or1 = list(list(ibc) r1)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842741"></a>dbSetOccShapeColor(or1 &quot;mask1Color&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842742"></a>dbSetOccShapeColorLockType(or1 &quot;user&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842743"></a></pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842744"></a>or2 = list(list(iab ibc) r2)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842745"></a>dbSetOccShapeColor(or2 &quot;mask2Color&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842746"></a>dbSetOccShapeColorLockType(or2 &quot;system&quot;)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842747"></a></pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842748"></a>or3 = list(list(iab) r3)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842749"></a>dbSetOccShapeColor(or3 &quot;mask1Color&quot;)</pre>

<p>
<a name="pgfId-1842750"></a>Define a helper function to print <code>occShapes</code>.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842751"></a>defun(humanizeOccShape (occShape)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842752"></a>    when(occShape</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842753"></a>        list(</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842754"></a>            mapcar(lambda((inst) inst-&gt;name) car(occShape))</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842755"></a>            cadr(occShape)-&gt;bBox</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842756"></a>        ) ; cons</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842757"></a>    ) ; when</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842758"></a>) ; defun</pre>

<p>
<a name="pgfId-1842759"></a>Query all occurrences of all <code>M1</code> shapes in the cellview <code>a</code> and print the information about their coloring, including lock type and override.</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842760"></a>foreach(l dbColorShapeQuery2(a &quot;M1&quot; a-&gt;bBox)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842761"></a>    occShape = car(l)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842762"></a>    color    = cadr(l)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842763"></a>    lockType = dbGetShapeEffectiveColorLockType(occShape)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842764"></a>    isHCL    = cadddr(l)</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842765"></a>    hcl      = when(isHCL dbGetHierColorOverride(occShape))</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842766"></a></pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842767"></a>    printf(&quot;occ shape %L:\n  color=%L\n  lock type=%L\n  set by the override=%L\n&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842768"></a>           humanizeOccShape(occShape) color lockType humanizeOccShape(hcl))</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842769"></a>) ; foreach</pre>

<p>
<a name="pgfId-1842770"></a>The expected output will be similar to the following:</p>

<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842771"></a>occ shape ((&quot;iab&quot;) ((0.0 0.2) (0.1 0.3))):</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842772"></a>  color=&quot;mask1Color&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842773"></a>  lock type=nil</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842774"></a>  set by the override=((&quot;iab&quot;) ((0.0 0.2) (0.1 0.3)))</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842775"></a>occ shape ((&quot;iab&quot; &quot;ibc&quot;) ((0.0 0.0) (0.1 0.1))):</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842776"></a>  color=&quot;mask1Color&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842777"></a>  lock type=&quot;user&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842778"></a>  set by the override=((&quot;ibc&quot;) ((0.0 0.0) (0.1 0.1)))</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842779"></a>occ shape ((&quot;iab&quot; &quot;ibc&quot;) ((0.2 0.0) (0.3 0.1))):</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842780"></a>  color=&quot;mask2Color&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842781"></a>  lock type=&quot;system&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a name="pgfId-1842782"></a>  set by the override=((&quot;iab&quot; &quot;ibc&quot;) ((0.2 0.0) (0.3 0.1)))</pre>

<p>
<a name="pgfId-1852855"></a></p>

<!-- [TOPIC_END] -->

<p>
<a name="pgfId-1845555"></a></p>





<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="figset.html" id="prev" title="Figure Set Database Access Functions">Figure Set Database Access Fun ...</a></em></b><b><em><a href="wsp.html" id="nex" title="Width Spacing Pattern Database Access Functions (ICADVM20.1 Only)">Width Spacing Pattern Database ...</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2020, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>