
<html><head><title>IR/EM Analysis Flow</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="pallabi" />
<meta name="CreateDate" content="2020-09-11" />
<meta name="CreateTime" content="1599809739" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes how to perform power-grid and electromigration analysis using the Virtuoso Power System Product, Power IR/EM." />
<meta name="DocTitle" content="Power IR/EM User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="IR/EM Analysis Flow" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.2" />
<meta name="Keyword" content="vpsl" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2020-09-11" />
<meta name="ModifiedTime" content="1599809739" />
<meta name="NextFile" content="setenv.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Digital IC Design" />
<meta name="PrevFile" content="starting.html" />
<meta name="c_product" content="Virtuoso Power System" />
<meta name="Product" content="Virtuoso Power System" />
<meta name="ProductFamily" content="Virtuoso Power System" />
<meta name="ProductVersion" content="ICADVM20.1" />
<meta name="RightsManagement" content="Copyright 2012-2020 Cadence Design Systems Inc." />
<meta name="Title" content="Power IR/EM User Guide -- IR/EM Analysis Flow" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="ICADVM20.1" />
<meta name="SpaceKey" content="vpslICADVM201" />
<meta name="webflare-version" content="2.0" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="vpslTOC.html">Contents</a></li><li><a class="prev" href="starting.html" title="Getting Started">Getting Started</a></li><li style="float: right;"><a class="viewPrint" href="vpsl.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="setenv.html" title="Setting Up the Power IR/EM Environment">Setting Up the Power IR/EM Env ...</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Power IR/EM User Guide<br />Product Version ICADVM20.1, October 2020</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>3
<a id="pgfId-1032955"></a></h1>
<h1>
<a id="pgfId-1048575"></a><hr />
<a id="89688"></a>IR/EM Analysis Flow<hr />
</h1>

<ul><li>
<a id="pgfId-1048416"></a><a href="analysisflow.html#41214">Overview</a></li><li>
<a id="pgfId-1048507"></a><a href="analysisflow.html#17915">Running Pegasus LVS or PVS LVS</a></li><li>
<a id="pgfId-1048511"></a><a href="analysisflow.html#89465">Running Pegasus or PVS Quantus QRC</a></li><li>
<a id="pgfId-1049881"></a><a href="analysisflow.html#40935">Running Extraction with Quantus (Calibre) Interface</a></li><li>
<a id="pgfId-1048515"></a><a href="analysisflow.html#78108">Running a Spectre Simulation</a></li><li>
<a id="pgfId-1057959"></a><a href="analysisflow.html#80570">Running an APS Simulation</a></li><li>
<a id="pgfId-1048519"></a><a href="analysisflow.html#44900">Running an UltraSim Simulation</a></li></ul>







<h2>
<a id="pgfId-1044986"></a><a id="41214"></a>Overview</h2>

<p>
<a id="pgfId-1058411"></a>A typical IR/EM analysis flow is as follows:</p>
<ul><li>
<a id="pgfId-1078455"></a>Compare the schematic design with the layout design to verify the logical connectivity of the design.This is done by running <em>Pegasus</em> LVS or PVS LVS (Layout as compared to Schematic) or Calibre&#174; LVS. For more information, see <a href="analysisflow.html#17915">Running Pegasus LVS or PVS LVS</a>.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1089791"></a>Pegasus, the new physical verification system, is available in the 18.2 physical verification system release. </div></li><li>
<a id="pgfId-1076330"></a>Extract parasitic resistance and capacitance from the power and ground nets and create an extracted view of the design using Quantus QRC. For more information, see <a href="analysisflow.html#89465">Running Pegasus or PVS Quantus QRC</a> and <a href="analysisflow.html#40935">Running Extraction with Quantus (Calibre) Interface</a>.</li><li>
<a id="pgfId-1058429"></a>Simulate the extracted view of the design using Spectre, UltraSim, or APS simulation. For more information, see <a href="analysisflow.html#78108">Running a Spectre Simulation</a>, <a href="analysisflow.html#44900">Running an UltraSim Simulation</a>, and <a href="analysisflow.html#80570">Running an APS Simulation</a>.</li><li>
<a id="pgfId-1058797"></a><a href="glossary.html#electromigration">Run Power IR/EM to begin power-grid and </a><em>electromigration</em> analysis on your design and view the results. </li></ul>




<p>
<a id="pgfId-1070972"></a>This flow is shown below.</p>

<p><strong>Figure 3-1
<a id="pgfId-1064378"></a><a id="43224"></a>Power IR/EM Design Flow</strong></p>
<p>
<a id="pgfId-1064449"></a></p>
<div class="webflare-div-image">
<img width="474" height="538" src="images/analysisflow-2.gif" /></div>
<p>
<a id="pgfId-1064444"></a></p>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1085059"></a>Quantus QRC creates an extracted view that can be simulated in Cadence&#174; Analog Design Environment (ADE). You can then use Power IR/EM to superimpose the simulation data generated through circuit simulation using Spectre, UltraSim, or APS onto the Virtuoso extracted view. You can also get a pass/fail report for the electromigration (EM) analysis.</div>
<p>
<a id="pgfId-1034530"></a>The following sections describe this flow in detail and explain the options to be set for Pegasus/PVS and Spectre for this analysis and the flow for Power IR/EM. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1071692"></a>The data preparation can be limited to include only the nets of interest. </div>

<h2>
<a id="pgfId-1034531"></a><a id="17915"></a>Running <a id="RunningPVSLVS"></a>Pegasus LVS or PVS LVS</h2>

<p>
<a id="pgfId-1035670"></a>Before extracting the power grid and the signal nets, run <a id="marker-1035669"></a>Pegasus or PVS LVS on the layout view of the design you want to analyze. You do not need to make any special modifications to the Pegasus or PVS LVS decks. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1089350"></a>Pegasus, the new physical verification system, is available in the 18.2 physical verification system release.</div>
<ol><li>
<a id="pgfId-1089002"></a>In the <em>Virtuoso Layout Suite</em>, select the Run LVS sub menu from the Pegasus or PVS menu. This is shown below:<br /><strong class="webflare-fig-line-height">Figure 3-2
<a id="pgfId-1082709"></a>Run LVS Sub Menu from PVS Menu</strong></li></ol>



<p>
<a id="pgfId-1090400"></a></p>

<div class="webflare-div-image">
<img width="198" height="283" src="images/analysisflow-3.gif" /></div>
<p><strong>Figure 3-3
<a id="pgfId-1090404"></a>Run LVS Sub Menu from Pegasus Menu</strong></p>

<p>
<a id="pgfId-1090409"></a></p>

<div class="webflare-div-image">
<img width="171" height="269" src="images/analysisflow-4.gif" /></div>

<ol><li>
<a id="pgfId-1082618"></a>The Pegasus or PVS LVS Run Submission Form opens. <br /><strong class="webflare-fig-line-height">Figure 3-4
<a id="pgfId-1082774"></a>Pegasus LVS Run Submission Form</strong>
<a id="pgfId-1090430"></a><div class="webflare-div-image">
<img width="417" height="410" src="images/analysisflow-5.gif" /></div><strong>Figure 3-5
<a id="pgfId-1090434"></a>PVS LVS Run Submission Form</strong>
<a id="pgfId-1090438"></a><div class="webflare-div-image">
<img width="503" height="485" src="images/analysisflow-6.gif" /></div></li></ol>








<p>
<a id="pgfId-1062848"></a>For detailed information on running Pegasus or PVS LVS, see the <em>PegasusTM Interactive User Guide</em> or <em>Virtuoso</em>&#174; IPVS User Guide.</p>

<h2>
<a id="pgfId-1034543"></a><a id="89465"></a>Running P<a id="RunningPVSQRC"></a>egasus or PVS Quantus QRC</h2>

<p>
<a id="pgfId-1035632"></a>After the LVS run is complete, you must extract parasitic resistance and capacitance from the power and ground nets for power-grid analysis, and from the signal nets for detecting electromigration failures in Power IR/EM. Although, no rule changes are required to run Quantus QRC, you need to enable some options to generate the <a id="marker-1034796"></a>extracted view correctly. For more information on running Quantus QRC, see the Quantus <em>QRC Extraction Users Manual</em>.</p>
<p>
<a id="pgfId-1078741"></a>The following steps are detailed for running Pegasus or PVS Quantus:</p>
<ol><li>
<a id="pgfId-1077928"></a>In the main menu of the <em>Virtuoso Layout Suite</em>, choose <em>QRC </em>&#8211;<em> Run Pegasus-Quantus/Run PVS-QRC</em>. The Quantus (Pegasus)/QRC (PVS) Interf<em>ace</em> form opens. This form is shown below.<br /><strong class="webflare-fig-line-height">Figure 3-6
<a id="pgfId-1082847"></a>Quantus (Pegasus) Interface Form</strong>
<a id="pgfId-1090651"></a><div class="webflare-div-image">
<img width="397" height="146" src="images/analysisflow-7.gif" /></div><strong>Figure 3-7
<a id="pgfId-1090655"></a>QRC (PVS) Interface Form</strong>
<a id="pgfId-1090659"></a><div class="webflare-div-image">
<img width="412" height="146" src="images/analysisflow-8.gif" /></div></li><li>
<a id="pgfId-1078011"></a>Specify the <em>Pegasus/PVS Data Directory </em>and the<em> Quantus/QRC Tech Lib </em>and<em> </em>click <em>OK</em>.</li><li>
<a id="pgfId-1083118"></a>The Quantus (Pegasus)/QRC (PVS) Parasitic Extraction Run Form opens. In this form<em>, </em>select the <em>Setup</em><a id="marker-1090710"></a> tab.This form is shown below.<br /><strong class="webflare-fig-line-height">Figure 3-8
<a id="pgfId-1084089"></a>Quantus (Pegasus) Parasitic Extraction Run Form &#8211; Setup Tab</strong>
<a id="pgfId-1090727"></a><div class="webflare-div-image">
<img width="453" height="535" src="images/analysisflow-9.gif" /></div><strong>Figure 3-9
<a id="pgfId-1090731"></a>QRC (PVS) Parasitic Extraction Run Form &#8211; Setup Tab</strong>
<a id="pgfId-1090735"></a><div class="webflare-div-image">
<img width="545" height="659" src="images/analysisflow-10.gif" /></div></li><li>
<a id="pgfId-1083107"></a>In this form, ensure that the <em>Output</em> is set to <em>Extracted View</em>. </li><li>
<a id="pgfId-1077573"></a>Now, select the <em>Extraction </em>tab. The following form opens.<br /><strong class="webflare-fig-line-height">Figure 3-10
<a id="pgfId-1084261"></a>Quantus (Pegasus) Parasitic Extraction Run Form &#8211; Extraction Tab<a id="73672"></a></strong>
<a id="pgfId-1090749"></a><div class="webflare-div-image">
<img width="451" height="570" src="images/analysisflow-11.gif" /></div><strong>Figure 3-11
<a id="pgfId-1090754"></a>QRC (PVS) Parasitic Extraction Run Form &#8211; Extraction Tab</strong>
<a id="pgfId-1090758"></a><div class="webflare-div-image">
<img width="540" height="658" src="images/analysisflow-12.gif" /></div></li><li>
<a id="pgfId-1084203"></a>You can select the <em>Extraction Mode</em> to extract either resistance and capacitance (<em>RC</em>) or only resistance (<em>R only</em>). When you select the <em>Extraction Mode</em> as <em>R Only</em>, the simulation time is short. Also, consider the type of simulation run you are planning. If you are performing a <em></em><a href="glossary.html#dcop">DC operating point (DCOP) simulation</a><a id="marker-1061633"></a>, then you do not require capacitance values.</li></ol>





























<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1044438"></a>You can reduce extraction time in Quantus QRC by selecting specific nets of interest. To do this, select <em>Net Selection Type </em>&#8211; <em>Selected Nets Proper</em>. </div>
<ol><li>
<a id="pgfId-1075107"></a>Select the <em>Netlisting </em><a id="marker-1075103"></a>tab. This form is shown below.<br /><strong class="webflare-fig-line-height">Figure 3-12
<a id="pgfId-1084369"></a>Quantus (Pegasus) Parasitic Extraction Run Form &#8211; Netlisting Tab</strong>
<a id="pgfId-1090771"></a><div class="webflare-div-image">
<img width="503" height="634" src="images/analysisflow-13.gif" /></div><strong>Figure 3-13
<a id="pgfId-1090775"></a>QRC (PVS) Parasitic Extraction Run form &#8211; Netlisting Tab</strong>
<a id="pgfId-1090779"></a><div class="webflare-div-image">
<img width="547" height="656" src="images/analysisflow-14.gif" /></div></li><li>
<a id="pgfId-1084320"></a>On this tab:<ul><li>
<a id="pgfId-1078938"></a>Click <em>EM Analysis</em> to activate the extraction options specific to EM analysis during the Quantus QRC run.</li><li>
<a id="pgfId-1081951"></a>Click <em>Add Explicit Vias</em><a id="marker-1075108"></a> to prevent the merging of via resistance into the net resistance. <a id="marker-1075109"></a><a id="marker-1075110"></a></li><li>
<a id="pgfId-1079276"></a>In the <em>Parasitic Resistance Width</em><a id="marker-1079275"></a>, select<em> Drawn </em>from the options provided in the drop-down menu. The parasitic resistance width option annotates the extracted view with the width of parasitic resistors, which is required to compute the <a id="marker-1079277"></a><a href="glossary.html#current_density">current density</a>. </li><li>
<a id="pgfId-1080665"></a>Select <em>Parasitic Resistance Temperature Coefficent</em> if you want to store TC1 and TC2 parameters in the extracted view. This is useful when you want to perform IR/EM analysis at different temperatures. </li><li>
<a id="pgfId-1079279"></a>Disable <em>Import Globals</em> to enable Quantus QRC to extract resistance from power and ground nets. </li></ul></li></ol>














<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1079928"></a>The EM analysis performed by Power IR/EM requires the parasitic resistor to be present in the extracted_view. Therefore, you must set the <em>Parasitic Resistors Models</em> switch to &#8220;<code>Include Model</code>&#8221; or &#8220;<code>Include as Comment</code>&#8221;. If you select &#8220;<code>Include Model</code>&#8221;, you will be required to update the <code>emDataFile.txt</code> to match model names.</div>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1082249"></a>For detailed information on running Pegasus or PVS LVS, see the <em>PegasusTM Interactive User Guide</em> or <em>Virtuoso</em>&#174; IPVS User Guide.</div>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1084440"></a>You must successfully create the extracted view in Quantus QRC to proceed to the next step.</div>

<h3>
<a id="pgfId-1078796"></a><a id="89895"></a><a id="25328"></a><a id="83524"></a><a id="40935"></a>Running Extract<a id="QRCCalibre"></a>ion with Quantus (Calibre) Interface </h3>

<p>
<a id="pgfId-1079427"></a>Quantus QRC accepts a Calibre database as input for extraction in place of Pegasus or PVS LVS.</p>
<p>
<a id="pgfId-1077540"></a>The extracted view includes a standard DFII extracted view, which has parasitic properties back annotated onto a layout design for simulation purposes. The extracted view can be simulated using third-party simulation tools like <a id="marker-1077518"></a>Spectre, <a id="marker-1077519"></a>UltraSim, or <a id="marker-1077520"></a>APS to interpret the Quantus QRC output effectively, and use the simulation results as input to Power IR/EM. </p>
<p>
<a id="pgfId-1077896"></a>In the main menu of the <em>Virtuoso Layout Suite</em>, choose <em>QRC </em>&#8211;<em> Run Calibre-Quantus</em>. The Quantus (Calibre) Interface form opens. This form is shown below.</p>

<p><strong>Figure 3-14
<a id="pgfId-1085271"></a>Quantus (Calibre) Interface Form</strong></p>
<p>
<a id="pgfId-1085275"></a></p>
<div class="webflare-div-image">
<img width="457" height="279" src="images/analysisflow-15.gif" /></div>

<p>
<a id="pgfId-1049719"></a>For more information on how Quantus QRC reads the Calibre input data and performs extraction, see the &#8220;Running Quantus QRC with Calibre&#174; Input&#8221; chapter in the <em>Quantus QRC Extraction Users Manual.</em></p>

<h3>
<a id="pgfId-1078775"></a><a id="78108"></a>Running a <a id="RunningSpectreSimulation"></a>Spectre Simulation</h3>

<p>
<a id="pgfId-1087739"></a>After running extraction, the next step is to use an existing <a id="marker-1087738"></a>testbench and simulate the <a id="marker-1087740"></a>extracted view within the Virtuoso&#174; Analog design Environment (ADE) environment. You can use Virtuoso&#174; Spectre circuit simulator. This simulation environment saves the voltages on all the nodes in the design. You must run a<em> </em><a id="marker-1087741"></a><h-hot><a href="glossary.html#transient">transient</a></h-hot> or a DC operating point (DCOP) simulation to perform <h-hot><a href="glossary.html#irdrop">IR Drop</a></h-hot><a id="marker-1087743"></a><a id="marker-1087744"></a> analysis or <a id="marker-1087746"></a>electromigration analysis.</p>
<p>
<a id="pgfId-1061986"></a>An example of a testbench in <a id="marker-1034804"></a>Virtuoso&#174; Schematic Editor is shown below.</p>

<p><strong>Figure 3-15
<a id="pgfId-1034578"></a><a id="42193"></a>Testbench in Virtuoso Schematic Editor</strong></p>
<p>
<a id="pgfId-1034582"></a></p>
<div class="webflare-div-image">
<img width="652" height="510" src="images/analysisflow-16.gif" /></div>

<p>
<a id="pgfId-1082455"></a>Follow these steps to run <a id="marker-1082454"></a>Spectre simulation for Power IR/EM:</p>
<ul><li>
<a id="pgfId-1082456"></a>In the Environment Options form, select the <em>Switch View List</em> to specify the extracted view in the simulation. You can also use config views. This is shown in the figure below.<a id="marker-1082457"></a><br /><strong class="webflare-fig-line-height">Figure 3-16
<a id="pgfId-1086988"></a>Environment Options Form </strong>
<a id="pgfId-1086992"></a><div class="webflare-div-image">
<img width="453" height="298" src="images/analysisflow-17.gif" /></div></li><li>
<a id="pgfId-1034585"></a>In the Save Options form, make sure that the <em>allpub</em><a id="marker-1034885"></a> option is selected. The Options dialog box is activated by the <em>Outputs</em><a id="marker-1034886"></a> &#8211; <em>Save All</em> command. Only the node voltages are saved during the Spectre simulation. You do not need to create any <code>measure</code><a id="marker-1034887"></a> statements. This is shown in the figure below.<br /><strong class="webflare-fig-line-height">Figure 3-17
<a id="pgfId-1087044"></a><a id="42556"></a>Save Options Form</strong>
<a id="pgfId-1087048"></a><div class="webflare-div-image">
<img width="453" height="445" src="images/analysisflow-18.gif" /></div></li></ul>











<p>
<a id="pgfId-1042824"></a>Before proceeding to the next step, ensure that Spectre simulation is completed successfully. It is useful to save the Spectre simulation state for later use, if required. The Power IR/EM Reader can read results in <code>SST2</code> database format as well as <code>PSF/PSF-XL</code> waveform format.</p>

<h3>
<a id="pgfId-1057929"></a><a id="80570"></a>Running<a id="RunningAPSSimulation"></a> an APS Simulation</h3>

<p>
<a id="pgfId-1087689"></a>You can perform simulation using the Virtuoso&#174; Accelerated Parallel Simulator (APS). These simulation results can be used as input to Power IR/EM instead of simulation results from <a id="marker-1087690"></a>Virtuoso&#174; Spectre simulator, if required. Virtuoso&#174; APS is a next-generation SPICE simulator that provides high performance, high capacity circuit simulation with full Virtuoso&#174; Spectre circuit simulator accuracy. APS achieves maximum simulation performance by enabling multi-threading on multi-core and multi-CPU shared memory systems. This simulator lets you simulate large pre- and post-layout designs faster than the Spectre simulator. </p>
<p>
<a id="pgfId-1057931"></a>The APS use model is identical to that of Spectre, with the same netlist syntax, device model, analyses, features, and output format support. </p>
<p>
<a id="pgfId-1057932"></a>Follow these steps to run the APS simulation for Power IR/EM:</p>
<ul><li>
<a id="pgfId-1057933"></a>In the Environment Options form, select the Switch view List to specify the extracted view in the simulation. You can also specify <a id="marker-1057934"></a>config views. This is shown above in the &#8220;Running a Spectre Simulation&#8221; section.</li><li>
<a id="pgfId-1057937"></a>In the Save Options form, make sure that the <em>allpub</em><a id="marker-1057935"></a> option is selected. The Save Options dialog box activated by the <em>Outputs</em> &#8211; <em>Save All</em> command. This is shown above in the &#8220;Running a Spectre Simulation&#8221; section. Only the node voltages are saved during the APS simulation. You do not need to create any <code>measure</code><a id="marker-1057939"></a> statements.</li><li>
<a id="pgfId-1086579"></a>In the High-Performance Simulation Options form, ensure that <em>All </em>is selected in the<em> Preserve Instance</em> field. This is shown in the figure below.<br /><strong class="webflare-fig-line-height">Figure 3-18
<a id="pgfId-1086582"></a>High-Performance Simulation Options Form</strong>
<a id="pgfId-1086586"></a><div class="webflare-div-image">
<img width="521" height="332" src="images/analysisflow-19.gif" /></div></li></ul>







<p>
<a id="pgfId-1086565"></a>Before proceeding to the next step, ensure that the APS simulation is completed successfully. It is useful to save the APS simulation state for later use, if required. Power IR/EM Reader can read results in <code>SST2</code> database format as well as <code>PSF/PSF-XL</code> waveform format.</p>
<p>
<a id="pgfId-1081635"></a>For very large designs, APS can dump the simulation data in a Power IR/EM-specific format. Users can perform average, peak, and RMS analyses in less time by using this data. </p>
<p>
<a id="pgfId-1087182"></a>For example, for generating EMIR output during transient analysis, follow these steps:</p>
<ul><li>
<a id="pgfId-1087250"></a>In the Virtuoso&#174; Analog Design Environment, select <em>Analysis </em>&#8211;<em> Choose</em>. The Choosing Analyses form opens. </li><li>
<a id="pgfId-1087456"></a>Select <em>tran</em> as the analysis type. This form is shown below.</li></ul>

<p>
<a id="pgfId-1087254"></a></p>

<div class="webflare-div-image">
<img width="339" height="373" src="images/analysisflow-20.gif" /></div>

<ul><li>
<a id="pgfId-1087509"></a>Select <em>Enabled</em>.</li><li>
<a id="pgfId-1087287"></a>Click <em>Options</em>. the Transient Options form opens. This form is shown below.</li></ul>

<p>
<a id="pgfId-1087305"></a></p>

<div class="webflare-div-image">
<img width="342" height="337" src="images/analysisflow-21.gif" /></div>

<ul><li>
<a id="pgfId-1088260"></a>In the Transient Options form, select the <em>EM/IR Output</em> tab. </li><li>
<a id="pgfId-1088246"></a>On the <em>EM/IR Output</em> tab, select <em>vavo</em> as the <em>emirformat</em>. </li><li>
<a id="pgfId-1087587"></a>Specify the <em>emirstart</em> time and <em>emirstop</em> time</li><li>
<a id="pgfId-1087597"></a>Specify the <em>emirfomat</em> file and click <em>OK</em>.</li></ul>



<p>
<a id="pgfId-1087184"></a>The syntax for generating EMIR output during transient analysis is as follows:</p>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1081280"></a>Name tran [emirformat=vavo|none] [emirstart=time] [emirstop=time] [emirfile=dbfileName]</pre>

<p class="webflare-indent1">
<a id="pgfId-1081350"></a>Where:</p>
<p class="webflare-indent1">
<a id="pgfId-1081833"></a></p>
<table class="webflareTable webflareTableIndent" id="#id1081781">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1081807"></a><span class="webflare-courier-new" style="white-space:pre"><em>Name</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1081809"></a>The name of the transient analysis.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1081811"></a>emirformat</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1081813"></a>Turns on the <code>vavo.db</code> file output capability. Possible values are <code>vavo</code> and <code>none</code>. Default is <code>none</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1081815"></a>emirstart/emirstop</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1081817"></a>Specifies the time window start and stop times. The default of start and stop times are same as the start and stop times for transient analysis, respectively.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1081819"></a>emirfile</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1081821"></a>Specifies the name of the EM/IR output database file. Default is <code>tranName_emir_vavo.db</code>. This file is saved in the raw directory.</p>
</td>
</tr>
</tbody></table>

<h4>
<a id="pgfId-1081544"></a>Example:</h4>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081565"></a>tran1 tran stop=15s errpreset=moderate emirformat=vavo emirfile=&quot;testDB&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-1081554"></a>emirstart=1s emirstop=15s</pre>

<p>
<a id="pgfId-1081594"></a>Calculates the required information for EM and IR analysis and saves it in the <code>testDB.db</code> file.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1088755"></a>To generate the <code>emirformat</code> database file version <code>5.0</code>, set the environment variable, <code>EMIR_VAVO_DB 5.0.</code>This database file version significantly reduces the simulation runtime and it is supported with the following APS simulator versions:</div>
<ul><li>
<a id="pgfId-1088780"></a>MMSIM121_ISR16 and above</li><li>
<a id="pgfId-1088795"></a>MMSIM131_ISR2 and above</li></ul>


<h3>
<a id="pgfId-1042837"></a><a id="91648"></a><a id="91016"></a><a id="44900"></a>Running an<a id="RunningUltrasimSimulation"></a> UltraSim Simulation</h3>

<p>
<a id="pgfId-1087773"></a>You can use the Virtuoso&#174; UltraSim simulator to perform simulation instead of using Spectre. UltraSim mode of simulation is recommended for large designs because it runs faster.</p>
<p>
<a id="pgfId-1042816"></a>In general, the following options for UltraSim and Power IR/EM flow are recommended:</p>
<ol><li>
<a id="pgfId-1041954"></a>&#8216;<code>A</code>&#8217; mode without UPS (for smaller cases &lt;5k devices), or </li><li>
<a id="pgfId-1041955"></a>UPS with any simulation mode, most likely &#8216;<code>MS</code>&#8217; mode (default), which is the best approach for most designs <br /><div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1074549"></a>
For very large designs, UltraSim can dump the simulation data in a Power IR/EM-specific format. Users can perform average, peak, and RMS analyses in less time by using this data. The UltraSim option that enables dumping of simulation data in Power IR/EM-specific format is:</div><br /><pre class="webflare-pre-block webflare-courier-new" id="#id1074575">
<a id="pgfId-1074575"></a>usim_emir type=all format=vavo stop=&lt;simulation time&gt;</pre></li></ol>





<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1041957"></a>Power IR/EM reads in the simulation results of UltraSim and then tries to match the nodes in the data file with the extracted view. Therefore, you should not use RC reduction in the UltraSim and Power IR/EM flow. For example:</div>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-1074530"></a><code>usim_opt postl=0 rvshort=0 rshort=0 cgnd=0</code> </pre>

<p>
<a id="pgfId-1074531"></a>Also, UltraSim does not save node voltages for the parasitic resistors during the simulation by default. Therefore, you must manually set options to make UltraSim save these node voltages.</p>

<h4>
<a id="pgfId-1074495"></a>Using DFII IC5.1.41 or later with UltraSim</h4>

<ol><li>
<a id="pgfId-1035930"></a>Set up normal simulation</li><li>
<a id="pgfId-1035931"></a>Under &quot;Outputs&quot; in ADE, select &quot;Save All ...&quot;</li><li>
<a id="pgfId-1035932"></a>Turn on &quot;Select all node voltages&quot;</li><li>
<a id="pgfId-1035933"></a>Turn on &quot;Preserve All Nodes&quot;</li><li>
<a id="pgfId-1061083"></a>Set &quot;Hierarchical Depth&quot; equal to the depth of the extracted view in the schematic hierarchy</li></ol>





<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="starting.html" id="prev" title="Getting Started">Getting Started</a></em></b><b><em><a href="setenv.html" id="nex" title="Setting Up the Power IR/EM Environment">Setting Up the Power IR/EM Env ...</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2020, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>