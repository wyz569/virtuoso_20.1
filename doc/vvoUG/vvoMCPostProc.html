
<html><head><title>Virtuoso Variation Option Advanced Features</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="urajput" />
<meta name="CreateDate" content="2020-09-20" />
<meta name="CreateTime" content="1600586725" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the advanced simulation run modes provided by Virtuoso Variation Option." />
<meta name="DocTitle" content="Virtuoso Variation Option User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Virtuoso Variation Option Advanced Features" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.2.1" />
<meta name="Keyword" content="vvoUG" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2020-09-20" />
<meta name="ModifiedTime" content="1600586725" />
<meta name="NextFile" content="vvoHYE.html" />
<meta name="Order" content="2" />
<meta name="Group" content="ADE Assembler" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="vvoGettingStarted.html" />
<meta name="c_product" content="Virtuoso Analog Design Environment" />
<meta name="Product" content="Virtuoso Analog Design Environment" />
<meta name="ProductFamily" content="Virtuoso Analog Design Environment" />
<meta name="ProductVersion" content="ICADVM20.1" />
<meta name="RightsManagement" content="Copyright 2012-2020 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Variation Option User Guide -- Virtuoso Variation Option Advanced Features" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="ICADVM20.1" />
<meta name="SpaceKey" content="vvoUGICADVM201" />
<meta name="webflare-version" content="2.0" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="vvoUGTOC.html">Contents</a></li><li><a class="prev" href="vvoGettingStarted.html" title="Introduction to Virtuoso Variation Option">Introduction to Virtuoso Varia ...</a></li><li style="float: right;"><a class="viewPrint" href="vvoUG.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="vvoHYE.html" title="Improving Yield for a Design">Improving Yield for a Design</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Variation Option User Guide<br />Product Version ICADVM20.1, October 2020</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>2
<a id="pgfId-1032955"></a></h1>
<h1>
<a id="pgfId-1094358"></a><hr />
Virtuoso Variation Option Advanced Features<hr />
</h1>

<p>
<a id="pgfId-1131037"></a>Virtuoso Variation Option provides advanced statistical analysis features. These features include mismatch contribution analysis, efficient yield verification and statistical corner creation, and analysis methods specifically for high sigma design. </p>
<p>
<a id="pgfId-1131039"></a>This chapter describes these features and explains how to use them.</p>
<ul><li>
<a id="pgfId-1122305"></a><a href="vvoMCPostProc.html#61765">Mismatch Contribution Analysis</a></li><li>
<a id="pgfId-1131363"></a><a href="vvoMCPostProc.html#12384">Yield Verification</a></li><li>
<a id="pgfId-1131393"></a><a href="vvoMCPostProc.html#58171">Creating Statistical Corners</a></li><li>
<a id="pgfId-1126338"></a><a href="vvoMCPostProc.html#14085">High Yield Verification and Corner Creation</a></li></ul>




<h2>
<a id="pgfId-1131082"></a><a id="61765"></a><a id="87968"></a>Mism<a id="mismatchContriAnalysis"></a>atch Contribution Analysis</h2>

<p>
<a id="pgfId-1131084"></a>Mismatch <a id="SensAccuracy"></a>
Contribution analysis is a Monte Carlo post-processing feature that helps in identifying the important contributors to mismatch variation. You can then modify the identified devices in the schematic and make the design less sensitive to mismatch variation. You can use the Sensitivity Accuracy method to automatically run the minimum required number of points. For more information about this method, see <a href="vvoMCPostProc.html#41860">Viewing Mismatch Contribution Results</a>.</p>
<p>
<a id="pgfId-1131088"></a>The following illustration describes how you can save and analyze the mismatch contribution data to improve your design.</p>

<p>
<a id="pgfId-1131149"></a></p>
<div class="webflare-div-image">
<img width="667" height="561" src="images/vvoMCPostProc-2.gif" /></div>
<h3>
<a id="pgfId-1131150"></a>Setting up Monte Carlo</h3>

<p>
<a id="pgfId-1131151"></a>You can set up Monte Carlo using the run options form. </p>
<ol><li>
<a id="pgfId-1131152"></a>In the <em>Guided Mode</em> section, ensure that <em>Run a fixed number of points</em> field is selected.</li><li>
<a id="pgfId-1131153"></a>In the <em>Advanced - Show All Options</em> section, in the <em>Method</em> drop-down, select the <code>Sensitivity Accuracy</code> method.<br />
<a id="pgfId-1131154"></a>The figure below shows the form fields that appear when the <code>Sensitivity Accuracy</code> method is selected.<br />
<a id="pgfId-1131173"></a><div class="webflare-div-image">
<img width="668" height="529" src="images/vvoMCPostProc-3.gif" /></div></li></ol>






<p>
<a id="pgfId-1131174"></a>Specify the following field values:</p>
<ol><li>
<a id="pgfId-1131175"></a>In the <em>Variation</em> drop-down, select variation as <code>Mismatch</code>.</li><li>
<a id="pgfId-1131176"></a>The <em>Max Points</em> field is set to <em>auto</em>, when the <em>Sensitivity Accuracy</em> method is selected. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1134614"></a>This value specifies the maximum number of sample points to simulate while trying to build an accurate model. If a model cannot be constructed even after simulating the maximum number of points, the run is stopped.</div></li><li>
<a id="pgfId-1134622"></a>From the <em>Method</em> drop-down list, choose <em>Sensitivit</em><a id="sensitivityAccuracy"></a><em>y Accuracy</em>. <br />
<a id="pgfId-1134636"></a>This method is used to post-process the Monte Carlo results and view the Mismatch Contribution table when you are not sure about the number of samples required to view the mismatch contribution results. This method helps in automatically determining the number of samples required to be run to meet the target accuracy level so that post-processing for mismatch contribution analysis can be done. The number of samples depends on the design and the number of statistical parameters defined by the model files. When you choose this method, the Monte Carlo run is stopped as soon as a model for variation contribution can be built for every output. </li><li>
<a id="pgfId-1134616"></a>Select the <em>Save Waveform (Simulation Data)</em> if you want to save the waveform data (<code>psf</code> dir) for plotting. <br />
<a id="pgfId-1134646"></a>The modeling of variation in the outputs due to statistical variation can be done by using the post-processing option to view and analyze the mismatch contribution results. Therefore, for mismatch contribution analysis, it is required that you choose to select the <em>Save Waveforms (Simulation Data)</em> option to save the data for Monte Carlo analysis so that it can be later used for post-processing.</li><li>
<a id="pgfId-1131178"></a>In the <em>Sampling Method</em> drop-down, select the method as <code>Random</code> or <code>Low-Discrepancy Sequence</code>. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1131179"></a>The <code>Latin Hypercube</code> sampling method is not available with Sensitivity Accuracy method.</div>
<a id="pgfId-1139837"></a>For more information about these form fields on this form, see <a actuate="user" class="URL" href="../Explorer/chap8.html#MC_standard" show="replace" xml:link="simple">Performing a Standard Monte Carlo Run</a> in <em>Virtuoso ADE Explorer User Guide</em>.<br />
<a id="pgfId-1150794"></a>For more information about Sensitivity Analysis, see <a actuate="user" class="URL" href="../assembler/vvoSensitivityAnalysis.html#firstPage" show="replace" xml:link="simple">Sensitivity Analysis</a> in <em>Virtuoso ADE Assembler User Guide</em>.</li></ol>










<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1139839"></a>When performing mismatch contribution, by default the iterated instances are considered to have the same contribution. It helps reduce the number of simulations required for the mismatch contribution analysis. For example, the iterated instances, <code>M0&lt;0&gt;:stat1</code> and <code>M0&lt;1&gt;:stat1</code>, are combined into a single parameter and displayed as <code>M0:stat1</code> in the mismatch contribution table.</div>
<p>
<a id="pgfId-1150784"></a></p>

<h3>
<a id="pgfId-1139842"></a><a id="41860"></a><a id="52525"></a>Viewing Mismatch Contribution Results</h3>

<p>
<a id="pgfId-1131191"></a>After the Monte Carlo run for mismatch variation is complete, the run log window and the Sensitivity Analysis window showing the <em>Mismatch Contribution</em> tab is displayed.</p>
<p>
<a id="pgfId-1134737"></a>Later on as well, you can view the mismatch contribution data by doing one of the following:</p>

<ul><li>
<a id="pgfId-1134741"></a>Click <em>Mismatch Contribution </em><img src="images/iconMismatchResults.gif" />
 on the toolbar in the Results tab.</li><li>
<a id="pgfId-1134742"></a>In the <em>History</em> tab on the Data View pane, right-click a Monte Carlo history item and choose <em>Mismatch Contribution</em>.</li></ul>


<p>
<a id="pgfId-1131198"></a>The Mismatch Contribution tab in the Sensitivity Analysis window is displayed, as shown below.</p>

<p>
<a id="pgfId-1131220"></a></p>
<div class="webflare-div-image">
<img width="666" height="637" src="images/vvoMCPostProc-5.gif" /></div>

<p>
<a id="pgfId-1131221"></a>In the example shown above, each row in the mismatch contribution table represents an instance of the design and each column represents the output specifications. </p>
<p>
<a id="pgfId-1135709"></a>Each cell shows the contribution (in percentage) of an instance towards the variance of the corresponding specification. All the contributions are normalized to 100%.</p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-1131222"></a>
By default, the tool computes the proportions of a Monte Carlo sample variation by using a linear model. This is indicated by the <code>R^2</code> (R squared) value in the column headers. The tooltip for column headers also shows how these proportions are calculated.</div>
<p class="webflare-indent1">
<a id="pgfId-1131226"></a></p>
<div class="webflare-div-image">
<img width="668" height="120" src="images/vvoMCPostProc-7.gif" /></div>

<p>
<a id="pgfId-1131227"></a>If the <code>R^2</code> value is lower than the threshold value of 90%, the results of the linear model might not be useful. Therefore, in such cases, the tool automatically switches to the quadratic model to calculate variance data for a particular specification more accurately. The column header is also updated to indicate this change.</p>

<h4><em>
<a id="pgfId-1149142"></a>Important point to note</em></h4>

<p>
<a id="pgfId-1149173"></a>If you run the mismatch contribution analysis by selecting All as Variation, an additional <em>Process</em> row is displayed in the mismatch contribution results, as shown in the following figure. This row shows the contributions of all the process parameters to mismatch variation.</p>

<div class="webflare-div-image">
<img width="668" height="336" src="images/vvoMCPostProc-8.gif" /></div>

<p>
<a id="pgfId-1131228"></a>The following topics show how to modify the data view in the Mismatch Contribution table:</p>
<ul><li>
<a id="pgfId-1131232"></a><a href="vvoMCPostProc.html#90174">Switching the Data View</a></li><li>
<a id="pgfId-1131240"></a><a href="vvoMCPostProc.html#29629">Changing the Test</a></li><li>
<a id="pgfId-1131248"></a><a href="vvoMCPostProc.html#65584">Sorting Data</a></li><li>
<a id="pgfId-1135513"></a><a href="vvoMCPostProc.html#75406">Applying Filters to View Relevant Data</a></li><li>
<a id="pgfId-1136469"></a><a href="vvoMCPostProc.html#63249">Identifying the Impact of Device Size Changes on the Variation of Circuit Output</a></li><li>
<a id="pgfId-1134883"></a><a href="vvoMCPostProc.html#47391">Highlighting a Device on Schematic</a></li></ul>






<h4>
<a id="pgfId-1134884"></a><a id="90174"></a>Switching the Data View</h4>

<p>
<a id="pgfId-1134942"></a>By default, instances are displayed in the flat view and the variance data is displayed in the percentage format. You can change the view by choosing the commands from the <em>View</em> drop-down command list.</p>

<p>
<a id="pgfId-1134947"></a> </p>
<div class="webflare-div-image">
<img width="666" height="282" src="images/vvoMCPostProc-9.gif" /></div>

<p>
<a id="pgfId-1134891"></a>Choose:</p>
<ul><li>
<a id="pgfId-1134987"></a><em>Hierarchical</em> to view the mismatch contribution data on a per instance basis, where the contribution attributed to an instance is the sum of the individual mismatch parameter variance.<br />
<a id="pgfId-1135452"></a>In the hierarchical view, the top level is displayed first. Double-click in a cell to descend into the lower levels in the hierarchy. Alternatively, right-click in a cell and choose <em>Descend</em>.<br />
<a id="pgfId-1135456"></a>After that, you can use the up and down arrow buttons (<img width="69" height="23" src="images/vvoMCPostProc-10.gif" /><span>) given at the top of the tab to traverse through the hierarchy levels. </span><br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1135467"></a>The lowest level in the hierarchy shows the parameters for a given instance.</div></li><li>
<a id="pgfId-1134998"></a><em>Flat</em> to view the mismatch contribution on parameter basis. This is the default view.</li><li>
<a id="pgfId-1135115"></a><em>Flat - Show Parameters</em> to view each statistical parameter in the <span class="webflare-courier-new" style="white-space:pre"><em>&lt;instance-name&gt;:&lt;parameter-name&gt;</em></span> format. As there can be multiple parameters for a device, each parameter is shown in a separate row, as shown in the example below. <br />
<a id="pgfId-1135094"></a><div class="webflare-div-image">
<img width="666" height="347" src="images/vvoMCPostProc-11.gif" /></div></li><li>
<a id="pgfId-1135071"></a><em>Variance</em> to view the variance values for each instance or parameter.</li><li>
<a id="pgfId-1135006"></a><em>Percentage</em> to view the contribution of each device or parameter in the percentage format. This is the default view for data format.</li></ul>













<h4>
<a id="pgfId-1131303"></a><a id="28537"></a><a id="92322"></a><a id="29629"></a>Changing the Test</h4>

<p>
<a id="pgfId-1131304"></a>The mismatch contribution table can display data for only one test at a time. By default, it shows the data for the first test in the setup. </p>
<p>
<a id="pgfId-1131305"></a>To view data for another test, do the following:</p>

<ul><li>
<a id="pgfId-1131309"></a>Click <img src="images/testButton.gif" />
 at the top of the tab and choose a test name from the drop-down list.</li></ul>

<p>
<a id="pgfId-1131310"></a>Mismatch data for the selected test is displayed in the table.</p>

<h4>
<a id="pgfId-1131321"></a><a id="65584"></a>Sorting Data</h4>

<p>
<a id="pgfId-1131322"></a>By default, the order of devices or parameters in the mismatch contribution table is the same as the order of occurrence in the design. For better data analysis, you can sort the data in a row or column using the percentage or variance values in the increasing or decreasing order.</p>
<p>
<a id="pgfId-1131323"></a>To sort the data in a row or column, do this:</p>

<ul><li>
<a id="pgfId-1131324"></a>Right-click the header of the row or column and choose any one of the following commands:<ul><li>
<a id="pgfId-1131325"></a><em>Sort by value</em></li><li>
<a id="pgfId-1131326"></a><em>Sort by absolute value</em></li></ul><br />
<a id="pgfId-1135410"></a>Alternatively, double-click in the title for a column to sort the data displayed in that.</li></ul>





<h4>
<a id="pgfId-1135548"></a><a id="75406"></a>Applying Filters to Vi<a id="mismatchFilters"></a>ew Relevant Data</h4>

<p>
<a id="pgfId-1135564"></a>In case of large number of instances, you can use the following filters to view the most relevant mismatch contribution data:</p>
<ul><li>
<a id="pgfId-1135577"></a><em>Max Contribution</em>: Hides the rows that have a contribution value smaller than the max contribution specified using the given percentage value. Use this filter to focus on the devices that have high contribution to the variance of the circuit.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1138483"></a>The instances with contribution less than 1% are not displayed.</div></li><li>
<a id="pgfId-1135599"></a><em>Yield</em>: Hides the columns when the spec yield exceeds the filter value. Use this filter when you need to focus on the outputs that are not achieving the required spec yield.</li></ul>


<p>
<a id="pgfId-1135653"></a>To reset the filters to their default value, click (<img width="26" height="26" src="images/vvoMCPostProc-13.gif" /><span>).</span></p>

<p>
<a id="pgfId-1136358"></a>In the example shown below, a filter has been applied to view the devices (rows) that have a contribution value higher than 31%.</p>

<p>
<a id="pgfId-1135657"></a></p>
<div class="webflare-div-image">
<img width="666" height="307" src="images/vvoMCPostProc-14.gif" /></div>

<p>
<a id="pgfId-1138563"></a>In addition, you can use the <em>Search</em> field given at the bottom of this tab to view only those instance whose names match the given expression, as shown below.</p>

<p>
<a id="pgfId-1138567"></a></p>
<div class="webflare-div-image">
<img width="666" height="576" src="images/vvoMCPostProc-15.gif" /></div>
<h4>
<a id="pgfId-1135764"></a><a id="63249"></a>Identifying the Impact of Device Si<a id="mismatchTuner"></a>ze Changes on the Variation of Circuit Output</h4>

<p>
<a id="pgfId-1135797"></a>You can use the Mismatch Tuner on the Mismatch Contribution tab to identify how a change in the size of any device instance impacts the variation of circuit output. The mismatch tuner helps you tune the contribution of an instance while changing its area multiplier.</p>
<p>
<a id="pgfId-1138234"></a>The predicted changes are based on mismatch contribution modeling. No additional simulations are performed in estimating the changes to output variation. The assumption is that there is little change in the output distribution after making changes to the device size. Whether the assumption holds true is design dependent and also depends on the extent of the device changes from the nominal condition.</p>
<p>
<a id="pgfId-1135895"></a>To open the <em>Mismatch Tuner</em>:</p>

<ul><li>
<a id="pgfId-1135963"></a>Click <img width="52" height="26" src="images/vvoMCPostProc-16.gif" />
 at the top of the tab. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1139262"></a>The <img width="52" height="26" src="images/vvoMCPostProc-17.gif" /><span> command is disabled if the instances are displayed in the hierarchical view. You need to change the view to flat view.</span></div><br />
<a id="pgfId-1135998"></a>The Mismatch Tuner pane is displayed on the right side of the Mismatch Contribution tab.<br />
<a id="pgfId-1136002"></a><div class="webflare-div-image">
<img width="668" height="534" src="images/vvoMCPostProc-18.gif" /></div></li></ul>








<p>
<a id="pgfId-1139438"></a>If the mismatch contribution table was showing the parameters of a lower level in the hierarchy, the hierarchy is automatically reset to show the instances at the top level. For each instance on this tab, a row is added on the Mismatch Tuner pane. Each row has a slider to change the area multiplier. In addition, the <em>Std Dev</em> row is displayed as the first row in the Mismatch Contribution table. This row displays the standard deviation for each output.</p>
<p>
<a id="pgfId-1136196"></a>Drag the slider on a row to increase or decrease the size of the instance or type a value (in the range of 0.1 to 10) in the text field to the left of the slider. The predicted standard deviation values due to the change in the instance size are shown in the <em>Std Dev</em> row. In addition, the value in parenthesis shows the percent change in value. If there is any change in the standard deviation of any specification, its value is displayed in red or blue to indicate a negative or positive impact on the variation of that specification.</p>

<p>
<a id="pgfId-1136172"></a></p>
<div class="webflare-div-image">
<img width="668" height="548" src="images/vvoMCPostProc-19.gif" /></div>

<p>
<a id="pgfId-1136140"></a>The variance contribution value for that instance is also updated in the corresponding row. The updated values are displayed in blue or red.</p>
<p>
<a id="pgfId-1136230"></a>Continue to change the area multiplier for different devices until the desired changes in the standard deviation for the specifications is achieved. You can later reflect these changes in the design by modifying the instance parameters in the Variables and Parameters assistant or by modifying the schematic.</p>

<h4><em>
<a id="pgfId-1139003"></a>Important Points to Note</em></h4>

<ul><li>
<a id="pgfId-1138901"></a>You can clear all the multipliers by using the <em>Reset table to original contribution values</em> <img width="35" height="24" src="images/vvoMCPostProc-20.gif" />
 button on top of the Mismatch Tuner pane.</li><li>
<a id="pgfId-1139032"></a>When Mismatch Tuner is open, the variance contribution values are displayed only in the numerical format. If data is already displayed in vertical or horizontal bar graphs, when you open Mismatch Tuner, the data format is changed to numerical.</li><li>
<a id="pgfId-1139023"></a>The mismatch contribution and yield filters are hidden when the Mismatch Tuner is in progress.</li><li>
<a id="pgfId-1139207"></a>You cannot descend or ascend through the hierarchy while the Mismatch Tuner is displayed.</li></ul>






<h4>
<a id="pgfId-1136673"></a>Exporting Results to a CSV File</h4>

<p>
<a id="pgfId-1146175"></a>You can export the results of mismatch contribution analysis to a CSV file for post-processing. Follow these steps to export the mismatch contribution results to a CSV file:</p>
<ol><li>
<a id="pgfId-1131329"></a>In the <em>Sensitivity Analysis</em> window, choose <em>File</em> &#8211; <em>Export Result to CSV</em> &#8211; <em>Current Tab</em> or <em>All Tabs.</em><br />
<a id="pgfId-1131330"></a>When you choose <em>Current Tab</em>, the <em>Export Results</em> form appears and the sensitivity analysis results displayed only on the currently selected tab are exported to the CSV file.<br />
<a id="pgfId-1131334"></a><div class="webflare-div-image">
<img src="images/Mismatch_export.gif" /></div></li><li>
<a id="pgfId-1131335"></a>Specify the name of the file to which you want to export the results and click <em>Save</em>.</li></ol>






<p>
<a id="pgfId-1131336"></a>When you choose <em>All Tabs</em>, the <em>Export Results</em> form exports the sensitivity analysis results, displayed on the tabs that are currently visible in the Sensitivity Analysis window. If a tab is missing, you can add it by following these steps:</p>
<ol><li>
<a id="pgfId-1148302"></a>On the Sensitivity Analysis window, click the &#8216;+&#8217; icon to display all the tabs, and then select the tab that you want to add.<br /><div class="webflare-div-image">
<img width="668" height="372" src="images/vvoMCPostProc-22.gif" /></div></li><li>
<a id="pgfId-1148328"></a>The selected tab is added to the window.<br /><div class="webflare-div-image">
<img width="668" height="356" src="images/vvoMCPostProc-23.gif" /></div><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1147706"></a>For mismatch contribution tab, you can control the contents and formatting of CSV file, based on the settings explained in <a href="vvoMCPostProc.html#88555">Controlling the CSV contents and Formatting</a>, that is, data in the CSV file after exporting results is displayed exactly the same way as it is displayed in the mismatch contribution table. For other tabs, you cannot control the CSV contents and formatting.</div></li></ol>









<h4><em>
<a id="pgfId-1146001"></a><a id="88555"></a>Controlling the CSV conte<a id="ControlCSVContentandFormat"></a>nts and Formatting</em></h4>

<p>
<a id="pgfId-1143986"></a>When you export the results of mismatch contribution analysis to a CSV file, instances and variance data in the CSV file are displayed based on the following settings that you configure on the <em>Mismatch Contribution</em> tab:</p>
<table class="webflareTable" id="#id1147886">
<tbody><tr>
<td class="webflareTd" colspan="2" rowspan="1">
<span class="tbl-head" id="#id1144436">
<a id="pgfId-1144436"></a>Settings</span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1144440">
<a id="pgfId-1144440"></a>Options and their Description</span>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1144442"></a>View</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1144444"></a>Instance</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1144446"></a><em>Hierarchal</em>, <em>Flat</em>, <em>Flat</em> <em>&#8211; Show</em> <em>Parameters</em></p>
<p>
<a id="pgfId-1144841"></a>Refer to <a href="vvoMCPostProc.html#90174">Switching the Data View</a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1144448"></a></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1144450"></a>Variance data</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1144452"></a><em>Variance</em>, <em>Percentage</em></p>
<p>
<a id="pgfId-1144857"></a>Refer to <a href="vvoMCPostProc.html#90174">Switching the Data View</a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1145211"></a>Sort</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1145215"></a>Refer to <a href="vvoMCPostProc.html#65584">Sorting Data</a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1144478"></a>Filter</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1144482"></a><em>Max</em> <em>Contribution</em>, <em>Yield</em></p>
<p>
<a id="pgfId-1144871"></a>Refer to <a href="vvoMCPostProc.html#75406">Applying Filters to View Relevant Data</a></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="2" rowspan="1">
<p>
<a id="pgfId-1144484"></a>Test</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1144488"></a>Refer to <a href="vvoMCPostProc.html#28537">Changing the Test</a></p>
</td>
</tr>
</tbody></table>
<p>
<a id="pgfId-1144897"></a>For example, on the mismatch contribution table, if you have:</p>
<ul><li>
<a id="pgfId-1145121"></a>selected instances to display hierarchically and descended to the level, <code>AmpIn</code>.</li><li>
<a id="pgfId-1145298"></a>filtered data to display only the instances that have a contribution value equal to or greater than 8%.</li><li>
<a id="pgfId-1145249"></a>selected data to display as variance.</li></ul>


<p>
<a id="pgfId-1145464"></a>Data in the mismatch contribution table is displayed as shown in the following figure.</p>

<div class="webflare-div-image">
<img width="668" height="398" src="images/vvoMCPostProc-24.gif" /></div>

<p>
<a id="pgfId-1145330"></a>The following figure shows an example of the contents of the CSV file, when the results are exported to the CSV file.</p>

<div class="webflare-div-image">
<img width="668" height="216" src="images/vvoMCPostProc-25.gif" /></div>

<p>
<a id="pgfId-1145861"></a>You can observe that the CSV file contains data exactly as you see it in the mismatch contribution table.</p>

<h4>
<a id="pgfId-1131342"></a><a id="47391"></a>Highlighting a Device on Schematic</h4>

<p>
<a id="pgfId-1131343"></a>While analyzing data in the mismatch contribution table, you can highlight a device on the schematic to view its exact location. This can help in identifying and modifying a device in schematic to improve the variance data, if required.</p>
<p>
<a id="pgfId-1131344"></a>To highlight a device on schematic, do this:</p>

<ul><li>
<a id="pgfId-1131345"></a>Right-click a row and choose <em>Highlight on Schematic</em>.</li></ul>

<p>
<a id="pgfId-1131346"></a>Alternatively, you can press <code>H</code>.</p>

<h2>
<a id="pgfId-1122138"></a><a id="12384"></a><a id="10136"></a>Y<a id="yieldVer"></a>ield Verification</h2>

<p>
<a id="pgfId-1122823"></a>You can use the <a href="../Explorer/chap8.html#YieldVerification">Yield Verification - Basic AutoStop</a> method of the Monte Carlo run mode to estimate the yield. </p>
<p>
<a id="pgfId-1130429"></a>To verify the yield, you require a large number of samples when the actual yield is above or slightly below the target. For example, when verifying a <code>3-sigma</code> target with confidence value of 90 percent, the run can be stopped if the first 1800 samples (approximately) pass the specification. The sample reordering method allows you to verify the yield without simulating such a large number of samples. </p>
<p>
<a id="pgfId-1130467"></a>To perform yield verification using the <code>Yield Verification - Reorder Samples</code> method, </p>
<ol><li>
<a id="pgfId-1130468"></a>In the <em>Guided Mode</em>, select the <em>Verify the Yield (sign-off)</em> option. <br />
<a id="pgfId-1130469"></a>When you select this option, the <em>What is the Yield requirement?</em> field appears in which you specify the sigma or percentage value. If you choose <code>sigma</code>, the default value is <code>3</code> and if you choose <code>%</code>, the default value is <code>99.865</code>. The value you specify in this field is always in synchronization with the <em>Target Yield</em> field available in the <em>Advanced - Show All Options</em> section. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1130470"></a>These yield estimation methods are used only when the sigma value equal to 3. For higher sigma values, you can use scaled-sigma sampling or worst case distance methods.</div>
<a id="pgfId-1130474"></a><div class="webflare-div-image">
<img src="images/YieldVerification1.gif" /></div></li><li>
<a id="pgfId-1130475"></a>When the yield is <code>3</code>, in the <em>Advanced - Show All Options</em> section, specify the following fields:<br />
<a id="pgfId-1130500"></a><div class="webflare-div-image">
<img width="659" height="565" src="images/vvoMCPostProc-27.gif" /></div><ol><li>
<a id="pgfId-1130501"></a>In the <em>Variation</em> drop-down, select variation as <code>All</code>, <code>Mismatch</code>, or <code>Process</code>.</li><li>
<a id="pgfId-1130502"></a>The <em>Max Points</em> field shows the maximum number of points that will be run. The value depends on both the target yield and probability. The number of simulations required is typically much smaller.</li><li>
<a id="pgfId-1130503"></a>In the <em>Target Yield </em>field, specify the yield value that you want to achieve for your design. The value of this field is same as the sigma field in the <em>Guided Mode</em> section. </li><li>
<a id="pgfId-1130504"></a>In the <em>Probability</em> field, select a probability percentage value. Probability values closer to 100% will require more simulations before the yield estimate can be determined to be lower or higher than the target. Smaller probability values requires less simulations before auto stop is triggered. The default value is <code>95%</code>.</li></ol></li><li>
<a id="pgfId-1130505"></a>n the <em>Method</em> drop-down, the <code>Yield Verification - Sample Reorder</code> method is already selected. This is the default value with the Virtuoso Variation Option license. </li><li>
<a id="pgfId-1130507"></a>Select the <em>Save Waveforms (Simulation Data)</em> option if you want to save output data (<code>psf</code> files) for every Monte Carlo iteration so that you can perform post-processing operations (like plotting, printing, annotation, and re-evaluation) on individual iterations. </li><li>
<a id="pgfId-1130515"></a>In the <em>Sampling Method</em> drop-down, select one of the following statistical sampling method to be used: <ul><li>
<a id="pgfId-1131941"></a><code>Random</code></li><li>
<a id="pgfId-1131942"></a><code>Low-Discrepancy Sequence</code><br />
<a id="pgfId-1131944"></a>For more information about these methods, see <a actuate="user" class="URL" href="../Explorer/chap8.html#MC_standard" show="replace" xml:link="simple">Performing a Standard Monte Carlo Run</a> in <em>Virtuoso ADE Explorer User Guide</em>.</li></ul></li><li>
<a id="pgfId-1130522"></a>In the <em>Seed</em> field, specify a seed for the Monte Carlo analysis. By always specifying the same seed, you can reproduce a previous experiment. If you do not specify a seed, the value <code>12345</code> is used.</li><li>
<a id="pgfId-1130523"></a>In the <em>First Point</em> field, specify a starting run number. The first point specifies the run that Monte Carlo begins with. By specifying this number, you can reproduce a particular run or sequence of runs from a previous experiment (for example, to examine an earlier case in more detail).<br />
<a id="pgfId-1130524"></a>To reproduce a run or sequence of runs, you need to specify the same value in the <em>Starting Run Number</em> and the <em>Monte Carlo Seed</em> fields.</li><li>
<a id="pgfId-1150701"></a>In the <em>Netlist Options</em> field, specify additional analysis options that you want to add to the netlist.<br />
<a id="pgfId-1150721"></a>For example, &quot;<code>nullmfactorcorrelation=yes</code>&quot;.</li><li>
<a id="pgfId-1130525"></a>Click the <em>Specify Instances/Devices (Not Specified) </em>button to specify the sensitive instances and devices you want to either include or exclude for applying mismatch variations. For more information, see <a actuate="user" class="URL" href="../Explorer/chap8.html#selectInstForMismatch" show="replace" xml:link="simple">Including or Excluding Instances and Devices for Applying Mismatch Variations</a>.</li><li>
<a id="pgfId-1130529"></a>Click <em>OK</em>.</li></ol>






























<p>
<a id="pgfId-1123017"></a>After the setup is complete, run the Monte Carlo simulation.</p>
<p>
<a id="pgfId-1130725"></a>As per this method, the Monte Carlo samples are ordered from worst to best based on failure probability modeling. First, a small number of samples are simulated to fit into the model of performance and statistical variation. Then, the remaining Monte Carlo samples are generated, but not simulated. The samples are then reordered based on the performance model. After that, simulation begins with the samples that have the highest probability to fail. The detailed steps are as follows:</p>
<ol><li>
<a id="pgfId-1123019"></a>The run begins with an initial Monte Carlo sampling, in which a small number of samples are simulated in the normal order (a minimum of 50 samples). The <em>Sensitivity Accuracy</em> method is applied that stops simulating new Monte Carlo samples after enough data is available for accurate modeling. </li><li>
<a id="pgfId-1123130"></a>After the initial sampling and modeling is complete, the remaining samples are generated but not simulated. The total number of samples required for the run is determined automatically from the target yield and the probability requirements specified in the Monte Carlo form. For each of the remaining samples, the statistical parameter values are generated and the samples are ordered using failure probability modeling. </li><li>
<a id="pgfId-1123131"></a>Now, the Monte Carlo samples are simulated in the highest probability to fail order. The Monte Carlo run stops automatically in both cases&#8212;target yield is met or not met.<ul><li>
<a id="pgfId-1123025"></a>When the yield is low, the failed samples are simulated first.</li><li>
<a id="pgfId-1123246"></a>When the yield is high, the run stops early when the specifications pass for the samples with high probability to fail. The remaining samples have very low probability to fail.</li></ul><br />
<a id="pgfId-1123311"></a>If the design has low yield, the failed samples are identified early and the simulation run is stopped. On the other hand, if the design has high yield, it can be determined earlier that the yield target is met if the most probable to fail samples pass the specification. If these worst samples pass the specifications, the run stops early. <br />
<a id="pgfId-1123312"></a>In both the cases, the run stops earlier than the traditional significance test method using a normal random sequence of samples. Significant time saving is observed in high yield cases, since the worst case samples are simulated much earlier in the run.<br />
<a id="pgfId-1119136"></a>The flowchart below represents the workflow used by this method: <br />
<a id="pgfId-1119313"></a><div class="webflare-div-image">
<img src="images/MCAutoStop2.gif" /></div></li></ol>










<h4>
<a id="pgfId-1119138"></a>Example</h4>

<p>
<a id="pgfId-1121064"></a>Consider the example of a two-stage OpAmp in a 45nm process with analysis specified as: <code>AC</code> and <code>TRAN</code>.</p>
<p>
<a id="pgfId-1119149"></a>Specifications are available for <code>Gain</code>, <code>UGF</code>, <code>Current</code> and <code>Voffset</code>.</p>
<p>
<a id="pgfId-1124039"></a>Now, run the Yield Verification with the <em>Reorder Samples to Speed Up Analysis</em> option enabled for target yield=<code>99.87</code> and Probability=<code>95</code>. </p>

<p>
<a id="pgfId-1124040"></a></p>
<div class="webflare-div-image">
<img width="497" height="558" src="images/vvoMCPostProc-29.gif" /></div>

<p>
<a id="pgfId-1124041"></a>The log file generated during the simulation run is shown below:</p>

<p>
<a id="pgfId-1123977"></a></p>
<div class="webflare-div-image">
<img width="684" height="492" src="images/vvoMCPostProc-30.gif" /></div>

<p>
<a id="pgfId-1121159"></a>The simulation results displayed on the <em>Results</em> tab are shown below:</p>

<p>
<a id="pgfId-1121172"></a></p>
<div class="webflare-div-image">
<img width="685" height="331" src="images/vvoMCPostProc-31.gif" /></div>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1122573"></a>By default the Results table for the Yield Verification method with sample reordering enabled does not include standard deviation (<em>std dev</em>), <em>Mean</em>, and <em>Cpk</em> columns.</div>

<h2>
<a id="pgfId-1131479"></a><a id="58171"></a>Creating Stat<a id="creatingStatsCorner"></a>istical Corners</h2>

<p>
<a id="pgfId-1131480"></a>After running Monte Carlo simulations, you can analyze the yield and identify the specifications for which the results need improvement. You can then create statistical corners to be used in further analysis and design optimization. Several methods are available for creating statistical corners&#8212;basic and advanced methods. To know more about how to create statistical corners using basic methods, see the <h-hot><a actuate="user" class="URL" href="../assembler/asmMC.html#statCorners" show="replace" xml:link="simple">Creating Statistical Corners</a></h-hot> section in the <em>Virtuoso ADE Assembler User Guide</em>.</p>
<p>
<a id="pgfId-1131482"></a>Virtuoso Variation Option provides the following two advanced methods to create statistical corners:</p>
<ul><li>
<a id="pgfId-1131486"></a><a href="vvoMCPostProc.html#27753">Worst Samples Using Sample Reordering</a></li><li>
<a id="pgfId-1131490"></a><a href="vvoMCPostProc.html#23867">K-Sigma Corners Method</a></li></ul>

<p>
<a id="pgfId-1131491"></a>To create statistical corners using advanced methods,</p>

<ul><li>
<a id="pgfId-1132214"></a>In the <em>Guided Mode</em> section, select the <em>Create Statistical Corners </em>check box and specify a target yield value. <br />
<a id="pgfId-1132221"></a><div class="webflare-div-image">
<img width="619" height="290" src="images/vvoMCPostProc-32.gif" /></div>
<a id="pgfId-1132157"></a>Select one of the following options to specify your preference for speed or accuracy:<ul><li>
<a id="pgfId-1131494"></a><em>Fast statistical Corner creation (~200 points for 3-sigma)</em>&#8212;Select this option if you prefer speed over accuracy. When you select this option, the K-Sigma Corners method is performed to create statistical corners and the K-Sigma Corners is selected in the <em>Method</em> drop-down. <br />
<a id="pgfId-1131498"></a>For information about how to use this method, see <a href="vvoMCPostProc.html#23867">K-Sigma Corners Method</a>.</li><li>
<a id="pgfId-1131499"></a><em>Highest accuracy-no hard constraint on number of sims</em>&#8212;Select this option if you prefer accuracy over speed. When you select this option, the Worst Samples method is performed to create statistical corners and the Worst Samples is selected in the Method drop-down. When to Choose Worst Samples Versus K-Sigma Corners?</li></ul></li></ul>









<p>
<a id="pgfId-1131512"></a>Both the Worst Samples and K-Sigma methods can be used to create statistical corners. </p>
<ul><li>
<a id="pgfId-1131513"></a>A corner created by the Worst Samples method is from a sample generated by the simulator. It represents the condition that allows the yield verification sign-off to pass. If the design meets specifications at the corner from the Worst Samples method, yield verification is likely to pass with the same target yield and probability. The total number of samples considered by the Worst Sample method represent the sign-off condition for the given target yield and probability.<br />
<a id="pgfId-1131514"></a>The Worst Samples method is recommended when high accuracy is needed and the number of statistical parameters is not large (&lt; 1000). For mode details about this method, refer to <a href="vvoMCPostProc.html#27753">Worst Samples Using Sample Reordering</a>.</li><li>
<a id="pgfId-1131515"></a>A corner created by the K-Sigma Corners method is based on modeling and extrapolation from the <strong>Probability Density Function</strong> (PDF) of the output. This corner is not one of the samples generated by the simulator and this method is typically faster than the Worst Samples method. <br />
<a id="pgfId-1131516"></a>The K-Sigma Corners method is strongly recommended over the Worst Samples method when the number of statistical parameters is large (&gt; 1000). For mode details about this method, refer to <a href="vvoMCPostProc.html#23867">K-Sigma Corners Method</a>.</li></ul>




<h3>
<a id="pgfId-1131519"></a><a id="27753"></a>W<a id="WorstSamples"></a>orst Samples Using Sample Reordering</h3>

<p>
<a id="pgfId-1131520"></a>In this method, the points are reordered based on the response surface modeling and sampling is stopped when the worst sample is found for each specification. The statistical corners are automatically created from the worst samples.</p>
<p>
<a id="pgfId-1131521"></a>As a first step, sample reordering is performed using the failure probability modeling as explained in the <a href="vvoMCPostProc.html#12384">Yield Verification</a> auto stop method. Since the samples are already reordered from worst to best, the worst samples method requires comparatively smaller number of simulations to run. However, considering that the failure probability modeling can have some uncertainties, a minimum of 10 samples per spec is simulated to confidently identify the worst sample. Some specifications may require to run additional simulations before stopping.</p>
<p>
<a id="pgfId-1131525"></a></p>
<p>
<a id="pgfId-1131526"></a>When you select the <em>Highest accuracy-no hard constraint on number of sims</em> option, the <code>Worst Samples</code> method is used to create statistical corners. The figure below shows the form fields for this method:</p>

<p>
<a id="pgfId-1131549"></a></p>
<div class="webflare-div-image">
<img width="663" height="658" src="images/vvoMCPostProc-33.gif" /></div>

<p>
<a id="pgfId-1131551"></a>For information about the common fields, see <h-hot><a actuate="user" class="URL" href="../Explorer/chap8.html#MC_standard" show="replace" xml:link="simple">Performing a Standard Monte Carlo Run</a></h-hot> in <em>Virtuoso ADE Explorer User Guide</em>.</p>
<p>
<a id="pgfId-1131552"></a>Note the following additional field values available for the Worst Samples method:</p>
<ul><li>
<a id="pgfId-1131553"></a>The maximum number of points (samples) to be simulated are displayed in the <em>Max Points</em> field. Value for this field is automatically calculated based on the target yield or probability value. For example, it is set to <code>2289</code> when the probability is <code>95%</code>. This value changes when you change the probability.</li><li>
<a id="pgfId-1131554"></a>In the <em>Probability</em> field, specify the probability value (confidence level). The default probability is <code>95%</code>.</li><li>
<a id="pgfId-1131555"></a>The <em>Sampling Method</em> drop-down lists two methods, <code>Low-Discrepancy Sequence</code> (default) and <code>Random</code>. </li><li>
<a id="pgfId-1131556"></a>Click the <em>Specify Instances/Devices (Not Specified) </em>button to specify the sensitive instances and devices you want to either include or exclude for applying mismatch variations. For more information, see <a actuate="user" class="URL" href="../Explorer/chap8.html#selectInstForMismatch" show="replace" xml:link="simple">Including or Excluding Instances and Devices for Applying Mismatch Variations</a>.</li></ul>



<p>
<a id="pgfId-1131558"></a>After completing the setup, run the Monte Carlo simulation.</p>
<p>
<a id="pgfId-1131559"></a>The <code>Worst Samples</code> method finds the worst sample based on the target yield and probability values, creates the statistical corners, and stops the Monte Carlo simulation when the worst sample has been found for every specification.</p>
<p>
<a id="pgfId-1131560"></a>After the simulation run is complete, statistical corners are automatically generated for each specification from the worst samples and displayed in the <em>Data View</em> assistant and the <em>Corner Setup</em> form.</p>
<p>
<a id="pgfId-1131561"></a>The flowchart below represents the workflow used by this method:</p>

<p>
<a id="pgfId-1131565"></a></p>
<div class="webflare-div-image">
<img src="images/MCAutoStop4.gif" /></div>

<p>
<a id="pgfId-1131566"></a>Alternatively, you can also use the worst samples method as a post-processing feature and create statistical corners from the simulation results. To do this, right-click the simulation results displayed on the <em>Results</em> tab and choose <em>Create Statistical Corner from Worst Sample</em>. For more information, see <h-hot><a actuate="user" class="URL" href="../assembler/asmMC.html#statsCornerFrmWorstSample" show="replace" xml:link="simple">Creating Statistical Corner from Worst Sample</a></h-hot> in the <em>ADE Assembler User Guide.</em></p>

<h4>
<a id="pgfId-1131568"></a>Example</h4>

<p>
<a id="pgfId-1131569"></a>Consider the example of the <code>Two-stage OpAmp</code> design in 45nm process with analysis specified as: <code>AC</code> and <code>TRAN</code>.</p>
<p>
<a id="pgfId-1131570"></a>The specifications specified in this example are <code>Current</code> and <code>Voffset</code>. The figure below shows the specification values that are specified on the <em>Outputs Setup</em> tab.</p>

<p>
<a id="pgfId-1131574"></a></p>
<div class="webflare-div-image">
<img width="697" height="259" src="images/vvoMCPostProc-35.gif" /></div>

<p>
<a id="pgfId-1131575"></a>Now, run the Monte Carlo simulation with the method selected as <em>Worst Samples</em> for the following target yield and probability values:</p>
<ul><li>
<a id="pgfId-1131576"></a><em>Target Yield</em>&#8212;<code>3 sigma</code></li><li>
<a id="pgfId-1131577"></a><em>Probability (1-alpha)</em>&#8212;<code>95%</code></li></ul>

<p>
<a id="pgfId-1131578"></a>The simulation run first performs initial Monte Carlo to reorder samples and then runs the worst sample algorithm to generate the worst sample for each specification. The following run log is generated for this simulation run.</p>

<p>
<a id="pgfId-1131600"></a></p>
<div class="webflare-div-image">
<img width="665" height="746" src="images/vvoMCPostProc-36.gif" /></div>

<p>
<a id="pgfId-1139635"></a>A comprehensive summary is added towards the end of the run log to show the worst samples for all the specifications together.</p>

<p>
<a id="pgfId-1139639"></a></p>
<div class="webflare-div-image">
<img width="666" height="200" src="images/vvoMCPostProc-37.gif" /></div>

<p>
<a id="pgfId-1139625"></a>The results are displayed on the <em>Results</em> tab, as shown below, which indicates that a total of <code>190</code> points were simulated while identifying the worst samples for all the four specifications.</p>

<p>
<a id="pgfId-1131606"></a></p>
<div class="webflare-div-image">
<img width="666" height="200" src="images/vvoMCPostProc-38.gif" /></div>

<p>
<a id="pgfId-1131607"></a>A statistical corner is generated for each spec in the setup (<code>Current</code> and <code>Voffset</code>). These corners can be viewed in the <em>Data View</em> assistant and <em>Corner Setup </em>form. The naming convention followed for these corners is <span class="webflare-courier-new" style="white-space:pre"><em>Stat_seq_&lt;worst_corner_number&gt;_&lt;Spec_name&gt;</em></span>.</p>

<p>
<a id="pgfId-1131612"></a></p>
<div class="webflare-div-image">
<img width="292" height="400" src="images/vvoMCPostProc-39.gif" /></div>
<h3>
<a id="pgfId-1131616"></a><a id="23867"></a><a id="Ksigma"></a>K-Sigma Corne<a id="ksigmaCorner"></a>rs Method</h3>

<p>
<a id="pgfId-1131617"></a>This method creates the K-sigma statistical corner that meets the specified target yield value and applies the stopping criteria according to which the Monte Carlo simulation is stopped when the K-sigma statistical corner has been created for each specification.</p>
<p>
<a id="pgfId-1131618"></a>It is possible that multiple corners meet the target specification criteria. Therefore, the K-sigma method finds the most representative corner by calculating the minimum distance to the nominal point. This representative corner has a greater probability to occur. The statistical corner can then be used for further analysis of the design.</p>
<p>
<a id="pgfId-1131619"></a>To prepare the setup for K-Sigma corner method:</p>
<ol><li>
<a id="pgfId-1131620"></a>Open the run options form for Monte Carlo. </li><li>
<a id="pgfId-1131621"></a>In the <em>Guided Mode</em> section, select the <em>Create Statistical Corners </em>check box.</li><li>
<a id="pgfId-1131622"></a>Specify a target yield value less than 4 sigma. For example, <code>3</code> sigma or <code>99.865%</code>. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1134430"></a>The K-sigma Corners method is available only when the yield target is less than 4 sigma. By default, Monte Carlo uses single-sided sigma because the <code>useDoubleSidedSigma</code> variable is set to <code>nil</code>. Therefore, yield is represented as probability integration from <code>-infinity</code> to <code>+K sigma</code> in Gaussian distribution, and thus, <code>3 sigma</code> is converted to <code>99.865%</code>. When this variable is set to <code>t</code>, probability integration is done from <code>-K sigma</code> to <code>+K sigma</code>, and thus, <code>3 sigma</code> is converted to <code>99.73%.</code></div></li><li>
<a id="pgfId-1134433"></a>Select the <em>Fast statistical Corner creation (~200 points for 3-sigma) </em>option. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1132966"></a>The Method drop-down list is automatically set to <code>K-Sigma Corners</code>. </div><div class="webflare-information-macro webflare-macro-tip">
<a id="pgfId-1133295"></a>
If you want to create a statistical corner with target sigma greater than <code>3</code>, you can use high yield estimation to create the statistical corner. For more information, see <a href="vvoMCPostProc.html#14085">High Yield Verification and Corner Creation</a>.
</div>
<a id="pgfId-1132994"></a>The figure below shows the form fields for this method: <br />
<a id="pgfId-1131647"></a><div class="webflare-div-image">
<img width="660" height="666" src="images/vvoMCPostProc-41.gif" /></div>
<a id="pgfId-1131649"></a>For information about the common fields, see <a actuate="user" class="URL" href="../Explorer/chap8.html#MC_standard" show="replace" xml:link="simple">Performing a Standard Monte Carlo Run</a> in <em>Virtuoso ADE Explorer User Guide</em>.<br />
<a id="pgfId-1133021"></a>Note the following additional field values available for the <code>K-Sigma Corners</code> method:<ul><li>
<a id="pgfId-1131651"></a>The maximum number of points (samples) to be simulated are displayed in the <em>Max Points</em> field. This value is automatically set to <code>200</code> for this method. </li><li>
<a id="pgfId-1131652"></a>The <em>Sampling Method</em> drop-down lists two methods, <code>Low-Discrepancy Sequence</code> (default) and <code>Random</code>. 
</li></ul></li><li>
<a id="pgfId-1131653"></a>Click the <em>Specify Instances/Devices (Not Specified) </em>button to specify the sensitive instances and devices you want to either include or exclude for applying mismatch variations. For more information, see <a actuate="user" class="URL" href="../Explorer/chap8.html#selectInstForMismatch" show="replace" xml:link="simple">Including or Excluding Instances and Devices for Applying Mismatch Variations</a>.</li><li>
<a id="pgfId-1133039"></a>Click <em>OK</em>.</li><li>
<a id="pgfId-1133063"></a>Run the Monte Carlo simulation. </li></ol>




















<p>
<a id="pgfId-1131657"></a>The fast K-sigma corner algorithm estimates the <strong>Probability Density Function</strong> (PDF) of the performance distribution maintaining the accuracy of non-normal distributions. The specification target value is computed from the PDF estimate. Corners are generated based on the modeling and extrapolation from the PDF of the output.</p>

<p>
<a id="pgfId-1131662"></a></p>
<div class="webflare-div-image">
<img width="512" height="372" src="images/vvoMCPostProc-42.gif" /></div>

<p>
<a id="pgfId-1132421"></a>The tool performs the following steps while running the K-Sigma Corners method:</p>
<ol><li>
<a id="pgfId-1131663"></a>Estimates the K-Sigma specification target. The specification target value is computed from the PDF estimate. The number of samples required to be run are based on the Monte Carlo sampling data. When the target sigma value is <code>3</code>, a maximum of <code>200</code> samples are simulated.</li><li>
<a id="pgfId-1131664"></a>Creates a representative statistical corner, which when simulated is close to the estimated value generated in step 1. This algorithm builds a model based on the statistical parameter data saved by the Monte Carlo run. At this point, a statistical corner can be generated without running any additional simulation. <br />
<a id="pgfId-1132457"></a>To verify and improve the accuracy of this statistical corner, the Worst Case Corners simulations are run. The algorithm generates its best estimate of the K-sigma statistical corner in addition to scaled corners with scale values equal to <code>0.5</code> to <code>2</code> (total of 11 scaled corners). <br />
<a id="pgfId-1131665"></a>The WCC simulation begins by first simulating the statistical corner with scale=1. If the actual simulated result is very close to the predicted value, this means the model is accurate and there is no need to simulate another scaled corners. Then, the WCC simulation stops and the K-sigma corner is created. The WCC simulation can also stop because the spec target is set to the value computed from the PDF estimate. The tolerance value is automatically specified small enough, where if the spec is met, it is unlikely that one of the scaled corners that is not simulated finds a better result. </li><li>
<a id="pgfId-1131666"></a>Creates a separate K-sigma statistical corner for each spec. </li></ol>





<h4>
<a id="pgfId-1131667"></a>Example</h4>

<p>
<a id="pgfId-1131668"></a>Consider the same setup as used in the example for Worst Samples method.</p>
<ul><li>
<a id="pgfId-1131669"></a>Analyses: <code>AC</code> and <code>TRAN</code></li><li>
<a id="pgfId-1131670"></a>Specs: <code>Current</code> and <code>Voffset</code></li></ul>

<p>
<a id="pgfId-1131671"></a>Now, run Monte Carlo with the method set to <em>K-Sigma Corners</em> and Target Sigma value set to <code>3</code>. The <code>MonteCarlo.N</code> and its children histories are created as shown below.</p>

<p>
<a id="pgfId-1131677"></a></p>
<div class="webflare-div-image">
<img width="632" height="469" src="images/vvoMCPostProc-43.gif" /></div>

<p>
<a id="pgfId-1131678"></a>The <code>MonteCarlo.N </code>history is created first and shows the general simulation data set for the simulation. Next, the simulation run proceeds to extract the statistical corners and a child history is created for each spec with run mode set to Worst Case Corners.</p>
<p>
<a id="pgfId-1131684"></a>After worst case corners are created for all the specifications, the simulation creates 3-sigma statistical corners for each specification. These corners are displayed in the Data View assistant and the Corners Setup form:</p>

<p>
<a id="pgfId-1131689"></a></p>
<div class="webflare-div-image">
<img width="319" height="461" src="images/vvoMCPostProc-44.gif" /></div>

<p>
<a id="pgfId-1131690"></a>The K-sigma statistical corners are named as <code>KSigma_&lt;spec_name&gt;</code>, where <code>K</code> is the specified sigma value. For example, the sigma value in this example is <code>3</code>; therefore, the K-sigma corner name is <code>3Sigma_&lt;spec_name&gt;</code>.</p>
<p>
<a id="pgfId-1132674"></a>In the corner details, you can see the statistical parameters used to create these corners.</p>

<p>
<a id="pgfId-1132678"></a></p>
<div class="webflare-div-image">
<img width="668" height="597" src="images/vvoMCPostProc-45.gif" /></div>

<p>
<a id="pgfId-1131695"></a>For more information, see the run log. This run log reports both the estimated K-sigma value of the spec based on the PDF and the simulated value of the corner.</p>

<p>
<a id="pgfId-1131699"></a></p>
<div class="webflare-div-image">
<img width="669" height="751" src="images/vvoMCPostProc-46.gif" /></div>

<p>
<a id="pgfId-1131700"></a>When you open the Results tab, two tabs will be displayed at the bottom for this Monte Carlo simulation run&#8212;<code>MonteCarlo.N</code> and <code>MonteCarlo.N.&lt;spec-name&gt;</code>, where MonteCarlo.N is the history for the K-sigma Corners run and <code>MonteCarlo.N.&lt;spec-name&gt;</code> is the child history for the Worst Case Corners run for the last spec in the setup.</p>

<p>
<a id="pgfId-1131704"></a></p>
<div class="webflare-div-image">
<img width="664" height="746" src="images/vvoMCPostProc-47.gif" /></div>

<p>
<a id="pgfId-1131710"></a>Now, you can simulate the design over the generated statistical corner for further analysis or design tuning.</p>

<h4>
<a id="pgfId-1131712"></a>Creating<a id="KSigma"></a>
 K-Sigma Corners After Running a Normal Monte Carlo Simulation</h4>

<p>
<a id="pgfId-1131713"></a>If you have already run a normal Monte Carlo analysis, you can create a K-Sigma corner from the results as a post-processing step.</p>
<p>
<a id="pgfId-1131714"></a>Perform the following steps to create the K-sigma statistical corner:</p>
<ol><li>
<a id="pgfId-1131715"></a>Open the Monte Carlo results in the <em>Yield</em> view and identify the specification for which you need to improve the yield.</li><li>
<a id="pgfId-1131716"></a>Right-click anywhere in the row for the identified specification and choose C<em>reate Statistical Corner (Specify Yield in Sigma)</em>.<br />
<a id="pgfId-1131717"></a>The <em>Create Statistical Corner</em> form appears.<br />
<a id="pgfId-1131721"></a><div class="webflare-div-image">
<img src="images/KSigma_form.gif" /></div></li><li>
<a id="pgfId-1131722"></a>Specify a sigma value less than 4 in the <em>Specify corner sigma</em> field. The default value is <code>3</code>. </li><li>
<a id="pgfId-1131723"></a>Click <em>OK</em>.</li></ol>








<p>
<a id="pgfId-1131728"></a>An additional simulation will be run and its corresponding run log will be displayed. After the simulation is complete, the K-sigma corner is displayed in the <em>Corners Setup </em>form, as shown in the figure below. </p>

<p>
<a id="pgfId-1131732"></a></p>
<div class="webflare-div-image">
<img width="587" height="502" src="images/vvoMCPostProc-49.gif" /></div>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1133612"></a>The corner is named as <span class="webflare-courier-new" style="white-space:pre"><em>&lt;sigma_value&gt;</em></span><code>Sigma_Gain</code>, where <span class="webflare-courier-new" style="white-space:pre"><em>&lt;sigma_value&gt;</em></span> is the corner sigma value you specify in the <em>Create Statistical Corner</em> form. For example, if you specify the sigma value as <code>2</code>, the statistical corner name will be <code>2Sigma_Gain</code>.</div>

<div class="webflare-information-macro webflare-macro-warning">
<a id="pgfId-1133613"></a>
Starting from IC6.1.7 ISR4, the format in which Monte Carlo results are saved has changed. Therefore, if you use the results from IC6.1.7 ISR4 or later releases to create statistical corners in IC6.1.7 ISR3 or an earlier release, Virtuoso may stop abruptly. It is recommended not to use Monte Carlo results saved in the new format in any previous release.</div>
<h2>
<a id="pgfId-1133615"></a><a id="14085"></a>High Yield Verification and Corner Creation</h2>

<p>
<a id="pgfId-1126580"></a>While running Monte Carlo run mode, you can perform high yield estimation by using the following two methods:</p>
<ul><li>
<a id="pgfId-1126584"></a><a href="vvoMCPostProc.html#87176">Scaled-Sigma Sampling Method</a></li><li>
<a id="pgfId-1126588"></a><a href="vvoMCPostProc.html#88798">Worst Case Distance Method</a></li></ul>

<p>
<a id="pgfId-1126589"></a>You can run Monte Carlo with these methods by aiming for a yield higher than 3 sigma. That is, by using the following settings on the Monte Carlo options form:</p>
<ul><li>
<a id="pgfId-1126590"></a>Selecting <em>Verify the yield (sign-off)</em> option under <em>What would you like to do?</em> </li><li>
<a id="pgfId-1126591"></a>Setting the What is the yield requirement? field to a value greater than <code>3</code><br />
<a id="pgfId-1126738"></a><div class="webflare-div-image">
<img width="668" height="209" src="images/vvoMCPostProc-51.gif" /></div></li></ul>





<p>
<a id="pgfId-1126593"></a>With the above settings the method in the <em>Advanced - Show All Options</em> section is changed to <code>Scaled-Sigma Sampling</code>. Another method that becomes available is <code>Worst Case Distance</code>. The sections given below provide details about these methods.</p>

<h3>
<a id="pgfId-1126596"></a><a id="87176"></a>Scaled-Sigma S<a id="sssmethod"></a>ampling Method</h3>

<p>
<a id="pgfId-1126597"></a>The Scaled-Sigma Sampling method generates samples where the standard deviation has been scaled up. As a result, a larger number of samples fall into the failure region of the distorted distribution. The failure rate is then estimated from the scaled samples. </p>
<p>
<a id="pgfId-1126598"></a>The Scaled-Sigma Sampling method is a resource-intensive method, but offers the following advantages:</p>
<ul><li>
<a id="pgfId-1126599"></a>Efficiency for high dimensionality (very large numbers of devices and statistical parameters)</li><li>
<a id="pgfId-1126600"></a>Accuracy even for cases of high non-linearity</li><li>
<a id="pgfId-1126601"></a>Efficiency when the design is constrained by a large number of specifications</li></ul>


<p>
<a id="pgfId-1126967"></a>This figure shows the unscaled performance distribution (scaling factor s=1) compared to the scaling factor s=2. </p>

<p>
<a id="pgfId-1126971"></a></p>
<div class="webflare-div-image">
<img src="images/SSS_calculation.gif" /></div>

<p>
<a id="pgfId-1126975"></a>Here, <code>x </code>= process parameter and <img width="15" height="18" src="images/vvoMCPostProc-53.gif" />
 = failure region.</p>


<p>
<a id="pgfId-1126982"></a>The failure rate can be calculated as<a href="#pgfId-1126978">1</a>: </p>

<div class="webflare-div-image">
<img width="213" height="37" src="images/vvoMCPostProc-54.gif" /></div>
<p>
<a id="pgfId-1126986"></a></p>
<div class="webflare-div-image">
<img src="images/SSS_calculation1.gif" /></div>

<p>
<a id="pgfId-1126987"></a>The above equation models the failure rate as a function of the scaling factor. The model has very few constraints on the failure region and can target multiple failure regions. The model is constructed based on a set of scaled Monte Carlo runs. Then, the unscaled yield estimate (s=1) can be found. </p>
<p>
<a id="pgfId-1126602"></a>The figure below shows the advanced options that appear when you select this method on the Monte Carlo options form:</p>

<p>
<a id="pgfId-1126626"></a></p>
<div class="webflare-div-image">
<img width="662" height="600" src="images/vvoMCPostProc-56.gif" /></div>

<p>
<a id="pgfId-1126627"></a>For details about general form fields on this form, see <h-hot><a actuate="user" class="URL" href="../Explorer/chap8.html#MC_standard" show="replace" xml:link="simple">Performing a Standard Monte Carlo Run</a></h-hot> in <em>Virtuoso ADE Explorer User Guide</em>.</p>
<p>
<a id="pgfId-1126629"></a>Note the following additional fields available for the Scaled-Sigma Sampling method:</p>
<ul><li>
<a id="pgfId-1126630"></a>In the <em>Number of Points</em> field, specify the number of points you want to run. This field is set to <code>7000</code> by default. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1127043"></a>The Scaled-Sigma sampling method includes multiple Monte Carlo runs with different scaling factors. Therefore, the total number of points required to run are calculated by adding points from all the Monte Carlo runs. This value is displayed in the status for the run history.</div>
<a id="pgfId-1127079"></a><div class="webflare-div-image">
<img width="668" height="66" src="images/vvoMCPostProc-57.gif" /></div></li><li>
<a id="pgfId-1126631"></a>Select the <em>Create Statistical Corners</em> check box if you want to create statistical corners. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1127105"></a>When this option is selected, the task selection in the <em>Guided Mode</em> is changed to <em>Create statistical corners</em>, but it continues to use the same settings for yield verification.</div></li><li>
<a id="pgfId-1126632"></a>The <em>Sampling Method</em> drop-down lists the following three methods: <code>Low-Discrepancy Sequence</code> (default), <code>Latin Hypercube</code>, and <code>Random</code>. For details about these sampling methods, see <a actuate="user" class="URL" href="../Explorer/chap8.html#MC_standard" show="replace" xml:link="simple">Performing a Standard Monte Carlo Run</a> in <em>Virtuoso ADE Explorer User Guide</em>.</li><li>
<a id="pgfId-1134444"></a>In the <em>Seed</em> field, specify a seed for the Monte Carlo analysis. By always specifying the same seed, you can reproduce a previous experiment. If you do not specify a seed, the value <code>12345</code> is used. </li><li>
<a id="pgfId-1134522"></a>In the <em>First Point</em> field, specify a starting run number. The first point specifies the run that Monte Carlo begins with. To reproduce a run or sequence of runs, you need to specify the same starting run number and seed value.</li><li>
<a id="pgfId-1150608"></a>In the <em>Netlist Options</em> field, specify the options that you want to generate in the netlist. For example, &quot;<code>nullmfactorcorrelation=yes</code>&quot;.</li><li>
<a id="pgfId-1134523"></a>Click the <em>Specify Instances/Devices (Not Specified) </em>button to specify the sensitive instances and devices you want to either include or exclude for applying mismatch variations. For more information, see <a actuate="user" class="URL" href="../Explorer/chap8.html#selectInstForMismatch" show="replace" xml:link="simple">Including or Excluding Instances and Devices for Applying Mismatch Variations</a>.</li></ul>












<p>
<a id="pgfId-1126875"></a>After modifying the values on the form as required, click <em>OK</em> to start the Monte Carlo run.</p>
<p>
<a id="pgfId-1126940"></a>The <em>Run Log | Log File Viewer</em> window appears displaying information regarding the progress of the Monte Carlo Sampling. The run starts with the scaled sigma value of 1, calculates yield for each corner at that sample, and then uses the next sample with a scaled sigma value for yield calculation. It continues to create samples till the target yield specified in the <em>Target Yield</em> field on the Monte Carlo run options form is achieved.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1127005"></a>Monte Carlo simulation with this method is stopped when simulation detects a uniform parameter distribution. This is because uniform statistical model parameters cannot be scaled. In this case, you can use the normal Monte Carlo Sampling method.</div>
<p>
<a id="pgfId-1128144"></a>The <em>Run Log</em>/<em>Log File Viewer</em> window appears displaying information about the progress of the Monte Carlo Sampling run, the scaled sigma value, the Monte Carlo yield and the predicted yield at each iteration, and the summary of the High Yield Estimation run. </p>

<p>
<a id="pgfId-1128148"></a></p>
<div class="webflare-div-image">
<img width="669" height="695" src="images/vvoMCPostProc-58.gif" /></div>

<p>
<a id="pgfId-1128149"></a>For each output, the run log reports the following information:</p>
<ul><li>
<a id="pgfId-1140041"></a>The 90% confidence interval of the yield estimate in parenthesis, for example, (<code>2.2028, 2.47348</code>) si the 90% confidence interval for Voffset, as shown in the figure above.</li><li>
<a id="pgfId-1140084"></a>K sigma target value, where k is the target yield specified on the Monte Carlo run options form. You can consider this target for the outputs to get K sigma performance of this design.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1140746"></a>This value is reported in the run log only when <em>Create Statistical Corner</em> is selected on the run options form.</div></li><li>
<a id="pgfId-1140120"></a>The functional yield in sigma value, which is an estimate based on a functional pass or fail criteria. A failed point is counted only when the simulation or measurement evaluation fails.</li><li>
<a id="pgfId-1141665"></a>The model file (log failure) shows the internal model used to predict the failure rate. You can use this to inspect the model used for SSS algorithm.</li><li>
<a id="pgfId-1142445"></a>For the range and tolerance specifications, the output log prints the two confidence intervals in the following format:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1142544">
<a id="pgfId-1142544"></a>Test: opamp090:full_diff_opamp_AC:1 Corner: Nominal Spec: opamp090:full_diff_opamp_AC:1.Current</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1142545">
<a id="pgfId-1142545"></a>Yield in Sigma: -367.446e-3, 90% Confidence interval: (-553.439e-3, -181.885e-3)</pre><pre class="webflare-pre-block webflare-courier-new" id="#id1142546">
<a id="pgfId-1142546"></a>4 sigma target: (0.00712165, 0.00713843), 90% Confidence intervals for low and high targets: (0.00712051, 0.00712278) (0.00713749, 0.00713916)</pre></li></ul>








<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1141139"></a>The model file (log failure) and K sigma target values are not reported for outputs when a model cannot be built either because the yield is too high or due to a failure in the model building process.</div>
<p>
<a id="pgfId-1140094"></a>The results for the run are displayed on the <em>Results</em> tab, as shown below.</p>

<p>
<a id="pgfId-1127214"></a></p>
<div class="webflare-div-image">
<img width="669" height="460" src="images/vvoMCPostProc-59.gif" /></div>

<p>
<a id="pgfId-1127256"></a>The <em>Results</em> tab includes the following fields:</p>
<ul><li>
<a id="pgfId-1127257"></a><em>Test</em>&#8212;Displays the name of the test.</li><li>
<a id="pgfId-1127258"></a><em>Name</em>&#8212;Displays the name of the specification.</li><li>
<a id="pgfId-1127259"></a><em>Yield in Sigma</em>&#8212;Displays the yield value. This value is calculated as shown below:<br />
<a id="pgfId-1127260"></a><code>Yield in Sigma = sqrt(2) * erfinv (Yield in Percentage/100)</code><br />
<a id="pgfId-1127261"></a>where, <code>erfinv</code> is the inverse error function.<br />
<a id="pgfId-1127262"></a>If the yield in sigma is greater than <code>8.2</code>, the yield in percentage is displayed as <code>100%</code>.</li><li>
<a id="pgfId-1127263"></a><em>Yield in Percentage</em>&#8212;Displays the yield value in percentage. 
The yield in percentage value is by default displayed with 10 digits. To change the number of digits to be displayed, set the value in the <code><em><a actuate="user" class="URL" href="../vvoUG/appEnvVars.html#digitsToShowForYieldInPercentage" show="replace" xml:link="simple">digitsToShowForYieldInPercentage</a></em></code> environment variable. You can display a maximum of 53 digits.</li><li>
<a id="pgfId-1127265"></a><em>Target</em>&#8212;Displays the target to be achieved for the given specification.</li><li>
<a id="pgfId-1127266"></a><em>Status</em>&#8212;Displays the convergence status for the given specification.</li></ul>








<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1127267"></a>When the initial Monte Carlo yield is poor, the yield verification run does not provide accurate results and is stopped to avoid running additional scaled Monte Carlo samples. Below is an example of run log that is generated in this case:</div>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1127268"></a>Scaled Sigma: 1

Monte Carlo Yield:
&#160;&#160;&#160;&#160;Test: test1:1 Corner: Nominal Spec:
&#160;&#160;&#160;&#160;test1:1.T1F2 Yield: 83.3333%<br />Monte Carlo Sampling #0 completed.<br />HighYieldEstimation.0 stopped because all specs have a low yield.</pre>

<p>
<a id="pgfId-1127274"></a>The <em>Status</em> column for a specification on the <em>Results</em> tab of the Scaled-Sigma Sampling results displays <code>done</code> even when the specification failures are very few. The <em>Yield in Sigma</em> column displays the minimum sigma value.</p>
<p>
<a id="pgfId-1127275"></a>However, if the specification failures are very few, but the specification result is nonlinear and cannot determine whether the calculated yield is above a given number, the <em>Yield in Sigma</em> column for that specification displays <code>N.A</code>.</p>
<p>
<a id="pgfId-1136977"></a>You can plot a spec verses sigma normal quantile graph to show the estimated result values. For more details, refer to <a href="vvoMCPostProc.html#87883">Plotting a Normal Quantile Graph for the Scaled-Sigma Sampling Method</a>.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1134004"></a>If you selected the Create Statistical Corners check box in the advanced run options for Monte Carlo, statistical corners are created and added to the Corners tree in the Data View assistant. For more details, refer to <a actuate="user" class="URL" href="../assembler/asmMC.html#_axlStatisticalCornerChoice" show="replace" xml:link="simple">Creating a Statistical Corner with Statistical Parameter Values</a>.</div>

<h4>
<a id="pgfId-1149612"></a>About Confidence Interval and Number of Samples</h4>

<p>
<a id="pgfId-1149668"></a>The change in confidence interval resulting from an increase or decrease in the total number of samples cannot be determined in advance, because it depends on the given circuit and failure boundary.</p>
<p>
<a id="pgfId-1149664"></a>You can generate a quantitative example by running the Scales-Sigma Sampling method on a linear failure boundary case. The following table reports the <code>5%</code> and <code>95%</code> quantile values, generated based on <code>100 </code>Scales-Sigma Sampling runs for each result (combination of number of samples and sigma target).</p>
<table class="webflareTable" id="#id1149842">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1149844">
<a id="pgfId-1149844"></a>Number of Samples</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1149846">
<a id="pgfId-1149846"></a>4 Sigma</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1149848">
<a id="pgfId-1149848"></a>6 Sigma</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1149850"></a>1000</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1149852"></a><code>3.30 4.75</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1149854"></a><code>4.56 7.49</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1149856"></a>7000</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1149858"></a><code>3.62 4.32</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1149860"></a><code>5.31 6.75</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1149862"></a>50000</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1149864"></a><code>3.80 4.12</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1149866"></a><code>5.70 6.36</code></p>
</td>
</tr>
</tbody></table>
<p>
<a id="pgfId-1149739"></a>Depending on the failure boundary shape, the confidence interval may differ. The linear boundary results can be used as a reference because of the following reasons:</p>
<ul><li>
<a id="pgfId-1149760"></a>Many failure boundaries are not very strongly nonlinear.</li><li>
<a id="pgfId-1149761"></a>The confidence interval tends to be:<ul><li>
<a id="pgfId-1149762"></a>Small: If the failure rate scales faster than linear boundary</li><li>
<a id="pgfId-1149763"></a>Large: If failure rate scales slower than linear boundary<br /><div class="webflare-div-image">
<img width="668" height="195" src="images/vvoMCPostProc-60.gif" /></div></li></ul></li></ul>





<h4>
<a id="pgfId-1134007"></a>Creating Corners from Scaled-Sigma Sampling Method<a id="SSS_corner"></a></h4>

<p>
<a id="pgfId-1127773"></a>The statistical corner generated from the Scaled-Sigma Sampling method is a sequence-based corner. A corner is generated for each selected specification. Based on the sigma value that you specify, the target value of the spec is estimated. Then, using one of the simulated points, a sample is identified that most closely matches this value. This identified sample is used to create the statistical corner.</p>
<p>
<a id="pgfId-1127774"></a>Perform the following steps to create statistical corner from Scaled-Sigma Sampling method:</p>
<ol><li>
<a id="pgfId-1127776"></a>After running a Monte Carlo simulation with <em>Method</em> as <code>Scaled-Sigma Sampling</code> and <em>Target Yield</em> <code>&gt; 3</code>, open the <em>Results</em> tab as described in the previous section. </li><li>
<a id="pgfId-1127777"></a>Right-click the selection and choose one of the create corner options as shown in the figure below:<br />
<a id="pgfId-1127782"></a><div class="webflare-div-image">
<img width="676" height="262" src="images/vvoMCPostProc-61.gif" /></div>
<a id="pgfId-1127783"></a>You can select multiple specifications using the <code>Ctrl</code> key.<br />
<a id="pgfId-1128407"></a>When you click these options, the <em>High Yield Estimation Corner</em> form appears. <br />
<a id="pgfId-1134260"></a><div class="webflare-div-image">
<img src="images/HYE_corner1.gif" /></div><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1134274"></a>The corner sigma value displayed on this form is same as <em>Target Yield</em> on the Monte Carlo setup form. If <em>Target Yield </em>is not set, by default, the corner sigma is set to <code>4</code>.</div></li><li>
<a id="pgfId-1127788"></a>Specify the corner sigma or percentage value equal to or greater than 4.</li><li>
<a id="pgfId-1127789"></a>Click <em>OK</em>.</li></ol>














<p>
<a id="pgfId-1127790"></a>The statistical corner for the specified value is created and displayed in the Data View assistant and Corner Setup form. For example, if you specify the sigma value=4, the statistical corner created is <code>4Sigma_&lt;SpecName&gt;</code> as shown in the figures below.</p>

<p>
<a id="pgfId-1128476"></a></p>
<div class="webflare-div-image">
<img width="318" height="308" src="images/vvoMCPostProc-63.gif" /></div>

<p>
<a id="pgfId-1128486"></a>Notice the corner is created using the statistical values of the variables for the point that matches the target value of the spec most closely.</p>

<h4>
<a id="pgfId-1137159"></a><a id="87883"></a>Plotting a Normal Quantile G<a id="MC_SSS_QQplot"></a>raph for the Scaled-Sigma Sampling Method</h4>

<p>
<a id="pgfId-1137170"></a>After verifying yield using the scaled-sigma sampling method, you can plot a spec verses sigma normal quantile graph (QQ Plot) to show the estimated result values at a number of normal quantiles. It also helps in comparing the result values for an output (<code>Voffset</code> in the example shown below) with the values predicted for a standard normal distribution.</p>

<p>
<a id="pgfId-1137489"></a></p>
<div class="webflare-div-image">
<img width="668" height="783" src="images/vvoMCPostProc-64.gif" /></div>

<p>
<a id="pgfId-1137356"></a>In the graph shown above, Y-axis shows the estimated Monte Carlo results for output <code>Voffset</code> and the X-axis shows the normal quantiles of that sample data from -6 sigma to +6 sigma.</p>
<p>
<a id="pgfId-1137358"></a>You can compare the normal quantile graph (shown in red) with the linear trend line, which is a reference line that signifies how the data is plotted if it is perfectly normally distributed. Points close to this line indicate that the data is close to normal distribution and the points far from this line indicate that the data is not close to normal distribution.</p>

<h3>
<a id="pgfId-1127754"></a><a id="88798"></a>Worst Case Dista<a id="wcdmethod"></a>nce Method</h3>

<p>
<a id="pgfId-1127401"></a>When the target yield sigma value is greater than <code>3</code>, you can also select the Worst Case Distance method to verify the yield of the design. In this method, the high yield estimation finds the shortest distance&#8212;referred to as Worst Case Distance or WCD&#8212;from the nominal point to the specification boundary in the process/mismatch parameter space. The worst case distance is a good indicator of circuit yield, where yield in percentage is approximately equal to <br /></p>

<div class="webflare-div-image">
<img width="663" height="57" src="images/vvoMCPostProc-65.gif" /></div>

<p>
<a id="pgfId-1126644"></a>where, <code>erf</code> is the error function.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1126645"></a>WCD provides accurate yield estimation when the specification boundary is linear in the process or mismatch parameter space. Strong non-linearity of the specification boundary can cause difficulty in finding the WCD points. A non-linear specification however may not result in a non-linear specification boundary in statistical space.</div>
<p>
<a id="pgfId-1126646"></a>The Worst Case Corners method supports only statistical parameters that follow a normal distribution. It begins with a Monte Carlo Sampling run, uses the Monte Carlo results to filter non-high yield specifications (for which the Monte Carlo run gives accurate yield estimates), and then applies the WCD method on each high yield specification by doing the following:</p>
<ul><li>
<a id="pgfId-1126647"></a>Reads the process and mismatch parameter information from the Monte Carlo results</li><li>
<a id="pgfId-1126648"></a>Performs parameter reduction based on the Monte Carlo results</li><li>
<a id="pgfId-1126649"></a>Runs multiple sensitivity analysis iterations to find the WCD</li></ul>


<p>
<a id="pgfId-1126650"></a>You can improve the circuit yield by creating a statistical corner from the worst case distance point. For more details, refer to <a href="vvoMCPostProc.html#78899">Creating Statistical Corners From a Worst Case Distance Analysis</a>.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1126655"></a>Before you run Monte Carlo with this method, ensure that the Range and tolerance (<code>tol</code>) type specifications are disabled or deleted in the Outputs Setup tab. This is because these two specifications are not supported for Worst Case Distance. You can also convert the range and tolerance (<code>tol</code>) type specifications into two separate specifications for the min and max boundaries. </div>
<p>
<a id="pgfId-1126656"></a>The figure below shows the advanced options that appear when <code>Worst Case Distance</code> is selected in the <em>Method</em> drop-down. </p>
<p>
<a id="pgfId-1126690"></a></p>

<div class="webflare-div-image">
<img width="668" height="790" src="images/vvoMCPostProc-66.gif" /></div>

<p>
<a id="pgfId-1127445"></a>For information about the common fields in all the Monte Carlo run methods, see <h-hot><a actuate="user" class="URL" href="../Explorer/chap8.html#MC_standard" show="replace" xml:link="simple">Performing a Standard Monte Carlo Run</a></h-hot> in <em>Virtuoso ADE Explorer User Guide</em>.</p>
<p>
<a id="pgfId-1127442"></a>Note the following additional field values available for this method:</p>
<ol><li>
<a id="pgfId-1126696"></a>The <em>Number of Points</em> field is by default set to <code>200</code>. This field is disabled when the <em>Automatic Number of Monte Carlo Points</em> check box<em> </em>is selected.</li><li>
<a id="pgfId-1126697"></a>Select the <em>Create Statistical Corners</em> check box if you want to create statistical corners. When this option is selected, the task selection in the <em>Guided Mode</em> is changed to <em>Create statistical corners</em>.</li><li>
<a id="pgfId-1126698"></a>The <em>Sampling Method</em> drop-down lists the following three methods: <code>Low-Discrepancy Sequence</code> (default), <code>Latin Hypercube</code>, and <code>Random</code>. </li><li>
<a id="pgfId-1126699"></a>In the <em>Worst Case Distance Options</em> section, specify the following fields:<ol><li>
<a id="pgfId-1126700"></a>The <em>Use Monte Carlo History</em> option is enabled if you have already run a Monte Carlo simulation. You can use the process and mismatch data from the history of that run. In this drop-down list, you can select a reference Monte Carlo run history from the list of available histories. It is essential that the simulation data of the selected history contains the process and mismatch data. If any one of these data is not available, an error message is displayed.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1148888"></a>When you use the Monte Carlo run history, number of points are not printed in the run log.</div></li><li>
<a id="pgfId-1126701"></a>The <em>Automatic Number of Monte Carlo Points</em> check box<em> </em>is selected by default. This is used to enable the automatic selection of number of Monte Carlo points. When you select this check box, the <em>Number of Points</em> and <em>Automatic Variable Reduction</em> fields become unavailable. To manually provide the number of Monte Carlo points to be simulated, disable this check box.</li><li>
<a id="pgfId-1126702"></a>By default, the <em>Au</em>tomatic Variable Reduction check box is disabled. To enable this check box, deselect the <em>Automatically Select Number of Monte Carlo Points</em> check box. The <em>Au</em>tomatic Variable Reduction option reduces the set of statistical variables by eliminating insignificant variables (variables that have no variation or have no influence on the WCD point). Insignificant variables bring noise and require more simulations for sensitivity analysis. Therefore, it is recommended to enable variable reduction.</li><li>
<a id="pgfId-1126703"></a>To ignore the specifications for which Monte Carlo yield is less than a specified percentage, select the <em>Skip Specs With MC Yield &lt;</em> checkbox and specify a sigma value. The default value of this field is <code>3</code> sigma; therefore, specifications for which the Monte Carlo yield is less than 99.86% are ignored. If you want to run high yield estimation on all the specifications, disable the <em>Skip Specs With MC Yield &lt;</em> check box.</li><li>
<a id="pgfId-1126704"></a>In the <em>Max Number of Iterations</em> field, specify the maximum number of iterations to be run for each specification. The default number of iterations is <code>10</code>.</li></ol></li><li>
<a id="pgfId-1126705"></a>Click the <em>Specify Instances/Devices (Not Specified) </em>button to specify the sensitive instances and devices you want to either include or exclude for applying mismatch variations. For more information, see <a actuate="user" class="URL" href="../Explorer/chap8.html#selectInstForMismatch" show="replace" xml:link="simple">Including or Excluding Instances and Devices for Applying Mismatch Variations</a>.</li><li>
<a id="pgfId-1126709"></a>Click <em>OK</em> to start the Monte Carlo run.</li></ol>











<p>
<a id="pgfId-1126710"></a>The <em>Run Log | Log File Viewer</em> window appears displaying information regarding the progress of the initial Monte Carlo Sampling run, the yield estimate at each iteration, and the summary of the Monte Carlo run.</p>

<p>
<a id="pgfId-1126714"></a></p>
<div class="webflare-div-image">
<img width="668" height="580" src="images/vvoMCPostProc-67.gif" /></div>

<p>
<a id="pgfId-1126716"></a>The log file also displays the sigma of the statistical variable, which helps in understanding the results when you work with different units. The log file also displays the statistical parameter contribution values for the WCD point and device contribution values for the squared WCD values.</p>

<p>
<a id="pgfId-1127518"></a></p>
<div class="webflare-div-image">
<img width="668" height="266" src="images/vvoMCPostProc-68.gif" /></div>

<p>
<a id="pgfId-1128591"></a>If the <em>Create Statistical Corners</em> check box was selected, this method creates corners for specification that meets the target yield. If the Monte Carlo yield is very low for a given specification, the Worst Case Distance method skips that specification and does not create corners. In addition, an error message is displayed that suggests to decrease the sigma value in the <em>Skip Specs with MC Yield</em> field.</p>

<p>
<a id="pgfId-1128595"></a></p>
<div class="webflare-div-image">
<img width="668" height="339" src="images/vvoMCPostProc-69.gif" /></div>

<p>
<a id="pgfId-1127572"></a>The Results tab shows the following columns:</p>
<ul><li>
<a id="pgfId-1127573"></a><em>Name</em>: Displays the name of specification.</li><li>
<a id="pgfId-1127574"></a><em>Yield in Sigma</em>: Displays the yield value in sigma. This value is calculated as shown below:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1127575">
<a id="pgfId-1127575"></a>Yield in Sigma = sqrt(2) * erfinv (Yield in Percentage/100)</pre>
<a id="pgfId-1127576"></a>where, <code>erfinv</code> is the inverse error function.<br />
<a id="pgfId-1127577"></a>If the yield in sigma is greater than <code>8.2</code>, the yield in percentage is displayed as <code>100%</code>.</li><li>
<a id="pgfId-1127578"></a><em>Yield in Percentage</em>: Displays the yield value in percentage. This value is calculated as shown below:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1127579">
<a id="pgfId-1127579"></a>Yield in Percentage = 0.5 + 0.5 * erf (WCD/sqrt(2))</pre>
<a id="pgfId-1127580"></a>where, <code>erf</code> is the error function.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1127581"></a>The yield in percentage value is by default displayed with 10 digits. To change the number of digits to be displayed for this value, set the value of variable <code><em><a actuate="user" class="URL" href="../vvoUG/appEnvVars.html#digitsToShowForYieldInPercentage" show="replace" xml:link="simple">digitsToShowForYieldInPercentage</a></em></code> environment variable. You can display a maximum of 53 digits for these values. </div></li><li>
<a id="pgfId-1127583"></a><em>MC Yield</em>: Displays the yield value from the Monte Carlo run.</li><li>
<a id="pgfId-1127584"></a><em>Target</em>: Displays the target to be achieved for the given specification.</li><li>
<a id="pgfId-1127585"></a><em>Sigma to Targe</em>t: Displays the sigma to target value.</li><li>
<a id="pgfId-1127586"></a><em>Status</em>: Displays the convergence status for each specification. <br />
<a id="pgfId-1127588"></a>T<a id="convergenceCriteria"></a>he tool uses the following two convergence criteria:<ul><li>
<a id="pgfId-1127589"></a>The predicted WCD point is on the specification boundary (within tolerance &lt; 0.02). The log file reports the &#39;Spec value error&#39; at each iteration.<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1127590">
<a id="pgfId-1127590"></a>spec_value_error_ratio = abs(spec_value - spec_target)/max(abs(nominal_spec_value - spec_target), 6*spec_sigma)</pre></li><li>
<a id="pgfId-1127591"></a>The angle between the gradient vector and the statistical variable vector is &lt; 8 deg. The log file reports the &#39;Gradient direction error&#39; at each iteration.</li></ul><br />
<a id="pgfId-1127592"></a>The convergence status can be any of the following:<br />
<a id="pgfId-1127631"></a> <table class="webflareTable" id="#id1127593">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1127595">
<a id="pgfId-1127595"></a>Status</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1127597">
<a id="pgfId-1127597"></a>Description</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1127599"></a><em>converged after </em><code>x</code><em> iterations</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1127601"></a>The yield estimate converged after <span class="webflare-courier-new" style="white-space:pre"><em>x</em></span> iterations. </p>
<p>
<a id="pgfId-1127602"></a>For example, the yield estimate for the <code>Slew_rate</code> specification converged after <code>2</code> iterations.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1127604"></a><em>skipped because the Monte Carlo yield is less than &lt;value in percent&gt;</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1127606"></a>Yield estimation was skipped for the specification because the Monte Carlo yield estimate was too low. The low yield threshold value is specified in the run option form in the <em>Skip specs with MC Yield &lt; value</em> field, which is by default set to <code>3 sigma</code> or <code>99.73%</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1127608"></a><em>least error WCD, did not converge after x iterations</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1127610"></a>Yield estimation did not converge after the maximum number of iterations has completed. The specification failure boundary is strongly non-linear or the maximum number of iterations is too small.</p>
<p>
<a id="pgfId-1127611"></a>The yield estimate with the least error among iterations is reported.</p>
<p>
<a id="pgfId-1127612"></a>For details on the high yield verification criteria, see <h-hot><a href="vvoMCPostProc.html#convergenceCriteria">convergence criteria</a></h-hot>. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1127615"></a><em>lower boundary, did not converge after x iterations</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1127617"></a>Yield estimation did not converge because the specification has an unrealistic yield estimate which is larger than 12 sigma in yield after the maximum number of iterations. The yield estimate increased at each iteration, but never converged.</p>
<p>
<a id="pgfId-1127618"></a>For details on the high yield verification criteria, see <h-hot><a href="vvoMCPostProc.html#convergenceCriteria">convergence criteria</a></h-hot>. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1127621"></a><em>estimate based on MC data | lower boundary | least error WCD, stopped because evaluating of the WCD point sensitivity failed on iteration x</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1127623"></a>Yield estimation stopped before reaching the maximum number of iterations because of a simulation or measurement error in evaluating the WCD point sensitivity.</p>
<p>
<a id="pgfId-1127624"></a>The lower boundary is reported if it is identified, if not, the yield estimate with the least error among iterations is reported.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1127626"></a><em>estimate based on MC data | lower boundary | least error WCD, stopped because evaluation of the WCD point failed on iteration x</em></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1127628"></a>Yield estimation stopped before reaching the maximum number of iterations because of a simulation or measurement error in evaluating the WCD point.</p>
<p>
<a id="pgfId-1127629"></a>The lower boundary is reported if it is identified, if not, the yield estimate with the least error among iterations is reported.</p>
<p>
<a id="pgfId-1127630"></a>If the run was stopped on the first iteration, the estimate based on the Monte Carlo result is reported.</p>
</td>
</tr>
</tbody></table></li></ul>






















<h4>
<a id="pgfId-1128680"></a>C<a id="78899"></a>reating Statistical Corners From <a id="WCD_statsCorner"></a>a Worst Case Distance Analysis</h4>

<p>
<a id="pgfId-1128681"></a>After running the Monte Carlo run, if you find that the required yield value is not achieved for any specification, you can create statistical corner based on the worst case distance point for that specification. You can use these new corners to run optimization or manually tune the design accordingly. </p>
<p>
<a id="pgfId-1127880"></a>For example, if you run Monte Carlo for a design without skipping the specs that have monte carlo<a id="run1_result"></a> yield of less than 3 sigma, the results might show specifications that have yield value less that 3 sigma, as shown below:</p>

<p>
<a id="pgfId-1127886"></a></p>
<div class="webflare-div-image">
<img width="668" height="260" src="images/vvoMCPostProc-70.gif" /></div>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1127887"></a>In the above results, the monte carlo yield for Swing and PhaseMargin is less than <code>3</code> sigma. To improve the performance for these specifications, you can create a statistical corner based on the Worst Case Distance (WCD) point of these specifications. For this, you can specify a target yield value greater than three sigma, either in terms of sigma or in terms of percentage value.</div>
<p>
<a id="pgfId-1127888"></a>To create a WCD corner based on yield in sigma, right-click a specification and choose <em>Create Corner (Specify Yield In Sigma</em>). </p>
<p>
<a id="pgfId-1127889"></a>The High Yield Estimation Corner form appears, as shown below.</p>

<p>
<a id="pgfId-1128742"></a></p>
<div class="webflare-div-image">
<img src="images/HYESigmaForm.gif" /></div>

<p>
<a id="pgfId-1127898"></a>In the High Yield Estimation Corner form, do the following:</p>
<ol><li>
<a id="pgfId-1127899"></a>In the <em>Specify corner sigma</em> field, specify a target sigma value to which you want to extend the WCD point.</li><li>
<a id="pgfId-1127900"></a>Click <em>OK</em>.<br />
<a id="pgfId-1127901"></a>A statistical corner is created by using the specification values that can improve the circuit yield to the target sigma value. The name of the statistical corner is prefixed with <code>WCD_</code>. <br />
<a id="pgfId-1128769"></a>The new corner is added to the Data View and the <strong>
Corners Setup</strong>
 form.<br />
<a id="pgfId-1128832"></a>Alternatively, you can choose <em>Create Corner (Specify Yield In Percentage</em>) and specify the target yield value to be achieved in terms of percentage.<br /><div class="webflare-information-macro webflare-macro-tip">
<a id="pgfId-1127904"></a>
For a normal design, you can set for a corner sigma value equal to 3.0. However, for a high yield design, you can set a corner sigma value equal to 6.0. A good practice is to increase the sigma value by 0.5 to 1.0 in each iteration instead of increasing it by large amount.</div>
<a id="pgfId-1128840"></a>In the example shown above, let us create two statistical corners by setting the corner sigma for Swing and PhaseMargin equal to <code>4</code> and <code>3</code>, respectively. In this case, the corners are created as shown below.<br />
<a id="pgfId-1128845"></a><div class="webflare-div-image">
<img width="414" height="295" src="images/vvoMCPostProc-72.gif" /></div></li></ol>












<p>
<a id="pgfId-1127905"></a>The statistical corners created display the target sigma value in tooltip.</p>
<p>
<a id="pgfId-1128892"></a>Now, if you enable corners and run global optimization on the design, the results for the new statistical corners appear. From the results of an optimization run, you can identify a best design point and save the values of variables and parameters from that point into a setup state. For this, right-click the design point and choose <em>Save variables and parameters to Setup State</em>, as shown below.</p>

<p>
<a id="pgfId-1129088"></a></p>
<div class="webflare-div-image">
<img width="668" height="508" src="images/vvoMCPostProc-73.gif" /></div>

<p>
<a id="pgfId-1129089"></a>The values of all the variables and parameters for this design point are saved as a state named as <span class="webflare-courier-new" style="white-space:pre"><em>&lt;history-name&gt;</em></span><code>.PointID.</code><span class="webflare-courier-new" style="white-space:pre"><em>&lt;point-ID&gt;</em></span>.</p>
<p>
<a id="pgfId-1129160"></a>To verify if there is any improvement in the yield for the selected specifications, run a Monte Carlo simulation again by using the saved values are used for the variables and parameters. For this, load the state in the Variables and Parameters assistant, as shown below.</p>

<p>
<a id="pgfId-1129164"></a></p>
<div class="webflare-div-image">
<img width="668" height="504" src="images/vvoMCPostProc-74.gif" /></div>

<p>
<a id="pgfId-1129224"></a>Using the same Monte Carlo setup as used earlier, run a simulation.</p>
<p>
<a id="pgfId-1127919"></a>For the example given above, the results show significant improvement in the yield and the worst case distance values, as shown below:</p>

<p>
<a id="pgfId-1127924"></a></p>
<div class="webflare-div-image">
<img width="668" height="237" src="images/vvoMCPostProc-75.gif" /></div>

<p>
<a id="pgfId-1127925"></a>You can see that the yield in sigma value has increased for Swing and PhaseMargin as compared to the results of the <h-hot><a href="vvoMCPostProc.html#run1_result">previous</a></h-hot> high yield estimation run.</p>
<p>
<a id="pgfId-1127557"></a></p>
<p>
<a id="pgfId-1131061"></a></p>
<p>
<a id="pgfId-1125986"></a></p>



<ol><li>
<a id="pgfId-1126978"></a>Shupeng Sun, Xin Li, Hongzhou Liu, Kangsheng Luo, and Ben Gu, &quot;Fast statistical analysis of rare circuit failure events via scaled-sigma sampling for high-dimensional variation space,&quot; IEEE/ACM International Conference on Computer-Aided Design (ICCAD), pp. 478-485, 2013.</li></ol>


<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="vvoGettingStarted.html" id="prev" title="Introduction to Virtuoso Variation Option">Introduction to Virtuoso Varia ...</a></em></b><b><em><a href="vvoHYE.html" id="nex" title="Improving Yield for a Design">Improving Yield for a Design</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2020, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>