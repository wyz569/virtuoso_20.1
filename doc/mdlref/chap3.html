
<html><head><title>Running MDL in Batch Mode</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="kamal" />
<meta name="CreateDate" content="2019-09-26" />
<meta name="CreateTime" content="1569494364" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes SpectreMDL (the Spectre Measurement Description Language)." />
<meta name="DocTitle" content="Spectre Circuit Simulator Measurement Description Language User Guide and Reference" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Running MDL in Batch Mode" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.2" />
<meta name="Keyword" content="mdlref" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2019-09-26" />
<meta name="ModifiedTime" content="1569494364" />
<meta name="NextFile" content="chap4.html" />
<meta name="Group" content="MDL" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="chap2.html" />
<meta name="Product" content="Spectre" />
<meta name="ProductFamily" content="Spectre" />
<meta name="ProductVersion" content="19.1" />
<meta name="RightsManagement" content="Copyright 2012-2019 Cadence Design Systems Inc." />
<meta name="Title" content="Spectre Circuit Simulator Measurement Description Language User Guide and Reference -- Running MDL in Batch Mode" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="product_feature" content="" />
<meta name="product_subfeature" content="" />
<meta name="Version" content="19.1" />
<meta name="SpaceKey" content="mdlref191" />
<meta name="webflare-version" content="1.4" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="mdlrefTOC.html">Contents</a></li><li><a class="prev" href="chap2.html" title="Constructing MDL Expressions">Constructing MDL Expressions</a></li><li style="float: right;"><a class="viewPrint" href="mdlref.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="chap4.html" title="Running MDL in Post-processing Mode">Running MDL in Post-processing ...</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Spectre Circuit Simulator Measurement Description Language User Guide and Reference<br />Product Version 19.1, October 2019</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;">

<h1>3
<a id="pgfId-1032658"></a></h1>
<h1>
<a id="pgfId-1032659"></a><hr />
Running MDL in Batch Mode<hr />
</h1>
<p>
<a id="pgfId-1034429"></a>This chapter describes the syntax and options for the <code>spectremdl</code> command, which runs the Measurement Description Language (MDL) tool. The <code>spectremdl</code> command can now be used for design files written in both Spectre and SPICE languages.</p>
<h2>
<a id="pgfId-1032661"></a><a id="85990"></a>spectremdl<a id="marker-1032972"></a><a id="marker-1033023"></a><a id="marker-1033021"></a></h2>
<p>
<a id="pgfId-1032662"></a>Runs MDL on design files written in the Spectre language.</p>
<p>
<a id="pgfId-1033046"></a>In the following syntax, the vertical bar ( | ) separates alternatives.</p>
<h3>
<a id="pgfId-1032663"></a>Syntax</h3>
<pre class="webflare-courier-new">
<a id="pgfId-1034680"></a>spectremdl
&#160;&#160;&#160;&#160;[<code><em>options</em></code>] [<vlog-bold>
-batch</vlog-bold>
] <code><em>MDL_file <br /></em></code> | <vlog-bold>
-batch</vlog-bold>
 <code><em>MDL_file </em></code><vlog-bold>
-design </vlog-bold>
<code><em>design_file
&#160;&#160;&#160;&#160;| </em></code><vlog-bold>
-usag</vlog-bold>
<code><em>e 
&#160;&#160;&#160;&#160;| </em></code><vlog-bold>
-h </vlog-bold>
<code><em>function_name</em></code></pre>
<pre class="webflare-courier-new">
<a id="pgfId-1034721"></a>options :: =
&#160;&#160;&#160;&#160;    <code><em>spectre_options <br /></em></code> &#160;&#160;  | <vlog-bold>
-measure</vlog-bold>
 <code><em>output_file<br /></em></code> &#160;&#160;  | <vlog-bold>
-mt0 
</vlog-bold>
&#160;&#160;&#160;&#160;    | <vlog-bold>
-tab 
</vlog-bold>
&#160;&#160;&#160;&#160;    | <vlog-bold>
-prec &#8217;</vlog-bold>
<code><em>format</em></code><vlog-bold>
&#8217;
</vlog-bold>
&#160;&#160;&#160;&#160;    | <vlog-bold>
-rmrawfiles 
</vlog-bold>
&#160;&#160;&#160;&#160;    | <vlog-bold>
-eng</vlog-bold>
 <code><em>numdigits </em></code></pre>
<h3>
<a id="pgfId-1032700"></a>Arguments</h3>
<p>
<a id="pgfId-1035625"></a></p>
<table class="webflareTable" id="#id1035629">
<tbody><tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035631"></a><strong>-batch</strong></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035633"></a>A command line option used to specify the MDL control file. Notice that you can omit this option and enter simply the name of the MDL control file when the base name of the MDL control file is the same as that of design file. You must specify both <br />-batch and -design arguments if the base names are different.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035675"></a><span class="webflare-courier-new" style="white-space:pre"><em>MDL_file</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035677"></a>The path and filename of the MDL control file to be used. You must specify the control file.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035709"></a><strong>-design</strong></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035711"></a>A command line option used to specify the design file.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035730"></a><span class="webflare-courier-new" style="white-space:pre"><em>design_file</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035732"></a>The path and filename of the design file to be simulated. If the <code>-design</code> option is omitted, MDL looks for a design file with the same basename as the <span class="webflare-courier-new" style="white-space:pre"><em>MDL_file</em></span> name, but with an extension of <code>.scs</code> or <code>.ckt</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035734"></a><strong>-usage</strong></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035736"></a>A command line option used to display syntax information for the <code>spectremdl</code> command.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035738"></a><code>-h</code> <span class="webflare-courier-new" style="white-space:pre"><em>function_name</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035740"></a>A command line option used to display online help on predefined functions. For example, <code>spectremdl -h cross</code>. For a list of predefined functions, type <code>spectremdl -h functions</code> in a terminal window.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035856"></a><span class="webflare-courier-new" style="white-space:pre"><em>spectre_options</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035858"></a>Spectre options to be passed to the Spectre simulator. For a list of the options you can use, see <code>spectre -h</code> or <h-hot>Chapter 2, &#8220;Spectre Command Options,&#8221;</h-hot> in <em>Spectre Circuit Simulator Reference</em>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035860"></a><strong>-measure</strong></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035862"></a>A command line option used to specify the output file. <br />If you do not use this option, the output of the measurements is placed in a file with the same base name as the <span class="webflare-courier-new" style="white-space:pre"><em>MDL_file</em></span> and with the extension <code>.measure</code>. For example, if the <span class="webflare-courier-new" style="white-space:pre"><em>MDL_file</em></span> is <code>amp.mdl</code>, the output file, by default, has the name <code>amp.measure</code>. This default file is placed in the directory that holds the <span class="webflare-courier-new" style="white-space:pre"><em>design_file</em></span>. So if the design file is <code>./d2/arith.ckt</code>, the default measure file is <code>./d2/amp.measure</code>.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035864"></a><span class="webflare-courier-new" style="white-space:pre"><em>output_file</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035866"></a>The path and file to be used for output data generated by measurements.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035953"></a><vlog-bold>
-mt0</vlog-bold>
</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035955"></a>A command line option used to generate <code>.mt</code>* format data files as well as the default .measure file.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035957"></a><strong>-tab</strong></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035959"></a>A command line option used to present data in a tabular format in the <code>.measure</code> file. This is useful for swept data.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035961"></a><strong>-nosort</strong></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1035963"></a>A command line option to specify that variables in the measure file should not be sorted. When this option is specified, the exported variables in the mdl file appear in the <code>.measure</code> file in the order in which they are specified in the netlist. Note that by default, they appear in alphabetically sorted order in <code>.measure</code> file.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036053"></a><strong>-prec &#8217;</strong><span class="webflare-courier-new" style="white-space:pre"><em>format</em></span><strong>&#8217;</strong></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036055"></a>A command line option used to specify the number of significant digits to be displayed in the signal value in the <code>.measure</code> file. For example, <code>&#39;%.15g&#39;</code> displays 15 significant digits for the measured value.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036057"></a><strong>-rmrawfiles</strong></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036059"></a>A command line option used to specify that the raw directory, including the MDL measure results, be deleted after the <code>.measure</code> output file is created.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036117"></a><vlog-bold>
-eng</vlog-bold>
<code> </code><span class="webflare-courier-new" style="white-space:pre"><em>numdigits</em></span></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1036119"></a>A command line option to specify the engineering format of the signal value output to the measurement file. <span class="webflare-courier-new" style="white-space:pre"><em>numdigits</em></span> is the number of significant digits of the signal value. If <span class="webflare-courier-new" style="white-space:pre"><em>numdigits</em></span> is not specified, 6 significant digits are displayed. If both <code>-prec</code> and <code>-eng</code> arguments are specified, -prec is ignored.</p>
</td>
</tr>
</tbody></table>
<h3>
<a id="pgfId-1032727"></a>Examples</h3>

<p>
<a id="pgfId-1033567"></a>The following command creates a <code>.measure</code> file called <code>amp.measure</code> in the directory where you run the command, </p>

<p>
<a id="pgfId-1033568"></a>spectremdl -batch amp.mdl -design amp.scs</p>

<p>
<a id="pgfId-1033569"></a>You can simplify the above command because the MDL control file and the design file have the same basename. The equivalent simpler command is</p>

<pre class="webflare-courier-new">
<a id="pgfId-1033573"></a>spectremdl amp.mdl</pre>

<p>
<a id="pgfId-1033572"></a>You need the options when the MDL control file and the design file have different base names or when the design file has a suffix other than <code>.scs</code> or <code>.ckt</code>.</p>

<p>
<a id="pgfId-1034660"></a>For example,</p>
<pre class="webflare-courier-new">
<a id="pgfId-1033575"></a>spectremdl -batch control.mdl -design topnetlist.scs</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1034661"></a>spectremdl -batch control.mdl -design netlist.sp</pre>

<p>
<a id="pgfId-1033578"></a>The following command creates a measurement result file called <code>mdlresults</code> in your home directory.</p>

<pre class="webflare-courier-new">
<a id="pgfId-1033579"></a>spectremdl amp.mdl -measure $HOME/mdlresults</pre>
<p>
<a id="pgfId-1033580"></a>The following command creates a <code>.measure</code> file in the directory where the netlist is located but places the database in the <code>./test26/amp.raw</code> directory.</p>
<pre class="webflare-courier-new">
<a id="pgfId-1033312"></a>spectremdl netlist/amp.mdl -raw ./test26/amp.raw</pre>
<pre class="webflare-courier-new">
<a id="pgfId-1034679"></a>spectremdl -batch amp.mdl -design ./netlist/amp.scs -raw ./test26/amp.raw</pre>
<p>
<a id="pgfId-1033747"></a>The following command presents data in a tabular format.</p>
<pre class="webflare-courier-new">
<a id="pgfId-1033757"></a>spectremdl -tab -batch foreach.mdl -design dflip.scs</pre>
<p>
<a id="pgfId-1033758"></a>results in the following <code>.measure</code> file (called <code>foreach.measure</code>)</p>
<pre class="webflare-courier-new">
<a id="pgfId-1033869"></a>Exported variables from PSF results directory:  dflip.raw

date               :  9:54:01 AM, Tue May 10, 2005
design             :  * DFF
simulator          :  spectre

Swept Measurements :
Measurement Name   :  findqcross
Analysis Type      :  tran
temp            vdd             clk_q_delay
25              1.5             1.91866e-10
25              1.8             1.61376e-10
25              2               1.5053e-10
50              1.5             1.96657e-10
50              1.8             1.66472e-10
50              2               1.55428e-10
75              1.5             2.01521e-10
75              1.8             1.71556e-1
75              2               1.60476e-10
100             1.5             2.0633e-10
100             1.8             1.76775e-10
100             2               &#160;&#160;&#160;&#160;1.65437e-10</pre>
<p>
<a id="pgfId-1033905"></a>Without the <code>-tab</code> option, the same command results in the following .measure file</p>
<pre class="webflare-courier-new">
<a id="pgfId-1034079"></a>Exported variables from PSF results directory:  dflip.raw

date               :  10:20:35 AM, Tue May 10, 2005
design             :  * DFF
simulator          :  spectre

Swept Measurements :
Measurement Name   :  findqcross
Analysis Type      :  tran
clk_q_delay              temp @ 25
&#160;&#160;&#160;&#160;    vdd @ 1.5         =  1.91866e-10<br />clk_q_delay              temp @ 25
&#160;&#160;&#160;&#160;    vdd @ 1.8         =  1.61376e-10<br />clk_q_delay              temp @ 25
&#160;&#160;&#160;&#160;    vdd @ 2           =  1.5053e-10<br />clk_q_delay              temp @ 50
&#160;&#160;&#160;&#160;    vdd @ 1.5         =  1.96657e-10<br />clk_q_delay              temp @ 50
&#160;&#160;&#160;&#160;    vdd @ 1.8         =  1.66472e-10<br />clk_q_delay              temp @ 50
&#160;&#160;&#160;&#160;    vdd @ 2           =  1.55428e-10<br />clk_q_delay              temp @ 75
&#160;&#160;&#160;&#160;    vdd @ 1.5         =  2.01521e-10<br />clk_q_delay              temp @ 75
&#160;&#160;&#160;&#160;    vdd @ 1.8         =  1.71556e-10<br />clk_q_delay              temp @ 75
&#160;&#160;&#160;&#160;    vdd @ 2           =  1.60476e-10<br />clk_q_delay              temp @ 100
&#160;&#160;&#160;&#160;    vdd @ 1.5         =  2.0633e-10<br />clk_q_delay              temp @ 100
&#160;&#160;&#160;&#160;    vdd @ 1.8         =  1.76775e-10<br />clk_q_delay              temp @ 100
&#160;&#160;&#160;&#160;    vdd @ 2&#160;&#160;      =  1.65437e-10<a id="73329"></a></pre>
<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="chap2.html" id="prev" title="Constructing MDL Expressions">Constructing MDL Expressions</a></em></b><b><em><a href="chap4.html" id="nex" title="Running MDL in Post-processing Mode">Running MDL in Post-processing ...</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2019, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>