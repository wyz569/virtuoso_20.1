
<html><head><title>Power-Grid View Generation</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="pallabi" />
<meta name="CreateDate" content="2020-09-17" />
<meta name="CreateTime" content="1600411325" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="This manual describes the use flow information in Voltus-Fi Custom Power Integrity Solution." />
<meta name="DocTitle" content="Voltus-Fi Custom Power Integrity Solution XL User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Power-Grid View Generation" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.2" />
<meta name="Keyword" content="voltusFIXL" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2020-09-17" />
<meta name="ModifiedTime" content="1600411325" />
<meta name="NextFile" content="hierarchical.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Digital IC Design,Digital IC Design" />
<meta name="PrevFile" content="whatif.html" />
<meta name="c_product" content="Virtuoso Power System,Voltus-Fi" />
<meta name="Product" content="Virtuoso Power System,Voltus-Fi" />
<meta name="ProductFamily" content="Virtuoso Power System,Voltus-Fi" />
<meta name="ProductVersion" content="ICADVM20.1" />
<meta name="RightsManagement" content="Copyright 2012-2020 Cadence Design Systems Inc." />
<meta name="Title" content="Voltus-Fi Custom Power Integrity Solution XL User Guide -- Power-Grid View Generation" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="ICADVM20.1" />
<meta name="SpaceKey" content="voltusFIXLICADVM201" />
<meta name="webflare-version" content="2.0" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="voltusFIXLTOC.html">Contents</a></li><li><a class="prev" href="whatif.html" title="What-If EMIR Analysis">What-If EMIR Analysis</a></li><li style="float: right;"><a class="viewPrint" href="voltusFIXL.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="hierarchical.html" title="Hierarchical EMIR Analysis">Hierarchical EMIR Analysis</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Voltus-Fi Custom Power Integrity Solution XL User Guide<br />Product Version ICADVM20.1, October 2020</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>14
<a id="pgfId-55593"></a><a id="97089"></a></h1>
<h1>
<a id="pgfId-55595"></a><hr />
<a id="58483"></a>Power-Grid View Generation<hr />
</h1>

<ul><li>
<a id="pgfId-80994"></a><a href="pgvcreation.html#85918">What is Power-Grid View?</a></li><li>
<a id="pgfId-95328"></a><a href="pgvcreation.html#10023">PGV Generation in Voltus-Fi-XL</a></li><li>
<a id="pgfId-86908"></a><a href="pgvcreation.html#15444">Data Requirements and Flow for PGV Creation</a></li><li>
<a id="pgfId-88863"></a><a href="pgvcreation.html#49567">Open Access (OA)-Based Library Generation</a></li><li>
<a id="pgfId-90887"></a><a href="pgvcreation.html#47366">Automatic Generation of Layer Map Files</a></li><li>
<a id="pgfId-84832"></a><a href="pgvcreation.html#32294">Generating Power-Grid Views in Voltus-Fi-XL</a></li><li>
<a id="pgfId-87621"></a><a href="pgvcreation.html#28221">Troubleshooting Information for PGV Generation in Voltus-Fi-XL</a></li></ul>







<h2>
<a id="pgfId-95003"></a><a id="85918"></a>What is Power-Grid View?</h2>

<p>
<a id="pgfId-95044"></a>A power-grid view (PGV) is a model view of the design that contains information about the power ports of the cell or block. It also contains information about the internal power grid, intrinsic capacitance, and the tap current distribution within the cell or block. </p>

<h2>
<a id="pgfId-95040"></a><a id="10023"></a>PGV Generation in Voltus-Fi-XL</h2>

<p>
<a id="pgfId-86861"></a>Increasing operating frequency and density of IC designs increases the need for IR drop and <a id="marker-86862"></a>Electromigration (EM) power-grid analysis. Power-grid signoff analysis is provided by Voltus in the digital domain, and Voltus-Fi-XL in the analog domain. Voltus-Fi-XL provides the ability to create <a id="marker-86863"></a>power-grid views (PGVs) of an analog design block that can be used in Voltus for mixed-signal analysis. PGVs can be generated both in the GUI and batch command mode in Voltus-Fi-XL.</p>
<p>
<a id="pgfId-95174"></a>PGVs provide an accurate characterization of capacitance and currents, and power-grid extraction. Voltus uses these views to model power rail and power distribution information for each instance of the cell in the design for dynamic or static full-chip power-grid analysis. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-87287"></a>Both Voltus and Voltus-Fi-XL support PGV generation only for power pins.</div>
<p>
<a id="pgfId-75102"></a>For more information about PGVs, refer to the &#8220;Power-Grid Library Generation&#8221; chapter in the <em>Voltus IC Power Integrity Solution User Guide</em>.</p>

<h4><em>
<a id="pgfId-95183"></a>Related Topics</em></h4>

<p>
<a id="pgfId-95187"></a><a href="batchmode.html#96075">create_pgv</a>, <a href="pgvcreation.html#32294">Generating Power-Grid Views in Voltus-Fi-XL</a>, <a href="appC_form_descriptions.html#56110">Create Power Grid Views Form</a></p>

<h2>
<a id="pgfId-86896"></a><a id="15444"></a>Data Requirements and Flow for PGV Creation</h2>

<p>
<a id="pgfId-87116"></a>Power-grid view generation in Voltus-Fi-XL depends upon the simulator-generated database and current files. For generating PGVs in Voltus-Fi-XL, ensure the following while performing simulation <em>using </em>Spectre<em> APS/XPS</em>.</p>
<ul><li>
<a id="pgfId-86968"></a>Enable the <code>emir</code> mode. The EMIR analysis is run like a regular APS/XPS simulation with the additional <code>+emir</code> option. For details, see <a href="dataprep.html#62634">Simulation Requirements and Setup</a> in the &#8220;Data Preparation&#8221; chapter.</li><li>
<a id="pgfId-87304"></a>Generate the current files for all the power nets for which PGVs are being generated. This is done by specifying UTI commands in the Spectre input file. The syntax of the command is as follows:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id87305">
<a id="pgfId-87305"></a>uti0 uti signal=<code><em>net_name</em></code> start=<code><em>start_time</em></code> cycles=<code><em>number_of_cycles_for_this_measure</em></code> intervals=<code><em>number_of_points</em></code> clockcycle=<code><em>clock_period</em></code> method=[0|1|2][0|1|2][0|1|2] filename=<code><em>filename_prefix_for_this_measure</em></code> termflag=0 Namemangling=0 </pre>
<a id="pgfId-87306"></a>The syntax contains the following parameters:<ul><li>
<a id="pgfId-87307"></a><code>signal=</code><span class="webflare-courier-new" style="white-space:pre"><em>signal_name</em></span><br />
<a id="pgfId-87308"></a>Specifies the net name for which current is to be calculated. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-88139"></a>Ensure that the net name is specified along with the instance hierarchy name. For example, if your instance hierarchy name is <code>IO</code>, then specify the signal name as <code>IO.VDD</code> for the <code>VDD</code> net.</div></li><li>
<a id="pgfId-87309"></a><code>start</code>=<span class="webflare-courier-new" style="white-space:pre"><em>start_time</em></span><br />
<a id="pgfId-87310"></a>Specifies the start time from which the current will be written in the current file.</li><li>
<a id="pgfId-87311"></a><code>cycles=</code><span class="webflare-courier-new" style="white-space:pre"><em>number_of_cycles_for_this_measure</em></span><br />
<a id="pgfId-87312"></a>Specifies the number of clock cycles to be captured in the current file. By default, one cycle is captured.</li><li>
<a id="pgfId-87313"></a><code>intervals=<span class="webflare-courier-new" style="white-space:pre"><em>number_of_points</em></span></code><br />
<a id="pgfId-87314"></a>Specifies the number of time points or measurement intervals within a clock cycle. </li><li>
<a id="pgfId-87315"></a><code>clockcycle</code>=<span class="webflare-courier-new" style="white-space:pre"><em>clock_period</em></span><br />
<a id="pgfId-87316"></a>Specifies the length of the clock cycle or the total duration for which the current information is being written in the current file. You must specify the unit.</li><li>
<a id="pgfId-87317"></a><code>method=[0|1|2][0|1|2][0|1|2]</code><br />
<a id="pgfId-87318"></a>Specifies the method that the simulator uses in post-processing clock analysis data. <br />
<a id="pgfId-87926"></a><code>[012]</code> The number in the first position, <code>(0)</code>, specifies the method of peak current calculation.<br />
<a id="pgfId-87927"></a><code>[012]</code> The number in the second position, <code>(1)</code>, specifies the method of average current calculation.<br />
<a id="pgfId-87321"></a><code>[012] </code>The number in the third position, <code>(2)</code>, specifies the method of RMS current calculation.<br />
<a id="pgfId-87322"></a><code>0</code>: Reports the maximum out of each interval over all periods.<br />
<a id="pgfId-87323"></a><code>1</code>: Reports the average out of each interval over all periods.<br />
<a id="pgfId-87324"></a><code>2</code>: Does not calculate peak, average, or RMS current.<br />
<a id="pgfId-87325"></a>The default is <code>212</code>, which is average current calculation.</li><li>
<a id="pgfId-87326"></a><code>filename=</code><span class="webflare-courier-new" style="white-space:pre"><em>filename_prefix_for_this_measure</em></span> <br />
<a id="pgfId-87327"></a>Specifies the prefix for the current files that are being generated. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-87858"></a>For Voltus-Fi-XL, ensure that the prefix provided is <code>&#8220;vps&#8221;</code>. For example, your filename could be <code>vps_VDD.ptiavg</code>.</div></li><li>
<a id="pgfId-87868"></a><code>termflag [0 | 1]</code><br />
<a id="pgfId-87869"></a>Specifies the terminals which will be output. Specify <code>0</code> to output the first three terminals. Specify <code>1</code> to output all the terminals.</li><li>
<a id="pgfId-87890"></a><code>Namemangling</code><br />
<a id="pgfId-87891"></a>Specifies namemangling. When set to <code>0</code>, specifies that names should not be mangled.<br />
<a id="pgfId-87862"></a>Here is an example of this command.<pre class="webflare-pre-block webflare-courier-new" id="#id87333">
<a id="pgfId-87333"></a>uti0 uti signal=&quot;IO.VDD&quot; start=0n cycles=1 intervals=133 clockcycle=2ns method=&quot;212&quot; filename=&quot;vps&quot; termflag=0 Namemangling=0</pre></li></ul></li><li>
<a id="pgfId-89892"></a>In the Spectre input emir conf file, specify <code>eisopt save_gnd_caps=1 </code>to include the grid capacitances in the EMIR database so that they can be used in power-grid flow. For example:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id89893">
<a id="pgfId-89893"></a>net name=[I0.*] analysis=[iavg irms vmax vavg]</pre><pre class="webflare-pre-block webflare-courier-new" id="#id89894">
<a id="pgfId-89894"></a>eisopt save_gnd_caps=1</pre><pre class="webflare-pre-block webflare-courier-new" id="#id89635">
<a id="pgfId-89635"></a>emirutil autorun=[true]</pre></li></ul>






















































<p>
<a id="pgfId-87334"></a>The following table shows the required inputs for generating power-grid views in Voltus-Fi-XL.</p>

<h4>Table 14-1
<a id="pgfId-87364"></a>Inputs Required for PGV Generation</h4>
<table class="webflareTable" id="#id87335">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id87337">
<a id="pgfId-87337"></a>Type of Inputs</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id87339">
<a id="pgfId-87339"></a>Details</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-87341"></a><code>Simulation database</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-87343"></a>It is required as input for performing EMIR analysis in Voltus-Fi-XL.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-87345"></a><code>Quantus Techfile</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-87347"></a>It is required for reading the technology data for PGV generation.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-87349"></a><code>LEF DEF file</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-87351"></a>It includes the LEF information for the technology data. It is required for port connectivities.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-88791"></a><code>Macro LEF file</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-88793"></a>It specifies the LEF information for the design.</p>
<p>
<a id="pgfId-88942"></a>Note: In case the technology data and design data are in the same LEF file, you do not need to specify the Macro LEF file separately.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-88787"></a><code>OA Library</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-88849"></a>It specifies the OpenAccess (OA) database library name for PGV generation. </p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-87353"></a><code>PGDB layer map file</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-87355"></a>It provides mapping between the layer names in the xDSPF (simulation EMIR database) to the layer names in the technology file.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-87357"></a><code>LEF DEF layer map file</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-87359"></a>It provides mapping between the layer names in the LEF file to the layer names in the technology file.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-87361"></a><code>Net names</code></p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-87363"></a>It is required for pin information.</p>
</td>
</tr>
</tbody></table>

<p>
<a id="pgfId-86884"></a>The following diagram illustrates the flow of PGV generation in Voltus-Fi-XL:</p>

<p><strong>Figure 14-1
<a id="pgfId-87378"></a>Power-Grid View Generation Flow in Voltus-Fi-XL</strong></p>
<p>
<a id="pgfId-87058"></a></p>
<div class="webflare-div-image">
<img width="493" height="346" src="images/pgvcreation-2.gif" /></div>
<h2>
<a id="pgfId-88699"></a><a id="49567"></a>Open Acces<a id="OpenAccessLibrary"></a>s (OA)-Based Library Generation</h2>

<p>
<a id="pgfId-89443"></a>Voltus-Fi-XL lets you specify an OpenAccess (OA) database for PGV Generation. You can either specify the LEF technology file/Macro LEF file or the OA libraries. The OA library files contain information from both the LEF technology file and the Macro LEF file.The layer map file is automatically created from the specified OA file. Alternatively, you can specify the layer map file.</p>
<p>
<a id="pgfId-89444"></a>In the GUI, the OA libraries can be specified in the <em>OA Libs</em> field of the Create Power Grid Views form. This is shown in the subsequent section.</p>
<p>
<a id="pgfId-88722"></a>In batch mode, the OA library can be specified by using the <code>-oa_lib</code> parameter of the <a href="batchmode.html#47912">create_pgv</a> command.</p>

<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-89874"></a>
The OA library should have either the abstract view or the layout view to read the required LEF pin information. The tool reads the abstract view to get the pin information and if this view is not present, it can read this information from the layout view.</div>
<h2>
<a id="pgfId-90103"></a><a id="47366"></a>Automatic Gen<a id="AutomaticGenerationLayermap"></a>eration of Layer Map Files</h2>

<p>
<a id="pgfId-90149"></a>The PGV flow in Voltus-Fi requires the following layer map information:</p>
<ul><li>
<a id="pgfId-90225"></a>LEF layer map file: Provides the mapping between the LEF layers and layers in the technology file.</li><li>
<a id="pgfId-90248"></a>PGDB layer map file: Provides the mapping between the xDSPF layers and layers in the technology file.</li></ul>

<p>
<a id="pgfId-90276"></a>These layer map files can either be specified in batch mode and the GUI. However, if not specified, the software generates these files for PGV generation.</p>

<h3>
<a id="pgfId-90444"></a>Automatic Generation of the LEF layer map File</h3>

<p>
<a id="pgfId-90938"></a>The following parameter of the <code>create_pgv</code> command is used to specify the LEF layer map file:</p>
<p>
<a id="pgfId-90939"></a><code>create_pgv -lef_layer_map </code><span class="webflare-courier-new" style="white-space:pre"><em>filename</em></span></p>
<p>
<a id="pgfId-90940"></a>The above parameter is optional. If specified, the software uses the specified layer map file for running the PGV flow. If not specified, Voltus-Fi automatically generates the LEF layer map file. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-90941"></a>Voltus-Fi generates the LEF layer map only for metal layers. The layers below the metal layers are not included in the mapping. This means, if a macro LEF file has ports in lower layers, they will not be included in the mapping.</div>
<p>
<a id="pgfId-90953"></a>The PGDB layer map file provides a mapping between the DSPF layer names that are written in the simulation database and the technology file layer names. Multiple DSPF layers can be mapped to one technology file layer.</p>
<p>
<a id="pgfId-90954"></a>The following parameter of the <code>create_pgv</code> command is used to specify the PGDB layer map file:</p>
<p>
<a id="pgfId-90955"></a><code>create_pgv -pgdb_layer_map p</code><span class="webflare-courier-new" style="white-space:pre"><em>gdb_layermap_file_name</em></span></p>
<p>
<a id="pgfId-90956"></a>To generate the layer map file automatically, do not specify the above option. In this case, the software generates the PGDB layer map file with the name, <code>&#8220;VFI_generated_pgdb_layer_map.txt&#8221;</code>. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-90957"></a>The DSPF file should include the &#8220;<code>*LAYER_MAP</code>&#8221; section information. </div>
<p>
<a id="pgfId-90958"></a>An example of the <code>*LAYER_MAP</code> section for a third-party DSPF file is shown below:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-90959"></a>*LAYER_MAP</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-90960"></a>*0 SUBSTRATE</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-90961"></a>*1 AP&#160;&#160;    ITF=AP</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-90962"></a>*2 M0_A&#160;&#160;  ITF=M0</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-90963"></a>*3 M0_B&#160;&#160;   ITF=M0</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-90964"></a>*4 M1_A&#160;&#160;   ITF=M1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-90965"></a>*5 M1_B&#160;&#160;   ITF=M1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-90966"></a>*6 M0_A_SRM_SP&#160;&#160; ITF=M0</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-90967"></a>*7 M0_B_SRM_SP&#160;&#160;  ITF=M0</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-90968"></a>*8 M0_A_SRM_2P&#160;&#160;  ITF=M0</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-90969"></a>*9 M0_B_SRM_2P&#160;&#160; ITF=M0</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-90970"></a>*10 M1_A_SRM_SP&#160;&#160; ITF=M1</pre>

<p>
<a id="pgfId-90971"></a>An example of the <code>*LAYER_MAP</code> section for a Quantus DSPF file is shown below:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-90972"></a>*LAYER_MAP</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-90992"></a>*0 none</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-90973"></a>*1 M4</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-90974"></a>*2 M3</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-90975"></a>*3 M2</pre>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-91005"></a>This feature is available only with the Quantus versions, EXT 16.1.x and later.</div>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-90976"></a>If the DSPF file does not contain the &#8220;<code>*LAYER_MAP</code>&#8221; section, an error message is displayed asking the user to specify the PGDB layer map by using the <code>-pgdb_layer_map</code> parameter of the <code>create_pgv</code> command.</div>

<h4>
<a id="pgfId-90977"></a>Workaround for Missing Layer Information in the Auto-Generated PGDB layer Map File</h4>

<p>
<a id="pgfId-90978"></a>If the software issues a warning message during the auto-generation of the layer map file, such as the one shown below, it means these layers are not mapped in the VFI-generated PGDB layer map file. In this case, add these layers manually in the file.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-90979"></a>Warning: The following layers from dspf are missing in the pgdbLayerMap file specified. Please add these layers in pgdblayermap file. Missing layers may cause connectivity problems in PGV creation for the net VDD.</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-90980"></a>mwires bwires</pre>

<p>
<a id="pgfId-90981"></a>If there are no warnings, the VFI-generated PGDB layer map file can be used for running the PGV flow without making any changes.</p>

<h2>
<a id="pgfId-84795"></a><a id="32294"></a>Genera<a id="CreatePowerGridViewML"></a>ting Po<a id="marker-90689"></a>wer-G<a id="CreatePowerGridViewML"></a>rid Views in Voltus-Fi-XL</h2>

<p>
<a id="pgfId-87405"></a>Voltus-Fi-XL creates PGVs for both static and dynamic rail analysis. The software creates PGVs for static rail analysis along with the PGVs for dynamic rail analysis by using the average values of the current waveforms. However, it does not create PGVs only for static rail analysis.</p>
<p>
<a id="pgfId-75103"></a>To create power-grid views in Voltus-Fi-XL, perform the following steps.</p>

<ol><li>
<a id="pgfId-75104"></a>In the Voltus-Fi-XL console, choose <em>IR/EM Analysis </em>&#8211;<em> Create Power Grid View</em>. <br />
<a id="pgfId-94861"></a>The Create Power Grid Views form is displayed.<br />
<a id="pgfId-87655"></a><div class="webflare-div-image">
<img width="598" height="704" src="images/pgvcreation-4.gif" /></div></li><li>
<a id="pgfId-75118"></a>In the LEF Files and Layermap Files group box, specify the various filenames.<ul><li>
<a id="pgfId-75119"></a>Specify the <em>OA Libs</em>, which is the name of the OA database library.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-88877"></a>If this option is specified, you do not need to specify the <em>Tech Lef File/Macro Lef File </em>options.</div></li><li>
<a id="pgfId-88403"></a>Specify the <em>Macro</em> <em>Name, </em>which is the top cell name.</li><li>
<a id="pgfId-75120"></a>Specify the <em>Library Name,</em> which is the name of the library. This option is used to create a library with a name different than that of the macro. By default, a library is created with the same name as that of the macro. </li><li>
<a id="pgfId-75121"></a>Specify the <em>Extraction Tech File</em>, which provides the name of the technology file that will be used for reading the technology data.</li><li>
<a id="pgfId-75122"></a>Specify the <em>Tech Lef File</em>, which includes the LEF information for the technology data.</li><li>
<a id="pgfId-75123"></a>Specify the <em>Macro Lef File</em><em>, which includes the </em>LEF information for the design.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-75124"></a>In case the technology data and design data are in the same LEF file, use any of the two options,<em> Tech Lef File </em>or<em> Macro Lef File </em>to specify the filename<em>.</em></div></li><li>
<a id="pgfId-75125"></a>Specify the Lef <em>Def Layer Map File</em>, which provides the mapping between LEF layer names and technology layer names. </li><li>
<a id="pgfId-75126"></a>Specify the <em>PGDB Layer Map File</em><em>, </em>which provides the mapping between xDSPF layer names that are written in the simulation database, and the technology layer names. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-87562"></a>If an xDSPF layer name is missing in this file, the PGVs will not contain data for that layer.</div><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-75127"></a>For more information about the LEF layer map file and PGDB layer map file formats, see <a href="fileformats.html#35924">LEF layer Map File</a> and <a href="fileformats.html#57642">PGDB layer Map File</a> in the &#8220;File Formats&#8221; chapter.</div>
<a id="pgfId-75129"></a>The Tech Lef file, the Macro Lef file, the Lef Def Layer Map file, and the PGDB Layer Map file can be created and edited using the edit buttons provided against each of these fields.</li><li>
<a id="pgfId-75130"></a>Specify the <em>Simulation Directory</em>, which contains the current (<code>*.ptiavg</code>) files.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-87462"></a>The PGV generation fails if this directory does not contain the current files for all the nets for which the PGVs are being generated.</div></li><li>
<a id="pgfId-87477"></a>Specify the <em>Simulation Prefix</em>, which is the prefix used for creating an instance while performing the simulation. The prefix is specified along with the hierarchy separator. This input is optional.<br />
<a id="pgfId-78156"></a>For example, you can specify &#8220;<code>XO.&#8221;</code> or &#8220;<code>IO.&#8221;. </code>In these examples,<code> &#8220;XO&#8221; </code>or<code> &#8220;IO&#8221; </code>are prefixes<code> and &#8220;.&#8221; </code>is the hierarchy separator. You can check the prefix used during simulation in your simulator input file.</li><li>
<a id="pgfId-89059"></a>Specify the <em>UTI Ron File </em><a id="UTIRonFile"></a>that is generated by Spectre. This file contains multiple on-resistance (Ron) values, that is minimum, maximum, and average, for powergates. A sample file is shown below:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id89069">
<a id="pgfId-89069"></a>D-Term-Net   S-Term-Net   Ron_avg(Ohm) Ron_max(Ohm) Ron_min(Ohm) Power-Gate   </pre><pre class="webflare-pre-block webflare-courier-new" id="#id89070">
<a id="pgfId-89070"></a>outp       VDD         1268.34      1302.38      1230.52     MPM3         </pre><pre class="webflare-pre-block webflare-courier-new" id="#id89071">
<a id="pgfId-89071"></a>outp       VDD         1268.03      1302.06      1230.2      MPM3@39      </pre><pre class="webflare-pre-block webflare-courier-new" id="#id89072">
<a id="pgfId-89072"></a>outp       VDD         1268         1302.04      1230.18     MPM3@40      </pre><pre class="webflare-pre-block webflare-courier-new" id="#id89073">
<a id="pgfId-89073"></a>outp       VDD         1268.03      1302.07      1230.21     MPM3@41 
</pre>
<a id="pgfId-88598"></a>If this file is not specified, Voltus-Fi-XL uses the <code>Ron</code> values from the MMSIM simulation database (<code>*.emir#_bin</code> file). </li><li>
<a id="pgfId-75407"></a>Specify the <em>Trigger File</em>, which is a text file that is used during dynamic current simulation to run a detailed analysis for determining current distribution. For detailed information about the trigger file format and content, see <a href="fileformats.html#59638">Format and Contents of Trigger File</a> in the &#8220;File Formats&#8221; chapter.</li><li>
<a id="pgfId-75131"></a>Specify the <em>Net Name</em> and the corresponding <em>Voltage</em>. </li><li>
<a id="pgfId-80149"></a>Specify the <em>State Directory / Results File</em>, which is the simulation result file.<em> </em>The naming convention of the simulation result file is, <code>*.emir#_bin</code>. For example, your result file could be named, <code>xps.emir0_bin</code>.</li><li>
<a id="pgfId-75138"></a>Click <em>Add</em> to add the net, the corresponding voltage, and the EMIR Results DB file location to the list.</li><li>
<a id="pgfId-75139"></a>Click <em>Remove</em> to remove a net from the list.</li></ul></li><li>
<a id="pgfId-75140"></a>In the Output group box, specify the <em>Results Directory</em>, which is the output directory for the power-grid views. By default, the power-grid views are stored in the work directory. <br />
<a id="pgfId-89669"></a>When you specify the directory in which you want to save the PGV generation results, the software gives a warning if there are any issues with the specified directory. For example, if you provide a file path instead of a directory path or a directory path that is read-only, the software gives a warning. An example of a warning message for the latter scenario is shown below.<br />
<a id="pgfId-89673"></a><div class="webflare-div-image">
<img width="601" height="117" src="images/pgvcreation-5.gif" /></div><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-75141"></a>The <em>Results Directory</em> field lets you save different outputs without overwriting the existing ones. However, if the output is stored in the default directory, then the new output file created while generating the power-grid views in the current run overwrites the existing one. </div></li><li>
<a id="pgfId-75142"></a>Click <em>OK</em>.</li></ol>






















































<p>
<a id="pgfId-86925"></a>The following output is obtained after generating PGVs in Voltus-Fi-XL:</p>
<ul><li>
<a id="pgfId-86926"></a>A binary database that contains geometric views of the cell, port information, and the power-grid views.</li><li>
<a id="pgfId-86930"></a>Text report and summary file with detailed information about the power-grid views. </li></ul>

<p>
<a id="pgfId-75145"></a>The output of PGV generation in Voltus-Fi-XL is used in Voltus for dynamic power calculation and static and dynamic IR drop analysis. For more information, see the &#8220;Power-Grid Library Generation&#8221; chapter in <em>Voltus IC Power Integrity Solution User Guide</em>.</p>

<h2>
<a id="pgfId-87522"></a><a id="28221"></a>Troubleshooting Information for PGV Generation in Voltus-Fi-XL</h2>

<p>
<a id="pgfId-87523"></a>After generating the PGVs in Voltus-Fi-XL, you can check whether the PGVs are correctly generated or not. Listed below are a couple of issues that you may encounter while generating PGVs, and the information to help resolve them.</p>
<ul><li>
<a id="pgfId-87524"></a>No current information in the PGVs<br />
<a id="pgfId-87525"></a>If there is no current information in the PGVs, check your log file for a warning titled, VOLTUS_LGEN-3065. This warning is issued when there is a mismatch between taps in the current files and the simulation database. If all taps fail, the current value in the PGV will be zero. To check the names and number of taps in the current file, you can use Itaputil. Itaputil is a Cadence utility that either reports characteristics of tap current files or extracts portions of the data and places them into a new tap current file.<br />
<a id="pgfId-87770"></a>For example, if your current file is <code>vps_VDD.ptiavg</code>, you can use the following command to list the names of all the taps in this file:<br />
<a id="pgfId-87758"></a><code>itaputil list vps_VDD.ptiavg &gt; names</code><br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-87528"></a>To get help on the complete list of available commands in Itaputil, type the following in the xterm or shell: </div>
<a id="pgfId-87529"></a><code>itaputil -h</code></li><li>
<a id="pgfId-87530"></a>The current file does not have any waveforms<br />
<a id="pgfId-87531"></a>If the current file does not have any waveforms, it could be because of an error in the UTI command used for generating the current file. For resolving this issue, use Itaputil to check the tap names in the current file and to write the current data in the file.</li></ul>








<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="whatif.html" id="prev" title="What-If EMIR Analysis">What-If EMIR Analysis</a></em></b><b><em><a href="hierarchical.html" id="nex" title="Hierarchical EMIR Analysis">Hierarchical EMIR Analysis</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2020, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>