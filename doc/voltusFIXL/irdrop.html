
<html><head><title>IR Drop Analysis Results</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="pallabi" />
<meta name="CreateDate" content="2020-09-17" />
<meta name="CreateTime" content="1600411324" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="This manual describes the use flow information in Voltus-Fi Custom Power Integrity Solution." />
<meta name="DocTitle" content="Voltus-Fi Custom Power Integrity Solution XL User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="IR Drop Analysis Results" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.2" />
<meta name="Keyword" content="voltusFIXL" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2020-09-17" />
<meta name="ModifiedTime" content="1600411324" />
<meta name="NextFile" content="emanalysis.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Digital IC Design,Digital IC Design" />
<meta name="PrevFile" content="static.html" />
<meta name="c_product" content="Virtuoso Power System,Voltus-Fi" />
<meta name="Product" content="Virtuoso Power System,Voltus-Fi" />
<meta name="ProductFamily" content="Virtuoso Power System,Voltus-Fi" />
<meta name="ProductVersion" content="ICADVM20.1" />
<meta name="RightsManagement" content="Copyright 2012-2020 Cadence Design Systems Inc." />
<meta name="Title" content="Voltus-Fi Custom Power Integrity Solution XL User Guide -- IR Drop Analysis Results" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="ICADVM20.1" />
<meta name="SpaceKey" content="voltusFIXLICADVM201" />
<meta name="webflare-version" content="2.0" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="voltusFIXLTOC.html">Contents</a></li><li><a class="prev" href="static.html" title="Static Current Analysis">Static Current Analysis</a></li><li style="float: right;"><a class="viewPrint" href="voltusFIXL.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="emanalysis.html" title="EM Analysis Results">EM Analysis Results</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Voltus-Fi Custom Power Integrity Solution XL User Guide<br />Product Version ICADVM20.1, October 2020</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>8
<a id="pgfId-55593"></a><a id="97089"></a></h1>
<h1>
<a id="pgfId-55595"></a><hr />
<a id="58483"></a>IR Drop Analysis Results<hr />
</h1>

<ul><li>
<a id="pgfId-55604"></a><a href="irdrop.html#20601">Overview</a></li><li>
<a id="pgfId-131026"></a><a href="irdrop.html#19235">Batch Mode Support for IR Drop Analysis</a></li><li>
<a id="pgfId-100237"></a><a href="irdrop.html#29065">Signal Net IR Drop Analysis</a></li><li>
<a id="pgfId-100252"></a><a href="irdrop.html#73379">Power Gate Support</a></li><li>
<a id="pgfId-107686"></a><a href="irdrop.html#50383">Static EMIR Analysis</a></li><li>
<a id="pgfId-107701"></a><a href="irdrop.html#20063">Static Power Grid Solver</a></li><li>
<a id="pgfId-110210"></a><a href="irdrop.html#34235">Solid Shape Highlighting</a><ul><li>
<a id="pgfId-135586"></a><a href="irdrop.html#22301">Quantus Shape Database-Based Flow</a></li><li>
<a id="pgfId-135603"></a><a href="irdrop.html#15147">Support for Specifying Cut-Layers for Metal Layers while Highlighting Solid Shapes</a></li></ul></li><li>
<a id="pgfId-125393"></a><a href="irdrop.html#33269">Displaying Finer Color Gradient for Selected Layers in IR and EM Plots</a></li><li>
<a id="pgfId-118777"></a><a href="irdrop.html#48170">Specifying Multiple Simulation Result Files for EMIR Analysis</a><ul><li>
<a id="pgfId-134412"></a><a href="irdrop.html#37742">GUI Support for Specifying Multiple Bin Files in Different Directories</a></li><li>
<a id="pgfId-134429"></a><a href="irdrop.html#54715">GUI Support for Specifying Multiple Bin Files in the Same Directory</a></li><li>
<a id="pgfId-134439"></a><a href="irdrop.html#85610">Batch Mode Support for Specifying Multiple Bin Files</a></li></ul></li><li>
<a id="pgfId-55622"></a><a href="irdrop.html#29278">Viewing the IR Drop Analysis Results</a></li><li>
<a id="pgfId-83059"></a><a href="irdrop.html#13240">Displaying and Querying EMIR Results</a><ul><li>
<a id="pgfId-100299"></a><a href="irdrop.html#53222">Viewing EMIR Violations in Annotation Browser</a></li><li>
<a id="pgfId-100316"></a><a href="irdrop.html#13888">Querying EMIR Results</a></li><li>
<a id="pgfId-100326"></a><a href="irdrop.html#55627">Specifying the Display Options for IR/EM Plots</a></li></ul></li><li>
<a id="pgfId-87637"></a><a href="irdrop.html#52139">Types of IR Drop Analysis Plots</a><ul><li>
<a id="pgfId-113067"></a><a href="irdrop.html#45384">IR, IRAVG &#8211; IR Drop Plots</a></li><li>
<a id="pgfId-113084"></a><a href="irdrop.html#99513">RC, RCAVG, and RCRMS &#8211; Resistor Current Plots</a></li><li>
<a id="pgfId-113094"></a><a href="irdrop.html#75590">IV &#8211; Transistor Voltage Plot</a></li><li>
<a id="pgfId-128251"></a><a href="irdrop.html#45363">TC, TCAVG, TCRMS &#8211; Tap Current Plots</a></li><li>
<a id="pgfId-138763"></a><a href="irdrop.html#12829">POWER &#8211; Resistor Power Plots</a></li><li>
<a id="pgfId-113104"></a><a href="irdrop.html#44094">PI &#8211; Powergate Current Plot</a></li><li>
<a id="pgfId-113114"></a><a href="irdrop.html#28554">PV &#8211; Powergate Voltage Plot</a></li><li>
<a id="pgfId-128261"></a><a href="irdrop.html#20739">REffective &#8211; Effective Resistance Plot</a></li></ul></li><li>
<a id="pgfId-111605"></a><a href="irdrop.html#77215">Plotting the Least-Resistive Path</a><ul><li>
<a id="pgfId-131040"></a><a href="irdrop.html#62542">Batch Mode Support for LRP Analysis</a></li><li>
<a id="pgfId-131054"></a><a href="irdrop.html#64838">GUI Support for LRP Analysis</a><ul><li>
<a id="pgfId-117962"></a><a href="irdrop.html#89962">The LRP Browser</a></li><li>
<a id="pgfId-117980"></a><a href="irdrop.html#16969">Shorting Layers for LRP Analysis</a></li><li>
<a id="pgfId-117990"></a><a href="irdrop.html#58315">Displaying LRP for the Node on the Selected Marker</a></li><li>
<a id="pgfId-113140"></a><a href="irdrop.html#24578">Supporting LRP Analysis in Power-Gated Designs</a></li></ul></li></ul></li><li>
<a id="pgfId-111622"></a><a href="irdrop.html#56011">Calculating Effective Resistance between any Two Nodes on a Net</a><ul><li>
<a id="pgfId-131068"></a><a href="irdrop.html#77055">Batch Mode Support for Calculating Effective Resistance</a></li><li>
<a id="pgfId-131082"></a><a href="irdrop.html#20817">GUI Support for Calculating Effective Resistance</a></li></ul></li><li>
<a id="pgfId-114372"></a><a href="irdrop.html#52268">Generating EMIR Analysis Reports in Voltus-Fi-XL</a><ul><li>
<a id="pgfId-114382"></a><a href="irdrop.html#33124">Reports Generated Using the EMIR Control File</a></li><li>
<a id="pgfId-114402"></a><a href="irdrop.html#19838">Default Reports Generated for EMIR Analysis</a></li><li>
<a id="pgfId-130554"></a><a href="irdrop.html#82693">RLRP Report</a></li><li>
<a id="pgfId-123782"></a><a href="irdrop.html#73230">Reports Generated for Multiple Bin Files from Different Testbenches in a Design</a></li></ul></li><li>
<a id="pgfId-127295"></a><a href="irdrop.html#61884">Reporting a List of Devices from a Subnode</a><ul><li>
<a id="pgfId-128325"></a><a href="irdrop.html#36515">Use Model</a></li><li>
<a id="pgfId-128342"></a><a href="irdrop.html#23972">Sample Command File and Results File</a></li></ul></li><li>
<a id="pgfId-137054"></a><a href="irdrop.html#73802">Reporting On-Resistance (RON) Values</a><ul><li>
<a id="pgfId-137067"></a><a href="irdrop.html#60468">Overview</a></li><li>
<a id="pgfId-137083"></a><a href="irdrop.html#42748">Generating the RON Report</a></li><li>
<a id="pgfId-137089"></a><a href="irdrop.html#98336">Output</a></li></ul></li></ul>


















































<h2>
<a id="pgfId-86273"></a><a id="20601"></a>Overv<a id="marker-95298"></a>iew</h2>

<p>
<a id="pgfId-130637"></a>Voltus-Fi-XL uses the simulation database generated by Spectre APS/XPS simulators and displays the results of the IR drop analysis on the Virtuoso layout.</p>
<p>
<a id="pgfId-130638"></a>It also generates text reports of the analyses and lets you query the analyses results to view specific violations in the layout. This is used to debug the high IR drop regions in the design.</p>

<h2>
<a id="pgfId-130640"></a><a id="19235"></a>Batch Mode Support for IR Drop Analysis</h2>

<p>
<a id="pgfId-130641"></a>Batch mode support is provided for loading IR drop analysis results and generating text reports. The following commands are used to load and print IR drop analysis results in Voltus-Fi-XL:</p>
<ul><li>
<a id="pgfId-130645"></a><a href="batchmode.html#43350">load_ir_results</a><br />
<a id="pgfId-130646"></a>Loads the IR drop analysis results</li><li>
<a id="pgfId-130650"></a><a href="batchmode.html#52225">print_ir_report</a><br />
<a id="pgfId-130651"></a>Prints the IR drop analysis reports</li></ul>



<p>
<a id="pgfId-130652"></a>The detailed description, syntax and examples of how to use these commands are provided in the <a href="batchmode.html#25448">load_ir_results</a> section of the &#8220;Batch Mode Execution&#8221; chapter.</p>

<h2>
<a id="pgfId-99857"></a><a id="29065"></a>Signal Net <a id="SignalNetIRDropAnalysis"></a>IR Drop Analysis</h2>

<p>
<a id="pgfId-136664"></a>By default, IR drop analysis can only be applied to power nets, which are nets driven by DC or constant voltage sources. The advanced feature, signal net IR drop analysis, lets you perform IR drop analysis on signal nets, which are nets that are not connected to any DC or constant voltage source. </p>
<p>
<a id="pgfId-136665"></a>In the signal net IR drop analysis, the maximum or average IR drop is reported using the <code>analysis=[sigvmax sigvavg] </code>statement in the EMIR control file (<code>emir.config</code>). The signal net IR drop is reported as the difference between the reference voltage and the voltage of the sub node (vref-vnode). For a particular signal net, the reference voltage for calculating the IR drop value at each sub node and time point is defined as the average voltage of all sub nodes (reftype=[avg]), the maximum voltage of all sub nodes (<code>reftype=[max]</code>), or the voltage of a user-specified pin (<code>reftype=[pin]</code>).</p>
<p>
<a id="pgfId-136666"></a>Alternatively, for nodes driven by voltage sources and the voltage of the net driven by the voltage source can be used as reference (<code>findsrc=yes</code>).</p>
<p>
<a id="pgfId-136667"></a>The following is an example of the EMIR control file (<code>emir.config</code>):</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-136668"></a>net name=[X1.*] analysis=[sigvmax] reftype=[max] findsrc=yes<br />solver method=direct</pre>

<p>
<a id="pgfId-136669"></a>In the above example, the signal net IR drop analysis is performed for all nets <code>X1.*</code>. The maximum IR drop for the sub nodes of each net is reported. For the IR drop analysis at each net and time point, the sub node with the highest voltage is picked as the reference voltage. For any net driven by a vsource, the voltage of the sub node driven by the vsource is used as reference.</p>
<p>
<a id="pgfId-136670"></a>When using <code>reftype=[max] </code>for a net with three sub nodes: <code>net1_1 </code>(1V)<code>, net1_2 </code>(2V),<code> </code>and <code>net1_3 </code>(3V), the detected reference voltage will be 3V, and the IR drop calculated will be 2V for <code>net1_1</code>, 1V for <code>net1_2</code>, and 0V for <code>net1_3</code>. When using <code>reftype=[avg]</code> the reference voltage will be 2V, and the IR drop calculated will be 1V for <code>net1_1</code>, 0V for <code>net1_2</code>, and -1V for <code>net1_3</code>.</p>
<p>
<a id="pgfId-136671"></a>In addition, if <code>net1_2</code> is driven by a <code>vsource</code> and <code>findsrc</code> has been specified as yes, the voltages of <code>net1_2</code>, at all time points, will be used as the reference voltages.</p>
<p>
<a id="pgfId-103688"></a>For details of the supported EMIR control file options that can be specified, see <a href="dataprep.html#30911">EMIR Control File Options Supported in Voltus-Fi-XL</a> in the &#8220;Data Preparation&#8221; chapter.</p>

<h2>
<a id="pgfId-100029"></a><a id="73379"></a>Power G<a id="PowerGateSupport"></a>ate Support</h2>

<p>
<a id="pgfId-100047"></a>Power networks may contain power gates which enable or disable the power supply in the circuit. These power gates split the power supply RC network into two parts. The RC network driving the power gate, and the RC network being driven by the power gate. This is shown in the figure below. The MMSIM EMIR analysis can handle such power gates. </p>

<p><strong>Figure 8-1
<a id="pgfId-100081"></a>Power Gates </strong></p>
<p>
<a id="pgfId-100091"></a></p>
<div class="webflare-div-image">
<img width="483" height="328" src="images/irdrop-2.gif" /></div>

<p>
<a id="pgfId-100124"></a>To invoke the power gating handling, add the power gate setting in the EMIR control file (<code>emir.config</code>), as shown below.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-100126"></a>net pwrgate=[vdd vdd_int] analysis=[vavg]</pre>

<p>
<a id="pgfId-100127"></a>Both, the power supply net (<code>vdd</code>) driving the power gates, and the internal power supply net (<code>vdd_int</code>) driven by the power gates, need to be specified in the net statement in any order. Wildcarding is supported for the internal power supply net(s), but not for the power supply net.</p>
<p>
<a id="pgfId-132333"></a>Next, the required analyses need to be defined, as shown above. The IR drop report includes both the power supply net in the usual report filename, for example, input.rpt_ir and the internal power supply net is reported in a file, such as <code>input.rpt_pwg</code> or <code>input.emirtap.rpt_pwg</code> for direct and iterated methods, respectively. As for the EM analyses, they are performed as usual, if specified.</p>
<p>
<a id="pgfId-100134"></a>In addition, an important parameter <code>Ton</code> is also be reported in the <code>.rpt_pwg </code>file. It reports the time taken to power up the terminal of the internal power supply net to 95% of the power supply level (VDD).</p>
<p>
<a id="pgfId-100137"></a>Note: The parameter<code> Ton</code> can be infinity if the internal power supply level does not reach 95% of VDD.</p>
<p>
<a id="pgfId-100116"></a>The subsequent sections cover the various options available in Voltus-Fi-XL for viewing the IR drop analysis results on the Virtuoso layout.</p>

<h3>
<a id="pgfId-132741"></a><a id="23735"></a>Viewing the<a id="PowerUpSummaryReport"></a> Power-Up Summary Report</h3>

<p>
<a id="pgfId-132742"></a>Voltus-Fi-XL supports viewing of the power-up test summary report in the GUI. The feature is enabled only after the IR drop analysis results are loaded. For this, the <em>Power-up Report</em> button is provided on the IR tab of the IR/EM Results form. </p>
<p>
<a id="pgfId-132743"></a>When clicked, a view-only power-up summary report is displayed in the GUI. The report is available only if the following conditions are met:</p>
<ul><li style="list-style-type: none;background-image: none;"><ul><li>
<a id="pgfId-132744"></a>The <code>emirutil power_gate_extra_report</code> command is specified in the EMIR configuration file</li><li>
<a id="pgfId-132745"></a>Spectre simulation is run with the above option and a <code>rpt_pwg</code> file is generated.</li></ul></li></ul>

<p>
<a id="pgfId-132746"></a>A sample power-up report is shown below.</p>

<p><strong>Figure 8-2
<a id="pgfId-132747"></a>Power-Up Summary Report</strong></p>
<p>
<a id="pgfId-132751"></a></p>
<div class="webflare-div-image">
<img width="404" height="315" src="images/irdrop-3.gif" /></div>

<p>
<a id="pgfId-132752"></a>In addition to information about the type of simulation results, the report contains the following information:</p>
<ul><li>
<a id="pgfId-133082"></a><em>NumPwgOn</em>: The number of power switches turned on during the simulation vs. the total number of power switches</li><li>
<a id="pgfId-133083"></a><em>LastPwgOn</em>: The name of the last power switch to be turned on in the simulation</li><li>
<a id="pgfId-133084"></a><em>Peak rush current (Imax)</em>: The peak rush current of the power-up net in the simulation </li><li>
<a id="pgfId-133085"></a><em>Average wake up time</em>: The average wake-up time of the switch net in the design</li><li>
<a id="pgfId-133086"></a><em>Comment</em>: The link to the detailed power-up report</li><li>
<a id="pgfId-132729"></a>Details of the wave form analysis reports</li></ul>






<h2>
<a id="pgfId-107431"></a><a id="50383"></a>Static <a id="StaticEMIRAnalysis"></a>EMIR Analysis </h2>

<p>
<a id="pgfId-107432"></a>A static EMIR analysis evaluates IR drop and EM currents based on user-provided subcircuit instance current consumptions without running a transient or DC simulation. The user-provided currents are distributed to the tap devices based on the W/L ratio of the devices in the design. The IR drop and EM current analysis is performed based on the value of current at each tap device.</p>
<p>
<a id="pgfId-107433"></a>The static EMIR analysis is enabled with the &#8220;<code>static ifile</code>&#8221; statement in the EMIR configuration file.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-107434"></a>net name=[I1.VDD I1.VSS] analysis=[vavg iavg]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-107435"></a>static ifile=&quot;static_currents.txt&quot;</pre>

<p>
<a id="pgfId-107436"></a>Since the analysis is static, the IR drop <code>vmax</code> and <code>vavg</code>, and the EM current <code>imax</code>, <code>irms</code>, and <code>iavg</code> values will be the same, and just one of these can be selected in the statement.</p>
<p>
<a id="pgfId-107437"></a>The subckt instance currents are defined (in A) in the &#8220;<code>static_currents.txt</code>&#8221; file with the subckt instance name, the subckt port name, and the value of current flowing in the port.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-107438"></a>I1 VDD 0.001</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-107439"></a>I1.I2 VDD 0.005</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-107440"></a>I1.I2/I3 VDD 0.00001</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-107441"></a>I1.I2/I3/I4 VDD 0.000005</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-107442"></a>I1 VSS ‚Äê0.005</pre>

<p>
<a id="pgfId-107443"></a>The accuracy of the static EMIR analysis depends greatly on the detailed current information in the <code>static_ifile</code>. It is highly recommended that you provide the current consumption for each subckt instance.</p>
<p>
<a id="pgfId-107444"></a>The results of the static EMIR analysis are written into the same IR drop and EM current text reports, and into the same binary EM database as the dynamic EMIR analysis. Static EMIR analysis cannot be combined with the dynamic analysis. You can perform either a static or a dynamic EMIR analysis at one time. When running the static EMIR analysis all other Spectre analyses like DC, TRAN and so on will be ignored.</p>
<p>
<a id="pgfId-107445"></a>The static EMIR analysis can also be applied to designs with power gates. In that case the <code>pwrgate</code> statement needs to be added to the EMIR configuration file as follows:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-107446"></a>net name=[I1.VDD] analysis=[vavg iavg]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-107447"></a>static ifile=&quot;static_currents.txt&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-107448"></a>net pwrgate=[I1.VDD I1.VDD_INT] analysis=[vavg iavg]</pre>

<p>
<a id="pgfId-107449"></a>and the power gate current is required to be added to the &#8220;<code>static_currents.txt</code>&#8221; file as follows:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-107450"></a>I1 VDD 0.001</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-107451"></a>I1 VDD_INT 0.0005</pre>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-107452"></a>To support users setting up the static EMIR flow, the static EMIR current file is automatically generated when running a dynamic EMIR analysis (file extension: static).</div>

<h2>
<a id="pgfId-107419"></a><a id="20063"></a>Static <a id="StaticPowerGridSolver"></a>Power Grid Solver</h2>

<p>
<a id="pgfId-107481"></a>The static power grid solver (SPGS) feature of Spectre can be used in Voltus-Fi-XL to calculate all pin-to-tap resistances based on the description of a DSPF file and the options set in the EMIR configuration file. The resistances calculated by SPGS are electrically equivalent resistances, and not the summation of resistors. The calculation assumes that all pins are connected together to form a global pin. After calculation, the resistance between the global pin and all taps is generated and listed based on the significance of their values.</p>
<p>
<a id="pgfId-110333"></a>This feature can also be used to calculate the pin to pin resistance between any two nodes of the same net. For details, see <a href="irdrop.html#56011">Calculating Effective Resistance between any Two Nodes on a Net</a>.</p>
<p>
<a id="pgfId-108268"></a>The diagram below shows the definition of pin, sub nodes, and tap nodes in the DSPF file.</p>

<p><strong>Figure 8-3
<a id="pgfId-108269"></a>Pin, Sub Node, and Tap Node Information in the DSPF File</strong></p>

<p>
<a id="pgfId-107486"></a></p>

<div class="webflare-div-image">
<img width="654" height="463" src="images/irdrop-4.gif" /></div>

<p>
<a id="pgfId-107487"></a>The static EMIR analysis is enabled with the &#8220;<code>spgs net=...</code>&#8221; statement in the EMIR configuration file.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-107488"></a>spgs net=[i1.vcc i1.vss]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-107489"></a>spgs rshort=1e-12</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-107490"></a>spgs pwrgate = [i1.vcc i1.outp]</pre>

<p>
<a id="pgfId-132395"></a>The net statement defines the power nets to be analyzed. Resistors in the power net can be optionally shorted with the <code>rshort</code> option. If the power net contains a power gate, then the <code>pwrgate</code> option needs to be defined in the configuration file.</p>
<p>
<a id="pgfId-107492"></a>The SPGS flow requires the DSPF file to be included in the Spectre input file with the <code>dspf_include</code> statement, as shown below.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-107493"></a>dspf_include &#8220;pll.spf&#8221;</pre>

<p>
<a id="pgfId-107494"></a>The power nets need to be connected to voltage sources, and device models need to be defined for the devices in the instance section in the DSPF file. For running the SPGS feature, Spectre is run as in the regular EMIR flow, as shown below.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-107495"></a>spectre +aps input.scs +emir=spgs.conf</pre>

<p>
<a id="pgfId-107496"></a>The SPGS report provides a list of the pin to tap node resistors ordered highest to lowest, as shown below.</p>
<p>
<a id="pgfId-107500"></a></p>

<div class="webflare-div-image">
<img width="577" height="77" src="images/irdrop-5.gif" /></div>

<p>
<a id="pgfId-132414"></a>It is recommended to run the SPGS feature separately and not together with any other EMIR analysis. SPGS also supports the conversion between pin, tap node, and sub node. The following statements specified in the emir conf file convert the tap node, <code>MPM3@44:s</code> of net <code>I1.vdd</code> to a pin, and the subnode <code>VDD:5</code> to a tap node.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-107503"></a>spgs tap2pin net=[i1.vdd] include=[MPM3@44:s]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-107504"></a>spgs sub2tap net=[i1.vdd] include=[VDD:5]</pre>

<p>
<a id="pgfId-107473"></a>All conversion options are described in the <a href="dataprep.html#30911">EMIR Control File Options Supported in Voltus-Fi-XL</a> table in the &#8220;Data Preparation&#8221; chapter.</p>

<h2>
<a id="pgfId-109827"></a><a id="34235"></a>Solid<a id="marker-109826"></a> Shap<a id="SolidShapeHighlighting"></a>e Highlighting</h2>

<p>
<a id="pgfId-109828"></a>The rail analysis plots that are displayed on the Virtuoso Layout can be viewed as either stick diagrams or solid shape highlights. In the solid shape display, the plots highlight the full shape of the presistors, while in the stick diagram display, the presistors are connected with thin lines over the layout shapes.</p>
<p>
<a id="pgfId-109829"></a>The solid shape display is more useful for designers because it allows them to see the shapes that are failing the analysis. There are two flows for solid shape display. You can either specify the DFII layer map file or the Quantus run name for viewing solid shape display for plots. When you specify the Quantus run name, the plots are displayed based on the shape database generated by Quantus.</p>
<p>
<a id="pgfId-109832"></a>For details of how to specify the two options in the GUI, see <a href="irdrop.html#29278">Viewing the IR Drop Analysis Results</a>.</p>

<h3>
<a id="pgfId-109834"></a><a id="22301"></a>Quantus Shape Database-Based Flow</h3>

<p>
<a id="pgfId-109835"></a>To display plots using the shape database generated by Quantus, you must ensure the following:</p>
<ul><li>
<a id="pgfId-109836"></a>The Quantus command file or the CCL file should include the following command:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id109837">
<a id="pgfId-109837"></a>extraction_setup -analysis em</pre>
<a id="pgfId-109838"></a>For details, see the <code>extraction_setup</code> command in the &#8220;Quantus Command Files&#8221; chapter of the <em>Quantus Extraction Users Manual</em>.</li><li>
<a id="pgfId-109839"></a>Quantus should be set in the path and its version should be compatible with the Voltus-Fi-XL version being used. </li></ul>




<h3>
<a id="pgfId-135445"></a><a id="15147"></a>Support for <a id="SpecifyingCutLayers"></a>Specifying Cut-Layers for Metal Layers while Highlighting Solid Shapes</h3>

<p>
<a id="pgfId-135446"></a>In Voltus-Fi, cut-layers can be specified for metal layers for displaying the EMIR result plots. The cut-layers do not actually chop the shapes on the metal layers in the layout, but when plotting the results, while the shapes on the metal layers are highlighted, those on the specified cut-layers are not highlighted. This helps to view more accurate plots. </p>
<p>
<a id="pgfId-135447"></a>An example of a plot is shown below. In this plot, the shapes on metal layer, <code>M1</code> are highlighted while those on the cut-layer, <code>CM1</code> are excluded.</p>

<p><strong>Figure 8-4
<a id="pgfId-135448"></a>Specifying Cut-Layers for Metal Layers</strong></p>
<p>
<a id="pgfId-135452"></a></p>
<div class="webflare-div-image">
<img width="294" height="612" src="images/irdrop-6.gif" /></div>

<p>
<a id="pgfId-135453"></a>To let you specify cut-layers for metal layers, the following SKILL function is provided:</p>
<p>
<a id="pgfId-135457"></a><code><a href="appB_functions.html#55323"></a><h-hot>vsaSetLayersToMergeDuringResultsLoading</h-hot><code></code></code></p>
<p>
<a id="pgfId-135458"></a>Use the SKILL function to specify the metal layer and the corresponding cut-layer as a pair. For example,</p>
<p>
<a id="pgfId-135459"></a><code>vsaSetLayersToMergeDuringResultsLoading(&quot;M1 CM1A&quot;)</code></p>
<p>
<a id="pgfId-135460"></a>where <code>CM1A</code> is the cut-layer for metal layer, <code>M1</code>.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-135461"></a>The above SKILL function must be called before loading the results in Voltus-Fi.</div>
<p>
<a id="pgfId-135462"></a>Following are the key aspects of this feature:</p>
<ul><li>
<a id="pgfId-135463"></a>You can specify multiple pairs of metal and cut-layers. For this, call the function multiple times. Voltus-Fi honors all these calls. For example, <br /><pre class="webflare-pre-block webflare-courier-new" id="#id135464">
<a id="pgfId-135464"></a><code>vsaSetLayersToMergeDuringResultsLoading(&quot;M1 CM1A&quot;)</code></pre><pre class="webflare-pre-block webflare-courier-new" id="#id135465">
<a id="pgfId-135465"></a><code>vsaSetLayersToMergeDuringResultsLoading(&quot;PO CPO&quot;)</code></pre>
<a id="pgfId-135466"></a>where <code>CM1A</code> is the cut-layer for metal layer, <code>M1</code> and <code>CPO</code> is the cut-layer for layer, <code>PO.</code></li><li>
<a id="pgfId-135467"></a>You can specify multiple cut-layers for one metal layer. For example, if the following sequence of calls are made, Voltus-Fi honors both the calls. <br /><pre class="webflare-pre-block webflare-courier-new" id="#id135468">
<a id="pgfId-135468"></a>vsaSetLayersToMergeDuringResultsLoading(&quot;M1 CM1A&quot;)</pre><pre class="webflare-pre-block webflare-courier-new" id="#id135469">
<a id="pgfId-135469"></a>vsaSetLayersToMergeDuringResultsLoading(&quot;M1 CM1B&quot;)</pre>
<a id="pgfId-135470"></a>where, <code>CM1A</code> and <code>CM1B</code> layers are cut-layers for the same metal layer, <code>M1</code>.</li></ul>








<h2>
<a id="pgfId-125232"></a><a id="33269"></a>Display<a id="FinerColorGradient"></a>ing Finer Co<a id="DisplayingFinerColorGradient"></a>lor Gradient for Selected Layers in IR and EM Plots</h2>

<p>
<a id="pgfId-135952"></a>In the DFII layer map flow, for solid shape display of IR/EM violations on the Virtuoso layout, Voltus-Fi-XL locates all the nodes lying on a shape and then colors the shape with the worst violation value among all resistors connected to these nodes.</p>
<p>
<a id="pgfId-135953"></a>However, sometimes resistors do not align well with the shapes used to display the violations. This may be because the shapes are large and have multiple nodes and resistors. Voltus-Fi supports a finer display of the color gradient for violations in different segments of such layers. The shape polygons are split into subpolygons and then the subpolygons are colored with the worst violation value for all resistors connected to the nodes in the split shape. This feature is turned on by default for all layers. However, you can select specific layers to view their finer gradient instead of viewing for all layers. </p>
<p>
<a id="pgfId-125235"></a>For this, specify the <em>DFII Layermap</em> file and then click the <em>Finer Gradient</em> button provided on the IR or EM tabs of the IR/EM Results form. In the <em>Finer Gradient Layer Selection</em> pop-up, click <em>Deselect All</em> and then select the PGDB layers for which you want to view finer gradient. For details of the steps involved, see <a href="irdrop.html#29278">Viewing the IR Drop Analysis Results</a>.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-125239"></a>Perform this step before loading the IR or EM Results. After loading the results, when you click <em>Show Plot</em>, you can see the finer gradient for the selected layers. </div>
<p>
<a id="pgfId-125240"></a>A comparison of finer gradient display versus the original display is shown in below figure.</p>

<p><strong>Figure 8-5
<a id="pgfId-125270"></a>Viewing the Finer Gradient Display</strong></p>
<p>
<a id="pgfId-125274"></a></p>
<div class="webflare-div-image">
<img width="668" height="391" src="images/irdrop-7.gif" /></div>
<h2>
<a id="pgfId-124165"></a><a id="48170"></a>Specifying <a id="MultipleSimulationBinFiles"></a>Multiple Simulation Result Files for EMIR Analysis</h2>

<p>
<a id="pgfId-134236"></a>While performing EMIR analysis in Voltus-Fi-XL, multiple bin files can be specified, both in the GUI mode as well as in batch mode. There are two different use models for specifying multiple bin files depending upon whether they are present in the same or different directories.</p>
<p>
<a id="pgfId-134237"></a>The following topics are covered in this section:</p>
<ul><li>
<a id="pgfId-134369"></a><a href="irdrop.html#37742">GUI Support for Specifying Multiple Bin Files in Different Directories</a></li><li>
<a id="pgfId-134387"></a><a href="irdrop.html#54715">GUI Support for Specifying Multiple Bin Files in the Same Directory</a></li><li>
<a id="pgfId-134398"></a><a href="irdrop.html#85610">Batch Mode Support for Specifying Multiple Bin Files</a></li></ul>



<h3>
<a id="pgfId-134262"></a><a id="37742"></a>GUI Support for Specifying Multiple Bin Files in Different Directories </h3>

<p>
<a id="pgfId-134263"></a>To specify multiple bin files located in different directories, follow these steps:</p>
<ol><li>
<a id="pgfId-134264"></a>Open the IR/EM Results form.</li><li>
<a id="pgfId-134265"></a>Click the <code>+</code> button is provided for the <em>State Directory/Results File</em> field. This button is provided on both the IR and EM tabs of the IR/EM Results form. </li><li>
<a id="pgfId-124167"></a>The <em>Select MMSIM Results File</em> pop-up window opens. Use this to add multiple bin files for EMIR analysis. For details, see <a href="irdrop.html#29278">Viewing the IR Drop Analysis Results</a>.<br /><strong class="webflare-fig-line-height">Figure 8-6
<a id="pgfId-134142"></a>Specifying Multiple Simulation Result Files in Different Directories</strong>
<a id="pgfId-134167"></a><div class="webflare-div-image">
<img width="519" height="363" src="images/irdrop-8.gif" /></div></li></ol>






<h3>
<a id="pgfId-134300"></a><a id="54715"></a>GUI Support for Specifying Multi<a id="SpecifyingMultipleBinFilesSameDir"></a>ple Bin Files in the Same Directory</h3>

<p>
<a id="pgfId-134301"></a>To specify multiple bin files located in the same directory, follow these steps:</p>
<ol><li>
<a id="pgfId-134302"></a>Open the IR/EM Results form.</li><li>
<a id="pgfId-134303"></a>Click the browser button next to the <em>State Directory/Results File</em> field. The <em>Select MMSIM Results File</em> pop-up window opens.</li><li>
<a id="pgfId-134304"></a>Open the directory containing all the bin files. In the <em>Files of type</em> field, only the bin files will be visible. This is shown below.</li><li>
<a id="pgfId-134336"></a>Any sub-directories in this directory will also be visible and can be selected.</li><li>
<a id="pgfId-134337"></a>Select all the bin files that are required and click <em>Open</em>.<br /><strong class="webflare-fig-line-height">Figure 8-7
<a id="pgfId-134305"></a>Specifying Multiple Bin Files in the same Directory</strong>
<a id="pgfId-134309"></a><div class="webflare-div-image">
<img width="527" height="373" src="images/irdrop-9.gif" /></div></li></ol>









<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-134352"></a>In the above flow, the <code>+</code> button located next to the <em>State Directory/Results File</em> field on the IR tab of the IR/EM Results form is not needed for selecting multiple bin files.</div>

<h3>
<a id="pgfId-134354"></a><a id="85610"></a>Batch Mode Support for Specifying Multiple Bin Files</h3>

<p>
<a id="pgfId-124171"></a>In batch mode, different options of the <code>vfibatch</code> command are used to specify multiple bin files in different scenarios. The following use models are supported:</p>
<ul><li>
<a id="pgfId-124172"></a>Specifying multiple bin files that contain simulation results for different nets from the same testbench. This is useful in large designs, where simulation is run separately for different nets of the same testbench to improve the runtime. In such cases, you can create <code>emir_bin</code> for different nets in different bin files. In batch mode, the <code>-db</code> option of the <code>vfibatch</code> command is used to generate reports in this scenario.<br />
<a id="pgfId-124173"></a>Consider an example where separate bin files are created for nets, <code>VDD</code> and <code>VSS</code>. The <code>emir.conf</code> files for the two nets will be as follows:<pre class="webflare-pre-block webflare-courier-new" id="#id124174">
<a id="pgfId-124174"></a><code>emir.conf.vdd net name=[X0.VDD] analysis=[iavg imax  sigvmax vmax] emirutil techfile = qrcTechfile layermapfile = contactmapfile solver method=[iterated]</code></pre><pre class="webflare-pre-block webflare-courier-new" id="#id124175">
<a id="pgfId-124175"></a><code>emir.conf.vss net name=[X0.VSS] analysis=[iavg imax  sigvmax vmax] emirutil techfile = qrcTechfile layermapfile = contactmapfile solver method=[iterated]</code></pre>
<a id="pgfId-124176"></a>For details on how the EMIR analysis reports are generated for the above scenario in batch mode, see <a href="irdrop.html#81945">Reports Generated for Multiple Bin Files for Different Nets from the Same Testbench</a>.</li><li>
<a id="pgfId-124180"></a>Specifying multiple bin files that contain simulation results from different testbenches for the same design. You can specify multiple bin files that are located either in the same directory or in different directories. In batch mode, the <code>-db_path </code>and <code>-db_multi_path </code>options of the <code>vfibatch</code> command are used to generate reports in these scenarios, respectively. For details on how the EMIR analysis reports are generated for these scenarios in batch mode, see <a href="irdrop.html#73230">Reports Generated for Multiple Bin Files from Different Testbenches in a Design</a>.</li></ul>






<h2>
<a id="pgfId-56314"></a>Viewing the <a id="29278"></a>IR Dro<a id="marker-95303"></a>p Anal<a id="ViewingIRDropResults"></a>ysis Results</h2>

<p>
<a id="pgfId-124036"></a>To plot EMIR results in Voltus-Fi-XL, ensure the following:</p>
<ul><li>
<a id="pgfId-124037"></a>The <code>emir</code> mode is enabled while performing simulation. </li><li>
<a id="pgfId-124038"></a>The simulation result file is available in the output directory of the simulation results. The naming convention of the simulation result file is, <code>*.emir#_bin.</code> For example, your result file could be named,<code> xps.emir0_bin.</code></li></ul>

<p>
<a id="pgfId-86382"></a>Follow these steps to view the IR drop analysis results. </p>
<ul><li>
<a id="pgfId-86384"></a>In the Voltus-Fi-XL console, choose <em>IR/EM Analysis </em>&#8211;<em> Rail Analysis Results. </em>The IR/EM Results form opens. This form is shown below.<br />
<a id="pgfId-105831"></a>The IR/EM Results form has the following tabs: <em>IR, EM, Structural Analysis</em>, <em>LRP Browser,</em> <em>Pin2PinR</em>, and <em>What-If.</em> <br />
<a id="pgfId-86396"></a>Click the IR tab to plot the IR drop analysis results.<br /><strong class="webflare-fig-line-height">Figure 8-8
<a id="pgfId-57629"></a>IR/EM<a id="RailAnalysisResultsMLIR"></a> Results Form &#8211; IR Tab</strong>
<a id="pgfId-57633"></a><div class="webflare-div-image">
<img width="507" height="690" src="images/irdrop-10.gif" /></div></li></ul>







<p>
<a id="pgfId-57644"></a>On this tab, perform the following steps:</p>
<ul><li>
<a id="pgfId-86616"></a>In the <em>Results</em> group box, specify the <em>State Directory </em>/ <em>Results File</em> that stores the results of the simulation. The naming convention of the result file is <code>*.emir#_bin.</code> </li><li>
<a id="pgfId-118427"></a>Select the + button to specify multiple result files or bin files. For details, see <a href="irdrop.html#48170">Specifying Multiple Simulation Result Files for EMIR Analysis</a>.</li><li>
<a id="pgfId-91300"></a>Specify the <em>Shrink factor</em>, if any, by which the xDSPF was shrunk. This is used for flows where the xDSPF is generated with a shrunk technology but the layout remains on the original technology. For example, if the original xDSPF was shrunk by 80%, the shrink factor should be specified as 0.8. The shrink factor value is less than 1.</li><li>
<a id="pgfId-91243"></a>Click <em>Customize Display</em> to select the nets for which you want to view the display. The Customize Display pop-up window opens. This helps save time as results are loaded only for the selected nets and not for all nets. You can also specify the <em>IR Threshold</em> value in this window. This is shown below.<br /><strong class="webflare-fig-line-height">Figure 8-9
<a id="pgfId-125536"></a>Customize Display Form</strong>
<a id="pgfId-125549"></a><div class="webflare-div-image">
<img width="356" height="287" src="images/irdrop-11.gif" /></div>
<a id="pgfId-125579"></a>The <em>Customize Display</em> button is enabled only before the results are loaded. It is disabled once the results are loaded.</li><li>
<a id="pgfId-125517"></a>Specify either the <em>QRC Run</em> or the <em>DFII Layermap</em>. When either of these options is specified, the plots displayed in the layout show solid shape highlighting. For more information, see <a href="irdrop.html#34235">Solid Shape Highlighting</a>. <ul><li>
<a id="pgfId-139781"></a>Select <em>QRC Run. </em><a id="SelectQRCRun"></a>Two text fields with browse buttons appear in the form. Click on the Browse buttons to open the pop-up windows, <em>Select QRC Run Directory</em> and <em>Select QRC Run Name</em> to specify the path to the QRC <em>Run Directory</em> and the QRC <em>Run Name</em>, respectively.<br /><ffi2-fig-frame-in-2 id="#id107201">
<a id="pgfId-107201"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="506" height="253" src="images/irdrop-12.gif" /></div>
<a id="pgfId-107182"></a>The display now generated will be based on the shape database generated by Quantus. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-140104"></a>When you switch between the IR and EM tabs, the status of the <em>QRC Run</em> radio button is maintained. This means that the Quantus run selections, run directory and run name fields, made on one tab remain populated for the other tab even after clearing the analysis results. </div>
<a id="pgfId-140053"></a>For more information about the setup requirements for the Quantus run flow, see <a href="irdrop.html#34235">Solid Shape Highlighting</a>.</li><li>
<a id="pgfId-103195"></a>Select the DFII layer map file, which is the APS/XPS-to-DFII layer map file. You can create a new layer map file or edit an existing file, using the edit button provided next to the field. This layer map file is the same file that is used in structural analysis. For more information about the file format and description, see DFII Layer Map File in the &#8220;FIle Formats&#8221; chapter.<br />
<a id="pgfId-103183"></a>You can also specify this file by using the <code>vfiDfiiLayerMapFile </code>environment variable in either the <code>.cdsenv</code> or the <code>.cdsinit</code> file. For more information, refer to the <a href="env_variables.html#43869">Environment Variables</a> chapter.<br />
<a id="pgfId-115528"></a>The following considerations apply to the DFII layer map flow:<ul><li>
<a id="pgfId-115529"></a>When the DFII layer map file is specified, the visibility of the DFII layers in the layout is in synch with the layers selected in the <em>Layers</em> group box or the layer selection window of the Display form.</li><li>
<a id="pgfId-115530"></a>When the correct mapping in the DFII layer map file is either not specified or if some layers are missing in this file then the resistors or nodes of those layers will not be highlighted in the layout because there will be no shapes attached to them.</li><li>
<a id="pgfId-113050"></a>When this file is not specified, the pop-up-window shown below opens. If you click <em>Yes</em>, the plots are displayed using stick diagrams<br /><ffi2-fig-frame-in-2 id="#id93709">
<a id="pgfId-93709"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="461" height="105" src="images/irdrop-13.gif" /></div></li></ul></li><li>
<a id="pgfId-125330"></a>For the DFII layer map flow, click <em>Finer Gradient</em> to view the finer gradient for the selected layers. When you click this button, the <em>Finer Gradient Layer Selection</em> pop-up window opens. This is shown in below figure.<br /><strong class="webflare-fig-line-height">Figure 8-10
<a id="pgfId-125331"></a>Selecting Layers for Viewing Finer Gradient</strong><ffi2-fig-frame-in-2 id="#id125335">
<a id="pgfId-125335"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="312" height="297" src="images/irdrop-14.gif" /></div>
<a id="pgfId-125338"></a>In this window, all the layers are selected by default. Click <em>Deselect All</em> and then select specific PGDB layers for which you want to view finer gradient and click <em>OK</em>. For details, see <a href="irdrop.html#33269">Displaying Finer Color Gradient for Selected Layers in IR and EM Plots</a>.</li></ul></li><li>
<a id="pgfId-93875"></a>Click <em>Load Results</em> to load the results. You can click <em>Clear Results</em> to clear the results.</li><li>
<a id="pgfId-132466"></a>Click <em>Power-up Report</em> to view additional information about power gates. This feature is only used in power-gated designs. If this report is not available, the software provides the following information in the <em>Input not available</em> pop-up window.<br /><strong class="webflare-fig-line-height">Figure 8-11
<a id="pgfId-139973"></a>Input not Available for Power-Up Report</strong><ffi2-fig-frame-in-2 id="#id139977">
<a id="pgfId-139977"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="424" height="124" src="images/irdrop-15.gif" /></div>
<a id="pgfId-139966"></a>For more information, see <a href="irdrop.html#23735">Viewing the Power-Up Summary Report</a>.</li><li>
<a id="pgfId-64014"></a>Once the results are loaded, the <em>Rail Analysis </em>cyclic field in the <em>Net Plot </em>group box becomes enabled. From the list, select the type of plot you want to view. The following options are available:<ul><li>
<a id="pgfId-139795"></a>IR &#8211; IR Drop: analyzes and reports voltage drop</li><li>
<a id="pgfId-139796"></a>IRAVG &#8211; IR Avg Drop: analyzes and reports average voltage drop</li><li>
<a id="pgfId-139797"></a>RC &#8211; Resistor Current: analyzes and reports peak resistor currents</li><li>
<a id="pgfId-139798"></a>IV &#8211; Transistor Voltage: analyzes and reports the voltage drop at device nodes, also known as tap nodes</li><li>
<a id="pgfId-139799"></a>TCRMS &#8211; RMS Tap Current: analyzes and reports RMS tap currents</li><li>
<a id="pgfId-139800"></a>TCAVG &#8211; Average Tap Current: analyzes and reports average tap currents</li><li>
<a id="pgfId-139801"></a>TC &#8211; Peak Tap Current: analyzes and reports peak tap currents</li><li>
<a id="pgfId-139802"></a>POWER &#8211; Resistor Power: analyzes and reports resistor power, which is the value of current through a resistor multiplied by the voltage across the resistor</li><li>
<a id="pgfId-139803"></a>PI &#8211; Powergate current: analyzes and displays the currents through the resistors when power gates are connected</li><li>
<a id="pgfId-139804"></a>PV &#8211; Powergate voltage: analyzes and displays the IR drop across power-switch instances. This plot can be used to analyze and debug regions of high IR drop inside the power-gated block of the design</li><li>
<a id="pgfId-139805"></a>RCAVG &#8211; Average Resistor Current: analyzes and reports average resistor currents</li><li>
<a id="pgfId-139806"></a>RCRMS &#8211; RMS Resistor Current: analyzes and reports RMS resistor currents</li><li>
<a id="pgfId-139807"></a>REffective &#8211; Effective Resistance: analyzes and displays the pin to node resistances<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-86987"></a>For details of the above plots, see &#8220;<a href="irdrop.html#52139">Types of IR Drop Analysis Plots</a>&#8221;.</div></li></ul></li><li>
<a id="pgfId-119212"></a>Click <em>Power Nets</em><a id="NetSelection"></a> to list all power nets in the list box. </li><li>
<a id="pgfId-138268"></a>Click <em>Signal Net</em>s to list all signal nets in the list box. </li><li>
<a id="pgfId-138269"></a>Click <em>All Nets </em>to list all power and signal nets in the list box.</li><li>
<a id="pgfId-97511"></a>Click <em>Select All Nets</em> to select all the nets listed in the table. For example, if you select <em>Power Nets</em> and click <em>Select All Nets</em>, all power nets listed in the table are selected. The list box lists <em>Net Type</em> and the corresponding <em>Net Name</em>.<br />
<a id="pgfId-97836"></a>You can search for specific nets for which you want to plot results by typing the net name in the text field provided in the form. The list box is updated to display information about the specified net. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-101523"></a>The net name is case-sensitive. This is shown in the image below.</div><ffi2-fig-frame-in-2 id="#id97849">
<a id="pgfId-97849"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="605" height="128" src="images/irdrop-16.gif" /></div></li><li>
<a id="pgfId-97567"></a>Click <em>Show Plot</em> to view the plot on the Virtuoso layout. When you click <em>Show Plot</em>, the IR/EM Results form expands to show the available plot display options. You can use these options to customize the displayed plots. These options are explained in detail in the <a href="irdrop.html#55627">Specifying the Display Options for IR/EM Plots</a> section.</li><li>
<a id="pgfId-140200"></a>Click <em>Clear Plot</em><a id="ClearPlot"></a> to clear the plot for the selected net from the Virtuoso layout. For this, select the net for which you want to clear the plot in the list box and then click <em>Clear Plot</em>. In the figure below, the plot for the net, VDD is cleared.<br /><ffi2-fig-frame-in-2 id="#id140204">
<a id="pgfId-140204"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="671" height="559" src="images/irdrop-17.gif" /></div></li><li>
<a id="pgfId-116636"></a>Specify <em>IR threshold </em><a id="IRThresholdValue"></a>for viewing IR drop violations above the specified threshold value. Select <em>V</em> or <em>mV</em> to specify the threshold voltage in volt and millivolt, respectively. When this value is specified, the <em>Min - Max</em> slider range is updated to reflect the specified minimum violation value and the plot is updated in the layout. For example, in the image below, the IR threshold value is specified as 0.25. So, the <em>Min</em> value of the slider range is updated to 0.25.<br /><strong class="webflare-fig-line-height">Figure 8-12
<a id="pgfId-116623"></a>Specifying the Threshold Value for Viewing IR Drop Violations</strong>
<a id="pgfId-116665"></a><div class="webflare-div-image">
<img width="652" height="555" src="images/irdrop-18.gif" /></div></li><li>
<a id="pgfId-97571"></a>The <em>Plot Powergate Nets </em>option is used for plotting the IR drop analysis results of power-gated designs. In this case, when you click the <em>Select Nets </em>option and select a net from the list box, all the switched nets for the selected always-ON net also get selected. The software plots results for all the switched nets together. This option is turned off by default.</li><li>
<a id="pgfId-119318"></a>Click <em>Save</em> to save the specified settings in a configuration file. </li><li>
<a id="pgfId-115602"></a>Click <em>Load</em> to automatically load settings saved in a previous run in the IR/EM Results form. For this, you can save the settings in a <code>.vpsconfig</code> file. When you click <em>Load</em>, the software searches for the <code>.vpsconfig </code>file. If the file is available, the settings specified in this file are restored in the form. A sample <code>.vpsconfig</code> file is shown in <a href="irdrop.html#67449">Example&#160;8-1</a>.<br />
<a id="pgfId-115585"></a>You can also load the EMIR control file or <code>emir.config</code> file using this button. When this file is specified, the technology file and layer map file information provided in this file is used for EMIR analysis. For more information about the EMIR control file, see <a href="dataprep.html#62634">Simulation Requirements and Setup</a> in the &#8220;Data Preparation&#8221; chapter.<br /><strong class="webflare-fig-line-height">Figure 8-13
<a id="pgfId-97517"></a><a id="43436"></a>Viewing the IR Plot for All Power Nets </strong>
<a id="pgfId-93830"></a><div class="webflare-div-image">
<img width="667" height="561" src="images/irdrop-19.gif" /></div><strong>Figure 8-14
<a id="pgfId-97521"></a><a id="89327"></a>Viewing IR Plot for Selected Nets</strong>
<a id="pgfId-137672"></a><div class="webflare-div-image">
<img width="667" height="535" src="images/irdrop-20.gif" /></div></li></ul>































































































<div class="webflare-information-macro webflare-macro-video">
<a id="pgfId-139668"></a>
To view the demonstration on plotting the IR drop analysis results in Voltus-Fi, see <a actuate="user" class="URL" href="https://support.cadence.com/apex/ArticleAttachmentPortal?pageName=ArticleContent&amp;id=a1O0V000006DgS1UAK" show="replace" xml:link="simple">Viewing and Querying the IR Drop Analysis Results in Voltus-Fi-XL</a> video.</div>

<p class="webflare-indent1">
<a id="pgfId-97525"></a>Access to this video will depend on the availability of a web browser and a Cadence Online Support account.</p>

<h4><em>
<a id="pgfId-132075"></a>Tcl Commands:</em></h4>

<p>
<a id="pgfId-132076"></a>An example of the set of Tcl commands for loading and printing the IR drop analysis reports is as follows:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-132077"></a>load_ir_results\</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-132078"></a>./abc/raw.out/xps.emirtap.emir0_bin\</pre>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-132079"></a>-print_ir_report \</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-132080"></a>-net all_power \</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-132081"></a>-type ir \</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-132082"></a>-filename all_ir.txt\</pre>

<p><strong>Example 8-1
<a id="pgfId-97546"></a><a id="67449"></a>Sample Configuration File</strong></p>

<p>
<a id="pgfId-97688"></a>A sample .<code>vpsconfig</code> file is shown below.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-97638"></a>setvar vps_results_IR</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-97639"></a>{/icd/epsrd_t1nb_002/babita/xps/demo/design/raw.078/xps.emirtap.emir0_bin}</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-97640"></a>setvar vps_results_EM</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-97641"></a>{/icd/epsrd_t1nb_002/babita/xps/demo/design/raw.078/xps.emirtap.emir0_bin}</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-97642"></a>setvar vps_results_IR_Flow {mmsim}</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-97643"></a>setvar vps_results_IR_shrink_factor {}</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-97644"></a>setvar vps_results_EM_shrink_factor {}</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-97645"></a>setvar vps_results_EM_tech_file</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-97646"></a>{/icd/epsrd_t1nb_002/babita/xps/demo/qrcTechFile}</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-97647"></a>setvar vps_results_EM_layermap_file</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-97648"></a>{/icd/epsrd_t1nb_002/babita/xps/demo/contactmapfile}</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-97649"></a>setvar vps_results_EM_peak_dc true</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-97650"></a>setvar vps_results_EM_avg_dc true</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-97651"></a>setvar vps_results_EM_abs_avg_dc false</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-97652"></a>setvar vps_results_EM_peak_ac false</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-97629"></a>setvar vps_results_EM_rms_ac false</pre>
<h2>
<a id="pgfId-97549"></a><a id="13240"></a>Displaying <a id="marker-97548"></a>and Queryi<a id="DisplayingQueryingEMIRResults"></a>ng EMIR Results</h2>

<p>
<a id="pgfId-64082"></a>Voltus-Fi-XL lets you specify the plot display settings for the IR drop and EM plots that are displayed on the Virtuoso layout. </p>
<p>
<a id="pgfId-82565"></a>The plot display options include a <em>Min - Max</em> slider that lets you customize the range of violations you want to view. A continuous RGB gradient is used to highlight the worst violation regions in the design. The vast range of color options provided by the RGB gradient makes it easier to view a range of violations in the layout. The available plot display options of the IR/EM Results form are shown in <a href="irdrop.html#28318">Figure&#160;8-17</a>.</p>
<p>
<a id="pgfId-98375"></a>The details of specifying the display options in this form are provided in <a href="irdrop.html#55627">Specifying the Display Options for IR/EM Plots</a> section.</p>
<p>
<a id="pgfId-82624"></a>In addition to specifying settings for plots displayed in the layout, there are options to query the layout for viewing specific violations. The results of the query are highlighted in the EM/IR tab of Annotation Browser. </p>
<p>
<a id="pgfId-126060"></a>The following topics are covered in this section:</p>
<ul><li>
<a id="pgfId-126048"></a><a href="irdrop.html#53222">Viewing EMIR Violations in Annotation Browser</a></li><li>
<a id="pgfId-126077"></a><a href="irdrop.html#13888">Querying EMIR Results</a></li><li>
<a id="pgfId-126087"></a><a href="irdrop.html#55627">Specifying the Display Options for IR/EM Plots</a></li></ul>



<h3>
<a id="pgfId-97983"></a><a id="53222"></a>Viewing EMIR Violations in <a id="ViewingEMIRAnnotationBrowser"></a>Annotation Browser</h3>

<p>
<a id="pgfId-97964"></a>Annotation Browser lets you view and manage violation markers generated for the design. When you click <em>Violation Browser</em> in the IR/EM Results form, Annotation Browser window appears in the upper-right corner of the Virtuoso layout window, and the <em>EM/IR</em> tab opens by default. </p>
<p>
<a id="pgfId-126111"></a>The following topics are covered in this section:</p>
<ul><li>
<a id="pgfId-126102"></a><a href="irdrop.html#84741">Information Displayed in the EM/IR Tab of Annotation Browser</a></li><li>
<a id="pgfId-126175"></a><a href="irdrop.html#60833">Information Displayed in the Description Section of Annotation Browser</a><br /><strong class="webflare-fig-line-height">Figure 8-15
<a id="pgfId-104126"></a>EM/IR Tab of Annotation Browser</strong>
<a id="pgfId-104136"></a><div class="webflare-div-image">
<img width="650" height="472" src="images/irdrop-22.gif" /></div></li></ul>






<p>
<a id="pgfId-97965"></a>The <em>EM/IR</em> tab is used for viewing the violations of IR drop and EM analyses, and it is enabled only when Voltus-Fi-XL is launched. The number of violations displayed in the <em>EM/IR</em> tab is based on the number specified in the <em>Elements count </em>field in the IR/EM Results form.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-144508"></a>The check state of a violation marker is saved in the <em>EM/IR</em> tab of Annotation Browser and is reloaded when you start a new Virtuoso session.</div>

<h4>
<a id="pgfId-104558"></a><a id="84741"></a>Information Displayed in the EM/IR Tab of Annotation Browser</h4>

<p>
<a id="pgfId-95810"></a>The following information is available in columns in the EM/IR tab of Annotation Browser. The columns that are displayed vary for different analyses types. The complete list of available columns is provided below.</p>
<ul><li>
<a id="pgfId-108333"></a>Value: Provides the violation value.</li><li>
<a id="pgfId-127136"></a>Layers: Provides the name of the layer on which the violation is located.</li><li>
<a id="pgfId-108334"></a>Short Message: Provides the name of the node or the resistor.</li><li>
<a id="pgfId-127149"></a>BBox: Shows the coordinates of the marker bounding box.</li><li>
<a id="pgfId-108336"></a>Density: Provides the Current Density value across the resistor.</li><li>
<a id="pgfId-108337"></a>Current: Provides the current value across the resistor.</li><li>
<a id="pgfId-108338"></a>Current Limit: Provides the current rules as per the specified EM rules.</li><li>
<a id="pgfId-108339"></a>Length: Provides the resistor length value.</li><li>
<a id="pgfId-108340"></a>Width: Provides the resistor width value.</li><li>
<a id="pgfId-108341"></a>Resistance: Provides the resistance value of the resistor.</li><li>
<a id="pgfId-108342"></a>Number of Vias: Provides the number of vias in the via array. This is valid only for via layers.</li><li>
<a id="pgfId-108343"></a>Needed No. of Vias: Provides the number of vias needed to pass the EM violation. This is valid only for via layers.</li><li>
<a id="pgfId-108344"></a>Via Area: Provides the area of the via array.</li><li>
<a id="pgfId-108345"></a>Needed Width: Provides the minimum width required for metal layer resistors to pass the EM violation.</li><li>
<a id="pgfId-108346"></a>Net: Provides the name of the net associated with the marker.</li><li>
<a id="pgfId-132984"></a>Time: Time for peak IR drop in seconds.</li><li>
<a id="pgfId-108347"></a>Power Gate Transistor: Provides the name of the power-gate transistor instance. This is valid only for power-gated resistors.</li></ul>
















<p>
<a id="pgfId-104056"></a>By default, the columns displaying the resistor/node name, layers, and violation values are visible for all types of plots.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-104480"></a>The information about columns available for different analyses types for IR plots is provided in the <a href="irdrop.html#52139">Types of IR Drop Analysis Plots</a> section in this chapter and for EM plots in the <a href="emanalysis.html#10617">Types of EM Analysis Plots</a> section of the &#8220;EM Analysis Results&#8221; chapter.</div>
<p>
<a id="pgfId-104091"></a>You can add or remove columns to customize the information you want to view in Annotation Browser. For this, right-click the column heading, select <em>Columns</em> from the list, and then select the columns you want to view in the tab. This is shown below.</p>

<p><strong>Figure 8-16
<a id="pgfId-104217"></a>Selecting Columns in the EM/IR Tab</strong></p>
<p>
<a id="pgfId-104227"></a></p>
<div class="webflare-div-image">
<img width="660" height="506" src="images/irdrop-23.gif" /></div>
<h4>
<a id="pgfId-104677"></a><a id="60833"></a>Information Displayed in the Description Section of Annotation Browser</h4>

<p>
<a id="pgfId-104678"></a>Detailed information about the selected node is provided in the <em>Description</em> section of Annotation Browser. For example, for an RJ JMAX analysis type, the following information is provided:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-104679"></a>Net = VSS Resistor=ri875 RJ value=3.155 layer=mt1 co-ordinates=(12.017000-23.025000,11.225000-23.020000) resistance=0.247689 length=0.7875um width=0.24um needed Width=0.757201um</pre>

<p>
<a id="pgfId-104680"></a>For an IR drop analysis type, the following information is provided:</p>
<p>
<a id="pgfId-104681"></a>Node=459 VSS#453 IR value=0.00495278 co-ordinates=(58.334999 27.959999) layer=mt1 Net=VSS Time=7.64774e-08</p>
<p>
<a id="pgfId-104682"></a>You can view the units for corresponding values in the description section. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-98214"></a>The entries in Annotation Browser honor the user-specified plot display settings in the display options specified in the IR/EM Results form. Therefore, the results of the query comply with the user-specified plot settings.</div>
<p>
<a id="pgfId-98201"></a>For more information about how to use Annotation Browser and manage the different views, see the &#8220;Layout XL Assistants&#8221; chapter in <em>Virtuoso Layout Suite XL User Guide</em>.</p>

<h3>
<a id="pgfId-98106"></a><a id="13888"></a>Querying <a id="QueryingEMIRResults"></a>EMIR Results</h3>

<p>
<a id="pgfId-98001"></a>The following layout query features are supported in Voltus-Fi-XL. </p>
<ul><li>
<a id="pgfId-82634"></a>Viewing worst violations: You can select an area in the layout and zoom into the worst violation in the selected area by using the <em>Zoom Select Max Region</em> button provided in the Display form or the expanded section of the IR/EM Results form. The worst violation in the selected area is highlighted in Annotation Browser. For details, see <a href="irdrop.html#95290">Viewing Worst Violations</a>.</li><li>
<a id="pgfId-82645"></a>Viewing all violations in selected area: You can select an area in the layout and retrieve the values of all violations in the selected area by using the <em>Get Value on Layout</em> button provided in the Display form. All violations in the selected area are highlighted in Annotation Browser. For details, see <a href="irdrop.html#25613">Viewing all Violations in Selected Area</a>.</li><li>
<a id="pgfId-110829"></a>Querying Specific Points and Areas in the layout for Resistor Information: click any point or select an area in the layout to display the resistor information for that point or for all points that lie within that area in the console. This query feature is independent of Annotation Browser. For this, a <em>Query</em> check box is provided in the Display form. For details, see <a href="irdrop.html#50733">Querying Specific Points and Areas in the layout for Resistor Information</a>.</li></ul>



<h3>
<a id="pgfId-98361"></a><a id="55627"></a>Specifying the Dis<a id="DisplayOptions"></a>play Options for IR/EM Plots</h3>

<p>
<a id="pgfId-137522"></a>After you load the IR drop or the EM analysis results on the IR and EM tabs of the IR/EM Results form, select the nets for which you want to view the plots, and click <em>Show Plot</em>. The IR/EM Results form expands to provide options for customizing the plot display in the layout. </p>
<p>
<a id="pgfId-95676"></a>Use the scroll bar provided at the bottom of the form to view the display options. Click the arrow provided on the top-left corner of the form to hide or unhide the Display form. This is shown in <a href="irdrop.html#28318">Figure&#160;8-17</a>.</p>
<p>
<a id="pgfId-126259"></a>The following topics are covered in this section:</p>
<ul><li>
<a id="pgfId-126247"></a><a href="irdrop.html#33125">Selecting Layers for Viewing Violations</a></li><li>
<a id="pgfId-126290"></a><a href="irdrop.html#57390">Customizing the Range for Viewing Violations</a></li><li>
<a id="pgfId-126301"></a><a href="irdrop.html#66429">Customizing the Display Options for Plots</a></li><li>
<a id="pgfId-126312"></a><a href="irdrop.html#72286">Viewing and Managing Violations in the layout</a><ul><li>
<a id="pgfId-126326"></a><a href="irdrop.html#95290">Viewing Worst Violations</a></li><li>
<a id="pgfId-126339"></a><a href="irdrop.html#25613">Viewing all Violations in Selected Area</a></li></ul></li><li>
<a id="pgfId-126349"></a><a href="irdrop.html#50733">Querying Specific Points and Areas in the layout for Resistor Information</a><ul><li>
<a id="pgfId-133733"></a><a href="irdrop.html#57059">Query Box Information for IR Drop Analysis</a></li><li>
<a id="pgfId-133750"></a><a href="irdrop.html#47643">Query Box Information for EM Analysis</a></li><li>
<a id="pgfId-133760"></a><a href="irdrop.html#25426">Query Box Information for SHE Analysis</a></li></ul></li><li>
<a id="pgfId-126362"></a><a href="irdrop.html#26485">Saving the IR Drop Analysis Result Plots and Reports</a><br /><strong class="webflare-fig-line-height">Figure 8-17
<a id="pgfId-64210"></a><a id="28318"></a>Specifying the Display Options for Plots</strong>
<a id="pgfId-64220"></a><div class="webflare-div-image">
<img width="667" height="551" src="images/irdrop-24.gif" /></div></li></ul>














<h4>
<a id="pgfId-121198"></a><a id="33125"></a>Selecting Layers for Viewing Violations</h4>

<p>
<a id="pgfId-64381"></a>The following options are provided in the <em>Layers</em> group box of the Display form for selecting layers:</p>
<ul><li>
<a id="pgfId-121038"></a>Click <em>AV</em> or <em>NV </em>to select or deselect all layers. Use the check boxes provided against layer names to select or deselect specific layers. By default, all layers are selected.<br />
<a id="pgfId-115087"></a>When the layer selection is updated, the plot in the layout is updated automatically. The image below shows the layout display of the total violation range for the selected layers for an IR drop analysis type plot.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-106520"></a>For all layers defined in the DFII layer map file, the DFII layer names and the corresponding extraction layer names are listed in a tree view. For example, when you click <code>Metal1</code>, you will see the extraction layer name, <code>mt1</code>. This is shown in below image.</div><strong>Figure 8-18
<a id="pgfId-64395"></a>Displaying the Total Violation Range for Specified Layers in the layout &#8211; IR Analysis Type</strong>
<a id="pgfId-64433"></a><div class="webflare-div-image">
<img width="666" height="667" src="images/irdrop-25.gif" /></div></li></ul>






<h4>
<a id="pgfId-64479"></a><a id="57390"></a>Customizing the <a id="RedistributeRange"></a>Range for Viewing Violations</h4>

<p>
<a id="pgfId-120033"></a>The following options are provided in the Display form for customizing the range for viewing violations.</p>
<ul><li>
<a id="pgfId-121585"></a><em>Min</em> and <em>Max </em>sliders are provided for viewing violations that fall within the specified slider range. Move the <em>Min</em> - <em>Max </em>sliders up and down. The display highlights are updated according to the new slider positions. The <em>Min - Max</em> slider range functionality works differently in the following scenarios:<ul><li>
<a id="pgfId-120140"></a>When the <em>Re-distribute Range</em> option in the Plot Options group box is unchecked, moving the <em>Min - Max</em> sliders only updates the plot display, which means, the violation range outside the color spectrum of this range will be toggled. For example, in <a href="irdrop.html#94444">Figure&#160;8-17</a>, the <em>Min</em> and <em>Max</em> slider range is changed from showing violations between &#8220;green&#8221; and &#8220;light blue&#8221; to &#8220;red&#8221; and &#8220;light blue&#8221;.</li><li>
<a id="pgfId-121613"></a>When the <em>Re-distribute Range</em> option is checked, moving the <em>Min - Max</em> sliders re-distributes the range on the ruler and the plot is updated to reflect this new range. This will also update the <em>Min</em> and <em>Max</em> values in the Filter Range group box.</li></ul></li><li>
<a id="pgfId-120154"></a>The RGB color spectrum is provided next to the slider for viewing violations in different colors.<code> </code></li><li>
<a id="pgfId-120161"></a>The ruler range of violation values, for all or selected layers, is provided next to the color spectrum. <br /><strong class="webflare-fig-line-height">Figure 8-19
<a id="pgfId-64526"></a><a id="94444"></a>Customizing the Range for Viewing IR Drop Violations for Specified Layers</strong>
<a id="pgfId-120301"></a><div class="webflare-div-image">
<img width="660" height="582" src="images/irdrop-26.gif" /></div></li><li>
<a id="pgfId-120312"></a>In the Plot Options group box, select <em>Plot out of range</em> to view the violation values outside the specified <em>Min - Max</em> slider range. For example, in the image below, the selected range is between &#8220;green&#8221; and &#8220;light blue&#8221; but since the <em>Plot out of range values</em> is selected, the violations above and below the slider marks are also displayed in &#8220;deep red&#8221; and &#8220;deep blue&#8221;, respectively. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-120304"></a>The <em>Plot out </em>of <em>range values</em> option is only enabled when the <em>Re-distribute Range</em> option is selected. </div><strong>Figure 8-20
<a id="pgfId-120305"></a>Viewing IR Drop Violat<a id="Redistribute_Range"></a>ions for the Out of Range Values</strong>
<a id="pgfId-64900"></a><div class="webflare-div-image">
<img width="581" height="348" src="images/irdrop-27.gif" /></div></li><li>
<a id="pgfId-116337"></a>Select<a id="RedistributeRangespecific"></a> <em>Re-distribute Range</em> to view the complete spectrum, from &#8220;deep red&#8221; to &#8220;deep blue&#8221;, for the specified layer selection. For example, in the image below, when this option is not selected, the slider range only shows the color range for the violations in the selected range, from &#8220;orange&#8221; to &#8220;light blue&#8221;. However, when this option is selected, the slider re-distributes the range to show the complete color spectrum, from &#8220;deep red&#8221; to &#8220;deep blue&#8221;, for the selected range.<br /><strong class="webflare-fig-line-height">Figure 8-21
<a id="pgfId-116395"></a>Re-Distributing the Color Spectrum for the Selected Range</strong>
<a id="pgfId-116405"></a><div class="webflare-div-image">
<img width="673" height="486" src="images/irdrop-28.gif" /></div></li><li>
<a id="pgfId-121661"></a>In the Filter Range group box, specify the <em>Min</em> and <em>Max</em> values, which are the minimum and maximum values for the filter range. When a plot type is chosen on the IR or EM tab, the filter values are filled in automatically in these fields. To change the default values, you can either type the new Min and Max values and click Apply or enter. The plot is updated automatically.</li><li>
<a id="pgfId-121662"></a>Click <em>Reset Range</em> to restore the default values of filters in the <em>Min</em> and <em>Max</em> fields.</li></ul>

























<h4>
<a id="pgfId-121677"></a><a id="66429"></a>Customizing the Display Options for Plots</h4>

<p>
<a id="pgfId-116327"></a>The following options are used to customize the plot displays:</p>
<ul><li>
<a id="pgfId-120380"></a>Click <em>Power Grid </em>to view the power grids. This option is disabled for EM plots.</li><li>
<a id="pgfId-64759"></a>Click <em>Plot</em> to view the plots.</li><li>
<a id="pgfId-64780"></a>Click <em>Voltage Source </em>to view the voltage source locations. This option is disabled for EM plots.</li><li>
<a id="pgfId-111041"></a>Click <em>Power gates</em> to view the power gates in the layout. This option is relevant only for power-gated designs.</li><li>
<a id="pgfId-121642"></a>Click the<em> Sync DFII Layers</em> option to toggle the display of the DFII layers for the layers selected in the Layers group box. By default, this option is checked, which means the layers are in synch. </li></ul>





<h4>
<a id="pgfId-72267"></a><a id="72286"></a>Viewing and Managing Violations in the layout</h4>

<p>
<a id="pgfId-120575"></a>The following options are provided in the <em>Action</em> group box of the Display form for viewing and managing violations on the Virtuoso layout:</p>
<ul><li>
<a id="pgfId-120522"></a>Click <em>Violation Browser</em> to view and manage the violation markers generated for the current design. The Annotation Browser window opens on the right side of the Virtuoso Layout and displays the top violations. This is shown in <a href="irdrop.html#26086">Figure&#160;8-17</a>.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-101424"></a>For more information, see <a href="irdrop.html#53222">Viewing EMIR Violations in Annotation Browser</a>. </div></li><li>
<a id="pgfId-72268"></a>Specify the number of violations you want to view in the <em>Elements count</em> field. For example, you can choose to view only the top ten violations. The image below shows the top ten violations listed in the EM/IR tab of Annotation Browser and the violation markers in the plot on the Virtuoso layout.<br /><strong class="webflare-fig-line-height">Figure 8-22
<a id="pgfId-67920"></a><a id="26086"></a>Viewing the Top Ten Violations in the layout</strong>
<a id="pgfId-53703"></a><div class="webflare-div-image">
<img width="666" height="610" src="images/irdrop-29.gif" /></div>
<a id="pgfId-68158"></a>If the number of elements specified is 1000 and above, then the list of violations in Annotation Browser is suppressed by default. To view the violations, select <em>Unsuppress Expansion</em> from the context menu of Annotation Browser. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-53704"></a>For more information about how to use Annotation Browser and manage the different views, see the &#8220;Layout XL Assistants&#8221; chapter in <em>Virtuoso Layout Suite XL User Guide</em>.</div></li></ul>










<h4><em>
<a id="pgfId-120762"></a><a id="95290"></a>Viewing Worst Violations</em></h4>

<p>
<a id="pgfId-98894"></a>Click <em>Zoom Select Max Violation</em> to zoom into and highlight the maximum violation in the selected area in the layout. For this, first click <em>Zoom Select Max Violation,</em> and then select an area in the layout to locate and zoom into the maximum violation in that area. Annotation Browser opens and the node or presistor with the worst violation in the selected area is highlighted in the browser. </p>
<p>
<a id="pgfId-98899"></a>In addition, the maximum violation in the selected area is marked on the ruler in the IR/EM Results form with a red arrow. This is shown in the image below.</p>

<p><strong>Figure 8-23
<a id="pgfId-98900"></a>Zooming into the Maximum Violation in the Selected Area</strong></p>
<p>
<a id="pgfId-98904"></a></p>
<div class="webflare-div-image">
<img width="674" height="514" src="images/irdrop-30.gif" /></div>
<h4><em>
<a id="pgfId-98905"></a><a id="25613"></a>Viewing all Violations in Selected Area</em></h4>

<p>
<a id="pgfId-120808"></a>Click <em>Get Value on Layout</em> to retrieve the values of violations in the selected area from the layout view. For this, first click <em>Get Value on Layout </em>and then select an area in the layout. The violations in the selected area are marked on the ruler with red arrows and are highlighted in Annotation Browser. If there are multiple violations in the selected area, all violations will be marked in Annotation Browser. This is shown in the image below.</p>

<p><strong>Figure 8-24
<a id="pgfId-98906"></a>Retrieving Violation Values from the Layout</strong></p>
<p>
<a id="pgfId-98910"></a></p>
<div class="webflare-div-image">
<img width="631" height="547" src="images/irdrop-31.gif" /></div>
<h4>
<a id="pgfId-114678"></a><a id="50733"></a>Querying Specif<a id="QueryingSpecificArea"></a>ic Points and Areas in the layout for Resistor Information</h4>

<p>
<a id="pgfId-120745"></a>Select <em>Query </em>to display the resistor information for a point or points within a specified area in the layout. For this, first select <em>Query</em> and then use the left mouse button to click any point or to select an area in the layout. </p>
<p>
<a id="pgfId-120952"></a>The Layer Selection for Query form opens. In this form, select the layers for which you want to perform the query and click OK. By default, all layers that are selected in the <em>Layers</em> group box of the Display form are selected in this form. This form is shown below.</p>

<p><strong>Figure 8-25
<a id="pgfId-115741"></a>Layer Selection for Query Form</strong></p>
<p>
<a id="pgfId-115745"></a></p>
<div class="webflare-div-image">
<img width="325" height="256" src="images/irdrop-32.gif" /></div>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-143667"></a>The above form opens when multiple layers are selected in the <em>Layers</em> group box or the layer selection window.</div>
<p>
<a id="pgfId-143669"></a>The result of the <a id="query_box_column_selection"></a>query or the resistor information for the selected point or for points in the selected area is displayed in the <em>Query Box</em>. </p>
<p>
<a id="pgfId-143670"></a><a id="query_box_column_selection"></a>You can add or remove columns to customize the information you want to view in the <em>Query Box</em>. To do this:</p>
<ul><li>
<a id="pgfId-143671"></a>Right-click a row, select <em>Columns</em> from the list, and then select the columns you want to view in the tab. </li></ul>
<p>
<a id="pgfId-143672"></a>To rearrange the columns:</p>
<ul><li>
<a id="pgfId-143673"></a>Drag the columns to the required position. </li></ul>
<p>
<a id="pgfId-143674"></a>To save the configuration:</p>
<ul><li>
<a id="pgfId-143675"></a>Right-click anywhere in the Query Box and select <em>Save Config</em>.<br /><strong class="webflare-fig-line-height">Figure 8-26
<a id="pgfId-140548"></a>Selecting Columns in the Query Box</strong>
<a id="pgfId-140552"></a><div class="webflare-div-image">
<img width="668" height="487" src="images/irdrop-33.gif" /></div></li></ul>





<p>
<a id="pgfId-140490"></a>Different information is displayed in the query box depending upon whether the query is for IR drop, EM analysis, SHE analysis, or RMS hot-spot waiving analysis. This is covered in the following sections:</p>
<ul><li>
<a id="pgfId-133234"></a><a href="irdrop.html#57059">Query Box Information for IR Drop Analysis</a></li><li>
<a id="pgfId-133496"></a><a href="irdrop.html#47643">Query Box Information for EM Analysis</a></li><li>
<a id="pgfId-133507"></a><a href="irdrop.html#25426">Query Box Information for SHE Analysis</a></li><li>
<a id="pgfId-134015"></a><a href="irdrop.html#97393">Query Box Information for RMS EM Hot Spot Waiving Analysis</a></li></ul>




<h4><em>
<a id="pgfId-133266"></a><a id="57059"></a>Query Box I<a id="QueryBoxInformationIR"></a>nformation for IR Drop Analysis</em></h4>

<p>
<a id="pgfId-133267"></a>The following information is reported in the Query Box columns for IR drop analysis query:</p>
<ol><li>
<a id="pgfId-133268"></a><em>name</em>: The name of the resistor for which information is being queried</li><li>
<a id="pgfId-133269"></a><em>layer</em>: The<em> </em>name of the layer on which the resistor is located</li><li>
<a id="pgfId-133270"></a><em>netName</em>: The net name of the resistor</li><li>
<a id="pgfId-133271"></a><em>node1</em>: The name of the first node of the resistor</li><li>
<a id="pgfId-133272"></a><em>node2</em>: The name of the second node of the resistor</li><li>
<a id="pgfId-133273"></a><em>IRmaxNode1(mA)</em>: The maximum IR drop on node 1 in milliampere</li><li>
<a id="pgfId-133274"></a><em>IRmaxNode2(mA)</em>: The maximum IR drop on node 2 in milliampere</li><li>
<a id="pgfId-133275"></a><em>IRavgNode1(mA)</em>: The average IR drop on node 1 in milliampere</li><li>
<a id="pgfId-133276"></a><em>IRavgNode2(mA)</em>: The average IR drop on node 2 in milliampere</li><li>
<a id="pgfId-133277"></a><em>Ipeak(A)</em>: The peak current of the resistor in ampere</li><li>
<a id="pgfId-133278"></a><em>Iavg(A)</em>: The average current of the resistor in ampere</li><li>
<a id="pgfId-133279"></a><em>Irms(A)</em>: The RMS current of the resistor in ampere</li><li>
<a id="pgfId-133280"></a><em>layerType</em>: The layer type, metal or via</li><li>
<a id="pgfId-133281"></a><em>x(um)</em>: The x-coordinate of the resistor in micrometer</li><li>
<a id="pgfId-133282"></a><em>y(um)</em>: The y-coordinate of the resistor in micrometer</li><li>
<a id="pgfId-137233"></a><em>Reff</em>: The effective resistance value of the resistor. The effective resistance values are displayed only when effective resistance plot type is selected. For other IR drop analysis plots, <em>NA</em> is displayed in the query box column.</li><li>
<a id="pgfId-143699"></a><em>Number of Shapes</em>: The number of shapes in power net layout</li></ol>
















<p>
<a id="pgfId-133253"></a>A part of a sample query box for querying a selected area for IR drop analysis is shown below.</p>

<p><strong>Figure 8-27
<a id="pgfId-125971"></a>Displaying IR Drop Analysis Query Results for a Selected Area in the Query Box</strong></p>
<p>
<a id="pgfId-133312"></a></p>
<div class="webflare-div-image">
<img width="668" height="301" src="images/irdrop-34.gif" /></div>
<h4><em>
<a id="pgfId-133360"></a><a id="47643"></a>Query Box Infor<a id="QueryBoxInformationEM"></a>mation for EM Analysis</em></h4>

<p>
<a id="pgfId-143713"></a>The following information is reported in the Query Box columns for EM analysis query:</p>
<ol><li>
<a id="pgfId-143714"></a><em>name</em>: The name of the resistor for which information is being queried.</li><li>
<a id="pgfId-143715"></a><em>layer</em>: The<em> </em>name of the layer on which the resistor is located.</li><li>
<a id="pgfId-143716"></a><em>netName</em>: The net name of the resistor.</li><li>
<a id="pgfId-143717"></a><em>node1</em>: The name of the first node of the resistor.</li><li>
<a id="pgfId-143718"></a><em>node2</em>: The name of the second node of the resistor.</li><li>
<a id="pgfId-143719"></a><em>type</em>: The layer type, metal or via.</li><li>
<a id="pgfId-143720"></a><em>current_direction</em>: The current direction of the resistor.</li><li>
<a id="pgfId-143721"></a><em>Iavg_rule</em>: The EM rule used for average analysis.</li><li>
<a id="pgfId-143722"></a>Ipeak_rule: The EM rule used for max/peak analysis.</li><li>
<a id="pgfId-143723"></a><em>Irms_rule</em>: The EM rule used for RMS analysis.</li><li>
<a id="pgfId-143724"></a><em>Iacpeak_rule</em>: The EM rule used for AC peak analysis.</li><li>
<a id="pgfId-143725"></a><em>x(um)</em>: The x-coordinate of the resistor in micrometer.</li><li>
<a id="pgfId-143726"></a><em>y(um)</em>: The y-coordinate of the resistor in micrometer.</li><li>
<a id="pgfId-143727"></a><em>w(um)</em>: The width of the resistor in micrometer.</li><li>
<a id="pgfId-143728"></a><em>l(um)</em>: The path length in micrometer.</li><li>
<a id="pgfId-143729"></a><em>Ipeak(A)</em>: The peak current of the resistor in ampere.</li><li>
<a id="pgfId-143730"></a><em>Iavg(A)</em>: The average current of the resistor in ampere.</li><li>
<a id="pgfId-143731"></a><em>Irms(A)</em>: The RMS current of the resistor in ampere.</li><li>
<a id="pgfId-143732"></a><em>Iavg_max(A)</em>: The maximum average Current Density in ampere.</li><li>
<a id="pgfId-143733"></a><em>Ipeak_max(A)</em>: The maximum peak Current Density in ampere.</li><li>
<a id="pgfId-143734"></a><em>Irms_max(A)</em>: The maximum rms Current Density in ampere.</li><li>
<a id="pgfId-143735"></a><em>acpeak_max(A)</em>: The maximum AC peak Current Density in ampere.</li><li>
<a id="pgfId-143736"></a><em>delta_T(C)</em>: The rise in temperature of the resistor caused due to Joule heating in degree Celsius.</li><li>
<a id="pgfId-143737"></a><em>Td(us)</em>: The total on-time period in microsecond.</li><li>
<a id="pgfId-143738"></a><em>r</em>: The duty ratio.</li><li>
<a id="pgfId-143739"></a><em>a(um^2)</em>: The area of the via in micrometer square. In case of metal layer, the value will be <code>&quot;-&quot;.</code></li><li>
<a id="pgfId-143740"></a><em>N</em>: The number of vias in the via array. In case of metal layer, the value will be <code>&quot;-&quot;.</code></li></ol>


























<p>
<a id="pgfId-133389"></a>A part of a sample query box for querying a selected area for EM analysis is shown below.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-133390"></a>All columns in the EM analysis query are not visible in the query box when it opens. Use the scroll bar to see more information in the query box.</div>

<p><strong>Figure 8-28
<a id="pgfId-133331"></a>Displaying EM Analysis Query Results for a Selected Area in the Query Box</strong></p>
<p>
<a id="pgfId-126684"></a></p>
<div class="webflare-div-image">
<img width="671" height="314" src="images/irdrop-35.gif" /></div>
<h4><em>
<a id="pgfId-133428"></a><a id="25426"></a>Query Box I<a id="QueryBoxInformationSHE"></a>nformation for SHE Analysis</em></h4>

<p>
<a id="pgfId-133917"></a>The following information is reported in the Query Box columns for SHE analysis query in addition to that displayed for EM analysis:</p>
<ol><li>
<a id="pgfId-133918"></a>feolT(C): The self-heating coupling temperature in degree Celsius.</li><li>
<a id="pgfId-133919"></a>beolT(C): The temperature in degree Celsius caused by Joule heating and self-heating coupling.</li><li>
<a id="pgfId-136643"></a><em>Iavg_sh(A)</em>: The average current of the resistor in ampere while performing SHE analysis.</li><li>
<a id="pgfId-136644"></a><em>Iavg_sh_max(A)</em>: The maximum average Current Density in ampere while performing SHE analysis.</li></ol>




<h4><em>
<a id="pgfId-133973"></a><a id="97393"></a>Query Box Informatio<a id="QueryBoxInformationRMS"></a>n for RMS EM Hot Spot Waiving Analysis</em></h4>

<p>
<a id="pgfId-133920"></a>The columns below are displayed when the RMS EM hot spot waiving analysis is enabled, which is a limited-access feature:</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-134822"></a>The RMS EM hot spot waiving analysis, is a limited-access feature. To use this feature, contact your Cadence representative and explain your usage requirements.</div>
<ol><li>
<a id="pgfId-133921"></a>rms_%fail: The pass or fail percentage for RMS EM analysis </li><li>
<a id="pgfId-133922"></a>avg_%fail: The pass or fail percentage for average EM analysis </li><li>
<a id="pgfId-133923"></a>rms_minW(um): The minimum width in micrometer required for the metal layer resistors to pass the RMS EM violation</li><li>
<a id="pgfId-133924"></a>rmsT(C): The temperature of the resistor in degree Celsius caused by its own Joule heating </li><li>
<a id="pgfId-133925"></a>jouleHeatT(C): The temperature of the resistor in degree Celsius caused by its own Joule heating and that of neighboring resistors</li><li>
<a id="pgfId-133926"></a>Tmetal(C): The effective temperature of the resistor in degree Celsius, which also includes the temperature caused by Joule heating.</li><li>
<a id="pgfId-133927"></a>PG_wire: Indicates whether or not supply net exists in the allowed range of the resistor</li><li>
<a id="pgfId-133928"></a>rms_waived: Indicates whether or not RMS violation is waived </li></ol>







<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-126958"></a>The Query Box displays results for the first thousand entries at one time. If your query results in more than 1000 entries, the following pop-up box is displayed: </div>

<p>
<a id="pgfId-126962"></a></p>
<div class="webflare-div-image">
<img width="429" height="125" src="images/irdrop-36.gif" /></div>
<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-126994"></a>
When the <em>Query</em> check box is selected, the left mouse button is used to click a point or select an area in the layout. At this time, you cannot perform any other operation with the left mouse button. To use this button for any other layout operation, deselect the <em>Query </em>option.</div>
<h4>
<a id="pgfId-131206"></a>Highlighting Query Results in the layout</h4>

<p>
<a id="pgfId-131207"></a>For the query results listed in the Query Box window, you can highlight the resistor in the layout. You can select multiple rows to highlight multiple resistors at the same time. </p>
<p>
<a id="pgfId-131208"></a>In the figure below, you can see the two resistors selected in the query box are highlighted in the layout in white. This is shown using a red text box for better visibility. </p>

<p><strong>Figure 8-29
<a id="pgfId-131209"></a>Highlighting Query Results in the layout</strong></p>
<p>
<a id="pgfId-131214"></a></p>
<div class="webflare-div-image">
<img width="668" height="466" src="images/irdrop-38.gif" /></div>
<h4>
<a id="pgfId-120900"></a><a id="26485"></a>Saving the IR Drop Analysis Result Plots and Reports</h4>

<p>
<a id="pgfId-120913"></a>The following options are provided for saving the plots and reports of IR drop analysis results:</p>
<ul><li>
<a id="pgfId-98935"></a>Click <em>Save Plot</em> to save a screen capture of the plot. When you click this button, the Export Image form opens. This form lets you take a screen capture of the plot displayed in the Virtuoso layout and save it to a standard image format. This form is shown below.<br /><strong class="webflare-fig-line-height">Figure 8-30
<a id="pgfId-53706"></a>Export Image Form</strong>
<a id="pgfId-87875"></a><div class="webflare-div-image">
<img width="471" height="487" src="images/irdrop-39.gif" /></div>
<a id="pgfId-87923"></a>You can save images in any of these: BMP, JPG, PNG, PPM, XBM, and XPM. To specify the format, use the appropriate suffix with the filename. Note, however, that PNG is the recommended format; not all features are supported by the other formats.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-87924"></a>For more information about the settings that can be specified in this form, see &#8220;Screen Capture Functions&#8221; in the <em>Cadence&#174; User Interface SKILL Reference </em>guide.</div></li><li>
<a id="pgfId-85210"></a>Click <em>Save Report</em> to save the report for the analysis type as a text file. When the <em>Save Report </em>button is clicked, the Select report file dialog box opens. You can choose an existing file to save the report, or you can save the report in a new file. The dialog box is shown below. <br />
<a id="pgfId-72520"></a><div class="webflare-div-image">
<img width="524" height="365" src="images/irdrop-40.gif" /></div><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-72537"></a>To save and print the report for all elements, leave the <em>Elements count </em>field empty and then select <em>Save Report</em>.</div></li><li>
<a id="pgfId-72529"></a>Click <em>Open Report after Saving</em><a id="SaveReportFormat"></a> to view the report in the text editor. A sample report for IR drop analysis that opens when you select this option and click <em>Save Report</em> is shown below.<br />
<a id="pgfId-138928"></a><div class="webflare-div-image">
<img width="630" height="375" src="images/irdrop-41.gif" /></div></li></ul>

















<h4>
<a id="pgfId-70421"></a>Compar<a id="ComparingReports"></a>ing Reports</h4>

<p>
<a id="pgfId-138955"></a>The Display form provides an option to compare reports for different analysis types that are generated in the GUI and batch mode. For this, click <em>Compare Report</em> in the Display form.</p>

<p class="webflare-indent1"><strong>Figure 8-31
<a id="pgfId-138528"></a>Comparing Reports</strong></p>
<p class="webflare-indent1">
<a id="pgfId-138532"></a></p>
<div class="webflare-div-image">
<img width="391" height="621" src="images/irdrop-42.gif" /></div>

<p>
<a id="pgfId-138972"></a>The pop-up window, <em>Compare Reports</em>, opens. In this window, you can perform the following tasks:</p>
<ul><li>
<a id="pgfId-138973"></a>Specify the path to the <em>GUI Report File</em> generated earlier. When you click the <em>Browse</em> button, the Select Existing GUI File pop-up window opens. Select an existing report file and click <em>Open</em>.<br />
<a id="pgfId-138977"></a><div class="webflare-div-image">
<img width="520" height="369" src="images/irdrop-43.gif" /></div></li><li>
<a id="pgfId-138978"></a>Generate a new report for any plot. For this, first select <em>Generate New Report </em>and then use the Browse button. The Select GUI report file pop-up window opens. Provide the location and the name of the new report and click <em>Save.</em><br /><ffi2-fig-frame-in-2 id="#id138982">
<a id="pgfId-138982"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="520" height="369" src="images/irdrop-44.gif" /></div></li><li>
<a id="pgfId-138536"></a>Specify the path to the existing <em>Batch Report.</em> Click <em>OK.</em><br /><ffi2-fig-frame-in-2 id="#id139035">
<a id="pgfId-139035"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="326" height="138" src="images/irdrop-45.gif" /></div>
<a id="pgfId-138540"></a>The vimdiff window opens. In this window, you can see the contents of the two reports next to each other for easy comparison. The figure below displays a vimdiff window comparing two signal violation reports.<br /><strong>Figure 8-32
<a id="pgfId-139296"></a>Viewing Reports in vimdiff</strong>
<a id="pgfId-139259"></a><div class="webflare-div-image">
<img width="656" height="616" src="images/irdrop-46.gif" /></div></li></ul>



















<h2>
<a id="pgfId-109669"></a><a id="52139"></a><a id="65780"></a>Types <a id="marker-139288"></a>of IR <a id="TypesIRDropPlots"></a>Drop Analysis Plots</h2>

<p>
<a id="pgfId-109670"></a>All rail analysis plots are available in the list in the <em>Rail Analysis </em>field in the IR/EM Results form. </p>
<p>
<a id="pgfId-87203"></a>Following types of IR drop analysis results plots are available:</p>
<ul><li>
<a id="pgfId-75952"></a><a href="irdrop.html#45384">IR, IRAVG &#8211; IR Drop Plots</a></li><li>
<a id="pgfId-75956"></a><a href="irdrop.html#99513">RC, RCAVG, and RCRMS &#8211; Resistor Current Plots</a></li><li>
<a id="pgfId-75960"></a><a href="irdrop.html#75590">IV &#8211; Transistor Voltage Plot</a></li><li>
<a id="pgfId-127581"></a><a href="irdrop.html#45363">TC, TCAVG, TCRMS &#8211; Tap Current Plots</a></li><li>
<a id="pgfId-138752"></a><a href="irdrop.html#12829">POWER &#8211; Resistor Power Plots</a></li><li>
<a id="pgfId-87375"></a><a href="irdrop.html#44094">PI &#8211; Powergate Current Plot</a></li><li>
<a id="pgfId-87392"></a><a href="irdrop.html#28554">PV &#8211; Powergate Voltage Plot</a></li><li>
<a id="pgfId-107672"></a><a href="irdrop.html#20739">REffective &#8211; Effective Resistance Plot</a></li></ul>








<h3>
<a id="pgfId-75964"></a><a id="45384"></a>IR, IRAVG &#8211; IR D<a id="ir"></a>rop<a id="marker-75963"></a> Plots</h3>

<p>
<a id="pgfId-100680"></a>Analyzes and reports voltage drop. The IR drop plot is displayed on the Virtuoso layout. The IR drop data is saved inside the state directory or the simulation result file of the net. The worst case voltage drop can be displayed using the <em>Violation Browser</em> check box. The segments of the design with high IR drop can then be debugged. </p>
<p>
<a id="pgfId-109566"></a>There are two types of IR plots available in the list &#8211; IR - IR Drop and IRAVG - IR Avg Drop. The IR Drop plot displays the peak voltage drop while the IRAVG plot displays the average voltage drop.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-134043"></a>If in the <code>emir.conf</code> file in the bin directory, the <a href="../voltusFIXL/dataprep.html#report_voltage">report_voltage</a> variable is set to <code>true</code>, the IR plots will display absolute voltage values instead of the IR drop values.</div>

<h4>
<a id="pgfId-104927"></a>Information Displayed in Annotation Browser for IR Drop Analysis</h4>

<p>
<a id="pgfId-104845"></a>The EM/IR tab of Annotation Browser displays the following columns for this analysis type:</p>
<ul><li>
<a id="pgfId-104852"></a>Value</li><li>
<a id="pgfId-104871"></a>Layers</li><li>
<a id="pgfId-104878"></a>Short Message</li><li>
<a id="pgfId-104885"></a>Net </li><li>
<a id="pgfId-104862"></a>Time</li></ul>




<p>
<a id="pgfId-104838"></a>The IR plot is shown in the <a href="irdrop.html#13240">Displaying and Querying EMIR Results</a> section.</p>

<h3>
<a id="pgfId-75973"></a><a id="99513"></a>RC, RCAVG, and RCRMS &#8211; Resistor Cu<a id="marker-75971"></a>rrent <a id="rc"></a>Plots</h3>

<p>
<a id="pgfId-75974"></a>Analyze and report resistor currents. After observing IR drop plots, the next step is to understand how the current flows in the design to create the generated IR drop plot. It is important to examine resistor currents (RC) plots because they exhibit behaviors that are not obvious from examining only IR drop plots. The RC plots show current-flow trends that you either might not have expected or current from several power pins reconverging in the middle of the chip to create high currents in some wires. </p>
<p>
<a id="pgfId-105784"></a>There are three types of RC plots available in the list &#8211; RC - Resistor Current, RCAVG - Average Resistor Current, and RCRMS - RMS Resistor Current. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-128454"></a>The RC - Resistor Current plot is available for all analysis types for both IR drop and EM analysis results (both for the <code>qrcTechFile</code> and <code>emDataFile</code> flow).</div>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-128553"></a>The RCAVG and RCRMS plots are available for all analysis types for viewing the IR drop results but only available in the <code>qrcTechFile</code> flow and the EM Only ICT File flow for viewing the EM analysis results. These plots are not available in the <code>emDataFile</code> flow.</div>

<h4>
<a id="pgfId-105785"></a>Information Displayed in Annotation Browser for RC Plot Types</h4>

<p>
<a id="pgfId-105786"></a>The EM/IR tab of Annotation Browser displays the following columns for RC - Peak, RCAVG, and RCRMS plot types:</p>
<ul><li>
<a id="pgfId-105787"></a>Value</li><li>
<a id="pgfId-105788"></a>Layers</li><li>
<a id="pgfId-105789"></a>Short Message</li><li>
<a id="pgfId-105790"></a>Width </li><li>
<a id="pgfId-105791"></a>Length</li><li>
<a id="pgfId-105792"></a>Resistance</li><li>
<a id="pgfId-105793"></a>Via Area</li><li>
<a id="pgfId-105794"></a>Number of Vias</li></ul>







<p>
<a id="pgfId-105772"></a>The plots shown below display peak and average resistor currents. The violation range is customized by using the <em>Min Max</em> sliders in the IR/EM Results form.</p>

<p><strong>Figure 8-33
<a id="pgfId-75975"></a>RC &#8211; Peak Resistor Current Plot</strong></p>
<p>
<a id="pgfId-75978"></a></p>
<div class="webflare-div-image">
<img width="369" height="498" src="images/irdrop-47.gif" /></div>
<p><strong>Figure 8-34
<a id="pgfId-103416"></a>Average Resistor Current Plot</strong></p>
<p>
<a id="pgfId-103455"></a></p>
<div class="webflare-div-image">
<img width="365" height="500" src="images/irdrop-48.gif" /></div>
<h3>
<a id="pgfId-75982"></a><a id="75590"></a>IV &#8211; Transistor Voltag<a id="marker-75980"></a>e P<a id="iv"></a>lot</h3>

<p>
<a id="pgfId-130001"></a>Analyzes and reports the voltage drop at device nodes, also known as tap nodes. </p>

<h4>
<a id="pgfId-105309"></a>Information Displayed in Annotation Browser for Transistor Voltage Plot Type</h4>

<p>
<a id="pgfId-105266"></a>The EM/IR tab of Annotation Browser displays the following columns for transistor voltage plot type:</p>
<ul><li>
<a id="pgfId-105071"></a>Value</li><li>
<a id="pgfId-105072"></a>Layers</li><li>
<a id="pgfId-105073"></a>Short Message</li><li>
<a id="pgfId-105077"></a>Net</li><li>
<a id="pgfId-105097"></a>Time</li></ul>




<p>
<a id="pgfId-105282"></a>This plot is shown below.</p>

<p><strong>Figure 8-35
<a id="pgfId-75984"></a>Transistor Voltage Plot</strong></p>
<p>
<a id="pgfId-75999"></a></p>
<div class="webflare-div-image">
<img width="339" height="502" src="images/irdrop-49.gif" /></div>
<h3>
<a id="pgfId-128138"></a><a id="45363"></a>TC, TCAVG, TCRMS &#8211; Tap C<a id="marker-128137"></a>urrent Plots</h3>

<p>
<a id="pgfId-128139"></a>Analyze and report tap currents. These plots show the current distribution inside the transistor. The power-grid library generation program characterizes the distribution of the current inside the transistor and replaces the devices connected to the power grid with current taps (sink). The relative distribution of the current inside the transistor power-grid view library is based on the device width and length. </p>
<p>
<a id="pgfId-128140"></a>If an accurate power-grid view is used for the memories during rail analysis, the tap current plots clearly highlight the low current distribution in the transistor region and high power distribution in the sense amplifier and the decoder circuit of the memory. </p>
<p>
<a id="pgfId-128141"></a>There are three types of TC plots available in the list &#8211; TC - Peak Tap Current, TCAVG - Average Tap Current, and TCRMS - RMS Tap Current. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-128513"></a>The TC - Peak Tap Current plot is available for all analysis types for both IR drop and EM analysis results. </div>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-128601"></a>The TCAVG and TCRMS plots are available for all analysis types for viewing the IR drop results but only available in the <code>qrcTechFile</code> flow and the EM Only ICT File flow for viewing the EM analysis results. These plots are not available in the <code>emDataFile</code> flow.</div>

<h4><em>
<a id="pgfId-128143"></a>Information Displayed in Annotation Browser for Tap Current Plot Types</em></h4>

<p>
<a id="pgfId-128144"></a>The EM/IR tab of Annotation Browser displays the following columns for TC - Peak, TCAVG, and TCRMS plot types:</p>
<ul><li>
<a id="pgfId-128145"></a>Value</li><li>
<a id="pgfId-128146"></a>Layers</li><li>
<a id="pgfId-128147"></a>Short Message</li><li>
<a id="pgfId-128148"></a>Resistance</li><li>
<a id="pgfId-128149"></a>Via Area</li><li>
<a id="pgfId-128150"></a>Number of Vias</li><li>
<a id="pgfId-128151"></a>Needed Number of Vias</li><li>
<a id="pgfId-128152"></a>Net</li></ul>







<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-128153"></a>For details about the information displayed in the columns of Annotation Browser, see <a href="irdrop.html#84741">Information Displayed in the EM/IR Tab of Annotation Browser</a>.</div>
<p>
<a id="pgfId-128157"></a>The plot shown below displays peak tap currents. The violation range is customized by using the <em>Min Max</em> sliders in the IR/EM Results form.This plot is shown below.</p>

<p><strong>Figure 8-36
<a id="pgfId-128158"></a>Peak Tap Current Plot for All Power Nets &#8211; Displaying Total Violation Range</strong></p>
<p>
<a id="pgfId-138683"></a></p>
<div class="webflare-div-image">
<img width="379" height="482" src="images/irdrop-50.gif" /></div>
<h3>
<a id="pgfId-138688"></a><a id="12829"></a>POWE<a id="ResistorPowerPlot"></a>R &#8211; Resistor Power Plots</h3>

<p>
<a id="pgfId-138689"></a>Analyze and report resistor power, which is the value of current through a resistor multiplied by the voltage across the resistor.</p>

<h4><em>
<a id="pgfId-138690"></a>Information Displayed in Annotation Browser for Resistor Power Plot Types</em></h4>

<p>
<a id="pgfId-138691"></a>The EM/IR tab of Annotation Browser displays the following columns for Resistor Power plot types:</p>
<ul><li>
<a id="pgfId-138692"></a>POWER Value</li><li>
<a id="pgfId-138693"></a>Layers</li><li>
<a id="pgfId-138694"></a>Short Message</li><li>
<a id="pgfId-138695"></a>Resistance</li><li>
<a id="pgfId-138696"></a>Length</li><li>
<a id="pgfId-138697"></a>Width </li><li>
<a id="pgfId-138698"></a>Via Area</li><li>
<a id="pgfId-138699"></a>No. of Vias</li></ul>







<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-138700"></a>For details about the information displayed in the columns of Annotation Browser, see <a href="irdrop.html#84741">Information Displayed in the EM/IR Tab of Annotation Browser</a>.</div>
<p>
<a id="pgfId-138704"></a>The plot shown below displays resistor power plot for the top ten violations.</p>

<p><strong>Figure 8-37
<a id="pgfId-138705"></a>Resistor Power Plot &#8211; Displaying Top Ten Violations</strong></p>
<p>
<a id="pgfId-138709"></a></p>
<div class="webflare-div-image">
<img width="433" height="508" src="images/irdrop-51.gif" /></div>

<p>
<a id="pgfId-138710"></a>Click <em>Save Report</em> in the Display form to save the report for this plot. You can open the report for viewing. A sample report is shown below. The reporting for this plot is only supported in the GUI mode.</p>

<p><strong>Figure 8-38
<a id="pgfId-138711"></a>Sample Report for Power - Resistor Power Plot</strong></p>
<p>
<a id="pgfId-138715"></a><a id="68668"></a></p>
<div class="webflare-div-image">
<img width="653" height="429" src="images/irdrop-52.gif" /></div>
<h3>
<a id="pgfId-75793"></a><a id="44094"></a>PI &#8211; Powergat<a id="marker-87306"></a>e Cur<a id="pi"></a>rent Plot</h3>

<p>
<a id="pgfId-87267"></a>This plot is applicable only to power-gated design and analysis.</p>
<p>
<a id="pgfId-87268"></a>This plot displays the currents across resistors when power gates are connected.This plot is used to analyze whether the current through power gates exceeds the saturation current or not, and if it does, to debug such instances in the design. The saturation current and the on-resistance of the power switches are characterized and stored inside the power-grid library of the power-gate transistor. </p>

<h4>
<a id="pgfId-105130"></a>Information Displayed in Annotation Browser for Powergate Plot Types</h4>

<p>
<a id="pgfId-105131"></a>The EM/IR tab of Annotation Browser displays the following columns for both, powergate current and powergate voltage plot types:</p>
<ul><li>
<a id="pgfId-105132"></a>Value</li><li>
<a id="pgfId-105133"></a>Layers</li><li>
<a id="pgfId-105134"></a>Short Message</li><li>
<a id="pgfId-105138"></a>Resistance</li><li>
<a id="pgfId-105152"></a>Power Gate Transistor</li></ul>




<p>
<a id="pgfId-96680"></a>This PI plot is shown below. In this plot, the resistor with the maximum current violation is zoomed into using the <em>Zoom Select Max Violation</em> option in the IR/EM Results form.</p>

<p><strong>Figure 8-39
<a id="pgfId-96748"></a>Powergate Current Plot</strong></p>
<p>
<a id="pgfId-96766"></a></p>
<div class="webflare-div-image">
<img width="668" height="508" src="images/irdrop-53.gif" /></div>

<p>
<a id="pgfId-89256"></a>A sample PI report is shown below:</p>
<p>
<a id="pgfId-89427"></a></p>

<div class="webflare-div-image">
<img width="664" height="250" src="images/irdrop-54.gif" /></div>
<h3>
<a id="pgfId-87252"></a><a id="28554"></a>PV &#8211; Powerga<a id="marker-95236"></a>te Voltage Plot</h3>

<p>
<a id="pgfId-105221"></a>This plot displays the IR drop across power-switch instances. This plot can be used to analyze and debug the regions of IR drop inside the power-gated block. For example, if the IR drop, across power gate is already high, the IR drop inside the power-gated block will be much higher. In this case, the power-gate placement will have to be refined or more power gates will have to be added to resolve the IR drop problem.</p>
<p>
<a id="pgfId-105223"></a>This plot is shown below.</p>

<p><strong>Figure 8-40
<a id="pgfId-96575"></a>Powergate Voltage Plot</strong></p>
<p>
<a id="pgfId-96591"></a></p>
<div class="webflare-div-image">
<img width="560" height="501" src="images/irdrop-55.gif" /></div>

<p>
<a id="pgfId-89537"></a>A sample PV report is shown below:</p>
<p>
<a id="pgfId-89549"></a></p>

<div class="webflare-div-image">
<img width="619" height="250" src="images/irdrop-56.gif" /></div>
<h3>
<a id="pgfId-128073"></a><a id="20739"></a>REffective &#8211; Effective<a id="marker-128071"></a> Resistance<a id="REffective"></a> Plot</h3>

<p>
<a id="pgfId-111282"></a>Uses the data generated by the static power grid solver (SPGS) to display the pin-to-node resistances on the Virtuoso layout. For more information about how resistances are calculated and reported by the SPGS, see the <a href="irdrop.html#20063">Static Power Grid Solver</a> section.</p>
<p>
<a id="pgfId-112835"></a>In this plot type, you can also plot the least-resistive path for a net. For details, see <a href="irdrop.html#77215">Plotting the Least-Resistive Path</a>.</p>
<p>
<a id="pgfId-111286"></a>The effective resistance plot for all nets is shown below.</p>

<p><strong>Figure 8-41
<a id="pgfId-111287"></a>REffective Plot for All Nets</strong></p>
<p>
<a id="pgfId-111291"></a></p>
<div class="webflare-div-image">
<img width="447" height="511" src="images/irdrop-57.gif" /></div>
<h2>
<a id="pgfId-105986"></a><a id="77215"></a>Plotting the Least<a id="marker-105984"></a>-Resistive<a id="lrp"></a> Path</h2>

<p>
<a id="pgfId-117250"></a>The least-resistive path (LRP) plot lets you identify weakly connected instances in the design during early stages of power planning. The resistance for an instance pin is calculated as the total resistance along the least resistance path. If an instance has multiple power pins connected to the power grid, the LRP plot uses the pin with the worst (highest) resistance value to plot the instance-based data. This plot highlights the current path for the selected instance to the voltage source. A long LRP usually results in high resistance and potentially high voltage drop.</p>
<p>
<a id="pgfId-118160"></a>In addition to identifying and displaying the worst IR drop violations, the LRP feature in Voltus-Fi-XL lets you plot LRP on demand for any node. You can view the LRP for any high IR drop node by selecting it in the layout. There are two options provided in the GUI, <em>Get Layout Node </em>and <em>Get Marker Node</em>, to let you select a node on the GUI and view its LRP and to select an object in Annotation Browser and view the LRP for the node on the selected marker. For details, see <a href="irdrop.html#89962">The LRP Browser</a> and <a href="irdrop.html#58315">Displaying LRP for the Node on the Selected Marker</a>, respectively.</p>

<h3>
<a id="pgfId-130702"></a><a id="62542"></a>Batch Mode Support for LRP Analysis</h3>

<p>
<a id="pgfId-130703"></a>The following batch commands is used for loading and printing RLRP analysis reports in Voltus-Fi-XL:</p>
<ul><li>
<a id="pgfId-130707"></a><a href="batchmode.html#43350">load_ir_results</a><br />
<a id="pgfId-130708"></a>Loads the IR drop analysis results</li><li>
<a id="pgfId-130712"></a><a href="batchmode.html#70245">print_rlrp_report</a><br />
<a id="pgfId-130713"></a>Prints the RLRP analysis report </li></ul>




<h3>
<a id="pgfId-132146"></a>Batch Mode Support for LRP Analysis</h3>

<p>
<a id="pgfId-132147"></a>The following batch commands is used for loading and printing RLRP analysis reports in Voltus-Fi-XL:</p>
<ul><li>
<a id="pgfId-132151"></a><a href="batchmode.html#43350">load_ir_results</a><br />
<a id="pgfId-132152"></a>Loads the IR drop analysis results</li><li>
<a id="pgfId-132156"></a><a href="batchmode.html#70245">print_rlrp_report</a><br />
<a id="pgfId-132157"></a>Prints the RLRP analysis report </li></ul>




<h4><em>
<a id="pgfId-132158"></a>Tcl Commands:</em></h4>

<p>
<a id="pgfId-132159"></a>An example of the set of Tcl commands for loading and printing the LRP analysis reports is as follows:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-132160"></a>load_ir_results\</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-132161"></a>./abc/raw.out/xps.emirtap.emir0_bin\</pre>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-132162"></a>print_rlrp_report \</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-132163"></a>-net TVDD \</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-132164"></a>-filename RLRP.rpt \</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-132165"></a>-tap MavD7_1_unmatched#d \</pre>
<p>
<a id="pgfId-130714"></a>The detailed description, syntax and examples of how to use these commands are provided in the <a href="batchmode.html#25448">load_ir_results</a> section of the &#8220;Batch Mode Execution&#8221; chapter.</p>

<h3>
<a id="pgfId-130754"></a><a id="64838"></a>GUI Support for LRP Analysis</h3>

<p>
<a id="pgfId-118187"></a>The use model for LRP analysis is detailed below. To view the LRP plot for a net, perform the following steps after loading the IR drop analysis results:</p>
<ul><li>
<a id="pgfId-117252"></a>Click <em>Select Nets</em> to select the net for which you want to view the LRP plot.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-117253"></a>The LRP plot feature works for one net at a time. It can only be used in the &#8220;<em>Select Nets</em>&#8221; mode and not in the &#8220;<em>All Nets</em>&#8221; mode.</div></li><li>
<a id="pgfId-117254"></a>Click <em>Show Plot</em>. The LRP Browser tab in the IR/EM Results form gets enabled. This is shown below.<br /><strong class="webflare-fig-line-height">Figure 8-42
<a id="pgfId-105992"></a>IR/EM Results Form &#8211; Plotting the Least-Resistive Path</strong>
<a id="pgfId-105996"></a><div class="webflare-div-image">
<img width="671" height="571" src="images/irdrop-58.gif" /></div></li></ul>






<h4>
<a id="pgfId-117351"></a><a id="89962"></a>The L<a id="LRPBrowser"></a>RP Browser</h4>

<p>
<a id="pgfId-117352"></a>The LRP Browser tab lets you specify nets, layers, and nodes for which you want to view the LRP plots. The various options provided for this are detailed below.</p>
<p>
<a id="pgfId-117341"></a>Voltus-Fi-XL provides support in the form of tips about the information to be filled out in the various fields in the LRP Browser form. This tooltip appears when you hover over a field in the form. This is shown below.</p>

<p><strong>Figure 8-43
<a id="pgfId-117403"></a>Tooltips for LRP Browser Tab</strong></p>
<p>
<a id="pgfId-117407"></a></p>
<div class="webflare-div-image">
<img width="481" height="428" src="images/irdrop-59.gif" /></div>

<p>
<a id="pgfId-117446"></a>To start, click the LRP Browser tab of the IR/EM Results form. The form shown below opens.</p>

<p><strong>Figure 8-44
<a id="pgfId-112618"></a>LRP Browser Tab <a id="RailAnalysisResultsLRPbrowser"></a>of the IR/EM Results Form</strong></p>
<p>
<a id="pgfId-106008"></a></p>
<div class="webflare-div-image">
<img width="521" height="650" src="images/irdrop-60.gif" /></div>

<p>
<a id="pgfId-106009"></a>There are two group boxes in this tab, the LRP Paths and Resistance Path.</p>
<ul><li>
<a id="pgfId-106010"></a>In the LRP Paths group box, specify the nets for which you want to perform the LRP analysis in the <em>Select Nets</em> field. The net selected in the IR tab is selected by default.</li><li>
<a id="pgfId-128815"></a>Click <em>Compute LRP</em> to compute LRP values for all nodes of the selected net. The information is populated in the Node ID - Node Name and LRP Value columns of the table in the LRP Paths group box. </li><li>
<a id="pgfId-128816"></a>Click <em>Shorted layers</em> to short specific layers for the LRP analysis. For details, see <a href="irdrop.html#16969">Shorting Layers for LRP Analysis</a>.</li><li>
<a id="pgfId-117511"></a>Click <em>Get layout Node</em> to select a node in the layout. Click this button and then click anywhere in the Virtuoso layout window. The node-name text box will print information about the <em>X</em>- and <em>Y</em>- co-ordinates, and the <em>Layer</em> name for the node present nearest to the location of the click. The LRP path of the selected node will be shown in the table below.</li><li>
<a id="pgfId-117546"></a>Click <em>Get Marker Node </em>to view the LRP values for a node, if present, on a selected marker. For this, enable Annotation Browser, select a marker and click this button. If the marker is associated with a node name, the LRP for the node will be shown in the table below. For details, see <a href="irdrop.html#58315">Displaying LRP for the Node on the Selected Marker</a>.</li><li>
<a id="pgfId-118067"></a>Type the name of the node in the <em>Node Id or Name</em> to retrieve the LRP value for the specific node. Node names can be regular expressions, such as <code>*MPM </code>shown in the figure above. The LRP table shows all nodes matching the regular expression. This saves time taken to scroll through the list of nodes to find information for a specific node.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-118068"></a>You can type the name of any node in this field, including a node that is not included in the list of violations. In this case, the table in the <em>Resistance Path</em> group box shows the information for the node of the selected net and the plot displays the LRP path.</div></li><li>
<a id="pgfId-118069"></a>Specify the <em>Number of Paths</em> or the number of violations that you want to view. By default, top 100 violations are listed.</li><li>
<a id="pgfId-118070"></a>The table shows the LRP for the selected net to all instances or nodes defined for the net in the <em>Node ID - Node Name</em> column and their corresponding LRP values in the <em>LRP Value</em> column. For each instance, the table shows the cumulative resistance on the path.</li><li>
<a id="pgfId-106013"></a>Select an instance in the list to view its LRP in the layout. When an instance is clicked, the LRP path is highlighted in red in the Virtuoso layout. This is shown in below image.</li><li>
<a id="pgfId-106014"></a>In the <em>Resistance Path</em> group box of the LRP Browser tab, you can view the list of resistors for a path. For details of the columns in the table, see <a href="irdrop.html#38149">Resistance Path Group Box Table Information</a>. Select <em>Auto Zoom</em> to automatically zoom to the resistor being selected in the path in the layout. The LRP path is highlighted with a white border and the resistor from the path is highlighted in red. This is shown below.<br /><strong class="webflare-fig-line-height">Figure 8-45
<a id="pgfId-106015"></a>Least-Resistive Path for a Resistor Highlighted on the Virtuoso Layout</strong>
<a id="pgfId-106019"></a><div class="webflare-div-image">
<img width="668" height="522" src="images/irdrop-61.gif" /></div></li></ul>















<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-106020"></a>If the tables in the LRP browser tab do not show any entries, ensure the following:</div>
<ul><li>
<a id="pgfId-106021"></a>The selected net has at least one pin location or voltage-source location</li><li>
<a id="pgfId-106022"></a>The selected net has nodes connected to it</li><li>
<a id="pgfId-117001"></a>Click <em>Print Report</em> to print the LRP values of the specific resistors in a text file. The Select report file pop-up window opens. Specify the name of the report file and click <em>Save</em>. The report opens in the console. A sample report is shown in <a href="irdrop.html#19838">Default Reports Generated for EMIR Analysis</a>.</li><li>
<a id="pgfId-117140"></a>Click <em>Clear Highlight</em> to clear the LRP highlighted in the layout.</li><li>
<a id="pgfId-129574"></a>Check <em>segmentwise</em> to view the combined resistance values for a layer in the Resistance Path table. When this option is enabled, all the resistors on a layer, metal or via, will be merged into one segment for the purpose of LRP reporting. In the image below, the resistors, <code>rg12</code>, <code>rg13</code>, and <code>rg14</code> on layer, <code>mt3</code> are shown in the Resistor Path table. This is the display when the <em>segmentwise</em> option is not selected.<br /><strong class="webflare-fig-line-height">Figure 8-46
<a id="pgfId-129575"></a>Display of Resistor Paths</strong>
<a id="pgfId-129579"></a><div class="webflare-div-image">
<img width="668" height="95" src="images/irdrop-62.gif" /></div><strong>Figure 8-47
<a id="pgfId-129580"></a>Segment-wise Display of Resistor Paths</strong>
<a id="pgfId-129585"></a><div class="webflare-div-image">
<img width="668" height="102" src="images/irdrop-63.gif" /></div>
<a id="pgfId-129586"></a>In the above image, the resistors for the layer, <code>mt3</code> are combined to display the resistor path for the segment. This is highlighted in red in the above image.</li></ul>














<h4><em>
<a id="pgfId-129363"></a><a id="38149"></a>Resistance Path Group Box Table Information</em></h4>

<p>
<a id="pgfId-129757"></a>The Resistance Path table lists all resistors in the LRP path for the node selected in the Node ID - Node Name table. You can click any row to highlight the resistor in the layout window. </p>
<p>
<a id="pgfId-129364"></a>A part of the Resistance Path table is shown in the image below. The details of the column information is provided subsequently.</p>

<p><strong>Figure 8-48
<a id="pgfId-129365"></a>Information in the Resistance Path Table</strong></p>
<p>
<a id="pgfId-129369"></a></p>
<div class="webflare-div-image">
<img width="668" height="125" src="images/irdrop-64.gif" /></div>

<p>
<a id="pgfId-131720"></a>It provides the following information:</p>
<ul><li>
<a id="pgfId-131721"></a><em>Res Name</em>: Name of the resistor on the layer</li><li>
<a id="pgfId-131722"></a><em>R Val (Ohm)</em>: The resistance value of the resistor</li><li>
<a id="pgfId-131723"></a><em>V-Drop (V)</em>: The voltage drop across the resistor. This value increases as the path moves away from the pin.</li><li>
<a id="pgfId-131724"></a><em>Layer</em>: Name of the layer on which the resistor is located</li><li>
<a id="pgfId-131725"></a><em>Length (u)</em>: The length of the resistor in micron</li><li>
<a id="pgfId-131726"></a><em>Width (u)</em>: The width of the resistor in micron</li><li>
<a id="pgfId-131727"></a><em>Acc.R Val (ohm)</em>: The accumulative resistance value along the LRP path. This column displays the total resistance of all the resistors till this point in the path.</li><li>
<a id="pgfId-131728"></a><em>Acc.V Drop (V)</em>: The accumulative voltage drop along the LRP. This column displays the total voltage drop of all the resistors till this point in the path.</li><li>
<a id="pgfId-131729"></a><em>Current (A)</em>: The current across the resistor</li><li>
<a id="pgfId-131730"></a><em>Acc.Current (A)</em>: The accumulative current along the LRP till this point</li><li>
<a id="pgfId-131731"></a><em>Time</em>: The simulation time captured from the simulation result file</li><li>
<a id="pgfId-131732"></a><em>current-density (A/u)</em>: The Current Density across the resistor</li><li>
<a id="pgfId-131733"></a><em>Location (u)</em>: The location of the resistor</li><li>
<a id="pgfId-131734"></a><em>Voltage diff (V)</em>: The voltage difference at this resistor. It is the difference between the voltage drop between this resistor and the previous resistor.</li></ul>














<h4>
<a id="pgfId-117594"></a><a id="16969"></a>Shorti<a id="ShortingLayers"></a>ng Laye<a id="ShortingLayersLRP"></a>rs for LRP Analysis</h4>

<p>
<a id="pgfId-117595"></a>While computing LRP for a node or instance, you can short specific layers. When you do this, all resistance on the specified layer is shorted, that means, the LRP display shows a value of 0 for all resistors on the shorted layer. This is shown in below images.</p>
<p>
<a id="pgfId-117596"></a>When you click <em>Shorted layers</em>, the <em>Filters</em> pop-up window opens. In this window, select the layer you want to short. You can short multiple layers.</p>
<p>
<a id="pgfId-117597"></a>For example, in the image below, layer <code>Metal2</code> is shorted.</p>

<p><strong>Figure 8-49
<a id="pgfId-117598"></a>Specifying the layers to be shorted for the LRP Analysis</strong></p>
<p>
<a id="pgfId-117602"></a></p>
<div class="webflare-div-image">
<img width="261" height="257" src="images/irdrop-65.gif" /></div>

<p>
<a id="pgfId-117603"></a>When a layer is shorted, the <em>Layer</em> information in the Resistance Path group box shows a value of 0 in the <em>R val (Ohm)</em> column for all resistors on that layer. For example, in the image below, the LRP value for resistor, <code>rh740</code> on layer, <code>m2</code> is 0.</p>

<p><strong>Figure 8-50
<a id="pgfId-117604"></a>LRP Value for Resistors on the Shorted Layer</strong></p>
<p>
<a id="pgfId-117609"></a></p>
<div class="webflare-div-image">
<img width="497" height="625" src="images/irdrop-66.gif" /></div>
<h4>
<a id="pgfId-117611"></a><a id="58315"></a>Displaying LRP f<a id="DisplayingLRPTapMarker"></a>or the Node on the Selected Marker</h4>

<p>
<a id="pgfId-117831"></a>You can display the LRP for a node on the selected marker in Annotation Browser. When you select a violation marker in the Browser, it is highlighted in the layout. If the marker is associated with a node name, you can view the LRP for the node. This is particularly useful when either REffective or the transistor voltage plot is being shown and you want to see the LRP for the selected marker node. </p>
<p>
<a id="pgfId-117832"></a>The steps are detailed below.</p>
<ul><li>
<a id="pgfId-117833"></a>In the IR tab, select <em>IV </em>&#8211;<em> Transistor Voltage</em> or <em>REffective </em>&#8211;<em> Effective Resistance </em>as the plot type and click <em>Show Plot</em>.</li><li>
<a id="pgfId-117834"></a>In the Display form, select <em>Violation Browser</em>. The Annotation Browser window opens in the layout. Select a violation and the violation marker is displayed in the layout.</li><li>
<a id="pgfId-117835"></a>In the LRP Browser tab, click <em>Get Marker Node</em>. The information for the node &#8211; the x- and y- co-ordinates and the layer name &#8211; on the marker is populated in the LRP browser tab.</li><li>
<a id="pgfId-117836"></a>Click the node name in the LRP table and then click <em>Compute LRP</em> to compute the LRP value for the node and to view the least-resistive path for the node in the layout.<br />
<a id="pgfId-117837"></a>An example is shown below.<br /><strong class="webflare-fig-line-height">Figure 8-51
<a id="pgfId-117838"></a>Displaying LRP for the Node on the Selected Marker</strong>
<a id="pgfId-117842"></a><div class="webflare-div-image">
<img width="671" height="525" src="images/irdrop-67.gif" /></div></li></ul>








<h4>
<a id="pgfId-106023"></a><a id="24578"></a>Supporting LR<a id="LRPPowerGatedDesigns"></a>P Analysis in Power-Gated Designs</h4>

<p>
<a id="pgfId-106024"></a>In Voltus-Fi-XL, you can view the LRP plot for power-gated designs. An always-ON net LRP plot shows LRP path for all nodes in the always-ON net as well as for all nodes connected to the switched net.</p>
<p>
<a id="pgfId-106025"></a>The steps performed to select the LRP analysis type in the IR/EM Results form are the same as those described in the previous section. In addition, select the always-ON net. For example, the net TVDD, shown below is an always-ON net.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-114019"></a>The net, <code>VDD!</code>, shown in below image, is a switched net.</div>

<p><strong>Figure 8-52
<a id="pgfId-114020"></a>Selecting the Always-On Net for Viewing the LRP</strong></p>
<p>
<a id="pgfId-114024"></a></p>
<div class="webflare-div-image">
<img width="471" height="611" src="images/irdrop-68.gif" /></div>

<p>
<a id="pgfId-113281"></a>Select the LRP Browser Tab. This is shown below.</p>

<p><strong>Figure 8-53
<a id="pgfId-106034"></a>LRP Browser Tab for Power-Gated Designs</strong></p>
<p>
<a id="pgfId-106039"></a></p>
<div class="webflare-div-image">
<img width="488" height="605" src="images/irdrop-69.gif" /></div>

<p>
<a id="pgfId-106040"></a>In the above form, the <em>LRP Paths</em> group box displays the LRP values for the nodes connected to the always-ON net. It also shows the LRP values for the nodes connected to the switched net.</p>
<p>
<a id="pgfId-106041"></a>The table in the <em>Resistance Path</em> group box shows the resistance for the node selected in the LRP Paths table above.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-106042"></a>The resistance value of the resistor, &quot;<code>rON</code>&quot;, is assumed to be zero ohms. </div>

<div class="webflare-information-macro webflare-macro-video">
<a id="pgfId-137706"></a>
To view the demonstration on performing the LRP analysis in Voltus-Fi, see <a actuate="user" class="URL" href="https://support.cadence.com/apex/ArticleAttachmentPortal?pageName=ArticleContent&amp;id=a1O0V000006DgS6UAK" show="replace" xml:link="simple">Plotting the Least Resistive Path (LRP)</a> video.</div>

<div class="webflare-indent1 webflare-information-macro webflare-macro-note">
<a id="pgfId-137708"></a>Access to this video will depend on the availability of a web browser and a Cadence Online Support account.</div>

<h4>
<a id="pgfId-117039"></a>LRP Reports</h4>

<p>
<a id="pgfId-117043"></a>You can create RLRP reports in batch mode by using the <a href="batchmode.html#70245">print_rlrp_report</a>. You can also generate and view the report by using the <em>pr</em>i<em>nt report </em>option in the LRP Browser tab in the GUI. You can specify the name of the report file and click <em>Save</em>. The report opens in the console. A sample report is shown in <a href="irdrop.html#19838">Default Reports Generated for EMIR Analysis</a>.</p>

<h2>
<a id="pgfId-110046"></a><a id="56011"></a>Calculating Effect<a id="EffectiveResistanceNodes"></a>ive Resistance between any Two Nodes on a Net</h2>

<p>
<a id="pgfId-110047"></a>In Voltus-Fi-XL, you can calculate the effective resistance between any two nodes (pins, tap nodes, or subnodes), either on the same net or on different layers of the same net. This feature is supported both in the GUI and in batch mode. </p>
<p>
<a id="pgfId-133889"></a>This feature uses the DSPF file, used for Spectre simulation, and the SPGS feature of Spectre. It works only for IR drop analysis. For more information about the SPGS flow, see <a href="irdrop.html#20063">Static Power Grid Solver</a>.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-133901"></a>To run this feature, it is recommended that you use MMSIM/Spectre 15.1.0 ISRx and later versions. </div>

<h3>
<a id="pgfId-133895"></a><a id="77055"></a>Batch Mode Support for Calculating Effective Resistance</h3>

<p>
<a id="pgfId-130823"></a>The following batch commands are used for calculating the effective resistance between nodes in Voltus-Fi-XL:</p>
<ul><li>
<a id="pgfId-130827"></a><a href="batchmode.html#43350">load_ir_results</a><br />
<a id="pgfId-130828"></a>Loads the IR drop analysis results</li><li>
<a id="pgfId-130832"></a><a href="batchmode.html#81040">pin_2_pin_res</a><br />
<a id="pgfId-130833"></a>Calculates the effective resistance between any two nodes</li></ul>




<h4><em>
<a id="pgfId-132196"></a>Tcl Commands:</em></h4>

<p>
<a id="pgfId-132197"></a>An example of the set of Tcl commands for reporting the effective resistance between two nodes is as follows:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-132198"></a>load_ir_results \</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-132199"></a>./abc/raw.out/xps.emirtap.emir0_bin<br /></pre>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-132200"></a>pin_2_pin_res \</pre>

<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-132201"></a>-xdspf abc/raw.out/abc_sample.dspf \</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-132202"></a>-x1 83.40 \</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-132203"></a>-y1 34.205 \</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-132204"></a>-x2 83.40 \</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-132205"></a>-y2 35.205 </pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-132206"></a>-layer1 mt1 \</pre>
<pre class="webflare-courier-new webflare-indent1 codeContent">
<a id="pgfId-132207"></a>-layer2 mt2 \</pre>
<p class="webflare-indent1">
<a id="pgfId-132188"></a>-net VDD</p>
<p>
<a id="pgfId-130837"></a>For details, see the <a href="batchmode.html#25448">load_ir_results</a> in the &#8220;Batch Mode Execution&#8221; chapter.</p>

<h3>
<a id="pgfId-130880"></a><a id="20817"></a>GUI Support for Calculating Effective Resistance</h3>

<p>
<a id="pgfId-110610"></a>In the GUI mode, this feature is enabled through the <em>Pin2PinR</em> tab provided in the IR/EM Results form. By default, this tab is disabled. To enable this tab, perform the following steps:</p>
<ul><li>
<a id="pgfId-110053"></a>Select the IR tab.</li><li>
<a id="pgfId-110054"></a>Load the IR drop analysis results.</li><li>
<a id="pgfId-110055"></a>Select a net and click Show Plot.</li></ul>


<p>
<a id="pgfId-110056"></a>The <em>Pin2PinR</em> tab is enabled. This is shown below.</p>

<p><strong>Figure 8-54
<a id="pgfId-110057"></a>IR/EM Result<a id="RailAnalysisResultsPin2PinR"></a>s form &#8211; Pin2PinR Tab</strong></p>
<p>
<a id="pgfId-110061"></a></p>
<div class="webflare-div-image">
<img width="660" height="555" src="images/irdrop-70.gif" /></div>

<p>
<a id="pgfId-110062"></a>To calculate effective resistance between two nodes on a net, provide the following information on this tab:</p>
<ul><li>
<a id="pgfId-110063"></a>On the <em>Pin2PinR </em>tab, the <em>Net</em> field is populated with the name of the net selected in the <em>IR</em> tab. You can change your selection of nets in the <em>Layers</em> group box.</li><li>
<a id="pgfId-110064"></a>Specify the <em>xDSPF File</em>, which was used for Spectre simulation. </li><li>
<a id="pgfId-110065"></a>In the <em>Node 1</em> group box, provide the following information for the first node for which resistance is to be calculated:<ul><li>
<a id="pgfId-110066"></a>Select the <em>Layer</em> on which you want to calculate the node&#8217;s resistance from the list. By default, this field is populated with the name of the layer selected in the Display form. If multiple layers are selected in the Display form, all the layer names will appear in the list.</li><li>
<a id="pgfId-110067"></a>Specify the <em>X</em> and <em>Y</em> co-ordinates for the node. You can type the co-ordinates in the X and Y fields. Alternatively, you can get the co-ordinates from the layout. For this, first click <em>Get X Y </em>and then select a point on the specified layer in the layout. The co-ordinates of this point are populated in the <em>X</em> and <em>Y</em> fields. If there is no node on the specified point, the tool will locate the node nearest to the specified point and populate its location in the <em>X</em> and <em>Y</em> fields.</li></ul></li><li>
<a id="pgfId-110068"></a>In the <em>Node 2</em> group box, provide the same information as above for the second node.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-110069"></a>You can choose a node either on the same layer or on a different layer. </div></li><li>
<a id="pgfId-110070"></a>Click <em>Add Data</em> to add the location of the two nodes in the table provided in the form. You can add multiple pairs of co-ordinates in the table. </li><li>
<a id="pgfId-110071"></a>Click <em>Run</em> to calculate the effective resistance between the specified nodes. The table is updated with the effective resistance between the node pairs. This is shown in the figure below.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-110252"></a>After the run, the effective resistance values are also written in the log file, <code>vfi.log</code>.</div><strong>Figure 8-55
<a id="pgfId-110072"></a>Effective Resistance Information Displayed in the Table</strong><ffi2-fig-frame-in-2 id="#id110076">
<a id="pgfId-110076"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="658" height="70" src="images/irdrop-71.gif" /></div></li><li>
<a id="pgfId-110077"></a>To highlight the effective resistance path in the layout after the run, select the row for which you want to calculate effective resistance in the table. <br />
<a id="pgfId-110078"></a>This is shown in below image. In the image, the effective resistance path between Node 1 specified on layer, m1 and Node 2 specified on layer, m2 is highlighted in red.<br /><strong class="webflare-fig-line-height">Figure 8-56
<a id="pgfId-110079"></a>Effective Resistance Path Highlighted in the layout</strong>
<a id="pgfId-110083"></a><div class="webflare-div-image">
<img width="660" height="611" src="images/irdrop-72.gif" /></div></li><li>
<a id="pgfId-110084"></a>Select <em>Auto Zoom</em> to automatically zoom into the highlighted path in the layout when a row is selected in the table.</li><li>
<a id="pgfId-110085"></a>Click <em>Delete data</em> to delete the data added in any row in the table.</li><li>
<a id="pgfId-111745"></a>Click <em>Clear Hilight</em> to clear the highlighted path in the layout.</li></ul>

























<div class="webflare-information-macro webflare-macro-video">
<a id="pgfId-139717"></a>
To view the demonstration performing pin-to-pin resistance check in Voltus-Fi, see <a actuate="user" class="URL" href="https://support.cadence.com/apex/ArticleAttachmentPortal?pageName=ArticleContent&amp;id=a1O0V000006DgSBUA0" show="replace" xml:link="simple">Calculating Effective Resistance between any Two Nodes on a Net</a> video.</div>

<div class="webflare-indent1 webflare-information-macro webflare-macro-note">
<a id="pgfId-137736"></a>Access to this video will depend on the availability of a web browser and a Cadence Online Support account.</div>

<h2>
<a id="pgfId-114136"></a><a id="52268"></a>Generating EMIR Analysis Reports in Voltus-Fi-XL</h2>

<p>
<a id="pgfId-114137"></a>The following topics are covered in this section:</p>
<ul><li>
<a id="pgfId-114141"></a><a href="irdrop.html#33124">Reports Generated Using the EMIR Control File</a></li><li>
<a id="pgfId-145447"></a><a href="irdrop.html#46478">Format of IR Reports</a></li><li>
<a id="pgfId-114145"></a><a href="irdrop.html#19838">Default Reports Generated for EMIR Analysis</a></li><li>
<a id="pgfId-130506"></a><a href="irdrop.html#82693">RLRP Report</a></li><li>
<a id="pgfId-123770"></a><a href="irdrop.html#73230">Reports Generated for Multiple Bin Files from Different Testbenches in a Design</a></li></ul>





<h3>
<a id="pgfId-114148"></a>Reports <a id="33124"></a>Generated<a id="marker-114147"></a> <a id="ReportsGeneratedEMIRControlFile"></a>Using the EMIR Control File</h3>

<p>
<a id="pgfId-114149"></a>You can generate EMIR reports in text, HTML, or CSV format by specifying the EMIR control file (<code>emir.conf</code>), the EMIR database file, and the output directory. In the EMIR control file, the <code>report</code> option of the <code>emirutil</code> command is set to <code>text</code>, <code>html</code>, or <code>csv</code> depending upon the required output. </p>
<p>
<a id="pgfId-114150"></a>For example, <code>emirutil report=text</code> generates a text report. Similarly, <code>emirutil report=csv</code> generates a report in a compressed tar file. A CSV report is available on unzipping or untarring this file. </p>
<p>
<a id="pgfId-144222"></a>The syntax of the command to generate EMIR reports in text, HTML, or CSV format is as follows:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-114152"></a>vfibatch -control &lt;<code><em>confFileName</em></code>&gt; -db &lt;<code><em>binFileName</em></code>&gt; -outdir &lt;<code><em>outDirName</em></code>&gt;</pre>

<p>
<a id="pgfId-114153"></a>For example,</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-114154"></a>vfibatch -control emir.conf -db xps.emir0_bin -outdir out1</pre>

<p>
<a id="pgfId-114155"></a>or,</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-114156"></a>emirreport -control emir.conf -db xps.emir0_bin</pre>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-114157"></a>Specifying the output directory is optional.</div>
<p>
<a id="pgfId-118822"></a>The syntax of the command to generate EMIR reports using multiple bin files is as follows:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-118823"></a><code>vfibatch -control emir.conf.report -db &quot;</code><code><em>binFileName1 binFileName2</em></code><code>&quot;</code></pre>
<div class="webflare-information-macro webflare-macro-information">
<a id="pgfId-114158"></a>
For details of the supported EMIR control file options that can be specified, see <a href="dataprep.html#30911">EMIR Control File Options Supported in Voltus-Fi-XL</a>. For details on how to specify variables using the <code>emirutil</code> command in the EMIR control file, see <a href="variables.html#80527">Using the emirutil Command in the EMIR Control File</a> in the &#8220;<a href="variables.html#57723">Variables</a>&#8221; chapter.</div>
<h3>
<a id="pgfId-145376"></a><a id="46478"></a>Format of IR Reports</h3>

<p>
<a id="pgfId-145377"></a>An IR report is generated in the following default format depending on which command is run:</p>
<ul><li>
<a id="pgfId-145378"></a><strong>Node-Based Format</strong>: A node-based report is generated when the <code>emirreport</code> command is run. The report is generated independent of from where the <code>emirreport</code> binary is picked, Spectre or Voltus-Fi installation.
<br /><div class="webflare-div-image">
<img width="668" height="58" src="images/irdrop-73.gif" /></div></li><li>
<a id="pgfId-145382"></a><strong>Resistor-Based Format</strong>: A resistor-based report is generated when the <code>vpsbatch</code> or <code>vfibatch</code> command is run. In this case, the report displays the high drop on the nodes connected to the resistor.
<br /><div class="webflare-div-image">
<img width="668" height="54" src="images/irdrop-74.gif" /></div></li></ul>







<p>
<a id="pgfId-145386"></a>However, you can change the format of the report as follows:</p>
<ul><li>
<a id="pgfId-145387"></a>If the <code>emirutil extendedreport=true</code> option is specified, the report is always generated in resistor-based format.</li><li>
<a id="pgfId-145388"></a>If the <code>emirutil node_based_ir=true</code> option is specified, the report is always generated in node-based format.</li><li>
<a id="pgfId-145389"></a>If both the <code>emirutil extendedreport=true</code> and <code>emirutil node_based_ir=true</code> options are specified, the report is always generated in node-based format.</li></ul>



<h3>
<a id="pgfId-114168"></a><a id="19838"></a><a id="78149"></a>Default Reports Gen<a id="marker-114167"></a>erated<a id="DefaultReportsGenerated"></a> for EMIR Analysis</h3>

<p>
<a id="pgfId-114169"></a>By default, Voltus-Fi-XL generates the following reports for EMIR analysis:</p>
<ul><li>
<a id="pgfId-114170"></a>IR drop analysis reports with the extension, <code>#.rpt_ir</code> </li><li>
<a id="pgfId-114171"></a>EM analysis reports with the extension, <code>#.rpt_em</code> </li><li>
<a id="pgfId-124415"></a>Pin current reports with the extension, <code>#.rpt_pin</code></li><li>
<a id="pgfId-114172"></a>Summary report (<code>summary.rpt</code>), which includes reports for all analyses (IR drop and EM) performed in the current run</li></ul>



<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-123434"></a>All default reports print the software version number in the header. You can view this in the sample reports shown in the subsequent sections.</div>
<p>
<a id="pgfId-129883"></a>The following reports are detailed:</p>
<ul><li>
<a id="pgfId-129894"></a><a href="irdrop.html#16210">IR Report Format</a></li><li>
<a id="pgfId-129908"></a><a href="irdrop.html#38953">EM Report Format</a></li><li>
<a id="pgfId-129919"></a><a href="irdrop.html#58349">Pin Current Report Format</a></li><li>
<a id="pgfId-129930"></a><a href="irdrop.html#76055">Summary Report Format</a></li></ul>




<h4>
<a id="pgfId-114173"></a><a id="16210"></a>IR Report Format</h4>

<p>
<a id="pgfId-114174"></a>In the IR drop analysis report file, information is provided in the following format for each net. The type of analysis is mentioned for each net.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-123327"></a>----------------------- &quot;VDD&quot; NET: Vref = 2.500000V -------------------------------</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-123328"></a>max</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-123330"></a>Resistor&#160;&#160; ir value&#160;&#160; Layer&#160;&#160; X1&#160;&#160; Y1&#160;&#160; X2&#160;&#160; Y2&#160;&#160; Res&#160;&#160; Length&#160;&#160; Width&#160;&#160; Ipeak&#160;&#160; </pre>
<h4><em>
<a id="pgfId-114181"></a><a id="50579"></a>Sample IR Drop Analysis Report</em></h4>

<p>
<a id="pgfId-114182"></a>A part of the sample IR drop analysis report is shown below.</p>
<p>
<a id="pgfId-114183"></a>_______________________________________________________________________</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-114184"></a>VOLTAGE DROP RESULTS</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-123378"></a>VERSION = v06.17-e021_1</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-123379"></a></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-123380"></a>BINARY FILE&#160;&#160;        = /home/anuk/MMSIM_EMIR_WORKSHOP/emir_simulation/aps.direct.raw/input.emir0_bin</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-123381"></a>RESULTS FILE CREATED = 2015-Dec-16 23:15:18 (2015-Dec-17 07:15:18 GMT)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-114189"></a>USER SUPPLIED VALUES:</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-114190"></a>   RESULTS TYPE      = TRANSIENT</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-114191"></a>   TRANSIENT START   = 0</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-114192"></a>   TRANSIENT STOP    = 1.2e-07</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-114193"></a>   SIM TEMPERATURE   = 27 C</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-114194"></a>   AVERAGE           = nil</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-114195"></a>   PEAK              = t</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-114196"></a>   SIGVMAX           = t</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-114197"></a>   SIGVAVG           = nil</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-114199"></a>-------------------- &quot;VDD&quot; NET: Vref = 2.500000V -------------------------------</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-114200"></a>max</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-123394"></a>Resistor&#160;&#160;   ir value        Layer      X1       Y1       X2       Y2 </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-123395"></a>                                                                                     </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-123396"></a>ri293&#160;&#160;      0.00713207      mt1        37.56    45.32    37.56    47.92</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-123397"></a>ri292&#160;&#160;      0.00713193      mt1        37.56    40.38    37.56    45.32</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-123398"></a>ri291&#160;&#160;      0.00712603      mt1        37.56    38.04    37.56    40.38</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-123399"></a>ri290&#160;&#160;      0.0071256       mt1        37.56    35.44    37.56    38.04</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-114208"></a>ri289&#160;&#160;      0.00712512      mt1        37.56    30.5     37.56    35.44</pre>
<h4>
<a id="pgfId-114209"></a><a id="38953"></a>EM Report Format</h4>

<p>
<a id="pgfId-114210"></a>In the EM analysis report file, information is provided in the following format for each net. The type of analysis is mentioned for each net.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-123302"></a>----------------------- NET &quot;VDD&quot; -------------------------------</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-123303"></a>avg</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-114214"></a>Pass/Fail %&#160;&#160; Resistor&#160;&#160; layer&#160;&#160; Current&#160;&#160; Width&#160;&#160; PathLength I_limit X1&#160;&#160; Y1&#160;&#160; X2&#160;&#160; Y2&#160;&#160; J/JMAX&#160;&#160; Res&#160;&#160; ViaArea&#160;&#160; No of needed width/#via&#160;&#160; J_limit</pre>
<h4><em>
<a id="pgfId-114215"></a><a id="98946"></a>Sample EM Analysis Report</em></h4>

<p>
<a id="pgfId-114216"></a>The image below shows a part of the EM analysis report.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-114220"></a></pre>
<div class="webflare-div-image">
<img width="671" height="360" src="images/irdrop-75.gif" /></div>

<p>
<a id="pgfId-114221"></a>The table below lists the analysis type and the corresponding section heading in the EM report file.</p>
<table class="webflareTable" id="#id114222">
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id114224">
<a id="pgfId-114224"></a>EM analysis type</span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id114226">
<a id="pgfId-114226"></a>Section heading in the EM Report File</span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-131294"></a>Average</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-131296"></a><code>avg</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-131298"></a>Peak</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-131300"></a><code>max</code></p>

</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-131302"></a>RMS</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-131304"></a><code>rms</code></p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-131306"></a>Absolute Average</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">

<p>
<a id="pgfId-131308"></a><code>Absavg</code></p>

</td>
</tr>
</tbody></table>

<h4><em>
<a id="pgfId-124472"></a>Generating a Report for All Resistors</em></h4>

<p>
<a id="pgfId-124473"></a>You can generate a report to view the resistor information for all resistors in the design. To generate this report, use the <code>emirutil</code> command to set <code>reportAllResistor</code> to <code>true</code> in the EMIR configuration file.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-124474"></a><code>emirutil reportAllResistor=true</code></pre>

<p>
<a id="pgfId-124478"></a>For more information, see <a href="dataprep.html#30911">EMIR Control File Options Supported in Voltus-Fi-XL</a> in the &#8220;Data Preparation&#8221; chapter.</p>
<p>
<a id="pgfId-124479"></a>A report, with the suffix, <code>&#8220;#.rpt_all&#8221;</code> is generated. The format of the report is the same as that of the <code>&#8220;.#rpt_em&#8221;</code> report.</p>

<h4>
<a id="pgfId-124460"></a><a id="58349"></a>Pin Current Report Format</h4>

<p>
<a id="pgfId-124372"></a>In the pin current report file, the <code>Imax</code>, <code>Iavg</code> and <code>Irms</code> currents for pins for each net are reported.</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-124373"></a>-----------------------NET &quot;VDD&quot;------------------------------</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-124374"></a>Name&#160;&#160;       Imax         Iavg         Irms</pre>
<h4><em>
<a id="pgfId-124375"></a>Sample Pin Current Report</em></h4>

<p>
<a id="pgfId-124376"></a>A part of a sample pin current report is shown below.</p>
<p>
<a id="pgfId-124380"></a></p>

<div class="webflare-div-image">
<img width="527" height="348" src="images/irdrop-76.gif" /></div>
<h4>
<a id="pgfId-124356"></a><a id="76055"></a>Summary Report Format</h4>

<p>
<a id="pgfId-114249"></a>In the summary report, there are two tables of information for each net. </p>
<p>
<a id="pgfId-114250"></a>The first table provides, in its header, the name of the net, the simulation temperature, and the measurement window or the start and stop time for the analyses. For each net, the table lists the layer name and the corresponding maximum value of each analysis type for that layer. Information for different types of analyses is displayed in different columns.</p>
<p>
<a id="pgfId-114251"></a>The format of the first table is as follows:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-124980"></a>_______________________________________________________________________<br />Net name&#160;&#160;         GND            </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-124981"></a>Sim temperature&#160;&#160;  125            </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-124982"></a>Measurement window&#160;&#160; 0 - 5.9e-08 </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-124983"></a>_______________________________________________________________________</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-124984"></a>Layer&#160;&#160;          iavg</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-124985"></a>_______________________________________________________________________</pre>

<p>
<a id="pgfId-124986"></a>The second table lists the layer names. For each layer and analysis type, there are two columns of information. The first column lists the number of resistors on which the analysis was run (<code>analysistype_run_on</code>) and the second column lists the number of resistors that were ignored in the analysis (<code>analysistype_num_skip</code>). The two columns are repeated for different types of analyses.</p>
<p>
<a id="pgfId-114259"></a>The format of the second table is as follows:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-124992"></a>_______________________________________________________________________________</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-124993"></a>Layer&#160;&#160;  analysistype1_run_on   analysistype1_num_skip   analysistype2_run_on   analysistype2_num_skip   </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-124994"></a>_______________________________________________________________________________</pre>

<p>
<a id="pgfId-114263"></a>Sample Summary Report</p>
<p>
<a id="pgfId-114264"></a>The image below shows a part of the summary report:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-114265"></a>___________________________________________________________________</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-114266"></a>Net name&#160;&#160;         GND            </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-114267"></a>Sim temperature&#160;&#160;  125            </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-114268"></a>Measurement window&#160;&#160; 0 - 5.9e-08&#160;&#160;  </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-114269"></a>___________________________________________________________________________</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-114270"></a>Layer&#160;&#160;            vmax               irms               iavg               imax               </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-114271"></a>___________________________________________________________________________</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-114272"></a>metal1&#160;&#160;           0.0137511          0.0541541          1.92388            0.339854           </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-114273"></a>metal2&#160;&#160;           0.0098085          0.541685           11.6608            0.478398           </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-114274"></a>metal3&#160;&#160;           0.00587761         0.227175           1.9191             0.445334           </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-114275"></a>metal4&#160;&#160;           0.00451982         0.109318           0.778421           0.11097            </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-114276"></a>n_odcont&#160;&#160;         0.022525           0                  0.425099           0                  </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-114277"></a>n_poly&#160;&#160;           0.00261004         0                  0                  0                  </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-114278"></a>n_polycont&#160;&#160;       0.00261902         0                  2.87543e-08        0                  </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-114279"></a>p_odcont&#160;&#160;         0.00614363         0                  0.146129           0                  </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-114280"></a>p_poly&#160;&#160;           0.00261004         0                  0                  0                  </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-114281"></a>_______________________________________________________________________</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-114282"></a>Layer&#160;&#160;            vmax_run_on vmax_num_skip irms_run_on irms_num_skip   </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-114283"></a>_______________________________________________________________________</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-114284"></a>metal1&#160;&#160;           15537       0             15537       0             </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-114285"></a>metal2&#160;&#160;           7253        0             7253        0             </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-114286"></a>metal3&#160;&#160;           2253        0             2253        0             </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-114287"></a>metal4&#160;&#160;           616         0             616         0             </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-114288"></a>n_odcont&#160;&#160;         6526        0             0           6526          </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-114289"></a>n_poly&#160;&#160;           222         0             0           222           </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-114290"></a>n_polycont&#160;&#160;       80          0             0           80            </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-114291"></a>p_odcont&#160;&#160;         3291        0             0           3291          </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-114292"></a>p_poly&#160;&#160;           34          0             0           34            </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-114293"></a>__________________________________________________________________________</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-114294"></a>Net name&#160;&#160;         VDD            </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-114295"></a>Sim temperature&#160;&#160;  125            </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-114296"></a>Measurement window 0 - 5.9e-08</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-114297"></a>__________________________________________________________________________</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-114298"></a>Layer&#160;&#160;            vmax               irms               iavg               imax               </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-114299"></a>__________________________________________________________________________</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-114300"></a>metal1&#160;&#160;           0.0288203          0.0742177          1.0235             0.621502           </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-114301"></a>metal2&#160;&#160;           0.0141003          0.46877            10.0913            1.45709            </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-114302"></a>metal3&#160;&#160;           0.00556588         0.191977           1.40789            0.184331           </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-114303"></a>metal4&#160;&#160;           0.00391154         0.113201           0.562096           0.106243           </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-114304"></a>n_odcont&#160;&#160;      0.00902663       0               0.0742855       0                  </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-114305"></a>n_poly&#160;&#160;        0.00260217       0                  0                  0 </pre>
<h3>
<a id="pgfId-117098"></a><a id="82693"></a>RLR<a id="RLRPReport"></a>P Report</h3>

<p>
<a id="pgfId-130521"></a>RLRP analysis report (<code>RLRP.rpt</code>) includes the LRP values of the instances or tap-nodes of the specified net. In the RLRP analysis report file, information is provided in the following format for each net. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-141664"></a>Shortest path for net &lt;<code><em>net name</em></code>&gt; to tap &lt;<code><em>tap name</em></code>&gt; : total resistance : &lt;<code><em>resistance value</em></code>&gt;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-141751"></a>res-name   coordinates   res   layer   length   width   volt   acc-lrp   <br />acc-volt&#160;&#160; node1&#160;&#160; node2</pre>
<h4>
<a id="pgfId-129823"></a>Sample RLRP Report
</h4>
<div class="webflare-div-image">
<img width="668" height="225" src="images/irdrop-77.gif" /></div>
<h3>
<a id="pgfId-124212"></a><a id="81945"></a>Reports Generated for Multiple Bin <a id="ReportsGeneratedMultipleBinFiles"></a>Files for Different Nets from the Same Testbench</h3>

<p>
<a id="pgfId-124213"></a>This section describes the use model for analyzing IR/EM results when multiple emir bin files are available for different nets of the same testbench. This is useful in large designs, where simulation is run separately for different nets to improve the runtime.</p>
<p>
<a id="pgfId-124214"></a>In batch mode, the following command is used to generate separate IR/EM reports for multiple bin files:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-124215"></a><code>vfibatch -control emir.conf.report -db &quot;xps.vdd/xps.raw/xps.emirtap.emir0_bin xps.vss/xps.raw/xps.emirtap.emir0_bin&quot; -text abc</code></pre>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-124216"></a>The bin filenames are separated by a space as shown above. The <code>-text</code> option is used to specify the name of the result file that will include the results for both nets. In the above example, the following report files will be generated for IR and EM analysis, respectively:</div>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-124217"></a><code>abc.rpt_ir </code></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-124218"></a><code>abc.rpt_em</code></pre>
<h3>
<a id="pgfId-124233"></a><a id="73230"></a>Reports Gen<a id="ReportsMultipleBinFiles"></a>erated for Multiple Bin Files from Different Testbenches in a Design</h3>

<p>
<a id="pgfId-124234"></a>This section describes the use model for analyzing IR/EM results when multiple emir bin files are available for the same design, but different testbenches. The following reports can be generated for such designs in Voltus-Fi-XL.</p>
<ul><li>
<a id="pgfId-123842"></a>Simulation deck-based reports: In this scenario, separate EM and IR reports are generated for each simulation deck or the bin file.</li><li>
<a id="pgfId-123843"></a>Consolidated report for all simulation decks: In this scenario, consolidated EM and IR reports are generated for all simulation decks or emir bin files.</li></ul>


<h4>
<a id="pgfId-123844"></a>Creating the Simulation Deck-Based Reports</h4>

<p>
<a id="pgfId-123845"></a>This use model requires that the multiple <code>#.emir_bin</code> files should be available in the same directory. For example, <code>test.emir0_bin</code>, <code>test.emir1_bin</code>, <code>test.emir2_bin</code>, and so on.</p>
<p>
<a id="pgfId-123603"></a>In batch mode, the following command is used to generate separate IR/EM reports for multiple bin files:</p>
<p>
<a id="pgfId-123862"></a><code>vfibatch -control </code><span class="webflare-courier-new" style="white-space:pre"><em>conf filename</em></span><code> -db_path </code><span class="webflare-courier-new" style="white-space:pre"><em>path_of_directory_containing_emir_bin_files</em></span><code> -outdir </code><span class="webflare-courier-new" style="white-space:pre"><em>outDirName</em></span></p>
<p>
<a id="pgfId-123863"></a>For example,</p>
<p>
<a id="pgfId-123864"></a><code>vfibatch -control emir.conf -db_path test/test.raw -outdir out</code></p>
<p>
<a id="pgfId-123865"></a>This command will generate separate IR/EM reports for each emir bin file. </p>
<p>
<a id="pgfId-123866"></a>For example, if there are two bin files, <code>test.emir0_bin</code> and <code>test.emir1_bin</code>, then the following reports will be generated:</p>
<ul><li>
<a id="pgfId-123867"></a><code>out/test.rpt_em</code> and <code>out/test.rpt_ir</code> will be generated corresponding to the <code>test.emir0_bin</code> file</li><li>
<a id="pgfId-123868"></a><code>out/test.rpt_em1</code> and <code>out/test.rpt_ir1</code> will be generated corresponding to <code>test.emir1_bin</code> file</li></ul>

<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-123869"></a>The format of these reports is the same as that of the default IR/EM reports generated in case of a single <code>emir_bin</code> file run.</div>

<h4>
<a id="pgfId-123870"></a>Consolidated Reports for All Simulation Decks</h4>

<p>
<a id="pgfId-123871"></a>A single consolidated EM report and IR report will be generated comprising results from all simulation decks (<code>#.emir_bin</code> files). To enable the generation of consolidated reports, set the following:</p>
<ul><li>
<a id="pgfId-123872"></a>In the GUI, open the Variables form available in the EM tab of the IR/EM Results form, and set the EM variable, <code>consolidatedReport,</code> to <code>true</code>. By default, this variable is set to <code>false</code>.<br />
<a id="pgfId-123873"></a>OR</li><li>
<a id="pgfId-123874"></a>In batch mode, set the following in the <code>emir.conf</code> file:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id123875">
<a id="pgfId-123875"></a>emirutil consolidatedReport=true</pre></li></ul>



<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-123877"></a>The <code>vfibatch</code> command having the option, &quot;<code>-db_path/-db_multi_path</code>&quot; with emir variable &quot;<code>consolidatedReport</code>&quot; set to &quot;<code>true</code>&quot; in the emir configuration file will generate the consolidated reports for both, EM and IR analyses.</div>
<p>
<a id="pgfId-125692"></a>By default, when the <code>consolidatedReport</code> option is set to <code>true</code>, the <code>worstResult</code> option is also set to true, which means only the worst violation will be reported. </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-125693"></a>emirutil consolidatedReport=true</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-125694"></a>emirutil worstResult=true</pre>

<p>
<a id="pgfId-125695"></a>To view all the results in the consolidated report, set the <code>worstResult</code> option to <code>false</code>.</p>
<p>
<a id="pgfId-124304"></a>For details of the above options, see <a href="dataprep.html#30911">EMIR Control File Options Supported in Voltus-Fi-XL</a> in the &#8220;Data Preparation&#8221; chapter.</p>
<p>
<a id="pgfId-123882"></a>There are two possible scenarios in the creation of consolidated reports:</p>
<ul><li>
<a id="pgfId-123883"></a>Scenario 1, when all emir bin files are in the same directory</li><li>
<a id="pgfId-123884"></a>Scenario 2, when the emir bin files are in different directories</li></ul>

<p>
<a id="pgfId-123885"></a>These scenarios are detailed below.</p>

<h4><em>
<a id="pgfId-123886"></a>Scenario 1: The emir bin Files are in the Same Directory</em></h4>

<p>
<a id="pgfId-123887"></a>In this scenario, there are multiple emir bin files in the same directory. For example, <code>test.emir0_bin</code>, <code>test.emir1_bin</code>, <code>test.emir2_bin</code>, and so on.</p>
<p>
<a id="pgfId-123888"></a>To generate a consolidated report in this scenario, use the following command in batch mode:</p>
<p>
<a id="pgfId-123889"></a><code>vfibatch -control </code><span class="webflare-courier-new" style="white-space:pre"><em>conf_file_name</em></span><code> -db_path </code><span class="webflare-courier-new" style="white-space:pre"><em>path_of_directory_containing_emir_bin_files</em></span><code> -outdir </code><span class="webflare-courier-new" style="white-space:pre"><em>outDirName</em></span></p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-123890"></a>The above command uses the <code>-db_path</code> option to specify the path of the directory containing all the bin files.</div>
<p>
<a id="pgfId-123891"></a>For example,</p>
<p>
<a id="pgfId-123892"></a><code>vfibatch -control emir.conf -db_path test/test.raw -outdir out</code></p>

<h4><em>
<a id="pgfId-123893"></a>Scenario 2: The emir bin Files are in Different Directories</em></h4>

<p>
<a id="pgfId-123894"></a>To generate a consolidated report in this scenario, use the following command in batch mode:</p>
<p>
<a id="pgfId-123895"></a><code>vfibatch -control </code><span class="webflare-courier-new" style="white-space:pre"><em>conf filename</em></span><code> -db_multi_path </code><span class="webflare-courier-new" style="white-space:pre"><em>name_of_file_containing_paths_to_emir_bin_files</em></span><code> -outdir </code><span class="webflare-courier-new" style="white-space:pre"><em>outDirName</em></span></p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-123896"></a>The above command uses the <code>-db_multi_path</code> option to specify the name of the file that contains the paths to the emir bin files containing the simulation results of different testbenches of the same design but in different directories.</div>
<p>
<a id="pgfId-123897"></a>For example,</p>
<p>
<a id="pgfId-123898"></a><code>vfibatch -control emir.conf -db_multi_path </code><span class="webflare-courier-new" style="white-space:pre"><em>emir_bin_files</em></span><code> -outdir out</code></p>
<p>
<a id="pgfId-123899"></a>Where, the file, &#8220;<code>emir_bin_files</code>&#8221; contains the following information:</p>
<p>
<a id="pgfId-123900"></a><code>test/test.raw/test.emir0_bin<br />test1/test1.raw/test1.emir0_bin<br />test2/test2/raw/test2/emir0_bin</code></p>
<p>
<a id="pgfId-123901"></a>A part of a sample consolidated report is shown below. </p>

<p><strong>Figure 8-57
<a id="pgfId-123647"></a>Sample Consolidated EM Report</strong></p>
<p>
<a id="pgfId-123651"></a></p>
<div class="webflare-div-image">
<img width="596" height="528" src="images/irdrop-78.gif" /></div>
<p><strong>Figure 8-58
<a id="pgfId-123652"></a>Sample Consolidated IR Report </strong></p>
<p>
<a id="pgfId-123656"></a></p>
<div class="webflare-div-image">
<img width="567" height="675" src="images/irdrop-79.gif" /></div>

<p>
<a id="pgfId-123984"></a>In the above report, the IR results for the resistors <code>&quot;ra3&quot;</code> and <code>&#8220;ra2&#8221;</code> for net <code>VG</code>, and resistor, <code>&#8220;rx13&#8221;</code> for net, <code>VDD</code> from all <code>emir_bin files</code> are reported. By default, for consolidated reports, the <code>emirutil</code> variable, <code>worstResult</code> is set to <code>true</code>. Therefore, the report only includes the worst result for each resistor, which is the first row of information for each resistor shown in the above report. </p>
<p>
<a id="pgfId-125798"></a>However, for the above report, to view all results, the <code>worstResult</code> variable is set to <code>false</code>. In this case, the IR results for the resistors are sorted so that the worst case is reported first and best case is reported last.</p>

<h2>
<a id="pgfId-127323"></a><a id="61884"></a>Report<a id="ReportingDevicesSubnode"></a>ing a List of Devices from a Subnode</h2>

<p>
<a id="pgfId-127324"></a>Voltus-Fi-XL supports tracing of all devices or tap points starting from a metal subnode. This feature lets you list the device tap nodes that are nearest to a given subnode on a metal layer. For this, specify the name of the subnode present on any metal layer and the software will list the tap nodes that are nearest to that subnode. The term &#8220;nearest&#8221; used here refers to the shortest distance of tap nodes from the subnode in terms of the number of resistors.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-127325"></a>To use this feature, the names of the subnodes for which you want to trace the tap nodes must be provided.</div>
<p>
<a id="pgfId-127326"></a>The output is a report file containing the tap name of each subnode that is specified in the input.</p>

<h3>
<a id="pgfId-127328"></a><a id="36515"></a>Use Model</h3>

<p>
<a id="pgfId-130927"></a>This feature is only supported in batch mode. To use this feature, the following commands and variables are used. </p>
<ul><li>
<a id="pgfId-130931"></a><a href="batchmode.html#43350">load_ir_results</a><br />
<a id="pgfId-130932"></a>Loads the results of the IR drop analysis</li><li>
<a id="pgfId-127337"></a>The following variables are provided to specify the tap name patterns to discard while tracing and also to specify the number of taps to be reported while tracing. <ul><li>
<a id="pgfId-127338"></a><code>subnode_to_tap_path_trace_discard_pattern</code></li><li>
<a id="pgfId-127339"></a><code>subnode_to_tap_path_trace_number_of_taps_to_report</code></li></ul><br />
<a id="pgfId-127340"></a>These variables can be set using the <code>set_variable</code> command in the command file. For details on how to use the <code>set_variable</code> command, see <a href="variables.html#76623">Using the set_variable Command in the Voltus-Fi-XL Command File</a> in the &#8220;Variables&#8221; chapter.<ul><li>
<a id="pgfId-127344"></a><code>subnode_to_tap_path_trace_discard_pattern</code><a id="subnode_to_tap_path_trace_discard_pattern"></a> &lt;<span class="webflare-courier-new" style="white-space:pre"><em>pattern</em></span>&gt;</li></ul><br />
<a id="pgfId-127345"></a>This variable is used to specify the patterns in the tap names to discard while tracing. You can specify multiple patterns by separating the pattern names with a space. Wildcards are also supported for specifying pattern names. When this variable is specified, all the taps that contain any of the specified patterns will not be reported during tracing.<br />
<a id="pgfId-127346"></a>For example, <pre class="webflare-pre-block webflare-courier-new" id="#id127347">
<a id="pgfId-127347"></a>set_variable subnode_to_tap_path_trace_discard_pattern &#8220;MPC&#8221;</pre><ul><li>
<a id="pgfId-127348"></a><code>subnode_to_tap_path_trace_number_of_taps_to_report &lt;</code><a id="subnode_to_tap_path_trace_number_of_taps_to_report"></a><span class="webflare-courier-new" style="white-space:pre"><em>number</em></span><code>&gt;</code></li></ul><br />
<a id="pgfId-127349"></a>This variable is used to control the number of taps that will be reported by the command. The default value is <code>1</code>. If more than one tap is specified, the software will report taps of unique devices, which means that the taps of different fingers of the same device will not be reported. <br />
<a id="pgfId-127350"></a>For example,<pre class="webflare-pre-block webflare-courier-new" id="#id127351">
<a id="pgfId-127351"></a>set_variable subnode_to_tap_path_trace_number_of_taps_to_report 4</pre></li><li>
<a id="pgfId-130980"></a><a href="batchmode.html#39770">print_subnode_to_tap_path_report</a><br />
<a id="pgfId-130981"></a>Prints the report containing the tap node names for the specified subnodes. The syntax of the command is provided below.<pre class="webflare-pre-block webflare-courier-new" id="#id130982">
<a id="pgfId-130982"></a><code>print_subnode_to_tap_path_report
</code>&#8211;net {<code><em>netname</em></code>} 
&#8211;subnode {subnode_name} 
-filename {report_file_name} 
&#8211;never_traverse_top {true | false}
&#8211;report_complete_path {true | false}</pre></li></ul>
















<p>
<a id="pgfId-130986"></a>For details of the command parameters, see <a href="batchmode.html#25448">load_ir_results</a> in the &#8220;Batch Mode Execution&#8221; chapter. </p>

<h3>
<a id="pgfId-127353"></a><a id="23972"></a>Sample Command File and Results File</h3>

<p>
<a id="pgfId-127354"></a>A sample command file and a report file generated from this command file are shown below.</p>
<p>
<a id="pgfId-127355"></a>Sample command file</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-127356"></a>load_ir_results emir0_bin.gz</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-127357"></a>set_variable subnode_to_tap_path_trace_discard_pattern &quot;MPC&quot;</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-127358"></a>set_variable subnode_to_tap_path_trace_number_of_taps_to_report 6</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-127359"></a>print_subnode_to_tap_path_report -net VDD -subnode VDD:36919 -filename subnode_tap_path.rpt</pre>

<p>
<a id="pgfId-127360"></a>Sample results file</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-127361"></a>SUBNODE TO NEAREST TAP PATH RESULTS </pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-127362"></a>BINARY FILE&#160;&#160;       = emir0_bin.gz</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-127363"></a>REPORT FILE CREATED = 2016-Sep-24 04:08:45 (2016-Sep-24 11:08:45 GMT)</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-127364"></a>VDD:36919          23.556  0.68<br />                   X18_unmatched:s 23.574  0.525<br />                   XI13/MP1:s  24.03  0.915<br />                   XI27/MP1:s  24.078  0.915<br />                   MN6:d  23.622  0.525<br />                   MP0:s  23.793  0.945<br />                   MP8:s  23.745  0.945</pre>
<h2>
<a id="pgfId-136983"></a><a id="73802"></a>Reportin<a id="ReportingRONValues"></a>g On-Resistance (RON) Values </h2>
<h3>
<a id="pgfId-136985"></a><a id="60468"></a>Overview</h3>

<p>
<a id="pgfId-136986"></a>Voltus-Fi-XL reports the RON values for all layers between specified pairs of pins in a design. The software reports the combined resistance contribution of both pins in the pair and the contribution from each pin. The resistance values are reported in ohms.</p>
<p>
<a id="pgfId-136987"></a>For this feature, <code>report_vfi_XL_ron</code> command has been provided. For details, see <a href="batchmode.html#50280">report_vfi_XL_ron</a> in the &#8220;Batch Mode Execution&#8221; chapter.</p>

<h3>
<a id="pgfId-136992"></a><a id="42748"></a>Generating the RON Report</h3>

<p>
<a id="pgfId-136993"></a>This flow is supported only in the batch mode. To enable this flow, perform the following steps:</p>
<ul><li>
<a id="pgfId-136994"></a>Load the IR drop/EM analysis results.</li><li>
<a id="pgfId-136995"></a>Run the following command:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id136996">
<a id="pgfId-136996"></a>report_vfi_XL_ron
-pin_pair <code><em>file_name
</em></code>-output_file <code><em>file_name</em></code></pre></li></ul>


<p>
<a id="pgfId-136997"></a>Example:</p>
<p>
<a id="pgfId-136998"></a>Use the following commands to report RON for IR drop analysis using the pin-pair file, <code>pin_pair.txt</code> in the output file, <code>output.rpt</code>:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-136999"></a><code>load_ir_results &#8230;input.raw/input.emir0_bin</code></pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-137000"></a><code>report_vfi_XL_ron -pin_pair_file pin_pair.txt -output_file output.rpt</code></pre>
<h3>
<a id="pgfId-137002"></a><a id="98336"></a>Output</h3>

<p>
<a id="pgfId-137003"></a>The RON report includes the following information:</p>
<ul><li>
<a id="pgfId-137004"></a>Voltage source names and their corresponding terminal/pin names, voltage values, and current values</li><li>
<a id="pgfId-137005"></a>Total layer-based wire RON for both pins in the pin-pair combination</li><li>
<a id="pgfId-137006"></a>Total layer-based wire RON for each pin in the pin-pair combination</li></ul>



<h4>
<a id="pgfId-137007"></a>Sample Pin-Pair File</h4>

<p>
<a id="pgfId-137008"></a>VN1 VN2</p>

<h4>
<a id="pgfId-137009"></a>Sample RON Report</h4>

<p>
<a id="pgfId-137010"></a>A sample RON report is shown below.</p>

<p><strong>Figure 8-59
<a id="pgfId-137011"></a>Sample RON Report</strong></p>
<p>
<a id="pgfId-137015"></a></p>
<div class="webflare-div-image">
<img width="399" height="723" src="images/irdrop-80.gif" /></div>
<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="static.html" id="prev" title="Static Current Analysis">Static Current Analysis</a></em></b><b><em><a href="emanalysis.html" id="nex" title="EM Analysis Results">EM Analysis Results</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2020, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>