
<html><head><title>What-If EMIR Analysis</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="pallabi" />
<meta name="CreateDate" content="2020-09-17" />
<meta name="CreateTime" content="1600411338" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="This manual describes the use flow information in Voltus-Fi Custom Power Integrity Solution." />
<meta name="DocTitle" content="Voltus-Fi Custom Power Integrity Solution XL User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="What-If EMIR Analysis" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.2" />
<meta name="Keyword" content="voltusFIXL" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2020-09-17" />
<meta name="ModifiedTime" content="1600411338" />
<meta name="NextFile" content="pgvcreation.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Digital IC Design,Digital IC Design" />
<meta name="PrevFile" content="stranalysis.html" />
<meta name="c_product" content="Virtuoso Power System,Voltus-Fi" />
<meta name="Product" content="Virtuoso Power System,Voltus-Fi" />
<meta name="ProductFamily" content="Virtuoso Power System,Voltus-Fi" />
<meta name="ProductVersion" content="ICADVM20.1" />
<meta name="RightsManagement" content="Copyright 2012-2020 Cadence Design Systems Inc." />
<meta name="Title" content="Voltus-Fi Custom Power Integrity Solution XL User Guide -- What-If EMIR Analysis" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="ICADVM20.1" />
<meta name="SpaceKey" content="voltusFIXLICADVM201" />
<meta name="webflare-version" content="2.0" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="voltusFIXLTOC.html">Contents</a></li><li><a class="prev" href="stranalysis.html" title="Structural Analysis">Structural Analysis</a></li><li style="float: right;"><a class="viewPrint" href="voltusFIXL.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="pgvcreation.html" title="Power-Grid View Generation">Power-Grid View Generation</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Voltus-Fi Custom Power Integrity Solution XL User Guide<br />Product Version ICADVM20.1, October 2020</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>13
<a id="pgfId-55593"></a><a id="97089"></a></h1>
<h1>
<a id="pgfId-55595"></a><hr />
<a id="58483"></a>What-If EMIR Analysis<hr />
</h1>

<ul><li>
<a id="pgfId-59480"></a><a href="whatif.html#12361">Overview</a></li><li>
<a id="pgfId-88075"></a><a href="whatif.html#84406">ECO Commands Supported in Voltus-Fi-XL</a></li><li>
<a id="pgfId-83106"></a><a href="whatif.html#13956">Performing What-If (ECO) Analysis in Voltus-Fi-XL</a></li><li>
<a id="pgfId-96075"></a><a href="whatif.html#58721">Pre-Filling the Run Simulation Form</a></li><li>
<a id="pgfId-93677"></a><a href="whatif.html#37719">Output</a> </li><li>
<a id="pgfId-93273"></a><a href="whatif.html#64709">Options for Performing What-If (ECO) Analysis</a></li><li>
<a id="pgfId-97796"></a><a href="whatif.html#37161">Layout Modification Options</a><ul><li>
<a id="pgfId-98845"></a><a href="whatif.html#32337">Adding Pins and Modifying the Layout</a></li><li>
<a id="pgfId-98858"></a><a href="whatif.html#34444">Deleting Pins and Modifying the Layout</a></li><li>
<a id="pgfId-98864"></a><a href="whatif.html#21651">Adding Resistors and Modifying the Layout</a></li><li>
<a id="pgfId-98870"></a><a href="whatif.html#98546">Deleting Resistors and Modifying the Layout</a></li><li>
<a id="pgfId-98876"></a><a href="whatif.html#32566">Adding Vias and Modifying the Layout</a></li><li>
<a id="pgfId-98882"></a><a href="whatif.html#57834">Deleting Vias and Modifying the Layout</a></li><li>
<a id="pgfId-98888"></a><a href="whatif.html#20635">Design Rule Checking</a></li></ul></li></ul>














<h2>
<a id="pgfId-69706"></a><a id="12361"></a>O<a id="marker-88529"></a>verview</h2>

<p>
<a id="pgfId-90475"></a>The What-If analysis feature lets you analyze the impact of potential layout changes, without implementing these changes in the layout, and re-extracting the xDSPF file. These changes are also called the ECO changes.</p>
<p>
<a id="pgfId-90478"></a>The What-If flow is supported in the regular &#8220;iterated&#8221; method EMIR flow, and in an incremental &#8220;itereco&#8221; method EMIR flow, which reuses the circuit simulation results from a previous iterated mode EMIR analysis. This is shown in the figure below.</p>

<p><strong>Figure 13-1
<a id="pgfId-90652"></a>The What-If Flow</strong></p>
<p>
<a id="pgfId-90669"></a></p>
<div class="webflare-div-image">
<img width="605" height="248" src="images/whatif-2.gif" /></div>

<p>
<a id="pgfId-90703"></a>The What-If changes are defined in an ECO file, which is included in the EMIR control file (<code>emir.config</code>). All ECO changes are relative to the original xDSPF content. In one What-If simulation, all changes defined in the ECO file are applied. These are then analyzed together in the second stage of the EMIR analysis.</p>
<p>
<a id="pgfId-90706"></a>Multiple incremental ECO runs are supported. For each run, the changes defined in the ECO file are applied to the original xDSPF content. Changes from previous ECO runs are not considered. In the incremental What-If analysis, only the nets with ECO changes are analyzed.</p>
<p>
<a id="pgfId-90709"></a>Other EMIR methods, such as &#8220;<code>method=direct</code>&#8221;, are not supported when performing What-If analysis. </p>
<p>
<a id="pgfId-90777"></a>All ECO changes for a specific What-If run are defined in one ECO file. </p>

<h2>
<a id="pgfId-83762"></a><a id="84406"></a>ECO Commands Supported in Voltus-Fi-XL</h2>

<p>
<a id="pgfId-90817"></a>The following ECO commands are supported in Voltus-Fi-XL:</p>
<ul><li>
<a id="pgfId-90809"></a><code>add_pin net=&lt;</code><span class="webflare-courier-new" style="white-space:pre"><em>net_name</em></span><code>&gt; name=[</code><span class="webflare-courier-new" style="white-space:pre"><em>node1 node2 &#8230;</em></span><code>]</code></li><li>
<a id="pgfId-90862"></a><code>delete_pin net=&lt;</code><span class="webflare-courier-new" style="white-space:pre"><em>net_name</em></span><code>&gt; name=[</code><span class="webflare-courier-new" style="white-space:pre"><em>node1 node2 &#8230;</em></span><code>]</code></li><li>
<a id="pgfId-90881"></a><code>add_cap net=&lt;</code><span class="webflare-courier-new" style="white-space:pre"><em>net_name</em></span><code>&gt; cap=[</code><span class="webflare-courier-new" style="white-space:pre"><em>node1 cvalue1 node2 cvalue2 &#8230;</em></span><code>]</code></li><li>
<a id="pgfId-90900"></a><code>add_res net=&lt;</code><span class="webflare-courier-new" style="white-space:pre"><em>net_name</em></span><code>&gt; node=&lt;</code><span class="webflare-courier-new" style="white-space:pre"><em>node1 node2</em></span><code>&gt; r=&lt;</code><span class="webflare-courier-new" style="white-space:pre"><em>rvalue</em></span><code>&gt;</code></li><li>
<a id="pgfId-90919"></a><code>delete_res net=&lt;</code><span class="webflare-courier-new" style="white-space:pre"><em>net_name</em></span><code>&gt; name=&lt;</code><span class="webflare-courier-new" style="white-space:pre"><em>resistor1 resistor2 &#8230;</em></span><code>&gt; </code></li><li>
<a id="pgfId-90941"></a><code>scale_res net=&lt;</code><span class="webflare-courier-new" style="white-space:pre"><em>net_name</em></span><code>&gt; name=&lt;</code><span class="webflare-courier-new" style="white-space:pre"><em>resistor1 resistor2 &#8230;.</em></span><code> &gt; scale = &lt;</code><span class="webflare-courier-new" style="white-space:pre"><em>scalefactor</em></span><code>&gt;</code></li><li>
<a id="pgfId-98141"></a><code>add_via</code> when executed creates an <code>add_res</code> entry in the ECO file</li><li>
<a id="pgfId-98142"></a><code>delete_via</code> when executed creates a <code>delete_res</code> entry in the ECO file</li></ul>







<p>
<a id="pgfId-91020"></a>The parameters listed above are defined as follows:</p>
<ul><li>
<a id="pgfId-91021"></a><code>net_name:</code> name of the net as defined in the <code>xDSPF |*net</code> statement. There is no support for wildcards, same as that in the xDSPF file.</li><li>
<a id="pgfId-91023"></a><code>node1, node2:</code>name of pin, sub, or tap node. There is no support for wild cards, same as that in the xDSPF file.</li><li>
<a id="pgfId-91024"></a><code>cvalue1, cvalue2:</code> the value of capacitance to be added. Negative value is supported for reducing net capacitance. It is a floating number.</li><li>
<a id="pgfId-91026"></a><code>rvalue &#8230; value</code>: value of resistance to be added. This is a floating number.</li><li>
<a id="pgfId-91027"></a><code>resistor1, resistor2:</code> the instance name of resistors to be deleted, or scaled.</li><li>
<a id="pgfId-91028"></a><code>scalefactor:</code> the scaling factor. This is a floating number.</li></ul>





<p>
<a id="pgfId-91121"></a>An example ECO file (<code>emir.eco</code>) is as follows:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-94096"></a>add_pin net=[VDD] name=[VDD#9]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-94097"></a>delete_pin net=[bias1] name=[Rj3652]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-94098"></a>scale_res net=[VDD] name=[Rg1 Rg2 Rg3 Rg4] scale=0.5</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-91125"></a>delete_res net=[VDD] name=[Rg5]</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-91126"></a>add_res net=[VDD] node=[VDD#80 VDD#81] r=10</pre>
<pre class="webflare-courier-new codeContent">
<a id="pgfId-91127"></a>add_cap net=[VDD] cap=[VDD#80 10e-15 VDD#81 5e-15]</pre>

<p>
<a id="pgfId-91128"></a>Alternatively, all ECO commands can also be used with the prefix, <code>eco_</code> in the <code>emir.conf</code> file directly. For example,</p>
<p>
<a id="pgfId-91109"></a><code>eco_add_pin net=[VDD] name=[VDD#9]</code></p>
<p>
<a id="pgfId-91186"></a>When performing a regular iterated method EMIR analyses with What-If, the only change required in the <code>emir.conf</code> file is the reference to the ECO file.</p>
<p>
<a id="pgfId-91188"></a><code>solver method=iterated<br />eco file=-&#8221;emir.eco&#8221;</code></p>
<p>
<a id="pgfId-91190"></a>The following lines need to be defined in the <code>emir.conf</code> file to enable an incremental What-If EMIR analysis.</p>
<p>
<a id="pgfId-91192"></a><code>solver method=itereco inputwf=&#8221;./input.emirtap.pwl&quot;<br />eco file=&#8221;emir.eco&#8221;</code></p>

<h2>
<a id="pgfId-83512"></a>Performing What-If (ECO) Analysis<a id="13956"></a> in Voltus-Fi-XL</h2>

<p>
<a id="pgfId-69711"></a>The What-If flow in Voltus-Fi-XL GUI is as follows:</p>
<ul><li>
<a id="pgfId-92207"></a>ECO commands are specified in the Voltus-Fi-XL GUI and the ECO file is generated.</li><li>
<a id="pgfId-92220"></a>Voltus-Fi-XL calls Spectre to perform the EMIR analysis. Fully accurate EMIR simulation is performed.</li><li>
<a id="pgfId-92230"></a>Only nets that are changed in the ECO statement are changed.</li></ul>


<p>
<a id="pgfId-96345"></a>To perform What-If analysis, first load the IR drop analysis results, select the net and click <em>Show Plot</em>. In the IR/EM Results form, the <em>What-If (ECO) Analysis </em>tab gets enabled. The software provides support in the form of tips about how to enable the <em>What-If (ECO) </em>tab when you hover over the tab name. This is shown below. It also provides help to fill out information in the various fields in the tab. This tooltip appears when you hover over the fields in the form. </p>

<p><strong>Figure 13-2
<a id="pgfId-96309"></a>Tooltips for What-If (ECO) Analysis Tab of the IR/EM Results Form</strong></p>
<p>
<a id="pgfId-96313"></a></p>
<div class="webflare-div-image">
<img width="535" height="179" src="images/whatif-3.gif" /></div>
<p><strong>Figure 13-3
<a id="pgfId-54517"></a><a id="62365"></a>the IR/EM <a id="RailAnalysisResultsWhatIf"></a>Results Form &#8211; What-If (ECO) Tab</strong></p>
<p>
<a id="pgfId-54521"></a></p>
<div class="webflare-div-image">
<img width="457" height="665" src="images/whatif-4.gif" /></div>

<p>
<a id="pgfId-65657"></a>In this form, provide the following information:</p>
<ul><li>
<a id="pgfId-95702"></a>Select the nets on which you want to perform What-If (ECO) analysis. In the text field provided with the <em>Select Nets</em> field, enter the full net name. The text field also accepts regular expression. For example, if you enter <code>V*</code>, the table will list all nets whose names start with <code>V</code>, for example <code>VDD</code> and <code>VSS</code>.</li><li>
<a id="pgfId-91251"></a>From the <em>whatif changes</em> list, select the ECO command you want to run. The following commands are available:<ul><li>
<a id="pgfId-91262"></a><code>add_pin</code></li><li>
<a id="pgfId-91279"></a><code>delete_pin</code></li><li>
<a id="pgfId-91286"></a><code>add_cap</code></li><li>
<a id="pgfId-91302"></a><code>scale_res</code></li><li>
<a id="pgfId-91309"></a><code>add_res</code></li><li>
<a id="pgfId-91293"></a><code>delete_res</code></li><li>
<a id="pgfId-98190"></a><code>add_via</code></li><li>
<a id="pgfId-98191"></a><code>delete_via</code><br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-91348"></a>For each of the above options, there are some changes in the fields enabled in the form. For details, see <a href="whatif.html#64709">Options for Performing What-If (ECO) Analysis</a>.</div></li></ul></li></ul>










<p>
<a id="pgfId-89431"></a>In the <em>Node name</em> group box, provide the information for the node on which the What-If (ECO) analysis is to be performed. </p>
<ul><li>
<a id="pgfId-91425"></a>Select the <em>Layer</em> on which you want to perform the analysis from the list. By default, this field is populated with the name of the layer selected in the Display form. If multiple layers are selected in the Display form, all the layer names will appear in the list.</li><li>
<a id="pgfId-94980"></a>Click <em>Get Node </em>and then select any point on the specified layer in the layout. The nearest node on the specified layer is identified for the whatif changes. The node name and its x- and y- coordinates are populated in the three text boxes; <em>Name</em>, <em>X</em>, and <em>Y</em>, respectively. </li></ul>

<p>
<a id="pgfId-96964"></a>In the <em>Recurrence</em> group box, provide the following information:</p>
<ul><li>
<a id="pgfId-95116"></a>Click <em>Recurrence</em> to add pins in recurrence in both horizontal and vertical directions. The starting point is the node that was specified using the <em>Get Node</em> button in the previous step. This option is applicable only when <code>add_pin</code> ECO command is selected. For this, perform the following tasks:<ul><li>
<a id="pgfId-95117"></a>Specify dX, or delta-X, which is the horizontal spacing between the nodes that will be used for adding pins. </li><li>
<a id="pgfId-95118"></a>Specify dY, or delta-Y, which is the vertical spacing between the nodes that will be used for adding pins.</li><li>
<a id="pgfId-95119"></a>Specify <em>num</em>, which is the number of nodes with the specified spacing, both horizontally and vertically.<br />
<a id="pgfId-94985"></a>When you click <em>Recurrence</em>, the Filters pop-up window opens. It displays a table with names of nodes that will be used for adding pins along with their x- and y- coordinates. When you click <em>OK</em>, the selected nodes will be used to add pins. This information is then populated in the table provided in the What-If (ECO) form. This is shown below.<br /><strong class="webflare-fig-line-height">Figure 13-4
<a id="pgfId-94996"></a>Adding Multiple Pins for What-If (ECO) Analysis</strong>
<a id="pgfId-95018"></a><div class="webflare-div-image">
<img width="626" height="570" src="images/whatif-5.gif" /></div></li></ul></li><li>
<a id="pgfId-91495"></a>In the <em>Node-2</em> group box, provide the same information as above for the second node. This field is only enabled when <code>add_res</code> is specified in the <em>whatif changes</em> list.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-91496"></a>You can choose a node either on the same layer or on a different layer.</div></li><li>
<a id="pgfId-91497"></a>Click <em>Add data</em> to add the location of the nodes in the table provided in the form. You can add multiple pairs of co-ordinates in the table. The table provides information about the type of What-If (ECO) analysis, the net name, information about the nodes, and the analysis data.</li><li>
<a id="pgfId-98233"></a>Click layout-modify to modify the layout of the ECO commands. The button lets you modify the layout for the specified ECO command. For details, see <a href="whatif.html#37161">Layout Modification Options</a>.</li><li>
<a id="pgfId-54530"></a>Specify the <em>Layer</em> on which you want to create the bounding box.</li><li>
<a id="pgfId-96263"></a>Click <em>Bounding box</em> and then select an area on the Virtuoso layout. Depending on the what-if analysis type, nodes and resistors will be selected from the layout. For example, if <code>delete_res</code> ECO command is selected in the <em>whatif changes</em> list, resistors will be selected for deletion. The nodes and resistors are selected on the basis of the specified layer name. These nodes will be listed in the Filters pop-up window. When you click <em>OK</em>, all the selected nodes will be used for deleting resistors.

If <code>add_pin</code> command is selected in the <em>whatif changes</em> list, then all nodes inside the rectangle, for the specified layer, will be selected. These nodes will be listed in the Filters pop-up window. When you click <em>OK</em>, all the selected nodes will be used for adding pins. Their names and the corresponding net names will be added in the table in the What-If (ECO) form.<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-96264"></a>The Bounding Box can only be used when <code>add_pin</code>, <code>add_cap</code>, <code>delete_res</code>, and <code>scale_res</code> ECO commands are selected in the whatif changes list. An example of using the Bounding Box for adding pins is shown below.</div><strong>Figure 13-5
<a id="pgfId-95225"></a>Using the Bounding Box Option to Add Pins</strong>
<a id="pgfId-95250"></a><div class="webflare-div-image">
<img width="616" height="513" src="images/whatif-6.gif" /></div></li><li>
<a id="pgfId-95216"></a>Specify the path and name of the ECO file to be generated in the <em>ECO file</em> field. </li><li>
<a id="pgfId-96549"></a>Click <em>Delete row</em> to delete the data added in the table. For this, first select the row for which you want to delete the data and then click <em>Delete row.</em></li><li>
<a id="pgfId-95300"></a>Click <em>Generate ECO</em> to generate the ECO file with the specified filename in the specified directory. The file opens in a pop-up window. A sample ECO file is shown below.<br /><strong class="webflare-fig-line-height">Figure 13-6
<a id="pgfId-93196"></a>Sample ECO File</strong>
<a id="pgfId-93214"></a><div class="webflare-div-image">
<img width="443" height="298" src="images/whatif-7.gif" /></div></li><li>
<a id="pgfId-91539"></a>Click <em>Run ECO to </em>run the simulation with the specified What-If ECO changes. When you click <em>Run ECO</em>, the Run Simulation form opens. The fields in this form are filled in automatically with information from the Spectre run. For details of how the form is pre-filled by the software, see <a href="whatif.html#58721">Pre-Filling the Run Simulation Form</a>.<br />
<a id="pgfId-95925"></a>In this form, check all the pre-filled information to ensure that it is correct. This form is shown below.<br /><strong class="webflare-fig-line-height">Figure 13-7
<a id="pgfId-91911"></a>The Run Simulation Form</strong>
<a id="pgfId-91925"></a><div class="webflare-div-image">
<img width="487" height="447" src="images/whatif-8.gif" /></div>
<a id="pgfId-95954"></a>In this form, the following information is pre-filled:<ul><li>
<a id="pgfId-95955"></a>The name of the simulation <em>Run directory</em></li><li>
<a id="pgfId-95956"></a>The name of the input <em>Ckt file</em></li><li>
<a id="pgfId-95957"></a>The name of the simulation configuration file in the <em>Conf file</em> field<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-95958"></a>You can edit the <em>Ckt file</em> and the <em>Conf file</em> by using the edit buttons provided against these options.</div></li><li>
<a id="pgfId-95959"></a>The path of the output directory for the What-If Spectre run in the <em>Output dir</em> field, and </li><li>
<a id="pgfId-95378"></a>The Spectre command line parameters in the <em>Other cmd line options</em> field, for example, if Spectre XPS is used, then <code>+spice</code> <code>+xps</code> and <code>+cktpreset=sram </code>is specified and if Spectre<sup> </sup>APS is used, then <code>+spice</code> <code>+aps</code> and <code>+cktpreset=sram </code>is specified<br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-93520"></a>For details of command line options, see &#8220;Postlayout Simulation&#8221; chapter in the <em><a actuate="user" class="URL" href="../spectreuser/spectreuserTOC.html#firstpage" show="replace" xml:link="simple">Spectre Circuit Simulator and Accelerated Parallel Simulator User Guide</a></em>.</div></li><li>
<a id="pgfId-95977"></a>Click <em>Run Simulation</em>. Once the simulation run is complete, you will get a pop-up telling you that the run is successful. The details of the run are provided in the Run log output.<br />
<a id="pgfId-95978"></a>Errors, if any, are written in the log. You can fix the errors and run the simulation again.</li><li>
<a id="pgfId-96930"></a>Once the simulation run is complete, the <em>Load ECO Results</em> button is enabled. This button is used to load the simulation results file that includes the What-if ECO changes. When you click this button, the Run Simulation form closes and the <em>IR</em> tab of the IR/EM Results form opens. In this tab, the new results file is loaded, which includes information about only those nets for which what-if ECO changes have been made. 

You can now generate IR/EM plots as per the changes made in ECO simulation.This is shown below.<br /><strong class="webflare-fig-line-height">Figure 13-8
<a id="pgfId-96931"></a>IR/EM Results Form &#8211; Results File with What-If ECO Changes</strong>
<a id="pgfId-96935"></a><div class="webflare-div-image">
<img width="441" height="195" src="images/whatif-9.gif" /></div></li></ul></li></ul>





















































<h2>
<a id="pgfId-96025"></a><a id="58721"></a>Pre-Filling the<a id="PreFillingRunSimForm"></a> Run Simulation Form</h2>

<p>
<a id="pgfId-96026"></a>The Run Simulation form that opens when you click the <em>Run ECO</em> button in the <em>What-If (ECO) </em>analysis tab, is pre-filled with information that is already available from the Spectre run. To ensure that the form is pre-filled, the following information must be available:</p>
<ul><li>
<a id="pgfId-96027"></a>The emir bin file that contains the simulation results from the original Spectre run</li><li>
<a id="pgfId-96028"></a>The configuration file generated during the original Spectre run</li><li>
<a id="pgfId-96029"></a>The log file generated during the original Spectre run</li></ul>


<p>
<a id="pgfId-96030"></a>The software performs below steps to extract the data from the original Spectre run for pre-filling the Run Simulation form.</p>
<ol><li>
<a id="pgfId-96031"></a>The software locates the log file generated by Spectre. The &#8220;<code>xps.log</code>&#8221; or the &#8220;<code>aps.log</code>&#8221; file is located either in the same directory as the emir bin file or in the parent directory of the emir bin file.</li><li>
<a id="pgfId-96032"></a>The software parses the &quot;<code>.log</code>&quot; file and searches for the &quot;command line&quot; used in the original Spectre run. The command line contains the &quot;ckt file&quot; and &quot;command line options&quot; used in the original Spectre run. </li><li>
<a id="pgfId-96033"></a>It then creates a directory parallel to the directory containing the &quot;ckt file&quot; for the What-If Spectre run. The new directory is created with the name, &quot;<code>whatIfRunDir</code>&quot;. This will contain the output of the What-If Spectre run.</li><li>
<a id="pgfId-96034"></a>The software searches for the &#8220;conf&#8221; file generated after the original Spectre run in the emir bin file directory and then creates a new &quot;conf&quot; file for the What-If spectre run, in the directory &quot;<code>whatIfRunDir</code>&quot; and performs the following tasks in the newly created &quot;conf&quot; file:<ul><li>
<a id="pgfId-96035"></a>Copies the data from the &quot;conf&quot; file from the original Spectre run</li><li>
<a id="pgfId-96036"></a>Changes the solver method from &quot;<code>iteronly</code>&quot; to &quot;<code>itereco</code>&quot;</li><li>
<a id="pgfId-96037"></a>Appends the ECO file, &quot;<code>eco file:ECO_filename</code>&quot; to the conf file</li></ul></li></ol>






<p>
<a id="pgfId-96038"></a>Now, when you click <em>Run Simulation</em>, the simulation runs using the above newly-generated conf file that includes information about the ECO options.</p>

<div class="webflare-information-macro webflare-macro-video">
<a id="pgfId-101112"></a>
To view the demonstration on performing what-if analysis in Voltus-Fi, see <a actuate="user" class="URL" href="https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1Od0000007MUsjEAG&amp;pageName=ArticleContent&amp;sq=005d0000001T44dAAC_2017215114826116" show="replace" xml:link="simple">Performing What-If Analysis using Voltus-Fi</a> video.</div>
<p class="webflare-indent1">
<a id="pgfId-101108"></a>Access to this video will depend on the availability of a web browser and a Cadence Online Support account.</p>
<h2>
<a id="pgfId-93610"></a><a id="37719"></a>Output</h2>

<p>
<a id="pgfId-93625"></a>The output of the above simulation run with ECO changes is a simulation database (<code>*.emir#_bin)</code>. You can use this simulation database for running the EMIR analysis. </p>
<p>
<a id="pgfId-93632"></a>For this, load this simulation database&#8212;with ECO changes&#8212;when loading the IR drop analysis results on the IR tab of the IR/EM Results form.</p>
<p>
<a id="pgfId-93651"></a>The subsequent EMIR analysis will be performed using this simulation database.</p>

<h2>
<a id="pgfId-91704"></a>Options for Performing <a id="64709"></a>What-If (ECO) Analysis</h2>

<p>
<a id="pgfId-91722"></a>When you select the ECO command that you want to run in the <em>whatif changes</em> list, there are some changes in the other options on the What-If (ECO) tab. These are detailed below.</p>
<ul><li>
<a id="pgfId-95390"></a>For <code>add_pin</code>, the following flows are supported for What-If (ECO) analysis:<ul><li>
<a id="pgfId-95391"></a>You can select a node by retrieving the x- and y- coordinates information in the layout. This node will be used for adding pins.</li><li>
<a id="pgfId-95392"></a>You can add multiple nodes at specified distances from an identified node at once by using the <em>Recurrence</em> option provided in the What-If (ECO) Analysis form. These nodes are used to add pins.</li><li>
<a id="pgfId-95393"></a>You can create a bounding box in the layout for a specified layer. All nodes within the bounding box or the rectangle will be used to add pins.</li></ul><br />
<a id="pgfId-91734"></a>The fields on the What-If (ECO) tab are the same as described above and shown in <a href="whatif.html#62365">Figure&#160;13-3</a>. For details, see <a href="whatif.html#13956">Performing What-If (ECO) Analysis in Voltus-Fi-XL</a>.</li><li>
<a id="pgfId-91751"></a>For <code>delete_pin</code>, the following options are available in the What-If (ECO) Analysis form:<ul><li>
<a id="pgfId-91773"></a>The <em>Node name</em> group box is replaced with the <em>Pin name</em> group box. This is shown below.</li><li>
<a id="pgfId-91786"></a>The <em>show pins</em> button is enabled. Click this button to view the list of pins on the selected layer. The Filters pop-up opens. The pin name and the x- and y- coordinates of the pin are provided in the pop-up. Select the row and click <em>OK</em>. The pin name and its coordinates appear in the table. This is shown below.<br /><strong class="webflare-fig-line-height">Figure 13-9
<a id="pgfId-91815"></a>Options for delete_pin What-If (ECO) Analysis</strong>
<a id="pgfId-91825"></a><div class="webflare-div-image">
<img width="440" height="637" src="images/whatif-11.gif" /></div><strong>Figure 13-10
<a id="pgfId-91864"></a>The Filters Pop-Up Window</strong>
<a id="pgfId-91874"></a><div class="webflare-div-image">
<img width="317" height="314" src="images/whatif-12.gif" /></div></li></ul></li><li>
<a id="pgfId-92580"></a>For <code>add_cap</code>, the following options are available in the What-If (ECO) form:<ul><li>
<a id="pgfId-92604"></a>Specify the <em>Cap value(F)</em>, which is the capacitance value for the analysis in femtofarads (<code>fF</code>).</li><li>
<a id="pgfId-92617"></a>Provide the node information in the same manner as that detailed for <code>add_pin</code> option.<br /><strong class="webflare-fig-line-height">Figure 13-11
<a id="pgfId-92651"></a>Options for add_cap What-If (ECO) Analysis</strong>
<a id="pgfId-92655"></a><div class="webflare-div-image">
<img width="444" height="286" src="images/whatif-13.gif" /></div></li></ul></li><li>
<a id="pgfId-92686"></a>For <code>scale_res</code>, the following options are available in the What-If (ECO) form:<ul><li>
<a id="pgfId-92687"></a>Specify the <em>Scale factor(Ohm) </em>for the analysis.</li><li>
<a id="pgfId-92688"></a>The <em>Node name</em> group box is replaced with the <em>Resistor</em> group box. Provide the <em>Resistor</em> information in the same manner as the node information detailed for the <code>add_pin</code> option.<br /><strong class="webflare-fig-line-height">Figure 13-12
<a id="pgfId-92689"></a>Options for scale_res What-If (ECO) Analysis</strong>
<a id="pgfId-92693"></a><div class="webflare-div-image">
<img width="464" height="302" src="images/whatif-14.gif" /></div></li></ul></li><li>
<a id="pgfId-92877"></a>For <code>add_res</code>, the following options are available in the What-If (ECO) form:<ul><li>
<a id="pgfId-92878"></a>Specify the <em>Res value (Ohm), </em>which is the resistance value for the analysis. </li><li>
<a id="pgfId-92879"></a>Both the Node group boxes, <em>Node1</em> and <em>Node2</em> are enabled for this option. You can provide the resistor information for multiple nodes.<br /><strong class="webflare-fig-line-height">Figure 13-13
<a id="pgfId-92880"></a>Options for add_res What-If (ECO) Analysis</strong>
<a id="pgfId-92643"></a><div class="webflare-div-image">
<img width="443" height="634" src="images/whatif-15.gif" /></div></li></ul></li><li>
<a id="pgfId-92951"></a>For <code>delete_res</code>, the following options are available in the What-If (ECO) form:<ul><li>
<a id="pgfId-92990"></a>The <em>Node name</em> group box is replaced with the <em>Resistor</em> group box. Provide the <em>Resistor</em> information in the same manner as the node information detailed for the <code>add_pin</code> option.<br /><strong class="webflare-fig-line-height">Figure 13-14
<a id="pgfId-92954"></a>Options for delete_res What-If (ECO) Analysis</strong>
<a id="pgfId-98486"></a><div class="webflare-div-image">
<img width="439" height="282" src="images/whatif-16.gif" /></div></li></ul></li><li>
<a id="pgfId-98490"></a>For <code>add_via</code>, the following options are available in the What-If (ECO) form:<ul><li>
<a id="pgfId-98491"></a>The <em>Node name</em> group boxes are replaced with the <em>Via-node- and Via-node-2 </em>group boxes. Provide the <em>Res value (Ohm) </em>information. </li></ul><br />
<a id="pgfId-99407"></a>The two via nodes that are specified must be on different layers.<br /><strong class="webflare-fig-line-height">Figure 13-15
<a id="pgfId-98493"></a>Options for add_via What-If (ECO) Analysis</strong>
<a id="pgfId-98517"></a><div class="webflare-div-image">
<img width="381" height="538" src="images/whatif-17.gif" /></div></li><li>
<a id="pgfId-98521"></a>For <code>delete_via</code>, the following options are available in the What-If (ECO) form:<ul><li>
<a id="pgfId-98522"></a>The <em>Node name</em> group box is replaced with the <em>Via </em>group box. </li></ul><br />
<a id="pgfId-98523"></a>Via layer must be selected in the Layer box.<br /><strong class="webflare-fig-line-height">Figure 13-16
<a id="pgfId-98524"></a>Options for delete_via What-If (ECO) Analysis</strong>
<a id="pgfId-98529"></a><div class="webflare-div-image">
<img width="364" height="513" src="images/whatif-18.gif" /></div></li></ul>































































<h2>
<a id="pgfId-97472"></a><a id="37161"></a>Layout <a id="LayoutModificationOptions"></a>Modification Options</h2>

<p>
<a id="pgfId-97473"></a>Voltus-Fi-XL provides options to modify the layout for the specified ECO command in the GUI mode. For this, layout-modify button is provided on the What-If (ECO) tab of the IR/EM Results form. This feature lets you view the layout modifications after adding and deleting pins, resistors, and vias.You can also perform design-rule checks (DRCs) and view the design-rule violations (DRVs) in the layout after performing these actions. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-98106"></a>This feature is only available when the design is opened in the Virtuoso Layout Suite (VLS) XL.</div>
<p>
<a id="pgfId-97474"></a>The following topics are covered in this section:</p>
<ul><li>
<a id="pgfId-97478"></a><a href="whatif.html#32337">Adding Pins and Modifying the Layout</a></li><li>
<a id="pgfId-97482"></a><a href="whatif.html#34444">Deleting Pins and Modifying the Layout</a></li><li>
<a id="pgfId-97486"></a><a href="whatif.html#21651">Adding Resistors and Modifying the Layout</a></li><li>
<a id="pgfId-97490"></a><a href="whatif.html#98546">Deleting Resistors and Modifying the Layout</a></li><li>
<a id="pgfId-97494"></a><a href="whatif.html#32566">Adding Vias and Modifying the Layout</a></li><li>
<a id="pgfId-97498"></a><a href="whatif.html#57834">Deleting Vias and Modifying the Layout</a></li><li>
<a id="pgfId-97502"></a><a href="whatif.html#20635">Design Rule Checking</a></li></ul>







<h3>
<a id="pgfId-97504"></a><a id="32337"></a>Adding Pins and Modifying the Layout</h3>

<p>
<a id="pgfId-97505"></a>On the <em>What-If (ECO) </em>tab of the IR/EM Results form, perform these steps to add a pin and modify the layout:</p>
<ol><li>
<a id="pgfId-97506"></a>Select <em>add_pin</em> ECO command from the Whatif changes list.</li><li>
<a id="pgfId-97507"></a>Click <em>Get Node</em> and then click anywhere on the Virtuoso layout to get a sub-node on the net.</li><li>
<a id="pgfId-97508"></a>Click <em>Add data</em> to add the ECO command, <code>add_pin</code> in the table. </li><li>
<a id="pgfId-97509"></a>Click the <em>layout-modify</em> button provided in the table to add the pin in the layout. The default pin shape is <code>0.1uX0.1u</code>. <br /><strong class="webflare-fig-line-height">Figure 13-17
<a id="pgfId-97510"></a>Adding a Pin and Modifying the Layout &#8211; Step 1</strong>
<a id="pgfId-97514"></a><div class="webflare-div-image">
<img width="615" height="414" src="images/whatif-19.gif" /></div><strong>Figure 13-18
<a id="pgfId-97515"></a>Adding a Pin and Modifying the Layout &#8211; Step 2</strong>
<a id="pgfId-97519"></a><div class="webflare-div-image">
<img width="633" height="538" src="images/whatif-20.gif" /></div></li></ol>










<h3>
<a id="pgfId-97521"></a><a id="34444"></a>Deleting Pins and Modifying the Layout</h3>

<p>
<a id="pgfId-97522"></a>Follow these steps to delete a pin and modify the layout:</p>
<ol><li>
<a id="pgfId-97523"></a>Select <em>delete_pin </em>ECO command from the Whatif changes list.</li><li>
<a id="pgfId-97524"></a>Click <em>show pins</em> to view the list of pins. Select the pin you want to delete. The <code>delete_pin</code> ECO command is added in the table. </li><li>
<a id="pgfId-97525"></a>Click <em>layout-modify</em> to delete the pin in the layout. </li></ol>



<h3>
<a id="pgfId-97527"></a><a id="21651"></a>Adding Resistors and Modifying the Layout</h3>

<p>
<a id="pgfId-97528"></a>Follow these steps to add a resistor and modify the layout:</p>
<ol><li>
<a id="pgfId-97529"></a>Select <em>add_res</em> ECO command from the <em>Whatif changes</em> list.</li><li>
<a id="pgfId-97530"></a>Select a metal layer from the Node layer group box and get the <em>Node 1</em> and <em>Node 2</em> information from the layout. Both nodes should be on the same layer.</li><li>
<a id="pgfId-97531"></a>Specify the <em>Res value (ohm)</em>.</li><li>
<a id="pgfId-97532"></a>Click <em>Add data</em> to add the ECO command, <code>add_res</code> in the table. </li><li>
<a id="pgfId-97533"></a>Click <em>layout-modify</em> to add the resistor in the layout. The new resistor created in the layout will have a default wire width of <code>0.1u</code>. <br /><strong class="webflare-fig-line-height">Figure 13-19
<a id="pgfId-97534"></a>Adding a Resistor and Modifying the Layout </strong>
<a id="pgfId-97538"></a><div class="webflare-div-image">
<img width="579" height="442" src="images/whatif-21.gif" /></div></li></ol>








<h3>
<a id="pgfId-97540"></a><a id="98546"></a>Deleting Resistors and Modifying the Layout</h3>

<p>
<a id="pgfId-97541"></a>Follow these steps to delete an MMSIM/Spectre resistor and modify the layout:</p>
<ol><li>
<a id="pgfId-97542"></a>Select <em>delete_res</em> ECO command from the <em>Whatif changes</em> list.</li><li>
<a id="pgfId-97543"></a>Select a metal layer and get the resistor information from the layout.</li><li>
<a id="pgfId-97544"></a>Click <em>Add data</em> to add the ECO command, <code>delete_res</code> in the table. </li><li>
<a id="pgfId-97545"></a>Click <em>layout-modify</em> to delete the resistor from the layout. Design rule violations (DRVs) will be checked after modifying the shape. <br /><strong class="webflare-fig-line-height">Figure 13-20
<a id="pgfId-97546"></a>Deleting a Resistor and Checking the DRVs</strong>
<a id="pgfId-97550"></a><div class="webflare-div-image">
<img width="641" height="443" src="images/whatif-22.gif" /></div></li></ol>







<h3>
<a id="pgfId-97552"></a><a id="32566"></a>Adding Vias and Modifying the Layout</h3>

<p>
<a id="pgfId-97553"></a>Follow these steps to add a via and modify the layout:</p>
<ol><li>
<a id="pgfId-97554"></a>Select <em>add_via</em> ECO command from the <em>Whatif changes</em> list.</li><li>
<a id="pgfId-97555"></a>Select a metal layer and select <em>Node 1</em> from the layout.</li><li>
<a id="pgfId-97556"></a>Select another layer and select <em>Node 2</em> from the layout.</li><li>
<a id="pgfId-97557"></a>Click <em>Add data</em> to add the via in the layout. The software searches for existing via definition (viaDef) in the technology file based on the via layers selected by you. The following scenarios are possible.<ol><li>
<a id="pgfId-97558"></a>If the via definition is available, a new via is created.</li><li>
<a id="pgfId-97559"></a>If the via definition is not available, the tool errors out.</li></ol></li><li>
<a id="pgfId-97560"></a>The generated via has the following default values:<ol><li>
<a id="pgfId-97561"></a>Number of cut rows=3</li><li>
<a id="pgfId-97562"></a>Number of cut columns=3<br /><strong class="webflare-fig-line-height">Figure 13-21
<a id="pgfId-97563"></a>Adding a Via and Modifying the Layout </strong>
<a id="pgfId-97567"></a><div class="webflare-div-image">
<img width="620" height="374" src="images/whatif-23.gif" /></div></li></ol></li></ol>












<h3>
<a id="pgfId-97569"></a><a id="57834"></a>Deleting Vias and Modifying the Layout</h3>

<p>
<a id="pgfId-97570"></a>Follow these steps to delete a via and modify the layout:</p>
<ol><li>
<a id="pgfId-97571"></a>Select <em>delete_via</em> ECO command from the <em>Whatif changes</em> list.</li><li>
<a id="pgfId-97572"></a>Select a via layer and select a via from the layout.</li><li>
<a id="pgfId-97573"></a>Click <em>Add data</em> to add the ECO command, <code>delete_via</code> in the table. </li><li>
<a id="pgfId-97574"></a>Click <em>layout-modify</em> to delete the via from the layout.</li></ol>




<h3>
<a id="pgfId-97576"></a><a id="20635"></a>Design Rule Checking</h3>

<p>
<a id="pgfId-97577"></a>Design rules are checked during layout modifications. Virtuoso XL DRD (Design-Rule-Driven) editing is automatically turned ON by Voltus-Fi while performing the layout modifications. The violations can be viewed in Annotation Browser and the layout window. </p>
<p>
<a id="pgfId-98044"></a>The figure below shows the DRVs post layout modifications after deleting a via.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-97579"></a>This feature is only available when the design is opened in the Virtuoso Layout Suite XL.</div>

<p class="webflare-indent1"><strong>Figure 13-22
<a id="pgfId-97645"></a>Checking DRVs after Deleting a Via </strong></p>
<p class="webflare-indent1">
<a id="pgfId-97649"></a></p>
<div class="webflare-div-image">
<img width="496" height="422" src="images/whatif-24.gif" /></div>
<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="stranalysis.html" id="prev" title="Structural Analysis">Structural Analysis</a></em></b><b><em><a href="pgvcreation.html" id="nex" title="Power-Grid View Generation">Power-Grid View Generation</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2020, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>