
<html><head><title>Large-Signal S-Parameter Simulation (LSSP) </title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="jommy" />
<meta name="CreateDate" content="2020-06-25" />
<meta name="CreateTime" content="1593085705" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Provides user information for Spectre Circuit Simulator and Accelerated Parallel Simulator RF Analysis" />
<meta name="DocTitle" content="Spectre Circuit Simulator and Accelerated Parallel Simulator RF Analysis in ADE Explorer User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Large-Signal S-Parameter Simulation (LSSP)" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.2.1" />
<meta name="Keyword" content="spectreRFinExplorer" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2020-06-25" />
<meta name="ModifiedTime" content="1593085705" />
<meta name="NextFile" content="Chap8.html" />
<meta name="Group" content="SpectreRF" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="Chap6.html" />
<meta name="c_product" content="Spectre" />
<meta name="Product" content="Spectre" />
<meta name="ProductFamily" content="Spectre" />
<meta name="ProductVersion" content="19.1" />
<meta name="RightsManagement" content="Copyright 2012-2020 Cadence Design Systems Inc." />
<meta name="Title" content="Spectre Circuit Simulator and Accelerated Parallel Simulator RF Analysis in ADE Explorer User Guide -- Large-Signal S-Parameter Simulation (LSSP)" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="Version" content="19.1" />
<meta name="SpaceKey" content="spectreRFinExplorer191" />
<meta name="webflare-version" content="2.0" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="spectreRFinExplorerTOC.html">Contents</a></li><li><a class="prev" href="Chap6.html" title="Envelope (ENVLP) Analysis">Envelope (ENVLP) Analysis</a></li><li style="float: right;"><a class="viewPrint" href="spectreRFinExplorer.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="Chap8.html" title="AnalogLib Components Used in RF Simulation">AnalogLib Components Used in R ...</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Spectre Circuit Simulator and Accelerated Parallel Simulator RF Analysis in ADE Explorer User Guide<br />Product Version 19.1, June 2020</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>7
<a id="pgfId-1065082"></a></h1>
<h1>
<a id="pgfId-1065083"></a><hr />
Large-Signal S-Parameter Simulation (LSSP) <hr />
</h1>
<h2>
<a id="pgfId-1069337"></a>Large-Sig<a id="marker-1070141"></a>nal S Para<a id="lssp"></a>meters</h2>

<p>
<a id="pgfId-1069338"></a>Characterizing RF circuits with small-signal S-parameters is a well established practice. However, small-signal S-parameters are not sufficient to describe nonlinear circuits with moderate to large amplitude signals. </p>
<p>
<a id="pgfId-1069339"></a>As a natural extension of small-signal S-parameters, large-signal S-parameters (LSSPs) are defined as the ratio of reflected (or transmitted) waves to incident waves. Since small-signal S-parameters are based on the simulation of a linearized circuit, they are independent of the input power. LSSPs include the nonlinear effects at different amplitudes.</p>
<p>
<a id="pgfId-1069340"></a>The LSSP capability is implemented for single-tone harmonic balance and PSS Shooting or harmonic balance simulations. </p>
<p>
<a id="pgfId-1069341"></a>Starting with the MMSIM13.1 release, the LSSP capability has been integrated into the hb and pss (shooting and hb)<em> Choosing Analyses</em> form. With this integration, the simulation is now much easier to set up, and allows the input and output frequencies to be different. Direct plot functions have also been implemented to allow plotting the large-signal S-Parameters on a Smith Chart. When these expressions are added under the Maestro tab of the ADE Explorer window from the <em>Direct Plot Form</em>, ADE Explorer plots the output on the Smith Chart.</p>

<h3>
<a id="pgfId-1069342"></a>Large-Signal S parameters for a Two Port Circuit </h3>

<p>
<a id="pgfId-1069343"></a>Consider calculating LSSPs for a two-port circuit. When you apply a signal at port 1 on the left and terminate port 2 on the right, as shown below, you can measure <em>
S</em>
<sub><em>11</em></sub> and <em>
S</em>
<sub><em>21</em></sub>.</p>

<p class="webflare-indent1">
<a id="pgfId-1069347"></a></p>
<div class="webflare-div-image">
<img width="576" height="365" src="images/Chap7-2.gif" /></div>

<p>
<a id="pgfId-1069348"></a>For a wave A launched from port1 on the left, S11 is B/A, and S21 is C/A, where A, B, and C are all vectors. When this measurement is done, the power in the load resistor is calculated.</p>
<p>
<a id="pgfId-1069350"></a>Similarly, when you launch wave D at port 2 on the right, and terminate port 1 on the left as shown below, you can measure <em>
S</em>
<sub><em>12</em></sub> and <em>
S</em>
<sub><em>22</em></sub>. The power measured above is set in port2 for this measurement.</p>

<p>
<a id="pgfId-1069354"></a></p>
<div class="webflare-div-image">
<img width="558" height="361" src="images/Chap7-3.gif" /></div>

<p>
<a id="pgfId-1069355"></a>For a wave launched from port2 on the right, S22 is E/D, and S12 is F/D, where D, E, and F are all vectors.</p>
<p>
<a id="pgfId-1069356"></a>For nonlinear circuits, the values of the S-Parameters can change as the amplitude of the signal changes. In addition, the frequency can be swept for a single input and output amplitude at a time</p>

<h3>
<a id="pgfId-1069358"></a>Circuit Setup</h3>

<p>
<a id="pgfId-1069640"></a>The normal setup for large-signal S-Parameter measurement is similar to the setup for a swept input power simulation, with the addition of setting the output <em>Source type</em> to <em>sine</em> and leaving all the properties for the sine wave blank. LSSP analysis causes port 1 to be driven first so the S11 and S21 measurements can be made, and then causes port 2 to be driven next so the S12 and S22 measurements can be made. The power in port 2 from the S21 measurement is set in port 2 for the S22 and S12 measurement.</p>
<p>
<a id="pgfId-1069359"></a>A behavioral low noise amplifier is shown below.</p>

<p>
<a id="pgfId-1069363"></a></p>
<div class="webflare-div-image">
<img width="668" height="581" src="images/Chap7-4.gif" /></div>

<p>
<a id="pgfId-1069364"></a> LSSP expects that a variable is used to set the input power. The normal setup is to specify the input power sweep as normal and then select the LSSP check box in the <em>Choosing Analyses</em> form. When this is chosen, you define the source and load ports in the <em>Ports</em> field, and you select the frequency of the output in the <em>Load Harmonic</em> field. The output frequency defines the frequency for the forward S21 measurement, and the frequency of port 2 for the S22 and S12 measurements. Set the output <em>Source type</em> to <em>sine</em> with no properties to define the frequency or amplitude.</p>
<p>
<a id="pgfId-1069365"></a>The input port RF and output port <em>PORT2</em> setup are shown below.</p>

<p>
<a id="pgfId-1069369"></a></p>
<div class="webflare-div-image">
<img width="668" height="760" src="images/Chap7-5.gif" /></div>

<p>
<a id="pgfId-1069370"></a>Note that the input source is set to produce two RF signals. Both signals have frequencies that are set by the variables <em>frf1</em> and<em> frf2</em>. The amplitude of both signals are set to the variable name <em>prf</em>. This is a common way to set sources because it allows changing the frequencies and amplitudes using variable names in ADE Explorer without needing to change the schematic.</p>

<p>
<a id="pgfId-1069374"></a></p>
<div class="webflare-div-image">
<img width="668" height="598" src="images/Chap7-6.gif" /></div>

<p>
<a id="pgfId-1069375"></a>The normal setting for the load port is to set the <em>Source type</em> to <em>sine</em>, and leave all the properties that define the sinusoid blank, as shown above.</p>

<h3>
<a id="pgfId-1069702"></a>ADE Explorer Setup</h3>

<p>
<a id="pgfId-1069376"></a>The ADE Explorer setup is shown below with the variables defined in the <em>Design Variables</em> section.</p>

<p>
<a id="pgfId-1069380"></a></p>
<div class="webflare-div-image">
<img width="668" height="510" src="images/Chap7-7.gif" /></div>

<p>
<a id="pgfId-1069381"></a>Note that the variable <em>frf2</em> has been set to zero to disable the second RF tone.</p>

<h3>
<a id="pgfId-1069718"></a>Analysis Setup</h3>

<p>
<a id="pgfId-1069382"></a>Next, set up the hb <em>Choosing Analyses</em> form, as shown below.</p>

<ol><li>
<a id="pgfId-1069383"></a>Select <em>Analyses</em> - <em>Choose</em> from the ADE Explorer window.<br />
<a id="pgfId-1069384"></a>The <em>Choosing Analyses</em> form is displayed, as shown below.<br />
<a id="pgfId-1069388"></a><div class="webflare-div-image">
<img width="668" height="798" src="images/Chap7-8.gif" /></div></li><li>
<a id="pgfId-1069389"></a>Specify the fundamental frequency in the <em>Fundamental Frequency</em> field. Here, 900M has been specified.</li><li>
<a id="pgfId-1069390"></a>Specify the number of harmonics in the <em>Number of Harmonics</em> field. Here, 15 is specified.<br />
<a id="pgfId-1069391"></a>It is recommended to set the number of harmonics manually and specify a value that is high enough to get accurate results at the highest input power level in the sweep.</li><li>
<a id="pgfId-1069392"></a>Select the LSSP check box. The LSSP options are displayed, as shown below.<br />
<a id="pgfId-1069396"></a><div class="webflare-div-image">
<img width="668" height="99" src="images/Chap7-9.gif" /></div></li><li>
<a id="pgfId-1069397"></a>Click <em>Select</em> to the right of the <em>Ports</em> field and select the input source and output source from the schematic. The <em>Ports</em> field is populated with the names of the input and output ports, as shown below.<br />
<a id="pgfId-1069401"></a><div class="webflare-div-image">
<img width="668" height="105" src="images/Chap7-10.gif" /></div></li><li>
<a id="pgfId-1069402"></a>Click <em>Choose</em> to the right of the <em>Load Harmonic</em> field and select the frequency and tone, as shown below.<br />
<a id="pgfId-1069406"></a><div class="webflare-div-image">
<img width="668" height="222" src="images/Chap7-11.gif" /></div></li><li>
<a id="pgfId-1069407"></a>Click <em>Apply</em>.</li></ol>


























<h3>
<a id="pgfId-1069408"></a> LSSP Amplitude Swe<a id="marker-1070247"></a>ep</h3>

<p>
<a id="pgfId-1069776"></a>To set up the amplitude sweep:</p>
<ol><li>
<a id="pgfId-1069409"></a>Select the <em>Sweep</em> check box. The Sweep options are displayed, as shown below.<br />
<a id="pgfId-1069413"></a><div class="webflare-div-image">
<img width="668" height="346" src="images/Chap7-12.gif" /></div></li><li>
<a id="pgfId-1069414"></a>Click <em>Select Design Variable</em>. The Select Design Variable form is displayed, as shown below.<br />
<a id="pgfId-1069418"></a><div class="webflare-div-image">
<img width="668" height="449" src="images/Chap7-13.gif" /></div></li><li>
<a id="pgfId-1069419"></a>Select a variable from the available list of variables. The <em>Variable Name</em> field is populated with the name of the variable, as shown below.<br />
<a id="pgfId-1069423"></a><br /><div class="webflare-div-image">
<img width="668" height="349" src="images/Chap7-14.gif" /></div></li><li>
<a id="pgfId-1069424"></a>Specify the sweep range in the <em>Start</em> and <em>Stop</em> fields.</li><li>
<a id="pgfId-1069425"></a>Specify the step size in the <em>Step Size</em> field.</li><li>
<a id="pgfId-1069426"></a>Click <em>OK</em>.</li><li>
<a id="pgfId-1069427"></a>Run the simulation.</li></ol>



















<h3>
<a id="pgfId-1069822"></a>Plotting the S11 C<a id="marker-1070272"></a>urve</h3>

<p>
<a id="pgfId-1069836"></a>To plot the S11curve:</p>

<ol><li>
<a id="pgfId-1069429"></a>In the ADE Explorer window, choose <em>Results</em> - <em>Direct Plot</em> - <em>Main Form</em>. The <em>Direct Plot Form</em> is displayed, as shown below.<br />
<a id="pgfId-1069433"></a><div class="webflare-div-image">
<img width="668" height="540" src="images/Chap7-15.gif" /></div></li><li>
<a id="pgfId-1069434"></a>Choose <em>Z-Smith</em> from the <em>Plot Type</em> section.</li><li>
<a id="pgfId-1069435"></a>Select the <em>Add to Outputs</em> check box to add the expression in the <em>Outputs</em> section of the ADE Explorer window.</li><li>
<a id="pgfId-1069436"></a>Click the <em>S11</em> button.<br />
<a id="pgfId-1069437"></a>The input reflection coefficient is displayed on the Smith chart, as shown below.<br />
<a id="pgfId-1069441"></a><br /><div class="webflare-div-image">
<img width="668" height="435" src="images/Chap7-16.gif" /></div></li><li>
<a id="pgfId-1069442"></a>Double-click the trace legend. The <em>Complex Trace Properties for LSS11</em> window is displayed, as shown below.<br />
<a id="pgfId-1069446"></a><div class="webflare-div-image">
<img width="668" height="543" src="images/Chap7-17.gif" /></div></li><li>
<a id="pgfId-1069447"></a>Select the <em>Turn On Symbols</em> check box.</li><li>
<a id="pgfId-1069448"></a>Select the <em>Show All points</em> check box.</li><li>
<a id="pgfId-1069449"></a>Click <em>OK</em>.</li><li>
<a id="pgfId-1069450"></a>In the waveform window, select <em>Marker</em> - <em>Snap Track Cursor</em> and move the mouse pointer over the trace legend.<br />
<a id="pgfId-1069451"></a>The tracking cursor displays the input power level, as shown below.<br />
<a id="pgfId-1069455"></a><div class="webflare-div-image">
<img width="668" height="432" src="images/Chap7-18.gif" /></div></li></ol>























<p>
<a id="pgfId-1069456"></a>Similarly, you can plot the S12 curve.</p>

<h3>
<a id="pgfId-1069457"></a>Plotting the Input Impedance Magnitud<a id="marker-1070324"></a>e and Phase Curves</h3>

<p>
<a id="pgfId-1069895"></a>To plot the input impedance magnitude and phase curves:</p>

<ol><li>
<a id="pgfId-1069458"></a>In the <em>Direct Plot Form</em>, select <em>ZM</em> from the <em>Function</em> section.</li><li>
<a id="pgfId-1069459"></a>Select <em>Magnitude</em> from the <em>Modifier</em> section.</li><li>
<a id="pgfId-1069460"></a>Click <em>ZM1</em>.</li><li>
<a id="pgfId-1069461"></a>Select <em>Phase</em> from the <em>Modifier</em> section.</li><li>
<a id="pgfId-1069462"></a>Click <em>ZM1</em> again.<br />
<a id="pgfId-1069463"></a>The impedance and phase curves are displayed in the waveform tool, as shown below.<br />
<a id="pgfId-1069467"></a><div class="webflare-div-image">
<img width="668" height="443" src="images/Chap7-19.gif" /></div></li></ol>









<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="Chap6.html" id="prev" title="Envelope (ENVLP) Analysis">Envelope (ENVLP) Analysis</a></em></b><b><em><a href="Chap8.html" id="nex" title="AnalogLib Components Used in RF Simulation">AnalogLib Components Used in R ...</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2020, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>