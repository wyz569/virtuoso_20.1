
<html><head><title>Setting up a SpectreRF Simulation</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="jommy" />
<meta name="CreateDate" content="2020-06-25" />
<meta name="CreateTime" content="1593085255" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Provides user information for Spectre Circuit Simulator and Accelerated Parallel Simulator RF Analysis" />
<meta name="DocTitle" content="Spectre Circuit Simulator and Accelerated Parallel Simulator RF Analysis in ADE Explorer User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Setting up a SpectreRF Simulation" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.2.1" />
<meta name="Keyword" content="spectreRFinExplorer" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2020-06-25" />
<meta name="ModifiedTime" content="1593085255" />
<meta name="NextFile" content="Chap3.html" />
<meta name="Group" content="SpectreRF" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="Chap1.html" />
<meta name="c_product" content="Spectre" />
<meta name="Product" content="Spectre" />
<meta name="ProductFamily" content="Spectre" />
<meta name="ProductVersion" content="19.1" />
<meta name="RightsManagement" content="Copyright 2012-2020 Cadence Design Systems Inc." />
<meta name="Title" content="Spectre Circuit Simulator and Accelerated Parallel Simulator RF Analysis in ADE Explorer User Guide -- Setting up a SpectreRF Simulation" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="Version" content="19.1" />
<meta name="SpaceKey" content="spectreRFinExplorer191" />
<meta name="webflare-version" content="2.0" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="spectreRFinExplorerTOC.html">Contents</a></li><li><a class="prev" href="Chap1.html" title="Introduction">Introduction</a></li><li style="float: right;"><a class="viewPrint" href="spectreRFinExplorer.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="Chap3.html" title="Frequency Domain Analyses: Harmonic Balance">Frequency Domain Analyses: Har ...</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Spectre Circuit Simulator and Accelerated Parallel Simulator RF Analysis in ADE Explorer User Guide<br />Product Version 19.1, June 2020</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>2
<a id="pgfId-1065082"></a></h1>
<h1>
<a id="pgfId-1065619"></a><hr />
Setting up a SpectreRF Simulation<hr />
</h1>
<h2>
<a id="pgfId-1065620"></a>Using Virtuoso ADE Explorer</h2>

<p>
<a id="pgfId-1066111"></a>Starting with IC6.1.7, Cadence offers a new Virtuoso ADE product suite that enables you to fully explore, analyze, and verify a design against design goals so that the design intent can be maintained throughout the design cycle. The new generation of ADE product suite includes ADE Explorer, ADE Assembler, and ADE Verifier products.</p>
<p>
<a id="pgfId-1066112"></a>You can use the tools in the new Virtuoso ADE product suite as your simulation environment because of the benefits they provide. The netlister netlists directly from the schematic. The Direct Plot Form automates all of the standard RF measurements. Cross-probing to the schematic is provided. Easy set-up of the analyses to be run is provided. ADE Explorer runs a single test and allows parallel processing of sweeps, corners and Monte Carlo. In ADE Assembler, multiple tests can be run at the same time. In ADE Verifier, you can import simulation data and measurements against the specs from all the members of the design team to get a real-time update of the design progress.</p>
<p>
<a id="pgfId-1066269"></a>For more information on the new products, refer to the <em>Virtuoso ADE Explorer User Guide</em>, <em>Virtuoso ADE Assembler User Guide</em>, and <em>Virtuoso ADE Verifier User Guide</em>.</p>

<h3>
<a id="pgfId-1065321"></a>A Testbench</h3>

<p>
<a id="pgfId-1065322"></a>A testbench is the schematic with the sources set up to provide the stimulus, and the different analyses to provide the measurements. In the schematic, make sure that the sources used for inputs and bias are at the top level, and have the circuit instantiated as a symbol (which could have levels of hierarchy below that). This allows these sources to be connected to the circuit but not have any connection to layout. </p>
<p>
<a id="pgfId-1065876"></a>The new ADE tools create a maestro view (see <a href="Chap2.html#63996">Creating Multiple Tests in ADE Assembler</a>) that stores the setups of all the different tests. The different tests are like ADE L states.</p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1065915"></a>The products in the new ADE product suite can load ADE states created in ADE L and ADE XL, however, they do not have the ability to save ADE states in the same manner as ADE L. You can create multiple tests in ADE Assembler and run these tests individually in ADE Explorer, when required. Refer to <a href="Chap2.html#63996">Creating Multiple Tests in ADE Assembler</a> to learn how to create multiple tests in ADE Assembler.</div>

<h3>
<a id="pgfId-1065323"></a>ADE Explorer</h3>

<p>
<a id="pgfId-1065324"></a>ADE Explorer, incorporates some useful features of ADE XL while maintaining the simplicity and ease of use of ADE L. ADE Explorer is like ADE L in that it can run a single design and simulation setup at a time. It adds the ability to run parallel simulations in sweeps. Corners and Monte Carlo are also available along with real-time tuning (RTT) which is useful for rapidly tuning filters or matching networks. ADE Explorer also allows very easy transitions to ADE Assembler, which allows multiple tests and is similar to ADE XL. Like ADE XL, the simulation environment is in one tab, and the schematic is in another in ADE Explorer, as shown highlighted in the figure below.</p>

<p>
<a id="pgfId-1069766"></a></p>
<div class="webflare-div-image">
<img width="668" height="485" src="images/Chap2-2.gif" /></div>

<p>
<a id="pgfId-1069769"></a>You need to specify the following essential settings in the Virtuoso&#174; ADE Explorer Setup before running a simulation &#8212; design variables, temperature, simulator, analysis, model files, and other setup files. You can also define the various outputs that are to be saved or plotted during a simulation run. </p>
<p>
<a id="pgfId-1066413"></a>When you run a simulation, the results are saved in a predefined formats and can be used by other tools such as the Virtuoso Visualization and Analysis XL for further analysis. If there are signals in the simulation results, they are by default plotted in the Virtuoso Visualization and Analysis XL Graph window.</p>

<h3>
<a id="pgfId-1065486"></a>Analysis form</h3>

<p>
<a id="pgfId-1065331"></a>The <em>Choosing Analysis</em> form is provided for each analysis type you want to run. The <em>Choosing Analysis</em> form lists the sources in your circuit at the top. The number of harmonics and oversample factor are set in the edit fields just below the list. Accuracy is set by selecting liberal, moderate, or conservative. In general, to get a quick idea, choose liberal. For most simulations, choose moderate. When a more accurate simulation is desired, select conservative. If you have an oscillator, select the oscillator button. Sweeps can be set up in the form directly, or by using the parametric plot tool in ADE.</p>
<p>
<a id="pgfId-1065332"></a>Each analysis has its own <em>Choosing Analysis</em> form where the appropriate information is entered for that analysis.</p>

<h3>
<a id="pgfId-1065333"></a>Direct Plot form</h3>

<p>
<a id="pgfId-1065334"></a>The <em>Direct Plot</em> form automates the plotting of signals. At the top, all the different analyses that were run are listed. Just below are the different things that can be plotted. In SpectreRF, both the time and frequency domain results are provided regardless of whether the simulation is done in the time domain using Shooting, or in the frequency domain using Harmonic Balance. Peak or RMS results are available, and when frequency domain results are present, modifiers are allowed so that dB or phase could be selected for the results.</p>
<p>
<a id="pgfId-1065439"></a>When a selection is made in the schematic, the waveform tool displays the result. In ADE Explorer, by default, the waveform is docked in the ADE Explorer window, as shown in the figure below.</p>

<p>
<a id="pgfId-1069041"></a></p>
<div class="webflare-div-image">
<img width="668" height="503" src="images/Chap2-3.gif" /></div>

<p>
<a id="pgfId-1069078"></a>You can click the Launch ViVA icon (shown highlighted above) to display the waveform separately in the Virtuoso Visualization and Analysis tool (ViVA).</p>

<h2>
<a id="pgfId-1065440"></a>Netlist Driven Flo<a id="marker-1065585"></a>ws</h2>

<p>
<a id="pgfId-1065441"></a>Netlist-driven flows start with a netlist. This might be done manually, or from a netlister that is developed in house. The netlister may or may not add the analysis statements to the netlist. One advantage to running from the netlist is the ability to alter a value and then run again, or to run multiple analyses of the same type with different settings.</p>
<p>
<a id="pgfId-1065339"></a>To get spectre help for the netlist-driven flow, type <code>spectre -h</code> in a shell window. This gives a list of topics that have help available for, and then you might for example type <code>spectre -h pss</code>. When you do this, you will see the analysis statement and all the options along with all the values that are available.</p>
<p>
<a id="pgfId-1065340"></a>When the netlist has the proper analysis statements, you can run spectre. Examples of this are shown below:</p>

<a id="pgfId-1065341"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
spectre netlist.scs</pre>
<a id="pgfId-1065342"></a><pre class="webflare-courier-new webflare-syx-syntax codeContent">
spectre +aps +mt=2 +log spectre.out netlist.scs (This runs APS with 2 threads and a log file spectre.out)</pre>

<p>
<a id="pgfId-1065073"></a>When Spectre runs, the results are saved in the &lt;<span class="webflare-courier-new" style="white-space:pre"><em>netlist_name</em></span>&gt;.<code>raw</code> directory. To view the results, type <code>viva&amp;</code> in a shell window, and then plot the waveforms from the Results Browser and the Calculator.</p>

<h2>
<a id="pgfId-1066557"></a><a id="63996"></a>Creating Multiple Tests in ADE Assembler</h2>

<p>
<a id="pgfId-1066571"></a>The tools in the new ADE product suite do not have the capability to save ADE states. However, you can create and use the equivalent of ADE states in the new ADE environment. You can create multiple tests in ADE assembler that correspond to multiple ADE states. These tests are saved in the maestro view. </p>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1069850"></a>You have to create the maestro view when any of the new ADE tools is first started. When you run the simulation, or when you specifically save the setup, the maestro view is updated.</div>
<p>
<a id="pgfId-1066615"></a>The following is an example of creating multiple tests in the ADE Assembler:</p>
<ol><li>
<a id="pgfId-1066626"></a>Open a design in ADE Explorer. To do this, launch virtuoso and select <em>Tools</em> - <em>Library Manager</em> from the Virtuoso window. The <em>Library Manager</em> window is displayed, as shown below.<br />
<a id="pgfId-1066651"></a><div class="webflare-div-image">
<img width="668" height="544" src="images/Chap2-4.gif" /></div></li><li>
<a id="pgfId-1066658"></a>Select a library from the <em>Library</em> section, cell from the <em>Cell</em> section, and double-click on the <em>schematic</em> view in the <em>View</em> section.</li><li>
<a id="pgfId-1066705"></a>The schematic is displayed in the <em>Virtuoso Schematic Editor</em> window, as shown below.<br />
<a id="pgfId-1066725"></a><div class="webflare-div-image">
<img width="668" height="607" src="images/Chap2-5.gif" /></div></li><li>
<a id="pgfId-1066732"></a>Select <em>Launch</em> - <em>ADE Explorer</em> to open the ADE Explorer window. <br />
<a id="pgfId-1066900"></a>The Launch ADE Explorer form is displayed, as shown below.<br />
<a id="pgfId-1066911"></a><div class="webflare-div-image">
<img width="668" height="117" src="images/Chap2-6.gif" /></div></li><li>
<a id="pgfId-1066886"></a>Select the <em>Create New View</em> option and click <em>OK</em>.<br />
<a id="pgfId-1066941"></a>The <em>Create new ADE Explorer view</em> window is displayed, as shown below.<br />
<a id="pgfId-1066959"></a><div class="webflare-div-image">
<img width="668" height="356" src="images/Chap2-7.gif" /></div></li><li>
<a id="pgfId-1066980"></a>Click OK.<br />
<a id="pgfId-1067034"></a>ADE Explorer will start in a new tab, as shown below.<br />
<a id="pgfId-1066987"></a><div class="webflare-div-image">
<img width="622" height="462" src="images/Chap2-8.gif" /></div></li><li>
<a id="pgfId-1067078"></a>Click on the test <em>ExampleLibRF:lnaSimple:1</em> twice and change the name to <em>Setup</em>.</li><li>
<a id="pgfId-1067099"></a>Press <em>Enter</em>.<br />
<a id="pgfId-1066994"></a>The name of the test will change to <em>Setup</em>, as shown below.<br />
<a id="pgfId-1067112"></a><div class="webflare-div-image">
<img width="612" height="465" src="images/Chap2-9.gif" /></div></li><li>
<a id="pgfId-1067135"></a>Select <em>Analyses</em> - <em>Choose</em> <br />
<a id="pgfId-1068538"></a>The <em>Choosing Analyses</em> form is displayed, as shown below. <br />
<a id="pgfId-1068543"></a><div class="webflare-div-image">
<img width="668" height="498" src="images/Chap2-10.gif" /></div><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1068583"></a>You can also open the <em>Choosing Analysis</em> form by expanding the <em>Analyses</em> option in the <em>Setup</em> assistant of the ADE Explorer window and clicking the <em>Click to add analysis</em> text.</div></li><li>
<a id="pgfId-1067008"></a>In the <em>Choosing Analyses</em> form, select the <em>dc</em> option from the <em>Analysis</em> section.<br />
<a id="pgfId-1067520"></a><div class="webflare-div-image">
<img width="668" height="522" src="images/Chap2-11.gif" /></div></li><li>
<a id="pgfId-1067485"></a>Select the <em>Save DC Operating Point</em> option.</li><li>
<a id="pgfId-1067224"></a>Click <em>OK</em>.</li><li>
<a id="pgfId-1067250"></a>Choose <em>Simulation</em> - <em>Run</em> to run the simulation. Alternatively, you can click the green arrow button located on the right of the ADE Explorer window to run the simulation.</li><li>
<a id="pgfId-1067375"></a>After the simulation run is complete, click the blue up arrow button located to the left of <em>Setup,</em> under the Setup pane, The ADE Assembler window is displayed with <em>Setup</em> displayed under <em>Tests</em> in the <em>Data View</em> assistant, as shown below.<br />
<a id="pgfId-1067392"></a><div class="webflare-div-image">
<img width="668" height="381" src="images/Chap2-12.gif" /></div></li><li>
<a id="pgfId-1067452"></a>Click the right mouse button on <em>Setup</em> and select the <em>Create Test Copy</em> option from the context menu.<br />
<a id="pgfId-1067649"></a>A copy of Setup by the name <em>Setup:1</em> is created, as show below.<br />
<a id="pgfId-1067659"></a><div class="webflare-div-image">
<img width="668" height="373" src="images/Chap2-13.gif" /></div></li><li>
<a id="pgfId-1067689"></a>Click twice on <em>Setup:1</em> and change the name to <em>AC_DC</em>.<br />
<a id="pgfId-1067702"></a>Click the <em>+</em> signs to the left of <em>AC_DC</em> and <em>Analyses</em> to see that dc analysis is added under AC_DC as it was set under Setup.</li><li>
<a id="pgfId-1067431"></a>Click on <em>Click to add analysis</em> text under dc analysis. The <em>Choosing Analyses</em> form is displayed.</li><li>
<a id="pgfId-1067762"></a>In the <em>Choosing Analyses</em> form, select <em>ac</em> from the <em>Analysis</em> section.</li><li>
<a id="pgfId-1067802"></a>Select <em>Start-Stop</em> for <em>Sweep Range</em> and type <em>1M</em> in the <em>Start</em> field and <em>10G</em> in the <em>Stop</em> field.</li><li>
<a id="pgfId-1067812"></a>Select <em>Logarithmic</em> from the <em>Sweep Type</em> drop-down list.</li><li>
<a id="pgfId-1067819"></a>Type <em>20</em> in the <em>Points Per Decade</em> field.<br />
<a id="pgfId-1067886"></a><div class="webflare-div-image">
<img width="668" height="773" src="images/Chap2-14.gif" /></div></li><li>
<a id="pgfId-1067873"></a>Click OK.<br />
<a id="pgfId-1067925"></a>Note that ac analysis is added in the test, as shown below.<br />
<a id="pgfId-1067959"></a><div class="webflare-div-image">
<img width="668" height="342" src="images/Chap2-15.gif" /></div>
<a id="pgfId-1068766"></a>You now have two tests, Setup and AC_DC in ADE Assembler. You can create multiple tests in ADE assembler in the same manner. You can click on the down blue down arrow symbol to the left of any test to open the test in ADE Explorer, as shown below.<br />
<a id="pgfId-1068006"></a><div class="webflare-div-image">
<img width="668" height="540" src="images/Chap2-16.gif" /></div></li></ol>



















































































<p>
<a id="pgfId-1068044"></a>When you click an Up arrow, you switch from the single-test ADE Explorer environment to the multi-test ADE Assembler environment. When you click a down arrow, you switch from the ADE Assembler multi-test environment back to the ADE Explorer single-test environment. ADE Assembler can be thought of as the place where multiple ADE states are created and managed. In this environment, you can run all or any subset of the tests that are defined. When you switch to the ADE Explorer environment, you are in the single-test equivalent of ADE L.</p>

<p>
<a id="pgfId-1067778"></a></p>
<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="Chap1.html" id="prev" title="Introduction">Introduction</a></em></b><b><em><a href="Chap3.html" id="nex" title="Frequency Domain Analyses: Harmonic Balance">Frequency Domain Analyses: Har ...</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2020, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>