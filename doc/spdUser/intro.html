
<html><head><title>Introduction to Symbolic Placement of Devices</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="sumehta" />
<meta name="CreateDate" content="2020-08-19" />
<meta name="CreateTime" content="1597902341" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes the functionality of Virtuoso Symbolic Placement of Devices in the current release." />
<meta name="DocTitle" content="Virtuoso Symbolic Placement of Devices User Guide" />
<meta name="DocType" content="User Guide" />
<meta name="FileTitle" content="Introduction to Symbolic Placement of Devices" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.2.1" />
<meta name="Keyword" content="spdUser" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2020-08-19" />
<meta name="ModifiedTime" content="1597902341" />
<meta name="NextFile" content="getstarted.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="preface.html" />
<meta name="c_product" content="Virtuoso Layout Suite" />
<meta name="Product" content="Virtuoso Layout Suite" />
<meta name="ProductFamily" content="Virtuoso Layout Suite" />
<meta name="ProductVersion" content="ICADVM20.1" />
<meta name="RightsManagement" content="Copyright 2012-2020 Cadence Design Systems Inc." />
<meta name="Title" content="Virtuoso Symbolic Placement of Devices User Guide -- Introduction to Symbolic Placement of Devices" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="ICADVM20.1" />
<meta name="SpaceKey" content="spdUserICADVM201" />
<meta name="webflare-version" content="2.0" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="spdUserTOC.html">Contents</a></li><li><a class="prev" href="preface.html" title="Preface">Preface</a></li><li style="float: right;"><a class="viewPrint" href="spdUser.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="getstarted.html" title="Getting Started with SPD">Getting Started with SPD </a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Virtuoso Symbolic Placement of Devices User Guide<br />Product Version ICADVM20.1, October 2020</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>1
<a id="pgfId-1028276"></a> </h1>
<h1>
<a id="pgfId-1028278"></a><hr />
<a id="77110"></a>Introduction to Symbolic Placement of Devices<hr />
</h1>

<p>
<a id="pgfId-1032040"></a>Virtuoso&#174; Symbolic Placement of Devices (SPD) is a symbolic row-based placer that displays only the necessary information required to perform device placement in the physical design environment. </p>
<p>
<a id="pgfId-1032051"></a>The main focus of this tool is to improve productivity of the layout designers by facilitating quick and easy placement of PMOS and NMOS devices in medium-sized designs comprising around 100 to 200 devices. The tool makes it simple to edit device placement, preview the updates made, and then generate a layout. </p>
<p>
<a id="pgfId-1058952"></a>This section covers the following topics:</p>
<ul><li>
<a id="pgfId-1058983"></a><a href="intro.html#84167">Benefits of using SPD</a></li><li>
<a id="pgfId-1059864"></a><a href="intro.html#35531">The SPD Flow</a></li><li>
<a id="pgfId-1058956"></a><a href="intro.html#75507">Prerequisites for Running SPD</a><ul><li>
<a id="pgfId-1058960"></a><a href="intro.html#32811">Source Schematic File</a></li><li>
<a id="pgfId-1059258"></a><a href="intro.html#22695">Configured Physical Hierarchy of Target Layout</a></li><li>
<a id="pgfId-1058964"></a><a href="intro.html#34904">Component Types</a></li><li>
<a id="pgfId-1059274"></a><a href="intro.html#63291">Parameter Name Mapping</a></li><li>
<a id="pgfId-1059285"></a><a href="intro.html#50196">Permute Rules</a></li><li>
<a id="pgfId-1059049"></a><a href="intro.html#65107">Layer Functions and Minimum Spacing Rules</a></li><li>
<a id="pgfId-1061832"></a><a href="intro.html#23809">Libraries Defined to Execute SPD</a></li><li>
<a id="pgfId-1062262"></a><a href="intro.html#70117">User-Defined Abutment Callback Functions (ICADVM18.1 Only)</a></li><li>
<a id="pgfId-1062266"></a><a href="intro.html#66366">User-Defined Flow Callback Functions</a></li></ul></li></ul>












<h2>
<a id="pgfId-1062269"></a><a id="BenefitsofusingSPD"></a><a id="84167"></a>Benefits of using SPD</h2>

<p>
<a id="pgfId-1060216"></a>SPD uses the intuitive &#8216;stick-diagram&#8217; methodology that lets the layout designers visualize a lighter layout, which is easier to understand and work with. </p>
<p>
<a id="pgfId-1060217"></a>The tool provides three main benefits:</p>
<ul><li>
<a id="pgfId-1060218"></a><strong>Symbolic</strong>: Symbolically-represented devices are easier to understand and manipulate than real ones.</li><li>
<a id="pgfId-1034722"></a><strong>Simplicity</strong>: The simple use model of the SPD commands enables device placement in just a few mouse clicks.</li><li>
<a id="pgfId-1034666"></a><strong>Speed</strong>: Editing in SPD is much faster than editing real devices on the main layout canvas. <br />
<a id="pgfId-1057979"></a>Due to the growing complexity of design rules for real devices, heavy computations are often involved starting from pcell evaluation to device placement. Several applications also perform complicated post-processing to ensure that every step is free of any DRC errors. SPD helps to avoid most of these tasks during editing; the complexity comes in only during preview when converting symbolic devices to real ones.</li></ul>




<h2>
<a id="pgfId-1059469"></a><a id="35531"></a>The SPD Flow</h2>

<p>
<a id="pgfId-1059470"></a>The basic SPD flow, involves following tasks:</p>
<ol><li>
<a id="pgfId-1059471"></a>Select the devices you want to edit in Schematic XL. </li><li>
<a id="pgfId-1059472"></a>Launch SPD to view the symbolic representation of the selected devices.</li><li>
<a id="pgfId-1059473"></a>Place the selected devices to meet your requirements by performing tasks such as, abutting, swapping, stacking, and flipping devices. </li><li>
<a id="pgfId-1059474"></a>Preview the edited layout. </li><li>
<a id="pgfId-1059475"></a>Make any required adjustments to the placement in the SPD window.</li><li>
<a id="pgfId-1059476"></a>When you are satisfied with the results, generate the layout.<br />
<a id="pgfId-1059480"></a><div class="webflare-div-image">
<img width="668" height="545" src="images/intro-2.gif" /></div></li></ol>









<p>
<a id="pgfId-1059461"></a>For a video on SPD flow, see <h-hot><a actuate="user" class="URL" href="https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1Od000000056KaEAI&amp;pageName=ArticleContent&amp;sq=005d0000001T41wAAC_20171134654586" show="replace" xml:link="simple">Getting Started with Symbolic Placement of Devices</a></h-hot> on Cadence Online Support.</p>

<h2>
<a id="pgfId-1059880"></a><a id="75507"></a>Prerequisites for Running SPD</h2>

<p>
<a id="pgfId-1046763"></a>SPD can run only on a Layout XL compliant PDK library that includes well-defined component types, parameter name mappings, permute rules, layer functions, and minimum spacing rules. This section discusses prerequisites for running SPD in detail. </p>

<h3>
<a id="pgfId-1059145"></a><a id="32811"></a>Source Schematic File</h3>

<p>
<a id="pgfId-1046765"></a>You can launch SPD directly from an existing layout, however, the source schematic is always needed as a reference. If some instance parameters in the layout instances are different from those in the schematic, SPD will always take the values from the schematic.</p>

<h3>
<a id="pgfId-1059206"></a><a id="22695"></a>Configured Physical Hierarchy of Target Layout</h3>

<p>
<a id="pgfId-1059207"></a>The SPD launch process refers to the physical configuration (CPH) of the target layout and carries it to the next session when the <em>Reuse Window for Faster Relaunch</em> option is enabled in <a href="forms.html#93832">Setup Options</a> Pane. </p>
<p>
<a id="pgfId-1059198"></a>If for any reason, the setting for target layout is modified in CPH, you must disable the <em>Reuse Window for Faster Relaunch</em> option and re-launch SPD for the new physical configuration take effect.</p>

<h3>
<a id="pgfId-1059136"></a><a id="34904"></a>Component Types</h3>

<p>
<a id="pgfId-1046766"></a>SPD supports the following component types for cells. These component types must be set before running SPD.</p>
<ul><li>
<a id="pgfId-1046768"></a>PMOS</li><li>
<a id="pgfId-1046769"></a>NMOS</li><li>
<a id="pgfId-1046770"></a>PFIN (ICADVM20.1 Only) </li><li>
<a id="pgfId-1046771"></a>NFIN (ICADVM20.1 Only) </li></ul>



<p>
<a id="pgfId-1046772"></a>To check component types, in the Layout XL window, choose <em>Edit &#8211; Component Types</em> to display the Configure Physical Hierarchy window in Component Types mode. </p>
<p>
<a id="pgfId-1046773"></a>For more information on defining and assigning component types, see <h-hot><a actuate="user" class="URL" href="../vxlhelp/chap4.html#firstpage" show="replace" xml:link="simple">Configuring the Physical Hierarchy</a></h-hot>, in the <em>Virtuoso Layout Suite XL User Guide</em>.</p>

<h3>
<a id="pgfId-1046775"></a><a id="63291"></a>Parameter Name Mapping</h3>

<p>
<a id="pgfId-1046917"></a>To run SPD, you need to:</p>
<ul><li>
<a id="pgfId-1050534"></a><a href="intro.html#32313">Set width parameter name.</a></li><li>
<a id="pgfId-1050535"></a><a href="intro.html#26171">Set finger parameter name.</a></li><li>
<a id="pgfId-1047467"></a><a href="intro.html#28771">Set multiplication factor parameter name.</a></li><li>
<a id="pgfId-1060577"></a><a href="intro.html#69083">Check the Evaluate CDF callbacks during generation and update option.</a></li></ul>



<p>
<a id="pgfId-1046919"></a>To check the these parameters, in the Layout XL window:</p>
<ol><li>
<a id="pgfId-1046953"></a>Choose <em>Options &#8211; Layout XL &#8211; Parameters.</em><br />
<a id="pgfId-1050227"></a><div class="webflare-div-image">
<img width="639" height="468" src="images/intro-3.gif" /></div></li><li>
<a id="pgfId-1046966"></a><a id="32313"></a>Set width parameter name.<ul><li>
<a id="pgfId-1050714"></a>In the <em>Schematic Parameter Names </em>group box, choose <em>Transistor</em> from the drop-down list and ensure that the correct <code>width</code> value is set.<br /><ffi2-fig-frame-in-2 id="#id1050642">
<a id="pgfId-1050642"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="669" height="96" src="images/intro-4.gif" /></div></li><li>
<a id="pgfId-1050177"></a>Use the following environment variable: <br /><pre class="webflare-pre-block webflare-courier-new" id="#id1050178">
<a id="pgfId-1050178"></a>envSetVal(&quot;layoutXL&quot; &quot;transistorWidthParamNames&quot; &#39;string &quot;width_names&quot;)</pre></li></ul></li><li>
<a id="pgfId-1050991"></a><a id="26171"></a>Set finger parameter name.<ul><li>
<a id="pgfId-1050992"></a>In the <em>Schematic Parameter Names </em>group box, choose <em>Fingers</em> from the drop-down list and ensure that correct <code>Fingers Tex</code>t combination value is set.<br /><ffi2-fig-frame-in-2 id="#id1050996">
<a id="pgfId-1050996"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="669" height="93" src="images/intro-5.gif" /></div></li><li>
<a id="pgfId-1050997"></a>Use the following environment variable: <br /><pre class="webflare-pre-block webflare-courier-new" id="#id1050998">
<a id="pgfId-1050998"></a>envSetVal(&quot;layoutXL&quot; &quot;lxFingeringNames&quot; &#39;string &quot;num_of_fingers_names&quot;)</pre></li></ul></li><li>
<a id="pgfId-1051013"></a><a id="28771"></a>Set multiplication factor parameter name.<ol><li>
<a id="pgfId-1056005"></a>In the <em>Schematic Parameter Names </em>group box, choose <em>Parallel-connected factor Text </em>from the drop-down list and ensure that correct <code>Parallel-connected factor Text</code> combination value is set.<br /><ffi2-fig-frame-in-2 id="#id1051018">
<a id="pgfId-1051018"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="669" height="85" src="images/intro-6.gif" /></div></li></ol></li></ol>

































<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1046792"></a>Values set here should match the parameter names in the PDK libraries being used.</div>

<ol><li>
<a id="pgfId-1060254"></a><a id="69083"></a>Check the Evaluate CDF callbacks during generation and update option.<ol><li>
<a id="pgfId-1060255"></a>In the <em>Component Description Format </em>group box, check <em>Evaluate CDF callbacks </em>during generation and update option.<br /><ffi2-fig-frame-in-2 id="#id1060259">
<a id="pgfId-1060259"></a></ffi2-fig-frame-in-2><div class="webflare-div-image">
<img width="669" height="90" src="images/intro-7.gif" /></div></li></ol></li></ol>








<h3>
<a id="pgfId-1055827"></a><a id="50196"></a>Permute Rules</h3>

<p>
<a id="pgfId-1046793"></a>The permuteRule property must be defined for the instances in the design to make the instance pins or terminals permutable.</p>
<p>
<a id="pgfId-1057419"></a>For information on how to check and add a permuteRule, see <h-hot><a actuate="user" class="URL" href="../vxlhelp/chap9.html#xlComplCheck" show="replace" xml:link="simple">Checking XL Compliance</a></h-hot> and <h-hot><a actuate="user" class="URL" href="../vxlhelp/appC.html#addPermuteRule" show="replace" xml:link="simple">permuteRule</a></h-hot> in <em>Virtuoso Layout Suite XL User Guide</em>. </p>

<h3>
<a id="pgfId-1057421"></a><a id="65107"></a>Layer Functions and Minimum Spacing Rules</h3>

<p>
<a id="pgfId-1048022"></a>To run SPD, certain material functions and their layers must be specified in the technology file. It is also important that minimum spacing rules are set correctly for these layers. </p>
<p>
<a id="pgfId-1047486"></a>The following are mandatory functions that must be included in the technology file:</p>
<ul><li>
<a id="pgfId-1047497"></a><code>metal</code></li><li>
<a id="pgfId-1046801"></a><code>diff</code><ul><li>
<a id="pgfId-1046802"></a>Layers of <code>diff</code> function must also be defined in the technology file.</li><li>
<a id="pgfId-1047885"></a>If the minimum spacing rule of the layer is not available, you will have to adjust it manually in SPD by setting the value of the <em>X:OD</em> field in the <a href="forms.html#81480">Generation Options</a> pane.</li></ul></li></ul>



<p>
<a id="pgfId-1046804"></a>The following are optional functions that can be included in the technology file:</p>
<ul><li>
<a id="pgfId-1046805"></a><code>ndiff</code><ul><li>
<a id="pgfId-1047879"></a>If the minimum spacing rule of the <code>ndiff</code> layer is not available, you can set it manually in SPD by setting the value of the <em>POD-NOD</em> field in the <a href="forms.html#81480">Generation Options</a> pane.</li></ul></li><li>
<a id="pgfId-1046807"></a><code>pdiff</code><ul><li>
<a id="pgfId-1047873"></a>If the minimum spacing rule of the <code>pdiff</code> layer is not available, you will have to adjust it manually in SPD by setting the value of the <em>POD-NOD</em> in the <a href="forms.html#81480">Generation Options</a> pane.</li></ul></li><li>
<a id="pgfId-1046809"></a><code>poly</code><ul><li>
<a id="pgfId-1047928"></a>If the minimum spacing rule of the <code>poly</code> layer is not available, you will have to adjust it manually in SPD by setting the value of the <em>Stack Spacing</em> field in the <a href="forms.html#81653">Stack Options</a> pane.</li><li>
<a id="pgfId-1046811"></a>(ICADVM20.1 Only) If the minimum spacing rule of the <code>poly</code> layer is not available, you may have incorrect placement results if you specify value of the <em>X: OD</em> option as <code>DummyPoly</code> in <a href="forms.html#81480">Generation Options</a> pane.</li></ul></li><li>
<a id="pgfId-1048054"></a><code>nwell</code><ul><li>
<a id="pgfId-1048055"></a>This value is required when the <em>Prevent well shorts </em>is set in the<em> </em><a href="forms.html#81480">Generation Options</a> pane.</li></ul></li><li>
<a id="pgfId-1048056"></a><code>pwell</code><ul><li>
<a id="pgfId-1046815"></a>This value is required when the <em>Prevent well shorts</em> is set in the <a href="forms.html#81480">Generation Options</a> pane.</li></ul></li></ul>










<p>
<a id="pgfId-1051480"></a>For more information on defining layer functions, see <h-hot><a actuate="user" class="URL" href="../ascitechfile/chap4.html#functions" show="replace" xml:link="simple">Layer Rules</a></h-hot> in <em>Virtuoso Technology Data ASCII Files Reference</em>.</p>
<p>
<a id="pgfId-1046817"></a>For more information on defining minimum spacing rules, see <h-hot><a actuate="user" class="URL" href="../ascitechconstr/constr_spacing_oneLayer.html#minSpacing_oneLayer" show="replace" xml:link="simple">minSpacing</a></h-hot> in <em>Virtuoso Technology Data ASCII Files Reference</em>.</p>

<h3>
<a id="pgfId-1061773"></a><a id="23809"></a>Libraries Defined to Execute SPD</h3>

<p>
<a id="pgfId-1061774"></a>SPD defines two libraries in cds.lib, <code>cdsSymbolicDevice</code> and <code>cdsSymbolicLib</code>.</p>

<h4>
<a id="pgfId-1061775"></a>cdsSymbolicDevice</h4>

<p>
<a id="pgfId-1061776"></a>The following entry is added to cds.lib:</p>
<p>
<a id="pgfId-1061777"></a><code>DEFINE cdsSymbolicDevice $CDS_INST_DIR/tools/dfII/etc/cdslib/cdsSymbolicDevice</code></p>
<p>
<a id="pgfId-1061778"></a>Symbolic device is an instance that creates a relationship between schematic devices and the layout instance. This library is essential for SPD to work because it contains the symbolic devices used in SPD, which are compatible with the current tool version. This entry is not added to cds.lib by default. It is added automatically when SPD is launched. </p>

<h4>
<a id="pgfId-1061779"></a>cdsTmpSymbolicLib</h4>

<p>
<a id="pgfId-1061780"></a>The following entry is added to cds.lib:</p>
<p>
<a id="pgfId-1061781"></a><code>DEFINE cdsTmpSymbolicLib ./.cadence/dfII/spd/cdsTmpSymbolicLib</code></p>
<p>
<a id="pgfId-1061782"></a>This is the default temporary library required to process SPD. Information from the working schematic and layout cellview is copied to this library and then, used to build a relationship, such as in the CPH file. </p>
<p>
<a id="pgfId-1061783"></a>This library gives user the write permission to save updates made in SPD or save recovery information in case of a crash. </p>
<p>
<a id="pgfId-1061758"></a>In case, you don&#39;t want to use the default temporary library, you can specify a different library using the <a href="envar.html#92115">spdDesignLibName</a> environment variable.</p>

<h3>
<a id="pgfId-1061764"></a><a id="70117"></a>User-Defined Abu<a id="userAbutmentCallback"></a>tment Callback Functions (ICADVM20.1 Only) </h3>

<p>
<a id="pgfId-1046819"></a>For PDK-specific abutments, such as dummy poly abutment, other than the regular oxide diffusion (OD) abutment, you will also need to define your own custom abutment callback functions. To enable user-defined abutment, you must load the callback functions required by the <a href="../sklayoutref/spd.html#spdRegUserAbutProc">spdRegUserAbutProc</a> SKILL function and register them before launching SPD. Otherwise, only oxide diffusion abutment will take place. <a id="47747"></a><a id="68394"></a><a id="LaunchingSPD"></a><a id="33976"></a></p>

<h3>
<a id="pgfId-1061256"></a><a id="66366"></a>User-Defined Fl<a id="userFlowCallback"></a>ow Callback Functions</h3>

<p>
<a id="pgfId-1061273"></a>SPD also supports user flow callbacks that further help in customizing the design in specific steps of the SPD flow. For more information, see <h-hot><a actuate="user" class="URL" href="../sklayoutref/spd.html#userFlowCallBack" show="replace" xml:link="simple">User Flow Callback Functions</a></h-hot> in <em>Virtuoso Layout Suite SKILL Reference</em> and the environment variable <a href="envar.html#24658">launchRunOnce</a>.</p>
<p>
<a id="pgfId-1061475"></a>For a video on user-defined abutment and callback functions, see <h-hot><a actuate="user" class="URL" href="https://support.cadence.com/apex/ArticleAttachmentPortal?id=a1Od00000066MHdEAM&amp;pageName=ArticleContent&amp;sq=005d0000001T41wAAC_20171134339413" show="replace" xml:link="simple">Using User-Defined Abutment and Callback Functions in SPD</a></h-hot> on Cadence Online Support.</p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="preface.html" id="prev" title="Preface">Preface</a></em></b><b><em><a href="getstarted.html" id="nex" title="Getting Started with SPD">Getting Started with SPD </a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2020, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>