
<html><head><title>Generating a Library</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="rgirdhar" />
<meta name="CreateDate" content="2020-08-14" />
<meta name="CreateTime" content="1597435532" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes reference information about the Open Simulation System, which gives easy access to simulators supported by the Open simulation System and lets you customize and integrate new simulators into the Cadence system." />
<meta name="DocTitle" content="Open Simulation System Reference" />
<meta name="DocType" content="Reference" />
<meta name="FileTitle" content="Generating a Library" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.2.1" />
<meta name="Keyword" content="ossref" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2020-08-14" />
<meta name="ModifiedTime" content="1597435532" />
<meta name="NextFile" content="appA.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="chap8.html" />
<meta name="c_product" content="Virtuoso Schematic Editor" />
<meta name="Product" content="Virtuoso Schematic Editor" />
<meta name="ProductFamily" content="Virtuoso Schematic Editor" />
<meta name="ProductVersion" content="ICADVM20.1" />
<meta name="RightsManagement" content="Copyright 2012-2020 Cadence Design Systems Inc." />
<meta name="Title" content="Open Simulation System Reference -- Generating a Library" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="ICADVM20.1" />
<meta name="SpaceKey" content="ossrefICADVM201" />
<meta name="webflare-version" content="2.0" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="ossrefTOC.html">Contents</a></li><li><a class="prev" href="chap8.html" title="Customizing Post-Layout Simulation">Customizing Post-Layout Simula ...</a></li><li style="float: right;"><a class="viewPrint" href="ossref.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="appA.html" title="Support for HED">Support for HED </a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Open Simulation System Reference<br />Product Version ICADVM20.1, October 2020</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>9
<a id="pgfId-1032656"></a></h1>
<h1>
<a id="pgfId-1032660"></a><hr />
Generating a Library<hr />
</h1>

<p>
<a id="pgfId-1032661"></a>Before you can generate a netlist for input to your simulator, you must create a complete library of <a id="marker-1032662"></a>simulation primitives for your simulator.<a id="marker-1032663"></a> You must have a <em>symbol</em><a id="marker-1032664"></a> view for each simulation primitive in the library to use during schematic entry. You must also have a <em>simulation</em><a id="marker-1032665"></a> view for each simulator that is being integrated into the simulation environment. </p>
<p>
<a id="pgfId-1032666"></a>The simulation view contains formatting information for the Simulation Environment (SE) netlisters. The view may also contain property definitions for default simulation attributes, (such as delays for logic simulation and timing analysis, and transistor widths and lengths for circuit simulation). Depending on how you use the primitives in the Cadence system, you can create other views of them, for example, the <em>layout</em> view and the view. </p>
<p>
<a id="pgfId-1032667"></a>System-supplied subcircuits are also included in the library. A <em>symbol</em> view for each subcircuit is usually used for schematic entry. There can be a <em>schematic</em><a id="marker-1032668"></a> view associated with each subcircuit symbol in the subcircuit design. Whether a schematic view is required or not depends on the simulator. For example, if the simulator can handle subcircuit definitions explicitly (and system-supplied subcircuits can be predefined and saved), a schematic view is not necessary.</p>
<p>
<a id="pgfId-1032670"></a>To assist with building your own library, Cadence provides the <a id="marker-1032669"></a>Symbol/Simulation Library Generator (S/SLG) utility program as part of the schematic entry package. S/SLG can generate symbols for schematic entry, as well as generate simulation views. S/SLG reduces the effort required for creating and maintaining the symbol and simulation library. Refer to the <em><a actuate="user" class="URL" href="../comphelp/comphelpTOC.html#firstpage" show="replace" xml:link="simple">Virtuoso Schematic Editor L User Guide</a></em> for details about S/SLG. </p>
<p>
<a id="pgfId-1032671"></a>This chapter reviews the library structure used by the Cadence simulation environment and describes the procedure for creating and maintaining libraries for specific simulators.</p>

<h2>
<a id="pgfId-1032674"></a>Library Structure Overview<a id="Library Structure Overview"></a> </h2>

<p>
<a id="pgfId-1032677"></a>A library is a collection<a id="marker-1032675"></a> of design objects. There are two types of <a id="marker-1032676"></a>libraries: the reference library and the design library. Both libraries have the same internal structures and are accessed through the same mechanism. Design objects in the reference library are verified elements, and you can consider them as standard components. Reference libraries are usually shared among various designs. Although reference libraries can change, they are much more stable than the design objects you are developing. Conversely, design objects in the design library are dynamic, and subject to frequent change.</p>
<p>
<a id="pgfId-1032681"></a>A design library is organized in four levels, as shown in <h-hot><a href="chap9.html#19621"></a><xrefstd>Figure&#160;9-1<h-hot /></xrefstd></h-hot>. </p>

<p><strong>Figure 9-1
<a id="pgfId-1032683"></a><a id="19621"></a>Structure of Cadence Model Library</strong></p>
<p>
<a id="pgfId-1032715"></a></p>
<div class="webflare-div-image">
<img width="260" height="304" src="images/chap9-2.gif" /></div>

<ul><li>
<a id="pgfId-1032716"></a>On the first level, a design library is identified by its location and its name.</li><li>
<a id="pgfId-1032717"></a>On the second level, a design library can contain a set of cells (NAND gate, NOR gate, etc.) and a set of views (schematic, layout, etc.).</li><li>
<a id="pgfId-1032718"></a>On the third level, a cellview is a data file that is created in association with a cell and a view.</li><li>
<a id="pgfId-1032719"></a>On the fourth level, version information is maintained about each cellview.</li></ul>



<p>
<a id="pgfId-1032721"></a><a id="marker-1032720"></a>Design data is accessed through a library mapping scheme. Each library keeps a catalog of a cell, view, and version information, together with the access path of the data files. Data files can reside in different directories, or even on different nodes. To access a specific data file, you only need to refer to its logical name, which is defined by the items (library, cell, view, and version). <h-hot><a href="chap9.html#28282"></a><xrefstd>Figure&#160;9-2<h-hot /></xrefstd></h-hot> shows the interaction between you and the library.</p>

<p><strong>Figure 9-2
<a id="pgfId-1032726"></a><a id="28282"></a>Interaction With the Library</strong></p>
<p>
<a id="pgfId-1032841"></a></p>
<div class="webflare-div-image">
<img width="511" height="496" src="images/chap9-3.gif" /></div>
<h3>
<a id="pgfId-1032843"></a>Data Organization<a id="Data Organization"></a></h3>

<p>
<a id="pgfId-1032845"></a>Design library data is located<a id="marker-1032844"></a> in a system directory, where library files and design management information are kept. Design library provides <a id="marker-1032846"></a>a logical view of the library data files, and a central location for accessing design data. All design objects are referenced through logical names (e.g., 2-input-NAND). The system maintains a mapping from the logical name to its physical representation (i.e., the directory path. The directory structure of the design library has a default organization, as shown in <a href="chap9.html#28508">Figure&#160;9-3</a>.</p>

<p><strong>Figure 9-3
<a id="pgfId-1032851"></a><a id="28508"></a>Design Library Directory Structure</strong></p>
<p>
<a id="pgfId-1032893"></a></p>
<div class="webflare-div-image">
<img width="433" height="391" src="images/chap9-4.gif" /></div>
<h3>
<a id="pgfId-1032895"></a>Library Directory Contents<a id="Library Directory Contents"></a></h3>

<p>
<a id="pgfId-1032897"></a>The design library directory contains: <a id="marker-1032896"></a></p>
<ul><li>
<a id="pgfId-1032898"></a>one subdirectory for each cell in the library except those cells which are relocated to other locations.</li><li>
<a id="pgfId-1032899"></a>one library file, which keeps high-level summary information about the design library. Typical objects stored in the library file are cell catalog, version information of cells, cell status, and technology data.</li><li>
<a id="pgfId-1032900"></a>one directory for storing library attached files.</li><li>
<a id="pgfId-1032901"></a>audit trail files.</li></ul>




<h3>
<a id="pgfId-1032904"></a><a id="marker-1032902"></a>Logical Name to Physical Path Name Mapping<a id="Logical Name to Physical Path Name Mapping"></a></h3>

<p>
<a id="pgfId-1032906"></a>A logical name <a id="marker-1032905"></a>is used to identify a design object for both application programs and end users. The logical name of a design object consists of three components:</p>
<ul><li>
<a id="pgfId-1032907"></a>cell name</li><li>
<a id="pgfId-1032908"></a>view type (e.g., schematic, layout...)</li><li>
<a id="pgfId-1032909"></a>version number (provided by you or the application programmer, or determined by the design management system).</li></ul>


<p>
<a id="pgfId-1032910"></a>With these three components and a predefined domain (library identifier), the design management system will automatically translate a logical name into a path name leading to the physical storage location of the data file. In addition to the default cellview mapping scheme, you are allowed to have your own customized name mapping function attached to the library through provided SKILL functions. This allows you to fully control the data file allocation scheme.</p>

<h3>
<a id="pgfId-1032912"></a>Cell<a id="Cell"></a></h3>

<p>
<a id="pgfId-1032915"></a>The library directory contains cells which are <a id="marker-1032913"></a>devices to be used in a design.<a id="marker-1032914"></a> The devices can be the primitives of your simulator. They can also be higher-level building cells, that is, subcircuits made up of primitives or other higher-level building cells. Whether a cell is a simulator primitive or a subcircuit depends on the simulator. Different views of the same cell (schematic and layout) are stored under the same directory so that information associated with a cell is grouped together. Library files containing high-level summary information of design data are stored in the library directory. Cells of a design library are directories one level below the design library. Views of all cells are stored in files in the cell directory.</p>
<p>
<a id="pgfId-1032916"></a>Each cell is a subdirectory under the design library. The cell subdirectory name is the cellname. Under the cell subdirectory are various views of the device. The cellname should reflect the device name. During schematic editing, the system searches under the callname for symbols for device instances. For netlisting, the SE netlister searches for cells that are device instances in a schematic. Once a cell is located, the SI netlister retrieves netlist formatting information germane to the simulator.</p>

<h3>
<a id="pgfId-1032919"></a><a id="marker-1032917"></a>Views<a id="Views"></a></h3>

<p>
<a id="pgfId-1032921"></a>Each <a id="marker-1032920"></a>device view contains information on that device, and is a subdirectory under the device cell directory. The viewname (the view subdirectory) should reflect the information that the view contains. The Cadence system uses other views. For example, the layout editor uses the <em>layout</em> view. The simulation <em>views</em><a id="marker-1032922"></a>, <em>spice</em>, <em>silos</em>, <em>hilo</em>, and <em>ta</em> are for netlisting to simulators that are integrated into the Cadence simulation environment. When you integrate a new simulator, you must create a simulation view for it for each simulation primitive supported by the simulator.</p>

<h3>
<a id="pgfId-1032925"></a><a id="marker-1032923"></a>Version<a id="Version"></a></h3>

<p>
<a id="pgfId-1032926"></a>Under each cellview are various versions of the view. Each version of the device is a file under the view directory. The version name is the name of the file. Each version may contain a different version of the device, and the latest version is called &#8220;current.&#8221;</p>

<h2>
<a id="pgfId-1032929"></a>Library Element Views <a id="Library Element Views"></a></h2>

<p>
<a id="pgfId-1032930"></a>Certain views are required when you integrate a simulator to the Cadence environment. This section summarizes the views you must create to invoke a library for that simulator.</p>

<h3>
<a id="pgfId-1032932"></a>Symbol Views<a id="Symbol Views"></a></h3>

<p>
<a id="pgfId-1032934"></a>You need to create a cell in the library for each <a id="marker-1032933"></a>simulation primitive of the simulator being integrated. To design circuits in terms of the simulation primitives, you must create a <a id="marker-1032935"></a>symbol view for each of them. During schematic editing, symbols of the simulation primitives can be instantiated for building the schematic.</p>

<h3>
<a id="pgfId-1032937"></a>Simulation Views<a id="Simulation Views"></a></h3>

<p>
<a id="pgfId-1032938"></a>For each new simulator being integrated into the Cadence environment, you need to define a <a id="marker-1032939"></a>simulation view for each device that is a primitive of the simulator. For example, in the Cadence sample library, there is a <code>silos</code> view for each SILOS primitive of the SILOS simulator. The viewname should be the same as the simulator.</p>
<p>
<a id="pgfId-1032940"></a>Each simulation view contains the appropriate netlist formatting properties for the element. These formatting properties enable the SE netlisters to produce<a id="marker-1032941"></a> netlists with the required syntax. Netlist formatting properties can be either an <code>nlpExpr</code> or an <code>ilExpr</code> property. For example, the <em>silos</em> view of the AND2 gate has the following netlisting properties:</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1032942"></a>Input_Pin_List  =  nlpExpr(&quot;[@lfA:%*][|A]  <br />   [@lfB:%*][|B]&quot;) NLPElementPostamble  =<br />    nlpExpr(&quot;[@SILOS_AND_Image]&quot;) Pin_Net_Map  =  <br />   nlpExpr(&quot;\\n$ 1 [|Y]=Y [|A]=A [|B]=B&quot;) <br />hnlSilosFormatInst&#160;&#160;=&#160;&#160;&quot;hnlSilosPrintLogGate(\&quot;AND\&quot;)&quot;</pre>

<p>
<a id="pgfId-1032943"></a>The required netlist formatting properties and the syntax for format instructions to the SE Flat and Hierarchical netlisters are discussed in the &#8220;Customizing the Hierarchical Netlister (HNL)&#8221; and &#8220;Customizing the Flat Netlister (FNL)&#8221; chapters in this manual.</p>
<p>
<a id="pgfId-1032945"></a>In the <a id="marker-1032944"></a>simulation view, you can also specify default values for netlist parameters used by the simulator, such as propagation delays and rise and fall delays.</p>

<h3>
<a id="pgfId-1032947"></a>Subcircuit Primitive Views<a id="Subcircuit Primitive Views"></a></h3>

<p>
<a id="pgfId-1032949"></a>When you design with <a id="marker-1032948"></a>subcircuit primitives, in effect you are creating hierarchical designs. A particular simulator may or may not have facilities for handling subcircuit primitives. For simulators such as SILOS, you can define subcircuit primitives and save them in a file. Then you can invoke them in the netlist as if the subcircuits are primitives of the simulator.</p>
<p>
<a id="pgfId-1032951"></a>For simulators that can handle subcircuit primitives, treat them like <a id="marker-1032950"></a>simulation primitives in the library. For each subcircuit primitive you create a simulation view of the cell. This view should contain netlist formatting properties for the subcircuit primitive invocation. The view can also have default delays similar to the simulation view for a simulation primitive.</p>
<p>
<a id="pgfId-1032952"></a>If your simulator cannot handle subcircuit primitives explicitly, you can enter the subcircuit primitive definitions as a <a id="marker-1032953"></a>schematic view in the Cadence system. You should give this view a special name to designate it as a subcircuit primitive associated with the specific simulator. In particular, this name is required if the library is to be used by multiple simulators with different levels of abstraction in modeling their primitives. </p>
<p>
<a id="pgfId-1032954"></a>In the Cadence-provided sample library, the <em>cmos.sch</em> views are subcircuits defined in terms of circuit-level primitives. For example, the AND2 cell contains an <em>and2/cmos.sch</em> view which is a transistor-level circuit of the AND2 gate. These views are used by simulators such as SPICE and HSPICE. There are views called <em>gate.sch</em>. For example, the <em>aoi21/gate.sch</em> view is a gate-level circuit for the complex AOI gate. These views are subcircuits defined in terms of logic-level primitives and are used by simulators such as HILO3™. Notice that AOI21 is a primitive for SILOS; therefore, there is also a <em>silos</em> view for the AOI21 gate. When the SE netlisters generate a netlist for SILOS, the aoi21 gate is output as a component. On the other hand, when a HILO3 netlist is generated, the AOI21 gate is output as a subcircuit.</p>
<p>
<a id="pgfId-1032956"></a><a id="marker-1032955"></a>The view switching mechanism in SE enables the SE netlisters to expand the design hierarchy for schematics containing high-level building cells. As discussed in the &#8220;Customizing the Flat Netlister (FNL)&#8221; chapter in this manual, the <code>simViewList</code> and <code>simStopList</code> SE variables control the hierarchy expansion process during netlisting. Declare the <em>subcircuit</em> view a member of the <code>simViewList</code>. Then, the netlisters can switch into the subcircuit view during expansion, if required. The precise algorithm for view switching is discussed in the &#8220;Customizing the Flat Netlister (FNL)&#8221; chapter in this manual. For example, if the following declarations for the SE variables <code>simViewList</code> and <code>simStopList</code> are entered in the SPICE simulator, </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1032957"></a>simViewList  =  &#39;(&quot;spice&quot;  &quot;cmos.sch&quot;  &quot;schematic&quot;)<br />simStopList = &#39;(&quot;spice&quot;)</pre>

<p>
<a id="pgfId-1032958"></a>the netlister stops at cells that have a <em>spice</em> view. If there is no spice view, it expands a cmos.sch view. If neither a <em>spice</em> nor <em>cmos.sch</em> view exists, the <em>schematic</em> view is expanded.</p>

<h2>
<a id="pgfId-1032961"></a>Creating Your Own Library <a id="Creating Your Own Library"></a></h2>

<p>
<a id="pgfId-1032964"></a><a id="marker-1032962"></a>Cadence supplies a standard <a id="marker-1032963"></a>sample library to support Cadence tools. This standard library is located in the Cadence hierarchy under the <br /><code>etc/cdslib/samples</code> directory. One way to build a library for your target simulator is to augment the Cadence sample library with information germane to your simulator. This requires adding new cells and symbols for the simulator primitives that are not already in the Cadence sample library. It also requires creating simulation views for all simulation primitives of your simulator.<a id="marker-1032965"></a></p>
<p>
<a id="pgfId-1032967"></a><a id="marker-1032966"></a>You can also create your own stand-alone library. You need to create a cell for each simulation primitive. You should create a symbol view and simulation view for each cell. If you use FNL to create a netlist, you should also create an <code>nlpglobals</code> cell, as outlined in the &#8220;Customizing the Flat Netlister (FNL)&#8221; chapter in this manual. Make sure that the full path names to your libraries are specified in the cell search path.<a id="marker-1032968"></a></p>
<p>
<a id="pgfId-1032970"></a>The <a id="marker-1032969"></a>S/SLG program supports library creation and maintenance. Use S/SLG for symbol and simulation view generation. Store S/SLG commands for symbol and simulation view generation in a library command file and load them into the S/SLG program for execution. You can run S/SLG either within the Cadence graphics environment or in the UNIX environment. To load an S/SLG command file inside the Cadence graphics environment, you can type in a single command (or a sequence of commands), press [RETURN], and that command (sequence of commands) is immediately executed (refer to the Design Entry manual for the complete procedure). When you prepare a library command file containing a set of S/SLG or IL commands, you can load this file into the S/SLG program. Each command in the file is sequentially executed. To load a file, type the command</p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1032971"></a>lmLoadData( &quot;myFile.lm&quot; &quot;myLib&quot; &quot;&quot; &quot;&quot; &quot;a&quot; )</pre>

<p>
<a id="pgfId-1032972"></a>The <code>lmLoadData</code> command is used to load a given S/SLG command file when running the library management program in the Cadence environment; <code>myFile.lm</code> is the filename; <code>myLib</code> is the library name you are working on.</p>
<p>
<a id="pgfId-1032973"></a>The <code>lmLoadData</code> function opens the specified library before loading the command file and closes the library when completed. It provides you with a quick way to execute all commands in the command file, however, you must use <code>lmOpenLib()</code> before invoking any S/SLG commands and <code>lmCloseLib()</code> when you are done.<a id="marker-1032974"></a></p>
<p>
<a id="pgfId-1032975"></a>The S/SLG program can be run as a stand-alone program in the UNIX environment. To run commands other than <code>lmDefCell</code>, run S/SLG in the UNIX environment to display output quickly. You can also switch between the stand-alone S/SLG program and the UNIX environment. Refer to the <h-hot><a actuate="user" class="URL" href="../comphelp/appC.html#firstpage" show="replace" xml:link="simple">Virtuoso Schematic Editor L</a></h-hot> for more information.</p>

<h3>
<a id="pgfId-1032978"></a>Symbol Generation<a id="Symbol Generation"></a></h3>

<p>
<a id="pgfId-1032980"></a>You create a <em>symbol</em><a id="marker-1032979"></a> view by drawing a graphic symbol of a device using the Cadence schematic editor. This process lets you create different shapes for device symbols. The procedure for creating symbols with the Cadence schematic editor is discussed in the<a id="marker-1032981"></a> <h-hot><a actuate="user" class="URL" href="../comphelp/appC.html#firstpage" show="replace" xml:link="simple">Virtuoso Schematic Editor L</a></h-hot> guide.</p>
<p>
<a id="pgfId-1032984"></a>Conversely, you can use<a id="marker-1032982"></a> S/SLG for symbol generation by using its<a id="marker-1032983"></a> <code>lmDefcell</code> command for drawing symbols. For example, to create a symbol view for an AND2 gate with inputs <code>in1</code> and <code>in2</code> and output <code>out</code>, use the command shown here: </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1033600"></a>lmDefcell( and2<br />input(in1 in2)<br />output(out) <br />)</pre>

<p>
<a id="pgfId-1033601"></a>You can also add other information to the symbol view. Refer to the <h-hot><a actuate="user" class="URL" href="../comphelp/appC.html#firstpage" show="replace" xml:link="simple">Virtuoso Schematic Editor L</a></h-hot> for the syntax and applications of the <code>lmDefcell</code> command.</p>

<h3>
<a id="pgfId-1033603"></a>View Generation<a id="View Generation"></a></h3>

<p>
<a id="pgfId-1032991"></a>Use the <a id="marker-1032989"></a>S/SLG <code>lmSimView</code> command to create simulation views. For example, to generate a SILOS view for an AND2 gate using the symbol view of the AND2 gate as a template, use the following command:<a id="marker-1032990"></a></p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1032992"></a>lmSimView(  AND2 symbol silos<br />Input_Pin_List  =  nlpExpr(&quot;[@lfA:%*][|A] [@lfB:%*][|B]&quot;)<br />NLPElementPostamble  =  nlpExpr(&quot;[@SILOS_AND_Image]&quot;)<br />Pin_Net_Map  =  nlpExpr(&quot;\\n$ 1 [|Y]=Y [|A]=A [|B]=B&quot;)<br />hnlSilosFormatInst  =  &quot;hnlSilosPrintLogGate(\&quot;AND\&quot;)&quot;<br />)</pre>

<p>
<a id="pgfId-1032993"></a>In this example, the <code>Input_Pin_List</code>, <code>NLPElementPostamble</code>, and <code>Pin_Net_Map</code> properties are specified for the Flat Netlister (FNL), and the <code>hnlSilosFormatInst</code> property is specified for the Hierarchical Netlister (HNL). For the details on the use of <code>simView</code>, refer to the section <em>Library Management Commands</em> of <em>Appendix C</em> in <h-hot><a actuate="user" class="URL" href="../comphelp/appC.html#firstpage" show="replace" xml:link="simple">Virtuoso Schematic Editor L</a></h-hot>.</p>
<p>
<a id="pgfId-1032996"></a><a id="marker-1032995"></a>The template view (the symbol view in the example), provides terminal information of the device for the simulation view. The terminal declarations must be identical between different views of a cell. The connections between hierarchy and view-switching in netlisting and probing are made by the use of terminal names.</p>

<h2>
<a id="pgfId-1032999"></a>Library Maintenance <a id="Library Maintenance"></a></h2>

<p>
<a id="pgfId-1033002"></a>Because <a id="marker-1033000"></a>S/SLG can load text command files,<a id="marker-1033001"></a> you can add and/or modify the properties specified in a view by editing the text command file, then reloading that file to S/SLG. You can maintain a library by maintaining the text file that created the library.</p>
<p>
<a id="pgfId-1033003"></a>Furthermore, you can add new properties to a view. For example, to add the display scaling factor to the AND2 symbol view, use the S/SLG command <code>lmDefViewProp</code> as shown here: </p>

<pre class="webflare-courier-new codeContent">
<a id="pgfId-1033004"></a>lmDefViewProp(  and2 symbol<br />&quot;DBU per UU&quot;  =  160.0 <br />userUnits  =  &quot;inches&quot;<br />)</pre>

<p>
<a id="pgfId-1033005"></a>We recommend that you save the S/SLG command files you used to create and modify your library for future library maintenance and update. If you drew your library component symbols manually, your command file should not contain any symbol creation commands. The command file should contain only commands for creating simulation views and for adding properties to views. Save the manually drawn symbols in a separate stand-alone library so that they can be copied for future library update.</p>

<h3>
<a id="pgfId-1033008"></a><a id="marker-1033006"></a>Library Update Procedures<a id="Library Update Procedures"></a></h3>

<p>
<a id="pgfId-1033009"></a>The procedure for upgrading the symbol and simulation library to a new release of Cadence software is explained below.<a id="marker-1033010"></a></p>

<h4>
<a id="pgfId-1033012"></a><a id="marker-1033011"></a>Updating a Modified Sample Library</h4>

<p>
<a id="pgfId-1033014"></a>Use <a id="marker-1033013"></a>the following procedure to upgrade the Cadence sample library with the modifications you made to the previous version:<a id="marker-1033015"></a></p>
<ol><li>
<a id="pgfId-1033016"></a>Save your old sample library to a temporary location. </li><li>
<a id="pgfId-1033017"></a>Install the new Cadence sample library. </li><li>
<a id="pgfId-1033018"></a>If you drew symbols manually for devices you added to the Cadence sample library, copy them from the saved library into the new sample library. </li><li>
<a id="pgfId-1033020"></a>If necessary, modify the<a id="marker-1033019"></a> S/SLG command file to comply with new Cadence software requirements. </li><li>
<a id="pgfId-1033021"></a>Invoke S/SLG and load the command file to add simulation views to the newly-released Cadence sample library. <br />
<a id="pgfId-1033022"></a>If you drew your symbols manually, they are preserved in the library because your command file does not contain symbol creation commands. Conversely, if you let S/SLG draw the symbols for you, the symbol creation commands are part of the command file, and a set of additional symbol views are recreated.</li></ol>






<h4>
<a id="pgfId-1033024"></a>Updating a <a id="marker-1033023"></a>Stand-Alone Library</h4>

<p>
<a id="pgfId-1033026"></a>If you created stand-alone libraries, the library upgrading procedure is as follows:<a id="marker-1033025"></a></p>
<ol><li>
<a id="pgfId-1033027"></a>Update the S/SLG command file you used to create the stand-alone library to conform with any new Cadence software requirements. </li><li>
<a id="pgfId-1033028"></a>Save a copy of this stand-alone library to a temporary location. </li><li>
<a id="pgfId-1033029"></a>Invoke S/SLG and load the command file to recreate the library. <br />
<a id="pgfId-1033030"></a>Similar to updating a Cadence sample library, if you drew your symbols manually, they are preserved in the library because your command file does not contain any symbol creation commands. If you let S/SLG draw the symbols for you, the symbol creation commands are part of the command file, and a set of symbol views are recreated in your library.</li></ol>




<h3>
<a id="pgfId-1033032"></a>Example of Updating a Cadence Sample Library<a id="Example of Updating a Cadence Sample Library"></a></h3>

<p>
<a id="pgfId-1033034"></a>For an example of how to update a <a id="marker-1033033"></a>sample library, assume that you added new symbols for your own devices and also created new views for your own simulator. The original Cadence sample library is depicted in <h-hot><a href="chap9.html#15034"></a><xrefstd>Figure&#160;9-4<h-hot /></xrefstd></h-hot>. The modified library is shown in <h-hot><a href="chap9.html#30249"></a><xrefstd>Figure&#160;9-5<h-hot /></xrefstd></h-hot>, where you added the devices <code>mydev1</code>, <code>mydev2</code>, and the view <code>mysim</code> into the Cadence sample library. The manually drawn symbols for <code>mydev1</code> and <code>mydev2</code> were saved in the stand-alone library <code>mylib</code>. The contents of <code>mylib</code> are depicted in <h-hot><a href="chap9.html#40633"></a><xrefstd>Figure&#160;9-6</xrefstd></h-hot><h-hot />.</p>

<p><strong>Figure 9-4
<a id="pgfId-1033045"></a><a id="15034"></a>Example of the Cadence Sample Library</strong></p>
<p>
<a id="pgfId-1033092"></a></p>
<div class="webflare-div-image">
<img width="582" height="274" src="images/chap9-5.gif" /></div>
<p><strong>Figure 9-5
<a id="pgfId-1033094"></a><a id="30249"></a>Example of the Modified Cadence Sample Library</strong></p>
<p>
<a id="pgfId-1033195"></a></p>
<div class="webflare-div-image">
<img width="619" height="319" src="images/chap9-6.gif" /></div>
<p><strong>Figure 9-6
<a id="pgfId-1033197"></a><a id="40633"></a>Example of a Saved Symbol Library</strong></p>
<p>
<a id="pgfId-1033230"></a></p>
<div class="webflare-div-image">
<img width="396" height="335" src="images/chap9-7.gif" /></div>

<p>
<a id="pgfId-1033231"></a>Use the steps outlined in the &#8220;Updating a Modified Sample Library&#8221; section in this chapter to update the new Cadence sample library for your simulator. For this example, follow these steps:</p>
<ol><li>
<a id="pgfId-1033232"></a>Save the current Cadence sample library in 
<code>cds/samples/cdslib/sample</code> to a temporary location.</li><li>
<a id="pgfId-1033233"></a>Install the new release of the Cadence sample library into 
<code>cds/samples/cdslib/sample</code>. (Refer to <a href="chap9.html#15034">Figure&#160;9-4</a>.)</li><li>
<a id="pgfId-1033237"></a>Change your directory to the location of <code>mylib</code> and merge the symbols in <code>mylib</code> with the newly released Cadence sample library. (Refer to
<a href="chap9.html#40633">Figure&#160;9-6</a>.) You can use the <code>rdist</code> command to accomplish this, as follows:<br /><pre class="webflare-pre-block webflare-courier-new" id="#id1033241">
<a id="pgfId-1033241"></a>rdist  -c  mylib  cds7:/cds/samples/cdslib/sample</pre></li><li>
<a id="pgfId-1033242"></a>If required, modify the S/SLG command file that generates the <em>mysim</em> views for the <code>AND2</code>, <code>OR2</code>, <code>mydev1</code>, and <code>mydev2</code> devices to conform with new Cadence software requirements.</li><li>
<a id="pgfId-1033243"></a>Change your directory to <code>cds/samples/cdslib/sample</code>. Invoke the <code>lm</code> program, and load the command file to add the <em>mysim</em> view to the sample library.</li></ol>







<p>
<a id="pgfId-1033244"></a></p>
<p>
<a id="pgfId-1031936"></a></p>

<br /><a href="#pagetop">Return to top</a><br /></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="chap8.html" id="prev" title="Customizing Post-Layout Simulation">Customizing Post-Layout Simula ...</a></em></b><b><em><a href="appA.html" id="nex" title="Support for HED">Support for HED </a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2020, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>