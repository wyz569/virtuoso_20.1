
<html><head><title>Support for HED </title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Approver" content="Technical Publications" />
<meta name="Author" content="rgirdhar" />
<meta name="CreateDate" content="2020-08-14" />
<meta name="CreateTime" content="1597435517" />
<meta name="DataType" content="Manuals" />
<meta name="Description" content="Describes reference information about the Open Simulation System, which gives easy access to simulators supported by the Open simulation System and lets you customize and integrate new simulators into the Cadence system." />
<meta name="DocTitle" content="Open Simulation System Reference" />
<meta name="DocType" content="Reference" />
<meta name="FileTitle" content="Support for HED" />
<meta name="FileType" content="Chapter" />
<meta name="FMWikiRelease" content="FM-Wiki-3.2.1" />
<meta name="Keyword" content="ossref" />
<meta name="Language" content="English" />
<meta name="ModifiedDate" content="2020-08-14" />
<meta name="ModifiedTime" content="1597435517" />
<meta name="NextFile" content="appB.html" />
<meta name="Group" content="" />
<meta name="Platform" content="Custom IC Design" />
<meta name="PrevFile" content="chap9.html" />
<meta name="c_product" content="Virtuoso Schematic Editor" />
<meta name="Product" content="Virtuoso Schematic Editor" />
<meta name="ProductFamily" content="Virtuoso Schematic Editor" />
<meta name="ProductVersion" content="ICADVM20.1" />
<meta name="RightsManagement" content="Copyright 2012-2020 Cadence Design Systems Inc." />
<meta name="Title" content="Open Simulation System Reference -- Support for HED" />
<meta name="Keywords" content="" />
<meta name="topic_type" content="" />
<meta name="reference_type" content="" />
<meta name="prod_feature" content="" />
<meta name="prod_subfeature" content="" />
<meta name="new_topic" content="No" />
<meta name="spotlight_topic" content="0" />
<meta name="Version" content="ICADVM20.1" />
<meta name="SpaceKey" content="ossrefICADVM201" />
<meta name="webflare-version" content="2.0" />
<link rel="stylesheet" href="styles/webflare.css" type="text/css" /></head><body style="background-color: #FFFFFF;"><a name="pagetop"></a>
<!-- Begin Buttons -->
<header><div class="docHeadr">Product Documentation<img src="icons/Cadence-Logo.jpg" /></div><nav class="blueHead"><ul><li><a class="content" href="ossrefTOC.html">Contents</a></li><li><a class="prev" href="chap9.html" title="Generating a Library">Generating a Library</a></li><li style="float: right;"><a class="viewPrint" href="ossref.pdf">View/Print PDF</a></li><li style="float: right;margin-right: 25px;"><a class="nextd" href="appB.html" title="Troubleshooting: Bus Direction">Troubleshooting: Bus Direction</a></li></ul></nav></header>
<!-- End Buttons -->
<h5><center>Open Simulation System Reference<br />Product Version ICADVM20.1, October 2020</center></h5><div id="main-content" style="min-height: 50vh; margin-left: 5%; margin-right: 2%;"><a name="#firstpage"></a>

<h1>A
<a id="pgfId-1032287"></a></h1>
<h1>
<a id="pgfId-1033465"></a><hr />
Support for HED <hr />
</h1>

<p>
<a id="pgfId-1033471"></a>Hierarchy Editor (HED) lets you view many levels of a single design using table/tree views. It also helps you create and update configurations to traverse the design hierarchy; change global library, view, and stop lists; change cell and instance bindings and so on. This appendix chapter details the ways in which OSS supports HED. </p>
<p>
<a id="pgfId-1033472"></a>For more information on these new features, see the <em><a actuate="user" class="URL" href="../cdshiereditor/cdshiereditorTOC.html" show="replace" xml:link="simple">Cadence Hierarchy Editor User Guide</a></em>.</p>
<p>
<a id="pgfId-1034503"></a>OSS had been supporting standard features of HED, such as cell/instance bindings and <a href="appA.html#96233">Bind to Open</a>. </p>
<p>
<a id="pgfId-1034505"></a>From 5.2.51, OSS also supports the following features of HED.</p>
<ul><li>
<a id="pgfId-1034506"></a>Nested/Sub-Configurations &#8211; A nested configuration, also known as a sub-configuration is a configuration that is defined within another configuration. A sub-config can be nested at any level in a parent configuration.</li><li>
<a id="pgfId-1033481"></a>Occurrence Binding &#8211; Occurrence bindings are configuration rules that are defined at the occurrence level. An occurrence is an object that is defined by the full path from the top-level design to that object. In the hierarchy editor, setting any of the following attributes identifies the object as an occurrence:<ul><li>
<a id="pgfId-1033482"></a>Occurrence binding, that is, library, cell, and view binding</li><li>
<a id="pgfId-1033483"></a>Occurrence stop point. See the subsection Occurrence Level under Stop Points.</li><li>
<a id="pgfId-1033484"></a>Occurrence-Level Bind-to-Open. You can specify that an occurrence is unbound, that is, it is not bound to a specific library, cell or view, by setting a bind-to-open attribute on it. The bindings for the occurrence can be set later by other tools that use the configuration. </li></ul></li><li>
<a id="pgfId-1033486"></a>Stop Points &#8211; A stop point on a design unit prevents the design unit from being expanded when the hierarchy is expanded. It can be applied at three levels:<ul><li>
<a id="pgfId-1033487"></a>Cell level &#8211; A stop point on a cell prevents the cell from being expanded when the hierarchy is expanded. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1034611"></a>A stop point on a cell applies to all occurrences of the cell.</div></li><li>
<a id="pgfId-1033491"></a>Instance (within a cell) level &#8211; You can specify a stop point on a single instance within a cell to prevent the instance from being expanded when the hierarchy is expanded. <br /><div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1034621"></a>A stop point on an instance can apply to multiple objects. If the cell that contains the instance is used in multiple places in the design, the stop point applies to the instance in all these places.</div></li><li>
<a id="pgfId-1033492"></a>Occurrence level &#8211; An occurrence stop point is a stop point on a specific path and applies only to one instance in the design. If an object has already been defined as an occurrence, when you add a stop point you are automatically adding it to the occurrence and not to the instance.</li></ul><br />
<a id="pgfId-1033493"></a>Cell and instance level stop points may be specified using the <code>nlAction</code> property on a cell and instance respectively. There is no other method to specify an occurrence stop point.</li></ul>











<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1033494"></a>The occurrence/instance stop point feature lets you add a stop point at one instance of a master while the other instance can continue to be a hierarchical cell. With the current implementation, OSS adds a cell to the stop cell list if it encounters a stop point on some occurrence/instance of the master. After this, if one of the occurrences/instances (of the same master) is encountered without a stop point, the cell is also added to the hierarchical cell list. Thus, the netlister determines whether to treat the cell as a stop cell or a hierarchical cell.</div>
<p>
<a id="pgfId-1033495"></a>OSS supports these features when the SKILL flag <code>simSupportNewConfig</code> is set for netlisters. </p>

<h2>
<a id="pgfId-1033496"></a>APIs Modified to Support these Features</h2>

<p>
<a id="pgfId-1033562"></a>The following APIs have been modified to support these new HED features.</p>
<ul><li>
<a id="pgfId-1034450"></a><code>hnlMapCellModuleName</code></li><li>
<a id="pgfId-1034451"></a><code>hnlWriteBlockControlFile</code></li><li>
<a id="pgfId-1034452"></a><code>hnlMakeNetlistFileName</code></li><li>
<a id="pgfId-1034453"></a><code>hnlMapCellName</code></li><li>
<a id="pgfId-1034454"></a><code>hnlGetGlobalModelMappedName</code></li><li>
<a id="pgfId-1034455"></a><code>hnlCellInAllCells</code></li><li>
<a id="pgfId-1033525"></a><code>hnlMapModelName</code></li></ul>







<h2>
<a id="pgfId-1033467"></a><a id="96233"></a>Bind to Open</h2>

<p>
<a id="pgfId-1033533"></a>OSS also supports Hierarchical Database &#8220;bind to open&#8221; (or in other words &#8220;bind to a NULL design unit&#8221; ).</p>
<p>
<a id="pgfId-1033534"></a>The binding specified through HED (Hierarchical Editor) can bind an instance to a NULL design unit or to a library/cell/view. The instances that are bound to a NULL design unit are termed as &#8220;bind to open&#8221;.</p>
<p>
<a id="pgfId-1033535"></a>The following describes the changes in the respective packages to handle this feature.</p>
<ul><li>
<a id="pgfId-1032693"></a>HNL: The Hierarchical Netlister (HNL) will not contain instance declaration for those instances which are bind to a NULL design unit, since OSS will ignore all such instances.</li><li>
<a id="pgfId-1032823"></a>FNL: The Flat Netlister (FNL) will not contain instance declaration for those instances which are bind to a NULL design unit, since OSS will ignore all such instances.</li><li>
<a id="pgfId-1032824"></a>MAP: The mapping functions for such instances will now generate errors since the instances which were bound to a NULL design unit were ignored by OSS.</li><li>
<a id="pgfId-1032843"></a>GENLD2: For the Genld APIs, there will be no change. Error message will be given for such instances.</li></ul>




<h2>
<a id="pgfId-1032932"></a>Handling of views without DFII-DB data by OSS</h2>

<p>
<a id="pgfId-1032951"></a>Consider an example in which cell <code>TOP</code> has <code>2</code> instances, <code>I1</code> and<code> I2 </code>of <code>BOT </code>cell. Both these reside in library <code>LIB</code>. The cell <code>BOT</code> has instances of stopping cells.</p>

<cellbody id="#id1032965">
<a id="pgfId-1032965"></a>
<div class="webflare-div-image">
<img width="643" height="212" src="images/appA-2.gif" /></div>
<cellbody id="#id1033032">
<a id="pgfId-1033032"></a>

<ul><li>
<a id="pgfId-1032967"></a>The available view for TOP is <code>schematic.</code> </li><li>
<a id="pgfId-1033154"></a>The available views for BOT are <code>text, schematic and symbol.</code></li></ul>

<p>
<a id="pgfId-1032970"></a>Consider the scenarios in which <code>text</code> view could be created.</p>
<p>
<a id="pgfId-1033070"></a><strong>Scenario 1:</strong> By Virtuoso import tools, it will have all files (<code>pc.db, master.tag, BOT.v and BOT.oa</code>), but <code>master.tag</code> file will have entry for BOT.v rather than BOT.oa. So, this OA data is sometimes called shadow OA.</p>
<p>
<a id="pgfId-1032972"></a><strong>Scenario 2A:</strong> By non-Virtuoso import tools (e.g: <code>ncvlog -use5x</code>), though the 5.X directory structure will be created (<code>lib/cell/view</code>) and supporting files in view (<code>pc.db, *.v </code>etc.), but OA data (<code>*.oa</code>) required by OSS (DFII-DB) will not be created.</p>
<p>
<a id="pgfId-1032973"></a><strong>Scenario 2B:</strong> By non-Virtuoso import tools, but the design is opened and saved. This will create OA data and also overwrite &#8216;pc.db&#8217; file.</p>
<p>
<a id="pgfId-1032974"></a>OA has a characteristic of explicitly binding instances to a <code>LIB:CELL</code>, which is an OSS characteristic too, only view can be switched either through config or without config. </p>
<p>
<a id="pgfId-1032975"></a>The binding of instances to views can done in one the following ways:</p>
<p>
<a id="pgfId-1032976"></a><strong>Case A: </strong>Without using config i.e. simply specify <code>simViewList</code>(<code>&quot;text&quot; &quot;schematic&quot; &quot;symbol&quot;</code>).</p>
<p>
<a id="pgfId-1032977"></a><strong>Case B: </strong>Use Hierarchy Editor to create a config for TOP and bind <code>I1</code> to &#8216;text&#8217; view and <code>I2</code> to schematic (explicit binding).</p>
<p>
<a id="pgfId-1032978"></a><strong>Case C:</strong> Use Hierarchy Editor to create a config for TOP, and do not bind <code>I1</code> to any view. Instead, associate it with global view list (implicit binding) and <code>I2</code> to schematic (explicit binding).</p>
<p>
<a id="pgfId-1033452"></a></p>
<table class="webflareTable" id="#id1033417">
<caption style="text-align:left;"><p>
</p><h4>Table A-1
<a id="pgfId-1033419"></a>: Behavior of OSS in all scenarios</h4></caption>
<tbody><tr>
<th class="webflareTh" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033427"></a></p>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1033429">
<a id="pgfId-1033429"></a><strong>Scenario 1</strong></span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1033431">
<a id="pgfId-1033431"></a><strong>Scenario 2A</strong></span>
</th>
<th class="webflareTh" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1033433">
<a id="pgfId-1033433"></a><strong>Scenario 2B</strong></span>
</th>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1033435">
<a id="pgfId-1033435"></a><strong>Case A</strong></span>
<span class="tbl-head" id="#id1033436">
<a id="pgfId-1033436"></a></span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033438"></a>OSS will first try to open the TOP text view. If for any reason, it is unable to open it, it will move to the next available view without giving any warning or error message.</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033440"></a>As OA data is missing for text view, OSS will move to the next available view without giving any warning or error message.OSS cannot give any warning or error message, because this will be a costly operation without much value add.</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033442"></a>OSS will first try to open the TOP text view.If for any reason, it is unable to open it, it will move to the next available view without giving any warning or error message.</p>
</td>
</tr>
<tr>
<td class="webflareTd" colspan="1" rowspan="1">
<span class="tbl-head" id="#id1033444">
<a id="pgfId-1033444"></a><strong>Case B Case C</strong></span>
<span class="tbl-head" id="#id1033445">
<a id="pgfId-1033445"></a></span>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033447"></a>OSS will try to open the <code>text</code> view. If it is unable to open the view, then it will give an error message.</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033449"></a>OSS will give an error message as there is explicit binding and no OA data is present.</p>
</td>
<td class="webflareTd" colspan="1" rowspan="1">
<p>
<a id="pgfId-1033451"></a>OSS will try to open the <code>text</code> view. If it is unable to open the view, then it will give an error message.</p>
</td>
</tr>
</tbody></table>
<div class="webflare-information-macro webflare-macro-note">
<a id="pgfId-1033179"></a>The views generated by the Hierarchy Editor are read differently by Diva and Assura. Although both read a part of the configuration and the environment variables, Assura overrides the device into a file, while Diva overrides or ignores the config file information.</div>

<br /><a href="#pagetop">Return to top</a><br /></cellbody></cellbody></div>
<!-- Begin Buttons --><!-- End Buttons -->
<footer><nav class="navigation"><b><em><a href="chap9.html" id="prev" title="Generating a Library">Generating a Library</a></em></b><b><em><a href="appB.html" id="nex" title="Troubleshooting: Bus Direction">Troubleshooting: Bus Direction</a></em></b></nav><div>
            For further assistance, contact <a href="https://support.cadence.com">Cadence Online Support</a>. Copyright &#169; 2020, <a href="https://www.cadence.com">Cadence Design Systems, Inc.</a> All rights reserved. 
          </div></footer>
</body></html>